{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/game/build.intermediate/client/client/account_ui.js","dist/game/build.intermediate/client/client/app.js","dist/game/build.intermediate/client/client/galaxy.js","dist/game/build.intermediate/client/glov/client/glov/bootstrap.js","dist/game/build.intermediate/client/glov/client/glov/browser.js","dist/game/build.intermediate/client/glov/client/glov/camera2d.js","dist/game/build.intermediate/client/glov/client/glov/chat_ui.js","dist/game/build.intermediate/client/glov/client/glov/cmds.js","dist/game/build.intermediate/client/glov/client/glov/edit_box.js","dist/game/build.intermediate/client/glov/client/glov/effects.js","dist/game/build.intermediate/client/glov/client/glov/engine.js","dist/game/build.intermediate/client/glov/client/glov/error_report.js","dist/game/build.intermediate/client/glov/client/glov/fbinstant.js","dist/game/build.intermediate/client/glov/client/glov/filewatch.js","dist/game/build.intermediate/client/glov/client/glov/font.js","dist/game/build.intermediate/client/glov/client/glov/framebuffer.js","dist/game/build.intermediate/client/glov/client/glov/friends.js","dist/game/build.intermediate/client/glov/client/glov/geom.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/decode-utf8.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/gltf-type-utils.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/parser.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/unpack-binary-json.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/unpack-glb-buffers.js","dist/game/build.intermediate/client/glov/client/glov/in_event.js","dist/game/build.intermediate/client/glov/client/glov/input.js","dist/game/build.intermediate/client/glov/client/glov/link.js","dist/game/build.intermediate/client/glov/client/glov/local_storage.js","dist/game/build.intermediate/client/glov/client/glov/mat43.js","dist/game/build.intermediate/client/glov/client/glov/models.js","dist/game/build.intermediate/client/glov/client/glov/net.js","dist/game/build.intermediate/client/glov/client/glov/net_position_manager.js","dist/game/build.intermediate/client/glov/client/glov/particles.js","dist/game/build.intermediate/client/glov/client/glov/perf.js","dist/game/build.intermediate/client/glov/client/glov/pointer_lock.js","dist/game/build.intermediate/client/glov/client/glov/polyfill.js","dist/game/build.intermediate/client/glov/client/glov/rand_alea.js","dist/game/build.intermediate/client/glov/client/glov/rand_fast.js","dist/game/build.intermediate/client/glov/client/glov/scroll_area.js","dist/game/build.intermediate/client/glov/client/glov/settings.js","dist/game/build.intermediate/client/glov/client/glov/shaders.js","dist/game/build.intermediate/client/glov/client/glov/sound.js","dist/game/build.intermediate/client/glov/client/glov/sprite_animation.js","dist/game/build.intermediate/client/glov/client/glov/sprites.js","dist/game/build.intermediate/client/glov/client/glov/subscription_manager.js","dist/game/build.intermediate/client/glov/client/glov/textures.js","dist/game/build.intermediate/client/glov/client/glov/transition.js","dist/game/build.intermediate/client/glov/client/glov/ui.js","dist/game/build.intermediate/client/glov/client/glov/urlhash.js","dist/game/build.intermediate/client/glov/client/glov/vmath.js","dist/game/build.intermediate/client/glov/client/glov/walltime.js","dist/game/build.intermediate/client/glov/client/glov/webfs.js","dist/game/build.intermediate/client/glov/words/client/glov/words/profanity.js","dist/game/build.intermediate/client/glov/client/glov/wsclient.js","dist/game/build.intermediate/client/img/font/04b03_8x1.json","dist/game/build.intermediate/client/img/font/04b03_8x2.json","dist/game/build.intermediate/client/img/font/palanquin32.json","dist/game/build.intermediate/client/client/main.js","dist/game/build.intermediate/client/client/multiplayer.js","dist/game/build.intermediate/client/client/particle_data.js","dist/game/build.intermediate/client/client/solar_system.js","dist/game/build.intermediate/client/client/star_types.js","dist/game/build.intermediate/common/common/ack.js","dist/game/build.intermediate/common/common/async.js","dist/game/build.intermediate/common/dist/game/build.intermediate/common/common/base64.js","dist/game/build.intermediate/common/common/cmd_parse.js","dist/game/build.intermediate/common/common/enums.js","dist/game/build.intermediate/common/common/md5.js","dist/game/build.intermediate/common/dist/game/build.intermediate/common/common/packet.js","dist/game/build.intermediate/common/common/tiny-events.js","dist/game/build.intermediate/common/common/util.js","dist/game/build.intermediate/common/words/common/words/profanity_common.js","dist/game/build.intermediate/common/common/wscommon.js"],"names":[],"mappings":"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E,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,GACT,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,EACR,EAAE,EAAE,EAAE,EAAE,IAEX,OAAO,UAAU,gBAAkB,SAAU,UAAW,UAAU,IAC1D,QAAsC,KAAtC,QAAS,SAA6B,KAA7B,SAAU,eAAmB,KAAnB,eACzB,IAAI,KAAO,KAAK,QAAQ,UAAW,UACnC,GAAI,KAAK,IAAK,CACZ,OAAO,KAJuD,IAM1D,KAAgD,KAAhD,KAAM,KAA0C,KAA1C,KAAM,GAAoC,KAApC,GAAI,GAAgC,KAAhC,GAAI,EAA4B,KAA5B,EAAG,MAAyB,KAAzB,MAAO,MAAkB,KAAlB,MAAO,GAAW,KAAX,GAAI,GAAO,KAAP,GAC/C,IAAK,MAAO,CAEV,OAAO,KAET,IAAI,UAAY,IAAI,WAAY,WAChC,GAAI,WAAa,WAAY,CAC3B,KAAO,KAAK,SAEZ,IAAK,IAAI,IAAM,EAAG,IAAM,IAAK,GAAI,CAC/B,IAAI,GAAK,GAAK,GACd,GAAI,GAAK,GAAK,IAAM,UAAW,CAC7B,SAEF,IAAK,IAAI,IAAM,EAAG,IAAM,IAAK,GAAI,CAC/B,IAAI,GAAK,GAAK,GACd,IAAK,KAAO,IAAM,GAAK,GAAK,IAAM,UAAW,CAC3C,SAEF,IAAI,EAAI,KAAK,QAAQ,UAAW,GAAK,GAAK,WAC1C,IAAK,EAAE,MAAO,CACZ,OAAO,UAKb,OAAO,gBAET,IAAI,QAAU,IAAI,EAAG,KAAK,OAAO,UACjC,GAAI,YAAc,QAAS,CACzB,IAAK,IAAI,GAAK,EAAG,GAAK,iBAAkB,GAAI,CAC1C,SAAS,GAAK,EAAI,GAAK,EACvB,SAAS,GAAK,EAAI,GAAK,EACvB,SAAS,GAAK,EAAI,GAAK,EACvB,SAAS,GAAK,EAAI,GAAK,IAGzB,IAAK,IAAI,MAAK,EAAG,MAAK,MAAM,SAAU,MAAI,CACxC,IAAI,KAAO,MAAM,OADuB,IAElC,EAAsB,KAAtB,EAAG,EAAmB,KAAnB,EAAG,KAAgB,KAAhB,KAAM,EAAU,KAAV,EAAG,GAAO,KAAP,GACrB,IAAI,IAAM,UAAU,IACpB,EAAI,OAAO,EAAI,IAAM,EAAI,SACzB,EAAI,OAAO,EAAI,IAAM,EAAI,SACzB,EAAI,IAAI,EAAG,IAAI,QAAU,EAAI,EAAG,IAChC,EAAI,IAAI,EAAG,IAAI,QAAU,EAAI,EAAG,IAChC,IAAI,KAAO,EAAI,EAAI,SAAW,EAC9B,IAAI,KAAO,cAAc,MACzB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,OAAQ,IAAI,EAAG,CACxC,IAAI,GAAK,MAAM,MAAM,EAAI,KAAK,IAAM,KAAM,EAAG,KAC7C,IAAI,GAAK,KAAK,GAAG,GACjB,IAAI,GAAK,KAAK,GAAG,GACjB,IAAI,KAAK,EAAI,GACb,IAAI,KAAK,EAAI,GACb,GAAI,KAAK,GAAK,MAAM,SAAW,KAAK,GAAK,MAAM,QAAS,CACtD,SAEF,IAAI,GAAK,GAAK,GAAK,SAAW,EAC9B,SAAS,IAAM,GAAK,IAAI,SAAS,IAAM,GAAI,IAC3C,SAAS,IAAM,EAAI,GAAK,IAAI,SAAS,IAAM,EAAI,GAAI,WAGlD,CAAA,IACC,QAAY,KAAZ,QACN,IAAK,IAAI,MAAK,EAAG,MAAK,iBAAkB,MAAI,CAC1C,IAAI,GAAI,KAAK,OACb,SAAS,MAAK,EAAI,GAAK,MAAM,MAAM,GAAI,KAAM,EAAG,KAChD,SAAS,MAAK,EAAI,GAAK,QAAU,QAAQ,OAAM,EAC/C,SAAS,MAAK,EAAI,GAAK,IAIzB,IAAK,IAAI,MAAK,EAAG,MAAK,KAAK,SAAU,MAAI,CACvC,IAAI,IAAM,KAAK,OADwB,IAEjC,IAAkB,IAAlB,EAAG,IAAe,IAAf,EAAG,MAAY,IAAZ,KAAM,IAAM,IAAN,EAClB,IAAI,OAAO,IAAI,IAAM,EAAI,SACzB,IAAI,OAAO,IAAI,IAAM,EAAI,SACzB,IAAI,OAAO,IAAI,IAAI,SAAW,EAC9B,IAAI,MAAO,cAAc,OACzB,IAAK,IAAI,IAAK,EAAG,IAAK,MAAK,OAAQ,KAAI,EAAG,CACxC,IAAI,IAAK,MAAM,MAAM,IAAI,MAAK,KAAM,KAAM,EAAG,KAC7C,IAAI,KAAK,MAAK,IAAG,GACjB,IAAI,KAAK,MAAK,IAAG,GACjB,IAAI,KAAK,IAAI,KACb,IAAI,KAAK,IAAI,KACb,GAAI,KAAK,GAAK,MAAM,SAAW,KAAK,GAAK,MAAM,QAAS,CACtD,SAEF,IAAI,KAAK,KAAK,KAAK,SAAW,EAC9B,SAAS,MAAM,IAAI,GAAK,IAAI,SAAS,MAAM,IAAI,GAAI,KACnD,SAAS,MAAM,IAAI,GAAK,IAAI,SAAS,MAAM,IAAI,GAAI,KAKzD,GAAI,OAAO,OAAS,MAAO,CACzB,IAAI,IAAM,UAAU,WACpB,GAAI,IAAK,CACP,IAAK,IAAI,MAAI,EAAG,KAAK,EAAG,KAAK,IAAK,KAAI,CACpC,IAAK,IAAI,KAAK,EAAG,KAAK,IAAK,OAAK,MAAK,CACnC,IAAI,MAAQ,KAAK,QAAU,MAAM,EACjC,IAAK,IAAI,MAAK,EAAG,MAAK,IAAK,MAAI,CAC7B,SAAS,KAAO,OAAM,IAAI,OAAO,IAAM,MAOjD,GAAI,SAAS,OAAQ,CACnB,KAAK,IAAM,SAAS,MACpB,KAAK,IAAI,WAAW,QAAS,QAAS,cACjC,GACH,OAAO,IACT,KAAK,IAAM,SAAS,KAAK,CACvB,KAAI,aAAc,WAClB,OAAQ,SAAS,OAAO,MACxB,MAAO,QACP,OAAQ,QACR,KAAM,SACN,WAAY,GAAG,QACf,WAAY,GAAG,QACf,OAAQ,GAAG,cACX,OAAQ,GAAG,gBAIf,GAAI,KAAK,SAAU,CACjB,cAAc,KAAK,KAAK,UACxB,KAAK,SAAW,KAElB,GAAI,KAAK,QAAS,CAChB,aAAa,KAAK,KAAK,SACvB,KAAK,QAAU,KAEjB,OAAO,MAIJ,SAAS,OAAO,GAAI,GAAI,GAAI,IACjC,IAAI,GAAK,GAAK,GACd,IAAI,GAAK,GAAK,GACd,OAAO,GAAG,GAAK,GAAG,GAGpB,CACE,IAAM,GAAK,CAAC,EAAG,GAAI,GACnB,IAAM,GAAK,CAAC,EAAG,GAAI,GACnB,OAAO,UAAU,UAAY,SAAU,EAAG,EAAG,KAAK,IAC1C,OAAW,KAAX,OACN,IAAI,UAAY,UAAY,EAC5B,IAAI,MAAQ,OAAO,WACnB,IAAK,MAAO,CACV,MAAO,GAET,IAAI,UAAY,IAAI,WAAY,WAChC,IAAI,GAAK,MAAM,EAAI,WACnB,IAAI,GAAK,MAAM,EAAI,WACnB,IAAI,QAAU,IAAI,MAAM,KACxB,IAAK,IAAI,IAAM,EAAG,KAAO,IAAK,IAAK,CACjC,IAAI,GAAK,GAAK,GAAG,KACjB,GAAI,GAAK,GAAK,IAAM,UAAW,CAC7B,SAEF,IAAK,IAAI,IAAM,EAAG,KAAO,IAAK,IAAK,CACjC,IAAI,GAAK,GAAK,GAAG,KACjB,GAAI,GAAK,GAAK,IAAM,UAAW,CAC7B,SAEF,IAAI,SAAW,GAAK,UAAY,GAChC,IAAI,KAAO,MAAM,UACjB,IAAK,OAAS,KAAK,MAAO,CAExB,SAT+B,IAW3B,MAAU,KAAV,MACN,IAAK,IAAI,GAAK,EAAG,GAAK,MAAM,SAAU,GAAI,CACxC,IAAI,KAAO,MAAM,IACjB,KAAK,UAAY,OAAO,EAAG,EAAG,KAAK,EAAG,KAAK,GAC3C,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,MAAQ,QAAQ,IACpB,IAAK,MAAO,CACV,QAAQ,IAAM,KACd,MAEF,GAAI,KAAK,UAAY,MAAM,UAAW,CACpC,QAAQ,IAAM,KACd,KAAO,UAMjB,OAAO,SAIX,OAAO,UAAU,YAAc,SAAU,MACvC,IAAK,KAAK,aAAc,CACtB,KAAK,aAAe,kBAAkB,KAAK,OAAO,KAAM,MAE1D,OAAO,MAGT,OAAO,UAAU,QAAU,WAAY,IAC/B,OAAW,KAAX,OACN,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,SAAU,GAAI,CACzC,IAAI,MAAQ,OAAO,IACnB,IAAK,IAAI,OAAO,MAAO,CACrB,IAAI,KAAO,MAAM,KACjB,GAAI,KAAK,IAAK,CACZ,SAAS,KAAK,KAAK,KACnB,KAAK,IAAM,SAMnB,IAAI,UAAY,KAAK,UAAU,OAAQ,UAAW,GAClD,YAAY,WACV,IAAI,IAAM,KAAK,UAAU,OAAQ,UAAW,GAC5C,GAAI,YAAc,IAAK,CACrB,UAAY,IACZ,QAAQ,IAAI,OAEb,KAGI,SAAS,aAAa,QAC3B,OAAO,IAAI,OAAO;;;;aC/iCpB,QAAQ,iBAER,IAAI,MAAQ,SAAS,eAAe,SACpC,OAAO,QAAU,SAAU,EAAG,KAAM,KAAM,IAAK,UAC7C,IAAI,IAAS,EAAT,UAAoB,KAApB,IAA4B,KAA5B,IAAoC,IAApC,IACJ,GAAI,UAAY,SAAS,MAAO,CAC9B,IAAA,GAAS,SAAS,MAClB,GAAI,SAAS,QAAS,CACpB,GAAI,IAAI,QAAQ,SAAS,YAAc,EAAG,CACxC,IAAS,SAAS,QAAlB,KAA8B,KAGlC,IAAI,OAAS,SAAS,SAAS,QAAU,GACzC,GAAI,OAAQ,CACV,GAAI,OAAO,OAAO,KAAO,IAAK,CAC5B,QAAU,IAEZ,IAAM,IAAI,MAAM,QAAQ,KAAK,IAG/B,IAAM,IAAI,QAAQ,YAAa,IAC5B,QAAQ,UAAW,KACnB,QAAQ,YAAa,UAE1B,IAAI,KAAO,KACX,GAAI,OAAO,kBAAmB,CAC5B,KAAO,OAAO,kBAAkB,IAAK,KAAM,KAAM,KAEnD,GAAI,KAAM,CACR,MAAM,UAAe,IAArB,8EAGJ,OAAO,SAAW,SAAU,IAAK,OAC/B,GAAI,MAAO,CACT,MAAM,UAAY,QACb,CACL,MAAM,WAAgB,IAAtB;;;;+ICzCJ,IAAI,GAAK,OAAO,UAAU,UACnB,IAAI,QAAU,OAAO,UAAY,GAAG,MAAM,oB,sBAC1C,IAAI,iBAAmB,GAAG,MAAM,kB,0CAChC,IAAI,YAAc,kBAAoB,GAAG,MAAM,Y,8BAC/C,IAAI,UAAY,GAAG,MAAM,W,4BACzB,IAAI,cAAgB,QAAU,YAAc,GAAG,MAAM,U,oCAErD,IAAI,gBAAkB,M,wCAE7B,SAAS,OACP,IAAI,OAAS,SAAS,cAAc,UACpC,OAAO,MAAQ,EACf,OAAO,OAAS,EAChB,IAAI,OAAS,OAAO,WAAW,SAC/B,IAAI,WAAa,OAAO,aAAa,6BACrC,GAAI,WAAY,CACd,IAAI,kBAAoB,OAAO,aAAa,WAAW,yBACvD,QAAA,gBAAA,gBAAkB,QAAQ,mBAAqB,kBAAkB,MAAM,oBAG3E;;;;8sCChBA,IAAM,OAAS,QAAQ,e,IAEf,IAAe,KAAf,IAAK,MAAU,KAAV,MAEb,IAAM,aAAe,IAAI,aAAa,GAc/B,IAAM,KAAO,IAAI,aAAa,I,kBAErC,IAAI,aACJ,IAAI,cAEJ,IAAI,aACJ,IAAI,cACG,IAAI,kB,4CACJ,IAAI,kB,4CACJ,IAAI,gB,wCACX,IAAI,oBACG,IAAI,uB,sDAEX,SAAS,UACP,GAAI,aAAc,CAChB,KAAK,GAAK,cAAgB,KAAK,GAAK,KAAK,IACzC,KAAK,GAAK,eAAiB,KAAK,GAAK,KAAK,IAC1C,KAAK,IAAM,KAAK,GAAK,KAAK,IAAM,kBAChC,KAAK,IAAM,KAAK,GAAK,KAAK,IAAM,sBAC3B,CACL,KAAK,GAAK,cAAgB,KAAK,GAAK,KAAK,IACzC,KAAK,GAAK,eAAiB,KAAK,GAAK,KAAK,KAKvC,SAAS,gBAAgB,IAAK,KACnC,IAAI,IAAM,IAAI,GAAK,KAAK,IAAM,KAAK,GACnC,IAAI,IAAM,IAAI,GAAK,KAAK,IAAM,KAAK,GAG9B,SAAS,gBAAgB,IAAK,KACnC,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,GACjC,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,GAGnC,SAAS,kBACP,OAAO,IAAI,EAAG,aAAe,aAAa,GAAK,aAAa,IAG9D,SAAS,mBACP,OAAO,IAAI,EAAG,cAAgB,aAAa,GAAK,aAAa,IAKxD,SAAS,IAAI,GAAI,GAAI,GAAI,GAAI,kBAClC,GAAI,kBAAoB,aAAc,CACpC,KAAK,GAAK,KAAK,GAAK,GACpB,KAAK,IAAM,KAAK,GAAK,GACrB,KAAK,IAAM,KAAK,GAAK,GACrB,KAAK,IAAM,KAAK,GAAK,OAChB,CACL,KAAK,GAAK,GACV,KAAK,IAAM,GACX,KAAK,IAAM,GACX,KAAK,IAAM,GACX,IAAI,QAAU,GAAK,IAAM,kBACzB,IAAI,QAAU,GAAK,IAAM,mBACzB,KAAK,GAAK,GAAK,aAAa,GAAK,OACjC,KAAK,GAAK,GAAK,aAAa,GAAK,OACjC,KAAK,GAAK,GAAK,aAAa,GAAK,OACjC,KAAK,GAAK,GAAK,aAAa,GAAK,OAGnC,UAGK,SAAS,mBAAmB,KAAM,MAAO,IAAK,QACnD,aAAa,GAAK,MAAM,MACxB,aAAa,GAAK,MAAM,OACxB,aAAa,GAAK,MAAM,KACxB,aAAa,GAAK,MAAM,QAInB,SAAS,kBACd,OAAO,aAGT,IAAM,MAAQ,GACP,SAAS,OACd,MAAM,KAAK,KAAK,MAAM,IAEjB,SAAS,MACd,IAAI,IAAM,MAAM,MAChB,IAAK,IAAI,GAAK,EAAG,GAAK,IAAI,SAAU,GAAI,CACtC,KAAK,IAAM,IAAI,IAEjB,UAGK,SAAS,mBACd,OAAO,KAAK,GAGP,SAAS,eACd,OAAO,kBACL,mBAOG,SAAS,eAAe,EAAG,GAChC,IAAI,GAAK,aAAe,EAAI,OAAO,aACnC,IAAI,WAAa,EAAI,GAAK,EAC1B,IAAI,mBACJ,GAAI,aAAc,CAChB,mBAAqB,cAAgB,iBAChC,CACL,mBAAqB,EAAI,eAE3B,GAAI,WAAa,mBAAoB,CACnC,IAAI,QAAU,EAAI,GAAK,mBAAqB,GAAK,EACjD,KAAK,OAAQ,EAAG,EAAI,OAAQ,EAAG,WAC1B,CACL,IAAI,SAAU,EAAI,GAAK,mBAAqB,GAAK,EACjD,IAAI,GAAI,QAAQ,EAAG,EAAI,QAAQ,QAU5B,SAAS,gBAAgB,EAAG,GACjC,IAAI,GAAK,aAAe,EAAI,OAAO,aACnC,IAAI,WAAa,EAAI,GAAK,EAC1B,IAAI,mBACJ,GAAI,aAAc,CAChB,mBAAqB,cAAgB,iBAChC,CACL,mBAAqB,EAAI,eAE3B,GAAI,WAAa,mBAAoB,CACnC,IAAI,OAAU,EAAI,GAAK,mBAAqB,EAC5C,IAAI,EAAG,EAAG,EAAI,OAAQ,EAAG,WACpB,CACL,IAAI,SAAU,EAAI,GAAK,mBAAqB,EAC5C,IAAI,EAAG,EAAG,EAAG,EAAI,SAAQ,QAItB,SAAS,KAAK,EAAG,EAAG,QACzB,IAAI,WAAa,EAAM,OACvB,IACE,GAAK,EAAI,KAAK,IAAM,WACpB,GAAK,EAAI,KAAK,IAAM,WACpB,GAAK,KAAK,GAAK,GAAK,WACpB,GAAK,KAAK,GAAK,GAAK,WAAY,MAM7B,SAAS,QAAQ,IAAK,SAAU,WACrC,IAAI,MAAQ,KAAK,IAAM,KAAK,GAC5B,IAAI,MAAQ,KAAK,IAAM,KAAK,IAC5B,IAAI,IAAM,SAAS,GAAK,MACxB,IAAI,IAAM,SAAS,GAAK,MACxB,IAAI,IAAM,SAAS,GAAK,MACxB,IAAI,IAAM,SAAS,GAAK,MACxB,IAAI,GAAK,IAAM,IACf,IAAI,GAAK,IAAM,IACf,IAAI,QAAU,UAAU,GAAK,UAAU,GACvC,IAAI,QAAU,UAAU,GAAK,UAAU,GACvC,IAAI,GAAK,UAAU,GAAK,QAAU,GAAK,IACvC,IAAI,GAAK,UAAU,GAAK,QAAU,GAAK,IACvC,IAAI,GAAK,UAAU,GAAK,QAAU,IAAM,EAAI,KAC5C,IAAI,GAAK,UAAU,GAAK,QAAU,IAAM,EAAI,KAGvC,SAAS,gBACd,IAAI,EAAG,EAAG,EAAG,EAAG,MAGX,SAAS,SACd,OAAO,KAAK,GAEP,SAAS,SACd,OAAO,KAAK,GAEP,SAAS,SACd,OAAO,KAAK,GAEP,SAAS,SACd,OAAO,KAAK,GAEP,SAAS,QACd,OAAO,KAAK,GAAK,KAAK,GAEjB,SAAS,QACd,OAAO,KAAK,GAAK,KAAK,GAEjB,SAAS,KACd,OAAO,KAAK,GAEP,SAAS,KACd,OAAO,KAAK,IAEP,SAAS,KACd,OAAO,KAAK,IAEP,SAAS,KACd,OAAO,KAAK,IAEP,SAAS,IACd,OAAO,KAAK,IAAM,KAAK,GAElB,SAAS,IACd,OAAO,KAAK,IAAM,KAAK,IAElB,SAAS,SACd,OAAO,KAAK,GAEP,SAAS,SACd,OAAO,KAAK,GAGP,SAAS,QAAQ,EAAG,GACzB,GAAI,aAAc,CAChB,MAAO,CACL,OAAS,EAAI,KAAK,IAAM,KAAK,GAAK,iBAAmB,cACrD,OAAS,EAAI,KAAK,IAAM,KAAK,GAAK,qBAAuB,oBAEtD,CACL,MAAO,CACL,KAAO,EAAI,KAAK,KAAO,KAAK,GAAK,KAAK,IACtC,KAAO,EAAI,KAAK,KAAO,KAAK,GAAK,KAAK,MAIrC,SAAS,SAAS,EAAG,GAC1B,GAAI,aAAc,CAChB,MAAO,CACL,IAAM,EAAI,KAAK,GAAK,aACpB,IAAM,EAAI,KAAK,GAAK,mBAEjB,CACL,MAAO,CAAC,IAAM,GAAK,KAAK,GAAK,KAAK,IAAK,IAAM,GAAK,KAAK,GAAK,KAAK,MAIrE,IAAI,eACG,SAAS,iBAAiB,MAC/B,eAAiB,KAGZ,SAAS,aAAa,IAAK,KAChC,IAAI,IAAM,KACV,GAAI,eAAgB,CAClB,GAAI,IAAI,GAAK,eAAe,IAAM,IAAI,GAAK,eAAe,GAAK,eAAe,IAC5E,IAAI,GAAK,eAAe,IAAM,IAAI,GAAK,eAAe,GAAK,eAAe,GAC1E,CACA,IAAM,OAGV,GAAI,aAAc,CAChB,IAAI,IAAM,IAAI,GAAK,KAAK,GAAK,iBAAmB,KAAK,GAAK,KAAK,GAC/D,IAAI,IAAM,IAAI,GAAK,KAAK,GAAK,qBAAuB,KAAK,GAAK,KAAK,OAC9D,CACL,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,GAAK,KAAK,GAC3C,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,GAAK,KAAK,GAE7C,OAAO,IAGF,SAAS,kBAAkB,IAAK,KACrC,GAAI,aAAc,CAChB,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,GACjC,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,OAC5B,CACL,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,GACjC,IAAI,GAAK,IAAI,GAAK,KAAK,GAAK,KAAK,IAIrC,IAAI,uBAAyB,IAAI,aAAa,GAC9C,SAAS,6BACP,aAAa,uBAAwB,gBAErC,GAAI,aAAc,CAChB,uBAAuB,GAAK,eAAe,GAAK,KAAK,GAAK,KAAK,GAC/D,uBAAuB,GAAK,eAAe,GAAK,KAAK,GAAK,KAAK,OAC1D,CACL,uBAAuB,GAAK,eAAe,GAAK,KAAK,GAAK,KAAK,GAC/D,uBAAuB,GAAK,eAAe,GAAK,KAAK,GAAK,KAAK,IAM5D,SAAS,aAAa,IAAK,KAChC,GAAI,aAAc,CAChB,IAAI,IAAM,iBAAmB,IAAI,GAAK,KAAK,IAAM,KAAK,IAAM,KAAK,GACjE,IAAI,IAAM,qBAAuB,IAAI,GAAK,KAAK,IAAM,KAAK,IAAM,KAAK,OAChE,CACL,IAAI,IAAM,IAAI,GAAK,KAAK,IAAM,KAAK,GAAK,KAAK,GAC7C,IAAI,IAAM,IAAI,GAAK,KAAK,IAAM,KAAK,GAAK,KAAK,IAI1C,SAAS,kBAAkB,QAChC,GAAI,aAAc,CAChB,OAAO,QAAU,KAAK,GAAK,KAAK,IAAM,QACjC,CACL,OAAO,OAAS,KAAK,GAAK,KAAK,GAAK,KAKjC,SAAS,qBAAqB,IAAK,KACxC,GAAI,aAAc,CAChB,IAAI,GAAK,iBAAmB,IAAI,EAAI,KAAK,IAAM,KAAK,IAAM,KAAK,GAC/D,IAAI,EAAI,IAAI,EAAI,KAAK,GAAK,KAAK,GAC/B,IAAI,GAAK,qBAAuB,IAAI,EAAI,KAAK,IAAM,KAAK,IAAM,KAAK,GACnE,IAAI,EAAI,IAAI,EAAI,KAAK,GAAK,KAAK,OAC1B,CACL,IAAI,GAAK,IAAI,EAAI,KAAK,IAAM,KAAK,GAAK,KAAK,GAC3C,IAAI,EAAI,IAAI,EAAI,KAAK,GAAK,KAAK,GAC/B,IAAI,GAAK,IAAI,EAAI,KAAK,IAAM,KAAK,GAAK,KAAK,GAC3C,IAAI,EAAI,IAAI,EAAI,KAAK,GAAK,KAAK,IAI5B,SAAS,aAAa,MAC3B,IAAK,eAAgB,CACnB,OAAO,KAET,6BACA,IAAI,IAAM,uBACV,GAAI,KAAK,EAAI,IAAI,GAAK,IAAI,IACxB,KAAK,EAAI,KAAK,EAAI,IAAI,IACtB,KAAK,EAAI,IAAI,GAAK,IAAI,IACtB,KAAK,EAAI,KAAK,EAAI,IAAI,GACtB,CAEA,OAAO,MAET,GAAI,KAAK,EAAI,IAAI,GAAI,CACnB,KAAK,GAAK,IAAI,GAAK,KAAK,EACxB,KAAK,EAAI,IAAI,GAEf,GAAI,KAAK,EAAI,IAAI,GAAI,CACnB,KAAK,GAAK,IAAI,GAAK,KAAK,EACxB,KAAK,EAAI,IAAI,GAEf,GAAI,KAAK,EAAI,KAAK,EAAI,IAAI,GAAK,IAAI,GAAI,CACrC,KAAK,EAAI,IAAI,GAAK,IAAI,GAAK,KAAK,EAElC,GAAI,KAAK,EAAI,KAAK,EAAI,IAAI,GAAK,IAAI,GAAI,CACrC,KAAK,EAAI,IAAI,GAAK,IAAI,GAAK,KAAK,EAElC,OAAO,KAGF,SAAS,eACd,KAAK,GAAK,OAAO,oBACjB,aAAe,OAAO,MACtB,cAAgB,OAAO,OACvB,IAAI,SAAW,CAAC,EAAG,EAAG,aAAc,eACpC,GAAI,OAAO,aAAc,CACvB,aAAe,OAAO,aACtB,cAAgB,OAAO,cAEvB,IAAI,GAAK,OAAO,aAChB,IAAI,WAAa,cAAgB,GAAK,aACtC,IAAI,iBAAmB,kBACvB,IAAI,kBAAoB,mBACxB,IAAI,mBAAqB,kBAAoB,iBAC7C,GAAI,WAAa,mBAAoB,CACnC,IAAI,QAAU,cAAgB,mBAAqB,aAAe,IAAM,EACtE,kBAAoB,cACtB,QAAA,gBAAA,gBAAkB,aAAa,GAAK,MAAM,QAC1C,oBAAsB,aAAa,GACnC,QAAA,uBAAA,uBAAyB,aAAa,GACtC,QAAA,kBAAA,kBAAoB,MAAM,iBAAmB,OAAS,GACtD,QAAA,kBAAA,kBAAoB,sBACf,CACL,IAAI,UAAU,aAAe,mBAAqB,cAAgB,IAAM,EACtE,iBAAmB,aACrB,QAAA,gBAAA,gBAAkB,aAAa,GAC/B,oBAAsB,aAAa,GAAK,MAAM,UAC9C,QAAA,uBAAA,uBAAyB,aAAa,GAAK,MAAM,UACjD,QAAA,kBAAA,kBAAoB,iBACpB,QAAA,kBAAA,kBAAoB,MAAM,kBAAoB,SAAS,GAEzD,SAAS,GAAK,aACd,SAAS,GAAK,kBACT,CACL,aAAe,cAAgB,EAC/B,QAAA,gBAAA,gBAAkB,EAClB,oBAAsB,EACtB,QAAA,uBAAA,uBAAyB,EAG3B,UAgBA,OAAO,YAAY,UAGd,SAAS,UACd,IAAI,EAAG,EAAG,OAAO,MAAO,OAAO,QAC/B;;;;mCCzbF,IAAM,OAAS,QAAQ,U,aACG,QAAQ,yBAA1B,c,SAAA,cACR,IAAM,SAAW,QAAQ,iB,cACH,QAAQ,aAAtB,U,UAAA,UACR,IAAM,OAAS,QAAQ,eACvB,IAAM,UAAY,QAAQ,a,cACL,QAAQ,gBAArB,S,UAAA,SACR,IAAM,MAAQ,QAAQ,c,cACL,QAAQ,aAAjB,K,UAAA,KACR,IAAM,cAAgB,QAAQ,sB,IACtB,KAA0B,KAA1B,KAAM,MAAoB,KAApB,MAAO,IAAa,KAAb,IAAK,IAAQ,KAAR,IAC1B,IAAM,IAAM,QAAQ,Y,cAC0B,QAAQ,wBAA9C,gB,UAAA,gBAAiB,iB,UAAA,iB,cACI,QAAQ,oBAA7B,iB,UAAA,iBACR,IAAM,SAAW,QAAQ,iBACzB,IAAM,GAAK,QAAQ,W,cACS,QAAQ,wBAA5B,M,UAAA,MAAO,S,UAAA,S,cACU,QAAQ,cAAzB,K,UAAA,KAAM,O,UAAA,OAEd,IAAM,gBAAkB,CAAC,IAAO,KAChC,IAAM,UAAY,CAAC,IAAM,KAEzB,IAAM,OAAS,GAEf,IAAM,WAAa,EACnB,IAAM,cAAgB,EAEtB,EAAE,KAAO,EAAE,MAAQ,IACnB,EAAE,aAAe,EAAE,cAAgB,EAAE,KAErC,IAAM,oBAAsB,KAAK,EAAE,EAAE,EAAE,IAEvC,IAAM,cAAgB,CACpB,WAAY,GAGd,SAAS,SAAS,CAChB,kBAAmB,CACjB,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,GACV,KAAM,wDAIV,SAAS,SAAS,CAChB,iBAAkB,CAChB,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,GACV,KAAM,8BAIV,SAAS,aACP,OAAO,cAAc,iBAAmB,QACxC,KAAK,QAAU,IAAI,MAAM,IACzB,KAAK,IAAM,cAAc,QAAQ,eACjC,UAAW,KAAK,MAAQ,UAAY,KAAK,IAAM,GAAK,KAAK,KAAO,KAAK,QAAQ,OAAQ,CACnF,KAAK,IAAM,MACN,CACL,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,QAAQ,SAAU,GAAI,CAC/C,KAAK,QAAQ,IAAM,cAAc,QAAd,YAAkC,KAGzD,KAAK,WAEP,WAAW,UAAU,QAAU,SAAU,IAAK,MAC5C,KAAK,QAAQ,KAAO,KACpB,cAAc,QAAd,YAAkC,IAAO,OAE3C,WAAW,UAAU,IAAM,SAAU,MACnC,IAAK,KAAM,CACT,OAEF,IAAI,IAAM,KAAK,QAAQ,QAAQ,MAC/B,GAAI,OAAS,EAAG,CAEd,IAAI,QAAU,KAAK,IAAM,EAAI,KAAK,QAAQ,QAAU,KAAK,QAAQ,OACjE,MAAO,MAAQ,OAAQ,CACrB,IAAI,MAAQ,IAAM,GAAK,KAAK,QAAQ,OACpC,KAAK,QAAQ,IAAK,KAAK,QAAQ,OAC/B,IAAM,KAER,KAAK,QAAQ,OAAQ,MACrB,OAEF,KAAK,QAAQ,KAAK,IAAK,MACvB,KAAK,KAAO,KAAK,IAAM,GAAK,KAAK,QAAQ,OACzC,cAAc,QAAQ,cAAe,KAAK,KAC1C,KAAK,YAEP,WAAW,UAAU,MAAQ,SAAU,MAErC,IAAI,KAAO,KAAK,IAAM,EAAI,KAAK,QAAQ,QAAU,KAAK,QAAQ,OAC9D,GAAI,KAAK,QAAQ,OAAS,KAAM,CAC9B,OAEF,KAAK,IAAM,IACX,cAAc,QAAQ,cAAe,KAAK,KAC1C,KAAK,YAEP,WAAW,UAAU,SAAW,WAC9B,KAAK,SAAW,KAAK,IACrB,KAAK,UAAY,IAEnB,WAAW,UAAU,KAAO,SAAU,UACpC,GAAI,KAAK,WAAa,KAAK,IAAK,CAE9B,KAAK,UAAY,SAEnB,IAAI,KAAO,KAAK,SAAW,EAAI,KAAK,QAAQ,QAAU,KAAK,QAAQ,OACnE,IAAI,KAAO,KAAK,QAAQ,KACxB,GAAI,MAAQ,KAAK,MAAQ,KAAM,CAE7B,OAAO,KAAK,QAAQ,KAAK,WAAa,GAExC,KAAK,SAAW,IAChB,OAAO,MAAQ,IAEjB,WAAW,UAAU,KAAO,SAAU,UACpC,GAAI,KAAK,WAAa,KAAK,IAAK,CAC9B,OAAO,UAAY,GAErB,IAAI,KAAO,KAAK,SAAW,GAAK,KAAK,QAAQ,OAC7C,KAAK,SAAW,IAChB,GAAI,KAAK,WAAa,KAAK,IAAK,CAE9B,IAAI,IAAM,KAAK,UACf,KAAK,UAAY,GACjB,OAAO,KAAO,GAEhB,OAAO,KAAK,QAAQ,MAAQ,IAG9B,SAAS,OAAO,QACd,OAAO,aAAa,OAAQ,UAC5B,OAAO,aAAa,OAAO,QAAS,UACpC,KAAK,gBAAkB,GAAG,cAAc,CACtC,YAAa,OACb,cAAe,MACf,aAAc,KACd,QAAS,OAAO,QAChB,KAAM,KAER,KAAK,QAAU,KAEf,KAAK,QAAU,KAAK,UAAU,KAAK,MACnC,KAAK,SAAW,KAAK,WAAW,KAAK,MACrC,KAAK,QAAU,KAAK,UAAU,KAAK,MACnC,KAAK,iBAAmB,KAAK,eAAe,KAAK,MACjD,KAAK,uBAAyB,KAAK,oBAAoB,KAAK,MAC5D,UAAU,kBAAkB,KAAK,wBACjC,KAAK,YACL,KAAK,UAAY,OAAO,WAAa,EACrC,KAAK,aAAe,OAAO,cAAgB,IAC3C,KAAK,QAAU,OAAO,QACtB,KAAK,YAAc,OAAO,aAAe,GAAG,YAC5C,KAAK,0BAA4B,OAAO,2BAA6B,MACrE,KAAK,YAAc,iBAAiB,CAClC,iBAAkB,KAClB,YAAa,OAEf,KAAK,EAAI,OAAO,GAAK,OAAO,WAAa,EACzC,KAAK,EAAI,OAAO,GAAK,OAAO,YAAc,EAC1C,KAAK,kBAAoB,OAAO,mBAAqB,EACrD,KAAK,UAAY,OAAO,WAAa,EACrC,KAAK,WAAa,OAAO,YAAc,EACvC,KAAK,QAAU,IAAI,WACnB,KAAK,UAAY,KACjB,KAAK,UAAY,OAAO,UACxB,KAAK,SAAW,OAAO,SACvB,KAAK,gBAAkB,OAAO,gBAC9B,KAAK,cAAc,KAAK,YAAa,KAAK,GAE1C,KAAK,OAAS,CACZ,IAAK,UAAU,MAAM,KAAM,CACzB,MAAO,WACP,cAAe,EACf,cAAe,MAEjB,OAAQ,UAAU,MAAM,KAAM,CAC5B,MAAO,WACP,cAAe,EACf,cAAe,MAEjB,MAAO,UAAU,MAAM,KAAM,CAC3B,MAAO,WACP,cAAe,EACf,cAAe,MAEjB,KAAM,UAAU,MAAM,KAAM,CAC1B,MAAO,WACP,cAAe,EACf,cAAe,MAEjB,WAAY,UAAU,MAAM,KAAM,CAChC,MAAO,MACP,cAAe,EACf,cAAe,OAGnB,KAAK,OAAO,WAAa,KAAK,OAAO,OAErC,IAAI,KAAK,GAAG,iBAAkB,KAAK,gBAAgB,KAAK,OAG1D,OAAO,UAAU,cAAgB,SAAU,YAAa,GACtD,IAAI,OAAS,EAAI,KAAK,YAAY,WAClC,GAAI,KAAK,qBAAuB,aAAe,KAAK,SAAW,OAAQ,CACrE,KAAK,mBAAqB,YAC1B,KAAK,OAAS,OAEd,KAAK,YAAc,EACnB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,KAAK,SAAU,GAAI,CAC5C,IAAI,KAAO,KAAK,KAAK,IACrB,KAAK,SAAW,GAAG,KAAK,SAAS,KAAK,OAAO,KAAK,QAAU,KAAK,OAAO,IACtE,KAAK,OAAQ,OAAQ,KAAK,mBAAoB,KAAK,UACrD,KAAK,aAAe,KAAK,YAK/B,OAAO,UAAU,UAAY,WAC3B,KAAK,KAAO,GACZ,KAAK,YAAc,GAGrB,SAAS,UAAU,KACjB,OAAQ,IAAI,OAGd,OAAO,UAAU,eAAiB,SAAU,MAC1C,KAAK,UAAY,KAAK,WAAa,KAAK,MACxC,GAAI,KAAK,MAAQ,cAAe,CAC9B,GAAI,KAAK,MAAQ,WAAY,CAC3B,KAAK,SAAc,KAAK,aAAxB,IAAwC,KAAK,QACxC,CACL,KAAK,SAAL,IAAoB,KAAK,aAAzB,KAA0C,KAAK,SAE5C,CACL,KAAK,SAAW,KAAK,IAEvB,KAAK,SAAW,GAAG,KAAK,SAAS,KAAK,OAAO,KAAK,QAAU,KAAK,OAAO,IACtE,KAAK,OAAQ,OAAQ,KAAK,mBAAoB,KAAK,UACrD,KAAK,aAAe,KAAK,SACzB,KAAK,KAAK,KAAK,MACf,IAAI,SAAW,cAAc,KAAK,OAClC,GAAI,SAAU,CAGZ,IAAK,IAAI,GAAK,KAAK,KAAK,OAAS,EAAG,IAAM,IAAK,GAAI,CACjD,IAAI,MAAQ,KAAK,KAAK,IACtB,GAAI,MAAM,QAAU,KAAK,QAAU,MAAM,OAAQ,CAC/C,GAAI,KAAK,IAAM,MAAM,KAAO,KAAK,GAAI,CACnC,MAAM,OAAS,KACf,KAAK,aAAe,MAAM,SAC1B,MAAM,SAAW,MACZ,GACH,SACF,GAAI,UAAY,EAAG,CACjB,MAAM,OAAS,KACf,KAAK,aAAe,MAAM,SAC1B,MAAM,SAAW,EACjB,UAMV,GAAI,KAAK,KAAK,OAAS,KAAK,aAAe,KAAM,CAC/C,KAAK,KAAO,KAAK,KAAK,OAAO,WAC7B,GAAI,KAAK,KAAK,OAAS,KAAK,aAAe,KAAM,CAC/C,KAAK,KAAK,OAAO,EAAG,KAAK,KAAK,OAAS,KAAK,cAC5C,KAAK,YAAc,EACnB,IAAK,IAAI,IAAK,EAAG,IAAK,KAAK,KAAK,SAAU,IAAI,CAC5C,KAAK,aAAe,KAAK,KAAK,KAAI,aAM1C,OAAO,UAAU,QAAU,SAAU,IAAK,OACxC,QAAQ,IAAI,KACZ,KAAK,eAAe,CAAE,IAAA,IAAK,MAAA,SAE7B,OAAO,UAAU,gBAAkB,SAAU,MAC3C,QAAQ,IAAR,aAAyB,KAAK,GAA9B,KAAqC,KAAK,KAC1C,GAAI,SAAS,iBAAkB,CAC7B,KAAK,IAAM,gBAAgB,KAAK,KAElC,KAAK,eAAe,OAEtB,OAAO,UAAU,UAAY,SAAU,MACrC,GAAI,KAAK,YAAc,IAAI,OAAO,GAAI,CACpC,GAAI,KAAK,kBAAmB,CAC1B,GAAG,YAAY,YAAa,KAAK,mBAEnC,KAAK,gBAAgB,CACnB,GAAI,KAAK,SAAW,KAAK,UACzB,aAAc,KAAK,cAAgB,KAAK,UACxC,MAAO,WAAW,cAClB,IAAK,qBACL,MAAO,iBAIb,OAAO,UAAU,WAAa,SAAU,MACtC,GAAI,KAAK,kBAAmB,CAC1B,GAAG,YAAY,aAAc,KAAK,mBAEpC,KAAK,gBAAgB,CACnB,GAAI,KAAK,SAAW,KAAK,UACzB,aAAc,KAAK,cAAgB,KAAK,UACxC,MAAO,WAAW,cAClB,IAAK,mBACL,MAAO,gBAGX,OAAO,UAAU,UAAY,SAAU,MAAM,IACrC,IAAuD,KAAvD,IAAK,GAAkD,KAAlD,GAAI,UAA8C,KAA9C,UAAW,aAAmC,KAAnC,aAAc,MAAqB,KAArB,MAAO,GAAc,KAAd,GAAI,MAAU,KAAV,MACnD,IAAK,OAAS,YAAc,IAAI,OAAO,GAAI,CACzC,GAAI,KAAK,UAAW,CAClB,GAAG,YAAY,SAAU,KAAK,YAGlC,aAAe,cAAgB,GAC/B,OAAS,OAAS,GAAK,cACvB,KAAK,gBAAgB,CACnB,GAAA,GACA,aAAA,aACA,IAAA,IACA,MAAA,MACA,UAAW,GACX,MAAA,SAGJ,OAAO,UAAU,gBAAkB,SAAU,MAAM,IAC3C,IAAa,KAAb,IAAK,IAAQ,KAAR,IACX,GAAG,YAAY,WACf,KAAK,gBAAgB,CACnB,IAAG,IAAM,IAAN,KAAc,IACjB,MAAO,WAIX,OAAO,UAAU,QAAU,WACzB,KAAK,aAAe,KACpB,GAAI,MAAM,YAAY,MAAM,KAAK,QAAS,CACxC,KAAK,gBAAgB,QAEvB,GAAI,MAAM,YAAY,MAAM,KAAK,QAC/B,MAAM,YAAY,MAAM,KAAK,eAC7B,CACA,KAAK,gBAAgB,QACrB,KAAK,gBAAgB,QAAQ,OAIjC,SAAS,OAAO,KACd,UAAW,MAAQ,SAAU,CAC3B,OAAO,KAAK,UAAU,KAExB,OAAO,IAGT,OAAO,UAAU,oBAAsB,SAAU,IAAK,MACpD,GAAI,IAAK,CACP,KAAK,QAAL,WAAwB,OAAO,KAAQ,WAI3C,OAAO,UAAU,eAAiB,SAAU,IAAK,MAC/C,GAAI,IAAK,CACP,KAAK,QAAL,WAAwB,OAAO,KAAQ,cAClC,GAAI,KAAM,CACf,KAAK,QAAL,oBAAiC,OAAS,SAAY,KAAO,KAAK,UAAU,OAAS,YAIzF,OAAO,UAAU,YAAc,SAAU,IACvC,KAAK,UAAY,IAGnB,IAAI,aAAe,CAAE,OAAQ,MAC7B,OAAO,UAAU,aAAe,WAC9B,IAAK,KAAK,UAAW,CACnB,MAAO,GAET,aAAa,OAAS,KAAK,YAC3B,OAAO,cAGT,OAAO,UAAU,SAAW,SAAU,IAAK,UAAU,IAAA,MAAA,KACnD,IAAI,aAAe,SACjB,SAAC,IAAK,MACJ,MAAK,iBAAiB,IAAK,MAC3B,GAAI,UAAY,IAAK,CACnB,SAAS,OAGb,KAAK,iBACP,UAAU,OAAO,KAAK,eAAgB,IAAK,SAAU,IAAK,MACxD,GAAI,KAAO,UAAU,cAAe,CAElC,IAAI,KAAK,aAAa,IAAK,kBACtB,CACL,aAAa,IAAK,UAKxB,OAAO,UAAU,iBAAmB,SAAU,KAC5C,UAAU,OAAO,KAAK,eAAgB,IAAK,KAAK,yBAGlD,SAAS,KAAK,KACZ,OAAO,IAAI,KAAM,OAAO,GAE1B,SAAS,YAAY,IACnB,OAAU,KAAK,GAAG,WAAa,GAA/B,IAAqC,KAAK,GAAG,WAA7C,IAA2D,KAAK,GAAG,YAAnE,IACI,KAAK,GAAG,cADZ,IAC6B,KAAK,GAAG,cAEvC,IAAI,gBAAkB,UAAU,aAAa,KAAM,KACnD,IAAI,oBAAsB,UAAU,MAAM,gBAAiB,CACzD,cAAe,GACf,cAAe,MAEjB,IAAI,oBAAsB,KAAK,EAAG,EAAG,EAAG,KACxC,IAAI,qBAAuB,KAAK,EAAG,EAAG,EAAG,MACzC,IAAM,sBAAwB,GAC9B,IAAI,aAAe,EACnB,IAAI,aAAe,GACnB,IAAI,oBAAsB,OAC1B,SAAS,gBAAgB,OACvB,OAAO,MAAM,QAAQ,MAAM,UAC3B,IAAI,QAAU,MAAM,QACpB,IAAI,UAAY,EAChB,IAAI,EAAI,MAAM,YACd,IAAI,gBAAkB,GAAG,YAAc,GACvC,IAAI,aAAe,IAAI,sBAAuB,IAAI,EAAG,OAAO,MAAM,EAAI,SAAS,KAAO,iBAAmB,GAAK,IAC9G,GAAI,QAAQ,OAAS,GAAI,CACvB,IAAI,KAAO,QAAQ,KAAK,MACxB,GAAI,OAAS,aAAc,CACzB,aAAe,EACf,aAAe,KAEjB,UAAY,KAAK,QAAQ,OAAS,cAClC,QAAU,QAAQ,MAAM,aAAe,cAAe,aAAe,GAAK,kBACrE,CACL,aAAe,EACf,aAAe,GAEjB,IAAI,EAAI,MAAM,cACd,IAAI,EAAI,MAAM,EACd,IAAI,EAAI,MAAM,GAAM,EAAE,QAAU,EAChC,IAAI,OAAS,EAAI,gBACjB,IAAI,OAAS,EAAI,gBAAkB,EACnC,IAAI,WAAa,MAAM,EAEvB,IAAI,MAAQ,EACZ,IAAI,MAAQ,gBAAkB,EAAI,EAAI,QAAQ,OAC9C,IAAK,MAAM,cAAgB,YAAc,GAAK,MAAM,UAAU,CAC5D,EAAA,EACA,EAAG,WAAa,MAChB,EAAA,EACA,EAAG,QACD,CACF,MAAQ,IAEV,IAAI,MAAQ,gBACZ,GAAI,QAAU,EAAG,CACf,MAAQ,UAAU,WAAW,MAAO,OAGtC,IAAI,EAAI,WAAa,gBACrB,IAAI,IAAM,KACV,GAAI,UAAY,EAAG,CACjB,GAAK,EACL,GAAG,KAAK,iBAAiB,gBACvB,OAAQ,EAAG,EAAE,EAAG,EAAG,UAAU,MAAM,QACnC,OAAQ,EAFV,SAGU,aAAe,GAHzB,MAGgC,WAChC,IAAI,IAAM,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAA,GACrB,GAAI,MAAM,YAAY,KAAM,CAC1B,cAAgB,aAAe,GAAK,eAC/B,GAAI,MAAM,UAAU,KAAM,CAC/B,GAAG,SAAS,EAAG,EAAG,EAAI,EAAG,EAAI,EAAG,EAAI,GAAK,sBAG7C,IAAK,IAAI,GAAK,QAAQ,OAAS,EAAG,IAAM,IAAK,GAAI,CAC/C,IAAI,KAAO,QAAQ,IACnB,GAAK,EACL,IAAI,IAAM,KAAK,QAAQ,KACvB,GAAI,KAAK,KAAO,KAAO,OAAS,GAAK,MAAM,aAAc,CAEvD,IAAI,IAAM,KAAK,MAAM,EAAG,KACxB,IAAI,KAAO,KAAK,MAAM,KACtB,IAAI,MAAQ,GAAG,KAAK,UAAU,oBAC5B,OAAQ,EAAG,EAAE,EAAG,EAAG,KACrB,GAAG,KAAK,iBAAiB,gBACvB,OAAS,MAAO,EAAG,EAAE,EAAG,EAAG,UAAU,MAAM,KAC3C,OAAS,MAAO,EAChB,MACF,IAAI,KAAM,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAA,GACrB,GAAI,MAAM,YAAY,MAAM,CAC1B,IAAM,IAAI,MAAM,QACX,GAAI,MAAM,UAAU,MAAM,CAC/B,GAAG,SAAS,EAAG,EAAG,OAAS,MAAQ,EAAG,EAAI,EAAG,EAAI,GAAK,qBACtD,GAAG,SAAS,OAAS,MAAQ,EAAG,EAAG,EAAI,EAAG,EAAI,EAAG,EAAI,GAAK,2BAEvD,CACL,GAAG,KAAK,iBAAiB,MACvB,OAAQ,EAAG,EAAE,EAAG,EAAG,UAAU,MAAM,KACnC,OAAQ,EACR,OAGN,GAAK,gBACL,IAAI,YAAc,GAAG,0BAA4B,GAEjD,OAAO,oBAAqB,GAAG,aAC/B,oBAAoB,GAAK,MACzB,GAAG,MAAM,CACP,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAA,EACT,EAAG,WAAa,EAChB,YAAA,YACA,MAAO,sBAET,OAAO,IAGT,OAAO,UAAU,UAAY,WAC3B,OAAO,KAAK,iBAAmB,KAAK,gBAAgB,aAClD,KAAK,aAAe,KAAK,YAAY,aAGzC,OAAO,UAAU,SAAW,SAAU,MAAO,MAAM,IAAA,OAAA,KACjD,IAAK,IAAI,OAAO,UAAW,CACzB,KAAK,QAAQ,oCAAqC,cAC7C,IAAK,KAAK,UAAY,IAAI,KAAK,WAAY,CAChD,KAAK,QAAQ,yCAA0C,cAClD,GAAI,KAAK,OAAS,KAAK,QAAS,CACrC,KAAK,QAAQ,gCAAiC,aACzC,CACL,IAAI,IAAM,KAAK,QAAQ,IAAI,QAC3B,IAAI,SAAS,OACb,IAAI,YAAY,MAChB,IAAI,KAAK,SAAC,KACR,GAAI,IAAK,CACP,OAAK,QAAL,WAAwB,OAAO,KAAQ,cAS/C,IAAM,kBAAoB,EAC1B,OAAO,UAAU,IAAM,SAAU,MAAM,IAAA,OAAA,KACrC,KAAO,MAAQ,GACf,GAAI,IAAI,OAAO,eAAiB,KAAK,0BAA2B,CAC9D,GAAG,KAAK,iBACN,UAAU,MAAM,KAAM,CACpB,cAAe,EACf,cAAe,IACf,MAAO,aAET,SAAS,KAAM,SAAS,KAAM,EAAE,MAChC,GAAG,YAAa,UAAU,MAAM,SAAU,SAAS,IAAK,SAAS,IAAM,GAPzE,8CAQgD,IAAI,OAAO,sBAAsB,KAAM,QAAQ,GAR/F,QAWF,IAAK,KAAK,aAAc,CACtB,KAAK,UAEP,KAAK,aAAe,MACpB,IAAI,EAAI,SAAS,KAAO,GACxB,IAAI,GAAK,SAAS,KAClB,IAAI,EAAI,GACR,IAAI,EAAI,KAAK,EACb,IAAI,YAAc,KAAK,YACvB,IAAI,EAAI,YAAc,EAAE,aAAe,EAAE,KACzC,IAAI,WAAa,MACjB,IAAI,YAAc,KAAK,YACvB,IAAI,iBAAmB,MACvB,IAAI,YAAc,KAAK,MAAQ,OAAO,QAAQ,OAAS,IAAI,KAAK,cAC7D,YACD,EACA,EACF,IAAI,gBAAkB,GAAG,cAAgB,GAAG,SAAW,WACvD,IAAK,iBAAmB,aAAe,MAAM,WAAY,CAEvD,EAAI,SAAS,KAAO,EAAI,GACxB,IAAI,WAAa,EACjB,IAAI,OAAS,SAAS,eACtB,GAAI,OAAS,EAAG,CACd,WAAa,EAAI,EAAI,KAAK,OAAS,GAAK,EAAG,GAE7C,aAAe,WAEjB,KAAK,cAAc,YAAa,GAChC,IAAK,gBAAiB,CACpB,iBAAmB,KACnB,GAAK,GAAK,YACV,IAAK,aAAe,KAAK,aAAe,MAAM,gBAAiB,CAE7D,GAAG,KAAK,iBAAiB,KAAK,OAAO,IAAK,EAAG,EAAG,EAAI,EAAG,YAAa,UAAU,MAAM,KAAM,EAAG,EAC3F,6BACG,CACL,GAAI,YAAa,CAGf,IAAI,YAAc,MAAM,YAAY,MAAM,KAAK,KAC/C,GAAI,YAAa,CACf,KAAK,gBAAgB,QAEvB,IAAI,SAAW,KAAK,gBAAgB,UACpC,GAAI,SAAU,CACZ,GAAI,SAAS,KAAO,IAAK,CAEvB,IAAI,aAAe,UAAU,aAAa,SAAS,MAAM,GAAI,KAAK,eAAe,QACjF,GAAI,cAAgB,aAAa,OAAQ,CACvC,IAAI,MAAQ,aAAa,GACzB,IAAI,UAAY,GAChB,IAAK,IAAI,GAAK,EAAG,GAAK,aAAa,SAAU,GAAI,CAC/C,IAAI,KAAO,aAAa,IACxB,UAAU,KAAV,IAAmB,KAAK,IAAxB,MAAiC,KAAK,MAExC,IAAI,aAAe,MACnB,GAAI,aAAa,SAAW,GAC1B,MAAM,OACN,UAAU,UAAU,SAAS,MAAM,IAAI,MAAM,EAAG,MAAM,MAAM,UAAY,MAAM,MAC9E,CAEA,GAAI,MAAM,MAAO,CACf,UAAY,MAAM,MAAM,MAAM,UACzB,CACL,UAAY,CAAC,MAAM,WAEhB,CACL,aAAe,KAEjB,IAAI,UAAY,EAEhB,IAAI,SAAW,KAAK,KAAK,KAAK,KAAK,OAAS,GAC5C,GAAI,SAAU,CACZ,IAAI,IAAM,SAAS,IACnB,GAAI,OAAS,IAAI,MAAQ,gBAAkB,IAAI,MAAM,EAAG,KAAO,UAAW,CACxE,IAAI,SAAW,SAAS,SACxB,WAAa,YAAc,SAAW,mBAI1C,IAAI,SAAW,gBAAgB,CAC7B,EAAA,EAAG,EAAG,UACN,cAAe,IAAI,EAAG,OAAO,WAAa,IAC1C,QAAS,UACT,aAAA,aACA,YAAa,IAAI,YAAa,SAAS,IAAM,MAE/C,GAAI,aAAc,CAGhB,GAAI,aAAe,SAAU,CAC3B,KAAK,gBAAgB,QAArB,KAAiC,UAAY,MAAM,KAAnD,aAKH,CACL,KAAK,QAAQ,WAEf,GAAI,MAAM,YAAY,MAAM,KAAK,IAAK,CACpC,KAAK,gBAAgB,QAAQ,KAAK,QAAQ,KAAK,WAEjD,GAAI,MAAM,YAAY,MAAM,KAAK,MAAO,CACtC,KAAK,gBAAgB,QAAQ,KAAK,QAAQ,KAAK,WAEjD,KAAK,YAAY,iBAEnB,IAAI,aAAe,YACnB,IAAI,YAAc,EAClB,GAAI,MAAM,aAAe,YAAa,CACpC,GAAK,YAAc,EACnB,aAAe,YAAc,EAC7B,YAAc,YAAc,EAE9B,IAAI,IAAM,KAAK,gBAAgB,IAAI,CACjC,EAAA,EAAG,EAAA,EAAG,EAAG,YAAa,YAAa,aAAc,aAAc,KAAK,cAEtE,WAAa,KAAK,YAClB,GAAI,MAAQ,KAAK,gBAAgB,OAAQ,CACvC,IAAI,KAAO,KAAK,gBAAgB,UAAU,OAC1C,GAAI,KAAM,CACR,KAAK,gBAAgB,QAAQ,IAC7B,GAAI,KAAK,KAAO,IAAK,CACnB,GAAI,KAAK,KAAO,IAAK,CACnB,KAAO,KAAK,MAAM,GAEpB,KAAK,QAAQ,IAAI,MACjB,KAAK,SAAS,KAAK,MAAM,GAAI,WAC3B,GAAI,OAAK,WAAY,CACnB,GAAG,YAAY,cAAe,OAAK,YAErC,IAAK,OAAK,gBAAgB,UAAW,CACnC,OAAK,QAAQ,MAAM,MACnB,OAAK,gBAAgB,QAAQ,MAE/B,IAAK,WAAY,CACf,OAAK,gBAAgB,eAGpB,CACL,KAAK,SAAS,EAAG,MAEnB,GAAI,KAAK,WAAY,CACnB,GAAG,YAAY,UAAW,KAAK,YAEjC,GAAI,SAAS,kBAAmB,CAC9B,WAAa,MACb,GAAG,mBAEA,CACL,WAAa,MACb,GAAG,iBAKX,GAAK,kBA3KgC,IA6K/B,UAAyD,KAAzD,UAAW,SAA8C,KAA9C,SAAU,OAAoC,KAApC,OAAQ,OAA4B,KAA5B,OAAQ,gBAAoB,KAApB,gBAC3C,IAAI,KAAO,KACX,IAAI,eAAiB,WACrB,IAAI,cAAgB,EACpB,IAAI,WAAa,GAEjB,SAAS,aAAa,IAAK,OACzB,GAAI,IAAI,OAAQ,CACd,OAEF,IAAI,KAAO,IAAI,SACf,IAAI,SAAW,IAAI,SACnB,IAAI,OAAS,gBAAkB,WAAa,SAAS,KAAM,WAC3D,OAAS,QAAU,OAAO,SAAW,GAAK,OAAO,GACjD,IAAI,UAAY,OAChB,GAAI,QAAU,SAAU,CACtB,IAAI,EAAI,OAAO,MAAM,UACrB,GAAI,EAAG,CACL,UAAY,EAAE,IAGlB,IAAI,EAAI,YAAc,SACtB,IAAI,aAAe,iBAAmB,MAAM,qBAAuB,IAAI,OAAS,IAAI,QAAU,OAAS,QACvG,IAAI,OACJ,IAAI,UAAY,MAChB,GAAI,aAAc,CAChB,OAAS,GAAG,KAAK,eAAe,OAAO,IAAK,YAAa,MAEzD,UAAY,MAAM,UAAU,CAAE,EAAA,EAAG,EAAA,EAAG,EAAG,IAAI,OAAQ,QAAS,EAAA,EAAG,KAAM,OAEvE,IAAI,eAAiB,MACrB,IAAI,YAAc,EAClB,IAAI,iBAAmB,MACvB,GAAK,IAAI,MAAQ,eAAkB,iBAAmB,IAAI,IAAM,eAAgB,CAC9E,IAAI,GAAK,WAAW,IAAI,cACxB,IAAK,GAAI,CACP,GAAK,WAAW,IAAI,cAAgB,GAAG,KAAK,eAAe,OAAO,IAAK,YAAa,IAAI,cAE1F,KAAM,IAAI,MAAQ,YAAa,CAC7B,IAAK,cAAe,CAClB,cAAgB,GAAG,KAAK,eAAe,OAAO,IAAK,YAAa,MAElE,IAAM,cAER,YAAc,GACd,IAAI,UAAY,CACd,EAAA,EAAG,EAAA,EAAG,EAAG,IAAI,GAAI,QAAS,EAAG,YAAa,OAAQ,EAAG,KAAM,KAC3D,EAAG,EAAI,GACP,MAAO,qBAET,GAAI,MAAM,MAAM,WAAY,CAC1B,iBAAmB,KACnB,gBAAgB,CACd,QAAS,IAAI,SAIV,CACL,eAAiB,MAAM,UAAU,WACjC,GAAI,eAAgB,CAClB,GAAG,UAAU,aAInB,IAAI,MACJ,GAAI,OAAQ,CACV,MAAQ,KAAK,CAAE,EAAG,EAAI,YAAa,EAAA,EAAG,EAAG,OAAS,YAAa,EAAA,EAAG,IAAK,OAAQ,SAAU,OAG3F,IAAI,MAAQ,OAAO,IAAI,QAAU,OAAS,YAAc,eAAiB,aAAe,OAAS,QAGjG,GAAG,KAAK,iBAAiB,UAAU,WAAW,MAAO,OAAQ,EAAG,EAAG,EAAI,EAAG,OAAQ,OAAQ,YAAa,MAEvG,GAAI,aAAe,gBAAkB,EAAI,KAAK,YAAY,WAAa,gBAEnE,IAAI,OAAS,IAAI,QAAU,OAAS,QACtC,CACA,GAAG,YAAY,CACb,EAAA,EAAG,EAAA,EAAG,EAAG,EAAE,QACX,cAAe,KACf,cAAe,IACf,YAAa,GAAG,YAAc,GAC9B,QAAS,SAAW,eAAX,iBACU,UACjB,YAAW,IAAI,GAAJ,UAAmB,IAAI,GAAvB,IAA+B,IAA1C,OAAmD,YAAY,IAAI,KAAK,IAAI,YAA5E,KACA,+BADA,IAEI,eAAiB,4BAA8B,KACrD,YAAa,GAAG,0BAA4B,KAIhD,MAAQ,OAAS,MAAM,MAAM,CAAE,EAAA,EAAG,EAAA,EAAG,EAAG,OAAQ,EAAA,IAChD,GAAI,iBAAkB,CACpB,MAAQ,KAEV,GAAI,MAAO,CACT,GAAI,MAAM,SAAW,EAAG,CACtB,GAAG,kBAAkB,YAAa,OAAS,MAAQ,OAAQ,QAAU,WAChE,GAAI,OAAQ,CACjB,KAAK,iBAAL,OAA6B,YAGjC,iBAAmB,KAIrB,IAAI,OAAS,EACb,IAAI,IAAM,KAAK,MACf,GAAI,eAAgB,CAElB,IAAI,kBAAoB,KAAK,YAAc,YAC3C,IAAI,kBAAoB,IAAI,KAAK,EAAG,mBACpC,KAAK,YAAY,MAAM,CACrB,EAAA,EAAG,EAAG,EAAI,kBAAmB,EAAA,EAC7B,EAAG,EAAI,EACP,EAAG,kBACH,eAAgB,KAAK,gBACrB,UAAW,KAAK,aAAe,IAEjC,IAAI,OAAS,EACb,IAAI,OAAS,EACb,EAAI,EACJ,EAAI,EACJ,IAAI,MAAQ,KAAK,YAAY,WAC7B,IAAI,MAAQ,MAAQ,kBACpB,IAAK,IAAI,KAAK,EAAG,KAAK,KAAK,KAAK,SAAU,KAAI,CAC5C,IAAI,KAAM,KAAK,KAAK,MACpB,IAAI,EAAI,YAAc,KAAI,SAC1B,GAAI,GAAK,OAAS,EAAI,GAAK,MAAO,CAChC,aAAa,KAAK,GAEpB,GAAK,EAEP,KAAK,YAAY,IAAI,mBACrB,EAAI,OACJ,EAAI,OAAS,kBAEb,MAAM,cAAc,CAAE,EAAG,SAAS,KAAM,EAAG,EAAI,OAAQ,EAAG,EAAI,OAAS,EAAG,EAAG,GAAK,EAAI,SAEtF,GAAI,MAAM,YAAY,CAAE,EAAG,SAAS,KAAM,EAAG,EAAI,OAAQ,EAAG,EAAI,OAAS,EAAG,EAAG,GAAK,EAAI,OACtF,YAAa,KAAK,YAAc,MAAM,iBAAmB,OACzD,CACA,GAAG,cACH,WAAa,MAGf,MAAM,UAAU,CAAE,EAAG,SAAS,KAAM,EAAG,EAAI,OAAQ,EAAG,EAAI,OAAS,EAAG,EAAG,GAAK,EAAI,SAElF,GAAI,MAAM,cAAc,CAAE,KAAM,OAAS,CAGvC,GAAG,cACH,WAAa,WAEV,CAAA,IAEC,UAAc,KAAd,UACN,IAAK,IAAI,KAAK,EAAG,KAAK,KAAK,KAAK,SAAU,KAAI,CAC5C,IAAI,MAAM,KAAK,KAAK,KAAK,KAAK,OAAS,KAAK,GAC5C,IAAI,IAAM,IAAM,MAAI,UACpB,IAAI,MAAQ,EAAI,OAAO,IAAM,gBAAgB,aAAe,UAAU,YAAa,EAAG,GACtF,IAAK,OAAS,MAAI,MAAO,CACvB,MAEF,IAAI,UAAW,MAAI,SACnB,GAAI,UAAW,WAAa,KAAI,CAC9B,MAEF,WAAa,UACb,IAAI,GAAI,YAAc,UACtB,GAAK,GACL,aAAa,MAAK,QAItB,GAAI,KAAK,aAAe,YAAc,MAAM,gBAAiB,CAE3D,MAAM,kBAGR,IAAK,mBAAqB,GAAG,cAAgB,GAAG,SAAW,YAAa,CACtE,OAEF,GAAG,SAAS,SAAS,KAAM,EAAI,OAAQ,EAAI,EAAI,OAAS,EAAG,GAAI,EAAG,CAAC,GAAI,GAAI,GAAI,OAGjF,OAAO,UAAU,WAAa,SAAU,SAAS,IAAA,OAAA,KAC/C,GAAI,UAAY,KAAK,QAAS,CAC5B,OAEF,GAAI,KAAK,QAAS,CAChB,IAAK,QAAS,CACZ,KAAK,QAAL,gBAA6B,KAAK,QAAQ,YAE5C,KAAK,QAAQ,iBAAiB,OAAQ,KAAK,SAC3C,KAAK,QAAQ,iBAAiB,OAAQ,KAAK,SAC3C,KAAK,QAAQ,iBAAiB,QAAS,KAAK,UAE9C,KAAK,QAAU,QACf,IAAK,KAAK,QAAS,CACjB,OAGF,KAAK,YACL,QAAQ,MAAM,OAAQ,KAAK,SAC3B,QAAQ,MAAM,OAAQ,KAAK,SAC3B,QAAQ,MAAM,QAAS,KAAK,UAC5B,IAAI,aACJ,IAAI,KACJ,IAAI,SAAW,GACf,IAAI,QACJ,cAAc,CACZ,SAAC,MACC,QAAQ,KAAK,WAAY,KAAM,SAAC,IAAK,MACnC,IAAK,KAAO,MAAQ,KAAK,MAAQ,KAAK,KAAK,OAAQ,CACjD,aAAe,KAEjB,UAGJ,SAAC,MACC,QAAQ,cAAc,SAAC,MACrB,IAAI,QAAU,MAAQ,KAAK,QAAU,KAAK,OAAO,QACjD,GAAI,QAAS,CACX,KAAO,GACP,QAAU,GACV,IAAK,IAAI,aAAa,QAAS,CAC7B,IAAI,OAAS,QAAQ,WACrB,IAAI,QAAU,OAAO,KAAO,OAAO,IAAI,QACvC,IAAI,gBAAkB,MACtB,GAAI,SAAW,OAAO,IAAI,aAAc,CACtC,GAAI,SAAS,SAAU,CACrB,gBAAkB,SACb,CACL,SAAS,SAAW,OAAO,IAAI,cAGnC,GAAI,YAAc,IAAI,OAAO,IAAM,gBAAiB,CAClD,SAEF,GAAI,OAAO,IAAK,CACd,GAAI,SAAW,SAAS,SAAU,CAChC,QAAQ,KAAK,OAAO,IAAI,cAAgB,SAAW,eAC9C,CACL,KAAK,KAAK,OAAO,IAAI,cAAgB,SAAW,cAKxD,WAGH,WACD,IAAK,OAAK,QAAS,CAEjB,OAGF,GAAI,aAAc,CAChB,IAAI,aAAe,OAAK,KAAK,MAAM,GACnC,GAAI,aAAa,OAAQ,CACvB,OAAK,KAAO,GAEd,IAAK,IAAI,GAAK,EAAG,GAAK,aAAa,KAAK,SAAU,GAAI,CACpD,IAAI,KAAO,aAAa,IAAM,IAAM,aAAa,KAAK,OACtD,IAAI,KAAO,aAAa,KAAK,KAC7B,GAAI,MAAQ,KAAK,IAAK,CACpB,KAAK,MAAQ,KACb,GAAI,SAAS,KAAK,IAAK,CACrB,KAAK,aAAe,SAAS,KAAK,IAEpC,OAAK,UAAU,OAGnB,GAAI,aAAa,OAAQ,CAEvB,OAAK,KAAO,OAAK,KAAK,OAAO,eAKjC,OAAK,QAAL,kBAA+B,OAAK,QAAQ,WAAc,cAE1D,GAAI,MAAQ,KAAK,QAAU,SAAW,QAAQ,OAAQ,CACpD,IAAI,IAAM,GACV,GAAI,KAAK,OAAQ,CACf,IAAI,KAAJ,6BAAsC,KAAK,KAAK,OAElD,GAAI,QAAQ,OAAQ,CAClB,IAAI,KAAJ,yBAAkC,QAAQ,KAAK,OAEjD,OAAK,gBAAgB,CACnB,IAAK,IAAI,KAAK,MACd,MAAO,mBAMR,SAAS,OAAO,QACrB,mBACA,IAAI,QAAU,IAAI,OAAO,QACzB,SAAS,MAAM,IAAK,WAClB,IAAK,IAAK,CACR,YAAY,UAAU,KAAM,8BAG9B,GAAI,OAAO,SAAU,CACnB,OAAO,SAAS,KAGlB,QAAQ,SAAS,WAAY,KAE/B,UAAU,cAAc,wBAAyB,CAC/C,KAAM,UAAU,WAChB,MAAO,iCACP,MAAO,CAAC,EAAE,GACV,IAAK,SAAA,MAAA,OAAM,QAAQ,mBACnB,IAAK,SAAA,IAAC,GAAD,OAAQ,QAAQ,kBAAoB,GACzC,MAAO,OAET,UAAU,cAAc,iBAAkB,CACxC,KAAM,UAAU,WAChB,MAAO,+BACP,MAAO,CAAC,EAAE,GACV,IAAK,SAAA,MAAA,OAAM,QAAQ,WACnB,IAAK,SAAA,IAAC,GAAD,OAAQ,QAAQ,UAAY,GACjC,MAAO,OAET,UAAU,cAAc,kBAAmB,CACzC,KAAM,UAAU,WAChB,MAAO,+BACP,MAAO,CAAC,EAAE,GACV,IAAK,SAAA,MAAA,OAAM,QAAQ,YACnB,IAAK,SAAA,IAAC,GAAD,OAAQ,QAAQ,WAAa,GAClC,MAAO,OAET,UAAU,SAAS,CACjB,IAAK,KACL,KAAM,QACN,MAAO,2CACP,KAAM,QAGR,UAAU,SAAS,CACjB,YAAa,CAAC,UACd,IAAK,KACL,KAAM,QAER,UAAU,SAAS,CACjB,IAAK,OACL,KAAM,oBACN,KAAM,SAAA,KAAC,IAAK,WACV,QAAQ,gBAAgB,CAAE,IAAK,MAC/B,eAGJ,OAAO;;;;uDClkCT,IAAM,cAAgB,QAAQ,6BAC9B,IAAM,cAAgB,QAAQ,sBACvB,IAAI,UAAY,cAAc,OAAO,CAAE,QAAS,gB,4BAEvD,IAAM,OAAS,QAAQ,eACvB,IAAM,IAAM,QAAQ,YACpB,IAAM,SAAW,QAAQ,iBAEzB,OAAO,IAAM,SAAU,KACrB,UAAU,OAAO,KAAM,IAAK,cAAc,iBAG5C,SAAS,WAAW,OAClB,GAAI,MAAQ,KAAQ,CAClB,OAAW,OAAO,KAAK,OAAO,QAAQ,GAAtC,KAEF,GAAI,MAAQ,IAAK,CACf,OAAW,MAAM,MAAM,QAAQ,GAA/B,KAEF,OAAU,MAAV,IAGF,UAAU,SAAS,CACjB,IAAK,SACL,KAAM,gCACN,KAAM,SAAA,KAAU,IAAK,WACnB,IAAI,KAAO,OAAO,KAAK,SAAS,UAChC,KAAO,KAAK,OAAO,SAAC,GAAD,OAAO,SAAS,SAAS,GAAG,QAAU,OACzD,KAAK,KAAK,SAAC,EAAG,GAAJ,OAAU,SAAS,SAAS,GAAG,QAAU,SAAS,SAAS,GAAG,UACxE,UAAU,KAAM,KAAK,IAAI,SAAC,GAAD,OAAU,WAAW,SAAS,SAAS,GAAG,SAA1C,IAAsD,IAAK,KAAK,UAI7F,UAAU,SAAS,CACjB,IAAK,SACL,KAAM,oCACN,KAAM,SAAA,KAAU,IAAK,WAAW,IACxB,QAAY,OAAO,WAAnB,QACN,UAAU,KAAS,WAAW,QAAQ,MAA7B,SAA2C,WAAW,QAAQ,KAA9D,SACP,WAAW,QAAQ,KAAO,QAAQ,KAD3B,aAKb,UAAU,SAAS,CACjB,IAAK,IACL,KAAM,yBACN,KAAM,SAAA,KAAU,IAAK,WACnB,IAAM,IAAI,cACV,OAAO,QAAQ,MAAQ,OAAO,QAAQ,KACtC,UAAU,KAAD,KAAY,IAAZ,SAAuB,OAAO,QAAQ,KAAK,MAAM,UAC1D,OAAO,oBAIX,UAAU,SAAS,CACjB,IAAK,WACL,KAAM,4BACN,KAAM,SAAA,KAAU,IAAK,WACnB,UAAU,KAAD,kBAAwB,OAAO,OAAO,EAAE,OAIrD,UAAU,SAAS,CACjB,IAAK,MACL,WAAY,CAAC,YACb,KAAM,wCACN,MAAO,wBACL,iCACF,KAAM,SAAA,KAAU,IAAK,WACnB,IAAI,IAAM,IAAI,QAAQ,KACtB,GAAI,OAAS,EAAG,CACd,YAAY,UAAU,+BAExB,IAAI,QAAU,IAAI,MAAM,EAAG,KAC3B,IAAI,IAAM,IAAI,MAAM,IAAM,GAC1B,IAAI,IAAM,IAAI,KAAK,oBAAT,QAAqC,SAAW,IAAI,qBAC9D,IAAI,YAAY,KAChB,IAAI,KAAK,cAIb,SAAS,QAAQ,UACf,MAAA,IAAW,SAAS,IAApB,MAA6B,SAAS,KAGxC,UAAU,SAAS,CACjB,IAAK,OACL,KAAM,oBACN,KAAM,SAAA,KAAU,IAAK,WACnB,IAAI,KAAO,UAAU,aAAa,GAAI,MAAQ,KAAK,QACnD,GAAI,IAAK,CACP,IAAI,UAAY,UAAU,UAAU,KACpC,IAAI,OAAS,IAAI,cACjB,KAAO,KAAK,OAAO,SAAC,UAAD,OAAc,SAAS,MAAM,QAAQ,cAAgB,GACpE,SAAS,KAAK,cAAc,QAAQ,WAAa,IAEvD,IAAK,KAAK,OAAQ,CAChB,YAAY,UAAU,KAAD,+BAAsC,IAAtC,KAEvB,UAAU,KAAM,KAAK,IAAI,SAAS,KAAK,UAIpC,IAAI,SAAW,EAAE,GAAG,GAAG,GAAG,G,0BACjC,UAAU,cAAc,YAAa,CACnC,MAAO,YACP,KAAM,UAAU,YAChB,MAAO,mEACL,0CACA,gCACA,4CACA,4CACF,cAAe,KACf,IAAK,SAAA,MAAA,OAAO,SAAS,MAAQ,EAAI,YAAc,SAAS,KAAK,MAC7D,IAAK,SAAA,IAAC,GACJ,EAAI,OAAO,GACX,IAAI,KAAO,EAAE,MAAM,KACnB,GAAI,GAAK,KAAK,SAAW,EAAG,CAC1B,SAAS,GAAK,SAAS,GAAK,SAAS,GAAK,SAAS,GAAK,OAAO,QAC1D,GAAI,KAAK,SAAW,EAAG,CAC5B,SAAS,GAAK,SAAS,GAAK,OAAO,KAAK,IACxC,SAAS,GAAK,SAAS,GAAK,OAAO,KAAK,SACnC,GAAI,KAAK,SAAW,EAAG,CAC5B,IAAK,IAAI,GAAK,EAAG,GAAK,IAAK,GAAI,CAC7B,SAAS,IAAM,OAAO,KAAK,UAExB,IAIT,MAAO,OAGT,UAAU,SAAS,CACjB,IAAK,cACL,KAAM,+BACN,KAAM,SAAA,KAAU,IAAK,WACnB,IAAI,aAAe,cAAc,QAAQ,kBACzC,IAAK,aAAc,CACjB,OAAO,UAAU,KAAM,yCAEzB,cAAc,QAAQ,iBAAkB,WACxC,OAAO,UAAU,KAAM,yEAI3B,UAAU,cAAc,iBAAkB,CACxC,MAAO,iBACP,KAAM,UAAU,SAChB,KAAM,kCACN,IAAK,SAAA,MAAA,OAAO,OAAO,eAAiB,EAAI,GACxC,IAAK,SAAA,IAAC,GAAD,OAAO,OAAO,oBAAoB;;;;mCCvJzC,IAAM,SAAW,QAAQ,iBACzB,IAAM,OAAS,QAAQ,eACvB,IAAM,WAAa,QAAQ,cAC3B,IAAM,QAAU,QAAQ,W,IAEhB,SAAa,QAAb,S,IAEF,c,WACJ,SAAA,cAAY,QACV,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,EAAI,EAAE,GACX,KAAK,EAAI,QAAQ,aACjB,KAAK,KAAO,OACZ,KAAK,YAAc,MAEnB,KAAK,YAAc,QAAQ,YAC3B,KAAK,KAAO,GACZ,KAAK,YAAc,GACnB,KAAK,QAAU,EACf,KAAK,OAAS,KACd,KAAK,cAAgB,MACrB,KAAK,cAAgB,MACrB,KAAK,aAAe,MACpB,KAAK,eAAiB,MACtB,KAAK,WAAa,KAClB,KAAK,WAAa,KAClB,KAAK,UAAY,EACjB,KAAK,YAAY,QAEjB,KAAK,WAAa,MAClB,KAAK,KAAO,KACZ,KAAK,MAAQ,KACb,KAAK,UAAY,MACjB,KAAK,aAAe,MACpB,KAAK,WAAa,E,0CAEpB,YAAA,SAAA,YAAY,QACV,IAAK,OAAQ,CACX,OAEF,IAAK,IAAI,KAAK,OAAQ,CACpB,KAAK,GAAK,OAAO,K,OAGrB,QAAA,SAAA,UACE,OAAO,KAAK,M,OAEd,QAAA,SAAA,QAAQ,UACN,GAAI,KAAK,MAAO,CACd,KAAK,MAAM,MAAQ,SAErB,KAAK,KAAO,U,OAEd,MAAA,SAAA,QACE,GAAI,KAAK,MAAO,CACd,KAAK,MAAM,YACN,CACL,KAAK,cAAgB,KAEvB,QAAQ,WAAW,MACnB,KAAK,WAAa,KAClB,GAAI,KAAK,cAAgB,WAAW,gBAAiB,CACnD,WAAW,oB,OAGf,QAAA,SAAA,UACE,QAAQ,UAAU,O,OAEpB,UAAA,SAAA,YACE,OAAO,KAAK,Y,OAGd,YAAA,SAAA,cACE,IAAI,iBAAmB,KAAK,WAC5B,IAAI,aAAe,QAAQ,WAAW,MACtC,IAAI,YAAc,KAAK,OAAS,SAAS,gBAAkB,KAAK,MAChE,GAAI,mBAAqB,aAAc,CAErC,GAAI,eAAiB,aAAe,KAAK,MAAO,CAC9C,SAAS,kCAAmC,MAC5C,KAAK,MAAM,QAEb,IAAK,cAAgB,YAAa,CAChC,SAAS,+CAAgD,MACzD,KAAK,MAAM,aAER,GAAI,cAAgB,aAAc,CACvC,SAAS,kCAAmC,MAC5C,QAAQ,WAAW,MACnB,aAAe,UACV,IAAK,aAAe,aAAc,EAGzC,IAAI,QAAU,aAEd,GAAI,QAAS,CACX,IAAI,QAAW,KAAK,eAAiB,KAAK,KAAQ,CAAE,YAAa,WAAW,kBAAqB,KACjG,GAAI,WAAW,UAAU,WAAW,KAAK,IAAK,SAAU,CACtD,GAAI,KAAK,MAAQ,KAAK,WAAY,CAChC,KAAK,QAAQ,QACR,CACL,QAAQ,cACR,GAAI,KAAK,MAAO,CACd,KAAK,MAAM,OAEb,QAAU,MACV,KAAK,SAAW,OAItB,KAAK,WAAa,QAClB,OAAO,S,OAGT,IAAA,SAAA,IAAI,QAAQ,IAAA,MAAA,KACV,KAAK,YAAY,QAEjB,GAAI,KAAK,aAAe,OAAO,YAAc,EAAG,CAE9C,KAAK,UAAY,MAEnB,KAAK,WAAa,OAAO,YAEzB,KAAK,SAAW,MAChB,IAAI,QAAU,KAAK,cAEnB,QAAQ,sBAAsB,KAAK,MACnC,IAAI,KAAO,QAAQ,QAAQ,KAAK,YAAa,KAAK,MAClD,GAAI,OAAS,KAAK,KAAM,CACtB,GAAI,KAAM,CAER,KAAK,YAAc,GACnB,IAAI,KAAO,SAAS,cAAc,QAClC,KAAK,aAAa,eAAgB,OAClC,IAAI,MAAQ,SAAS,cAAc,KAAK,UAAY,WAAa,SACjE,MAAM,aAAa,eAAnB,YAA+C,KAAK,UACpD,MAAM,aAAa,OAAQ,KAAK,MAChC,MAAM,aAAa,cAAe,KAAK,aACvC,GAAI,KAAK,QAAS,CAChB,MAAM,aAAa,YAAa,KAAK,SAEvC,GAAI,KAAK,UAAW,CAClB,MAAM,aAAa,OAAQ,KAAK,WAElC,MAAM,aAAa,WAAY,GAC/B,KAAK,iBAAiB,SAAU,SAAC,IAC/B,GAAG,iBACH,MAAK,UAAY,KACjB,MAAK,KAAO,MAAK,MAAM,MACvB,GAAI,MAAK,eAAiB,MAAK,KAAM,CACnC,WAAW,iBAAiB,qBAE7B,MACH,KAAK,YAAY,OACjB,IAAI,KAAO,SAAS,cAAc,QAClC,KAAK,aAAa,WAAY,GAC9B,KAAK,YAAY,MACjB,KAAK,YAAY,MACjB,MAAM,MAAQ,KAAK,KACnB,KAAK,MAAQ,MACb,GAAI,KAAK,eAAiB,KAAK,cAAe,CAC5C,MAAM,QACN,KAAK,cAAgB,MAEvB,GAAI,KAAK,eAAgB,CACvB,MAAM,cAEH,CACL,KAAK,MAAQ,KAEf,KAAK,UAAY,MACjB,KAAK,KAAO,SACP,CACL,GAAI,KAAK,MAAO,CACd,KAAK,KAAO,KAAK,MAAM,OAG3B,GAAI,KAAM,CACR,IAAI,IAAM,SAAS,QAAQ,KAAK,EAAG,KAAK,GACxC,IAAK,KAAK,WAAY,CACpB,KAAK,WAAa,MAEpB,KAAK,MAAM,KAAU,IAAI,GAAzB,IACA,KAAK,MAAM,IAAS,IAAI,GAAxB,IACA,IAAI,KAAO,SAAS,SAAS,KAAK,EAAG,GACrC,KAAK,MAAM,MAAW,KAAK,GAA3B,IACA,IAAI,aAAe,KAAK,MAAM,UAAY,MAC1C,IAAI,aAAkB,SAAS,kBAAkB,KAAK,aAAa,QAAQ,GAAvE,KACJ,GAAI,eAAiB,aAAc,CACjC,KAAK,MAAM,SAAW,aAExB,GAAI,KAAK,OAAQ,CACf,KAAK,MAAM,WAAa,KAAK,QAIjC,GAAI,QAAS,CACX,GAAI,KAAK,aAAc,CACrB,GAAI,WAAW,MAAM,CAAE,KAAM,OAAS,CACpC,QAAQ,WAAW,WAIvB,WAAW,sBAGb,WAAW,mBAAmB,CAAE,EAAG,KAAK,EAAG,EAAG,KAAK,EAAG,EAAG,KAAK,EAAG,EAAG,KAAK,cAEzE,GAAI,KAAK,UAAW,CAClB,KAAK,UAAY,MACjB,OAAO,KAAK,OAEd,GAAI,KAAK,SAAU,CACjB,KAAK,SAAW,MAChB,OAAO,KAAK,OAEd,OAAO,M,OAET,MAAA,SAAA,QAEE,KAAK,KAAO,KACZ,KAAK,MAAQ,M,wBAGjB,cAAc,UAAU,OAAS,SACjC,cAAc,UAAU,OAAS,SAE1B,SAAS,OAAO,QACrB,OAAO,IAAI,cAAc;;;;6zBCnO3B,IAAM,OAAS,QAAQ,UACvB,IAAM,OAAS,QAAQ,e,IACf,YAA8B,OAA9B,YAAa,aAAiB,OAAjB,a,aAC+C,QAAQ,oBAApE,e,SAAA,eAAgB,iB,SAAA,iBAAkB,sB,SAAA,sBAC1C,IAAM,KAAO,QAAQ,aACrB,IAAM,QAAU,QAAQ,gBACxB,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iB,cACW,QAAQ,cAApC,K,UAAA,KAAM,K,UAAA,KAAM,K,UAAA,KAAM,M,UAAA,MAE1B,IAAM,YAAc,CAClB,QAAS,CACP,GAAI,gCAEN,KAAM,CACJ,GAAI,gCAEN,cAAe,CACb,GAAI,iCAEN,cAAe,CACb,GAAI,yCAQN,aAAc,CACZ,GAAI,yCAOD,SAAS,eAAe,IAAK,KAClC,YAAY,KAAO,IAGrB,SAAS,UAAU,KACjB,IAAI,KAAO,YAAY,KACvB,IAAK,KAAK,OAAQ,CAChB,GAAI,KAAK,GAAI,CACX,KAAK,OAAS,QAAQ,OAAO,KAAK,QAC7B,CACL,KAAK,OAAS,QAAQ,OAAO,KAAK,KAGtC,OAAO,KAAK,OAId,IAAI,OAAS,MACb,IAAI,WAAa,KAAK,EAAG,GAAI,GAAI,GACjC,IAAI,cAAgB,KAAK,EAAG,GAC5B,IAAI,sBAAwB,CAC1B,WAAA,WACA,cAAA,eAGF,IAAI,2BAGJ,IAAI,4BACJ,IAAI,4BACJ,IAAI,UACJ,SAAS,UACP,OAAS,KAET,UAAY,KAAK,OACf,CAAC,CAAC,QAAQ,SAAS,SAAU,GAAG,MAAO,EAAG,QAC1C,IAAI,aAAa,CACf,EAAG,EACH,EAAG,EACH,EAAG,EACH,EAAG,IACD,KAAM,KAAK,OAUjB,2BAA6B,CAC3B,WAAA,WACA,cAAA,cACA,YAAa,IAAI,aAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAoBlE,4BAA8B,CAC5B,WAAA,WACA,cAAA,cACA,aAAc,KAAK,EAAG,EAAG,GACzB,MAAO,IAAI,aAAa,CAAC,IAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,MAGpE,4BAA8B,CAC5B,WAAA,WACA,cAAA,cACA,gBAAiB,QAIrB,IAAI,WAAa,EACV,SAAS,mBACZ,WAEG,SAAS,uBACZ,WAGJ,SAAS,SAAS,IAChB,qBACA,KAGK,SAAS,aAAa,EAAG,IAC9B,iBACA,QAAQ,QAAQ,EAAG,SAAS,KAAK,KAAM,KAGlC,SAAS,oBAEd,WAAa,EACb,wBAGK,SAAS,eACd,OAAO,MAAM,WAAY,GAGpB,SAAS,iBACd,OAAQ,WAGH,SAAS,gBAAgB,KAC9B,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,MACT,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,EAGxB,SAAS,YAAY,KAC1B,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,KACT,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,EAGxB,SAAS,eAAe,KAC7B,IAAI,GAAK,IAAI,GAAK,IAAI,IAAM,EAC5B,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EACtD,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,EAGxB,SAAS,iBAAiB,IAAK,iBACpC,IAAI,GAAM,EAAI,gBACd,IAAI,GAAM,GAAK,MAAU,gBACzB,IAAI,GAAM,GAAK,MACf,IAAI,GAAM,GAAK,MACf,IAAI,GAAM,GAAK,MACf,IAAI,GAAM,GAAK,MAAU,gBACzB,IAAI,GAAM,GAAK,MACf,IAAI,GAAM,GAAK,MACf,IAAI,GAAM,GAAK,MACf,IAAI,GAAM,GAAK,MAAU,gBACzB,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,EAGxB,SAAS,UAAU,IAAK,OA0C7B,IAAI,EAAI,KAAK,IAAI,OACjB,IAAI,EAAI,KAAK,IAAI,OACjB,IAAI,GAAM,MAAS,GAAO,kBAAqB,EAAK,MACpD,IAAI,IAAO,MAAS,EAAM,mBAAsB,EAAK,MACrD,IAAI,IAAO,MAAS,GAAO,kBAAqB,EAAK,MACrD,IAAI,IAAO,MAAS,GAAO,kBAAqB,EAAK,MACrD,IAAI,GAAM,MAAS,EAAM,mBAAsB,EAAK,MACpD,IAAI,IAAO,MAAS,EAAM,kBAAqB,EAAK,MACpD,IAAI,IAAO,MAAS,EAAM,kBAAqB,EAAK,MACpD,IAAI,IAAO,MAAS,GAAO,mBAAsB,EAAK,MACtD,IAAI,GAAM,MAAS,EAAM,iBAAoB,EAAK,MAClD,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,EAGxB,SAAS,oBAAoB,IAAK,kBACvC,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EAC3B,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EACtD,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,iBAGxB,SAAS,sBAAsB,IAAK,OACzC,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,MAC3B,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EACtD,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,EAGxB,SAAS,eAAe,IAAK,aAClC,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EAC3B,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EACtD,IAAI,GAAK,YAAY,GACrB,IAAI,IAAM,YAAY,GACtB,IAAI,IAAM,YAAY,GAGjB,SAAS,eAAe,IAAK,eAClC,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,cAC3B,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EACtD,IAAI,GAAK,IAAI,IAAM,IAAI,IAAM,IAAO,EAAI,eAI1C,SAAS,YAAY,OAAQ,OAAQ,QACnC,IAAI,MAAQ,OAAO,QAAU,OAAS,kBAAoB,OAAO,MACjE,GAAI,OAAO,eAAgB,CAEzB,IAAI,SAAW,OAAO,SACtB,IAAI,SAAW,SAAS,GACxB,IAAI,SAAW,SAAS,GACxB,OAAS,QAAU,SACnB,OAAS,QAAU,SACnB,WAAW,GAAK,EAAM,OAAS,SAC/B,WAAW,GAAK,EAAM,OAAS,cAC1B,GAAI,OAAO,SAAU,CAC1B,OAAO,OADmB,IAEpB,UAAa,OAAb,SACN,IAAI,UAAW,UAAS,GACxB,IAAI,UAAW,UAAS,GACxB,OAAS,QAAU,UACnB,OAAS,QAAU,UAEnB,WAAW,GAAK,EAAM,OAAS,UAC/B,WAAW,GAAK,EAAM,OAAS,UAE/B,iBAAiB,CACf,MAAO,OAAO,MACd,UAAW,OAAO,UAClB,YAAa,OAAO,YACpB,SAAA,UACA,MAAA,YAEG,CACL,WAAW,GAAK,EAChB,WAAW,GAAK,EAChB,OAAS,QAAU,cACnB,OAAS,QAAU,eAEnB,iBAAiB,CACf,MAAO,OAAQ,OAAQ,OACvB,MAAA,QAQJ,QAAQ,KAAK,UAAU,WAAY,UAAU,OAAO,QAAS,OAAO,QACpE,SAAS,UAAU,OAAO,MAC1B,UAAU,OAkEL,SAAS,UAAU,QACxB,IAAK,OAAQ,CACX,UAEF,IAAI,OAAS,OAAO,OACpB,IAAK,OAAQ,CACX,OAAS,eAAe,CAAE,cAAe,OAAO,gBAElD,OAAO,OAAS,OAAO,QAAU,OACjC,OAAO,OAAS,sBAChB,OAAO,KAAO,CAAC,QACf,YAAY,QAGP,SAAS,kBAAkB,QAChC,IAAK,OAAQ,CACX,UAEF,IAAI,OAAS,OAAO,OACpB,QAAQ,QACR,IAAK,OAAQ,CACX,OAAS,eAAe,CAAE,cAAe,OAI3C,IAAI,KAAO,OAAO,MAClB,IAAI,KAAO,OAAO,OAClB,IAAI,cAAgB,OAAO,OAAS,KAAQ,KAC5C,4BAA4B,aAAa,GAAK,aAC9C,4BAA4B,aAAa,GAAK,EAC9C,4BAA4B,aAAa,GAAK,EAC9C,YAAY,CACV,OAAQ,gBACR,OAAQ,4BACR,KAAM,CAAC,QACP,MAAO,OACN,KAAM,MACT,IAAI,MAAQ,eAAe,CAAE,cAAe,OAG5C,cAAgB,OAAO,OAAS,KAAQ,KACxC,4BAA4B,aAAa,GAAK,EAC9C,4BAA4B,aAAa,GAAK,aAC9C,4BAA4B,aAAa,GAAK,EAC9C,YAAY,CACV,OAAQ,gBACR,OAAQ,4BACR,KAAM,CAAC,OACP,MAAO,OACN,KAAM,MACT,IAAI,MAAQ,eAAe,CAAE,cAAe,OAG5C,MAAM,4BAA4B,gBAChC,OAAO,MAAO,OAAO,OAAQ,EAAE,OAAO,MAAO,EAAE,OAAO,QAExD,YAAY,CACV,OAAQ,gBACR,OAAQ,4BACR,KAAM,CAAC,OAAQ,MAAO,OAEtB,MAAO,OAAO,MACd,UAAW,OAAO,UAClB,YAAa,OAAO,YACpB,SAAU,OAAO,WAId,SAAS,kBAAkB,QAChC,IAAK,OAAQ,CACX,UAEF,IAAI,OAAS,eAAe,CAAE,cAAe,OAC7C,IAAI,SAAW,OAAO,UAAY,IAClC,IAAI,SAAW,OAAO,UAAY,IAGlC,IAAI,cAAgB,OAEpB,IAAI,SAAW,OAAO,SACtB,IAAI,IAAM,SACV,MAAO,IAAM,SAAS,IAAM,IAAM,SAAS,GAAI,CAC7C,KAAO,EAGT,MAAO,IAAM,SAAU,CACrB,YAAY,CACV,OAAQ,OAAO,aAAe,OAC9B,OAAQ,sBACR,KAAM,CAAC,eACP,MAAO,OACN,IAAK,KACR,cAAgB,eAAe,CAAE,cAAe,OAChD,KAAO,EAIT,IAAI,cAAgB,OAAO,MAAQ,GAAK,IACxC,4BAA4B,aAAa,GAAK,aAC9C,4BAA4B,aAAa,GAAK,EAC9C,4BAA4B,aAAa,GAAK,OAAO,MAAQ,EAC7D,YAAY,CACV,OAAQ,gBACR,OAAQ,4BACR,KAAM,CAAC,eACP,MAAO,OACN,IAAK,KACR,IAAI,KAAO,eAAe,CAAE,cAAe,OAE3C,4BAA4B,aAAa,GAAK,EAC9C,4BAA4B,aAAa,GAAK,aAC9C,4BAA4B,aAAa,GAAK,OAAO,MAAQ,EAC7D,YAAY,CACV,OAAQ,gBACR,OAAQ,4BACR,KAAM,CAAC,QAGT,OAAO,KAGF,SAAS,iBAAiB,QAC/B,IAAK,OAAQ,CACX,UAEF,IAAI,OAAS,eAAe,CAAE,cAAe,OAE7C,IAAI,OAAS,OAAO,YACpB,IAAI,KAAO,2BAA2B,YAEtC,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,IACjB,KAAK,GAAK,OAAO,GACjB,KAAK,GAAK,OAAO,GACjB,KAAK,IAAM,OAAO,GAClB,KAAK,IAAM,OAAO,IAElB,YAAY,CACV,OAAQ,eACR,OAAQ,2BACR,KAAM,CAAC,UAGT,OAAO,KA6EF,SAAS,aACd,IAAI,OAAS,GAAG,aAAa,GAAG,YAChC,GAAI,OAAQ,CACV,GAAG,QAAQ,GAAG,YAEhB,GAAG,UAAU,MAAO,MAAO,MAAO,MAClC,UAAU,CAAE,OAAQ,SAAS,SAAS,MAAO,eAAgB,OAC7D,GAAG,UAAU,KAAM,KAAM,KAAM,MAC/B,GAAI,OAAQ,CACV,GAAG,OAAO,GAAG;;;;s1DC3nBjB,QAAQ,kBAED,IAAI,MAAQ,OAAO,SAAS,UAAU,MAAM,yB,oBAEnD,QAAQ,cAER,IAAM,OAAS,QAAQ,U,aACG,QAAQ,gBAA1B,c,SAAA,cACR,IAAM,SAAW,QAAQ,iBACzB,IAAM,KAAO,QAAQ,aACrB,IAAM,QAAU,QAAQ,gB,IAChB,aAAwF,QAAxF,aAAc,kBAA0E,QAA1E,kBAAmB,eAAuD,QAAvD,eAAgB,eAAuC,QAAvC,eAAgB,mBAAuB,QAAvB,mB,cACL,QAAQ,qBAApE,mB,UAAA,mBAAoB,mB,UAAA,mBAAoB,gB,UAAA,gBAChD,IAAM,UAAY,QAAQ,a,cAC0B,QAAQ,oBAApD,iB,UAAA,iBAAkB,sB,UAAA,sBAC1B,IAAM,KAAO,QAAQ,aACrB,IAAM,MAAQ,QAAQ,cACtB,IAAM,cAAgB,QAAQ,sBAC9B,IAAM,aAAe,QAAQ,oBAC7B,IAAM,SAAW,QAAQ,gBACzB,IAAM,WAAa,QAAQ,kBAC3B,IAAM,QAAU,QAAQ,oBACxB,IAAM,cAAgB,QAAQ,qBAC9B,IAAM,gBAAkB,QAAQ,uB,IACxB,KAAqD,KAArD,KAAM,IAA+C,KAA/C,IAAK,MAA0C,KAA1C,MAAO,IAAmC,KAAnC,IAAK,IAA8B,KAA9B,IAAK,GAAyB,KAAzB,GAAI,MAAqB,KAArB,MAAO,IAAc,KAAd,IAAK,KAAS,KAAT,KACpD,IAAM,OAAS,QAAQ,eACvB,IAAM,KAAO,QAAQ,aACrB,IAAM,SAAW,QAAQ,iBACzB,IAAM,QAAU,QAAQ,gB,cAC0B,QAAQ,cAAlD,a,UAAA,aAAc,a,UAAA,aAAc,U,UAAA,UACpC,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iB,IACjB,aAAiB,SAAjB,aACR,IAAM,gBAAkB,QAAQ,mBAChC,IAAM,QAAU,QAAQ,WACxB,IAAM,QAAU,QAAQ,gB,cACoB,QAAQ,wBAA5C,M,UAAA,MAAO,S,UAAA,SAAU,S,UAAA,SAAU,K,UAAA,K,cACgD,QAAQ,cAAnF,K,UAAA,KAAM,K,UAAA,KAAM,K,UAAA,KAAM,K,UAAA,KAAM,U,UAAA,UAAW,a,UAAA,aAAc,O,UAAA,OAAQ,O,UAAA,OAAQ,M,UAAA,MAElE,IAAI,O,sBACJ,IAAI,O,sBACJ,IAAI,e,sCAEJ,IAAI,M,oBACJ,IAAI,O,sBACX,IAAI,SACJ,IAAI,UACG,IAAI,aAAe,E,kCACnB,IAAI,oBAAsB,OAAO,kBAAoB,E,gDACrD,IAAI,U,4BACJ,IAAI,sB,oDAEJ,IAAI,W,8BACJ,IAAI,Y,gCACX,IAAI,YAEG,IAAI,a,kCACJ,IAAI,c,oCAGJ,IAAI,QAAU,QAAQ,SAAS,CAAE,IAAK,IAAK,KAAM,QAAQ,SAAU,OAAQ,iB,wBAE3E,IAAI,K,kBACJ,IAAI,M,oBACJ,IAAI,MAAQ,E,oBACZ,IAAI,MAAQ,E,oBAEZ,IAAI,eAAiB,O,sCACrB,IAAI,SAAW,O,0BACtB,IAAI,MAAQ,OACL,IAAI,OAAS,O,sBACpB,IAAI,OAAS,OACb,IAAI,eAAiB,OACrB,IAAI,QAAU,OACd,IAAI,qBAAuB,OAC3B,IAAI,aAAe,OACnB,IAAI,mBAAqB,OAElB,IAAI,cAAgB,KAAK,IAAM,IAAM,K,oCAC5C,IAAI,aAAe,KAAK,EAAG,EAAG,GACvB,IAAI,cAAgB,KAAK,IAAM,IAAM,K,oCACrC,IAAI,aAAe,MAAM,GAAI,GAAI,G,kCAEjC,IAAI,K,kBACJ,IAAI,UAAY,K,4BAChB,IAAM,aAAe,KAAK,EAAG,EAAG,EAAG,G,kCAE1C,IAAI,UAAY,MAET,SAAS,cAAc,WAC5B,UAAY,UACZ,GAAI,UAAW,CACb,QAAQ,mBAIZ,IAAI,SAAW,OACR,SAAS,kBAAkB,WAChC,SAAS,SAAU,WACnB,QAAQ,OAAQ,eAAgB,UAChC,aAAa,cACb,UAAU,aAAc,aAAc,UACtC,WAAW,SAAU,UACrB,aAAa,aAAc,UAItB,SAAS,SAAS,WAEvB,gBAAgB,MAAO,MAAO,OAAQ,MAAO,MAC7C,SAAS,SAAU,WACnB,QAAQ,OAAQ,eAAgB,UAG3B,SAAS,OAAO,SACrB,IAAI,EAAI,cAAgB,MACxB,IAAI,EAAI,eAAiB,OACzB,IAAI,OAAS,EAAI,EACjB,GAAI,OAAS,YAAa,CACxB,QAAA,MAAA,MAAQ,QACR,IAAI,KAAO,IAAI,MAAQ,GAAK,IAAI,MAAQ,GAAK,OAC7C,QAAA,MAAA,MAAQ,EAAI,KAAK,KAAO,KAAK,KAAO,KAAO,QACtC,CAEL,IAAI,MAAO,IAAI,QAAU,GAAK,IAAI,QAAU,GAAK,YACjD,QAAA,MAAA,MAAQ,EAAI,KAAK,MAAO,KAAK,MAAO,MAAO,IAG3C,IAAI,MAAQ,IAAI,MAAQ,GAAK,IAAI,MAAQ,GAAK,OAC9C,QAAA,MAAA,MAAQ,EAAI,KAAK,MAAQ,KAAK,MAAQ,MAAQ,KAI3C,SAAS,YAAY,EAAG,GAC7B,QAAA,WAAA,WAAa,EACb,QAAA,YAAA,YAAc,EACd,YAAc,WAAa,YAK7B,IAAM,6BAA+B,IAC9B,IAAI,eAAiB,cAAc,IAAI,4BAA8B,6B,sCACrE,SAAS,oBAAoB,OAClC,cAAc,IAAI,yBAA0B,MAAQ,UAAY,8BAChE,QAAA,eAAA,eAAiB,MAGZ,SAAS,eACd,IAAI,OAAS,GAAG,WAChB,GAAI,OAAQ,CACV,QAAQ,MAAM,QACd,MAAM,IAAI,MAAM,SAIb,SAAS,gBACd,IACE,GAAI,GAAI,CACN,IAAI,IAAM,GAAG,aAAa,sBAC1B,GAAI,IAAK,CACP,IAAI,gBAGR,MAAO,WAKJ,SAAS,aAEd,qBAEA,gBACA,GAAI,OAAO,UAAW,CACpB,IACE,OAAO,IAAI,SAAS,SACpB,MAAO,GAEP,OAAO,UAAU,YAEd,CACL,SAAS,SAAS,UAGtB,OAAO,WAAa,WAEpB,IAAI,kBAAoB,GACjB,SAAS,mBAAmB,QACjC,kBAAkB,QAAU,QAAQ,QAEtC,mBAAmB,eACnB,mBAAmB,YACZ,SAAS,iBACd,IAAK,IAAI,OAAO,kBAAmB,CACjC,GAAI,QAAQ,OAAS,kBAAkB,KAAM,CAC3C,QAAQ,YAAY,YACpB,OAGJ,QAAQ,uBAGV,SAAS,aAAa,EAAG,KACvB,IAAI,IAAM,EAAE,KAAK,EAAE,KAAO,EAAE,IAAI,GAAG,EAAE,IAAI,GAAK,EAAE,IAAI,GAAG,EAAE,IAAI,GAC7D,GAAI,IAAM,EAAG,CACX,IAAM,EAAI,KAAK,KACf,EAAE,MAAQ,IACV,EAAE,IAAI,IAAM,IACZ,EAAE,IAAI,IAAM,KAIT,SAAS,eAAe,WAE7B,SAAS,MAAO,WAEhB,QAAQ,OAAQ,SAAU,WAC1B,QAAQ,QAAS,eAAgB,QAIjC,SAAS,SAAU,WACnB,aAAa,SAAU,GACvB,aAAa,SAAU,GACvB,aAAa,SAAU,GACvB,QAAQ,eAAgB,SAAU,UAClC,WAAW,SAAU,gBACrB,cAAc,SAAU,UACxB,aAAa,qBAAsB,UAE9B,IAAI,gBAAkB,E,wCACtB,SAAS,oBACd,OAAO,gBAGF,IAAI,YAAc,E,gCAClB,SAAS,gBACd,OAAO,YAGF,IAAI,SAAW,E,0BACf,SAAS,aACd,OAAO,SAGF,IAAI,OAAS,E,sBAGpB,IAAI,uBAAyB,EACtB,SAAS,mBACd,OAAO,uBAGT,IAAI,oBAAsB,KACnB,IAAI,WAAa,K,8BACjB,SAAS,SAAS,WACvB,GAAI,WAAY,CACd,oBAAsB,cACjB,CACL,QAAA,UAAA,UAAY,WAIT,SAAS,YAAY,YAC1B,GAAI,WAAY,CACd,OAAO,sBAAwB,eAC1B,CACL,OAAO,YAAc,YAIzB,IAAI,KAAO,IACX,IAAI,iBAAmB,EACvB,IAAI,iBAAmB,EACvB,IAAI,cAAgB,EACpB,IAAI,UAAY,IAEhB,IAAI,gBAAkB,EAEf,IAAM,kBAAoB,I,4CAC1B,IAAI,WAAa,OAAO,gBAAkB,CAC/C,SAAU,CACR,MAAO,EACP,QAAS,IAAI,aAAa,kBAAoB,IAEhD,QAAS,CACP,IAAK,EACL,KAAM,I,8BAGV,IAAI,SAAW,WAAW,SAE1B,KAAK,UAAU,CACb,KAAM,MACN,UAAW,WACX,WAAY,YACZ,OAAQ,CACN,QAAS,SAAA,MAAA,OAAO,IAAO,MAAM,QAAQ,IACrC,SAAU,SAAA,MAAA,OAAM,KAAK,QAAQ,IAC7B,QAAS,SAAA,MAAA,OAAM,UAAU,QAAQ,KAGnC,KAAM,SACN,eAAgB,GAChB,OAAQ,CAEN,KAAK,EAAG,KAAO,KAAO,GACtB,KAAK,EAAG,KAAO,KAAO,MAI1B,IAAI,WAAa,KACjB,IAAI,wBAA0B,MAC9B,IAAI,WAAa,EAEV,SAAS,WACd,OAAO,WAGT,IAAI,mBAAqB,GAClB,SAAS,YAAY,IAC1B,mBAAmB,KAAK,IAG1B,IAAI,UAAY,GACT,SAAS,SAAS,MACvB,KAAK,MAAQ,KAAK,OAAS,EAC3B,KAAK,SAAW,KAAK,UAAY,MACjC,OAAO,aAAa,KAAK,GAAI,YAC7B,UAAU,KAAK,MAGjB,SAAS,eACP,eACA,wBAGK,SAAS,cACd,OAAO,cAAgB,MAElB,SAAS,eACd,OAAO,eAAiB,OAG1B,IAAM,yBAA4B,WAChC,IAAI,OAAS,OAAO,OACpB,IAAK,gBAAkB,OAAQ,CAC7B,OAAO,EAET,IAAM,YAAc,CAKlB,UAAW,IAAI,IAGf,UAAW,IAAI,IAEf,UAAW,IAAI,IAGf,UAAW,IAAI,IAIf,UAAW,IAAI,IAGf,UAAW,IAAI,IAEf,UAAW,IAAI,KAEjB,IAAI,IAAS,IAAI,OAAO,WAAY,OAAO,aAAvC,IAAuD,IAAI,OAAO,WAAY,OAAO,aACzF,OAAO,YAAY,MAAQ,EA9BK,GAgClC,SAAS,kBAAkB,OAAQ,QAEjC,GAAI,0BAA4B,SAAS,OAAO,OAAQ,yBAA0B,MAAQ,CAGxF,OAAO,IAAM,OAAO,kBAAoB,GAE1C,OAAO,EAIT,IAAI,kBACJ,IAAI,mBACJ,IAAI,iBACJ,IAAI,cACJ,IAAI,uBAAyB,MAC7B,IAAI,gBAAkB,CAAC,EAAE,EAAE,EAAE,GAC7B,IAAI,qBAAuB,CAAC,EAAE,EAAE,EAAE,GAClC,SAAS,cAGP,IAAI,GAAK,OAAO,gBAAkB,GAClC,QAAA,oBAAA,oBAAsB,OAAO,kBAAoB,EACjD,QAAA,oBAAA,oBAAA,oBAAuB,SAAS,iBAChC,IAAI,OAAU,GAAG,OAAS,OAAO,WACjC,IAAI,OAAU,GAAG,QAAU,OAAO,YAClC,GAAI,SAAW,iBAAkB,CAE/B,iBAAmB,OACnB,SAAS,KAAK,MAAM,OAAY,OAAhC,KAEF,IAAI,KAAO,OAAO,wBAClB,IAAI,UAAY,MAAM,KAAK,MAAQ,sBAAwB,EAC3D,IAAI,WAAa,MAAM,KAAK,OAAS,sBAAwB,EAE7D,GAAI,KAAK,SAAS,MAAQ,EAAG,CAC3B,GAAI,cAAe,CACjB,IAAI,SAAW,cAAc,YAC7B,IAAI,UAAY,cAAc,aAC9B,GAAI,UAAY,UAAW,CACzB,MAAM,gBACJ,cAAc,WAAa,oBAC3B,WAAa,SAAW,cAAc,YAAc,oBACpD,IAAI,cAAc,UAAY,oBAC5B,kBAAkB,OAAQ,QAAU,SAAS,kBAG/C,uBAAyB,EAAI,YAAc,UAAY,cAAc,WAAa,2BAGnF,CACL,MAAM,gBACJ,UAAY,MAAM,KAAK,SAAS,GAAI,EAAG,IAAI,IAC3C,UAAY,MAAM,KAAK,SAAS,GAAI,EAAG,IAAI,IAC3C,WAAa,MAAM,KAAK,SAAS,GAAI,EAAG,IAAI,IAC5C,WAAa,MAAM,KAAK,SAAS,GAAI,EAAG,IAAI,KAEhD,IAAK,OAAO,gBAAiB,sBAAuB,CAClD,OAAO,qBAAsB,iBAC7B,SAAS,mBAAmB,gBAAgB,GAAI,gBAAgB,GAAI,gBAAgB,GAAI,gBAAgB,IACxG,WAAa,IAAI,WAAY,GAG/B,GAAI,YAAc,mBAAqB,aAAe,mBAAoB,CACxE,OAAO,YAAc,oBACrB,kBAAoB,OAAO,MAAQ,WAAa,EAChD,mBAAqB,OAAO,OAAS,YAAc,EAEnD,QAAA,MAAA,MAAQ,OAAO,MACf,QAAA,OAAA,OAAS,OAAO,OAChB,OAAO,SAAS,IAAM,GAAK,KAG3B,WAAa,GAEf,GAAI,gBAAkB,OAAO,gBAAkB,YAAa,CAG1D,OAAO,OAAO,EAAE,IAIb,IAAI,SAAW,KAAK,EAAE,EAAE,EAAE,G,0BAC1B,SAAS,YAAY,MAC1B,OAAO,SAAU,MACjB,GAAG,SAAS,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,IAG9C,IAAI,gBAAkB,MACtB,SAAS,eACP,GAAI,gBAAiB,CACnB,OAEF,gBAAkB,KAClB,IAAI,QAAU,SAAS,QACvB,GAAI,QAAQ,UAAY,WAAY,CAKlC,QAAU,EAEZ,GAAI,QAAS,CAEX,WAAW,KAAM,MAAM,IAAO,cACzB,CAEL,sBAAsB,OAI1B,IAAI,kBACG,IAAI,kB,4CAEJ,SAAS,gBAAgB,UAAW,UAAW,WAAY,MAAO,MACvE,gBAAgB,eAAgB,UAAW,UAAU,WAAY,MAAO,MACxE,kBAAoB,eAAe,IACnC,MAAM,mBACJ,GAAK,UAAY,eAAe,IAChC,GAAK,WAAa,eAAe,MAC/B,EAAI,eAAe,IAAM,eAAe,KACxC,EAAI,eAAe,IAAM,eAAe,IAIvC,SAAS,UAAU,MAAO,MAC/B,QAAA,MAAA,MAAQ,MACR,QAAA,KAAA,KAAO,KACP,GAAI,kBAAmB,CACrB,gBAAgB,MAAO,MAAO,OAAQ,MAAO,OAIjD,IAAI,2BACG,SAAS,mBACd,QAAA,kBAAA,kBAAoB,KACpB,GAAI,6BAA+B,QAAQ,OAAQ,CACjD,iBAEF,GAAG,UAAU,GAAG,UAAW,GAAG,qBAC9B,GAAG,OAAO,GAAG,OACb,GAAG,OAAO,GAAG,YACb,GAAG,UAAU,MACb,iBAAiB,CACf,MAAO,SACP,OAAQ,UACR,MAAO,iBACP,WAAY,KACZ,MAAO,KACP,UAAW,SAAS,qBAGtB,GAAI,aAAc,CAChB,gBAAgB,MAAO,aAAc,cAAe,MAAO,UACtD,CACL,gBAAgB,MAAO,MAAO,OAAQ,MAAO,MAG/C,GAAG,OAAO,GAAG,WAGf,SAAS,oBACP,GAAI,QAAQ,OAAQ,CAClB,GAAG,QAAQ,GAAG,cACd,MAAM,SAAU,EAAG,EAAG,MAAO,QAC7B,GAAG,SAAS,SAAS,GAAI,SAAS,GAAI,SAAS,GAAI,SAAS,QACvD,CACL,qBACA,GAAI,SAAS,oBAAsB,EAAG,CACpC,QAAQ,kBAAkB,CAAE,MAAO,iBAAkB,MAAO,YACvD,CACL,QAAQ,UAAU,CAAE,cAAe,SAAS,oBAAsB,MAKjE,SAAS,uBACd,GAAG,QAAQ,GAAG,WACd,GAAG,UAAU,GAAG,UAAW,GAAG,qBAC9B,GAAG,OAAO,GAAG,OACb,GAAG,QAAQ,GAAG,YACd,GAAG,UAAU,OAGR,SAAS,gBAAgB,KAAM,MACpC,IAAK,KAAM,CACT,eAAe,IAAM,kBACrB,OAGF,IAAI,EAAI,IAAO,MAAQ,MAAQ,KAAO,QACtC,EAAI,IAAI,EAAG,MACX,eAAe,IAAM,kBAAoB,EAG3C,SAAS,WAAW,YAElB,IAAI,EAAI,GACR,IAAK,IAAI,KAAK,EAAG,CACf,QAAQ,WAAa,MAAQ,SAA7B,uCAA6E,EAA7E,qCACA,IAAI,QAAU,EAAE,UACT,MAAM,UAAU,GAGvB,OAAO,eAAe,MAAM,UAAW,EAAG,CAAE,MAAO,QAAS,WAAY,QAE1E,IAAK,IAAI,MAAK,EAAG,CAEf,OAAO,MAAD,0CAAkD,KAI5D,SAAS,aAGP,SAAS,qBACT,QAAQ,oBACR,KAAK,iBAIL,GAAG,UAAU,GAAG,UAAW,GAAG,qBAE9B,GAAG,OAAO,GAAG,OAEb,GAAG,OAAO,GAAG,YAEb,GAAG,UAAU,MAEb,GAAG,OAAO,GAAG,WAEb,GAAG,UAAU,GAAG,QAEhB,GAAG,QAAQ,GAAG,cAEd,GAAG,SAAS,GAAG,MACf,GAAG,SAAS,EAAG,EAAG,MAAO,QAGpB,IAAM,MAAQ,OAAO,YAAc,OAAO,YAAY,IAAI,KAAK,OAAO,aAAe,KAAK,IAAI,KAAK,M,oBAE1G,IAAI,UAAY,EAChB,SAAS,KAAK,WACZ,gBAAkB,MAOlB,QAAA,OAAA,OAAS,QAET,IAAI,IAAM,MAAM,QAChB,IAAK,UAAW,CACd,UAAY,IAEd,uBAAyB,IAAM,UAC/B,IAAI,GAAK,IAAI,IAAI,uBAAwB,GAAI,KAC7C,QAAA,SAAA,SAAW,GACX,UAAY,IACZ,QAAA,gBAAA,gBAAA,gBAAmB,GACnB,QAAA,YAAE,YAAA,YAAF,EAEA,WAAW,OAIX,SAAS,QAAS,SAAS,MAAQ,kBAAqB,EAAI,GAAK,uBACjE,SAAS,QACT,SAAS,QAAS,SAAS,MAAQ,kBAAqB,EAAI,GAAK,IAE/D,iBACF,iBAAmB,cAEnB,GAAI,IAAM,iBAAmB,SAAS,WAAa,IAAM,CACvD,IAAK,iBAAkB,CACrB,iBAAmB,QACd,CACL,MAAQ,IAAM,kBAAoB,iBAClC,UAAY,gBAAkB,iBAC9B,gBAAkB,EAGlB,iBAAmB,EACnB,iBAAmB,KAIvB,oBAEA,GAAI,SAAS,QAAU,SAAS,cAAgB,UAAW,CACzD,eACA,MAAM,oBACN,cAAgB,EAChB,IAAK,IAAI,GAAK,UAAU,OAAS,EAAG,IAAM,IAAK,GAAI,CACjD,GAAI,UAAU,IAAI,aAAe,UAAU,IAAI,MAAO,CACpD,UAAU,IAAI,KACd,KAAK,UAAW,KAGpB,eACA,OAGF,cACA,QAAA,kBAAA,kBAAoB,MACpB,2BAA6B,MAC7B,GAAI,aAAc,CAEhB,SAAW,aACX,UAAY,cACZ,qBACK,CACL,SAAW,MAAM,MAAQ,SAAS,cAClC,UAAY,MAAM,OAAS,SAAS,cACpC,GAAI,WAAa,MAAO,CACtB,2BAA6B,MAIjC,aAEA,SAAS,KAAK,EAAG,SAAS,SAAS,OAEnC,SAAS,eACT,gBAAgB,OAAO,IACvB,SAAS,eAAe,WAAY,aAEpC,UAAU,IACV,MAAM,YACN,QAAQ,OAAO,IAEf,GAAI,WAAY,GACZ,WACF,IAAI,GAAK,GACT,SAAS,aAAa,GAAI,CAAC,EAAE,IAC7B,IAAI,GAAK,GACT,SAAS,aAAa,GAAI,CAAC,WAAW,EAAE,YAAY,IACpD,IAAI,UAAY,CAAC,GAAG,GAAI,GAAG,GAAI,GAAG,GAAI,GAAG,IACzC,IAAI,YAAc,UAAU,GAAK,UAAU,GAE3C,IAAI,UAAY,IAAI,IAAK,IAAI,EAAG,MAAM,YAAY,IAAM,MACxD,IAAI,gBAAkB,SAAS,eAAe,cAC9C,GAAI,gBAAiB,CACnB,gBAAgB,MAAM,aAAkB,UAAxC,MAIJ,GAAI,WAAY,CAEd,QAAQ,SAAS,SAAS,SAAU,SAAS,SAAU,SAAS,SAAU,EAAG,EAAE,QAAS,cACxF,QAAQ,SAAS,SAAS,SAAU,YAAa,SAAS,SAAU,SAAS,SAAU,EAAE,QAAS,cAClG,QAAQ,SAAS,SAAS,SAAU,EAAG,EAAG,YAAa,EAAE,QAAS,cAClE,QAAQ,SAAS,WAAY,EAAG,SAAS,SAAU,YAAa,EAAE,QAAS,cAG7E,GAAI,SAAS,aAAc,CACzB,KAAK,OAGP,IAAK,IAAI,IAAK,EAAG,IAAK,mBAAmB,SAAU,IAAI,CACrD,mBAAmB,KAAI,IAEzB,GAAI,UAAW,CACb,UAAU,IAGZ,eAAe,KAAK,IAEpB,GAAI,kBAAmB,CACrB,GAAI,2BAA4B,CAC9B,yBAEG,CAEL,GAAI,aAAc,CAEhB,iBAAiB,CACf,MAAO,aACP,OAAQ,cACR,MAAO,KACP,UAAW,SAAS,mBACpB,MAAO,iBACP,WAAY,YAET,CACL,iBAAiB,CACf,MAAA,MACA,OAAA,OACA,MAAO,KACP,MAAO,iBACP,WAAY,SAKlB,uBACA,QAAQ,OAER,QAAQ,WAER,GAAI,aAAc,CAChB,qBACA,IAAI,YAAc,CAAC,EAAG,EAAG,EAAG,GAC5B,IAAI,eAAiB,CACnB,SAAS,gBAAiB,SAAS,uBACnC,SAAS,kBAAmB,SAAS,mBAEvC,IAAI,OAAS,CACX,MAAO,KACP,UAAW,KACX,YAAa,YACb,SAAU,gBAEZ,GAAI,wBAAyB,CAC3B,QAAQ,kBAAkB,YACrB,CACL,QAAQ,UAAU,SAItB,MAAM,WACN,eACA,eAEA,IAAK,IAAI,KAAK,UAAU,OAAS,EAAG,MAAM,IAAK,KAAI,CACjD,MAAO,UAAU,MAAI,MAAO,CAC1B,UAAU,MAAI,KACd,KAAK,UAAW,OAIpB,cAAgB,QAAU,IAC1B,SAAS,QAAS,SAAS,MAAQ,kBAAqB,EAAI,GAAK,cACjE,eAGF,SAAS,yBACP,eACA,WAAW,uBAAwB,KAI9B,SAAS,gBAAgB,IAC9B,GAAI,GAAI,CACN,QAAA,aAAA,aAAe,WACf,QAAA,cAAA,cAAgB,gBACX,CACL,QAAA,aAAA,aAAe,UACf,QAAA,cAAA,cAAgB,WAIb,SAAS,QAAQ,QACtB,WAAW,MAEX,QAAA,OAAA,OAAS,SAAS,eAAe,UACjC,cAAgB,SAAS,eAAe,YAExC,GAAI,OAAO,eAAiB,MAAO,CACjC,mBAAmB,QAAQ,cAC3B,OAAO,kBAAoB,SAAC,IAAK,KAAM,KAAM,KAC3C,WAAW,aAAc,GACzB,OAAO,gBAAgB,KAAM,IAAK,KAAM,KAAM,MAIlD,uBAAyB,OAAO,wBAA0B,MAG1D,OAAO,iBAAiB,SAAU,YAAa,OAC/C,cAEA,IAAI,UAAY,OAAO,QAAU,OAAO,SAAW,MACnD,QAAA,UAAA,UAAY,OAAO,YAAc,WAAa,OAAO,YAAc,MACnE,IAAI,gBAAkB,OAAO,KAAO,mBAAqB,UACzD,IAAI,cAAgB,CAAC,SAAU,QAAS,sBACxC,IAAI,aAAe,QAAQ,SAC3B,IAAI,aAAe,cAAc,QAAQ,kBAEzC,GAAI,cAAgB,aAAa,KAAO,UAAU,WAAa,aAAa,GAAK,KAAK,MAAQ,EAAE,GAAG,GAAG,GAAG,IAAM,CAC7G,QAAQ,IAAI,uEACZ,aAAe,KAEjB,GAAI,QAAU,QAAQ,YAAa,CACjC,IAAI,GAAK,cAAc,QAAQ,YAAa,GAAK,EACjD,cAAc,QAAQ,YAAa,IACnC,GAAI,GAAK,EAAG,CACV,aAAe,MAGnB,GAAI,aAAc,CAChB,cAAc,OAAO,EAAG,GAE1B,IAAI,aAAe,CACjB,CAAE,UAAA,UAAW,gBAAA,gBAAiB,MAAO,OACrC,CAAE,gBAAA,gBAAiB,MAAO,OAC1B,CAAE,UAAA,UAAW,MAAO,OACpB,CAAE,MAAO,OACT,IAEF,IAAI,KAAO,MACX,QAAA,OAAA,OAAS,MACT,IAAK,IAAI,EAAI,GAAI,MAAQ,EAAI,cAAc,OAAQ,GAAK,EAAG,CACzD,IAAK,IAAI,GAAK,GAAI,MAAQ,GAAK,aAAa,SAAU,GAAI,CACxD,IACE,OAAO,GAAK,OAAO,WAAW,cAAc,GAAI,aAAa,KAC7D,GAAI,OAAO,GAAI,CACb,GAAI,cAAc,KAAO,SAAU,CACjC,QAAA,OAAA,OAAS,KAEX,GAAI,YAAc,aAAa,IAAI,UAAW,CAC5C,QAAA,sBAAA,sBAAwB,KACxB,QAAA,UAAA,UAAY,MAEd,KAAO,KACP,OAEF,MAAO,MAKb,IAAK,KAAM,CAET,OAAO,MAAM,+EACb,SAAS,eAAe,WAAW,MAAM,WAAa,SACtD,SAAS,eAAe,WAAW,MAAM,WAAa,UACtD,OAAO,MAET,QAAQ,IAAR,eAA0B,OAAO,EAAE,IAEnC,OAAO,IACP,OAAO,QACP,YAAY,OAAO,YAAc,KAAM,OAAO,aAAe,KAC7D,QAAA,MAAA,MAAQ,OAAO,OAAS,GACxB,QAAA,KAAA,KAAO,OAAO,MAAQ,IACtB,gBAAgB,OAAO,SAAW,UAClC,GAAI,OAAO,sBAAwB,OAAO,SAAW,SAAU,CAC7D,wBAA0B,KAE5B,QAAA,aAAA,aAAe,OAAO,cAAgB,EACtC,OAAO,SAAS,IAAM,GAAK,KAE3B,GAAG,UAAU,GAAG,QAEhB,GAAG,SAAS,GAAG,MACf,GAAG,WAAW,EAAG,GAAK,GAAK,GAC3B,GAAG,YAAY,GAAG,iBAAkB,GAEpC,SAAS,UACT,KAAK,UACL,QAAQ,QAAQ,CACd,cAAA,cACA,aAAA,aACA,QAAS,cACT,MAAO,MACP,OAAQ,OACR,OAAQ,OACR,IAAK,QACL,aAAc,qBACd,aAAc,aACd,KAAM,SACN,WAAY,eACZ,mBAAA,qBAEF,SAAS,UACT,QAAQ,UACR,MAAM,QAAQ,OAAQ,QACtB,OAAO,UAGP,QAAA,eAAA,eAAiB,QAAQ,kBAAkB,SAE3C,GAAI,UAAW,CACb,SAAS,eAAe,GAAG,QAAS,GAAG,SACvC,SAAS,eAAe,oBAAqB,OACxC,CACL,SAAS,eAAe,GAAG,qBAAsB,GAAG,QAGtD,OAAO,OAAO,MAYd,OAAO,KAAP,QAAA,KAAc,KAAO,UAAU,OAAO,OAAO,KAAK,KAAM,OAAO,KAAK,SACpE,GAAI,OAAO,WAAY,CACrB,OAAO,WAAa,UAAU,OAAO,OAAO,WAAW,KAAM,OAAO,WAAW,SAEjF,QAAQ,QAAQ,QAEhB,aAAa,OAAO,OACpB,QAAQ,WAAW,SAAS,OAAO,WAAa,GAAI,CAClD,aAAc,eACd,SAAU,cAGZ,SAAS,eAAe,WAAY,aAEpC,GAAI,OAAO,MAAO,CAChB,SAAS,OAAO,OAElB,GAAI,OAAO,aAAe,UAAW,CACnC,WAAa,OAAO,WAEtB,GAAI,OAAO,WAAa,UAAW,CACjC,SAAS,SAAW,OAAO,SAG7B,yBACA,OAAO,KAGF,SAAS,eACd,OAAO,SAAS,WAAa,eAAiB,OAAO,WAGvD,SAAS,UACP,IAAI,WAAa,eACjB,IAAI,kBAAoB,SAAS,eAAe,gBAChD,GAAI,kBAAmB,CACrB,kBAAkB,UAAlB,YAA0C,WAA1C,OAEF,IAAK,WAAY,CACf,QAAA,WAAA,WAAa,MACb,QAAA,UAAA,UAAY,oBAEZ,SAAS,CACP,MAAO,EACP,GAAI,SAAA,KACF,IAAI,aAAe,SAAS,eAAe,WAC3C,GAAI,aAAc,CAChB,aAAa,MAAM,WAAa,cAM1C,QAAA,UAAA,UAAY,QAEZ,OAAO,YAAc;;;;yPCngCrB,IAAI,sBAAwB,MAErB,SAAS,qBACd,sBAAwB,KAG1B,IAAI,SAAW,IACR,SAAS,mBAAmB,MACjC,SAAW,KAGb,IAAI,qBAAuB,GAC3B,IAAI,yBAA2B,GACxB,SAAS,sBAAsB,IAAK,OACzC,GAAI,MAAO,CACT,qBAAqB,KAAO,OAAO,OAAO,YACrC,QACE,qBAAqB,KAE9B,yBAAA,IAA+B,OAAO,KAAK,sBACxC,IAAI,SAAC,GAAD,OAAU,EAAV,IAAe,qBAAqB,KACxC,KAAK,KAEV,sBAAsB,MAAO,iBAEtB,SAAS,wBACd,OAAO,qBAGT,IAAI,gBAAkB,EACtB,IAAI,UAAY,EAOhB,IAAI,gBAAkB,6FACf,SAAS,gBAAgB,SAAU,IAAK,KAAM,KAAM,KACzD,QAAQ,MAAM,KACd,GAAI,SAAU,GAGV,UACF,IAAI,IAAM,KAAK,MACf,IAAI,GAAK,IAAM,gBACf,gBAAkB,IAClB,GAAI,sBAAuB,CACzB,OAAO,MAET,GAAI,GAAK,GAAG,IAAM,CAKhB,OAAO,MAET,GAAI,IAAI,MAAM,iBAAkB,CAC9B,OAAO,OAIX,IAAI,IAAM,SACV,MAAU,SAAW,cAAgB,YAA9B,SAAiD,UAAjD,SAAmE,OAAO,OAA1E,UACI,MAAM,GADV,SACmB,KAAK,GADxB,QACiC,OAAO,SAAS,QADjD,QAEG,OAAO,KAAO,0BACxB,IAAI,IAAM,IAAI,eACd,IAAI,KAAK,OAAQ,IAAK,MACtB,IAAI,KAAK,MACT,OAAO;;;;sLCtET,IAAM,QAAU,QAAQ,gBACxB,IAAM,cAAgB,QAAQ,sB,aACP,QAAQ,cAAvB,W,SAAA,WAED,IAAI,MAAQ,M,oBACnB,IAAI,iBAAmB,GAChB,SAAS,QAAQ,UACtB,GAAI,MAAO,CACT,YAAY,WAEd,iBAAiB,KAAK,UAGxB,IAAI,qBAAuB,MAC3B,SAAS,cAAc,SAAU,cAE/B,aAAe,cAAc,MAE7B,SAAS,+BACP,GAAI,SAAU,CAEZ,WAAW,SAAS,IAIxB,SAAS,4BAA4B,GACnC,GAAI,GAAK,EAAE,OAAS,aAAc,CAChC,QAAQ,MAAM,8BAA+B,GAE/C,UAAU,SACR,yBAEF,+BAGF,SAAS,iBACP,QAAQ,KAAK,yCACb,GAAI,UAAU,mBAAmB,QAAQ,kCAAoC,EAAG,CAC9E,UAAU,OAAO,uBAAuB,KAAK,SAAU,cACrD,GAAI,aAAc,CAChB,UAAU,SACR,sBAEF,UAAU,OAAO,oBAAoB,KAAK,WACxC,UAAU,SACR,yBAEF,gCACA,6BAA6B,MAAM,iCAChC,CACL,kCAED,MAAM,iCACJ,CACL,gCAIJ,SAAS,2BACP,iBAGF,SAAS,4BAA4B,GACnC,QAAQ,MAAM,8BAA+B,GAC7C,UAAU,SACR,8BAEF,2BAGF,IAAI,qBAAuB,cAAc,IAAI,mCAC7C,SAAS,iBACP,QAAQ,KAAK,2CACb,GAAI,UAAU,mBAAmB,QAAQ,6BAA+B,IACrE,uBACA,qBACD,CACA,qBAAuB,KACvB,UAAU,yBAAyB,KAAK,SAAU,mBAChD,GAAI,kBAAmB,CACrB,UAAU,SACR,2BAEF,UAAU,sBAAsB,KAAK,WACnC,cAAc,IAAI,kCAAkC,MACpD,UAAU,SACR,8BAEF,4BACA,WACA,UAAU,SACR,kCAEF,6BACC,MAAM,iCACJ,CACL,8BAED,MAAM,iCACJ,CACL,4BAIJ,GAAI,aAAc,CAChB,qBACK,CACL,kBAIG,SAAS,OACd,IAAK,OAAO,UAAW,CACrB,OAGF,IAAI,KAAO,EACX,IAAI,mBAAqB,YAAY,WACnC,MAAQ,GACR,UAAU,mBAAmB,IAAK,KAAK,KAAM,IAC7C,KAEF,UAAU,kBAAkB,KAAK,WAC/B,IAAI,eAAiB,UAAU,qBAAqB,GAGpD,IAAI,YAAc,eAAe,aAAa,GAC9C,IAAK,IAAI,KAAK,YAAa,CACzB,QAAQ,IAAI,EAAG,YAAY,IAG7B,cAAc,oBACd,QAAA,MAAA,MAAQ,KACR,UAAU,iBAAiB,KAAK,WAC9B,iBAAiB,QAAQ,SAAC,GAAD,OAAO,MAChC,iBAAmB,GAEnB,QAAQ,KAAK,mBACb,cAAc,WACZ,QAAQ,KAAK,6BAGhB,MAAM,SAAU,GACjB,QAAQ,KAAK,yBAA0B,KAGzC,UAAU,QAAQ,WAChB,eAIG,SAAS,eAAe,IAC7B,QAAQ,WACN,OAAO,UAAU,OAAO,2BAA2B,KAAK,SAAC,QACvD,GAAI,GAAI,CACN,GAAG,KAAM,CACP,UAAW,OAAO,eAClB,aAAc,OAAO,UAAU,OAAO,YAExC,GAAK,QAEN,MAAM,SAAC,KACR,GAAI,GAAI,CACN,GAAG,KACH,GAAK,UAMb,IAAI,WAAa,GAEV,SAAS,aAAa,SAC3B,OAAO,WAAW,SAKb,SAAS,aAAa,IAC3B,QAAQ,WACN,OAAO,UAAU,OAAO,2BAA2B,KAAK,SAAC,SACvD,IAAI,KAAO,QAAQ,IAAI,SAAC,QACtB,IAAI,QAAA,MAAgB,OAAO,QAC3B,WAAW,SAAW,OAAO,UAC7B,OAAO,UAET,GAAI,GAAI,CACN,GAAG,KAAM,MACT,GAAK,QAEN,MAAM,SAAC,KACR,GAAI,GAAI,CACN,GAAG,KACH,GAAK;;;;qMClMb,IAAM,OAAS,QAAQ,UAEvB,IAAI,OAAS,GACb,IAAI,SAAW,GAGR,SAAS,YAAY,cAAe,IACzC,GAAI,cAAc,KAAO,IAAK,CAC5B,QAAQ,OAAO,gBACf,OAAO,eAAiB,OACnB,CACL,SAAS,KAAK,CAAC,cAAe,MAIlC,IAAI,WAEG,SAAS,wBAAwB,IACtC,WAAa,GAGf,SAAS,aAAa,UACpB,QAAQ,IAAR,qBAAiC,UACjC,IAAI,QAAU,SAAS,YAAY,KACnC,IAAI,WAAa,MACjB,GAAI,WAAa,EAAG,CAClB,IAAI,IAAM,SAAS,MAAM,SACzB,GAAI,OAAO,KAAM,CACf,GAAI,OAAO,KAAK,YAAc,MAAO,CACnC,WAAa,OAInB,IAAK,IAAI,GAAK,EAAG,GAAK,SAAS,SAAU,GAAI,CAC3C,GAAI,SAAS,MAAM,SAAS,IAAI,IAAK,CACnC,GAAI,SAAS,IAAI,GAAG,YAAc,MAAO,CACvC,WAAa,OAInB,GAAI,YAAc,WAAY,CAC5B,WAAU,cAAe,WAItB,SAAS,uBAAuB,UACrC,aAAa,UAGR,SAAS,iBAAiB,QAC/B,OAAO,MAAM,YAAa;;;;4TC9C5B,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,iB,IACjB,MAAsB,KAAtB,MAAO,IAAe,KAAf,IAAK,MAAU,KAAV,MAEpB,IAAM,QAAU,QAAQ,gBACxB,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iB,aACP,QAAQ,wBAAlB,M,SAAA,M,cAC2B,QAAQ,cAAnC,K,UAAA,KAAM,Q,UAAA,QAAS,Q,UAAA,QAoChB,IAAM,WAAa,CACxB,OAAQ,EACR,SAAU,G,8BAGL,IAAM,MAAQ,CACnB,MAAO,EACP,QAAS,EACT,OAAQ,EACR,MAAO,EAEP,KAAM,GAAK,EACX,QAAS,GAAK,EACd,QAAS,GAAK,EACd,MAAO,GAAK,EAEZ,KAAM,GAAK,EACX,MAAO,GAAK,EAEZ,WAAY,EAAK,GAAK,EACtB,SAAU,EAAK,GAAK,EACpB,YAAa,EAAK,GAAK,EAAM,GAAK,G,oBAyCpC,SAAS,gBACP,KAAK,WAAa,KAAK,EAAE,EAAE,EAAE,GAE/B,cAAc,UAAU,cAAgB,EACxC,cAAc,UAAU,cAAgB,EACxC,cAAc,UAAU,WAAa,EACrC,cAAc,UAAU,WAAa,EACrC,cAAc,UAAU,WAAa,EACrC,cAAc,UAAU,WAAa,EACrC,cAAc,UAAU,WAAa,EACrC,cAAc,UAAU,MAAQ,WAChC,cAAc,UAAU,QAAU,EAClC,cAAc,UAAU,QAAU,EAClC,cAAc,UAAU,QAAU,EAClC,cAAc,UAAU,WAAa,WAAW,OAEzC,IAAM,aAAe,G,kCAErB,SAAS,sBAAsB,GACpC,OAAS,EAAE,GAAK,IAAM,IAAM,IACxB,EAAE,GAAK,IAAM,IAAM,IACnB,EAAE,GAAK,IAAM,IAAM,GACnB,EAAE,GAAK,IAAM,GAGZ,SAAS,sBAAsB,EAAG,GACvC,EAAE,IAAO,GAAK,GAAM,KAAQ,IAC5B,EAAE,IAAO,GAAK,GAAM,KAAQ,IAC5B,EAAE,IAAO,GAAK,EAAK,KAAQ,IAC3B,EAAE,IAAM,EAAI,KAAQ,IAGf,IAAM,wBAA0B,IAAI,c,wDAEpC,SAAS,MAAM,WAAY,QAChC,IAAI,IAAM,IAAI,cAD0B,IAElC,WAAe,IAAf,WACN,GAAI,WAAY,CACd,IAAK,IAAI,KAAK,WAAY,CACxB,IAAI,GAAK,WAAW,IAGxB,IAAK,IAAI,MAAK,OAAQ,CACpB,IAAI,IAAK,OAAO,IAElB,IAAI,WAAa,WACjB,sBAAsB,IAAI,WAAY,IAAI,OAC1C,OAAO,IAGF,SAAS,aAAa,WAAY,OACvC,OAAO,MAAM,WAAY,CACvB,MAAA,QAIJ,SAAS,WAAW,MAAO,OACzB,MAAQ,MAAM,OAAO,MAAQ,KAAQ,OAAQ,EAAG,KAChD,OAAO,MAAQ,WAAa,MAGvB,SAAS,WAAW,WAAY,OACrC,OAAO,MAAM,WAAY,CACvB,MAAO,YAAY,YAAc,yBAAyB,MAAO,OACjE,cAAe,YAAY,YAAc,yBAAyB,cAAe,OACjF,WAAY,YAAY,YAAc,yBAAyB,WAAY,SAI/E,IAAI,YAAc,KAClB,IAAI,kBAAoB,MACxB,IAAI,WAAa,KAEjB,SAAS,4BACP,GAAI,YAAa,CACf,OAGF,YAAc,CACZ,OAAQ,OACR,aAAc,OACd,UAAW,OACX,WAAY,OACZ,KAAM,MAER,IAAK,WAAY,CACf,WAAa,QAIjB,SAAS,cAAc,MAAO,OAC5B,IAAI,IAAM,YAAY,OAEtB,IAAK,kBAAmB,CACtB,GAAI,IAAI,KAAO,MAAM,IAAM,IAAI,KAAO,MAAM,IAAM,IAAI,KAAO,MAAM,IAAM,IAAI,KAAO,MAAM,GAAI,CAE5F,YAAc,CACZ,OAAQ,QAAQ,YAAY,QAC5B,aAAc,QAAQ,YAAY,cAClC,UAAW,QAAQ,YAAY,WAC/B,WAAY,QAAQ,YAAY,aAElC,kBAAoB,KACpB,IAAM,YAAY,WACb,CAEL,QAGJ,GAAI,kBAAmB,CAErB,IAAI,GAAK,MAAM,GACf,IAAI,GAAK,MAAM,GACf,IAAI,GAAK,MAAM,GACf,IAAI,GAAK,MAAM,IAKnB,SAAS,gBACP,kBAAoB,MACpB,OAAO,YAGT,SAAS,SAAS,UAAW,cAC3B,OAAO,UAAU,YAAc,GAE/B,KAAK,QAAU,SAAS,KAAK,CAC3B,IAAG,OAAS,aAAT,OACH,WAAY,UAAU,SAAW,GAAG,QAAU,GAAG,OACjD,WAAY,UAAU,SAAW,GAAG,QAAU,GAAG,OACjD,OAAQ,GAAG,cACX,OAAQ,GAAG,gBAEb,KAAK,SAAW,CAAC,KAAK,SAEtB,KAAK,UAAY,UACjB,KAAK,OAAS,aAAa,QAC3B,KAAK,MAAQ,UAAU,OACvB,KAAK,MAAQ,UAAU,OAGvB,IAAK,IAAI,GAAK,EAAG,GAAK,UAAU,WAAW,SAAU,GAAI,CACvD,IAAI,UAAY,UAAU,WAAW,IACrC,UAAU,MAAQ,GAAK,UAAU,IAAM,GACvC,UAAU,EAAI,UAAU,GAAK,EAI/B,KAAK,WAAa,GAClB,IAAK,IAAI,IAAK,EAAG,IAAK,UAAU,WAAW,SAAU,IAAI,CACvD,IAAI,WAAY,UAAU,WAAW,KACrC,KAAK,WAAW,UAAU,WAAW,KAAI,GAAK,WAC9C,WAAU,KAAO,WAAU,MAAQ,EACnC,WAAU,MAAQ,WAAU,OAAS,EAEvC,KAAK,sBAAwB,KAAK,aAAa,OAC/C,IAAK,KAAK,sBAAuB,CAC/B,KAAK,sBAAwB,KAAK,aAAa,IAGjD,KAAK,cAAgB,IAAI,cACzB,KAAK,cAAgB,IAAI,cAEzB,4BAMF,SAAS,UAAU,eAAiB,SAAU,MAAO,EAAG,EAAG,EAAG,KAAM,MAAO,MACzE,OAAO,KAAK,UAAU,aAAa,MAAO,OAAQ,EAAG,EAAG,EAAG,KAAM,OAEnE,SAAS,UAAU,UAAY,SAAU,MAAO,EAAG,EAAG,EAAG,KAAM,MAC7D,OAAO,KAAK,WAAW,MAAO,EAAG,EAAG,EAAG,KAAO,KAAK,UAAU,UAAW,KAAO,KAAK,UAAU,UAAW,OAG3G,SAAS,UAAU,iBAAmB,SAAU,MAAO,GAAI,GAAI,EAAG,KAAM,MAAO,EAAG,EAAG,MACnF,IAAI,OAAS,KACb,IAAI,OAAS,KACb,IAAI,MAAQ,KAAK,eAAe,MAAO,OAAQ,MAC/C,GAAK,MAAQ,MAAM,MAAS,MAAQ,EAAG,CACrC,IAAI,MAAQ,EAAI,MAChB,QAAU,MACV,MAAQ,EAGR,GAAI,MAAQ,GAAK,CACf,IAAK,MAAQ,MAAM,SAAW,MAAM,UAAY,MAAQ,MAAM,SAAW,MAAM,QAAS,CAEtF,KAAO,OAAU,OAAS,MAAQ,GAAM,EAE1C,QAAU,MAAQ,GAGtB,IAAI,OAAS,OACb,IAAI,EACJ,IAAI,EACJ,OAAQ,MAAQ,MAAM,OACpB,KAAK,MAAM,QACT,EAAI,IAAM,EAAI,OAAS,EACvB,GAAI,KAAK,UAAU,SAAU,CAC3B,GAAK,EAEP,MACF,KAAK,MAAM,OACT,EAAI,GAAK,EAAI,MACb,MACF,KAAK,MAAM,MACT,EAAI,GACJ,MACF,QACE,EAAI,GAER,OAAQ,MAAQ,MAAM,OACpB,KAAK,MAAM,QACT,EAAI,IAAM,EAAI,QAAU,EACxB,GAAI,KAAK,UAAU,SAAU,CAC3B,GAAK,EAEP,MACF,KAAK,MAAM,QACT,EAAI,GAAK,EAAI,OACb,MACF,KAAK,MAAM,KACT,EAAI,GACJ,MACF,QACE,EAAI,GAGR,OAAO,KAAK,WAAW,MAAO,EAAG,EAAG,EAAG,OAAS,KAAK,UAAU,UAAW,OAAS,KAAK,UAAU,UAAW,OAI/G,SAAS,UAAU,sBAAwB,SAAU,MAAO,EAAG,EAAG,EAAG,EAAG,OAAQ,KAAM,MAAO,MAC3F,OAAO,KAAK,kBAAkB,aAAa,MAAO,OAAQ,EAAG,EAAG,EAAG,EACjE,OAAQ,KAAO,KAAK,UAAU,UAAW,KAAO,KAAK,UAAU,UAAW,OAE9E,SAAS,UAAU,iBAAmB,SAAU,MAAO,EAAG,EAAG,EAAG,EAAG,OAAQ,KAAM,MAC/E,OAAO,KAAK,kBAAkB,MAAO,EAAG,EAAG,EAAG,EAC5C,OAAQ,KAAO,KAAK,UAAU,UAAW,KAAO,KAAK,UAAU,UAAW,OAG9E,SAAS,UAAU,UAAY,SAAU,EAAG,OAAQ,KAAM,KAAM,SAC9D,OAAO,KAAK,gBAAgB,EAAG,OAAQ,KAAO,KAAK,UAAU,UAAW,KAAM,UAGhF,SAAS,UAAU,SAAW,SAAU,MAAO,EAAG,OAAQ,KAAM,MAC9D,KAAK,WAAW,OAChB,IAAI,SAAW,EACf,SAAS,aAAa,QAAS,QAAS,MACtC,SAAW,IAAI,SAAU,SAE3B,KAAK,UAAU,EAAG,OAAQ,KAAM,KAAM,cACtC,OAAO,SAAW,GAGpB,SAAS,UAAU,aAAe,SAAU,GAC1C,IAAI,IAAM,KAAK,WAAW,GAC1B,GAAI,IAAK,CACP,OAAO,IAET,GAAI,EAAI,IAAK,CAEX,OAAO,KAAK,sBAEd,OAAO,MAGT,SAAS,UAAU,kBAAoB,SAAU,MAAO,OAAQ,GAC9D,OAAO,aAAa,EAAG,UACvB,KAAK,WAAW,OAChB,IAAI,UAAY,KAAK,aAAa,GAClC,IAAI,IAAM,OAAS,KAAK,UAAU,UAClC,IAAI,UAAY,KAAK,aAAa,KAClC,GAAI,UAAW,CACb,OAAQ,UAAU,EAAI,UAAU,MAAQ,IAAM,UAAU,MAAQ,UAElE,OAAO,GAGT,SAAS,UAAU,eAAiB,SAAU,MAAO,OAAQ,MAC3D,KAAK,WAAW,OAChB,IAAI,IAAI,EACR,IAAI,IAAM,OAAS,KAAK,UAAU,UAClC,IAAI,UAAY,KAAK,aAAa,KAClC,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,EAAI,KAAK,WAAW,IACxB,IAAI,UAAY,KAAK,aAAa,GAClC,IAAK,UAAW,CACd,UAAY,KAAK,aAAa,IAEhC,GAAI,UAAW,CACb,MAAQ,UAAU,EAAI,UAAU,MAAQ,IAAM,UAAU,MAAQ,WAGpE,OAAO,KAIT,SAAS,UAAU,gBAAkB,SAAU,EAAG,OAAQ,IAAK,KAAM,SACnE,IAAI,IAAM,KAAK,OACf,IAAI,EAAI,EACR,IAAI,WAAa,EACjB,IAAI,QAAU,EACd,IAAI,EAAI,QACR,IAAI,QAAU,EACd,IAAI,WAAa,KAAK,aAAa,IACnC,IAAI,YAAc,WAAa,WAAW,EAAI,WAAW,KAAO,KAAK,UAAU,WAAa,IAC5F,IAAI,UAAY,MAChB,IAAI,UAAY,KAAK,aAAa,KAElC,EAAG,CACD,IAAI,EAAI,EAAI,IAAM,KAAK,WAAW,IAAM,MAAS,EACjD,IAAI,KAAO,EACX,IAAI,YAAM,EACV,IAAI,UAAY,KAAK,aAAa,GAClC,IAAK,UAAW,CACd,UAAY,KAAK,aAAa,IAEhC,GAAI,UAAW,CACb,QAAU,UAAU,EAAI,UAAU,MAAQ,IAAM,UAAU,MAAQ,UAClE,KAAO,EAAI,OAEb,GAAI,MAAQ,GAAK,UAAW,CAE1B,GAAI,QAAS,CACX,QAAQ,QAAS,QAAS,KAAK,MAAM,WAAY,IAEnD,WAAa,EACb,QAAU,OACV,EAAI,QAAU,OACd,cACK,CACL,EAAI,KAEN,KAAM,IAAM,IAAc,IAAM,GAAK,IAAM,IAAe,IAAM,GAAI,CAClE,IACA,EAAI,EAAI,IAAM,KAAK,WAAW,IAAM,MAAS,EAE/C,GAAI,IAAM,IAAc,IAAM,GAAK,IAAM,IAAe,IAAM,EAAG,CAC/D,UAAY,MAEZ,GAAI,EAAI,EAAG,CAET,IAAI,WAAa,EAAI,QACrB,GAAI,WAAa,EAAI,OAAQ,CAE3B,UAAY,KAEZ,EAAI,WACJ,EAAI,QACJ,aACK,CACL,QAAU,OACV,EAAI,QAAU,WACd,WAGJ,GAAI,QAAS,CACX,QAAQ,QAAS,QAAS,KAAK,MAAM,WAAY,IAEnD,WAAa,EAAE,EACf,GAAI,IAAM,GAAa,CACrB,EAAI,OACJ,eACK,GAAI,IAAM,EAAY,CAC3B,IAAI,QAAU,IAAM,KAAK,UAAU,UAAY,EAC/C,GAAK,MAAM,EAAI,SAAW,GAAK,YAC1B,CACL,GAAK,WAEP,QAAU,EACV,GAAI,IAAM,IAAc,IAAM,IAAe,IAAM,EAAG,CACpD,YAGG,EAAI,OACX,QACF,OAAO,SAGT,SAAS,UAAU,kBAAoB,SAAU,MAAO,EAAG,EAAG,EAAG,EAAG,OAAQ,IAAK,IAAK,MAAM,IAAA,MAAA,KAC1F,GAAI,OAAS,MAAQ,OAAS,UAAW,CACvC,KAAO,SAET,KAAK,WAAW,OAChB,KAAK,WAAa,EAClB,IAAI,UAAY,KAAK,gBAAgB,EAAG,OAAQ,IAAK,KAAM,SAAC,MAAO,QAAS,MAC1E,IAAI,GAAK,EAAI,MAAK,UAAU,UAAY,IAAM,QAC9C,IAAI,GAAK,EAAI,MACb,IAAI,OAAS,MAAK,WAAW,MAAO,GAAI,GAAI,EAAG,IAAK,IAAK,MACzD,MAAK,WAAa,IAAI,MAAK,WAAY,MAAQ,UAEjD,OAAO,UAAY,KAAK,UAAU,UAAY,KAGhD,SAAS,UAAU,aAAe,SAAU,KAK1C,IAAI,iBAAmB,KAAK,UAAU,UAAY,GAElD,IAAI,UAAY,IAAM,iBAAmB,IAAI,KAAK,cAAc,cAAgB,EAAG,GAEnF,UAAY,IAAI,UAAW,IAAM,iBAC/B,IAAI,KAAK,cAAc,WAAa,KAAK,cAAc,WAAa,EAAG,IACzE,OAAO,WAMT,SAAS,UAAU,WAAa,SAAU,MAAO,GAAI,EAAG,EAAG,IAAK,IAAK,MACnE,IAAI,EAAI,GACR,OAAO,SAAS,IAChB,OAAO,SAAS,IAChB,OAAO,SAAS,IAChB,IAAI,UAAY,KAAK,UAKrB,IAAM,UAAU,UAAY,GAAK,IACjC,IAAI,KAAO,KAAK,SAChB,GAAI,OAAS,MAAQ,OAAS,UAAW,CACvC,KAAO,SAET,IAAM,IAAM,KAAK,OACjB,GAAI,MAAQ,GAAK,MAAQ,EAAG,CAC1B,OAAO,EAGT,KAAK,WAAW,OAEhB,IAAM,gBAAkB,IAAM,KAAO,GACrC,IAAM,cAAgB,SAAS,KAAK,GACpC,IAAM,cAAgB,SAAS,KAAK,GACpC,IAAI,oBAAsB,IAAM,cAAgB,IAAM,eAAiB,GAMvE,IAAI,UAAY,KAAK,aAAa,KAClC,IAAI,iBAAmB,UAAU,UAAY,GAC7C,IAAI,WAAa,EAEjB,IAAI,cAAgB,KAAK,cAGzB,IAAI,uBAAyB,GAAM,UAAU,OAC7C,IAAI,qBAAuB,uBAAyB,mBACpD,IAAI,MAAQ,KACV,EAAI,sBACH,GAAM,qBAAuB,IAE7B,GAAM,qBAAuB,GAAM,cAAc,cAAc,iBAAiB,mBACjF,GAEF,GAAI,MAAM,GAAK,EAAG,CAChB,MAAM,GAAK,EAEb,IAAI,SAAW,IAAI,EAAG,cAAc,cAAc,iBAAiB,gBACnE,IAAI,SAAW,OACf,IAAM,aAAe,cAAc,WAAW,iBAC9C,SAAS,GAAK,IAAI,aAAa,IAAM,cAAc,WAAW,iBAAiB,IAAK,UACpF,SAAS,GAAK,IAAI,aAAa,IAAM,cAAc,WAAW,iBAAiB,IAAK,UACpF,SAAS,GAAK,IAAI,aAAa,IAAM,cAAc,WAAW,iBAAiB,IAAK,UACpF,SAAS,GAAK,IAAI,aAAa,IAAM,cAAc,WAAW,iBAAiB,IAAK,UAEpF,cAAc,SAAU,OACxB,IAAI,OAAS,KACX,EACA,EAEA,IAAM,cAAc,WAAa,cAAc,YAAc,uBAAyB,oBACpF,GAAM,cAAc,WAAa,uBAAyB,oBAAsB,cAAc,WAC9F,cAAc,YAAc,uBAAyB,mBAEzD,GAAI,OAAO,GAAK,EAAG,CACjB,OAAO,GAAK,EAGd,IAAI,sBAAwB,OAC5B,QAAQ,sBAAuB,SAAU,EAAI,gBAC7C,IAAK,IAAI,GAAK,EAAG,GAAK,IAAK,GAAI,CAC7B,GAAI,sBAAsB,IAAM,UAAU,OAAQ,CAEhD,IAAI,GAAK,UAAU,OAAS,sBAAsB,IAClD,SAAS,KAAO,GAChB,sBAAsB,KAAO,IAKjC,IAAM,UAAY,cAAc,WAAa,GAAK,KAAS,KAI3D,IAAI,YAAc,IAAM,eACxB,IAAI,YAAc,IAAM,eAExB,IAAK,IAAI,EAAE,EAAG,EAAE,IAAK,IAAK,CACxB,IAAM,EAAI,KAAK,WAAW,GAC1B,GAAI,IAAM,EAAG,CACX,IAAI,QAAU,IAAM,UAAU,UAAY,EAC1C,KAAQ,EAAI,IAAM,QAAW,GAAK,GAAK,QAAU,OAC5C,CACL,IAAI,UAAY,KAAK,aAAa,GAClC,IAAK,UAAW,CACd,UAAY,KAAK,aAAa,IAEhC,GAAI,UAAW,CACb,IAAI,WAAa,UAAU,MAC3B,IAAI,KAAO,IAAM,WACjB,GAAI,UAAU,EAAG,CACf,IAAI,KAAO,IAAM,WACjB,IAAI,UAAY,EAAI,WACpB,IAAI,WAAa,KAAK,MACtB,IAAI,YAAc,KAAK,MAEvB,GAAI,aAAe,WAAY,CAC7B,OAAO,IAAM,cAAc,WAAa,iBAAmB,UAAY,WACvE,OAAO,IAAM,cAAc,WAAa,iBAAmB,UAAY,YACvE,cAAc,aAAc,QAG9B,IAAI,IAAM,UAAU,GAAK,sBAAsB,GAAK,WAAa,WACjE,IAAI,IAAM,UAAU,GAAK,UAAU,EAAI,sBAAsB,GAAK,WAAa,WAC/E,IAAI,IAAM,UAAU,GAAK,sBAAsB,GAAK,WAAa,YACjE,IAAI,IAAM,UAAU,GAAK,UAAU,EAAI,sBAAsB,GAAK,WAAa,YAE/E,IAAI,EAAI,UAAU,EAAI,MAAQ,SAAS,GAAK,SAAS,IAAM,YAC3D,IAAI,EAAI,UAAU,EAAI,MAAQ,SAAS,GAAK,SAAS,IAAM,YAE3D,QAAQ,SACN,KACA,EAAI,YAAc,SAAS,GAAI,EAAI,YAAc,SAAS,GAAK,UAAU,MAAQ,KACjF,EAAI,UAAY,EAAG,EAAG,EACtB,GAAI,GAAI,GAAI,GACZ,cAAc,WACd,KAAK,OAAQ,iBASjB,IAAM,UAAU,EAAI,UAAU,MAAQ,KAAO,YAInD,OAAO,EAAI,IAGb,SAAS,UAAU,gBAAkB,WACnC,IAAI,QAAU,KAAK,cAAc,eAAkB,KAAK,cAAc,cAAgB,IACtF,IAAI,KAAO,KAAK,cAAc,WAAa,GAAM,KAAK,cAAc,WAAa,IACjF,GAAI,QAAS,CACX,GAAI,KAAM,CACR,KAAK,OAAS,aAAa,yBACtB,CACL,KAAK,OAAS,aAAa,sBAExB,GAAI,KAAM,CACf,KAAK,OAAS,aAAa,iBACtB,CACL,KAAK,OAAS,aAAa,UAI/B,SAAS,UAAU,WAAa,SAAU,OACxC,IAAK,MAAO,CACV,MAAQ,KAAK,cAGf,sBAAsB,WAAY,MAAM,eACxC,cAAc,eAAgB,YAG9B,sBAAsB,WAAY,MAAM,YACxC,cAAc,YAAa,YAG3B,KAAK,cAAc,cAAgB,MAAM,cACzC,KAAK,cAAc,cAAgB,MAAM,cACzC,KAAK,cAAc,WAAa,MAAM,WACtC,KAAK,cAAc,WAAa,MAAM,WACtC,KAAK,cAAc,WAAa,MAAM,WACtC,KAAK,cAAc,WAAa,MAAM,WACtC,KAAK,cAAc,WAAa,MAAM,WACtC,KAAK,cAAc,MAAQ,MAAM,MACjC,KAAK,cAAc,WAAa,MAAM,WACtC,KAAK,cAAc,QAAU,MAAM,QACnC,KAAK,cAAc,QAAU,MAAM,QACnC,KAAK,cAAc,QAAU,MAAM,QACnC,KAAK,cAAc,WAAa,MAAM,WAEtC,GAAI,KAAK,cAAc,aAAe,WAAW,OAAQ,CACvD,KAAK,cAAc,QAAU,KAAK,cAAc,QAAU,KAAK,cAAc,QAAU,KAAK,cAAc,MAG5G,KAAK,mBAIP,SAAS,UAAU,WAAa,WAChC,SAAS,UAAU,MAAQ,MAC3B,SAAS,UAAU,MAAQ,MAC3B,SAAS,UAAU,WAAa,WAChC,SAAS,UAAU,aAAe,aAElC,SAAS,kBACP,GAAI,aAAa,QAAS,CACxB,OAEF,aAAa,QAAU,QAAQ,OAAO,2BACtC,aAAa,aAAe,QAAQ,OAAO,gCAC3C,aAAa,gBAAkB,QAAQ,OAAO,mCAC9C,aAAa,qBAAuB,QAAQ,OAAO,wCAG9C,SAAS,OAAO,UAAW,cAChC,kBACA,OAAO,IAAI,SAAS,UAAW;;;;mXCnuBjC,IAAM,OAAS,QAAQ,U,aACJ,QAAQ,gBAAnB,O,SAAA,O,cACc,QAAQ,aAAtB,U,UAAA,U,cACc,QAAQ,gBAAtB,U,UAAA,UACR,IAAM,OAAS,QAAQ,e,IACf,YAA8B,OAA9B,YAAa,aAAiB,OAAjB,aACrB,IAAM,KAAO,QAAQ,aACrB,IAAM,SAAW,QAAQ,iBACzB,IAAM,SAAW,QAAQ,iBAEzB,IAAI,gBAAkB,EACtB,IAAI,WAAa,EAEjB,IAAI,mBAAqB,GACzB,IAAI,uBAAyB,GAE7B,IAAI,WAAa,MACjB,SAAS,YACP,WAAa,KAGf,IAAI,cAAgB,EACpB,SAAS,oBAAoB,EAAG,EAAG,cACjC,IAAI,IAAS,EAAT,IAAc,EAClB,IAAI,OAAS,cAAgB,SAAS,SACtC,GAAI,OAAQ,CACV,KAAO,OAET,IAAI,KAAO,mBAAmB,KAC9B,IAAK,KAAM,CACT,KAAO,mBAAmB,KAAO,CAAE,KAAM,GAAI,IAAK,GAEpD,GAAI,KAAK,KAAO,KAAK,KAAK,OAAQ,CAChC,IAAI,KAAM,SAAS,iBAAT,QAAkC,IAAlC,OAA2C,eACrD,GAAI,OAAQ,CACV,KAAI,SAAS,EAAG,GAElB,KAAK,KAAK,KAAK,MAEjB,IAAI,IAAM,KAAK,KAAK,KAAK,OACzB,OAAO,IAGT,SAAS,yBAAyB,EAAG,GACnC,IAAI,IAAS,EAAT,IAAc,EAClB,IAAI,KAAO,uBAAuB,KAClC,IAAK,KAAM,CACT,KAAO,uBAAuB,KAAO,CAAE,KAAM,GAAI,IAAK,GAExD,GAAI,KAAK,KAAO,KAAK,KAAK,OAAQ,CAChC,IAAI,cAAe,GAAG,qBACtB,GAAG,iBAAiB,GAAG,aAAc,eACrC,IAAI,YACJ,GAAI,SAAS,YAAa,CACxB,GAAG,oBAAoB,GAAG,aAAc,GAAG,kBAAmB,EAAG,GACjE,YAAa,GAAG,qBACX,CACL,GAAG,oBAAoB,GAAG,aAAc,GAAG,cAAe,EAAG,GAC7D,YAAa,GAAG,yBAElB,GAAG,iBAAiB,GAAG,aAAc,MACrC,KAAK,KAAK,KAAK,CAAE,aAAA,cAAc,WAAA,cAlBK,IAAA,oBAoBH,KAAK,KAAK,KAAK,OAA5C,aApBgC,oBAoBhC,aAAc,WApBkB,oBAoBlB,WACpB,GAAG,wBAAwB,GAAG,YAAa,WAAY,GAAG,aAAc,cAGnE,SAAS,sBAAsB,KACpC,IAAK,IAAI,OAAO,mBAAoB,CAClC,IAAI,KAAO,mBAAmB,KAC9B,IAAI,IAAM,KAAK,KAAK,QAAQ,KAC5B,GAAI,OAAS,EAAG,CACd,KAAK,KAAK,OAAO,IAAK,GACtB,GAAI,KAAK,IAAM,IAAK,GAChB,KAAK,IAET,QAGJ,OAAO,OAIT,SAAS,wBAAwB,IAAK,EAAG,EAAG,cAC1C,OAAO,MAAM,OAAO,SAAS,GAAI,GACjC,OAAO,MAAM,OAAO,SAAS,GAAI,GACjC,IAAK,EAAG,CACN,EAAI,cACJ,EAAI,eAEN,IAAK,IAAK,CACR,IAAM,oBAAoB,EAAG,EAAG,cAElC,IAAI,aAAa,EAAG,GACpB,OAAO,IAKF,SAAS,mBAAmB,IAAK,EAAG,EAAG,cAAe,MAC3D,IAAM,wBAAwB,IAAK,EAAG,EAAG,OACzC,IAAI,WAAW,cAAe,MAC9B,OAAO,IAIT,IAAI,QACG,SAAS,iBAAiB,MAC/B,QAAQ,SAD6B,IAE/B,MAAyF,KAAzF,MAAO,OAAkF,KAAlF,OAAQ,SAA0E,KAA1E,SAAU,MAAgE,KAAhE,MAAO,MAAyD,KAAzD,MAAO,WAAkD,KAAlD,WAAY,UAAsC,KAAtC,UAAW,YAA2B,KAA3B,YAAa,UAAc,KAAd,YAC/E,WACF,GAAI,UAAW,CACb,OAAO,UACP,QAAU,UACV,QAAQ,oBACH,IAAK,MAAO,CACjB,QAAU,wBAAwB,KAAM,MAAO,OAAQ,MACvD,GAAI,SAAS,SAAU,CACrB,GAAI,WAAY,CACd,yBAAyB,MAAO,YAC3B,IAOX,GAAI,YAAa,CACf,GAAG,WAAW,YAAY,GAAI,YAAY,GAAI,YAAY,GAAI,YAAY,IAE5E,GAAI,OAAS,UAAW,CAEtB,GAAG,QAAQ,GAAG,cACd,GAAG,MAAM,GAAG,kBAAoB,WAAa,GAAG,iBAAmB,IAErE,IAAI,aACJ,GAAI,SAAU,CACZ,OAAO,YAAY,UACnB,aAAe,SAAS,IAAM,SAAS,IAAM,SAAS,KAAO,OAAO,OAAS,SAAS,KAAO,OAAO,OACpG,GAAI,UAAW,CACb,aAAe,WAEZ,CACL,OAAO,YAAY,CAAC,EAAG,EAAG,MAAO,SACjC,aAAe,QAAU,OAAO,MAElC,GAAI,eAAiB,SAAS,SAAU,CACtC,GAAG,OAAO,GAAG,cACb,GAAI,SAAU,CACZ,GAAG,QAAQ,SAAS,GAAI,SAAS,GAAI,SAAS,GAAI,SAAS,QACtD,CACL,GAAG,QAAQ,EAAG,EAAG,MAAO,aAErB,CACL,GAAG,QAAQ,GAAG,cAEhB,GAAI,QAAU,UAAW,CACvB,GAAG,MAAM,GAAG,kBAAoB,WAAa,GAAG,iBAAmB,KAIhE,SAAS,eAAe,MAC7B,OAAO,SACP,KAAO,MAAQ,GAFoB,IAAA,MAGL,KAAxB,cAH6B,MAG7B,cAAe,KAHc,MAGd,KAErB,QAAQ,WAAW,cAAe,MAElC,IAAI,IAAM,QACV,QAAU,KACV,OAAO,IAGF,SAAS,wBAEd,QAAU,KAGL,SAAS,wBACd,QAAQ,SACR,gBAAkB,WAClB,WAAa,EAEb,IAAK,IAAI,OAAO,mBAAoB,CAClC,IAAI,KAAO,mBAAmB,KAC9B,GAAI,WAAY,CAEd,KAAK,IAAM,EAGb,MAAO,KAAK,KAAK,OAAS,KAAK,IAAK,CAClC,KAAK,KAAK,MAAM,UAElB,IAAK,KAAK,IAAK,QACN,mBAAmB,SACrB,CACL,KAAK,IAAM,GAGf,IAAK,IAAI,QAAO,uBAAwB,CACtC,IAAI,MAAO,uBAAuB,MAClC,GAAI,WAAY,CAEd,MAAK,IAAM,EAGb,MAAO,MAAK,KAAK,OAAS,MAAK,IAAK,CAAA,IAAA,eACX,MAAK,KAAK,MAA3B,aAD4B,eAC5B,aAEN,GAAG,mBAAmB,cAExB,IAAK,MAAK,IAAK,QACN,uBAAuB,UACzB,CACL,MAAK,IAAM,GAGf,WAAa,MAGR,SAAS,oCACd,GAAI,SAAW,SAAS,SAAU,CAChC,IAAI,UAAY,QAChB,IAAI,eAAiB,OAAO,SAAS,MAAM,GAE3C,iBACA,UAAU,CACR,OAAQ,UACR,MAAO,KACP,SAAU,iBAGZ,iBAAiB,CACf,UAAW,UACX,SAAU,iBAEZ,OAAO,cACF,CACL,MAAO,CAAE,MAAO,OAAO,SAAS,GAAI,OAAQ,OAAO,SAAS,KAIhE,SAAS,SAAS,CAChB,YAAa,CACX,MAAO,6BACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,IAEZ,SAAU,CACR,MAAO,6CACP,cAAe,OAAS,EAAI,EAC5B,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,GACV,IAAK,GAEP,YAAa,CACX,MAAO,mDACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,GACV,UAAW,WAEb,SAAU,CACR,MAAO,iDACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,GACV,UAAW,aAIf,KAAK,UAAU,CACb,KAAM,SACN,UAAW,cACX,OAAQ,CACN,WAAY,SAAA,SAAA,OAAM,gBAAgB;;;;wNClRhB,QAAQ,aAAtB,U,SAAA,U,cAQJ,QAAQ,yBANV,a,UAAA,aACA,kB,UAAA,kBACA,e,UAAA,eACA,gB,UAAA,gBACA,kB,UAAA,kBACA,iB,UAAA,iB,cAEuB,QAAQ,kBAAzB,a,UAAA,aACR,IAAM,MAAQ,QAAQ,cACtB,IAAM,IAAM,QAAQ,Y,cACE,QAAQ,wBAAtB,U,UAAA,UAER,IAAM,UAAY,IAElB,IAAI,KAEJ,IAAI,YAAc,KAGX,SAAS,aACd,OAAO,YAGF,SAAS,SAAS,SACvB,OAAO,aAAe,YAAY,UAAY,YAAY,WAAa,eAGlE,SAAS,UAAU,QAAS,IACjC,IAAI,KAAK,mBAAmB,SAA5B,cAAmD,QAAW,SAAU,IAAK,MAC3E,IAAK,IAAK,CACR,YAAY,SAAW,aAEzB,GAAG,IAAK,QAIL,SAAS,aAAa,QAAS,IACpC,IAAI,KAAK,mBAAmB,SAA5B,iBAAsD,QAAW,SAAU,IAAK,MAC9E,IAAK,IAAK,CACR,YAAY,SAAW,eAEzB,GAAG,IAAK,QAKZ,UAAU,SAAS,CACjB,IAAK,aACL,KAAM,eACN,KAAM,YAER,UAAU,SAAS,CACjB,IAAK,gBACL,KAAM,kBACN,KAAM,eAER,UAAU,SAAS,CACjB,IAAK,cACL,KAAM,mBACN,KAAM,SAAA,KAAU,IAAK,WACnB,IAAK,YAAa,CAChB,YAAY,UAAU,0BAExB,UAAU,KAAM,OAAO,KAAK,aAAa,OAAO,SAAC,GAAD,OAAO,YAAY,KAAO,iBAAgB,KAAK,MAC7F,0BAIN,IAAI,UAAY,EAChB,UAAU,cAAc,YAAa,CACnC,KAAM,UAAU,SAChB,KAAM,kDACN,MAAO,YACP,MAAO,CAAC,EAAE,GACV,IAAK,SAAA,MAAA,OAAM,WACX,IAAK,SAAA,IAAC,GAAD,OAAQ,UAAY,KAG3B,IAAI,IAAM,EACV,UAAU,cAAc,MAAO,CAC7B,KAAM,UAAU,SAChB,KAAM,gCACN,MAAO,MACP,MAAO,CAAC,EAAE,GACV,IAAK,SAAA,MAAA,OAAM,KACX,IAAK,SAAA,IAAC,GAAD,OAAQ,IAAM,KAGrB,SAAS,WAAW,MAClB,IAAI,aAAe,KACnB,aAAa,cAAgB,KAG/B,IAAI,cAAgB,KACpB,IAAI,YACJ,SAAS,mBACP,IAAK,IAAI,KAAK,aAAe,eAAiB,YAAa,CACzD,OAEF,YAAc,KACd,KAAK,cAAc,WACjB,YAAc,MACd,IAAK,IAAI,KAAK,aAAe,cAAe,CAC1C,OAEF,IAAI,IAAM,IAAI,KAAK,mBAAmB,IAAI,gBAC1C,IAAI,SAAS,cAAc,QAC3B,IAAI,gBAAgB,cAAc,OAClC,IAAI,UAAU,cAAc,SAC5B,IAAI,SAGD,SAAS,gBAAgB,OAAQ,MAAO,SAC7C,QAAU,QAAU,KAAQ,KAAK,MAAQ,MAAM,gBAAkB,UAAa,kBAAoB,gBAClG,GAAI,UAAW,CACb,OAAS,iBAEX,QAAU,SAAW,KACrB,IAAK,eACH,SAAW,cAAc,QAAU,QAAU,cAAc,QAC1D,UAAU,cAAc,QAAS,SAClC,CACA,cAAgB,CACd,OAAA,OACA,MAAA,MACA,QAAA,SAEF,oBAIG,SAAS,cACd,KAAO,IAAI,KACX,KAAK,GAAG,QAAS,WACf,IAAI,aAAe,KAAK,mBACxB,IAAI,QAAU,KAAK,mBACnB,mBACA,YAAc,KACd,aAAa,IAAI,eAAe,KAAK,SAAC,IAAK,KACzC,GAAI,KAAO,UAAY,KAAK,mBAAoB,CAE9C,GAAI,IAAK,CACP,IAAI,OAEN,OAEF,YAAc,GACd,IAAI,UACJ,MAAQ,UAAY,IAAI,iBAAmB,CACzC,YAAY,WAAa,IAAI,UAI/B,GAAI,KAAK,mBAAqB,KAAK,kBAAkB,GAAI,CACvD,aAAa,SAAC,IAAK,YACjB,GAAI,MAAQ,YAAc,UAAY,KAAK,mBAAoB,CAC7D,OAEF,IAAI,OAAS,GACb,IAAI,UAAY,GAChB,IAAI,MAAQ,GACZ,IAAK,IAAI,GAAK,EAAG,GAAK,WAAW,SAAU,GAAI,CAC7C,IAAI,GAAK,WAAW,IACpB,MAAM,IAAM,KACZ,IAAK,YAAY,IAAK,CACpB,YAAY,IAAM,kBAClB,OAAO,KAAK,KAGhB,IAAK,IAAI,OAAM,YAAa,CAC1B,IAAK,MAAM,MAAO,YAAY,OAAQ,kBAAmB,CACvD,YAAY,KAAM,eAClB,UAAU,KAAK,MAGnB,IAAK,OAAO,SAAW,UAAU,OAAQ,CACvC,OAEF,IAAI,IAAM,aAAa,IAAI,sBAC3B,IAAK,IAAI,IAAK,EAAG,IAAK,OAAO,SAAU,IAAI,CACzC,IAAI,gBAAgB,OAAO,MAE7B,IAAI,gBAAgB,IACpB,IAAK,IAAI,KAAK,EAAG,KAAK,UAAU,SAAU,KAAI,CAC5C,IAAI,gBAAgB,UAAU,OAEhC,IAAI,gBAAgB,IACpB,IAAI,cAKZ,KAAK,GAAG,SAAU,WAChB,YAAc,OAGhB,KAAK,aAAa,OAAQ,WAAY;;;;iOCpMxC,IAAM,OAAS,QAAQ,UACvB,IAAM,OAAS,QAAQ,e,aACE,QAAQ,gBAAzB,a,SAAA,a,IACA,KAAmB,KAAnB,KAAM,IAAa,KAAb,IAAK,IAAQ,KAAR,IAEZ,IAAM,UAAY,E,4BAClB,IAAM,aAAe,E,kCACrB,IAAM,MAAQ,E,oBAErB,IAAM,aAAe,CACnB,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,KAAQ,GAMV,IAAI,WAEJ,IAAI,gBAAkB,KACtB,IAAI,gBAAkB,KAEtB,IAAI,eACJ,IAAI,mBAAqB,EAEzB,SAAS,aAAa,QACpB,IAAK,OAAQ,CACX,OAEF,GAAI,kBAAoB,OAAQ,CAC9B,GAAG,WAAW,GAAG,aAAc,MAC/B,gBAAkB,KAEpB,GAAI,kBAAoB,OAAQ,CAC9B,GAAG,WAAW,GAAG,qBAAsB,MACvC,gBAAkB,KAEpB,GAAG,aAAa,QAGlB,IAAI,eAAiB,EACrB,SAAS,wBAAwB,MAC/B,GAAI,OAAS,eAAgB,CAC3B,OAEF,IAAI,aAAgB,gBAAmB,KACvC,IAAI,aAAiB,eAAkB,KACvC,eAAiB,KAEjB,GAAI,aAAc,CAChB,IAAI,EAAI,EACR,EAAG,CACD,GAAI,aAAe,EAAG,CACpB,GAAG,yBAAyB,GAE9B,IACA,eAAiB,QACV,cAGX,GAAI,YAAa,CACf,IAAI,GAAI,EACR,EAAG,CACD,GAAI,YAAc,EAAG,CACnB,GAAG,wBAAwB,IAE7B,KACA,cAAgB,QACT,cA0Bb,SAAS,gBAAgB,YACvB,OAAO,YAAc,OAGrB,GAAI,WAAa,EAAI,mBAAoB,CACvC,IAAK,eAAgB,CACnB,eAAiB,GAAG,mBACf,CAEL,OAAO,WAAW,QAAQ,MAAQ,mBAAqB,EAEzD,mBAAqB,IAAI,KAAK,mBAAqB,KAAM,WAAa,GACtE,GAAI,kBAAoB,eAAgB,CACtC,GAAG,WAAW,GAAG,qBAAsB,gBACvC,gBAAkB,eAEpB,IAAI,IAAM,IAAI,YAAY,oBAC1B,IAAI,KAAO,EACX,IAAK,IAAI,GAAK,EAAG,GAAK,oBAAqB,CACzC,IAAI,MAAQ,KAAO,EACnB,IAAI,MAAQ,KAAO,EACnB,IAAI,MAAQ,OACZ,IAAI,MAAQ,OACZ,IAAI,MAAQ,OACZ,IAAI,MAAQ,OAEd,GAAG,WAAW,GAAG,qBAAsB,IAAK,GAAG,aAC/C,OAAO,WAAW,QAAQ,MAAQ,mBAAqB,EAEzD,OAAO,eAGF,SAAS,cAAc,MAC5B,IAAI,IAAM,CACR,IAAK,GAAG,eACR,SAAU,KAAK,QAEjB,GAAG,WAAW,GAAG,qBAAsB,IAAI,KAC3C,gBAAkB,IAAI,IACtB,GAAG,WAAW,GAAG,qBAAsB,KAAM,GAAG,aAChD,OAAO,WAAW,QAAQ,MAAQ,KAAK,OAAS,EAChD,OAAO,IAGT,SAAS,WAAW,QAClB,IAAK,OAAO,KAAM,CAChB,IAAI,OAAS,EACb,IAAI,WAAa,EACjB,IAAI,aAAe,EACnB,IAAI,iBAAmB,EACvB,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,SAAU,GAAI,CACzC,IAAI,IAAM,OAAO,IACjB,IAAI,IAAM,IAAI,GACd,IAAI,OAAS,IAAI,GACjB,IAAI,MAAQ,IAAI,GAChB,cAAiB,GAAK,IACtB,IAAI,UAAY,aAAa,QAC7B,OAAO,WACP,QAAQ,kBAAoB,YAAc,kBAC1C,iBAAmB,UACnB,IAAI,GAAK,IAAI,IAAM,MACnB,IAAI,GAAK,UACT,QAAU,MAAQ,UAClB,YAAc,MAEhB,OAAO,KAAO,CACZ,OAAA,OAAQ,WAAA,WAAY,aAAA,aAAc,iBAAA,kBAGtC,OAAO,OAAO,KAIhB,SAAS,KAAK,OAAQ,MAAO,KAAM,MACjC,KAAK,KAAO,MAAQ,UACpB,KAAK,OAAS,OACd,IAAI,KAAO,KAAK,YAAc,WAAW,QACzC,KAAK,OAAS,KAAK,OACnB,KAAK,aAAe,KAAK,aAEzB,KAAK,WAAa,MAAM,OAAS,KAAK,YAAY,WAClD,KAAK,aAAe,MAAM,OAAS,KAAK,YAAY,iBACpD,GAAI,MAAM,OAAQ,CAChB,KAAK,IAAM,GAAG,eACd,GAAG,WAAW,GAAG,aAAc,KAAK,KACpC,gBAAkB,KAAK,IACvB,GAAG,WAAW,GAAG,aAAc,MAAO,GAAG,aACzC,OAAO,WAAW,QAAQ,MAAQ,KAAK,aAEzC,KAAK,UAAY,KACjB,GAAI,KAAM,CACR,GAAI,KAAK,IAAK,CACZ,KAAK,IAAM,KAAK,IAChB,KAAK,UAAY,MACjB,KAAK,SAAW,KAAK,aAChB,CACL,KAAK,IAAM,GAAG,eACd,KAAK,UAAY,KACjB,KAAK,SAAW,KAAK,OACrB,GAAG,WAAW,GAAG,qBAAsB,KAAK,KAC5C,gBAAkB,KAAK,IACvB,GAAG,WAAW,GAAG,qBAAsB,KAAM,GAAG,aAChD,OAAO,WAAW,QAAQ,MAAQ,KAAK,OAAS,QAE7C,GAAI,OAAS,MAAO,CACzB,OAAO,MAAM,KAAK,WAAa,EAAG,GAClC,IAAI,WAAa,KAAK,WAAa,EAEnC,KAAK,IAAM,gBAAgB,YAC3B,KAAK,UAAY,MACjB,KAAK,SAAW,WAAa,EAC7B,KAAK,KAAO,eACP,GAAI,OAAS,aAAc,CAChC,KAAK,KAAO,iBACP,CACL,KAAK,IAAM,KACX,KAAK,UAAY,OAIrB,KAAK,UAAU,UAAY,SAAU,OAAQ,OAC3C,GAAI,kBAAoB,KAAK,IAAK,CAChC,GAAG,WAAW,GAAG,aAAc,KAAK,KACpC,gBAAkB,KAAK,IAEzB,GAAG,cAAc,GAAG,aAAc,OAAQ,QAG5C,KAAK,UAAU,OAAS,SAAU,MAAO,WACvC,OAAO,MAAM,KAAK,UAAW,OAC7B,GAAI,UAAY,KAAK,WAAY,CAC/B,GAAI,aAAe,KAAM,CACvB,WAAa,KAEf,OAAO,WAAW,QAAQ,MAAQ,KAAK,aACvC,aAAa,KAAK,KAElB,KAAK,WAAa,MAAM,OAAS,KAAK,YAAY,WAClD,KAAK,aAAe,MAAM,OAAS,KAAK,YAAY,iBACpD,KAAK,IAAM,GAAG,eACd,GAAG,WAAW,GAAG,aAAc,KAAK,KACpC,gBAAkB,KAAK,IACvB,GAAG,WAAW,GAAG,aAAc,MAAO,GAAG,cACzC,OAAO,WAAW,QAAQ,MAAQ,KAAK,iBAClC,CAEL,GAAI,kBAAoB,KAAK,IAAK,CAChC,GAAG,WAAW,GAAG,aAAc,KAAK,KACpC,gBAAkB,KAAK,IAEzB,GAAG,cAAc,GAAG,aAAc,EAAG,MAAM,SAAS,EAAG,UAAY,KAAK,YAAY,aAGtF,GAAI,KAAK,YAAc,MAAO,CAC5B,IAAI,WAAa,UAAY,EAC7B,KAAK,IAAM,gBAAgB,YAC3B,KAAK,SAAW,WAAa,IAIjC,KAAK,UAAU,QAAU,WACvB,GAAI,KAAK,UAAW,CAClB,aAAa,KAAK,KAEpB,KAAK,IAAM,KACX,aAAa,KAAK,KAClB,KAAK,IAAM,KACX,OAAO,WAAW,QAAQ,MAAQ,KAAK,aACvC,KAAK,aAAe,GAGtB,IAAI,cAAiB,WACnB,IAAI,EAAI,GACR,IAAK,IAAI,GAAK,EAAG,GAAK,KAAM,GAAI,CAC9B,EAAE,KAAK,CACL,IAAK,KACL,OAAQ,IAGZ,OAAO,EARY,GAWd,SAAS,iBAId,WAAa,KACb,gBAAkB,KAClB,GAAG,WAAW,GAAG,qBAAsB,MACvC,gBAAkB,KAClB,GAAG,WAAW,GAAG,aAAc,MAC/B,IAAK,IAAI,GAAK,EAAG,GAAK,eAAgB,GAAI,CACxC,GAAG,yBAAyB,IAE9B,eAAiB,EACjB,IAAK,IAAI,IAAK,EAAG,IAAK,cAAc,SAAU,IAAI,CAChD,cAAc,KAAI,IAAM,MAI5B,KAAK,UAAU,KAAO,WACpB,GAAI,aAAe,KAAM,CACvB,WAAa,KACb,IAAI,IAAM,KAAK,IAEf,IAAI,OAAS,EACb,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,OAAO,SAAU,GAAI,CAC9C,IAAI,IAAM,KAAK,OAAO,IACtB,IAAI,MAAQ,IAAI,GAChB,IAAI,UAAY,IAAI,GACpB,IAAI,IAAM,IAAI,GACd,GAAI,cAAc,KAAK,MAAQ,IAAK,MAE7B,CACL,GAAI,kBAAoB,IAAK,CAC3B,GAAG,WAAW,GAAG,aAAc,KAC/B,gBAAkB,IAEpB,IAAI,OAAS,IAAI,GACjB,IAAI,WAAa,IAAI,GACrB,GAAG,oBAAoB,IAAK,MAAO,OAAQ,WAAY,KAAK,OAAQ,QACpE,cAAc,KAAK,IAAM,gBAG3B,QAAU,MAAQ,UAMpB,wBAAwB,KAAK,cAG/B,GAAI,KAAK,KAAO,kBAAoB,KAAK,IAAK,CAC5C,GAAG,WAAW,GAAG,qBAAsB,KAAK,KAC5C,gBAAkB,KAAK,MAG3B,KAAK,UAAU,KAAO,WACpB,KAAK,OACL,GAAI,KAAK,IAAK,CACZ,GAAG,aAAa,KAAK,KAAM,KAAK,SAAU,GAAG,eAAgB,OACxD,CACL,GAAG,WAAW,KAAK,KAAM,EAAG,KAAK,cAIrC,SAAS,eAAe,OAAQ,OAC9B,IAAI,YAAc,WAAW,QAC7B,IAAI,GAAK,YAAY,WACrB,IAAI,WAAa,MAAM,OAAS,GAChC,KAAK,MAAQ,GACb,IAAK,IAAI,IAAM,EAAG,IAAM,WAAY,KAAO,MAAO,CAChD,IAAI,cAAgB,IAAI,WAAa,IAAK,OAC1C,IAAI,SAAW,IAAI,WAAW,MAAM,OAAQ,IAAM,GAAI,cAAgB,IACtE,KAAK,MAAM,KAAK,IAAI,KAAK,OAAQ,SAAU,KAAM,SAGrD,eAAe,UAAU,KAAO,WAC9B,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,MAAM,SAAU,GAAI,CAC7C,KAAK,MAAM,IAAI,SAGnB,eAAe,UAAU,QAAU,WACjC,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,MAAM,SAAU,GAAI,CAC7C,KAAK,MAAM,IAAI,UAEjB,KAAK,MAAQ,MAGR,SAAS,OAAO,OAAQ,MAAO,KAAM,MAC1C,OAAO,IAAI,KAAK,OAAQ,MAAO,KAAM,MAGhC,SAAS,YAAY,OAAQ,OAClC,IAAI,YAAc,WAAW,QAC7B,OAAO,iBAAiB,YACxB,IAAI,WAAa,MAAM,OAAS,YAAY,WAC5C,GAAI,WAAa,MAAO,CACtB,OAAO,IAAI,eAAe,OAAQ,OAEpC,OAAO,IAAI,KAAK,OAAQ,MAAO,KAAM,OAGhC,SAAS;;;;mCC9XhB,IAAI,UAAY,IAAI,MAAM,KAC1B,IAAI,eAAiB,OAAO,eAAiB,OAAO,aACpD,IAAI,OAAS,GACN,SAAS,OAAO,OACrB,IAAI,OACJ,IAAI,MACJ,IAAI,QAAU,MAAM,OAEpB,OAAO,OAAS,EAEhB,IAAK,IAAI,EAAI,EAAG,EAAI,SAAU,CAC5B,MAAQ,MAAM,KAEd,GAAI,OAAS,IAAM,CACjB,OAAS,WACJ,GAAI,OAAS,IAAM,CACxB,QAAW,MAAQ,KAAS,EAAM,MAAM,KAAO,QAC1C,GAAI,OAAS,IAAM,CACxB,QAAW,MAAQ,KAAS,IAAQ,MAAM,KAAO,KAAS,EAAM,MAAM,KAAO,QACxE,GAAI,OAAO,cAAe,CAC/B,QAAW,MAAQ,IAAS,IAAQ,MAAM,KAAO,KAAS,IAAQ,MAAM,KAAO,KAAS,EAAM,MAAM,KAAO,OACtG,CACL,OAAS,GACT,GAAK,EAGP,OAAO,KAAK,UAAU,UAAY,UAAU,QAAU,eAAe,UAGvE,OAAO,OAAO,KAAK;;;;yMC9BrB,IAAM,MAAQ,CAAC,SAAU,OAAQ,OAAQ,QAElC,SAAS,wBAAwB,MACtC,IAAM,KAAO,MAAM,KAAO,GAC1B,OAAO,MAAQ,MAAM,GAKhB,IAAM,6BAA+B,CAC1C,OAAQ,EACR,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,I,kEAGD,IAAM,sCAAwC,CACnD,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,G,oFAGD,IAAM,kCAAoC,CAC/C,KAAM,UACN,KAAM,WACN,KAAM,WACN,KAAM,YACN,KAAM,YACN,KAAM;;;;aCjCR,IAAM,OAAS,QAAQ,U,aAGM,QAAQ,2BAA7B,iB,SAAA,iB,cACqB,QAAQ,2BAA7B,iB,UAAA,iBAER,SAAS,YAAY,YACnB,OAAQ,WAAa,GAAM,EAG7B,IAAM,YAAc,QAAQ,oB,cAMxB,QAAQ,wBAHV,6B,UAAA,6BACA,sC,UAAA,sCACA,kC,UAAA,kCAGF,IAAM,WAAa,WAEnB,IAAM,qBAAuB,GAC7B,IAAM,sBAAwB,EAE9B,IAAM,oBAAsB,WAC5B,IAAM,mBAAqB,QAE3B,IAAM,GAAK,KACX,IAAM,GAAK,MAGX,SAAS,YAEP,KAAK,iBAAmB,KACxB,KAAK,WAAa,KAClB,KAAK,KAAO,KAGd,SAAS,YAAY,MAEnB,IAAM,SAAW,IAAI,SAAS,KAAK,gBACnC,IAAM,OAAS,SAAS,UAAU,EAAG,IACrC,IAAM,QAAU,SAAS,UAAU,EAAG,IACtC,IAAM,WAAa,SAAS,UAAU,EAAG,IAEzC,IAAI,MAAQ,SAAW,WACvB,IAAK,MAAO,CACV,QAAQ,KAAK,4BAGf,OAAO,UAAY,EAAb,uBAAuC,QAAvC,4BACN,OAAO,WAAa,IAGpB,IAAM,gBAAkB,SAAS,UAAU,GAAI,IAC/C,IAAM,gBAAkB,SAAS,UAAU,GAAI,IAE/C,MAAQ,kBAAoB,qBAAuB,kBAAoB,EACvE,OAAO,MAAD,qBAA6B,iBAGnC,IAAM,gBAAkB,qBAAuB,sBAC/C,IAAM,UAAY,IAAI,WAAW,KAAK,eAAgB,gBAAiB,iBAGvE,IAAM,SAAW,YAAY,OAAO,WAGpC,KAAK,KAAO,KAAK,MAAM,UAGvB,IAAM,iBAAmB,gBAAkB,YAAY,iBACvD,KAAK,iBAAmB,iBAAmB,sBAE3C,IAAM,eAAiB,SAAS,UAAU,iBAAmB,EAAG,IAChE,MAAQ,iBAAmB,oBAAsB,iBAAmB,EACpE,OAAO,MAAD,oBAA4B,gBAElC,MAAO,CACL,YAAa,KAAK,eAClB,iBAAkB,KAAK,iBACvB,KAAM,KAAK,MAIf,SAAS,cAAc,MACrB,IAAM,OAAS,YAAY,MAC3B,KAAK,WAAa,OAAO,KACzB,KAAK,gBAAkB,iBAAiB,KAAK,eAAgB,KAAK,KAAM,KAAK,kBAC7E,KAAK,KAAO,iBAAiB,KAAK,KAAM,KAAK,iBAG/C,UAAU,UAAU,UAAY,SAAU,aAExC,KAAK,eAAiB,YAGtB,GAAI,KAAK,OAAS,MAAQ,KAAK,mBAAqB,KAAM,CACxD,cAAc,MAEhB,OAAO,MAIT,UAAU,UAAU,MAAQ,SAAU,aACpC,OAAO,KAAK,UAAU,cAIxB,UAAU,UAAU,mBAAqB,SAAU,KACjD,OAAO,KAAK,KAAK,MAInB,UAAU,UAAU,QAAU,WAC5B,OAAO,KAAK,MAId,UAAU,UAAU,eAAiB,WACnC,OAAO,KAAK,gBAId,UAAU,UAAU,oBAAsB,WACxC,OAAO,KAAK,kBAId,UAAU,UAAU,cAAgB,SAAU,gBAC5C,IAAM,YAAc,eAAe,YAAc,GAAK,KAAK,iBAC3D,OAAO,IAAI,WAAW,KAAK,eAAgB,WAAY,eAAe,aAIxE,UAAU,UAAU,UAAY,SAAU,cAExC,IAAM,UAAY,kCAAkC,aAAa,eACjE,IAAM,WAAa,6BAA6B,aAAa,MAC7D,IAAM,kBAAoB,sCAAsC,aAAa,eAC7E,IAAM,OAAS,aAAa,MAAQ,WACpC,IAAM,WAAa,aAAa,MAAQ,WAAa,kBAGrD,IAAM,eAAiB,KAAK,KAAK,YAAY,aAAa,YAC1D,OAAO,YAAc,GAAK,aAAa,WAAa,YAAc,eAAe,YAEjF,IAAM,WAAa,eAAe,WAAa,KAAK,iBAAmB,aAAa,WACpF,OAAO,IAAI,UAAU,KAAK,eAAgB,WAAY,SAIxD,UAAU,UAAU,aAAe,SAAU,WAC3C,MAAO,CACL,WAAY,KAAK,cAAc,UAAU,YACzC,SAAU,UAAU,UAAY,eAIpC,UAAU,UAAU,SAAW,SAAU,WACvC,IAAM,gBAAkB,KAAK,cAAc,UAAU,YACrD,IAAM,SAAW,UAAU,UAAY,aACvC,IAAM,KAAO,IAAI,KAAK,CAAC,iBAAkB,CAAE,KAAM,WACjD,IAAM,WAAa,OAAO,KAAO,OAAO,UACxC,IAAM,SAAW,WAAW,gBAAgB,MAC5C,IAAM,IAAM,IAAI,MAChB,IAAI,IAAM,SACV,OAAO,KAgBT,OAAO,QAAU,UACjB,UAAU,MAAQ,SAAU,MAC1B,IAAI,OAAS,IAAI,UACjB,OAAO,OAAO,MAAM;;;;uDC1LtB,SAAS,iBAAiB,OACxB,UAAW,QAAU,SAAU,CAE7B,GAAI,MAAM,QAAQ,SAAW,EAAG,CAC9B,OAAO,MAAM,MAAM,GAGrB,IAAI,QAAU,MAAM,MAAM,yBAC1B,GAAI,QAAS,CACX,IAAM,MAAQ,SAAS,QAAQ,GAAI,IACnC,MAAO,CAAC,QAAQ,GAAI,OAItB,QAAU,MAAM,MAAM,kBACtB,GAAI,QAAS,CACX,IAAM,OAAQ,SAAS,QAAQ,GAAI,IACnC,MAAO,CAAC,YAAa,SAIzB,OAAO,KAGT,SAAS,kBAAkB,OAAQ,SACjC,IAAM,QAAU,iBAAiB,QACjC,GAAI,QAAS,CACX,IAAM,MAAQ,QAAQ,GACtB,IAAM,MAAQ,QAAQ,GACtB,IAAM,OAAS,QAAQ,QAAU,QAAQ,OAAO,OAChD,GAAI,OAAQ,CACV,OAAO,OAET,QAAQ,MAAR,wBAAsC,OAAtC,OAAmD,MAAnD,IAA4D,OAE9D,OAAO,KAIT,SAAS,0BAA0B,KAAM,QAAS,QAAS,SAAc,GAAd,eAAc,EAAA,CAAd,QAAU,GACnE,IAAM,OAAS,KAEf,IAAM,OAAS,kBAAkB,OAAQ,SACzC,GAAI,OAAQ,CACV,OAAO,OAIT,GAAI,MAAM,QAAQ,QAAS,CACzB,OAAO,OAAO,IAAI,SAAC,SAAD,OAAa,0BAA0B,QAAS,QAAS,QAAS,WAItF,GAAI,SAAW,aAAe,SAAW,SAAU,CACjD,IAAM,UAAY,GAClB,IAAK,IAAM,OAAO,OAAQ,CACxB,UAAU,KAAO,0BAA0B,OAAO,KAAM,QAAS,QAAS,SAE5E,OAAO,UAGT,OAAO,OAGF,SAAS,iBAAiB,KAAM,QAAS,SAAc,GAAd,eAAc,EAAA,CAAd,QAAU,GACxD,OAAO,0BAA0B,KAAM,KAAM,QAAS;;;;uDCjExD,IAAM,OAAS,QAAQ,U,aAMnB,QAAQ,wBAHV,6B,SAAA,6BACA,sC,SAAA,sCACA,kC,SAAA,kCAKF,SAAS,uBAAuB,YAAa,YAC3C,IAAM,OAAS,YAAY,WAAa,WACxC,IAAM,aAAe,IAAI,YAAY,QACrC,IAAM,YAAc,IAAI,WAAW,aACnC,IAAM,YAAc,IAAI,WAAW,cACnC,IAAK,IAAI,EAAI,EAAG,EAAI,OAAQ,IAAK,CAC/B,YAAY,GAAK,YAAY,WAAa,GAE5C,OAAO,aAGT,SAAS,sBAAsB,SAAU,YACvC,IAAM,UAAY,kCAAkC,SAAS,eAC7D,IAAM,WAAa,6BAA6B,SAAS,MACzD,IAAM,kBAAoB,sCAAsC,SAAS,eACzE,IAAM,OAAS,SAAS,MAAQ,WAChC,IAAM,WAAa,SAAS,MAAQ,WAAa,kBACjD,OAAO,YAAc,GAAK,YAAc,WAAW,YACnD,MAAO,CAAE,UAAA,UAAW,OAAA,OAAQ,WAAA,YAG9B,SAAS,gBAAgB,YAAa,YAAa,MAEjD,IAAM,UAAY,KAAK,WAAa,GAEpC,IAAM,gBAAkB,GAExB,IAAK,IAAI,EAAI,EAAG,EAAI,UAAU,SAAU,EAAG,CACzC,IAAM,SAAW,UAAU,GAC3B,OAAO,UAEP,IAAM,WAAa,YAAY,SAAS,YAExC,GAAI,WAAY,CAAA,IAAA,sBAEgB,sBAAsB,SAAU,YAAtD,UAFM,sBAEN,UAAW,OAFL,sBAEK,OACnB,IAAM,MAAQ,IAAI,UAAU,YAAa,WAAW,WAAY,QAEhE,MAAM,SAAW,SACjB,gBAAgB,KAAK,QAIzB,OAAO,gBAGT,SAAS,aAAa,YAAa,YAAa,MAE9C,IAAM,OAAS,KAAK,QAAU,GAE9B,IAAM,aAAe,GAErB,IAAK,IAAI,EAAI,EAAG,EAAI,OAAO,SAAU,EAAG,CACtC,IAAM,MAAQ,OAAO,GACrB,OAAO,OAEP,GAAI,MAAM,aAAe,UAAW,CAClC,aAAa,KAAK,MAClB,SAGF,IAAM,WAAa,YAAY,MAAM,YACrC,OAAO,YAGP,IAAM,MAAQ,IAAI,WAAW,YAAa,WAAW,WAAY,WAAW,YAE5E,MAAM,MAAQ,MACd,aAAa,KAAK,OAGpB,OAAO,aAGF,SAAS,iBAAiB,YAAa,KAAM,kBAElD,GAAI,iBAAkB,CACpB,YAAc,uBAAuB,YAAa,kBAGpD,IAAM,YAAc,KAAK,aAAe,GAExC,IAAK,IAAI,EAAI,EAAG,EAAI,YAAY,SAAU,EAAG,CAC3C,IAAM,WAAa,YAAY,GAC/B,OAAO,WAAW,YAAc,GAGlC,MAAO,CAEL,UAAW,gBAAgB,YAAa,YAAa,MACrD,OAAQ,aAAa,YAAa,YAAa;;;;+EC/FnD,IAAM,OAAS,QAAQ,UAEvB,IAAI,IAAM,GACH,SAAS,aACd,IAAM,GAGD,SAAS,GAAG,KAAM,YAAa,IACpC,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,GACpC,UAAW,cAAgB,SAAU,CACnC,KAAK,aAAe,OACf,CACL,KAAK,KAAK,CAAC,YAAa,MAIrB,SAAS,OAAO,KAAM,OAC3B,IAAI,KAAO,IAAI,MACf,IAAK,KAAM,CACT,OAEF,OAAQ,MACN,IAAK,UACL,IAAK,QACH,GAAI,KAAK,MAAM,SAAU,CACvB,KAAK,MAAM,SAAS,KAAM,OAE5B,MACF,IAAK,UACL,IAAK,YAAa,CAChB,IAAI,EAAI,MAAM,MACd,IAAI,EAAI,MAAM,MACd,IAAI,OAAS,MAAM,OACnB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,KAAO,KAAK,IAChB,IAAI,IAAM,KAAK,GACf,GAAI,GAAK,IAAI,GAAK,EAAI,IAAI,EAAI,IAAI,GAChC,GAAK,IAAI,GAAK,EAAI,IAAI,EAAI,IAAI,IAC7B,IAAI,OAAS,GAAK,IAAI,SAAW,QAClC,CACA,KAAK,GAAG,KAAM,OACd,QAGJ,MACF,QACE,OAAO;;;;yrCC/Cb,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,iB,aACH,QAAQ,aAAtB,U,SAAA,UACR,IAAM,OAAS,QAAQ,eACvB,IAAM,SAAW,QAAQ,iBACzB,IAAM,cAAgB,QAAQ,sB,IACtB,IAAwB,KAAxB,IAAK,IAAmB,KAAnB,IAAK,IAAc,KAAd,IAAK,KAAS,KAAT,KACvB,IAAM,aAAe,QAAQ,qB,cACL,QAAQ,cAAxB,Y,UAAA,Y,cAC2D,QAAQ,cAAnE,K,UAAA,KAAM,M,UAAA,MAAO,O,UAAA,OAAQ,W,UAAA,WAAY,M,UAAA,MAAO,Q,UAAA,QAAS,M,UAAA,MAEzD,IAAM,QAAU,EAChB,IAAM,GAAK,EACX,IAAM,KAAO,EACb,IAAM,UAAY,EAGlB,IAAM,eAAiB,KACvB,IAAI,mBAAqB,KAEzB,IAAI,UAAY,MAET,IAAM,KAAO,E,gBACb,IAAM,aAAe,E,gCAErB,IAAI,KAAO,CAChB,UAAW,EACX,IAAK,EACL,MAAO,GACP,OAAQ,GACR,MAAO,GACP,KAAM,GACN,IAAK,GACL,IAAK,GACL,MAAO,GACP,OAAQ,GACR,SAAU,GACV,IAAK,GACL,KAAM,GACN,KAAM,GACN,GAAI,GACJ,MAAO,GACP,KAAM,GACN,IAAK,GACL,IAAK,GACL,cAAe,IACf,OAAQ,IACR,MAAO,IACP,MAAO,IACP,MAAO,K,mBAER,WACC,IAAK,IAAI,GAAK,EAAG,IAAM,KAAM,GAAI,CAC/B,KAAI,IAAK,IAAQ,IAAM,GAEzB,IAAK,IAAI,IAAK,GAAI,KAAM,KAAM,IAAI,CAChC,KAAK,OAAO,aAAa,MAAO,MALnC,GAQD,UAAW,QAAU,WAAY,CAE/B,QAAA,KAAA,KAAO,IAAI,MAAM,KAAM,CACrB,IAAK,SAAA,IAAU,OAAQ,MACrB,IAAI,IAAM,OAAO,MACjB,OAAO,KACP,OAAO,OAIN,IAAM,IAAM,CACjB,EAAG,EACH,OAAQ,EACR,EAAG,EACH,OAAQ,EACR,EAAG,EACH,EAAG,EACH,GAAI,EACJ,YAAa,EACb,GAAI,EACJ,aAAc,EACd,GAAI,EACJ,aAAc,EACd,GAAI,EACJ,cAAe,EACf,KAAM,EACN,MAAO,EACP,WAAY,GACZ,YAAa,GACb,GAAI,GACJ,KAAM,GACN,KAAM,GACN,MAAO,GACP,UAAW,GACX,YAAa,GACb,YAAa,GACb,aAAc,I,gBAGhB,IAAI,aAEJ,IAAI,OACJ,IAAI,cAAgB,GACpB,IAAI,WAAa,GACjB,IAAI,aAAe,GACnB,IAAI,UAAY,OAChB,IAAI,eAAiB,OACrB,IAAI,mBAAqB,MACzB,IAAI,oBAAsB,MAC1B,IAAI,WAAa,GACjB,IAAI,aAAe,GACnB,IAAI,6BAA+B,EACnC,IAAM,6BAA+B,EAErC,IAAI,eAAiB,MACrB,IAAI,kBAAoB,MAExB,IAAI,QAAU,GAEP,IAAI,WAAa,cAAc,QAAQ,aAAc,O,8BACrD,IAAI,UAAY,YAAc,cAAc,QAAQ,WAAY,O,0BAEvE,UAAU,cAAc,YAAa,CACnC,KAAM,UAAU,SAChB,MAAO,CAAC,EAAG,GACX,IAAK,SAAA,MAAA,OAAM,WACX,IAAK,SAAA,IAAC,GAAD,OAAQ,UAAY,KAG3B,SAAS,eAAe,OACtB,GAAI,OAAS,MAAM,UAAW,CAG5B,GAAK,MAAM,UAAY,OAAW,OAAO,OAAS,KAAO,CACvD,OAAO,OAAO,OAEhB,OAAO,MAAM,UAEf,OAAO,OAAO,OAGhB,SAAS,UAAU,IAAK,MAAO,OAAQ,OACrC,KAAK,MAAQ,OACb,KAAK,MAAQ,EACb,KAAK,QAAU,IAAI,MAAM,GACzB,KAAK,UAAY,IAAI,MAAM,GAC3B,KAAK,MAAQ,MACb,KAAK,OAAS,OACd,KAAK,WAAa,KAAK,MACvB,KAAK,WAAa,MAClB,KAAK,gBAAkB,MACvB,KAAK,qBAAuB,MAC5B,KAAK,QAAU,EACf,KAAK,UAAY,EACjB,KAAK,MAAQ,KACb,KAAK,UAAY,EACjB,KAAK,YAAc,eAAe,OAEpC,UAAU,UAAU,KAAO,SAAU,MAAO,SAC1C,GAAI,QAAS,CACX,KAAK,YAEP,KAAK,MAAQ,KACb,KAAK,YAAc,eAAe,QAGpC,IAAM,qBAAuB,IAC7B,SAAS,UAAU,MAAO,aACxB,IAAI,GAAK,eAAe,OAExB,OAAO,IAAI,GAAK,YAAa,sBAG/B,SAAS,UACP,KAAK,UAAY,EAEjB,KAAK,YAAc,EACnB,KAAK,UAAY,EACjB,KAAK,QAAU,EACf,KAAK,MAAQ,GAEf,QAAQ,UAAU,MAAQ,SAAU,SAChC,KAAK,QACP,KAAK,WAAa,UAAU,MAAO,KAAK,aACxC,KAAK,MAAQ,IAGf,SAAS,gBACP,MAAM,UAAW,OAAO,MAAM,GAAI,SAAS,mBAAoB,OAAO,OAAO,GAAI,SAAS,oBAGrF,SAAS,gBACd,OAAO,aAAa,WAEtB,IAAI,qBAAA,IAA2B,YAExB,SAAS,iBAAiB,MAC/B,aAAa,MAAM,MAErB,SAAS,qBACP,GAAI,WAAY,CACd,OAEF,IAAI,WAAa,QAAQ,sBACzB,gBACA,GAAI,WAAY,CACd,OAAO,WAAW,UAAW,WAC7B,WAAW,MAAQ,KACnB,WAAW,YAAc,OAAO,WAC3B,CACL,WAAa,QAAQ,sBAAwB,IAAI,UAAU,UAAW,MAAO,YAAa,MAE5F,6BAA+B,6BAE1B,SAAS,kBACd,IAAI,WAAa,QAAQ,sBACzB,GAAI,WAAY,CACd,OAAO,WAAW,QAAS,WAE3B,WAAW,MAAQ,GAErB,aAAa,OACb,6BAA+B,6BAGjC,IAAI,WACJ,IAAM,KAAO,CAAE,UAAW,EAAG,mBAAoB,EAAG,KAAM,EAAG,cAAe,EAAG,KAAM,GACrF,SAAS,SAAS,OAChB,GAAI,QAAU,WAAY,CACxB,OAEF,WAAa,MACb,IAAI,MAAQ,GACZ,IAAK,IAAI,KAAK,MAAO,CACnB,IAAI,EAAI,MAAM,GACd,IAAK,UAAY,IAAM,YAAc,EAAE,gBAAkB,GAAK,KAAK,GAAI,CACrE,SAEF,MAAM,KAAQ,EAAd,KAAmB,EAAE,IAAM,IAE7B,QAAQ,IAAO,OAAO,YAAtB,IAAqC,MAAM,KAA3C,KAAmD,gBAAgB,SAAS,UAA5E,IAAwF,MAAM,KAAK,MAGrG,SAAS,gBAAgB,OACvB,OAAO,MAAM,SAAW,MAAM,OAAO,UAAY,SAAW,MAAM,OAAO,UAAY,YACnF,MAAM,OAAO,UAAY,SAAW,OAAO,MAAM,OAAO,WAAW,QAAQ,aAAe,GAG9F,SAAS,QAAQ,OAEf,IAAK,gBAAgB,OAAQ,CAC3B,MAAM,iBACN,MAAM,mBAIV,IAAI,aAAe,MACnB,IAAI,iBAAmB,MACvB,SAAS,aAAa,GACpB,GAAI,kBAAoB,aAAc,CAEpC,kBAEA,EAAE,iBAEF,EAAE,YAAc,qCACX,CACL,OAAO,iBAGX,SAAS,cAAc,QACrB,iBAAmB,OAGrB,IAAI,gBAAkB,EACf,SAAS,gBACd,OAAO,gBAET,SAAS,cACP,cACA,gBAAkB,KAAK,MAGzB,SAAS,QAAQ,OACf,cAAc,MAAM,SACpB,IAAI,KAAO,MAAM,QACjB,IAAK,gBAAgB,OAAQ,CAC3B,MAAM,kBACN,MAAM,iBAGR,GAAI,OAAS,KAAK,KAAO,gBAAiB,CACxC,kBAIF,IAAI,GAAK,cAAc,MACvB,GAAI,IAAM,GAAG,QAAU,KAAM,CAC3B,GAAG,MAAM,OAGX,SAAS,OAAO,QAAS,OAG3B,SAAS,UAAU,OACjB,cAAc,MAAM,SACpB,IAAI,KAAO,MAAM,QACjB,IAAI,QAAU,gBAAgB,QAC5B,MAAQ,KAAK,IAAM,MAAQ,KAAK,KAChC,OAAS,KAAK,IAAM,MAAM,QAAU,MAAM,SAAW,MAAM,SAAW,MAAM,UAC9E,IAAK,QAAS,CACZ,MAAM,kBACN,MAAM,iBAGR,cAGA,IAAI,GAAK,cAAc,MACvB,IAAK,GAAI,CACP,GAAK,cAAc,MAAQ,IAAI,QAEjC,GAAI,GAAG,QAAU,KAAM,GACnB,GAAG,UACL,GAAG,MAAQ,KACX,GAAG,YAAc,eAAe,OAGhC,SAAS,OAAO,UAAW,QAI/B,IAAI,aAAe,EACZ,SAAS,qBACd,IAAI,IAAM,aACV,aAAe,EACf,OAAO,IAGT,IAAI,YAAc,MAClB,IAAI,WAAa,OACjB,IAAI,cAAgB,EACpB,IAAI,mBAAqB,EACzB,SAAS,YAAY,MAAO,SAG1B,IAAK,gBAAgB,SAAW,SAAW,MAAM,SAAW,EAAG,CAC7D,MAAM,iBACN,MAAM,kBACN,GAAI,WAAY,CACd,cAAc,QAAQ,aAAc,OACpC,QAAA,WAAA,WAAa,MAEf,GAAI,SAAU,CACZ,cAAc,QAAQ,WAAY,OAClC,QAAA,SAAA,SAAW,OAGf,YAAc,KAId,UAAU,GAAK,MAAM,MACrB,UAAU,GAAK,MAAM,MAQrB,mBAAqB,MAErB,cAAiB,MAAM,WAAa,EAEpC,IAAI,aAAe,MACnB,GAAI,gBAAiB,CACnB,gBACA,GAAI,MAAM,WAAa,MAAM,UAAW,CAGtC,IAAI,GAAK,MAAM,WAAa,KAAK,MACjC,IAAI,SAAW,IAAI,MAAM,WAAa,IAAI,MAAM,WAChD,GAAI,SAAW,MAAQ,SAAW,EAAI,eAAiB,GAAK,mBAAqB,KAAO,CACtF,QAAQ,IAAR,+CAA2D,MAAM,UAAjE,IAA8E,MAAM,eAC/E,CACL,MAAM,WAAY,MAAM,WAAa,EAAG,MAAM,WAAa,GAC3D,aAAe,KAEjB,cAAgB,SAChB,mBAAqB,QAElB,CACL,MAAM,WAAY,UAAW,gBAC7B,GAAI,WAAW,IAAM,WAAW,GAAI,CAClC,aAAe,KAEjB,OAAO,eAAgB,WAEzB,GAAI,cAAgB,8BAAgC,WAAW,YAAc,IAAI,IAAK,CAKpF,aAAe,MAEjB,GAAI,aAAc,CAChB,IAAK,IAAI,OAAS,YAAa,OAAS,WAAW,SAAU,OAAQ,CACnE,GAAI,WAAW,SAAW,SAAW,aAAe,gBAAiB,CACnE,IAAI,WAAa,QAAO,IAAK,QAC7B,GAAI,WAAY,CACd,MAAM,WAAW,MAAO,WAAW,MAAO,YAC1C,WAAW,OAAS,IAAI,WAAW,IAAM,IAAI,WAAW,IACxD,OAAO,WAAW,QAAS,eAOrC,SAAS,YAAY,OACnB,GAAI,UAAW,CACb,SAAS,OAEX,YAAY,OACZ,cACA,IAAI,SAAW,gBAAgB,OAE/B,IAAI,OAAS,MAAM,OACnB,WAAW,QAAU,KACrB,IAAI,SAAA,IAAe,OACnB,GAAI,QAAQ,UAAW,CACrB,OAAO,QAAQ,UAAU,UAAW,eAC/B,CACL,QAAQ,UAAY,IAAI,UAAU,UAAW,MAAO,OAAQ,OAE9D,QAAQ,UAAU,KAAK,OAAQ,UAC/B,IAAK,SAAU,CACb,SAAS,OAAO,YAAa,OAG/B,GAAI,OAAO,MAAO,CAChB,OAAO,SAIX,SAAS,UAAU,OACjB,GAAI,UAAW,CACb,SAAS,OAEX,YAAY,OACZ,IAAI,SAAW,gBAAgB,OAC/B,IAAI,OAAS,MAAM,OACnB,GAAI,WAAW,QAAS,CACtB,IAAI,SAAA,IAAe,OACnB,IAAI,WAAa,QAAQ,UACzB,GAAI,WAAY,CACd,OAAO,WAAW,QAAS,WAC3B,IAAK,SAAU,CACb,WAAW,UAEb,WAAW,MAAQ,GACnB,WAAW,WAAa,UAAU,MAAO,WAAW,oBAE/C,WAAW,QAEpB,IAAK,SAAU,CACb,SAAS,OAAO,UAAW,QAI/B,SAAS,QAAQ,OACf,YAAY,MAAO,MACnB,IAAI,OAAS,MAAM,QAAU,MAAM,aAAe,MAAM,OACxD,aAAa,KAAK,CAChB,IAAK,CAAC,MAAM,MAAO,MAAM,OACzB,MAAO,MAAQ,EAAI,GAAK,EACxB,WAAY,QAIhB,IAAI,UAAY,OAChB,IAAI,kBAAoB,EACxB,SAAS,cAAc,OAKrB,cACA,IAAK,WAAY,CACf,cAAc,IAAI,aAAc,MAChC,QAAA,WAAA,WAAa,KAEf,GAAI,SAAU,CACZ,cAAc,IAAI,WAAY,OAC9B,QAAA,SAAA,SAAW,MAEb,GAAI,MAAM,aAAe,MAAO,CAC9B,MAAM,iBAER,IAAI,GAAK,MAAM,QACf,IAAI,KAAO,GAEX,IAAI,UAAY,GAAG,OACnB,IAAI,UAAY,UAEhB,IAAK,IAAI,GAAK,EAAG,GAAK,YAAa,GAAI,CACrC,IAAI,MAAQ,GAAG,IACf,IAAI,WAAa,QAAQ,MAAM,YAC/B,MAAM,UAAW,MAAM,MAAO,MAAM,OACpC,IAAK,WAAY,CACf,WAAa,QAAQ,MAAM,YAAc,IAAI,UAAU,UAAW,KAAM,EAAG,OAC3E,WAAW,KAAK,MAAO,QACrB,UACF,SAAS,OAAO,YAAa,WACxB,CACL,MAAM,WAAY,UAAW,WAAW,SACxC,MAAM,WAAW,MAAO,WAAW,MAAO,YAC1C,WAAW,OAAS,IAAI,WAAW,IAAM,IAAI,WAAW,IACxD,OAAO,WAAW,QAAS,WAG7B,KAAK,MAAM,YAAc,KACzB,GAAI,gBAAkB,YAAc,EAAG,CAErC,OAAO,UAAW,WAClB,mBAAqB,MAIzB,IAAI,eACJ,IAAI,aAAe,GACnB,IAAK,IAAI,MAAM,QAAS,CACtB,IAAK,KAAK,IAAK,CACb,IAAI,OAAQ,QAAQ,IACpB,GAAI,OAAM,OAAS,OAAM,QAAU,KAAM,GACrC,UACF,eAAiB,OACjB,aAAa,KAAK,IAClB,SAAS,OAAO,UAAW,CAAE,MAAO,OAAM,QAAQ,GAAI,MAAO,OAAM,QAAQ,KAC3E,OAAM,UACN,OAAM,MAAQ,GACd,OAAM,WAAa,UAAU,MAAO,OAAM,aAC1C,OAAM,QAAU,OAItB,IAAK,IAAI,KAAK,EAAG,KAAK,aAAa,SAAU,KAAI,CAC/C,IAAI,IAAK,aAAa,MACtB,IAAI,QAAQ,QAAQ,KAGpB,IAAI,OAAA,OAAe,yBACZ,QAAQ,KACf,QAAQ,QAAU,QAEpB,GAAI,eAAgB,CAClB,GAAI,YAAc,GAAK,YAAc,EAAG,QAC/B,WAAW,GAClB,OAAO,UAAW,eAAe,SACjC,mBAAqB,UAChB,GAAI,YAAc,EAAG,CAC1B,IAAI,QAAQ,GAAG,GACf,IAAK,UAAW,CACd,WAAW,GAAK,KAElB,MAAM,UAAW,QAAM,MAAO,QAAM,OACpC,mBAAqB,UAChB,GAAI,UAAY,EAAG,QAEjB,WAAW,KAKxB,SAAS,cAAc,KACrB,cAAc,OACd,IAAK,IAAI,QAAQ,cAAe,CAC9B,IAAI,GAAK,cAAc,MACvB,GAAI,GAAG,QAAU,KAAM,CACrB,GAAG,MAAM,OAKf,IAAI,WAAa,GACjB,SAAS,eACP,GAAI,mBAAoB,CACtB,WAAW,IAAI,MAAQ,IAAI,YAC3B,WAAW,IAAI,OAAS,IAAI,aAC5B,WAAW,IAAI,IAAM,IAAI,UACzB,WAAW,IAAI,MAAQ,IAAI,aAI/B,IAAI,cAAgB,MACb,SAAS,cAAc,MAC5B,KAAK,iBAAiB,aAAc,cAAe,eACnD,KAAK,iBAAiB,YAAa,cAAe,eAClD,KAAK,iBAAiB,WAAY,cAAe,eACjD,KAAK,iBAAiB,cAAe,cAAe,eAG/C,SAAS,QAAQ,QAAS,QAC/B,OAAS,QACT,aAAa,QAAQ,OAAQ,oBAC7B,GAAI,OAAO,qBAAuB,UAAW,CAC3C,mBAAqB,OAAO,mBAE9B,aAAe,OAAO,aACtB,eAEA,IACE,IAAI,KAAO,OAAO,eAAe,GAAI,UAAW,CAC9C,IAAK,SAAA,MACH,cAAgB,CAAE,QAAS,OAC3B,OAAO,SAGX,OAAO,iBAAiB,OAAQ,KAAM,MACtC,OAAO,oBAAoB,OAAQ,KAAM,MACzC,MAAO,GACP,cAAgB,MAGlB,OAAO,iBAAiB,UAAW,UAAW,OAC9C,OAAO,iBAAiB,QAAS,QAAS,OAE1C,OAAO,iBAAiB,QAAS,QAAS,OAC1C,OAAO,iBAAiB,cAAe,QAAS,OAChD,OAAO,iBAAiB,YAAa,YAAa,OAClD,OAAO,iBAAiB,YAAa,YAAa,OAClD,OAAO,iBAAiB,UAAW,UAAW,OAC9C,GAAI,OAAO,WAAY,CACrB,OAAO,iBAAiB,QAAS,QAAS,mBACrC,CACL,OAAO,iBAAiB,iBAAkB,QAAS,OACnD,OAAO,iBAAiB,aAAc,QAAS,OAGjD,OAAO,iBAAiB,OAAQ,cAAe,OAC/C,OAAO,iBAAiB,QAAS,cAAe,OAEhD,cAAc,QAKd,OAAO,iBAAiB,eAAgB,aAAc,OAIxD,IAAM,SAAW,IACjB,IAAM,YAAc,SAAW,SAC/B,IAAM,WAAa,EACnB,IAAM,cAAgB,IAEtB,SAAS,eAAe,KACtB,IAAI,IAAM,aAAa,KACvB,IAAK,IAAK,CACR,IAAM,aAAa,KAAO,CACxB,GAAI,IACJ,UAAW,EACX,OAAQ,IAAI,MAAM,aAEpB,IAAK,IAAI,GAAK,EAAG,GAAK,aAAc,GAAI,CACtC,IAAI,OAAO,IAAM,OAEnB,WAAW,KAAO,GAEpB,OAAO,IAGT,SAAS,eAAe,IAAK,GAAI,EAAG,SAClC,GAAI,IAAM,GAAG,SAAU,CACrB,GAAG,SAAW,UACd,GAAI,WAAY,CACd,cAAc,IAAI,aAAc,OAChC,QAAA,WAAA,WAAa,MAEf,IAAK,SAAU,CACb,cAAc,QAAQ,WAAY,MAClC,QAAA,SAAA,SAAW,KAEb,GAAI,UAAY,aAAc,CAC5B,IAAI,SAAA,IAAe,IAAI,GACvB,GAAI,QAAQ,UAAW,CACrB,gBACA,OAAO,QAAQ,UAAU,UAAW,eAC/B,CACL,QAAQ,UAAY,IAAI,UAAU,UAAW,MAAO,EAAG,MAEzD,QAAQ,UAAU,KAAK,KAAM,YAE1B,IAAK,GAAK,GAAG,SAAU,CAC5B,GAAG,SAAW,QACd,GAAI,UAAY,aAAc,CAC5B,IAAI,UAAA,IAAe,IAAI,GACvB,IAAI,WAAa,QAAQ,WACzB,GAAI,WAAY,CACd,gBACA,OAAO,WAAW,QAAS,WAC3B,WAAW,UACX,WAAW,MAAQ,GACnB,WAAW,WAAa,IAAI,OAAO,OAAS,WAAW,YAAa,yBAM5E,SAAS,gBACP,IAAI,SAAY,UAAU,UACxB,UAAU,gBACT,UAAU,aAAe,UAAU,eACnC,UAAU,mBAAqB,UAAU,oBAE5C,GAAI,SAAU,CACZ,IAAI,YAAc,SAAS,OAC3B,IAAK,IAAI,GAAK,EAAG,GAAK,YAAa,KAAM,CACvC,IAAI,QAAU,SAAS,IACvB,IAAK,QAAS,CACZ,SAEF,IAAI,IAAM,eAAe,IACzB,IAAI,GAAK,WAAW,IAEpB,GAAI,IAAI,UAAY,QAAQ,UAAW,CACrC,IAAI,QAAU,QAAQ,QACtB,IAAI,UAAY,QAAQ,UAExB,IAAI,WAAa,QAAQ,OACzB,IAAK,IAAI,EAAI,EAAG,EAAI,WAAY,IAAK,CACnC,IAAI,MAAQ,QAAQ,GACpB,UAAW,QAAU,SAAU,CAC7B,MAAQ,MAAM,MAEhB,MAAQ,MAAQ,GAChB,eAAe,IAAK,GAAI,MAAO,IAKnC,IAAI,KAAO,QAAQ,KACnB,GAAI,KAAK,QAAU,WAAa,EAAG,CACjC,IAAK,IAAI,GAAI,EAAG,GAAI,aAAc,GAAG,CACnC,IAAI,KAAO,IAAI,OAAO,IACtB,MAAM,KAAM,KAAK,GAAE,IAAK,KAAK,GAAE,EAAI,IACnC,IAAI,UAAY,WAAW,MAC3B,GAAI,UAAY,YAAa,CAC3B,UAAY,KAAK,WAGjB,QAAQ,KAAM,KAAM,EAAI,WAGxB,UAAY,IAAI,UAAW,GAG3B,WAAc,UAAY,WAAa,EAAI,UAE3C,QAAQ,KAAM,KAAM,eACf,CACL,MAAM,KAAM,EAAG,GAIjB,GAAI,IAAK,GAAK,eAAiB,UAAW,CACxC,IAAI,WAAa,QAAO,IAAK,IAAI,IACjC,GAAI,WAAY,CACd,QAAQ,WAAY,KAAM,OAAO,UACjC,MAAM,WAAW,MAAO,WAAW,MAAO,YAC1C,WAAW,OAAS,IAAI,WAAW,IAAM,IAAI,WAAW,IACxD,gBACA,OAAO,WAAW,QAAS,aAMjC,eAAe,IAAK,GAAI,IAAI,OAAO,GAAG,IAAM,cAAe,IAAI,aAC/D,eAAe,IAAK,GAAI,IAAI,OAAO,GAAG,GAAK,cAAe,IAAI,cAC9D,eAAe,IAAK,GAAI,IAAI,OAAO,GAAG,IAAM,cAAe,IAAI,aAC/D,eAAe,IAAK,GAAI,IAAI,OAAO,GAAG,GAAK,cAAe,IAAI,cAM/D,SAAS,YAGd,GAAI,6BAA8B,GAC9B,6BAIJ,IAAI,OAAS,OAAO,OACpB,IAAK,IAAI,QAAQ,cAAe,CAC9B,IAAI,GAAK,cAAc,MACvB,GAAI,GAAG,QAAU,KAAM,CACrB,GAAG,WAAa,IAAI,OAAS,GAAG,YAAa,sBAE7C,GAAG,YAAc,QAIrB,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,GAAI,WAAW,QAAU,KAAM,CAC7B,WAAW,WAAa,IAAI,OAAS,WAAW,YAAa,sBAE7D,WAAW,YAAc,QAI7B,oBAAsB,MACtB,gBACA,SAAS,aACT,aAAe,MACf,GAAI,QAAQ,wBAA0B,gBAAiB,CACrD,mBAIJ,SAAS,gBAAgB,KACvB,OAAO,KAAK,KAAK,QAAQ,SAAC,SACxB,OAAQ,IAAI,UACV,KAAK,UACH,IAAI,SAAW,KACf,MACF,KAAK,eACI,IAAI,SACX,MACF,YAIC,SAAS,SAAS,YACvB,IAAK,IAAI,QAAQ,cAAe,CAC9B,IAAI,GAAK,cAAc,MACvB,GAAI,GAAG,QAAU,GAAI,CACnB,cAAc,MAAQ,YACf,cAAc,UAChB,CACL,GAAG,QAAU,EACb,GAAG,UAAY,EACf,GAAG,UAAY,GAInB,WAAW,QAAQ,iBACnB,IAAK,WAAY,CACf,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,GAAI,WAAW,QAAU,GAAI,CAI3B,QAAQ,UAAY,YACb,QAAQ,cACV,CACL,WAAW,MAAM,GAAK,WAAW,MAAM,GAAK,EAC5C,WAAW,WAAa,MACxB,WAAW,gBAAkB,MAC7B,WAAW,qBAAuB,MAClC,WAAW,QAAU,EACrB,WAAW,UAAY,EACvB,WAAW,UAAY,GAG3B,aAAa,OAAS,EACtB,kBAAoB,MAEtB,eAAiB,MACjB,YAAc,MAGT,SAAS,oBACd,SAAS,aACT,aAAe,MACf,WAGK,SAAS,YAAY,YAE1B,SAAS,YACT,IAAK,WAAY,CACf,oBAAsB,KACtB,kBAAoB,KAEtB,eAAiB,KAGZ,SAAS,sBACd,YAAY,MAIP,SAAS,SAAS,KACvB,IAAM,KAAO,OACb,SAAS,aAAa,IAAK,WAC3B,OAAO,IAGF,SAAS,aACd,OAAO,YAGT,SAAS,cAAc,OACrB,MAAQ,OAAS,GACjB,MAAO,CACL,EAAG,MAAM,IAAM,UAAY,SAAS,SAAW,MAAM,EACrD,EAAG,MAAM,IAAM,UAAY,SAAS,SAAW,MAAM,EACrD,EAAG,MAAM,IAAM,UAAY,SAAS,QAAU,MAAM,EACpD,EAAG,MAAM,IAAM,UAAY,SAAS,QAAU,MAAM,EACpD,OAAQ,MAAM,SAAW,UAAY,IAAM,MAAM,QAIrD,IAAI,UAAY,OAChB,SAAS,SAAS,IAAK,OACrB,IAAK,SAAS,aAAa,UAAW,KAAM,CAC1C,OAAO,MAET,OAAO,UAAU,IAAM,MAAM,IAAM,MAAM,IAAM,UAAY,UAAU,GAAK,MAAM,EAAI,MAAM,IACxF,UAAU,IAAM,MAAM,IAAM,MAAM,IAAM,UAAY,UAAU,GAAK,MAAM,EAAI,MAAM,GAGhF,SAAS,WAAW,OACzB,GAAI,oBAAsB,aAAa,OAAQ,CAC7C,OAAO,EAET,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,IAAM,EACV,IAAK,IAAI,GAAK,EAAG,GAAK,aAAa,SAAU,GAAI,CAC/C,IAAI,KAAO,aAAa,IACxB,GAAI,KAAK,WAAY,CACnB,SAEF,GAAI,SAAS,KAAK,IAAK,WAAY,CACjC,KAAO,KAAK,MACZ,KAAK,WAAa,MAGtB,OAAO,IAGF,SAAS,UAAU,OACxB,GAAI,qBAAuB,mBAAqB,OAAS,MAAM,mBAAoB,CACjF,OAAO,MAET,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAG9B,IAAK,MAAM,KAAM,CACf,IAAK,IAAI,MAAM,QAAS,CACtB,IAAI,MAAQ,QAAQ,IACpB,GAAI,SAAS,MAAM,QAAS,WAAY,CACtC,MAAM,UAAY,EAClB,MAAM,QAAU,EAChB,IAAK,QAAU,MAAM,YAAa,CAChC,MAAM,WAAa,QAM3B,GAAI,SAAS,UAAW,WAAY,CAClC,IAAK,MAAM,KAAM,CACf,oBAAsB,KAExB,OAAO,KAET,OAAO,MAGF,SAAS,UAAU,OACxB,GAAI,kBAAmB,CACrB,OAAO,KAET,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OAEvB,IAAI,eAAiB,MAAM,UAAY,GAEvC,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,GAAI,WAAW,QAAU,QACrB,SAAW,KAAO,SAAW,WAAW,SAC1C,WAAW,MAAQ,eACnB,CACA,SAEF,GAAI,SAAS,WAAW,QAAS,WAAY,CAI3C,MAAO,CACL,OAAQ,WAAW,OACnB,IAAK,UAAU,MAAM,GACrB,WAAY,WAAW,aAK7B,OAAO,KAGF,SAAS,kBACd,OAAO,mBAGF,SAAS,aACd,OAAO,OAAO,KAAK,SAAS,OAGvB,SAAS,QAAQ,SACtB,GAAI,UAAY,KAAK,KAAM,CACzB,aAAe,KAEjB,GAAI,eAAgB,CAClB,OAAO,EAET,IAAI,GAAK,cAAc,SACvB,IAAK,GAAI,CACP,OAAO,EAET,GAAI,GAAG,QAAU,KAAM,CACrB,OAAO,GAAG,WAEZ,OAAO,GAAG,UAEL,SAAS,YAAY,QAAS,MACnC,GAAI,MAAQ,KAAK,cAAgB,eAAgB,CAC/C,SAAS,GAAG,UAAW,QAAS,KAAK,aAGvC,IAAI,GAAK,cAAc,SACvB,IAAK,GAAI,CACP,OAAO,EAET,IAAI,EAAI,GAAG,UACX,GAAG,UAAY,EACf,OAAO,EAEF,SAAS,UAAU,QAAS,MACjC,GAAI,MAAQ,KAAK,cAAgB,eAAgB,CAC/C,SAAS,GAAG,QAAS,QAAS,KAAK,aAGrC,IAAI,GAAK,cAAc,SACvB,IAAK,GAAI,CACP,OAAO,EAET,IAAI,EAAI,GAAG,QACX,GAAG,QAAU,EACb,OAAO,EAGF,SAAS,WAAW,IAAK,WAAY,UAC1C,OAAO,YAAc,GAAK,WAAa,YACvC,GAAI,WAAa,UAAW,CAC1B,IAAI,IAAM,OACV,MAAM,IAAK,EAAG,GACd,IAAK,IAAI,GAAK,EAAG,GAAK,aAAa,SAAU,GAAI,CAC/C,WAAW,IAAK,WAAY,IAC5B,MAAM,IAAK,IAAK,KAElB,OAEF,IAAI,OAAS,eAAe,UAAU,OACtC,OAAO,IAAK,OAAO,aAGrB,SAAS,sBAAsB,IAAK,GAAI,SACtC,GAAI,GAAG,SAAU,CACf,OAAO,OAAO,SAEhB,OAAO,EAET,SAAS,0BAA0B,IAAK,GAAI,SAC1C,GAAI,GAAG,WAAa,UAAW,CAC7B,GAAG,SAAW,KACd,OAAO,OAAO,SAEhB,OAAO,EAET,SAAS,wBAAwB,IAAK,GAAI,SACxC,GAAI,GAAG,WAAa,QAAS,QACpB,GAAG,SACV,OAAO,OAAO,SAEhB,OAAO,EAGT,SAAS,gBAAgB,GAAI,QAAS,UACpC,OAAO,UAAY,WACnB,IAAI,EAAI,EAER,GAAI,WAAa,UAAW,CAC1B,IAAK,IAAI,GAAK,EAAG,GAAK,WAAW,SAAU,GAAI,CAC7C,GAAK,gBAAgB,GAAI,QAAS,IAEpC,OAAO,EAGT,GAAI,kBAAmB,CACrB,OAAO,EAET,IAAI,IAAM,aAAa,UACvB,IAAK,IAAK,CACR,OAAO,EAET,IAAI,GAAK,WAAW,UAEpB,GAAK,WAAW,UAAY,GAAG,IAAK,GAAI,WAAW,WAAa,EAChE,GAAK,GAAG,IAAK,GAAI,SACjB,OAAO,EAEF,SAAS,cAAc,QAAS,UACrC,OAAO,gBAAgB,sBAAuB,QAAS,UAElD,SAAS,kBAAkB,QAAS,UACzC,OAAO,gBAAgB,0BAA2B,QAAS,UAEtD,SAAS,gBAAgB,QAAS,UACvC,OAAO,gBAAgB,wBAAyB,QAAS,UAG3D,IAAI,UAAY,OAChB,IAAI,QAAU,OACd,IAAI,MAAQ,OAEL,SAAS,YAAY,OAC1B,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OACvB,IAAI,eAAiB,MAAM,UAAY,GAEvC,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,IAAK,WAAW,QAAS,CACvB,SAEF,KAAM,SAAW,KAAO,SAAW,WAAW,SAC5C,WAAW,MAAQ,eACnB,CACA,SAEF,GAAI,SAAS,WAAW,QAAS,WAAY,CAC3C,IAAK,MAAM,KAAM,CACf,WAAW,QAAU,EAEvB,MAAO,CACL,OAAQ,WAAW,OACnB,IAAK,UAAU,MAAM,GACrB,WAAY,WAAW,aAK7B,GAAI,MAAM,cAAgB,oBAAsB,oBAAqB,CAEnE,IAAK,MAAM,KAAM,CACf,MAAM,KAAO,GAEf,MAAM,KAAK,cAAgB,MAAM,kBAAoB,SAAW,MAAM,gBAAkB,OACxF,SAAS,qBAAqB,MAAM,KAAM,WAC1C,SAAS,GAAG,UAAW,MAAM,KAAM,MAAM,aAE3C,OAAO,MAET,QAAQ,MAAQ,YAET,SAAS,cAAc,OAC5B,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OAEvB,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,IAAK,WAAW,aACZ,SAAW,KAAO,SAAW,WAAW,QAC1C,CACA,SAEF,GAAI,SAAS,WAAW,QAAS,WAAY,CAC3C,IAAK,MAAM,KAAM,CACf,WAAW,UAAY,EAEzB,MAAO,CACL,OAAQ,WAAW,OACnB,IAAK,UAAU,MAAM,GACrB,WAAY,WAAW,aAK7B,GAAI,MAAM,cAAgB,oBAAsB,oBAAqB,CAEnE,IAAK,MAAM,KAAM,CACf,MAAM,KAAO,GAEf,MAAM,KAAK,OAAS,OACpB,SAAS,qBAAqB,MAAM,KAAM,WAC1C,SAAS,GAAG,YAAa,MAAM,KAAM,MAAM,aAE7C,OAAO,MAMF,SAAS,mBAAmB,OACjC,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OACvB,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UAEzB,KAAM,SAAW,KAAO,SAAW,WAAW,SAAW,WAAW,gBAAiB,CACnF,SAEF,GAAI,SAAS,WAAW,UAAW,WAAY,CAC7C,WAAW,UAAY,EAEvB,WAAW,UAAU,GAAK,WAAW,UAAU,GAAK,SAEpD,WAAW,MAAQ,WAKlB,SAAS,KAAK,OACnB,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OACvB,IAAI,SAAW,MAAM,UAAY,EAEjC,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,KAAM,SAAW,KAAO,SAAW,WAAW,SAAW,WAAW,gBAAiB,CACnF,SAEF,GAAI,SAAS,WAAW,UAAW,WAAY,CAC7C,SAAS,kBAAkB,MAAO,CAAC,WAAW,MAAM,EAAG,WAAW,MAAM,IACxE,IAAI,MAAQ,MAAM,GAAK,MAAM,GAC7B,GAAI,MAAQ,SAAU,CACpB,SAEF,IAAK,MAAM,KAAM,CACf,WAAW,gBAAkB,KAE/B,IAAI,aAAe,WAAW,UAC9B,GAAI,MAAM,WAAY,CACpB,WAAW,UAAY,WAAW,QAAU,EAE9C,GAAI,MAAM,QAAS,CACjB,WAAW,aAAe,MAAM,QAElC,SAAS,aAAa,UAAW,WAAW,WAC5C,SAAS,aAAa,QAAS,WAAW,SAC1C,SAAS,kBAAkB,MAAO,WAAW,OAC7C,MAAO,CACL,QAAA,QACA,UAAA,UACA,MAAA,MACA,MAAA,MACA,OAAQ,WAAW,OACnB,MAAO,WAAW,MAClB,WAAY,WAAW,WACvB,aAAA,aACA,UAAW,WAAW,YAI5B,OAAO,KAIF,SAAS,UAAU,OACxB,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OACvB,IAAI,SAAW,MAAM,UAAY,EACjC,IAAI,SAAW,MAAM,UAAY,IAEjC,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,KAAM,SAAW,KAAO,SAAW,WAAW,SAAW,WAAW,sBAAuB,CACzF,SAEF,GAAI,SAAS,WAAW,UAAW,WAAY,CAC7C,SAAS,kBAAkB,MAAO,CAAC,WAAW,MAAM,EAAG,WAAW,MAAM,IACxE,IAAI,MAAQ,MAAM,GAAK,MAAM,GAC7B,GAAI,MAAQ,SAAU,CACpB,SAEF,IAAI,KAAO,KAAK,MAAQ,WAAW,WACnC,GAAI,KAAO,SAAU,CACnB,SAEF,IAAK,MAAM,KAAM,CAEf,WAAW,sBAAwB,KAErC,IAAI,aAAe,WAAW,UAC9B,GAAI,MAAM,WAAY,CACpB,WAAW,UAAY,WAAW,QAAU,EAE9C,SAAS,aAAa,UAAW,WAAW,WAC5C,SAAS,aAAa,QAAS,WAAW,SAC1C,SAAS,kBAAkB,MAAO,WAAW,OAC7C,MAAO,CACL,WAAY,KACZ,QAAA,QACA,UAAA,UACA,MAAA,MACA,MAAA,MACA,OAAQ,WAAW,OACnB,MAAO,WAAW,MAClB,WAAY,WAAW,WACvB,aAAA,aACA,UAAW,WAAW,YAI5B,OAAO,KAGF,SAAS,SAAS,OACvB,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OAEvB,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UAEzB,KAAM,SAAW,KAAO,SAAW,WAAW,SAAW,WAAW,aAAe,WAAW,aAAc,CAC1G,SAEF,IAAK,WAAW,QAAS,CACvB,SAEF,GAAI,SAAS,WAAW,QAAS,WAAY,CAC3C,IAAK,MAAM,KAAM,CAEf,WAAW,qBAAuB,KAClC,WAAW,gBAAkB,KAC7B,WAAW,WAAa,KAE1B,MAAO,CAAE,aAAc,WAAW,eAGtC,OAAO,KAGF,SAAS,SAAS,OACvB,MAAQ,OAAS,GACjB,IAAI,UAAY,cAAc,OAC9B,IAAI,OAAS,UAAU,OAEvB,IAAK,IAAI,YAAY,QAAS,CAC5B,IAAI,WAAa,QAAQ,UACzB,KAAM,SAAW,KAAO,SAAW,WAAW,SAC5C,WAAW,uBACV,WAAW,aACZ,CACA,SAEF,GAAI,WAAW,QAAU,KAAM,CAC7B,SAEF,GAAI,SAAS,WAAW,QAAS,WAAY,CAE3C,IAAK,MAAM,KAAM,CACf,WAAW,qBAAuB,KAEpC,SAAS,aAAa,QAAS,WAAW,SAC1C,MAAO,CACL,QAAA,QACA,aAAc,WAAW,eAI/B,OAAO;;;;mFC92CT,IAAM,OAAS,QAAQ,eACvB,IAAM,SAAW,QAAQ,iBACzB,IAAM,SAAW,QAAQ,iBACzB,IAAM,MAAQ,QAAQ,c,IACd,IAAQ,KAAR,IACR,IAAM,GAAK,QAAQ,WAEnB,IAAI,YAAc,GAClB,IAAI,SAAW,cAIR,SAAS,KAAK,OAAO,IACpB,EAA2C,MAA3C,EAAG,EAAwC,MAAxC,EAAG,EAAqC,MAArC,EAAG,EAAkC,MAAlC,EAAG,IAA+B,MAA/B,IAAK,SAA0B,MAA1B,SAAU,YAAgB,MAAhB,YACjC,IAAK,IAAI,MAAM,UAAW,CACxB,IAAS,SAAS,SAAS,SAA3B,KAAwC,IAE1C,IAAI,IAAS,EAAT,IAAc,EAClB,IAAI,MAAQ,YAAY,KACxB,IAAK,MAAO,CACV,MAAQ,YAAY,KAAO,CAAE,QAAS,OAExC,MAAM,MAAQ,OAAO,YAErB,IAAI,KAAO,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAA,GAEtB,GAAI,SAAS,aAAa,MAAO,CAE/B,IAAI,KAAO,GAAG,QAAQ,YAAa,MAAM,MACzC,GAAI,OAAS,MAAM,KAAM,CACvB,MAAM,KAAO,KACb,GAAI,KAAM,CAER,KAAK,YAAc,GACnB,IAAI,OAAS,SAAS,cAAc,KACpC,OAAO,aAAa,YAAa,OACjC,OAAO,YAAc,IACrB,OAAO,UAAY,qBACnB,OAAO,aAAa,SAAU,UAC9B,OAAO,aAAa,OAAQ,KAC5B,MAAM,IAAM,IACZ,GAAI,SAAU,CACZ,IAAI,OACJ,IAAI,OACJ,MAAM,cAAc,QACpB,OAAO,YAAc,SAAU,IAC7B,OAAS,GAAG,MACZ,OAAS,GAAG,OAEd,OAAO,QAAU,SAAU,IACzB,GAAG,iBACH,GAAI,OAAQ,CACV,IAAI,KAAO,IAAI,GAAG,MAAQ,QAAU,IAAI,GAAG,MAAQ,QACnD,GAAI,KAAO,GAAI,CACb,QAGJ,MAAM,QAAU,KAChB,SAAS,OAAO,UAAW,KAG/B,KAAK,YAAY,QACjB,MAAM,OAAS,QAGnB,GAAI,KAAM,CACR,GAAI,MAAQ,MAAM,IAAK,CACrB,MAAM,OAAO,aAAa,OAAQ,KAClC,MAAM,IAAM,IAGd,IAAI,IAAM,SAAS,QAAQ,KAAK,EAAG,KAAK,GACxC,KAAK,MAAM,KAAU,IAAI,GAAzB,IACA,KAAK,MAAM,IAAS,IAAI,GAAxB,IACA,IAAI,KAAO,SAAS,SAAS,KAAK,EAAG,KAAK,GAC1C,KAAK,MAAM,MAAW,KAAK,GAA3B,IACA,KAAK,MAAM,OAAY,KAAK,GAA5B,KAGJ,IAAI,QAAU,MAAM,QACpB,MAAM,QAAU,MAChB,OAAO,QAGF,SAAS,SAAS,OAAO,IACxB,WAAgE,MAAhE,WAAY,iBAAoD,MAApD,iBAAkB,EAAkC,MAAlC,EAAG,EAA+B,MAA/B,EAAG,EAA4B,MAA5B,EAAG,UAAyB,MAAzB,UAAW,KAAc,MAAd,KAAM,IAAQ,MAAR,IAC9D,KAAO,MAAQ,IACf,EAAI,GAAK,EAAE,GACX,UAAY,WAAa,GAAG,YAE5B,IAAI,EAAI,GAAG,KAAK,eAAe,WAAY,UAAW,MACtD,IAAI,EAAI,UACR,IAAI,UAAY,MAAM,UAAU,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,KAAM,SAAY,MAAM,kBACtE,IAAI,MAAQ,UAAY,iBAAmB,WAC3C,GAAG,KAAK,UAAU,MAAO,EAAG,EAAG,EAAG,UAAW,MAC7C,IAAI,YAAc,EAClB,GAAG,SAAS,EAAG,EAAI,EAAI,YAAa,EAAI,EAAG,EAAI,EAAI,YAAa,EAAI,GAAK,YAAa,IAAM,MAAM,YAClG,MAAM,EAAI,EACV,MAAM,EAAI,EACV,OAAO,KAAK,OAGP,SAAS,WACd,IAAK,IAAI,OAAO,YAAa,CAC3B,IAAI,MAAQ,YAAY,KACxB,GAAI,MAAM,QAAU,OAAO,YAAc,EAAG,QACnC,YAAY;;;;+KCzGzB,QAAQ,eAAiB,OAEzB,IAAI,IAAO,WACT,IACE,aAAa,KAAO,OACpB,OAAO,aACP,MAAO,GACP,MAAO,IALA,GAQJ,SAAS,IAAI,KAClB,IAAS,QAAQ,eAAjB,IAAmC,IACnC,IAAI,IAAM,IAAI,KACd,GAAI,MAAQ,YAAa,CACvB,IAAM,UAER,OAAO,IAGF,SAAS,IAAI,IAAK,OACvB,IAAS,QAAQ,eAAjB,IAAmC,IACnC,GAAI,QAAU,WAAa,QAAU,KAAM,QAClC,IAAI,SACN,CACL,IAAI,KAAO,OAIR,SAAS,QAAQ,IAAK,OAC3B,IAAI,IAAK,KAAK,UAAU,QAGnB,SAAS,QAAQ,IAAK,KAC3B,IAAI,MAAQ,IAAI,KAChB,GAAI,QAAU,UAAW,CACvB,OAAO,IAET,IACE,OAAO,KAAK,MAAM,OAClB,MAAO,IAGT,OAAO,IAGF,SAAS,SAAS,YACvB,IAAI,OAAS,IAAI,OAAJ,IAAe,QAAQ,eAAvB,KAAyC,YAAc,IAAM,KAC1E,IAAK,IAAI,OAAO,IAAK,CACnB,GAAI,IAAI,MAAM,QAAS,QACd,IAAI,OAKV,SAAS,YACd,IAAI,IAAM,GACV,IAAI,OAAS,IAAI,OAAJ,IAAe,QAAQ,eAAvB,QAA8C,KAC3D,IAAK,IAAI,OAAO,IAAK,CACnB,IAAI,EAAI,IAAI,MAAM,QAClB,GAAI,EAAG,CACL,IAAI,EAAI,IAAI,KACZ,GAAI,GAAK,IAAM,YAAa,CAC1B,IAAI,EAAE,IAAM,IAIlB,OAAO,KAAK,UAAU,KAGjB,SAAS,UAAU,YACxB,IAAI,IAAM,KAAK,MAAM,YACrB,WACA,IAAK,IAAI,OAAO,IAAK,CACnB,IAAI,IAAK,IAAI;;;;uFCxEV,SAAS,QACd,IAAI,EAAI,IAAI,aAAa,IACzB,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EACrB,OAAO,EAGF,SAAS,YAAY,KAC1B,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,IAAM,EACV,IAAI,IAAM,EAGL,SAAS,OAAO,IAAK,EAAG,GAC7B,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,IAAM,EAAE,IACZ,IAAI,IAAM,EAAE,IAEZ,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GAEX,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,IAAI,GAAM,GAAK,GAAK,GAAK,IAAM,GAAK,IAAM,EAAE,GAC5C,IAAI,IAAO,GAAK,GAAK,GAAK,IAAM,GAAK,IAAM,EAAE,IAC7C,IAAI,IAAO,GAAK,GAAK,GAAK,IAAM,GAAK,IAAM,EAAE,IAE7C,OAAO;;;;gJCrDT,IAAM,OAAS,QAAQ,UACvB,IAAM,KAAO,QAAQ,aACrB,IAAM,WAAa,QAAQ,mB,aACc,QAAQ,4BAAzC,6B,SAAA,6BACR,IAAM,SAAW,QAAQ,eACzB,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iB,cACR,QAAQ,cAAjB,K,UAAA,K,cACiB,QAAQ,cAAzB,a,UAAA,aAED,IAAI,WAAa,E,8BAEjB,IAAI,OAAS,G,sBAEb,IAAI,gB,wCACJ,IAAI,gB,wCAEX,SAAS,cACP,QAAA,gBAAA,gBAAkB,QAAQ,OAAO,2BACjC,QAAA,gBAAA,gBAAkB,QAAQ,OAAO,2BAGnC,SAAS,MAAM,KACb,KAAK,IAAM,IACX,IAAI,IAAM,IAAI,YAAY,KAC1B,GAAI,OAAS,EAAG,CACd,KAAK,SAAW,IAAI,MAAM,EAAG,IAAM,OAC9B,CACL,KAAK,SAAW,IAIpB,MAAM,UAAU,KAAO,WAAY,IAAA,MAAA,KACjC,QAAA,WAAE,WAAA,WAAF,EACA,IAAI,IAAM,IAAI,eACd,IAAI,KAAK,MAAO,KAAK,IAAK,MAC1B,IAAI,aAAe,cACnB,IAAI,OAAS,WACX,QAAA,WAAE,WAAA,WAAF,EACA,IACE,IAAI,aAAe,IAAI,SACvB,IAAK,IAAI,SAAW,KAAO,IAAI,SAAW,IAAM,aAAc,CAC5D,MAAK,MAAM,eAEb,MAAO,GACP,OAAO,QAAQ,sBAAuB,YAAa,EAAG,EAAG,KAG7D,IAAI,KAAK,OAGX,IAAM,UAAY,CAChB,QAAW,MAGb,MAAM,UAAU,MAAQ,SAAU,UAChC,IAAI,IAAM,WAAW,MAAM,UAC3B,IAAK,IAAK,CACR,OAGF,IAAI,SAAW,IAAI,UACnB,IAAI,KAAO,GACX,IAAK,IAAI,GAAK,EAAG,GAAK,SAAS,OAAO,SAAU,GAAI,CAClD,IAAI,KAAO,SAAS,OAAO,IAC3B,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,WAAW,SAAU,GAAI,CAClD,IAAI,WAAa,KAAK,WAAW,IACjC,IAAI,SAAW,SAAS,UAAU,WAAW,UAC7C,IAAI,QAAU,KACd,GAAI,SAAU,CAEZ,IAAI,KAAO,SAAS,sBAAwB,IAAI,kBAAoB,GACpE,IAAI,YAAc,SAAS,UAAY,SAAS,SAAS,IAAI,QAAU,GACvE,IAAI,YAAc,SAAS,UAAY,SAAS,SAAS,YAAY,UAAY,GACjF,IAAI,MAAQ,SAAS,QAAU,SAAS,OAAO,YAAY,SAAW,GACtE,GAAI,MAAM,IAAK,CACb,IAAI,OAAS,CACX,IAAG,GAAK,KAAK,SAAW,MAAM,IAC9B,WAAY,YAAY,UACxB,WAAY,YAAY,UACxB,OAAQ,YAAY,MACpB,OAAQ,YAAY,OAEtB,QAAU,SAAS,KAAK,SAG5B,IAAI,OAAS,GACb,IAAI,QAAU,GACd,IAAI,KAAO,GACX,IAAI,WAAa,EACjB,IAAI,WAAa,EACjB,IAAK,IAAI,QAAQ,WAAW,WAAY,CACtC,GAAI,UAAU,MAAO,CACnB,SAEF,OAAO,QAAQ,SAAS,QAAU,WAClC,IAAI,UAAW,SAAS,UAAU,WAAW,WAAW,OACxD,OAAO,MAAM,UAAS,cAAe,MACrC,IAAI,YAAc,GAAG,MACrB,IAAI,WAAa,6BAA6B,UAAS,MACvD,OAAO,YACP,IAAI,cAAgB,UAAS,MAC7B,IAAK,WAAY,CACf,WAAa,kBACR,CACL,OAAO,MAAM,WAAY,eAE3B,OAAO,KAAK,CAAC,QAAQ,SAAS,MAAO,YAAa,aAClD,IAAI,OAAS,IAAI,UAAU,WAC3B,QAAQ,KAAK,QACb,KAAK,KAAK,GACV,YAAc,OAAO,OAGvB,IAAI,MAAQ,IAAI,aAAa,YAC7B,IAAI,IAAM,EACV,IAAK,IAAI,KAAO,EAAG,KAAO,aAAc,KAAM,CAC5C,IAAK,IAAI,MAAO,EAAG,MAAO,OAAO,SAAU,MAAM,CAC/C,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,OAAM,KAAM,GAAI,CAC3C,MAAM,OAAS,QAAQ,OAAM,KAAK,YAKxC,IAAI,SAAW,SAAS,UAAU,WAAW,SAC7C,OAAO,UACP,OAAO,MAAM,SAAS,KAAM,UAC5B,IAAI,KAAO,IAAI,UAAU,UACzB,GAAI,SAAS,gBAAkB,KAAM,CACnC,OAAO,WAAa,OAEpB,KAAO,IAAI,YAAY,UAClB,CACL,OAAO,MAAM,SAAS,cAAe,MAEvC,KAAK,KAAK,CACR,KAAM,KAAK,OAAO,OAAQ,MAAO,KAAM,WAAW,MAClD,QAAA,WAKN,KAAK,KAAO,CACV,KAAA,OAKJ,MAAM,UAAU,KAAO,SAAU,KAC/B,SAAS,eAAe,KACxB,QAAQ,KAAK,gBAAiB,gBAAiB,CAC7C,MAAO,KAAK,EAAG,EAAG,EAAG,KAEvB,IAAI,KAAO,KAAK,KAAK,KACrB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,IAAM,KAAK,IACf,GAAI,IAAI,QAAS,CACf,SAAS,KAAK,EAAG,IAAI,SAEvB,IAAI,KAAK,SAKb,MAAM,UAAU,SAAW,WACzB,IAAI,KAAO,KAAK,KAAK,KACrB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,IAAM,KAAK,IACf,IAAI,KAAK,SAIN,SAAS,KAAK,KACnB,GAAI,OAAO,KAAM,CACf,OAAO,OAAO,KAEhB,IAAI,MAAQ,OAAO,KAAO,IAAI,MAAM,KACpC,MAAM,KAAO,OAAO,IAAI,KACxB,MAAM,OACN,OAAO,MAGF,SAAS,UACd,cACA,IAAI,UAAY,OAAO,IAAM,IAAI,MAAM,OACvC,UAAU,MAAM,aAAa,sCAAsC;;;;4EChMxC,QAAQ,kBAA7B,iB,SAAA,iBACR,IAAM,OAAS,QAAQ,0BACvB,IAAM,qBAAuB,QAAQ,6BACrC,IAAM,SAAW,QAAQ,iBAAiB,SAC1C,IAAM,SAAW,QAAQ,4BAEzB,IAAI,OACJ,IAAI,KAEG,SAAS,KAAK,QACnB,OAAS,QAAU,GACnB,GAAI,OAAO,KAAM,CACf,SAAS,iBAAmB,OAAO,KAErC,GAAI,OAAO,SAAS,UAAU,MAAM,yBAA0B,CAC5D,QAAQ,IAAI,mBACZ,OAAO,eAAiB,OAAO,aAEjC,OAAS,IAAI,SAAS,OAAO,MAC7B,KAAO,qBAAqB,OAAO,OAAQ,OAAO,WAClD,KAAK,iBAAmB,QAAQ,OAAO,kBACvC,OAAO,KAAO,KACd,QAAQ,KAAO,KACf,QAAQ,OAAS,OACjB,iBAAiB,QAEjB,GAAI,OAAO,OAAQ,CACjB,OAAO,OAAO,YAAY,SAAC,IACzB,OAAO,kBACP,KAAK,KAAK,OAKhB,IAAM,uBAAyB,IAAI,KAAK,OAAO,kBAC5C,cACA,QAAQ,IAAK,KACb,MAAM,GAAI,GACN,SAAS,cACd,OAAO;;;;6FCvCT,IAAM,OAAS,QAAQ,U,aACD,QAAQ,aAAtB,U,SAAA,UACR,IAAM,YAAc,QAAQ,eAC5B,IAAM,IAAM,QAAQ,YACpB,IAAM,KAAO,QAAQ,aACrB,IAAM,SAAW,QAAQ,iBACzB,IAAM,KAAO,QAAQ,wB,cACY,QAAQ,4BAAjC,Q,UAAA,QAAS,Y,UAAA,Y,IACT,IAAmC,KAAnC,IAAK,MAA8B,KAA9B,MAAO,IAAuB,KAAvB,IAAK,IAAkB,KAAlB,IAAK,GAAa,KAAb,GAAI,KAAS,KAAT,KAClC,IAAM,OAAS,GAAK,EACpB,IAAM,QAAU,IAEhB,IAAI,IAEJ,SAAS,SAAS,CAChB,UAAW,CACT,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,MAGd,KAAK,UAAU,CACb,KAAM,OACN,UAAW,YACX,OAAQ,CACN,SAAU,SAAA,OACR,IAAK,IAAK,CACR,MAAO,GAET,IAAI,GAAK,IAAI,QAAQ,KACrB,IAAK,IAAM,GAAG,KAAO,KAAO,CAC1B,MAAO,GAET,MAAO,CAAE,MAAK,GAAK,GAAG,KAAK,QAAQ,GAAM,MAAO,IAAI,EAAG,GAAG,KAAO,QAIvE,SAAS,SAAS,CAChB,SAAU,CACR,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,MAGd,IAAI,aAAe,CAAE,KAAM,EAAG,MAAO,EAAG,KAAM,KAAK,MAAO,GAAI,EAAG,GAAI,GACrE,IAAI,iBAAmB,CAAE,KAAM,EAAG,MAAO,EAAG,KAAM,KAAK,MAAO,GAAI,EAAG,GAAI,GACzE,SAAS,UAAU,MAAO,MACxB,IAAI,IAAM,KAAK,MACf,GAAI,IAAM,KAAK,KAAO,IAAM,CAC1B,KAAK,GAAK,MAAM,KAAO,KAAK,KAC5B,KAAK,GAAK,MAAM,MAAQ,KAAK,MAC7B,KAAK,KAAO,MAAM,KAClB,KAAK,MAAQ,MAAM,MACnB,GAAI,IAAM,KAAK,KAAO,IAAM,CAC1B,KAAK,KAAO,QACP,CACL,KAAK,MAAQ,KAGjB,OAAW,KAAK,GAAG,MAAM,QAAQ,GAAjC,QAA2C,KAAK,GAAhD,IAEF,KAAK,UAAU,CACb,KAAM,MACN,UAAW,WACX,MAAO,EACP,OAAQ,CACN,SAAU,UAAU,KAAK,KAAM,QAAS,cACxC,OAAQ,UAAU,KAAK,KAAM,YAAa,qBAI9C,IAAM,cAAgB,CAEpB,IAAK,UAAW,UAChB,YAAa,SAAU,cAAe,iBAAkB,gBAAiB,cAEzE,gBAAiB,mBAGnB,SAAS,mBAAmB,SAC1B,KAAK,gBAAkB,KAAK,cAAc,KAAK,MAC/C,KAAK,aAAe,KAAK,mBAAmB,KAAK,MACjD,KAAK,OAAO,SAEd,mBAAmB,UAAU,OAAS,WACpC,GAAI,KAAK,QAAS,CAChB,KAAK,QAAQ,eAAe,eAAgB,KAAK,iBACjD,KAAK,QAAQ,eAAe,YAAa,KAAK,gBAIlD,mBAAmB,UAAU,mBAAqB,SAAU,MAE1D,KAAK,UAAU,QAAU,MACzB,KAAK,UAAU,KAAO,EACtB,KAAK,UAAY,IAAI,OAAO,IAG9B,mBAAmB,UAAU,cAAgB,SAAU,KAAM,QAAS,WACpE,GAAI,QAAS,CACX,IAAI,EAAI,QAAQ,MAAM,oCACtB,GAAI,EAAG,CACL,IAAI,UAAY,EAAE,GAClB,IAAI,MAAQ,EAAE,GACd,GAAI,QAAU,MAAO,CACnB,KAAK,sBAAsB,WAE7B,GAAI,KAAK,iBAAkB,CACzB,IAAI,IAAM,KAAK,gBAAgB,WAC/B,GAAI,IAAK,CACP,KAAK,iBAAiB,IAAK,SAIjC,IAAK,UAAW,CACd,EAAI,QAAQ,MAAM,8BAClB,GAAI,EAAG,QAEE,KAAK,gBAAgB,EAAE,UAG7B,CACL,GAAI,MAAQ,KAAK,QAAU,KAAK,OAAO,QAAS,CAC9C,IAAK,IAAM,cAAa,KAAK,OAAO,QAAS,CAC3C,IAAM,YAAc,KAAK,OAAO,QAAQ,YACxC,GAAI,YAAY,IAAK,CACnB,KAAK,sBAAsB,iBAOrC,mBAAmB,UAAU,IAAM,SAAU,MAC3C,IAAI,EAAI,IAAI,aAAa,KAAK,GAC9B,GAAI,KAAM,CACR,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,EAAE,IAAM,MAGZ,OAAO,GAET,mBAAmB,UAAU,MAAQ,SAAU,IAAK,KAClD,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,IAAI,IAAM,IAAI,IAEhB,OAAO,KAET,mBAAmB,UAAU,IAAM,SAAU,KAC3C,IAAI,IAAM,IAAI,MAAM,KAAK,GACzB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,IAAI,IAAM,IAAI,IAEhB,OAAO,KAET,mBAAmB,UAAU,MAAQ,SAAU,EAAG,GAChD,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,GAAI,IAAI,EAAE,IAAM,EAAE,KAAO,QAAS,CAChC,OAAO,OAGX,OAAO,MAET,mBAAmB,UAAU,QAAU,SAAU,GAC/C,IAAI,EAAI,EACR,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,IAAI,EAAI,EAAE,IACV,GAAK,EAAI,EAEX,OAAO,KAAK,IAEd,mBAAmB,UAAU,MAAQ,SAAU,EAAG,GAChD,KAAK,KAAK,KAAK,SAAU,EAAG,GAC5B,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,UAAW,GAAI,CACxC,IAAI,GAAK,KAAK,QAAU,GACxB,IAAI,EAAI,IAAI,KAAK,SAAS,KAC1B,GAAI,EAAI,GAAI,CACV,KAAK,SAAS,IAAM,EAAI,OAAO,EAAI,IAAM,QAAU,QAGvD,OAAO,KAAK,QAAQ,KAAK,WAE3B,mBAAmB,UAAU,KAAO,SAAU,IAAK,EAAG,GACpD,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,IAAI,IAAM,EAAE,IAAM,EAAE,IAEtB,OAAO,KAET,mBAAmB,UAAU,OAAS,SAAU,IAAK,EAAG,QACtD,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,IAAI,IAAM,EAAE,IAAM,SAItB,mBAAmB,UAAU,OAAS,SAAU,SAC9C,KAAK,SACL,IAAM,KAEN,QAAU,SAAW,GACrB,KAAK,gBAAkB,GACvB,IAAK,IAAI,GAAK,EAAG,GAAK,cAAc,SAAU,GAAI,CAChD,IAAI,MAAQ,cAAc,IAC1B,GAAI,QAAQ,OAAQ,CAClB,KAAK,OAAS,QAAQ,QAI1B,OAAO,MAAM,KAAK,QAAU,KAAK,QAAS,KAAK,GAE/C,IAAK,KAAK,YAAa,CACrB,KAAK,YAAc,KAAK,MAE1B,IAAK,KAAK,SAAU,CAClB,KAAK,SAAW,KAAK,MAEvB,IAAK,KAAK,WAAY,CACpB,KAAK,WAAa,KAAK,MAGzB,KAAK,QAAU,QAAQ,QACvB,KAAK,UAAY,CACf,IAAK,KAAK,KAAK,GACf,QAAS,MACT,UAAW,GAEb,KAAK,wBAA0B,MAE/B,KAAK,iBAAmB,QAAQ,iBAEhC,GAAI,KAAK,QAAS,CAChB,KAAK,QAAQ,GAAG,eAAgB,KAAK,iBACrC,KAAK,QAAQ,YAAY,KAAK,gBAKlC,mBAAmB,UAAU,iBAAmB,SAAU,IACxD,KAAK,cAAgB,IAIvB,mBAAmB,UAAU,cAAgB,SAAU,IACrD,KAAK,gBAAkB,IAGzB,SAAS,kBAAkB,IAAK,eAC9B,IAAI,MAAM,IAAI,UAAU,IAAK,IAAI,aACjC,IAAI,QAAU,cAAc,IAAI,UAAU,KAC1C,GAAI,QAAS,CACX,IAAI,MAAM,IAAI,UAAU,IAAK,UAIjC,mBAAmB,UAAU,SAAW,SAAU,eAChD,IAAK,IAAI,OAAO,YAAc,KAAK,UAAY,KAAK,QAAQ,KAAK,OAAQ,CAEvE,OAAO,KAET,GAAI,IAAI,OAAO,KAAO,KAAK,UAAW,CAEpC,OAAO,KAGT,IAAM,GAAK,KAAK,QAAQ,eAAb,kBAA8C,KAAK,UAAa,IAC3E,IAAK,GAAG,MAAQ,GAAG,IAAI,YAAc,GAAG,IAAI,IAAI,KAAO,SAAU,CAC/D,GAAI,KAAK,wBAAyB,MAE3B,CAEL,kBAAkB,KAAM,eAE1B,KAAK,QAAQ,eAAb,kBAA8C,KAAK,UAAnD,OAAoE,CAClE,IAAK,KAAK,IAAI,KAAK,UAAU,OAE/B,KAAK,wBAA0B,UAC1B,IAAK,KAAK,wBAAyB,CACxC,kBAAkB,KAAM,eACxB,KAAK,wBAA0B,KAEjC,OAAO,OAGT,mBAAmB,UAAU,YAAc,SAAU,cAAe,YAAY,IAAA,MAAA,KAC9E,IAAK,KAAK,MAAM,cAAe,KAAK,UAAU,MAAQ,aAAe,KAAK,UAAU,WAAY,CAE9F,IAAM,IAAM,YAAY,oBACxB,IAAK,KAAK,UAAU,WAAa,KAAK,UAAU,MAAQ,IAAM,KAAK,UAAU,KAAO,KAAK,WAAY,CAEnG,KAAK,UAAU,QAAU,KACzB,KAAK,UAAU,KAAO,IACtB,KAAK,UAAU,OAAS,YAAY,QACpC,KAAK,UAAU,MAAQ,EACvB,GAAI,KAAK,UAAU,UAAW,CAC5B,IAAM,KAAO,IAAM,KAAK,UAAU,UAClC,KAAK,UAAU,MAAQ,KAAK,MAAM,KAAK,UAAU,IAAK,eAAiB,KACvE,GAAI,KAAK,UAAU,MAAQ,KAAO,CAChC,KAAK,UAAU,MAAQ,GAG3B,KAAK,UAAU,UAAY,IAC3B,KAAK,MAAM,KAAK,UAAU,IAAK,eAC/B,KAAK,UAAU,WAAa,WAC5B,KAAK,QAAQ,eAAb,kBACoB,KAAK,UADzB,OAC0C,CACtC,IAAK,KAAK,IAAI,KAAK,UAAU,KAC7B,MAAO,KAAK,UAAU,WAAY,MAAO,KAAK,UAAU,MACxD,EAAG,GACF,MAAO,WAIR,MAAK,UAAU,QAAU,MACzB,IAAI,IAAM,YAAY,oBACtB,IAAI,MAAQ,YAAY,QACxB,IAAI,WAAa,MAAQ,MAAK,UAAU,OACxC,MAAK,UAAY,WACjB,MAAK,eAAiB,IACtB,GAAI,WAAa,MAAK,UAAW,CAE/B,MAAK,UAAU,KAAO,UAQlC,mBAAmB,UAAU,QAAU,SAAU,SAC/C,IAAK,KAAK,eAAgB,CACxB,OAAO,KAET,IAAI,IAAM,YAAY,oBAAsB,KAAK,eACjD,GAAI,IAAM,QAAS,CACjB,OAAO,KAET,MAAO,CACL,KAAM,KAAK,UACX,KAAM,EAAI,IAAM,UAIpB,mBAAmB,UAAU,OAAS,SAAU,WAC9C,IAAI,IAAM,KAAK,gBAAgB,WAC/B,IAAK,IAAK,CACR,OAAO,KAET,OAAO,IAAI,KAGb,mBAAmB,UAAU,OAAS,SAAU,WAC9C,OAAO,KAAK,gBAAgB,YAG9B,mBAAmB,UAAU,sBAAwB,SAAU,WAC7D,IAAM,WAAa,KAAK,QAAQ,eAAb,kBAA8C,UAA9C,QACnB,IAAK,aAAe,WAAW,YAAc,WAAW,IAAI,KAAO,SAAU,CAC3E,OAGF,IAAI,IAAM,KAAK,gBAAgB,WAC/B,IAAK,IAAK,CACR,IAAM,KAAK,gBAAgB,WAAa,GACxC,IAAI,IAAM,KAAK,MAAM,KAAK,MAAO,WAAW,KAC5C,IAAI,UAAY,EAChB,IAAI,QAAU,KAAK,MACnB,IAAI,QAAU,KAAK,MACnB,IAAI,UAAY,YAChB,IAAI,WAAa,YAEnB,GAAI,WAAW,MAAO,CACpB,IAAI,UAAY,WAAW,MAE7B,KAAK,MAAM,IAAI,QAAS,WAAW,KACnC,IAAI,UAAY,WAAW,MAG3B,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,UAAW,GAAI,CACxC,IAAI,GAAK,KAAK,QAAU,GACxB,MAAO,IAAI,IAAI,IAAM,IAAI,QAAQ,IAAM,GAAI,CACzC,IAAI,IAAI,KAAO,OAEjB,MAAO,IAAI,IAAI,IAAM,IAAI,QAAQ,IAAM,GAAI,CACzC,IAAI,IAAI,KAAO,QAMnB,IAAM,MAAQ,KAAK,KAAK,KAAK,WAAY,IAAI,QAAS,IAAI,KAC1D,IAAM,KAAO,KAAK,QAAQ,OAE1B,GAAI,KAAO,EAAG,CACZ,IAAM,aAAe,KAAO,IAAI,UAChC,GAAI,aAAe,KAAK,UAAY,KAAK,OAAQ,CAE/C,KAAK,OAAO,IAAI,QAAS,MAAO,IAAI,UAAY,WAC3C,GAAI,aAAe,KAAK,UAAY,KAAK,OAAS,KAAK,eAAgB,CAI5E,IAAM,UAAY,KAAK,QAAQ,IAAI,SACnC,IAAM,gBAAkB,IAAI,UAC5B,IAAM,UAAY,IAAI,gBAAkB,KAAK,cAAe,WAC5D,KAAK,OAAO,IAAI,QAAS,MAAO,UAAY,UACvC,CAGL,KAAK,OAAO,IAAI,QAAS,MAAO,GAAK,KAAK,UAAY,KAAK,OAAS,KAAK,iBAK/E,mBAAmB,UAAU,kBAAoB,SAAU,UAAW,IACpE,IAAM,IAAM,KAAK,gBAAgB,WACjC,IAAK,IAAK,CAER,OAAO,KAIT,IAAI,QAAU,KACd,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAK,GAAI,CAClC,GAAI,IAAI,QAAQ,IAAK,CACnB,IAAM,UAAY,IAAI,QAAQ,IAAM,IAAI,IAAI,IAC5C,IAAM,eAAiB,KAAK,KAAK,WACjC,IAAI,IAAI,KAAO,IAAI,QAAQ,IAAM,GACjC,IAAM,UAAY,IAAI,QAAQ,IAAM,IAAI,IAAI,IAC5C,IAAM,eAAiB,KAAK,KAAK,WACjC,GAAI,iBAAmB,eAAgB,CAErC,IAAI,IAAI,IAAM,IAAI,QAAQ,IAC1B,IAAI,QAAQ,IAAM,OACb,GAAI,GAAK,KAAK,SAAW,IAAI,QAAQ,IAAM,IAAM,CAEtD,QAAU,QAIhB,GAAI,KAAK,cAAe,CACtB,KAAK,cAAc,UAAW,IAAI,KAGpC,IAAM,WAAa,IAAI,WAAW,KAAO,KAAO,IAAI,WAAW,KAAO,IACtE,IAAM,YAAc,IAAI,UAAU,KAAO,IACzC,GAAI,YAAc,cAAgB,QAAS,MAEpC,CACL,IAAI,WAAa,IAAI,UACrB,GAAI,KAAK,gBAAiB,CACxB,KAAK,gBAAgB,UAAW,IAAI,YAGxC,OAAO,KAET,mBAAmB,UAAU,EAAI,EACjC,mBAAmB,UAAU,QAAU,EACvC,mBAAmB,UAAU,QAAU,EACvC,mBAAmB,UAAU,UAAY,IACzC,mBAAmB,UAAU,OAAS,IACtC,mBAAmB,UAAU,YAAc,EAC3C,mBAAmB,UAAU,eAAiB,IAC9C,mBAAmB,UAAU,cAAgB,IAGtC,SAAS,OAAO,SACrB,OAAO,IAAI,mBAAmB,SAIhC,SAAS,mBAAmB,WAC1B,KAAK,UAAY,UAAY,KAC7B,KAAK,QAGP,mBAAmB,UAAU,MAAQ,WACnC,KAAK,MAAQ,UACb,KAAK,aAAe,UACpB,KAAK,IAAM,GAKb,mBAAmB,UAAU,OAAS,SAAU,GAAI,WAClD,GAAI,KAAK,QAAU,UAAW,CAC5B,KAAK,MAAQ,UACb,KAAK,aAAe,UACpB,OAGF,GAAI,YAAc,KAAK,aAAc,CAEnC,KAAK,KAAO,UAAY,KAAK,OAAS,KAAK,UAC3C,KAAK,aAAe,UAEtB,GAAI,KAAK,QAAU,KAAK,aAAc,CACpC,GAAI,KAAK,IAAM,EAAG,CAChB,KAAK,MAAQ,IAAI,KAAK,MAAQ,KAAK,IAAM,GAAI,KAAK,kBAC7C,CACL,KAAK,MAAQ,IAAI,KAAK,MAAQ,KAAK,IAAM,GAAI,KAAK,iBAKxD,mBAAmB,UAAU,SAAW,WACtC,OAAO,KAAK,OAGP,SAAS,yBAAyB,WACvC,OAAO,IAAI,mBAAmB;;;;mFCjchC,IAAM,OAAS,QAAQ,UACvB,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iB,aACe,QAAQ,cAAxC,K,SAAA,KAAM,O,SAAA,OAAQ,O,SAAA,OAAQ,M,SAAA,M,cACuB,QAAQ,cAArD,K,UAAA,KAAM,K,UAAA,KAAM,M,UAAA,MAAO,O,UAAA,OAAQ,O,UAAA,OAAQ,M,UAAA,MAE3C,IAAM,UAAY,CAChB,MAAO,QAAQ,YACf,SAAU,QAAQ,gBAGb,SAAS,oBAAoB,eAElC,IAAK,IAAI,OAAO,cAAc,KAAM,CAClC,IAAI,IAAM,cAAc,KAAK,KAC7B,IAAK,IAAI,aAAa,IAAI,UAAW,CACnC,IAAI,SAAW,IAAI,UAAU,WAC7B,SAAS,KAAK,CAAE,IAAG,OAAS,SAAS,QAAlB,WAMzB,SAAS,eAAe,GACtB,GAAI,aAAa,cAAgB,EAAE,QAAU,EAAG,CAC9C,OAAO,OACF,UAAW,IAAM,SAAU,CAChC,OAAO,KAAK,EAAG,QACV,GAAI,MAAM,QAAQ,IAAM,aAAa,aAAc,CAExD,OAAO,KAAK,EAAE,IAAM,EAAG,EAAE,IAAM,OAC1B,CACL,OAAO,OAAO,QAIlB,SAAS,kBAAkB,IAAK,QAC9B,OAAO,QACP,OAAO,MAAM,QAAQ,MACrB,IAAI,IAAM,IAAI,MAAM,QACpB,IAAK,IAAI,GAAK,EAAG,GAAK,SAAU,GAAI,CAClC,IAAI,IAAM,eAAe,IAAI,KAE/B,OAAO,IAGT,SAAS,kBAAkB,IAAK,kBAC9B,IAAK,IAAI,WAAY,CACnB,IAAI,KAAO,IAAI,WAAa,CAC1B,MAAO,UAAU,IAAI,QAAU,QAAQ,YACvC,QAAS,SAAS,KAAK,CAAE,IAAK,IAAI,QAAJ,OAAqB,IAAI,QAAzB,OAAyC,6BACvE,MAAO,kBAAkB,IAAI,OAAS,CAAC,EAAE,EAAE,EAAE,GAAI,GACjD,YAAa,KACb,KAAM,kBAAkB,IAAI,MAAQ,CAAC,EAAE,GAAI,GAC3C,WAAY,KACZ,MAAO,kBAAkB,IAAI,OAAS,CAAC,EAAE,EAAE,GAAI,GAC/C,IAAK,eAAe,IAAI,KAAO,GAC/B,QAAS,eAAe,IAAI,KAAO,GACnC,SAAU,eAAe,IAAI,UAAY,KACzC,gBAAiB,eAAe,IAAI,iBAAmB,IAEzD,OAAO,KAAK,gBAAgB,IAAM,GAClC,GAAI,IAAI,aAAe,IAAI,YAAY,OAAQ,CAC7C,OAAO,IAAI,YAAY,OAAS,GAChC,KAAK,YAAc,GACnB,IAAK,IAAI,GAAK,EAAG,GAAK,IAAI,YAAY,SAAU,GAAI,CAClD,IAAI,EAAI,IAAI,YAAY,IACxB,cAAc,EAAE,IAAM,UACtB,IAAI,IAAM,IAAI,aAAa,GAC3B,IAAI,GAAK,EAAE,EAAE,GACb,IAAI,GAAK,EAAE,EAAE,GACb,IAAI,GAAK,EAAE,EAAE,GACb,IAAI,GAAK,EAAE,EAAE,GACb,IAAI,GAAK,EAAE,EACX,KAAK,YAAY,KAAK,MAG1B,GAAI,IAAI,YAAc,IAAI,WAAW,OAAQ,CAC3C,OAAO,IAAI,WAAW,OAAS,GAC/B,KAAK,WAAa,GAClB,IAAK,IAAI,IAAK,EAAG,IAAK,IAAI,WAAW,SAAU,IAAI,CACjD,IAAI,GAAI,IAAI,WAAW,KACvB,cAAc,GAAE,IAAM,UACtB,IAAI,KAAM,IAAI,aAAa,GAC3B,KAAI,GAAK,GAAE,EAAE,GACb,KAAI,GAAK,GAAE,EAAE,GACb,KAAI,GAAK,GAAE,EACX,KAAK,WAAW,KAAK,QAI3B,OAAO,IAAI,WAGb,SAAS,aAAa,UAAW,MAC/B,OAAO,UAAU,QAAU,WAC3B,OAAO,UAAU,MAGnB,SAAS,iBAAiB,IAAK,UAC7B,IAAK,IAAI,WAAY,CACnB,IAAI,WAAa,CACf,SAAU,aAAa,SAAU,IAAI,UACrC,IAAK,kBAAkB,IAAI,KAAO,CAAC,EAAE,EAAE,GAAI,GAC3C,IAAK,kBAAkB,IAAI,KAAO,CAAC,EAAE,EAAE,GAAI,GAC3C,UAAW,eAAe,IAAI,WAAa,IAC3C,UAAW,kBAAkB,IAAI,WAAa,CAAC,EAAE,UAAW,GAC5D,aAAc,eAAe,IAAI,cAAgB,IAGnD,IAAI,IAAM,IAAI,WAAW,UAAU,GACnC,IAAI,IAAM,IAAI,WAAW,UAAU,GAAK,IAAI,WAAW,UAAU,GACjE,IAAI,WAAW,UAAU,GAAK,IAAO,IACrC,IAAI,WAAW,UAAU,GAAK,IAAO,IACrC,OAAO,IAAI,WAAW,UAAU,GAAK,GAEvC,OAAO,IAAI,WAGb,SAAS,aAAa,IAAK,kBACzB,IAAK,IAAI,WAAY,CACnB,IAAI,KAAO,IAAI,WAAa,CAC1B,gBAAiB,eAAe,IAAI,iBAAmB,UACvD,UAAW,GACX,SAAU,IAEZ,IAAI,SAAW,GACf,IAAK,IAAI,OAAO,IAAI,UAAW,CAC7B,SAAS,KAAO,KAAK,UAAU,OAC/B,KAAK,UAAU,KAAK,kBAAkB,IAAI,UAAU,KAAM,mBAE5D,IAAK,IAAI,QAAO,IAAI,SAAU,CAC5B,KAAK,SAAS,KAAK,iBAAiB,IAAI,SAAS,MAAM,YAG3D,OAAO,IAAI,WAGb,SAAS,UAAU,GACjB,OAAO,EAAE,GAAK,KAAK,SAAW,EAAE,GAElC,SAAS,aAAa,GACpB,IAAI,IAAM,IAAI,aAAa,EAAE,QAC7B,IAAK,IAAI,GAAK,EAAG,GAAK,EAAE,SAAU,GAAI,CACpC,IAAI,IAAM,UAAU,EAAE,KAExB,OAAO,IAGT,IAAI,WAAa,OACjB,IAAI,YAAc,OAClB,IAAI,UAAY,OAChB,IAAI,WAAa,O,IAGX,e,WACJ,SAAA,eAAY,OAAQ,OAAQ,KAC1B,OAAO,IAAI,SAAW,GACtB,KAAK,OAAS,OACd,KAAK,IAAM,aAAa,OAAQ,QAChC,KAAK,gBAAkB,UAAU,KAAK,IAAI,iBAC1C,OAAO,KAAK,gBAAkB,GAC9B,KAAK,IAAM,EACX,KAAK,UAAY,MACjB,KAAK,UAAY,MACjB,KAAK,IAAM,KAAK,IAAI,GAAI,IAAI,GAAI,IAAI,IACpC,KAAK,UAAY,GACjB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,IAAI,UAAU,SAAU,GAAI,CACrD,IAAI,IAAM,KAAK,IAAI,UAAU,IAC7B,IAAI,SAAW,CACb,IAAA,IACA,MAAO,IAET,KAAK,UAAU,KAAK,UAEtB,KAAK,SAAW,GAEhB,IAAK,IAAI,KAAK,EAAG,KAAK,KAAK,IAAI,SAAS,SAAU,KAAI,CACpD,IAAI,KAAM,KAAK,IAAI,SAAS,MAC5B,IAAI,QAAU,CACZ,IAAA,KACA,UAAW,aAAa,KAAI,WAC5B,UAAW,EACX,QAAS,MACT,QAAS,OAEX,KAAK,SAAS,KAAK,U,2CAQvB,aAAA,SAAA,aAAa,KAAM,IACjB,IAAI,IAAM,KAAK,IACf,KAAK,KAAO,GACZ,IAAI,SAAW,KAAK,IAAM,KAAK,SAC/B,GAAI,UAAY,EAAG,CACjB,OAAO,KAIT,IAAI,IAAM,GAAK,IACf,KAAK,IAAI,IAAM,KAAK,IAAI,GAAK,IAC7B,KAAK,IAAI,IAAM,KAAK,IAAI,GAAK,IAC7B,KAAK,IAAI,IAAM,KAAK,IAAI,GAAK,IAC7B,KAAK,IAAI,IAAM,KAAK,MAAM,GAAK,IAC/B,KAAK,IAAI,IAAM,KAAK,MAAM,GAAK,IAC/B,KAAK,IAAI,IAAM,KAAK,MAAM,GAAK,IAG/B,OAAO,WAAY,KAAK,MAAO,YAC/B,GAAI,IAAI,YAAa,CACnB,GAAI,SAAW,IAAI,YAAY,GAAG,GAAI,CACpC,MAAM,WAAY,WAAY,IAAI,YAAY,SACzC,GAAI,UAAY,IAAI,YAAY,IAAI,YAAY,OAAS,GAAG,GAAI,CACrE,MAAM,WAAY,WAAY,IAAI,YAAY,IAAI,YAAY,OAAS,QAClE,CACL,IAAK,IAAI,GAAK,EAAG,GAAK,IAAI,YAAY,OAAS,IAAK,GAAI,CACtD,GAAI,UAAY,IAAI,YAAY,IAAI,IAAM,SAAW,IAAI,YAAY,GAAK,GAAG,GAAI,CAC/E,IAAI,QAAU,SAAW,IAAI,YAAY,IAAI,KAAO,IAAI,YAAY,GAAK,GAAG,GAAK,IAAI,YAAY,IAAI,IACrG,OAAO,YAAa,OAAQ,IAAI,YAAY,IAAK,IAAI,YAAY,GAAK,IACtE,MAAM,WAAY,WAAY,aAC9B,SAMR,OAAO,UAAW,KAAK,MACvB,GAAI,IAAI,WAAY,CAClB,GAAI,SAAW,IAAI,WAAW,GAAG,GAAI,CACnC,MAAM,UAAW,UAAW,IAAI,WAAW,SACtC,GAAI,UAAY,IAAI,WAAW,IAAI,WAAW,OAAS,GAAG,GAAI,CACnE,MAAM,UAAW,UAAW,IAAI,WAAW,IAAI,WAAW,OAAS,QAC9D,CACL,IAAK,IAAI,KAAK,EAAG,KAAK,IAAI,WAAW,OAAS,IAAK,KAAI,CACrD,GAAI,UAAY,IAAI,WAAW,MAAI,IAAM,SAAW,IAAI,WAAW,KAAK,GAAG,GAAI,CAC7E,IAAI,SAAU,SAAW,IAAI,WAAW,MAAI,KAAO,IAAI,WAAW,KAAK,GAAG,GAAK,IAAI,WAAW,MAAI,IAClG,OAAO,WAAY,QAAQ,IAAI,WAAW,MAAK,IAAI,WAAW,KAAK,IACnE,MAAM,UAAW,UAAW,YAC5B,SAUR,IAAI,EAAI,UAAU,GAClB,IAAI,EAAI,UAAU,GAClB,IAAI,EAAI,KAAK,IAAI,GAAK,EAAE,EACxB,IAAI,EAAI,KAAK,IAAI,GAAK,EAAE,EACxB,IAAI,EAAI,KAAK,IAAI,GACjB,QAAQ,UAAU,CAAC,IAAI,SACrB,EAAG,EAAG,EAAG,EAAI,EAAG,EAAI,EAAG,EAAI,EAAG,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACpD,WAAY,KAAM,KAAM,IAAI,OAE9B,OAAO,O,OAGT,YAAA,SAAA,YAAY,QAAS,UAEnB,IAAI,MAAQ,SAAS,MACrB,IAAK,IAAI,GAAK,MAAM,OAAS,EAAG,IAAM,IAAK,GAAI,CAC7C,IAAI,KAAO,MAAM,IACjB,IAAI,GAAK,KAAK,UAAY,QAAU,KAAK,gBAAkB,QAC3D,GAAI,KAAK,aAAa,KAAM,IAAK,CAC/B,MAAM,IAAM,MAAM,MAAM,OAAS,GACjC,MAAM,S,OAKZ,aAAA,SAAA,aAAa,QAAS,SACpB,IAAI,YAAc,QAAQ,IAC1B,IAAI,SAAW,KAAK,UAAU,YAAY,UAC1C,IAAI,IAAM,SAAS,IACnB,IAAI,IAAM,aAAa,YAAY,IAAK,GACxC,MAAM,IAAK,IAAK,KAAK,KAErB,IAAI,KAAO,CACT,IAAA,IACA,IAAA,IACA,MAAO,aAAa,IAAI,MAAO,GAC/B,KAAM,aAAa,IAAI,KAAM,GAC7B,IAAK,aAAa,YAAY,IAAK,GACnC,MAAO,aAAa,IAAI,MAAO,GAC/B,IAAK,UAAU,IAAI,KACnB,QAAS,UAAU,IAAI,SACvB,SAAU,UAAU,IAAI,UACxB,gBAAiB,UAAU,IAAI,iBAC/B,IAAK,GAEP,IAAK,KAAK,aAAa,KAAM,SAAU,CACrC,SAAS,MAAM,KAAK,Q,OAIxB,YAAA,SAAA,YAAY,GAAI,SACd,IAAI,IAAM,QAAQ,IAElB,IAAK,QAAQ,SAAW,KAAK,KAAO,QAAQ,UAAU,GAAI,CACxD,QAAQ,QAAU,KAElB,GAAK,KAAK,IAAM,QAAQ,UAAU,GAClC,IAAI,IAAM,UAAU,IAAI,cACxB,IAAK,IAAI,GAAK,EAAG,GAAK,MAAO,GAAI,CAC/B,KAAK,aAAa,GAAI,SAExB,QAAQ,UAAY,UAAU,IAAI,WAEpC,GAAI,QAAQ,UAAY,QAAQ,UAAY,KAAK,UAAW,CAE1D,IAAI,aAAe,GACnB,IAAI,QAAU,GACd,GAAI,KAAK,KAAO,QAAQ,UAAU,GAAI,CACpC,QAAQ,QAAU,KAElB,SAAW,KAAK,IAAM,QAAQ,UAAU,GAG1C,MAAO,SAAW,QAAQ,UAAW,CACnC,SAAW,QAAQ,UACnB,cAAgB,QAAQ,UACxB,QAAQ,UAAY,UAAU,IAAI,WAClC,KAAK,aAAa,aAAc,SAElC,QAAQ,WAAa,U,OAIzB,KAAA,SAAA,KAAK,IACH,GAAI,KAAK,UAAW,CAClB,OAAO,KAGT,IAAK,IAAI,GAAK,KAAK,UAAU,OAAS,EAAG,IAAM,IAAK,GAAI,CACtD,KAAK,YAAY,GAAI,KAAK,UAAU,KAGtC,KAAK,KAAO,GACZ,IAAK,IAAI,KAAK,EAAG,KAAK,KAAK,SAAS,SAAU,KAAI,CAChD,KAAK,YAAY,GAAI,KAAK,SAAS,OAGrC,OAAO,KAAK,KAAO,KAAK,iB,OAG1B,MAAA,SAAA,MAAM,OACJ,GAAI,KAAK,IAAI,SAAU,CACrB,OAEF,KAAK,IAAI,IAAM,MAAM,GACrB,KAAK,IAAI,IAAM,MAAM,GACrB,KAAK,IAAI,IAAM,MAAM,GACrB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,UAAU,SAAU,GAAI,CACjD,IAAI,MAAQ,KAAK,UAAU,IAAI,MAC/B,IAAK,IAAI,GAAK,EAAG,GAAK,MAAM,SAAU,GAAI,CACxC,IAAI,KAAO,MAAM,IACjB,KAAK,IAAI,IAAM,MAAM,GACrB,KAAK,IAAI,IAAM,MAAM,GACrB,KAAK,IAAI,IAAM,MAAM,M,6BAMvB,gB,WACJ,SAAA,kBACE,KAAK,QAAU,G,8CAGjB,aAAA,SAAA,aAAa,IAAK,KAChB,IAAI,OAAS,IAAI,eAAe,KAAM,IAAK,KAC3C,KAAK,QAAQ,KAAK,QAClB,OAAO,Q,QAGT,KAAA,SAAA,KAAK,IACH,IAAK,IAAI,GAAK,KAAK,QAAQ,OAAS,EAAG,IAAM,IAAK,GAAI,CACpD,GAAI,KAAK,QAAQ,IAAI,KAAK,IAAK,CAC7B,KAAK,QAAQ,IAAM,KAAK,QAAQ,KAAK,QAAQ,OAAS,GACtD,KAAK,QAAQ,S,QAKnB,QAAA,SAAA,UACE,KAAK,QAAU,I,QAGjB,MAAA,SAAA,MAAM,OACJ,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,QAAQ,SAAU,GAAI,CAC/C,KAAK,QAAQ,IAAI,MAAM,S,0BAKtB,SAAS,SACd,OAAO,IAAI;;;;2DC9cb,IAAM,SAAW,QAAQ,iB,aACH,QAAQ,aAAtB,U,SAAA,UACR,IAAM,OAAS,QAAQ,eACvB,IAAM,UAAY,QAAQ,aAC1B,IAAM,MAAQ,QAAQ,c,IACd,IAAQ,KAAR,IACR,IAAM,SAAW,QAAQ,iBACzB,IAAM,GAAK,QAAQ,W,cACM,QAAQ,cAAzB,K,UAAA,KAAM,O,UAAA,OAEd,IAAI,QAAU,GAEd,IAAM,WAAa,EAEnB,IAAI,WAAa,KAAK,EAAE,EAAE,EAAE,IAC5B,IAAI,cAAgB,KAAK,EAAE,EAAE,EAAE,KAC/B,IAAI,QAAU,OAGd,SAAS,SAAS,CAChB,aAAc,CACZ,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,IAEZ,SAAU,CACR,MAAO,WACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,IAEZ,UAAW,CACT,MAAO,YACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,IAEZ,WAAY,CACV,MAAO,4BACP,cAAe,EACf,KAAM,UAAU,WAChB,MAAO,CAAC,KAAO,QAInB,UAAU,SAAS,CACjB,IAAK,MACL,KAAM,sBACN,KAAM,SAAA,KAAU,IAAK,WACnB,GAAI,SAAS,UAAY,SAAS,cAAgB,MAAQ,IAAK,CAC7D,SAAS,IAAI,WAAY,OACpB,CACL,SAAS,IAAI,WAAY,GACzB,SAAS,IAAI,eAAgB,GAE/B,eAIJ,IAAI,UAAY,UAAU,MAAM,CAC9B,cAAe,EAAG,cAAe,IACjC,MAAO,aAGF,SAAS,UAAU,QACxB,GAAI,OAAO,WAAY,CACrB,OAAO,UAAY,OAAO,OAAO,OACjC,OAAO,aAAe,OAAO,KAAK,QAAQ,OAAS,OAAO,UAE5D,OAAO,WAAa,OAAO,KAAK,OAAO,QAAQ,OAC/C,GAAI,OAAO,eAAiB,UAAW,CACrC,OAAO,aAAe,OAAO,QAAU,OAAO,WAAa,GAAK,OAAO,YAEzE,QAAQ,KAAK,QAGf,SAAS,WAAW,EAAG,QACrB,IAAI,KAAO,OAAO,KAClB,IAAI,IAAM,WACV,IAAI,YAAc,GAAG,YAAc,SAAS,iBAC5C,IAAI,mBAAqB,aAAe,OAAO,OAAS,KACxD,IAAI,EAAI,SAAS,SAAW,mBAAqB,IACjD,IAAI,GAAK,EACT,GAAK,IACL,IAAI,YAAc,EAClB,IAAI,WAAa,SAAS,OAAO,WACjC,IAAI,SAAW,MACf,IAAI,MAAQ,EACZ,IAAK,IAAI,SAAS,OAAO,OAAQ,CAC/B,IAAI,MAAQ,OAAO,OAAO,SAC1B,GAAI,MAAO,CACT,IAAI,MAAQ,UACZ,GAAI,MAAM,MAAO,CACf,MAAQ,MAAM,MACd,MAAQ,MAAM,MACd,MAAQ,UAAU,WAAW,UAAW,OAE1C,IAAI,QAAU,KAAK,iBAAiB,MAAO,EAAG,EAAG,EAAE,SAAW,EAAG,YAC/D,UAAU,MAAM,OAAQ,EAAG,EAAG,OAChC,YAAc,IAAI,YAAa,SAC/B,KAAK,iBAAiB,MAAO,EAAG,EAAG,EAAE,SAAW,EAAG,YACjD,UAAU,MAAM,KAAM,mBAAoB,EAAG,OAC/C,GAAK,YACL,SAAW,KAEb,MAAO,WAAY,CACjB,OAGJ,IAAI,EAAI,mBAAqB,YAAc,WAC3C,GAAK,YAAc,WAEnB,IAAK,SAAU,CACb,OAAO,EAAI,IAGb,GAAK,IACL,IAAI,GAAK,WACT,IAAI,UAAY,CACd,EAAG,EAAI,IACP,EAAG,GACH,EAAG,EAAI,IAAM,EACb,EAAG,EAAI,IAET,GAAI,OAAO,aAAc,CACvB,GAAI,MAAM,YAAY,WAAY,CAChC,GAAI,OAAO,WAAa,GAAK,SAAS,OAAO,YAAc,EAAG,CAC5D,SAAS,IAAI,OAAO,UAAW,OAAO,iBACjC,GAAI,OAAO,aAAe,SAAS,OAAO,YAAa,CAC5D,SAAS,IAAI,OAAO,WAAY,OAC3B,CACL,GAAI,OAAO,WAAY,CACrB,SAAS,IAAI,OAAO,WAAY,GAElC,SAAS,IAAI,OAAO,UAAW,IAGnC,GAAI,MAAM,UAAU,WAAY,CAC9B,GAAK,eAGT,GAAI,QAAU,EAAG,CACf,QAAQ,GAAK,GAAG,GAAK,MACrB,GAAK,OAAO,QAAS,IAEvB,GAAG,SAAS,UAAU,EAAG,UAAU,EAAG,UAAU,EAAI,UAAU,EAAG,EAAG,EAAE,SAAU,IAChF,OAAO,EAGT,SAAS,gBAAgB,EAAG,QAC1B,IAAM,MAAQ,OAAO,YAAc,IACnC,IAAM,WAAa,MAAQ,EAAI,EAC/B,IAAM,SAAW,MAAQ,EAAI,EAC7B,IAAM,YAAc,MAAQ,GAAK,IACjC,IAAM,UAAY,OAAO,aAAe,EACxC,IAAI,GAAK,WAAa,UAAY,UAClC,IAAI,EAAI,SAAS,SAAW,EAC5B,IAAI,EAAI,YAAc,SAAW,EACjC,IAAI,EAAI,EAAE,SACV,GAAG,SAAS,EAAG,EAAI,EAAG,EAAI,EAAG,EAAG,IAAK,YACrC,GAAK,SACL,GAAK,SACL,IAAI,cAAgB,OAAO,KAAK,MAChC,IAAI,WAAa,YAAc,OAAO,eACtC,IAAK,IAAI,GAAK,EAAG,GAAK,UAAW,KAAM,CACrC,IAAI,YAAe,GAAK,cAAgB,GAAK,OAAO,aAAgB,OAAO,UAC3E,IAAI,KAAO,OAAO,KAAK,QACvB,IAAI,QAAU,EACd,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,UAAW,KAAM,CAC5C,IAAI,QAAU,KAAK,WAAa,IAChC,IAAI,aAAO,EACX,GAAI,OAAO,WAAY,CACrB,QAAU,QACV,SAAW,YACN,CAEL,IAAI,OAAS,EACb,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,UAAW,KAAM,CAC5C,GAAI,KAAO,GAAI,CACb,SAEF,IAAI,QAAU,KAAK,WAAa,IAChC,IAAK,QAAU,SAAW,UAAY,SAAW,GAAK,KAAO,QAAU,OAAQ,CAC7E,OAAS,SAGb,QAAU,OACV,QAAU,QAEZ,IAAI,MAAQ,OAAO,OAAO,IAC1B,GAAG,SAAS,EAAG,EAAI,QAAU,WAAY,EAAI,WAAY,EAAI,QAAU,WAAY,EAAG,OAExF,GAAK,WAAa,SAEpB,GAAK,UACL,GAAK,YAAc,SACnB,OAAO,EAGF,SAAS,OACd,SAAS,eAAe,OAAO,WAAY,OAAO,aAClD,IAAI,EAAI,SAAS,SACjB,IAAI,QAAU,SAAS,SACvB,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,OAAS,QAAQ,IACrB,GAAI,SAAS,OAAO,WAAY,CAC9B,EAAI,WAAW,EAAG,QAClB,GAAK,WAEP,GAAI,SAAS,OAAO,YAAa,CAC/B,QAAU,gBAAgB,QAAS,QACnC,SAAW;;;;qGCnNjB,IAAI,iBAAmB,MACvB,IAAI,KACJ,IAAI,YAEG,SAAS,WACd,OAAO,iBAGT,SAAS,WAAW,KAClB,QAAQ,IAAR,gBAA4B,KAGvB,SAAS,OACd,WAAW,uBACX,iBAAmB,MACnB,SAAS,kBAGJ,SAAS,MAAM,MACpB,iBAAmB,KACnB,cACA,WAAU,sCAAuC,MACjD,KAAK,qBAGP,SAAS,sBACP,GAAI,SAAS,oBAAsB,SAAS,uBAAyB,SAAS,yBAA0B,CACtG,WAAW,mBACX,IAAK,iBAAkB,CACrB,WAAW,sBACX,SAAS,uBAEN,CACL,GAAI,iBAAkB,CACpB,WAAW,aACX,iBAAmB,QAKzB,SAAS,mBAAmB,GAC1B,WAAW,SACX,iBAAmB,MAGd,SAAS,QAAQ,MAAO,cAC7B,KAAO,MACP,YAAc,aAEd,KAAK,mBAAqB,KAAK,oBAAsB,KAAK,uBACxD,KAAK,0BAA4B,aACnC,SAAS,gBAAkB,SAAS,iBAAmB,SAAS,oBAC9D,SAAS,uBAAyB,aAEpC,SAAS,iBAAiB,oBAAqB,oBAAqB,OACpE,SAAS,iBAAiB,uBAAwB,oBAAqB,OACvE,SAAS,iBAAiB,0BAA2B,oBAAqB,OAE1E,SAAS,iBAAiB,mBAAoB,mBAAoB,OAClE,SAAS,iBAAiB,sBAAuB,mBAAoB,OACrE,SAAS,iBAAiB,yBAA0B,mBAAoB;;;;aC5D1E,IAAI,YAAc,CAAC,UAAW,WAAY,WAAY,YAAa,WAAY,YAAa,cAE5F,IAAK,WAAW,UAAU,MAAO,CAC/B,YAAY,QAAQ,SAAU,WAC5B,OAAO,eAAe,UAAU,UAAW,QAAS,CAClD,MAAO,SAAA,MAAU,MAAO,KACtB,GAAI,MAAQ,UAAW,CACrB,IAAM,KAAK,OAEb,GAAI,IAAM,EAAG,CACX,IAAM,KAAK,OAAS,IAEtB,MAAQ,OAAS,EACjB,GAAI,OAAS,KAAK,OAAQ,CACxB,MAAQ,KAAK,OAAS,EAExB,GAAI,IAAM,KAAK,OAAQ,CACrB,IAAM,KAAK,OAEb,GAAI,IAAM,MAAO,CACf,IAAM,MAER,IAAI,IAAM,IAAM,MAChB,IAAI,IAAM,IAAI,UAAU,KACxB,IAAK,IAAI,GAAK,EAAG,GAAK,MAAO,GAAI,CAC/B,IAAI,IAAM,KAAK,MAAQ,IAEzB,OAAO,SAMf,SAAS,WAAW,EAAG,GACrB,OAAO,EAAI,EAEb,IAAI,aAAe,CACjB,KAAM,SAAA,KAAU,OACd,OAAO,MAAM,UAAU,KAAK,KAAK,KAAM,QAEzC,KAAM,SAAA,KAAU,MAAO,MAAO,KAC5B,GAAI,MAAQ,UAAW,CACrB,IAAM,KAAK,OAEb,IAAK,IAAI,GAAK,OAAS,EAAG,GAAK,MAAO,GAAI,CACxC,KAAK,IAAM,MAEb,OAAO,MAET,KAAM,SAAA,KAAU,KACd,MAAM,UAAU,KAAK,KAAK,KAAM,KAAO,c,yBAIlC,KACP,IAAK,WAAW,UAAU,KAAM,CAC9B,YAAY,QAAQ,SAAU,WAC5B,OAAO,eAAe,UAAU,UAAW,IAAK,CAC9C,MAAO,aAAa,WAJ5B,IAAK,IAAI,OAAO,aAAc,CAAA,MAArB,KAUT,IAAK,OAAO,UAAU,SAAU,CAC9B,OAAO,eAAe,OAAO,UAAW,WAAY,CAClD,MAAO,SAAA,MAAU,MACf,OAAO,KAAK,OAAO,KAAK,UAAY,QAGxC,OAAO,eAAe,OAAO,UAAW,aAAc,CACpD,MAAO,SAAA,MAAU,MACf,OAAO,KAAK,MAAM,EAAG,KAAK,UAAY;;;;iGCnErC,SAAS,WAAW,MACzB,IAAI,EAAI,WACR,IAAK,IAAI,EAAI,EAAG,EAAI,KAAK,OAAQ,IAAK,CACpC,GAAK,KAAK,WAAW,GACrB,IAAI,EAAI,mBAAsB,EAC9B,EAAI,IAAM,EACV,GAAK,EACL,GAAK,EACL,EAAI,IAAM,EACV,GAAK,EACL,GAAK,EAAI,WAEX,OAAO,IAAM,EAKR,SAAS,QAAQ,MACtB,IAAI,EAAI,WACR,MAAO,KAAM,CACX,IAAI,KAAO,KAAO,IAClB,MAAQ,KAAO,MAAQ,IACvB,GAAK,KACL,IAAI,EAAI,mBAAsB,EAC9B,EAAI,IAAM,EACV,GAAK,EACL,GAAK,EACL,EAAI,IAAM,EACV,GAAK,EACL,GAAK,EAAI,WAEX,OAAQ,IAAM,GAAK,uBAGrB,SAAS,OACP,KAAK,EAAI,WAEX,KAAK,UAAU,KAAO,SAAU,MAC9B,IAAI,EAAI,KAAK,EAAI,KACjB,IAAI,EAAI,mBAAsB,EAC9B,EAAI,IAAM,EACV,GAAK,EACL,GAAK,EACL,EAAI,IAAM,EACV,GAAK,EACL,GAAK,EAAI,WACT,KAAK,EAAI,EACT,OAAQ,IAAM,GAAK,wBAGrB,SAAS,KAAK,MACZ,KAAK,OAAO,MAEd,KAAK,UAAU,OAAS,SAAU,MAGhC,KAAK,EAAI,EACT,IAAI,KAAO,IAAI,KAEf,KAAK,GAAK,kBACV,KAAK,GAAK,kBACV,KAAK,GAAK,kBAEV,KAAK,IAAM,KAAK,KAAK,MACrB,GAAI,KAAK,GAAK,EAAG,CACf,KAAK,IAAM,EAEb,KAAK,IAAM,KAAK,KAAK,MACrB,GAAI,KAAK,GAAK,EAAG,CACf,KAAK,IAAM,EAEb,KAAK,IAAM,KAAK,KAAK,MACrB,GAAI,KAAK,GAAK,EAAG,CACf,KAAK,IAAM,IAGf,KAAK,UAAU,KAAO,WACpB,IAAI,EAAI,QAAU,KAAK,GAAK,KAAK,EAAI,uBACrC,KAAK,GAAK,KAAK,GACf,KAAK,GAAK,KAAK,GACf,OAAQ,KAAK,GAAK,GAAK,KAAK,EAAI,EAAI,IAEtC,KAAK,UAAU,OAAS,WACtB,OAAO,KAAK,OAAS,YAEvB,KAAK,UAAU,QAAU,WACvB,OAAO,KAAK,QACT,KAAK,OAAS,QAAW,GAAK,uBAEnC,KAAK,UAAU,OAAS,KAAK,UAAU,KACvC,KAAK,UAAU,MAAQ,SAAU,OAC/B,OAAQ,KAAK,OAAS,MAAS,GAEjC,KAAK,UAAU,aAAe,SAAU,EAAG,GACzC,OAAO,GAAK,EAAI,GAAK,KAAK,UAI5B,KAAK,UAAU,YAAc,WAC3B,MAAO,CAAC,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,IAE1C,KAAK,UAAU,YAAc,SAAU,GACrC,KAAK,GAAK,EAAE,GACZ,KAAK,GAAK,EAAE,GACZ,KAAK,GAAK,EAAE,GACZ,KAAK,EAAI,EAAE,IAGN,SAAS,WAAW,MACzB,OAAO,IAAI,KAAK;;;;mDCzGlB,SAAS,MAAM,MACb,KAAQ,OAAS,GAAM,YACvB,MAAQ,MAAQ,GAChB,MAAQ,OAAS,GACjB,MAAQ,MAAQ,EAChB,MAAQ,MAAQ,GAChB,MAAQ,OAAS,GACjB,MAAQ,MAAQ,EAChB,OAAO,OAAS,EAGlB,SAAS,UAAU,MACjB,KAAK,KAAO,MAAM,MAEpB,UAAU,UAAU,OAAS,SAAU,MACrC,KAAK,KAAO,MAAM,OAEpB,UAAU,UAAU,KAAO,WACzB,IAAI,KAAO,KAAK,KAChB,MAAQ,MAAQ,GAChB,MAAQ,OAAS,GACjB,MAAQ,MAAQ,EAChB,OAAQ,KAAK,KAAQ,OAAS,GAAM,GAEtC,UAAU,UAAU,OAAS,UAAU,UAAU,KAEjD,UAAU,UAAU,MAAQ,SAAU,OAGpC,OAAQ,KAAK,OAAS,MAAQ,iBAAoB,GAGpD,UAAU,UAAU,OAAS,WAE3B,OAAO,KAAK,OAAS,kBAEvB,UAAU,UAAU,aAAe,SAAU,EAAG,GAC9C,OAAO,GAAK,EAAI,GAAK,KAAK,UAGrB,SAAS,eAAe,MAC7B,OAAO,IAAI,UAAU;;;;2FC9CvB,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,iBACzB,IAAM,OAAS,QAAQ,eACvB,IAAM,MAAQ,QAAQ,c,IACd,KAAc,MAAd,KAAM,IAAQ,MAAR,I,IACN,IAAoB,KAApB,IAAK,IAAe,KAAf,IAAK,MAAU,KAAV,M,aACY,QAAQ,gBAA9B,S,SAAA,SAAU,Q,SAAA,QAClB,IAAM,GAAK,QAAQ,W,cACD,QAAQ,wBAAlB,M,UAAA,M,cACe,QAAQ,cAAvB,K,UAAA,KAAM,K,UAAA,KAEd,IAAM,eAAiB,GACvB,IAAM,uBAAyB,IAE/B,SAAS,OAAO,MAAO,QACrB,OAAO,KAAK,MAAM,GAAK,OAAQ,MAAM,GAAK,OAAQ,MAAM,GAAK,OAAQ,MAAM,IAG7E,IAAI,oBAAsB,EACnB,SAAS,cAAc,OAC5B,oBAAsB,MAGxB,SAAS,WAAW,QAElB,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,EAAI,EAAE,GACX,KAAK,EAAI,GACT,KAAK,EAAI,GACT,KAAK,kBAAoB,GAAG,YAC5B,KAAK,YAAc,oBACnB,KAAK,QAAU,KACf,KAAK,MAAQ,KAAK,EAAE,EAAE,EAAE,GACxB,KAAK,iBAAmB,KAAK,GAAK,GAAK,GAAK,GAC5C,KAAK,YAAc,MACnB,KAAK,eAAiB,KACtB,KAAK,YAAY,QAGjB,KAAK,kBAAoB,KAAK,mBAAqB,KAAK,kBAAoB,EAC5E,KAAK,eAAiB,KAAK,gBAAkB,OAAO,KAAK,MAAO,KAChE,KAAK,qBAAuB,KAAK,sBAAwB,OAAO,KAAK,MAAO,KAC5E,OAAO,KAAK,uBAAyB,KAAK,OAC1C,KAAK,eAAiB,KAAK,gBAAkB,KAAK,eAClD,KAAK,yBAA2B,KAAK,2BACnC,KAAK,iBAAmB,KAAK,GAAK,GAAK,GAAK,GAAK,MAInD,KAAK,WAAa,EAClB,KAAK,WAAa,EAClB,KAAK,iBAAmB,EACxB,KAAK,YAAc,EACnB,KAAK,QAAU,MACf,KAAK,WAAa,KAClB,KAAK,MAAQ,MACb,KAAK,gBAAkB,EACvB,KAAK,WAAa,EAClB,KAAK,QAAU,MACf,KAAK,aAAe,MACpB,KAAK,kBAAoB,MAG3B,WAAW,UAAU,YAAc,SAAU,QAC3C,IAAK,OAAQ,CACX,OAEF,IAAK,IAAI,KAAK,OAAQ,CACpB,KAAK,GAAK,OAAO,KAIrB,WAAW,UAAU,SAAW,WAAY,IACpC,YAAgB,KAAhB,YADoC,IAEpC,cAAkB,GAAG,QAArB,cACN,OAAO,cAAc,OAAO,QAAU,aAGxC,WAAW,UAAU,UAAY,WAC/B,OAAO,KAAK,SAGd,WAAW,UAAU,MAAQ,SAAU,QACrC,KAAK,YAAY,QAD4B,IAEvC,EAAkB,KAAlB,EAAG,EAAe,KAAf,EAAG,EAAY,KAAZ,EAAG,EAAS,KAAT,EAAG,EAAM,KAAN,EAClB,QAAQ,KAAK,OAAS,OAAO,OAC7B,KAAK,MAAQ,KAEb,SAAS,EAAI,IAAM,EAAG,EAAG,EAAI,KAAK,WAAY,GAC9C,IAAI,eAAiB,SAAS,KAC9B,IAAI,eAAiB,SAAS,KAC9B,IAAI,eAAiB,SAAS,KAC9B,IAAI,eAAiB,SAAS,KAE9B,IAAI,gBAAkB,EAAI,gBAC1B,IAAI,gBAAkB,EAAI,gBAAkB,MAAM,KAAK,WAAa,KAAK,YACzE,IAAI,cAAgB,cAAgB,eAAiB,eACrD,IAAI,cAAgB,cAAgB,eAAiB,eACrD,SAAS,OACT,SAAS,IAAI,cAAe,cAAe,cAAe,gBAG5D,WAAW,UAAU,eAAiB,WACpC,IAAI,YAAc,MAAM,KAAK,WAAY,EAAG,KAAK,gBACjD,GAAI,KAAK,WAAa,EAAG,CACvB,KAAK,WAAa,IAAI,KAAK,YAAa,qBACnC,GAAI,KAAK,WAAa,KAAK,eAAgB,CAChD,KAAK,WAAa,IAAI,KAAK,WAAa,KAAK,eAAgB,gBAE/D,KAAK,WAAa,aAGpB,WAAW,UAAU,eAAiB,WACpC,GAAI,KAAK,aAAc,CACrB,OAEF,IAAI,SAAW,MACf,IAAI,UAAY,MAAM,cAAc,IAAI,gBAAkB,MAAM,cAAc,IAAI,cAClF,IAAI,MAAQ,MAAM,YAAY,KAAK,WAChC,UAAY,MAAM,kBAAkB,IAAI,MAAQ,GACnD,GAAI,MAAO,CAET,KAAK,WAAa,IAAI,KAAK,WAAa,KAAK,EAC3C,KAAK,aAAe,KAAK,eAAiB,SAAW,KAAK,gBAC5D,SAAW,KAEb,MAAQ,MAAM,YAAY,KAAK,SAC5B,UAAY,MAAM,kBAAkB,IAAI,IAAM,GACjD,GAAI,MAAO,CACT,KAAK,WAAa,IAAI,KAAK,WAAa,KAAK,EAC3C,KAAK,aAAe,GAAK,KAAK,EAAI,GACpC,SAAW,KAGb,GAAI,SAAU,CACZ,KAAK,mBAIT,IAAI,SAAW,OAEf,WAAW,UAAU,IAAM,SAAU,GAEnC,OAAO,GAAK,GACZ,EAAI,IAAI,EAAG,GACX,OAAO,KAAK,OACZ,KAAK,MAAQ,MAEb,SAAS,MACT,UAEA,GAAI,KAAK,WAAa,EAAI,KAAK,EAAG,CAEhC,KAAK,WAAa,IAAI,EAAG,EAAI,KAAK,EAAE,GAEtC,GAAI,KAAK,WAAY,CACnB,IAAI,GAAK,OAAO,aAChB,GAAI,IAAM,KAAK,iBAAkB,CAC/B,KAAK,iBAAmB,EACxB,KAAK,WAAa,KAAK,WAAa,IAAI,EAAI,GAAK,KAAO,OACnD,CACL,KAAK,kBAAoB,IApBS,IAyBpC,UAIE,KAJF,UACA,YAGE,KAHF,YACA,eAEE,KAFF,eACA,qBACE,KADF,qBA5BoC,IAAA,YAiClC,GAAG,QADL,cAhCoC,YAgCpC,cAAe,iBAhCqB,YAgCrB,iBAAkB,iBAhCG,YAgCH,iBAAkB,iBAhCf,YAgCe,iBAAkB,yBAhCjC,YAgCiC,yBAGvE,IAAI,MAAQ,cAAc,OAAO,QAAU,YAC3C,IAAI,SAAW,IAAI,cAAc,OAAO,QAAU,YAAa,KAAK,EAAI,GACxE,IAAI,eAAiB,KAAK,QAAU,SAAW,EAC/C,IAAI,OAAS,KAAK,EAAI,KAAK,EAAI,MAC/B,IAAI,SAAW,KAAK,EAAI,EACxB,SAAW,MAAM,SAAU,EAAG,GAC9B,IAAI,WAAc,KAAK,EAAI,EAAK,EAAK,KAAK,YAAc,EAAI,KAAK,GACjE,WAAa,MAAM,WAAY,EAAG,GAClC,IAAI,eAAiB,UAAY,KAAK,EAAI,eAAiB,GAC3D,IAAI,mBAAqB,iBAAiB,OAAO,QAAU,YAC3D,eAAiB,IAAI,eAAgB,IAAI,mBAAoB,SAAW,IACxE,IAAI,iBAAmB,MAAM,KAAK,EAAI,eAAiB,YAAc,KAAK,EAAI,eAAiB,EAAI,iBACnG,IAAI,UAAY,KAAK,MACrB,IAAI,aAAe,KAAK,MACxB,IAAI,aAAe,KAAK,MACxB,IAAI,aAAe,KAAK,MACxB,IAAI,SAAW,MACf,IAAK,KAAK,GAAK,WAAa,EAAG,CAC7B,SAAW,KAEb,KAAK,aAAe,SAGpB,IAAI,sBAAwB,MAC5B,GAAI,SAAU,CACZ,aAAe,UAAY,aAAe,aAAe,KAAK,eAC9D,KAAK,WAAa,SACb,CAEL,IAAI,YAAc,MAAM,WAAW,CACjC,EAAG,KAAK,EACR,EAAG,KAAK,EACR,EAAG,KAAK,EACR,EAAG,KAAK,IAEV,GAAI,YAAa,CACf,KAAK,iBAAmB,uBACxB,KAAK,YAAc,KAAK,kBAAoB,YAC5C,sBAAwB,KAK1B,IAAI,KAAO,MAAM,cAAc,CAC7B,EAAG,OACH,EAAG,iBACH,EAAG,MACH,EAAG,eACH,OAAQ,IAEV,GAAI,KAAM,CACR,KAAK,YAAe,KAAK,IAAI,GAAK,iBAClC,KAAK,QAAU,KACf,aAAe,qBAEjB,GAAI,KAAK,QAAS,CAChB,GAAG,WAAW,MACd,sBAAwB,KAE1B,IAAI,GAAK,KAAK,SAAW,MAAM,YAAY,CAAE,OAAQ,IACrD,GAAI,GAAI,CACN,KAAK,QAAU,MAEf,IAAI,MAAQ,GAAG,IAAI,IAAM,KAAK,EAAI,gBAAkB,KAAK,YACzD,KAAK,YAAc,EAAI,KAAK,GAAK,OAAS,KAAK,EAAI,eAAiB,EAAI,gBACxE,aAAe,qBAEjB,GAAI,KAAK,UAAY,MAAM,UAAU,CAAE,OAAQ,EAAG,SAAU,WAAa,CAEvE,KAAK,QAAU,MAEjB,GAAI,KAAK,QAAS,CAEhB,MAAM,SAAS,UACf,IAAI,OAAQ,SAAS,IAAM,KAAK,EAAI,gBAAkB,KAAK,YAC3D,KAAK,YAAc,EAAI,KAAK,GAAK,QAAS,KAAK,EAAI,eAAiB,EAAI,gBACxE,aAAe,qBAEjB,GAAI,MAAM,UAAU,CAClB,EAAG,OACH,EAAG,iBACH,EAAG,MACH,EAAG,iBACD,CACF,GAAI,eAAiB,qBAAsB,CACzC,aAAe,gBAKnB,IAAI,aAAe,CACjB,EAAG,OACH,EAAG,KAAK,EACR,EAAG,MACH,EAAG,SACH,OAAQ,GAEV,MAAO,MAAM,YAAY,cAAe,CACtC,GAAG,WAAW,MACd,UAAY,eACZ,KAAK,YAAc,KAAK,kBACxB,sBAAwB,KAE1B,GAAI,MAAM,UAAU,cAAe,CACjC,UAAY,eAEd,aAAa,EAAI,KAAK,EAAI,KAAK,EAAI,SACnC,MAAO,MAAM,YAAY,cAAe,CACtC,GAAG,WAAW,MACd,aAAe,eACf,KAAK,YAAc,KAAK,kBACxB,sBAAwB,KAE1B,GAAI,MAAM,UAAU,cAAe,CACjC,aAAe,eAIjB,IAAI,MACJ,IAAI,UAAY,CACd,EAAG,OACH,EAAG,KAAK,EACR,EAAG,MACH,EAAG,KAAK,EACR,OAAQ,GAEV,MAAQ,MAAQ,MAAM,YAAY,WAAa,CAC7C,GAAG,WAAW,MACd,GAAI,MAAM,IAAI,GAAK,iBAAmB,eAAe,EAAG,CACtD,KAAK,YAAc,KAAK,MACnB,CACL,KAAK,YAAc,KAAK,EAE1B,sBAAwB,KAG1B,MAAM,UAAU,WAGhB,IAAI,KAAO,MAAM,KAAK,CAAE,EAAG,KAAK,EAAG,EAAG,KAAK,EAAG,EAAG,KAAK,EAAI,MAAO,EAAG,KAAK,EAAG,OAAQ,IACpF,GAAI,KAAM,CAKR,sBAAwB,KACxB,GAAI,KAAK,aAAe,KAAM,CAC5B,KAAK,WAAa,KAAK,WAEzB,KAAK,WAAa,KAAK,WAAa,KAAK,QAAQ,GAAK,KAAK,UAAU,OAChE,CACL,KAAK,WAAa,MAItB,KAAK,SAAW,UAAY,GAAG,WAAW,MAC1C,GAAI,KAAK,SAAW,KAAK,eAAgB,CACvC,KAAK,eAAe,QAGtB,IAAI,SAAW,IAAI,EAAI,KAAK,EAAE,EAAG,GACjC,KAAK,eAAiB,SACtB,KAAK,iBACL,GAAI,KAAK,cAAgB,KAAK,kBAAoB,GAAK,KAAK,aAAe,OAAO,gBAAkB,GAAI,CAEtG,IAAK,sBAAuB,CAE1B,KAAK,WAAa,SAClB,KAAK,WAAa,GAGtB,KAAK,gBAAkB,EACvB,KAAK,WAAa,OAAO,gBAEzB,IAAI,SAAW,KAAK,SAAW,KAAK,gBAAkB,KAAK,eAAe,WACxE,KAAK,yBACL,KAAK,iBACP,GAAI,SAAU,CACZ,GAAG,SAAS,KAAK,EAAG,KAAK,EAAG,KAAK,EAAI,KAAK,EAAG,KAAK,EAAI,KAAK,EAAG,KAAK,EAAG,UAGxE,GAAI,WAAa,YAAc,KAAK,GAAI,CACtC,KAAK,kBAAoB,MACzB,OAEF,KAAK,kBAAoB,KAEzB,cAAc,KAAK,CACjB,EAAG,OAAQ,EAAG,KAAK,EAAG,EAAG,KAAK,EAAI,GAClC,EAAG,MAAO,EAAG,SACb,MAAO,YAET,iBAAiB,KAAK,CACpB,EAAG,OAAQ,EAAG,KAAK,EAAI,KAAK,EAAI,SAAU,EAAG,KAAK,EAAI,GACtD,EAAG,MAAO,EAAG,SACb,MAAO,eAET,iBAAiB,KAAK,CACpB,EAAG,OAAQ,EAAG,KAAK,EAAI,SAAW,EAAG,EAAG,KAAK,EAAE,GAC/C,EAAG,MAAO,EAAG,KAAK,EAAI,SACtB,MAAO,eAGT,GAAG,SAAS,CACV,EAAG,OAAQ,EAAG,iBAAkB,EAAG,KAAK,EAAI,GAC5C,EAAG,MAAO,EAAG,gBACZ,iBAAkB,cACrB,IAAI,UAAY,yBAAyB,OAAO,QAAU,YAC1D,yBAAyB,KAAK,CAC5B,EAAG,OAAQ,EAAG,kBAAoB,eAAiB,WAAa,EAAG,EAAG,KAAK,EAAI,GAC/E,EAAG,MAAO,EAAG,UACb,MAAO,gBAKX,WAAW,UAAU,gBAAkB,SAAU,KAAM,KAAM,GAC3D,IAAI,eAAiB,KAAK,WAC1B,IAAI,QAAU,MACd,KAAO,IAAI,KAAM,GACjB,GAAI,KAAO,KAAK,WAAY,CAC1B,KAAK,WAAa,KAClB,QAAU,KAEZ,MAAQ,EACR,GAAI,KAAO,KAAK,WAAY,CAC1B,KAAK,WAAa,KAClB,QAAU,KAEZ,GAAI,QAAS,CAEX,KAAK,WAAa,eAAiB,KAAK,aAIrC,SAAS,iBAAiB,QAC/B,OAAO,IAAI,WAAW;;;;uICjaxB,IAAI,SAAW,GACf,QAAQ,KAAO,K,aAEO,QAAQ,wBAAtB,U,SAAA,U,cACc,QAAQ,aAAtB,U,UAAA,UACR,IAAM,OAAS,QAAQ,eAEhB,SAAS,IAAI,KAClB,OAAO,QAAQ,KAGV,SAAS,IAAI,IAAK,OACvB,GAAI,QAAQ,OAAS,MAAO,CAC1B,UAAU,OAAO,KAAS,IAA1B,IAAiC,MAAS,OAIvC,SAAS,SAAS,IAAK,OAC5B,OAAO,SAAS,CAAE,GAAI,IAAI,KAAK,KAAM,IAAK,SAGrC,SAAS,eAAe,IAAK,aAGlC,IAAK,SAAS,KAAM,CAElB,QAAQ,KAAO,aAIZ,SAAS,SAAS,MACvB,OAAO,KAAK,MAAM,QAAQ,SAAU,KAClC,IAAI,IAAM,KAAK,KACf,QAAQ,KAAO,IAAI,cACnB,UAAU,cAAc,IAAK,CAC3B,KAAM,IAAI,KACV,MAAO,IAAI,OAAS,UAAU,IAAI,QAAQ,KAAM,MAChD,MAAO,IAAI,MACX,IAAK,SAAA,MAAA,OAAM,QAAQ,MACnB,IAAK,SAAA,IAAC,GACJ,SAAS,KAAO,KAChB,QAAQ,KAAO,GAEjB,MAAO,KACP,IAAK,IAAI,IACT,KAAM,IAAI,KACV,MAAO,IAAI,MACX,UAAW,IAAI,cAKrB,SAAS,CACP,QAAS,CACP,MAAO,UACP,cAAe,EACf,KAAM,UAAU,YAElB,aAAc,CACZ,MAAO,oBACP,cAAe,EACf,KAAM,UAAU,WAChB,MAAO,CAAC,GAAI,IAEd,kBAAmB,CACjB,MAAO,oBACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,IAEZ,iBAAkB,CAChB,MAAO,qBACP,cAAe,EACf,KAAM,UAAU,WAChB,MAAO,CAAC,MAAO,IAEjB,mBAAoB,CAClB,MAAO,0BACP,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,IAEZ,IAAK,CACH,cAAe,GACf,KAAM,UAAU,WAChB,MAAO,CAAC,GAAG;;;;4XCrFR,IAAM,aAAe,E,kCAE5B,IAAM,OAAS,QAAQ,UACvB,IAAM,OAAS,QAAQ,e,aAC4B,QAAQ,qBAAnD,sB,SAAA,sBAAuB,gB,SAAA,gB,cACP,QAAQ,kBAAxB,Y,UAAA,Y,cACa,QAAQ,wBAArB,S,UAAA,S,cAC0B,QAAQ,iBAAlC,sB,UAAA,sB,cACiB,QAAQ,cAAzB,a,UAAA,aAER,IAAI,QAAU,EAEd,IAAI,WAAa,KAEV,IAAM,SAAW,CACtB,MAAS,EACT,SAAY,EACZ,MAAS,EACT,MAAS,EACT,QAAW,EACX,MAAS,EACT,SAAY,EACZ,WAAc,EACd,MAAS,EACT,OAAU,EACV,MAAS,EACT,WAAc,G,0BAGT,IAAI,Q,wBACX,IAAI,eAEJ,IAAI,SACJ,IAAI,SAEJ,IAAI,QAAU,GAEd,IAAM,cAAgB,6BACtB,IAAM,cAAgB,+EACtB,IAAM,cAAgB,wCACtB,IAAM,cAAgB,wBAEtB,IAAM,UAAY,CAChB,MAAO,EACP,KAAM,EAAE,EACR,KAAM,EAAE,EACR,KAAM,EAAE,EACR,KAAM,EAAE,EACR,KAAM,EAAE,GAGV,IAAI,SAAW,GAEf,SAAS,YAAY,KACnB,IAAI,KAAO,aAAa,SAAS,KAAK,SAAU,QAChD,SAAS,KAAK,KAAd,sBAA2C,IAA3C,OAAqD,KAArD,KAGK,SAAS,WAAW,IAAK,UAC9B,QAAQ,SAAS,MACjB,SAAS,KAAO,CAAE,SAAA,UAClB,YAAY,KAGP,SAAS,oBACd,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,OAAS,QAAQ,IACrB,GAAI,OAAO,SAAU,CACnB,IAAK,IAAI,QAAQ,OAAO,SAAU,CAChC,IAAI,KAAO,OAAO,SAAS,MAE3B,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAS,SAAU,GAAI,CAChD,IAAI,KAAO,KAAK,SAAS,IACzB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,OAAQ,GAAI,CACrC,KAAK,MAAM,IAAM,QAO3B,WAAa,KACb,GAAG,WAAW,MAGhB,SAAS,0BAEP,IAAI,QAAU,CACZ,6BAA8B,GAAG,aAAa,GAAG,8BACjD,oBAAqB,GAAG,aAAa,GAAG,qBACxC,mBAAoB,GAAG,aAAa,GAAG,oBACvC,2BAA4B,GAAG,aAAa,GAAG,4BAC/C,OAAQ,GAAG,aAAa,GAAG,QAC3B,SAAU,GAAG,aAAa,GAAG,UAC7B,MAAO,OAAO,OAAS,EAAI,GAE7B,IAAI,WAAa,GAAG,aAAa,6BACjC,GAAI,WAAY,CACd,QAAQ,kBAAoB,GAAG,aAAa,WAAW,yBACvD,QAAQ,gBAAkB,GAAG,aAAa,WAAW,uBAEvD,IAAK,IAAI,OAAO,QAAS,CACvB,sBAAsB,IAAK,QAAQ,OAIvC,IAAI,cAAgB,MACpB,IAAI,cACJ,IAAI,wBACJ,SAAS,kBAAkB,UAAW,KACpC,SAAS,WACP,0BACA,IAAI,IAAA,yBAA+B,cAAc,KAAK,UACtD,IAAK,wBAAyB,CAC5B,gBAAgB,MAAO,IAAK,kBACvB,CACL,OAAO,MAAO,KAEhB,cAAgB,KAElB,IAAK,cAAe,CAClB,WAAW,SAAU,KACrB,cAAgB,KAChB,cAAgB,GAChB,wBAA0B,MAE5B,wBAA0B,0BAA4B,UACtD,cAAc,KAAK,KAGrB,SAAS,cAAc,MACrB,IAAI,kBAAoB,GACxB,KAAK,QAAQ,cAAe,SAAU,IAAK,KACzC,kBAAkB,KAAO,OAE3B,KAAO,KAAK,QAAQ,cAAe,SAAU,IAAK,UAChD,IAAI,YAAc,SAAS,UAC3B,IAAK,YAAa,CAChB,QAAQ,MAAR,sBAAoC,KACpC,OAAO,IAET,YAAc,YAAY,KAE1B,YAAc,YAAY,QAAQ,cAAe,SAAU,KAAM,KAC/D,GAAI,kBAAkB,KAAM,CAC1B,MAAA,eAAsB,IAAtB,IAEF,kBAAkB,KAAO,KACzB,OAAO,OAET,OAAO,cAET,OAAO,KAGT,IAAM,cAAgB,CACpB,kBACA,kBACA,KAAK,MACP,IAAM,iBAAmB,CACvB,cACA,qBACA,2BACA,iCACA,4BACA,8BACA,IACA,KAAK,MACP,IAAM,iBAAmB,CACvB,cACA,sBACA,uBACA,IACA,KAAK,MAEP,SAAS,OAAO,QAAQ,IAChB,SAAiC,OAAjC,SAAU,QAAuB,OAAvB,QAAS,UAAc,OAAd,UACzB,OAAO,aAAa,SAAU,UAC9B,IAAI,KAAO,SAAS,SAAS,OAAS,GAAG,gBAAkB,SAAS,SAAS,OAAS,GAAG,cAAgB,EACzG,OAAO,MACP,KAAK,KAAO,KACZ,KAAK,SAAW,SAChB,KAAK,UAAY,UACjB,KAAK,YAAe,SAAW,GAC/B,KAAK,QAAU,KAAK,YAAY,IAAI,SAAC,GAAD,MAAA,WAAkB,EAAlB,OAAyB,KAAK,IAClE,KAAK,OAAS,GAAG,aAAa,MAC9B,KAAK,KAAO,QACZ,GAAI,OAAS,GAAG,cAAe,CAC7B,KAAK,SAAW,GAElB,QAAQ,KAAK,MACb,KAAK,UAGP,OAAO,UAAU,QAAU,WAAY,IAC/B,KAAmB,KAAnB,KAAM,SAAa,KAAb,SACZ,IAAI,OAAS,GACb,IAAI,KAAO,aAAa,SAAU,QAClC,GAAI,OAAO,QAAU,KAAK,QAAQ,qBAAuB,EAAG,CAC1D,OAAS,OAAS,GAAG,cAAgB,iBAAmB,iBAE1D,KAAA,GAAU,OAAS,eAAiB,KAAK,QAAU,KACnD,KAAO,cAAc,MACrB,KAAO,KAAK,QAAQ,mBAAoB,IACxC,GAAI,OAAS,GAAG,cAAe,CAC7B,KAAK,WAAa,SAAS,KAAM,eAGjC,KAAK,WAAW,QAAQ,SAAC,GAAD,OAAO,OAAO,SAAS,KAAO,iBACjD,CACL,KAAK,SAAW,SAAS,KAAM,eAE/B,IAAI,MAAQ,GACZ,KAAK,SAAS,QAAQ,SAAC,GACrB,IAAI,IAAM,OAAO,EAAE,OAAO,IAC1B,QAAQ,MAAM,MACd,QAAQ,MAAM,MACd,MAAM,KAAO,OAGjB,KAAK,SAAW,SAAS,KAAM,eAE/B,KAAK,SAAS,QAAQ,SAAC,GACrB,IAAI,UAAY,EAAE,MAAM,KAAK,GAC7B,OAAO,UAAU,cAEnB,GAAG,aAAa,KAAK,OAAQ,MAC7B,GAAG,cAAc,KAAK,QAEtB,IAAK,GAAG,mBAAmB,KAAK,OAAQ,GAAG,gBAAiB,CAC1D,KAAK,MAAQ,MACb,IAAI,WAAa,GAAG,iBAAiB,KAAK,QAC1C,GAAI,WAAY,CACd,WAAa,WAAW,QAAQ,MAAO,IAAI,OAE7C,GAAI,KAAK,YAAY,OAAQ,CAC3B,UAAA,IAAgB,KAAK,YAAY,KAAK,KAAtC,IAEF,QAAQ,KAAK,UAAY,OAAS,SAAlC,mBAA8D,SAA9D,KAA2E,YAC3E,kBAAkB,KAAK,UAAc,SAApB,KAAiC,YAElD,QAAQ,IAAI,KAAK,MAAM,MAAM,IAAI,SAAC,KAAM,KAAP,OAAkB,IAAI,EAAtB,KAA4B,OAAQ,KAAK,WACrE,CACL,KAAK,MAAQ,OAIV,SAAS,OAAO,UACrB,UAAW,WAAa,SAAU,CAChC,OAAO,IAAI,OAAO,UAEpB,OAAO,IAAI,OAAO,CAAE,SAAA,WAGtB,SAAS,gBAAgB,MACvB,OAAQ,KAAK,OACX,KAAK,EACH,GAAG,WAAW,KAAK,SAAU,KAAK,OAClC,MACF,KAAK,EACH,GAAG,WAAW,KAAK,SAAU,KAAK,OAClC,MACF,KAAK,EACH,GAAG,WAAW,KAAK,SAAU,KAAK,OAClC,MACF,KAAK,EACH,GAAG,WAAW,KAAK,SAAU,KAAK,OAClC,MACF,KAAK,EACH,GAAG,iBAAiB,KAAK,SAAU,MAAO,KAAK,OAC/C,MACF,KAAK,GACH,GAAG,iBAAiB,KAAK,SAAU,MAAO,KAAK,OAC/C,OAIN,SAAS,KAAK,GAAI,IAChB,IAAI,KAAO,GAAG,SAAS,GAAG,IAAM,CAC9B,OAAQ,GAAG,gBACX,SAAU,MAEZ,IAAK,KAAK,OAAQ,CAChB,OAAO,MAAD,+BAAuC,KAAK,QAAS,GAAG,gBAAkB,wBAA0B,KAE5G,GAAG,aAAa,KAAK,OAAQ,GAAG,QAChC,GAAG,aAAa,KAAK,OAAQ,GAAG,QAEhC,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,WAAW,SAAU,GAAI,CAChD,GAAG,mBAAmB,KAAK,OAAQ,SAAS,GAAG,WAAW,KAAM,GAAG,WAAW,KAEhF,GAAG,YAAY,KAAK,QAEpB,KAAK,MAAQ,GAAG,oBAAoB,KAAK,OAAQ,GAAG,aACpD,IAAK,KAAK,MAAO,CACf,kBAAkB,MAAO,sBAAsB,GAAG,SAAzB,MAAuC,GAAG,SAA1C,MAAA,IACnB,GAAG,kBAAkB,KAAK,UAChC,QAAQ,MAAR,sBAAoC,GAAG,kBAAkB,KAAK,SAGhE,GAAG,WAAW,KAAK,QACnB,WAAa,KAEb,IAAI,SAAW,GAAG,SAAS,MAAM,GACjC,IAAK,IAAI,IAAK,EAAG,IAAK,GAAG,SAAS,SAAU,IAAI,CAC9C,IAAI,KAAO,GAAG,SAAS,KACvB,GAAI,SAAS,QAAQ,SAAW,EAAG,CACjC,SAAS,KAAK,OAGlB,KAAK,SAAW,SAAS,IAAI,SAAC,GAC5B,EAAI,EAAE,MAAM,KACZ,IAAI,KAAO,EAAE,GACb,IAAI,KAAO,EAAE,GACb,IAAI,MAAQ,EACZ,IAAI,EAAI,KAAK,MAAM,oBACnB,GAAI,EAAG,CACL,KAAO,EAAE,GACT,MAAQ,OAAO,EAAE,IAEnB,IAAI,SAAW,GAAG,mBAAmB,KAAK,OAAQ,MAClD,GAAI,WAAa,KAAM,CAErB,OAAO,KAET,IAAI,MAAQ,UAAU,MACtB,IAAI,KAAO,MAAQ,MACnB,IAAI,KAAO,QAAQ,MACnB,IAAI,MAAQ,IAAI,aAAa,MAE7B,IAAI,KAAO,CACT,KAAA,KACA,KAAA,KACA,MAAA,MACA,MAAA,MACA,MAAA,MACA,SAAA,SACA,KAAA,MAEF,gBAAgB,MAChB,OAAO,OACN,OAAO,SAAC,GAAD,OAAO,IAEjB,IAAK,IAAI,KAAK,EAAG,KAAK,GAAG,SAAS,SAAU,KAAI,CAC9C,IAAI,MAAO,GAAG,SAAS,MACvB,IAAI,IAAM,OAAO,MAAK,OAAO,IAC7B,IAAI,SAAW,GAAG,mBAAmB,KAAK,OAAQ,OAClD,GAAI,WAAa,KAAM,CACrB,GAAG,UAAU,SAAU,MAG3B,OAAO,KAGF,SAAS,KAAK,GAAI,GAAI,QAC3B,IAAI,KAAO,GAAG,SAAS,GAAG,IAC1B,IAAK,KAAM,CACT,KAAO,KAAK,GAAI,IAElB,IAAK,KAAK,MAAO,CACf,KAAO,KAAK,GAAI,UAChB,IAAK,KAAK,MAAO,CACf,KAAO,KAAK,SAAU,UAExB,GAAG,SAAS,GAAG,IAAM,KAEvB,GAAI,OAAS,WAAY,CACvB,WAAa,KACb,GAAG,WAAW,KAAK,QAErB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAS,SAAU,GAAI,CAChD,IAAI,KAAO,KAAK,SAAS,IACzB,IAAI,MAAQ,OAAO,KAAK,OAAS,KAAK,KACtC,IAAK,MAAO,CACV,SAEF,IAAI,KAAO,MACX,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,OAAQ,GAAI,CACrC,GAAI,MAAM,MAAQ,KAAK,MAAM,IAAK,CAChC,KAAO,KACP,OAGJ,GAAI,KAAM,CACR,IAAK,IAAI,IAAK,EAAG,IAAK,KAAK,OAAQ,IAAI,CACrC,KAAK,MAAM,KAAM,MAAM,KAEzB,gBAAgB,QAKtB,IAAM,SAAW,CAAE,OAAQ,GACpB,SAAS,kBAAkB,KAChC,SAAS,KAAO,EAElB,IAAI,iBAAmB,GACvB,SAAS,eACP,eAAiB,OAAO,KAAK,OAAO,SAAS,OAAO,SAAC,GAAD,OAAQ,SAAS,KAClE,OAAO,OAAO,KAAK,mBACnB,IAAI,SAAC,GAAD,MAAA,WAAkB,EAAlB,OACJ,KAAK,IAGV,SAAS,eACP,GAAI,QAAQ,OAAQ,CAClB,OAAO,SAAS,GAAI,MACpB,GAAG,WAAW,MACd,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,SAAW,QAAQ,IAAI,SAC3B,GAAI,SAAU,CACZ,IAAK,IAAI,MAAM,SAAU,CACvB,GAAG,cAAc,SAAS,IAAI,QAEhC,QAAQ,IAAI,SAAW,IAG3B,IAAK,IAAI,KAAK,EAAG,KAAK,QAAQ,SAAU,KAAI,CAC1C,QAAQ,MAAI,UAEd,yBAIG,SAAS,uBACd,eACA,eAGK,SAAS,mBAAmB,YACjC,IAAK,IAAI,OAAO,WAAY,CAC1B,GAAI,WAAW,KAAM,CACnB,iBAAiB,KAAO,WAAW,SAC9B,QACE,iBAAiB,MAG5B,uBAGF,SAAS,eAAe,UACtB,IAAK,IAAI,OAAO,SAAU,CACxB,YAAY,KAEd,eAGK,SAAS,QAAQ,UACtB,eACA,QAAA,QAAA,QAAU,SAEV,SAAW,OAAO,yBAClB,SAAW,OAAO,yBAElB,YAAY,MAAO,gBACnB,YAAY,MAAO,gBAGd,SAAS,UAAU,IAAK,KAC7B,QAAQ,QAAQ,MAChB,QAAQ,KAAO;;;;qXC5cV,IAAM,aAAe,E,kCACrB,IAAM,SAAW,E,0BACjB,IAAM,QAAU,E,wBAChB,IAAM,KAAO,SAAW,Q,kBAE/B,IAAM,OAAS,QAAQ,U,aACD,QAAQ,aAAtB,U,SAAA,U,cACgB,QAAQ,kBAAxB,Y,UAAA,Y,cACiB,QAAQ,qCAAzB,K,UAAA,KAAM,O,UAAA,O,IACN,IAAiC,KAAjC,IAAK,MAA4B,KAA5B,MAAO,IAAqB,KAArB,IAAK,IAAgB,KAAhB,IAAK,OAAW,KAAX,OAC9B,IAAM,SAAW,QAAQ,iBACzB,IAAM,QAAU,QAAQ,gB,cACG,QAAQ,wBAA3B,S,UAAA,SAAU,K,UAAA,KAElB,IAAM,kBAAoB,KAE1B,IAAI,OAAS,GACb,IAAI,YAAc,EAIlB,IAAM,eAAiB,CACrB,SAAU,CAAC,MAAO,OAElB,UAAW,mBAEb,IAAI,aAEJ,IAAI,YAAc,GAClB,IAAI,gBAAkB,EACtB,IAAI,MAAQ,GACZ,IAAI,MAEJ,IAAI,gBAAkB,EACtB,IAAI,uBAAyB,EAE7B,SAAS,SAAS,CAChB,OAAQ,CACN,cAAe,EACf,KAAM,UAAU,WAChB,MAAO,CAAC,EAAE,MAId,SAAS,SAAS,CAChB,MAAO,CACL,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,MAId,SAAS,SAAS,CAChB,MAAO,CACL,cAAe,EACf,KAAM,UAAU,SAChB,MAAO,CAAC,EAAE,MAIP,SAAS,UAAU,KAAM,KAAM,IACpC,KAAO,MAAQ,GACf,GAAI,MAAM,QAAQ,MAAO,CACvB,QAAQ,IACR,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,UAAU,KAAK,IAAK,MAEtB,OAEF,IAAI,IAAM,KACV,GAAI,OAAO,KAAM,CACf,GAAI,GAAI,CACN,KAEF,OAEF,IAAI,EAAI,KAAK,MAAM,2LACnB,IAAI,cACJ,GAAI,EAAG,CACL,KAAO,EAAE,GACT,cAAgB,EAAE,GAEpB,IAAI,IAAA,UAAgB,KACpB,IAAI,KAAO,GACX,IAAI,OAAS,GACb,GAAI,KAAK,WAAY,CACnB,OAAA,OAAgB,KAAK,MAEvB,GAAI,cAAe,CACjB,KAAK,KAAL,GAAa,QAAQ,aAAe,IAApC,IAA2C,cAAgB,QAE7D,IAAK,IAAI,IAAK,EAAG,IAAK,aAAa,SAAS,SAAU,IAAI,CACxD,IAAI,IAAM,aAAa,SAAS,KAChC,GAAI,MAAQ,cAAe,CACzB,KAAK,KAAL,GAAa,QAAQ,aAAe,IAApC,IAA2C,IAAM,SAMrD,SAAS,QAAQ,KACf,GAAI,MAAQ,KAAK,OAAQ,CACvB,QAAQ,MAAR,uBAAqC,KAArC,wCACA,GAAI,GAAI,CACN,GAAG,uBAEL,SAEA,YACF,IAAI,KAAO,MACX,IAAI,MAAQ,IAAI,KAAK,CACnB,IAAK,KAAK,MAAM,KAChB,MAAO,QAAQ,KAAK,WACpB,KAAM,QAAQ,KAAK,MACnB,OAAQ,EACR,OAAQ,SAAA,SACN,IAAK,KAAM,GACP,YACF,KAAO,KACP,MAAM,eAAiB,KACvB,OAAO,KAAO,MACd,GAAI,GAAI,CACN,GAAG,SAIT,YAAa,SAAA,YAAU,GAAI,IAAK,OAC9B,GAAI,MAAQ,KAAK,OAAS,EAAG,CAC3B,QAAQ,MAAR,uBAAqC,KAAK,KAA1C,KAAmD,SAC9C,CACL,QAAQ,IAAR,uBAAmC,KAAK,KAAxC,KAAiD,IAAjD,wBAEF,IAAK,KAAM,GACP,YACF,KAAO,KACP,QAAQ,IAAM,OAKtB,QAAQ,GAGV,SAAS,YAAY,UACnB,IAAI,WAAa,SAAS,MAAM,0BAChC,WAAa,YAAc,WAAW,GACtC,IAAK,WAAY,CACf,OAEF,IAAK,OAAO,YAAa,CACvB,QAAQ,IAAR,0CAAsD,UACtD,OAEF,IAAI,KAAO,OAAO,YAAY,eAC9B,KAAK,WAAa,YACX,OAAO,YACd,UAAU,WAAY,MAGjB,SAAS,aAAa,QAC3B,aAAe,SAAS,QAAU,GAAI,gBAGtC,MAAQ,GACR,IAAK,IAAI,GAAK,EAAG,GAAK,IAAK,GAAI,CAC7B,MAAM,KAAK,CACT,MAAO,KACP,GAAI,EACJ,eAAgB,EAChB,cAAe,EACf,WAAY,EACZ,UAAW,QAGf,YAAY,OAAQ,aACpB,YAAY,OAAQ,aACpB,YAAY,OAAQ,aACpB,YAAY,QAAS,aAGhB,SAAS,aACd,gBAAkB,uBAAyB,EAG3C,UAAU,GAGL,SAAS,cACd,uBAAyB,EAMpB,SAAS,eACd,OAAQ,OAAO,SAAW,OAAO,WAG5B,SAAS,UAAU,IACxB,iBAAmB,GACnB,GAAI,kBAAoB,uBAAwB,CAC9C,IAAI,MAAQ,GAAK,KACjB,GAAI,gBAAkB,uBAAwB,CAC5C,gBAAkB,IAAI,gBAAkB,MAAO,4BAC1C,CACL,gBAAkB,IAAI,gBAAkB,MAAO,yBAGnD,IAAK,eAAgB,CACnB,OAKF,IAAI,SAAW,GAAK,aAAa,UACjC,IAAK,IAAI,GAAK,EAAG,GAAK,MAAM,SAAU,GAAI,CACxC,IAAI,IAAM,MAAM,IAChB,IAAK,IAAI,MAAO,CACd,SAEF,IAAI,OAAS,SAAS,MAAQ,IAAI,cAAgB,EAClD,GAAI,IAAI,iBAAmB,OAAQ,CACjC,IAAI,OAAQ,OAAS,IAAI,eACzB,IAAI,SAAW,IAAI,IAAI,QAAQ,UAC/B,GAAI,OAAQ,EAAG,CACb,IAAI,eAAiB,IAAI,OAAQ,IAAI,eAAiB,cACjD,CACL,IAAI,eAAiB,IAAI,OAAQ,IAAI,eAAiB,UAExD,IAAK,IAAI,gBAAkB,IAAI,eAAgB,CAC7C,IAAK,IAAI,UAAW,CAClB,IAAI,MAAM,KAAK,IAAI,IAErB,IAAI,MAAQ,MAGhB,GAAI,IAAI,MAAO,CACb,IAAI,WAAa,IAAI,eAAiB,SAAS,OAAS,gBACxD,GAAI,IAAI,UAAW,CACjB,IAAI,UAAW,MACf,IAAI,GAAK,IAAI,MAAM,OACnB,IAAI,YAAc,EAEpB,GAAI,IAAI,aAAe,WAAY,CACjC,IAAI,MAAM,OAAO,WAAY,IAAI,IACjC,IAAI,WAAa,aAKvB,IAAK,IAAI,KAAK,MAAM,OAAS,EAAG,MAAM,IAAK,KAAI,CAC7C,IAAI,KAAO,MAAM,MACjB,KAAK,OAAS,IAAI,EAAG,KAAK,OAAS,UACnC,KAAK,MAAM,OAAO,KAAK,OAAS,SAAS,OAAS,gBAAiB,KAAK,IACxE,IAAK,KAAK,OAAQ,CAChB,KAAK,MAAM,KAAK,KAAK,IACrB,KAAK,MAAO,QAKX,SAAS,UAAU,UAAW,OAAQ,UAC3C,OAAS,QAAU,EACnB,IAAK,WAAa,SAAS,OAAS,WAAa,SAAS,MAAO,CAC/D,OAAO,KAET,IAAK,eAAgB,CACnB,OAAO,KAET,GAAI,MAAM,QAAQ,WAAY,CAC5B,UAAY,UAAU,MAAM,SAAW,UAAU,SAEnD,IAAI,MAAQ,OAAO,WACnB,IAAK,MAAO,CACV,OAAO,KAET,IAAI,iBAAmB,YAAY,aAAe,IAClD,GAAI,gBAAkB,iBAAmB,GAAI,CAC3C,OAAO,KAGT,IAAI,GAAK,MAAM,KAAK,UAAW,OAAS,SAAS,OAAS,iBAE1D,YAAY,WAAa,gBACzB,MAAO,CACL,KAAM,MAAM,KAAK,KAAK,MAAO,IAC7B,QAAS,MAAM,QAAQ,KAAK,MAAO,IACnC,QAAS,SAAA,QAAC,MACR,MAAM,KAAK,CACT,OAAA,OACA,MAAA,MACA,GAAA,GACA,KAAA,SAMD,SAAS,eAAe,UAAW,OAAQ,YAChD,IAAK,SAAS,MAAO,CACnB,OAEF,GAAI,SAAW,UAAW,CACxB,OAAS,EAEX,WAAa,YAAc,aAC3B,UAAU,UAAW,CAAE,UAAW,KAAM,KAAM,MAAQ,SAAC,KACrD,QAAQ,KACR,IAAI,MAAQ,OAAO,WACnB,OAAO,OACP,GAAI,MAAM,GAAG,QAAU,MAAO,CAE5B,MAAM,GAAG,cAAgB,OACzB,IAAK,WAAY,CACf,IAAK,OAAQ,CACX,MAAM,KAAK,MAAM,GAAG,IACpB,MAAM,GAAG,MAAQ,SACZ,CACL,IAAI,WAAa,MAAM,GAAG,WAAa,OAAS,SAAS,OAAS,gBAClE,MAAM,OAAO,WAAY,MAAM,GAAG,KAGtC,OAGF,GAAI,MAAM,GAAG,eAAgB,CAC3B,GAAI,WAAa,SAAU,CAEzB,IAAI,KAAO,MAAM,GACjB,MAAM,GAAK,MAAM,GACjB,MAAM,GAAK,KACX,MAAM,GAAG,cAAgB,GAG7B,GAAI,MAAM,GAAG,MAAO,CAClB,MAAM,GAAG,MAAM,KAAK,MAAM,GAAG,IAE/B,MAAM,GAAG,MAAQ,MACjB,MAAM,GAAG,cAAgB,OACzB,IAAI,UAAa,WAAa,QAAW,EAAI,OAC7C,MAAM,GAAG,eAAiB,UAC1B,GAAI,eAAgB,CAClB,IAAI,YAAa,UAAY,SAAS,OAAS,gBAC/C,MAAM,GAAG,GAAK,MAAM,KAAK,UAAW,aAEpC,MAAM,GAAG,WAAa,YACtB,MAAM,GAAG,UAAY,UAChB,CACL,MAAM,GAAG,UAAY,QAKpB,SAAS,eACd,OAAO;;;;uCClWD,MAAkB,KAAlB,MAAO,OAAW,KAAX,OAEf,SAAS,oBAAoB,QAC3B,KAAK,MAAQ,EACb,KAAK,KAAO,EACZ,KAAK,MAAQ,KACb,KAAK,KAAO,KACZ,KAAK,SAAW,EAEhB,GAAI,kBAAkB,oBAAqB,CACzC,KAAK,KAAO,OAAO,KACnB,KAAK,SAAS,OAAO,WAChB,CACL,KAAK,KAAO,OACZ,IAAK,IAAI,OAAO,KAAK,KAAM,CACzB,IAAI,KAAO,KAAK,KAAK,KACrB,UAAW,KAAK,SAAW,SAAU,CACnC,KAAK,OAAS,CAAC,KAAK,QAEtB,UAAW,KAAK,QAAU,SAAU,CAClC,IAAI,IAAM,IAAI,MAAM,KAAK,OAAO,QAChC,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,OAAO,SAAU,GAAI,CAC9C,IAAI,IAAM,KAAK,MAEjB,KAAK,MAAQ,IAEf,KAAK,WAAa,EAClB,IAAK,IAAI,IAAK,EAAG,IAAK,KAAK,MAAM,SAAU,IAAI,CAC7C,KAAK,YAAc,KAAK,MAAM,KAEhC,GAAI,KAAK,OAAS,UAAW,CAC3B,KAAK,KAAO,QAMb,SAAS,OAAO,QACrB,OAAO,IAAI,oBAAoB,QAGjC,oBAAoB,UAAU,MAAQ,WACpC,OAAO,IAAI,oBAAoB,OAGjC,oBAAoB,UAAU,SAAW,SAAU,MAAO,OACxD,GAAI,QAAU,KAAK,QAAU,MAAO,CAClC,OAAO,KAET,KAAK,MAAQ,MACb,KAAK,KAAO,KAAK,KAAK,OACtB,GAAI,KAAK,KAAK,UAAW,CACvB,KAAK,KAAO,MAAM,SAAW,KAAK,KAAK,eAClC,CACL,KAAK,KAAO,EAEd,KAAK,SAAW,EAChB,KAAK,MAAQ,KAAK,KAAK,OAAO,KAAK,UACnC,OAAO,MAGT,oBAAoB,UAAU,SAAW,WACvC,IAAK,KAAK,KAAM,CACd,OAAO,EAET,IAAI,KAAO,KAAK,KAChB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,WAAY,GAAI,CACzC,MAAQ,KAAK,KAAK,MAAM,IAE1B,OAAO,KAAO,KAAK,KAAK,YAG1B,oBAAoB,UAAU,OAAS,SAAU,IAC/C,IAAK,KAAK,KAAM,CACd,OAEF,KAAK,MAAQ,GACb,GAAI,KAAK,KAAO,KAAK,KAAK,MAAM,KAAK,UAAW,CAC9C,KAAK,MAAQ,KAAK,KAAK,MAAM,KAAK,UAClC,KAAK,SAAW,KAAK,SAAW,EAChC,GAAI,KAAK,WAAa,KAAK,KAAK,OAAO,OAAQ,CAC7C,GAAI,KAAK,KAAK,KAAM,CAClB,KAAK,SAAW,KAAK,SAAW,KAAK,KAAK,OAAO,WAC5C,CAEL,KAAK,KAAO,KACZ,QAGJ,KAAK,MAAQ,KAAK,KAAK,OAAO,KAAK,UACnC,GAAI,KAAK,MAAQ,KAAK,KAAK,MAAM,KAAK,UAAW,CAC/C,KAAK,KAAO,KAAK,KAAK,MAAM,KAAK,UAAY,KAKnD,oBAAoB,UAAU,SAAW,SAAU,IACjD,GAAI,KAAO,UAAW,CACpB,KAAK,OAAO,IAEd,OAAO,KAAK;;;;+eClGd,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,iBACzB,IAAM,OAAS,QAAQ,eACvB,IAAM,KAAO,QAAQ,a,IACb,IAA8B,KAA9B,IAAK,IAAyB,KAAzB,IAAK,IAAoB,KAApB,IAAK,MAAe,KAAf,MAAO,IAAQ,KAAR,IAC9B,IAAM,SAAW,QAAQ,iBACzB,IAAM,QAAU,QAAQ,gB,aACU,QAAQ,wBAAlC,sB,SAAA,sB,cACe,QAAQ,cAAvB,K,UAAA,KAAM,K,UAAA,KAEP,IAAM,YAAc,E,gCACpB,IAAM,eAAiB,E,sCAE9B,IAAI,eACJ,IAAI,eACJ,IAAI,oBACJ,IAAI,WAAa,OACjB,IAAI,qBAAuB,CACzB,WAAA,YAEF,IAAI,SAAW,EAEf,IAAI,aAAe,GAEnB,IAAI,gBAAkB,GAEtB,IAAI,mBAAqB,GAClB,SAAS,gBAAgB,UAC9B,OAAO,mBAAmB,OAAS,IACnC,mBAAmB,KAAK,cACxB,aAAe,UAAY,GAEtB,SAAS,eAAe,WAC7B,OAAO,mBAAmB,QAC1B,OAAO,YAAc,aAAa,QAClC,aAAe,mBAAmB,MAGpC,SAAS,aAIP,KAAK,KAAO,IAAI,aAAa,IAE7B,KAAK,KAAO,KACZ,KAAK,OAAS,KACd,KAAK,cAAgB,KACrB,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,MAAQ,EACb,KAAK,IAAM,EAGb,SAAS,kBACP,GAAI,gBAAgB,OAAQ,CAC1B,OAAO,gBAAgB,MAEzB,OAAO,IAAI,WAGb,SAAS,UAAU,EAAG,GACpB,GAAI,EAAE,IAAM,EAAE,EAAG,CACf,OAAO,EAAE,EAAI,EAAE,EAEjB,GAAI,EAAE,IAAM,EAAE,EAAG,CACf,OAAO,EAAE,EAAI,EAAE,EAEjB,GAAI,EAAE,IAAM,EAAE,EAAG,CACf,OAAO,EAAE,EAAI,EAAE,EAEjB,OAAO,EAAE,IAAM,EAAE,IAGZ,SAAS,QAAQ,EAAG,IACzB,OAAO,SAAS,IAChB,aAAa,KAAK,CAChB,GAAA,GACA,EAAG,EACH,EAAG,EACH,EAAA,EACA,MAAO,WAKJ,SAAS,UACd,KAAM,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EACtC,GAAI,GAAI,GAAI,GACZ,MAAO,OAAQ,cAAe,OAE9B,OAAO,SAAS,IAChB,IAAI,KAAO,kBACX,IAAI,KAAO,KAAK,KAKhB,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,IAAM,GAAK,SAAS,KAAK,IAAM,SAAS,KAAK,GAClD,KAAK,GAAK,MAAM,GAChB,KAAK,GAAK,MAAM,GAChB,KAAK,IAAM,MAAM,GACjB,KAAK,IAAM,MAAM,GACjB,KAAK,IAAM,GACX,KAAK,IAAM,GACX,KAAK,IAAM,GACX,KAAK,IAAM,GAEX,KAAK,KAAO,KACZ,KAAK,EAAI,KAAK,GACd,KAAK,EAAI,KAAK,GACd,KAAK,EAAI,EACT,KAAK,OAAS,QAAU,KACxB,GAAI,cAAe,CACjB,cAAc,WAAa,qBAAqB,WAChD,KAAK,cAAgB,kBAChB,CACL,KAAK,cAAgB,KAEvB,KAAK,MAAQ,OAAS,EAGtB,KAAK,MAAQ,SACb,aAAa,KAAK,MAClB,OAAO,KAGF,SAAS,SACd,KAAM,EAAG,EAAG,EAAG,EAAG,EAClB,GAAI,GAAI,GAAI,GACZ,MAAO,OAAQ,cAAe,OAE9B,OAAO,UAAU,KACf,EAAG,EACH,EAAG,EAAI,EACP,EAAI,EAAG,EAAI,EACX,EAAI,EAAG,EACP,EACA,GAAI,GAAI,GAAI,GACZ,MAAO,OAAQ,cAAe,OAG3B,SAAS,YAAY,OAAQ,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,IAAK,MAAO,OAAQ,cAAe,OAAQ,eACjG,OAAO,SAAS,IAChB,IAAI,KAAO,kBACX,KAAK,KAAO,OAAO,KACnB,GAAK,EAAI,SAAS,KAAK,IAAM,SAAS,KAAK,GAC3C,GAAK,EAAI,SAAS,KAAK,IAAM,SAAS,KAAK,GAC3C,KAAK,EAAI,EACT,GAAK,SAAS,KAAK,GACnB,GAAK,SAAS,KAAK,GACnB,GAAI,cAAe,CACjB,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EAEP,KAAK,EAAI,EACT,KAAK,EAAI,EACT,MAAQ,OAAS,OAAO,MACxB,IAAI,KAAO,KAAK,KAChB,IAAK,IAAK,CACR,IAAI,GAAK,EAAI,OAAO,OAAO,GAAK,EAChC,IAAI,GAAK,EAAI,OAAO,OAAO,GAAK,EAChC,IAAI,GAAK,GAAK,EACd,IAAI,GAAK,GAAK,EACd,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,OACL,CACL,IAAI,GAAK,OAAO,OAAO,GAAK,EAC5B,IAAI,GAAK,OAAO,OAAO,GAAK,EAE5B,IAAI,KAAO,IAAI,KACf,IAAI,KAAO,IAAI,KAEf,IAAI,GAAK,EAAI,KAAO,GAAK,KAAO,GAChC,IAAI,GAAK,EAAI,KAAO,GAAK,KAAO,GAChC,IAAI,GAAK,KAAO,EAChB,IAAI,GAAK,KAAO,EAChB,IAAI,GAAK,KAAO,EAChB,IAAI,GAAK,KAAO,EAEhB,KAAK,GAAK,GACV,KAAK,GAAK,GACV,KAAK,GAAK,GAAK,GACf,KAAK,GAAK,GAAK,GACf,KAAK,GAAK,GAAK,GAAK,GACpB,KAAK,GAAK,GAAK,GAAK,GACpB,KAAK,GAAK,GAAK,GACf,KAAK,GAAK,GAAK,GAGjB,KAAK,GAAK,MAAM,GAChB,KAAK,GAAK,MAAM,GAChB,KAAK,IAAM,MAAM,GACjB,KAAK,IAAM,MAAM,GAEjB,IAAI,MAAQ,EACZ,IAAI,MAAQ,EACZ,IAAI,IAAM,KAAK,KAAK,GACpB,IAAK,SAAW,IAAI,OAAQ,CAM1B,IAAI,WAAa,KACd,IAAI,GAAK,IAAI,IAAM,IAAI,MAAQ,GAC/B,IAAI,GAAK,IAAI,IAAM,IAAI,OAAS,GAEnC,GAAI,WAAa,EAAG,CAClB,GAAI,IAAI,aAAe,GAAG,OAAQ,CAEhC,MAAQ,MAAQ,QACX,GAAI,IAAI,aAAe,GAAG,SAAW,OAAO,UAAW,CAG5D,MAAQ,MAAQ,WAAa,QAE1B,GAAI,WAAa,EAAG,CAEzB,IAAI,cAAgB,WAAa,EACjC,MAAQ,MAAQ,GAAM,cAGxB,GAAI,IAAI,GAAK,IAAI,GAAI,CACnB,QAAU,EAEZ,GAAI,IAAI,GAAK,IAAI,GAAI,CACnB,QAAU,GAId,KAAK,IAAM,IAAI,GAAK,MAAQ,IAAI,MAChC,KAAK,IAAM,IAAI,GAAK,MAAQ,IAAI,OAChC,KAAK,IAAM,IAAI,GAAK,MAAQ,IAAI,MAChC,KAAK,IAAM,IAAI,GAAK,MAAQ,IAAI,OAEhC,KAAK,MAAQ,SACb,KAAK,OAAS,QAAU,KACxB,KAAK,MAAQ,EAEb,GAAI,cAAe,CACjB,cAAc,WAAa,qBAAqB,WAChD,KAAK,cAAgB,kBAChB,CACL,KAAK,cAAgB,KAEvB,aAAa,KAAK,MAIpB,IAAI,aAAe,OACnB,IAAI,aAAe,OACnB,SAAS,kBAAkB,EAAG,EAAG,EAAG,GAClC,SAAS,gBAAgB,aAAc,CAAC,EAAG,IAC3C,aAAa,GAAK,MAAM,aAAa,IACrC,aAAa,GAAK,MAAM,aAAa,IACrC,SAAS,gBAAgB,aAAc,CAAC,EAAI,EAAG,EAAI,IACnD,aAAa,GAAK,MAAM,aAAa,IAAM,aAAa,GACxD,aAAa,GAAK,MAAM,aAAa,IAAM,aAAa,GAGxD,IAAI,KAAO,OAAO,eAAiB,OAAO,OAC1C,MAAO,CAAC,aAAa,GAAI,MAAQ,aAAa,GAAK,aAAa,IAAK,aAAa,GAAI,aAAa,IAGrG,SAAS,cAAc,EAAG,EAAG,EAAG,GAC9B,IAAI,KAAO,OACX,SAAS,aAAa,KAAM,CAAC,EAAI,EAAG,EAAI,IACxC,KAAK,GAAK,KAAK,GACf,KAAK,GAAK,KAAK,GACf,SAAS,aAAa,KAAM,CAAC,EAAG,IAChC,KAAK,GAAK,MAAM,KAAK,IACrB,KAAK,GAAK,MAAM,KAAK,IACrB,KAAK,GAAK,MAAM,KAAK,IAAM,KAAK,GAChC,KAAK,GAAK,MAAM,KAAK,IAAM,KAAK,GAEhC,OAAO,KAGF,SAAS,KAAK,QAAS,MAAO,EAAG,EAAG,EAAG,GAC5C,IAAI,QAAU,kBAAkB,EAAG,EAAG,EAAG,GACzC,QAAQ,QAAU,IAAM,WACtB,GAAG,OAAO,GAAG,cACb,GAAG,QAAQ,QAAQ,GAAI,QAAQ,GAAI,QAAQ,GAAI,QAAQ,MAEzD,QAAQ,MAAQ,IAAM,WACpB,GAAG,QAAQ,GAAG,gBAIlB,IAAI,WAAa,GACV,SAAS,UACd,OAAO,WAAW,OAAS,EAGtB,SAAS,SAAS,EAAG,EAAG,EAAG,EAAG,GACnC,OAAO,WAAW,OAAS,IAC3B,IAAI,QAAU,kBAAkB,EAAG,EAAG,EAAG,GACzC,IAAI,SAAW,cAAc,EAAG,EAAG,EAAG,GACtC,SAAS,iBAAiB,UAC1B,kBACA,WAAW,KAAK,CACd,EAAA,EAAG,QAAA,QAAS,SAAA,WAIT,SAAS,UACd,OAAO,WACP,QAAQ,EAAE,QAAU,GAAK,WACvB,GAAG,QAAQ,GAAG,gBAHQ,IAAA,gBAKH,WAAW,MAA1B,EALkB,gBAKlB,EAAG,QALe,gBAKf,QACT,IAAI,QAAU,aACd,eAAe,MACf,GAAI,WAAW,OAAQ,CAAA,IACf,SAAa,WAAW,WAAW,OAAS,GAA5C,SACN,SAAS,iBAAiB,cACrB,CACL,SAAS,iBAAiB,MAE5B,QAAQ,EAAG,WACT,GAAG,OAAO,GAAG,cACb,GAAG,QAAQ,QAAQ,GAAI,QAAQ,GAAI,QAAQ,GAAI,QAAQ,IACvD,kBACA,aAAe,QACf,QAAQ,OACR,mBAKJ,IAAI,YACG,SAAS,YAEd,OAAO,WACP,QAAQ,aACR,YAAc,KACd,gBAAgB,mBAAmB,IACnC,SAAS,iBAAiB,MAG1B,WAAW,KAAK,CAAE,SAAU,OAEvB,SAAS,aACd,OAAO,WACP,OAAO,aACP,WAAW,MACX,YAAc,MACd,OAAO,WALoB,IAMrB,SAAa,WAAW,WAAW,OAAS,GAA5C,SACN,eAAe,MACf,SAAS,iBAAiB,UAG5B,SAAS,aAAa,MAAO,OAC3B,GAAI,MAAM,SAAW,MAAM,OAAQ,CACjC,OAAO,KAET,IAAK,IAAI,GAAK,EAAG,GAAK,MAAM,SAAU,GAAI,CACxC,GAAI,MAAM,MAAQ,MAAM,IAAK,CAC3B,OAAO,MAGX,OAAO,MAGT,IAAI,YACJ,IAAI,YACJ,IAAI,cACJ,IAAI,kBAAoB,EACxB,IAAI,0BAA4B,EAChC,IAAI,kBAAoB,EACxB,IAAI,gBACJ,IAAI,kBACJ,IAAM,eAAiB,MACvB,IAAI,QAAU,GAEd,SAAS,SACP,GAAI,oBAAsB,0BAA2B,CACnD,OAEF,QAAQ,KAAK,CACX,MAAO,YACP,MAAO,0BACP,IAAK,oBAEP,0BAA4B,kBAG9B,SAAS,iBACP,SACA,IAAK,QAAQ,OAAQ,CACnB,OAEF,OAAO,mBACP,YAAY,OAAO,cAAe,mBAClC,YAAY,OAEZ,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,MAAQ,QAAQ,IADsB,IAEpC,MAAsB,MAAtB,MAAO,MAAe,MAAf,MAAO,IAAQ,MAAR,IACpB,GAAI,oBAAsB,MAAM,QAAU,MAAM,cAAe,CAC7D,QAAQ,KAAK,eACX,MAAM,QAAU,eAChB,MAAM,eAAiB,sBACzB,kBAAoB,MAAM,OAE5B,GAAI,kBAAoB,MAAM,MAAO,CACnC,gBAAkB,MAAM,MACxB,GAAI,kBAAoB,eAAgB,CACtC,GAAG,UAAU,GAAG,UAAW,GAAG,SACzB,CACL,GAAG,UAAU,GAAG,UAAW,GAAG,sBAGlC,SAAS,UAAU,MAAM,MACzB,GAAG,aAAa,YAAY,MAAO,IAAM,OAAS,EAAI,EAAG,GAAG,eAAgB,MAAQ,GAGtF,QAAQ,OAAS,EACjB,kBAAoB,EACpB,0BAA4B,EAG9B,SAAS,iBAAiB,MACxB,IAAI,MAAQ,kBAAoB,EAChC,mBAAqB,EAErB,IAAI,GAAK,KAAK,GACd,IAAI,GAAK,KAAK,GACd,IAAI,GAAK,KAAK,IACd,IAAI,GAAK,KAAK,IACd,IAAI,GAAK,KAAK,IACd,IAAI,GAAK,KAAK,IACd,IAAI,GAAK,KAAK,IACd,IAAI,GAAK,KAAK,IAEd,cAAc,OAAS,KAAK,GAC5B,cAAc,MAAQ,GAAK,KAAK,GAChC,cAAc,MAAQ,GAAK,GAC3B,cAAc,MAAQ,GAAK,GAC3B,cAAc,MAAQ,GAAK,GAC3B,cAAc,MAAQ,GAAK,GAC3B,cAAc,MAAQ,GAAK,GAC3B,cAAc,MAAQ,GAAK,GAE3B,cAAc,MAAQ,GAAK,KAAK,GAChC,cAAc,MAAQ,GAAK,KAAK,GAChC,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAE5B,cAAc,MAAQ,IAAM,KAAK,GACjC,cAAc,MAAQ,IAAM,KAAK,GACjC,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAE5B,cAAc,MAAQ,IAAM,KAAK,GACjC,cAAc,MAAQ,IAAM,KAAK,GACjC,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAC5B,cAAc,MAAQ,IAAM,GAGvB,SAAS,OACd,GAAI,OAAO,QAAQ,UAAW,CAC5B,aAAa,OAAS,EAExB,IAAK,aAAa,OAAQ,CACxB,OAGF,WAAW,GAAK,EAAI,OAAO,SAAS,GACpC,WAAW,IAAM,EAAI,OAAO,SAAS,GAErC,iBAAmB,EACnB,mBAAqB,EAErB,IAAK,YAAa,CAChB,YAAc,KAAK,OAAO,CACxB,CAAC,QAAQ,SAAS,SAAU,GAAG,MAAO,EAAG,OACzC,CAAC,QAAQ,SAAS,MAAO,GAAG,MAAO,EAAG,OACtC,CAAC,QAAQ,SAAS,SAAU,GAAG,MAAO,EAAG,QACxC,GAAI,KAAM,KAAK,OAClB,cAAgB,IAAI,aAAa,MACjC,kBAAoB,cAAc,OAAS,EAG7C,aAAa,KAAK,WAElB,YAAc,KACd,OAAO,MAAM,kBAAmB,GAChC,OAAO,MAAM,0BAA2B,GACxC,OAAO,MAAM,QAAQ,OAAQ,GAC7B,IAAK,IAAI,GAAK,EAAG,GAAK,aAAa,SAAU,GAAI,CAC/C,IAAI,KAAO,aAAa,IACxB,GAAI,KAAK,GAAI,CACX,iBACA,YAAc,KACd,KAAK,KACL,mBAAqB,EACrB,iBAAmB,EACnB,OAAO,MAAM,kBAAmB,GAChC,OAAO,MAAM,0BAA2B,GACxC,OAAO,MAAM,QAAQ,OAAQ,GAE7B,WAAW,GAAK,EAAI,OAAO,SAAS,GACpC,WAAW,IAAM,EAAI,OAAO,SAAS,OAChC,CACL,IAAK,aACH,aAAa,KAAK,KAAM,YAAY,OACpC,KAAK,SAAW,YAAY,QAC5B,KAAK,gBAAkB,YAAY,eACnC,KAAK,QAAU,YAAY,MAC3B,CACA,SACA,YAAc,KAEhB,GAAI,kBAAoB,EAAI,kBAAmB,CAC7C,iBAEA,GAAI,oBAAsB,eAAgB,CACxC,IAAI,WAAa,IAAK,kBAAoB,KAAO,GAAM,EAAG,gBAC1D,kBAAoB,WACpB,cAAgB,IAAI,aAAa,WAAa,IAIlD,iBAAiB,KAAK,MACtB,gBAAgB,KAAK,OAGzB,iBAEA,aAAa,OAAS,EACtB,GAAI,kBAAoB,YAAa,CAEnC,GAAG,UAAU,GAAG,UAAW,GAAG,sBAI3B,SAAS,WAAW,GAAI,IAC7B,IAAI,MAAQ,GACZ,IAAI,QAAU,EACd,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,SAAU,GAAI,CACrC,SAAW,GAAG,IAEhB,IAAI,QAAU,EACd,IAAK,IAAI,IAAK,EAAG,IAAK,GAAG,SAAU,IAAI,CACrC,SAAW,GAAG,KAEhB,IAAI,MAAQ,sBAAsB,SAClC,IAAI,MAAQ,sBAAsB,SAClC,IAAI,GAAK,GACT,IAAK,IAAI,KAAK,EAAG,KAAK,GAAG,SAAU,KAAI,CACrC,GAAG,KAAK,GAAG,MAAM,SAEnB,IAAI,GAAK,GACT,IAAK,IAAI,KAAK,EAAG,KAAK,GAAG,SAAU,KAAI,CACrC,GAAG,KAAK,GAAG,MAAM,SAEnB,IAAI,OAAS,GACb,IAAI,WAAa,MACjB,IAAI,EAAI,EACR,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,SAAU,GAAI,CACrC,IAAI,EAAI,EACR,IAAK,IAAI,KAAK,EAAG,KAAK,GAAG,SAAU,KAAI,CACrC,IAAI,EAAI,KAAK,EAAI,MAAO,EAAI,OACzB,EAAI,GAAG,OAAO,OAAQ,EAAI,GAAG,KAAO,OACvC,MAAM,KAAK,GACX,IAAI,IAAM,GAAG,MAAM,GAAG,IACtB,GAAI,MAAQ,EAAG,CACb,WAAa,KAEf,OAAO,KAAK,KACZ,GAAK,GAAG,MAEV,GAAK,GAAG,IAEV,MAAO,CACL,OAAQ,GACR,QAAS,GACT,GAAA,GACA,GAAA,GACA,MAAA,MACA,OAAQ,WAAa,OAAS,KAC9B,QAAA,QACA,QAAA,SAIJ,SAAS,OAAO,QAAQ,IAAA,MAAA,KACtB,GAAI,OAAO,KAAM,CACf,KAAK,KAAO,OAAO,SACd,CACL,IAAI,IAAM,OAAO,KAAO,OACxB,KAAK,KAAO,GACZ,GAAI,OAAO,IAAK,CACd,KAAK,KAAK,KAAK,OAAO,UACjB,GAAI,OAAO,OAAQ,CACxB,OAAO,OAAO,MACd,KAAK,KAAO,GACZ,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,SAAU,GAAI,CACzC,KAAK,KAAK,KAAK,SAAS,KAAK,CAC3B,IAAG,OAAS,OAAO,KAAhB,IAAwB,GAAK,IAChC,WAAY,OAAO,WACnB,WAAY,OAAO,WACnB,OAAQ,OAAO,OACf,OAAQ,OAAO,gBAGd,GAAI,OAAO,KAAM,CACtB,KAAK,KAAK,KAAK,SAAS,KAAK,CAC3B,IAAG,OAAS,OAAO,KAAO,IAC1B,WAAY,OAAO,WACnB,WAAY,OAAO,WACnB,OAAQ,OAAO,OACf,OAAQ,OAAO,cAEZ,CACL,OAAO,OAAO,KACd,KAAK,KAAK,KAAK,SAAS,KAAK,UAIjC,KAAK,OAAS,OAAO,QAAU,KAAK,EAAG,GACvC,KAAK,KAAO,OAAO,MAAQ,KAAK,EAAG,GACnC,KAAK,MAAQ,OAAO,OAAS,KAAK,EAAE,EAAE,EAAE,GACxC,KAAK,IAAM,OAAO,KAAO,KAAK,EAAG,EAAG,EAAG,GACvC,IAAK,OAAO,IAAK,CAEf,KAAK,KAAK,GAAG,OAAO,SAAC,KACnB,MAAK,IAAI,GAAK,IAAI,UAAY,IAAI,MAClC,MAAK,IAAI,GAAK,IAAI,WAAa,IAAI,SAIvC,GAAI,OAAO,GAAI,CACb,KAAK,OAAS,WAAW,OAAO,GAAI,OAAO,IAE7C,KAAK,OAAS,OAAO,QAAU,KAMjC,OAAO,UAAU,KAAO,SAAU,QAChC,GAAI,OAAO,IAAM,GAAK,OAAO,IAAM,EAAG,CACpC,OAEF,IAAI,GAAK,OAAO,GAAK,GAAK,KAAK,KAAK,GACpC,IAAI,GAAK,OAAO,GAAK,GAAK,KAAK,KAAK,GACpC,IAAI,WAAc,OAAO,QAAU,SAAY,KAAK,OAAO,MAAM,OAAO,OAAU,OAAO,KAAO,KAAK,IACrG,YAAY,KAAM,OAAO,EAAG,OAAO,EAAG,OAAO,GAAK,EAAE,GAAI,EAAG,EAAG,OAAO,IAAK,IAAK,OAAO,OAAS,KAAK,MAClG,OAAO,QAAU,KAAK,OAAQ,OAAO,cAAe,OAAO,OAAQ,OAAO,gBAG9E,OAAO,UAAU,aAAe,SAAU,QACxC,OAAO,OAAS,oBAChB,OAAO,cAAgB,CACrB,OAAQ,OAAO,QAEjB,KAAK,KAAK,SAGL,SAAS,OAAO,QACrB,OAAO,IAAI,OAAO,QAGb,SAAS,UACd,WAAW,IAAM,EACjB,WAAW,GAAK,EAChB,eAAiB,QAAQ,OAAO,0BAChC,eAAiB,QAAQ,OAAO,0BAChC,oBAAsB,QAAQ,OAAO;;;;mCC7rBvC,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,YACzB,IAAM,aAAe,QAAQ,+B,aACF,QAAQ,kBAA3B,e,SAAA,eACR,IAAM,cAAgB,QAAQ,sBAC9B,IAAM,IAAM,QAAQ,uB,cACC,QAAQ,0BAArB,S,UAAA,SACR,IAAM,KAAO,QAAQ,wBAKrB,SAAS,oBAAoB,KAAM,WAAY,eAC7C,aAAa,KAAK,MAClB,KAAK,KAAO,KACZ,KAAK,WAAa,WAClB,KAAK,cAAgB,EACrB,KAAK,iBAAmB,MACxB,KAAK,cAAgB,MACrB,KAAK,oBAAsB,EAC3B,KAAK,iBAAmB,EACxB,KAAK,SAAW,OAAO,OAAO,eAC9B,KAAK,KAAO,GAEd,KAAK,SAAS,oBAAqB,cAGnC,oBAAoB,UAAU,YAAc,SAAU,IACpD,OAAO,KAAK,eAAiB,KAAK,gBAClC,KAAK,GAAG,YAAa,IACrB,GAAI,KAAK,cAAe,CACtB,GAAG,KAAK,QAKZ,oBAAoB,UAAU,cAAgB,SAAU,IACtD,OAAO,KAAK,eAAiB,KAAK,gBAClC,GAAI,KAAK,cAAe,CACtB,GAAG,KAAK,UACH,CACL,KAAK,KAAK,YAAa,MAK3B,oBAAoB,UAAU,kBAAoB,SAAU,KAAM,WAAW,IAAA,MAAA,KAC3E,QAAQ,IAAR,oBAAgC,KAAK,WAArC,OAAsD,KAAK,UAAU,OACrE,KAAK,KAAO,OACV,KAAK,iBACP,KAAK,KAAK,eAAgB,KAAK,MAC/B,KAAK,cAAgB,KACrB,KAAK,KAAK,YAAa,KAAK,MAG5B,IAAI,aAAe,KAAK,WAAW,MAAM,KAAK,GAC9C,IAAI,SAAW,KAAK,KAAK,qBACzB,GAAI,WAAa,SAAS,cAAe,CACvC,SAAS,cAAgB,KACzB,KAAK,KAAK,WAAY,WAAY,SAAC,IAAK,MACtC,GAAI,IAAK,CACP,QAAQ,MAAR,8BAA4C,qBACrC,SAAS,kBACX,CACL,MAAK,KAAK,UAAU,kBAAkB,SAK5C,aAGF,oBAAoB,UAAU,uBAAyB,SAAU,KAAM,WAKrE,GAAI,KAAK,QAAU,UAAW,CAC5B,SAAS,OAAO,KAAK,KAAM,KAAK,SAC3B,CACL,SAAS,IAAI,KAAK,KAAM,KAAK,IAAK,KAAK,SAEvC,KAAK,iBACP,KAAK,KAAK,eAAgB,KAAK,KAAM,KAAK,IAAK,KAAK,OACpD,aAGF,oBAAoB,UAAU,eAAiB,SAAU,IAAK,eAC5D,OAAO,SAAS,IAAI,KAAK,KAAM,IAAK,gBAGtC,oBAAoB,UAAU,eAAiB,SAAU,IAAK,MAAO,aAAc,WACjF,IAAK,aAAc,CACjB,SAAS,IAAI,KAAK,KAAM,IAAK,OAE/B,IAAI,EAAI,OAAS,MAAM,GAAK,UAC5B,IAAI,IAAM,KAAK,KAAK,OAAO,IAAI,oBAC/B,IAAI,gBAAgB,KAAK,YACzB,IAAI,UAAU,GACd,IAAI,gBAAgB,KACpB,IAAI,UAAU,OACd,IAAI,KAAK,YAGX,oBAAoB,UAAU,iBAAmB,SAAU,IAAK,IAC9D,OAAO,KAAK,SAAS,OAAS,WACvB,KAAK,SAAS,MAGvB,oBAAoB,UAAU,MAAQ,SAAU,IAAK,IACnD,QAAQ,KAAK,SAAS,MAAQ,KAAK,SAAS,OAAS,IACrD,KAAK,SAAS,KAAO,IAGvB,oBAAoB,UAAU,IAAM,SAAU,KAC5C,IAAI,IAAM,KAAK,KAAK,OAAO,IAAI,eAC/B,IAAI,gBAAgB,KAAK,YACzB,IAAI,gBAAgB,KAEpB,OAAO,KAGT,oBAAoB,UAAU,KAAO,SAAU,IAAK,KAAM,UAAW,YACnE,QAAQ,kBAAoB,YAAc,YAC1C,QAAQ,YACR,KAAK,KAAK,OAAO,KAAK,cAAe,CACnC,WAAY,KAAK,WACjB,IAAA,IAAK,KAAA,MACJ,YAGL,oBAAoB,UAAU,SAAW,SAAU,IAAK,WACtD,KAAK,KAAK,WAAY,IAAK,YAG7B,SAAS,oBAAoB,OAAQ,WACnC,aAAa,KAAK,MAClB,KAAK,OAAS,OACd,KAAK,SAAW,GAChB,KAAK,UAAY,MACjB,KAAK,kBAAoB,KACzB,KAAK,mBAAqB,KAC1B,KAAK,cAAgB,MACrB,KAAK,WAAa,MAClB,KAAK,YAAc,MACnB,KAAK,iBAAmB,MACxB,KAAK,UAAY,UACjB,GAAI,UAAW,CACb,KAAK,qBAAuB,GAE9B,KAAK,cAAgB,GACrB,KAAK,iBAAmB,GAExB,KAAK,cAAgB,KACrB,KAAK,YAAc,EACnB,KAAK,mBAAqB,EAC1B,OAAO,MAAM,UAAW,KAAK,cAAc,KAAK,OAChD,OAAO,MAAM,cAAe,KAAK,qBAAqB,KAAK,OAC3D,OAAO,MAAM,cAAe,KAAK,iBAAiB,KAAK,OACvD,OAAO,MAAM,iBAAkB,KAAK,oBAAoB,KAAK,OAC7D,OAAO,MAAM,aAAc,KAAK,iBAAiB,KAAK,OACtD,GAAI,UAAW,CACb,OAAO,MAAM,gBAAiB,KAAK,kBAAkB,KAAK,OAG5D,KAAK,aAAa,KAAM,eAAgB,oBAAoB,UAAU,mBACtE,KAAK,aAAa,KAAM,qBAAsB,oBAAoB,UAAU,wBAE9E,KAAK,SAAS,oBAAqB,cAEnC,oBAAoB,UAAU,cAAgB,SAAU,IACtD,GAAI,KAAK,OAAO,UAAW,CACzB,YAAY,KAEd,KAAK,KAAK,UAAW,KAGvB,oBAAoB,UAAU,gBAAkB,SAAU,cACxD,IAAI,SAAW,KAAK,iBAAiB,cACrC,IAAK,SAAU,CACb,SAAW,KAAK,iBAAiB,cAAgB,OAAO,OAAO,KAAK,eAEtE,OAAO,UAGT,oBAAoB,UAAU,aAAe,SAAU,aAAc,IAAK,IACxE,IAAI,SAAW,aAAe,KAAK,gBAAgB,cAAgB,KAAK,cACxE,QAAQ,SAAS,MACjB,SAAS,KAAO,IAGlB,oBAAoB,UAAU,oBAAsB,SAAU,MAC5D,QAAQ,MAAR,IAAkB,KAAK,IAAvB,KAA+B,KAAK,KACpC,KAAK,KAAK,iBAAkB,OAG9B,oBAAoB,UAAU,iBAAmB,SAAU,MACzD,KAAK,WAAa,KAClB,KAAK,KAAK,aAAc,OAG1B,oBAAoB,UAAU,cAAgB,SAAU,MACtD,IAAI,UAAY,MAChB,GAAI,KAAK,cAAe,CACtB,KAAK,cAAgB,UAChB,CACL,UAAY,KAEd,KAAK,WAAa,QAAQ,KAAK,YAE/B,IAAK,KAAK,OAAO,WAAa,KAAK,OAAO,OAAO,aAAe,EAAG,CAEjE,OAGF,IAAI,KAAO,KACX,SAAS,QAAQ,IAAA,MAAA,SAAA,MAEN,YACP,IAAI,QAAU,KAAK,SAAS,YAC5B,GAAI,QAAQ,cAAe,CACzB,KAAK,OAAO,KAAK,YAAa,WAAY,SAAU,KAClD,GAAI,IAAK,CACP,QAAQ,iBAAmB,KAC3B,QAAQ,MAAR,wBAAsC,WAAtC,KAAqD,KACrD,QAAQ,KAAK,iBAAkB,UAPvC,IAAK,IAAI,cAAc,KAAK,SAAU,CAAA,MAA7B,YAYT,KAAK,KAAK,UAAW,WAGvB,GAAI,KAAK,WAAY,OAEd,GAAI,KAAK,cAAe,CAE7B,KAAK,cAAc,KAAK,kBAAmB,SAAU,KACnD,GAAI,KAAO,MAAQ,yBAA0B,OAEtC,GAAI,IAAK,CAGd,OAAO,MAAO,SACT,CACL,eAGC,CAEL,GAAI,OAAO,UAAW,CACpB,KAAK,cAAc,mBAGd,GAAI,cAAc,IAAI,SAAW,cAAc,IAAI,YAAa,CACrE,KAAK,MAAM,cAAc,IAAI,QAAS,cAAc,IAAI,YAAa,cAKvE,UAKJ,oBAAoB,UAAU,qBAAuB,SAAU,IAAK,WAClE,OAAO,SAAS,MAChB,IAAI,WAAa,IAAI,iBACrB,IAAI,IAAM,IAAI,iBACd,IAAI,UAAY,IAAI,WACpB,IAAI,KAAO,UAAY,IAAM,IAAI,WACjC,IAAK,OAAS,KAAK,EAAG,CACpB,IAAI,UACJ,IAAK,UAAW,CACd,UAAY,KAAK,UAAU,WACtB,UAAW,KAAK,WAAa,WAAY,CAC9C,UAAY,KAAK,eACZ,CACL,UAAY,QAEd,QAAQ,IAAR,mBAA+B,WAA/B,KAA8C,IAA9C,KAAsD,WAExD,IAAI,QAAU,KAAK,WAAW,YAC9B,IAAI,QAAU,QAAQ,SAAS,KAC/B,IAAK,QAAS,CACZ,QAAQ,MAAR,8BAA4C,WAA5C,KAA2D,IAA3D,KAAmE,KAAK,UAAU,OAClF,OAEF,QAAQ,KAAK,QAAS,KAAM,YAG9B,oBAAoB,UAAU,iBAAmB,SAAU,KACzD,KAAK,YAAc,IAAI,UACvB,GAAI,KAAK,YAAc,KAAK,oBAAsB,KAAK,YAAc,KAAK,mBAAqB,IAAK,MAQ7F,CACL,KAAK,mBAAqB,KAAK,cAInC,oBAAoB,UAAU,cAAgB,WAE5C,OAAO,KAAK,oBAGd,oBAAoB,UAAU,KAAO,SAAU,IAC7C,KAAK,oBAAsB,GAC3B,IAAK,IAAI,cAAc,KAAK,SAAU,CACpC,IAAI,QAAU,KAAK,SAAS,YAC5B,GAAI,QAAQ,oBAAqB,CAC/B,GAAI,IAAM,QAAQ,oBAAqB,CACrC,QAAQ,oBAAsB,EAC9B,KAAK,YAAY,gBACZ,CACL,QAAQ,qBAAuB,OAMvC,oBAAoB,UAAU,UAAY,SAAU,YAClD,KAAK,WAAW,WAAY,OAG9B,oBAAoB,UAAU,WAAa,SAAU,WAAY,cAC/D,IAAI,QAAU,KAAK,SAAS,YAC5B,IAAK,QAAS,CACZ,IAAI,aAAe,WAAW,MAAM,KAAK,GACzC,IAAI,SAAW,KAAK,gBAAgB,cACpC,QAAU,KAAK,SAAS,YAAc,IAAI,oBAAoB,KAAM,WAAY,UAElF,GAAI,aAAc,CAChB,QAAQ,gBACR,GAAI,KAAK,OAAO,WAAa,QAAQ,gBAAkB,EAAG,CACxD,QAAQ,iBAAmB,MAC3B,KAAK,OAAO,KAAK,YAAa,WAAY,SAAU,KAClD,GAAI,IAAK,CACP,QAAQ,iBAAmB,KAC3B,QAAQ,MAAR,wBAAsC,WAAtC,KAAqD,KACrD,QAAQ,KAAK,iBAAkB,SAKvC,OAAO,SAGT,oBAAoB,UAAU,UAAY,WACxC,OAAO,KAAK,YAGd,oBAAoB,UAAU,iBAAmB,WAC/C,IAAI,QAAU,KAAK,WACnB,IAAK,QAAS,CACZ,OAAO,KAET,IAAI,QAAU,KAAK,WAAL,QAAwB,SACtC,IAAK,KAAK,YAAa,CACrB,QAAQ,eAAiB,KAE3B,OAAO,SAGT,oBAAoB,UAAU,YAAc,SAAU,YACpD,IAAI,QAAU,KAAK,SAAS,YAC5B,OAAO,SACP,OAAO,QAAQ,eACf,QAAQ,gBACR,IAAK,QAAQ,cAAe,CAC1B,QAAQ,cAAgB,MAE1B,GAAI,KAAK,OAAO,YAAc,QAAQ,gBAAkB,QAAQ,iBAAkB,CAChF,KAAK,OAAO,KAAK,cAAe,cAMpC,oBAAoB,UAAU,oBAAsB,SAAU,WAAY,SACxE,QAAU,SAAW,IACrB,IAAI,QAAU,KAAK,WAAW,YAC9B,IAAK,QAAQ,oBAAqB,CAChC,KAAK,UAAU,YAEjB,QAAQ,oBAAsB,QAC9B,OAAO,SAGT,oBAAoB,UAAU,QAAU,SAAU,IAChD,KAAK,GAAG,QAAS,IACjB,GAAI,KAAK,UAAW,CAClB,YAAY,OAIhB,oBAAoB,UAAU,SAAW,WACvC,OAAO,KAAK,UAAY,KAAK,oBAAsB,eAAiB,OAGtE,oBAAoB,UAAU,oBAAsB,SAAU,UAAW,IAAK,MAAM,IAAA,OAAA,KAClF,KAAK,WAAa,MAClB,IAAK,IAAK,CACR,KAAK,mBAAqB,KAAK,QAC/B,KAAK,uBAAyB,KAAK,aACnC,KAAK,UAAY,KACjB,KAAK,cAAgB,KACrB,IAAI,aAAe,KAAK,mBACxB,aAAa,cAAc,WACzB,IAAK,OAAK,sBAAwB,aAAa,eAAe,+BAAgC,CAE5F,OAAK,qBAAuB,KAC5B,OAAK,UAAU,oBAGnB,KAAK,KAAK,aACL,CACL,KAAK,KAAK,aAAc,KAE1B,UAAU,MAGZ,oBAAoB,UAAU,cAAgB,SAAU,kBAAmB,WAAW,IAAA,OAAA,KACpF,GAAI,KAAK,WAAY,CACnB,YAAY,UAAU,6BAExB,KAAK,WAAa,KAClB,KAAK,UAAY,MAEjB,GAAI,kBAAkB,GAAI,CACxB,eAAe,SAAC,IAAK,QACnB,GAAI,IAAK,CACP,YAAY,OAAK,oBAAoB,UAAW,KAElD,OAAK,OAAO,KAAK,iBAAkB,OAAQ,OAAK,oBAAoB,KAAK,OAAM,kBAE5E,CACL,KAAK,OAAO,KAAK,QAAS,CACxB,QAAS,kBAAkB,QAC3B,SAAU,IAAI,KAAK,OAAO,OAAS,kBAAkB,WACpD,KAAK,oBAAoB,KAAK,KAAM,cAI3C,oBAAoB,UAAU,mBAAqB,SAAU,OAAQ,WACnE,GAAI,KAAK,WAAY,CACnB,OAAO,UAAU,6BAEnB,KAAK,WAAa,KAClB,KAAK,UAAY,MACjB,OAAO,KAAK,OAAO,KAAK,cAAe,OAAQ,KAAK,oBAAoB,KAAK,KAAM,aAGrF,SAAS,eAAe,QAAS,UAC/B,GAAI,SAAS,MAAM,MAAM,KAAO,YAAa,CAC3C,SAAW,SAAS,MAAM,MAAM,OAC3B,CACL,SAAW,IAAI,IAAI,QAAQ,eAAiB,UAE9C,OAAO,SAIT,oBAAoB,UAAU,MAAQ,SAAU,SAAU,SAAU,WAAW,IAAA,OAAA,KAC7E,UAAY,UAAY,IAAI,OAC5B,IAAK,SAAU,CACb,OAAO,UAAU,oBAEnB,UAAY,UAAY,IAAI,OAC5B,IAAK,SAAU,CACb,OAAO,UAAU,oBAEnB,IAAI,gBAAkB,eAAe,SAAU,UAC/C,GAAI,kBAAoB,SAAU,CAChC,cAAc,IAAI,WAAlB,cAA4C,iBAE9C,KAAK,kBAAoB,CAAE,QAAS,SAAU,SAAU,iBACxD,IAAK,KAAK,iBAAkB,CAE1B,OAAO,KAAK,cAAc,KAAK,kBAAmB,WAEpD,OAAO,KAAK,cAAc,KAAK,kBAAmB,SAAC,IAAK,MACtD,IAAK,KAAO,MAAQ,qBAAsB,CACxC,YAAY,UAAU,IAAK,MAG7B,OAAK,WAAW,CACd,QAAS,SACT,SAAA,SACA,iBAAkB,SAClB,MAAO,yBACN,cAIP,oBAAoB,UAAU,cAAgB,SAAU,WACtD,KAAK,kBAAoB,CAAE,GAAI,MAC/B,OAAO,KAAK,cAAc,KAAK,kBAAmB,YAGpD,oBAAoB,UAAU,WAAa,SAAU,OAAQ,WAC3D,OAAO,SAAW,OAAO,SAAW,IAAI,OACxC,IAAK,OAAO,QAAS,CACnB,OAAO,UAAU,oBAEnB,OAAO,UAAY,OAAO,UAAY,IAAI,OAC1C,IAAK,OAAO,SAAU,CACpB,OAAO,UAAU,oBAEnB,OAAO,kBAAoB,OAAO,kBAAoB,IAAI,OAC1D,IAAK,KAAK,mBAAqB,OAAO,iBAAkB,CACtD,OAAO,UAAU,iCAEnB,OAAO,OAAS,OAAO,OAAS,IAAI,OACpC,IAAK,KAAK,mBAAqB,OAAO,MAAO,CAC3C,OAAO,UAAU,iBAEnB,OAAO,cAAgB,OAAO,cAAgB,IAAI,OAClD,IAAI,gBAAkB,eAAe,OAAO,QAAS,OAAO,UAC5D,GAAI,kBAAoB,OAAO,SAAU,CACvC,cAAc,IAAI,WAAlB,cAA4C,iBAE9C,IAAI,wBAA0B,eAAe,OAAO,QAAS,OAAO,kBACpE,GAAI,kBAAoB,wBAAyB,CAC/C,OAAO,UAAU,0BAEnB,KAAK,kBAAoB,CAAE,QAAS,OAAO,QAAS,SAAU,iBAC9D,OAAO,KAAK,mBAAmB,CAC7B,aAAc,OAAO,cAAgB,OAAO,QAC5C,QAAS,OAAO,QAChB,MAAO,OAAO,MACd,SAAU,iBACT,YAIL,oBAAoB,UAAU,OAAS,WAAY,IAAA,OAAA,KACjD,OAAO,KAAK,WACZ,QAAQ,KAAK,YACb,QAAQ,KAAK,aAGb,GAAI,KAAK,qBAAsB,CAC7B,KAAK,qBAAuB,MAC5B,KAAK,YAAY,iBAEnB,IAAK,IAAI,cAAc,KAAK,SAAU,CACpC,IAAI,QAAU,KAAK,SAAS,YAC5B,GAAI,QAAQ,oBAAqB,CAC/B,QAAQ,oBAAsB,EAC9B,KAAK,YAAY,YAEnB,QAAQ,QAAQ,cAAV,qCAA8D,YACpE,GAAI,QAAQ,eAAgB,CAC1B,QAAQ,eAAiB,OAI7B,KAAK,YAAc,KACnB,KAAK,OAAO,KAAK,SAAU,KAAM,SAAC,KAChC,OAAK,YAAc,MACnB,IAAK,IAAK,CACR,cAAc,IAAI,WAAY,WAC9B,OAAK,UAAY,MACjB,OAAK,mBAAqB,KAC1B,OAAK,cAAgB,MACrB,OAAK,kBAAoB,KACzB,OAAK,KAAK,cAKhB,oBAAoB,UAAU,UAAY,SAAU,KAAM,MACxD,KAAK,OAAO,KAAK,MAAO,CAAE,KAAA,KAAM,KAAA,QAGlC,oBAAoB,UAAU,aAAe,SAAU,QAAS,WAAW,IAAA,OAAA,KACzE,KAAK,cAAc,WACjB,IAAI,IAAM,OAAK,OAAO,IAAI,kBAC1B,IAAI,YAAY,SAChB,IAAI,KAAK,cAIb,oBAAoB,UAAU,kBAAoB,SAAU,IAAK,WAAW,IAAA,OAAA,KAC1E,IAAI,IAAM,IAAI,aACd,IAAI,OAAS,IAAI,WACjB,KAAK,UAAU,OAAO,CAAE,OAAA,QAAU,IAAK,SAAC,IAAK,MAC3C,GAAI,KAAO,OAAK,UAAU,cAAe,CAEvC,OAAO,UAAU,KAAM,CAAE,MAAO,EAAG,IAAA,MAErC,OAAO,UAAU,IAAK,CAAE,MAAO,EAAG,KAAA,UAI/B,SAAS,OAAO,OAAQ,WAC7B,OAAO,IAAI,oBAAoB,OAAQ;;;;6kBCzlBzC,IAAM,OAAS,QAAQ,UACvB,IAAM,OAAS,QAAQ,e,aACC,QAAQ,kBAAxB,Y,SAAA,YACR,IAAM,cAAgB,QAAQ,sBAC9B,IAAM,SAAW,QAAQ,iBACzB,IAAM,QAAU,QAAQ,gB,cACwC,QAAQ,wBAAhE,S,UAAA,SAAU,a,UAAA,aAAc,sB,UAAA,sBAAuB,K,UAAA,KAEvD,IAAM,gBAAkB,EAAI,GAAK,IAE1B,IAAI,SAAW,G,0BACf,IAAI,WAAa,E,8BACxB,IAAI,MAAQ,EACZ,IAAI,UAAY,EAChB,IAAI,WAEJ,IAAI,mBACJ,IAAI,mBAEJ,IAAM,WAAa,CACjB,CAAE,OAAQ,8BAA+B,IAAK,CAAC,EAAE,IACjD,CAAE,OAAQ,8BAA+B,IAAK,CAAC,EAAE,IACjD,CAAE,OAAQ,8BAA+B,IAAK,CAAC,EAAE,IACjD,CAAE,OAAQ,8BAA+B,IAAK,CAAC,EAAE,IACjD,CAAE,OAAQ,8BAA+B,IAAK,CAAC,EAAE,IACjD,CAAE,OAAQ,8BAA+B,IAAK,CAAC,EAAE,KAG5C,IAAM,OAAS,CACpB,GAAI,CAAE,MAAO,GACb,KAAM,CAAE,MAAO,GACf,MAAO,CAAE,MAAO,I,sBAGX,SAAS,eAAe,IAAK,KAClC,mBAAqB,IACrB,mBAAqB,IAGvB,IAAI,WAAa,KACjB,IAAI,UAAY,GAEhB,IAAI,eACJ,IAAI,aAEJ,IAAI,gBAEJ,SAAS,QAAQ,MACf,GAAI,OAAS,WAAY,CACvB,GAAG,cAAc,GAAG,SAAW,MAC/B,WAAa,MAIjB,SAAS,WAAW,KAAM,OAAQ,QAChC,GAAI,UAAU,QAAU,OAAQ,CAC9B,QAAQ,MACR,GAAG,YAAY,OAAQ,QACvB,UAAU,MAAQ,QAItB,SAAS,UAAU,QACjB,IAAK,IAAI,KAAO,EAAG,KAAO,UAAU,SAAU,KAAM,CAClD,QAAQ,MACR,GAAG,YAAY,OAAQ,SAAW,GAAG,WAAa,eAAiB,MACnE,UAAU,MAAQ,MAIf,SAAS,KAAK,KAAM,KACzB,IAAI,SAAW,gBAEf,WAAW,KAAM,IAAI,OAAQ,IAAI,YAI5B,SAAS,UAAU,MACxB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,IAAM,KAAK,IACf,IAAI,SAAW,gBACf,IAAI,OAAS,IAAI,WACjB,GAAI,UAAU,MAAQ,OAAQ,CAC5B,GAAI,KAAO,WAAY,CACrB,GAAG,cAAc,GAAG,SAAW,IAC/B,WAAa,GAEf,GAAG,YAAY,IAAI,OAAQ,QAC3B,UAAU,IAAM,SAKf,SAAS,aAAa,MAC3B,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,IAAM,KAAK,IACf,IAAI,OAAS,IAAI,WACjB,GAAI,UAAU,MAAQ,OAAQ,CAC5B,OAAO,OAGX,OAAO,KAGF,SAAS,qBACd,YAAc,EACd,GAAI,OAAO,OAAQ,CACjB,UAAU,GAAG,kBAEf,UAAU,GAAG,YACb,QAAQ,GACR,GAAG,WAIL,IAAI,qBAAuB,GAE3B,SAAS,QAAQ,QACf,KAAK,KAAO,OAAO,KACnB,KAAK,OAAS,MACd,KAAK,UAAY,MACjB,KAAK,OAAS,OAAO,QAAU,GAAG,WAClC,KAAK,SAAW,KAAK,SAAW,GAAG,iBACnC,KAAK,QAAU,KAAK,SAAW,GAAG,iBAClC,KAAK,OAAS,GAAG,gBACjB,KAAK,WAAa,eAClB,KAAK,gBAAgB,QACrB,KAAK,UAAY,KAAK,WAAa,EACnC,KAAK,MAAQ,KAAK,OAAS,EAC3B,KAAK,OAAS,OAAO,QAAU,MAC/B,KAAK,QAAU,GACf,KAAK,QAAU,EACf,KAAK,WAAa,OAAO,YAAc,MACvC,KAAK,SAAW,gBAChB,KAAK,YAAc,OAAO,aAAe,MACzC,GAAI,KAAK,YAAa,CACpB,qBAAqB,KAAK,MAG5B,KAAK,OAAS,OAAO,QAAU,OAAO,MAEtC,GAAI,OAAO,KAAM,CACf,IAAI,IAAM,KAAK,WAAW,OAAO,MAAO,OAAO,OAAQ,OAAO,MAC9D,GAAI,IAAK,CACP,OAAO,MAAD,iBAAyB,OAAO,KAAhC,aAAiD,IAAjD,UAEH,CAEL,UAAU,KAAK,QACf,GAAI,OAAO,IAAK,CACd,KAAK,IAAM,OAAO,IAClB,KAAK,QAAQ,OAAO,OAK1B,QAAQ,UAAU,aAAe,WAC/B,IAAI,SAAW,KAAK,MAAQ,KAAK,OAAS,KAAK,OAAO,MACtD,GAAI,KAAK,QAAS,CAChB,UAAY,IAEd,IAAI,KAAO,SAAW,KAAK,QAC3B,OAAO,WAAW,QAAQ,KAAO,KACjC,KAAK,QAAU,MAGjB,SAAS,WAAW,KAClB,IAAI,OAAS,IAAI,OACjB,QAAQ,GACR,UAAU,GAAK,KACf,WAAW,EAAG,OAAQ,IAAI,QAG5B,QAAQ,UAAU,gBAAkB,SAAU,QAC5C,IAAI,OAAS,KAAK,OAClB,WAAW,MAEX,KAAK,WAAa,OAAO,YAAc,mBACvC,KAAK,WAAa,OAAO,YAAc,mBACvC,GAAG,cAAc,OAAQ,GAAG,mBAAoB,KAAK,YACrD,GAAG,cAAc,OAAQ,GAAG,mBAAoB,KAAK,YACrD,KAAK,OAAS,OAAO,QAAU,GAAG,OAClC,KAAK,OAAS,OAAO,QAAU,GAAG,OAClC,GAAG,cAAc,OAAQ,GAAG,eAAgB,KAAK,QACjD,GAAG,cAAc,OAAQ,GAAG,eAAgB,KAAK,QAEjD,KAAK,QAAU,KAAK,YAAc,MAAU,KAAK,YAAc,KAE/D,GAAI,UAAW,CACb,GAAI,KAAK,SAAW,OAAO,aAAe,GAAG,QAAS,CACpD,GAAG,cAAc,GAAG,WAAY,WAAY,WACvC,CACL,GAAG,cAAc,GAAG,WAAY,WAAY,MAKlD,QAAQ,UAAU,WAAa,SAAS,WAAW,EAAG,EAAG,MACvD,QAAQ,KAAK,WACb,WAAW,MACX,KAAK,SAAW,gBAChB,KAAK,UAAY,EACjB,KAAK,WAAa,EAClB,KAAK,MAAQ,EACb,KAAK,OAAS,EAEd,IAAK,IAAI,GAAK,EAAG,GAAK,IAAM,GAAG,aAAc,GAA7C,EAEA,IAAI,MAAQ,aAAa,KAAO,aAAa,MAAQ,KAAK,WAAa,KAAK,YACvE,KAAK,SAAW,KAAK,SAAW,GAAG,eAAiB,KAAK,SAAW,GAAG,eAC5E,GAAI,IAAK,CACP,KAAK,MAAQ,sBAAsB,GACnC,KAAK,OAAS,sBAAsB,GACpC,GAAG,WAAW,KAAK,OAAQ,EAAG,KAAK,OAAO,cAAe,KAAK,MAAO,KAAK,OAAQ,EAChF,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,MAEpD,GAAI,gBAAgB,WAAY,CAC9B,OAAO,KAAK,QAAU,EAAI,EAAI,KAAK,OAAO,OAC1C,QAAQ,KAAK,SACb,GAAI,KAAK,SAAU,CACjB,IAAI,WAAa,EAAI,EACrB,GAAG,WAAW,KAAK,OAAQ,EAAG,KAAK,OAAO,cAAe,EAAG,EAC1D,WAAY,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,WAC5D,GAAI,IAAK,CAGd,GAAG,cAAc,KAAK,OAAQ,EAAG,EAAG,EAAG,EAAG,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,UACxF,CACL,GAAG,WAAW,KAAK,OAAQ,EAAG,KAAK,OAAO,cAAe,EAAG,EAAG,EAC7D,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,WAE/C,CACL,OAAO,KAAK,OACZ,GAAI,KAAK,QAAS,CAChB,OAAO,MAAM,EAAI,EAAG,EAAI,GACxB,IAAI,SAAW,EAAI,EACnB,IAAI,OAAS,SAAS,cAAc,UACpC,OAAO,MAAQ,SACf,OAAO,OAAS,SAChB,IAAI,IAAM,OAAO,WAAW,MAC5B,IAAK,IAAI,IAAK,EAAG,IAAK,WAAW,SAAU,IAAI,CAC7C,IAAI,KAAO,WAAW,KACtB,IAAI,UAAU,KAAM,KAAK,IAAI,GAAK,SAAU,KAAK,IAAI,GAAK,SAAU,SAAU,SAC5E,EAAG,EAAG,SAAU,UAClB,GAAG,WAAW,GAAG,KAAK,QAAS,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,cAAe,KAAK,OAAO,QAClG,cAEC,GAAI,KAAK,SAAU,CACxB,IAAI,YAAa,EAAI,EACrB,GAAG,WAAW,KAAK,OAAQ,EAAG,KAAK,OAAO,cAAe,EAAG,EAC1D,YAAY,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,MAEjE,GAAI,GAAG,WAAY,CAKjB,IAAI,QAAS,SAAS,cAAc,UACpC,QAAO,MAAQ,EACf,QAAO,OAAS,EAChB,IAAI,KAAM,QAAO,WAAW,MAC5B,KAAI,UAAU,KAAM,EAAG,GACvB,GAAG,WAAW,KAAK,OAAQ,EAAG,KAAK,OAAO,cAAe,EAAG,EAC1D,YAAY,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,eAG9D,GAAI,IAAK,CAGd,GAAI,IAAM,KAAK,MAAO,CACpB,GAAG,cAAc,KAAK,OAAQ,EAAG,EAAG,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,MAEzF,GAAI,IAAM,KAAK,OAAQ,CACrB,GAAG,cAAc,KAAK,OAAQ,EAAG,EAAG,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,MAEzF,GAAG,cAAc,KAAK,OAAQ,EAAG,EAAG,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,UAClF,CACL,GAAG,WAAW,KAAK,OAAQ,EAAG,KAAK,OAAO,cAAe,KAAK,OAAO,cAAe,KAAK,OAAO,QAAS,OAG7G,IAAI,OAAS,GAAG,WAChB,GAAI,OAAQ,CACV,OAAO,OAET,GAAI,KAAK,QAAS,CAChB,GAAG,eAAe,KAAK,QACvB,OAAS,GAAG,WACZ,GAAI,OAAQ,CACV,OAAO,QAGX,KAAK,eACL,KAAK,WAAa,KAAK,OACvB,KAAK,OAAS,KAEd,SAAS,KAAK,QAAS,KAAK,QAAU,KAAM,MAE5C,OAAO,GAGT,QAAQ,UAAU,OAAS,SAAU,IACnC,GAAI,KAAK,OAAQ,CACf,GAAG,UACE,CACL,KAAK,QAAQ,KAAK,MAItB,IAAI,iBAAmB,GAChB,SAAS,sBAAsB,KACpC,IAAK,IAAI,MAAM,YAAa,CAC1B,IAAA,IAAS,kBAAkB,QAAQ,cAAe,IAEpD,OAAO,IAEF,SAAS,0BAA0B,UACxC,iBAAmB,SAGrB,IAAM,gBAAkB,EACxB,QAAQ,UAAU,QAAU,SAAS,QAAQ,IAAK,QAChD,IAAI,IAAM,KACV,QAAQ,IAAI,WAKZ,IAAK,IAAI,MAAM,YAAa,CAC1B,IAAA,GAAS,QAAQ,aAAe,IAGlC,IAAI,SAAW,IAAI,UAAY,IAAI,UAAY,GAAK,EACpD,SAAS,QAAQ,MACf,IAAI,SAAW,MACf,SAAS,KAAK,KACZ,IAAK,SAAU,CACb,SAAW,KACX,YAAY,KAAK,MAIrB,IAAI,IAAM,IAAI,MACd,IAAI,OAAS,WACX,KAAK,MAEP,SAAS,OACP,KAAK,MAEP,IAAI,QAAU,KACd,IAAI,YAAc,YAClB,IAAI,IAAM,IAGZ,QAAA,WAAE,WAAA,WAAF,EACA,IAAI,QAAU,EACd,SAAS,WAAW,KAClB,GAAI,IAAI,WAAa,UAAY,IAAI,UAAW,CAE9C,QAAA,WAAE,WAAA,WAAF,EACA,OAEF,IAAI,YAAc,GAClB,GAAI,IAAK,CACP,IAAI,OAAS,OAAO,MACpB,GAAI,OAAQ,CACV,IAAM,OAAO,IAAK,KAEpB,IAAI,KAAM,IAAI,WAAW,IAAI,MAAO,IAAI,OAAQ,KAChD,GAAI,KAAK,CACP,YAAA,aAA2B,KAA3B,IAIA,GAAI,IAAI,WAAa,OAAO,QAAS,QAAU,OAAO,QAAS,SAAW,OAAO,SAAW,OAAO,MAAO,CACxG,cAAc,QAAQ,iBAAkB,CACtC,GAAI,UAAU,UACd,GAAI,KAAK,QAEX,QAAQ,MAAR,gCAA8C,IAA9C,IAAqD,YAArD,gCACA,OAAO,aACP,OAEF,IAAK,IAAI,WAAY,CACnB,QAAU,qBAEP,CACL,QAAA,WAAE,WAAA,WAAF,EACA,QAGJ,IAAI,IAAA,0BAAgC,IAAhC,IAAuC,YAC3C,UACA,GAAI,QAAU,gBAAiB,CAC7B,QAAA,WAAE,WAAA,WAAF,EACA,IAAI,WAAa,aACjB,IAAI,UAAY,KAChB,QAAQ,MAAR,GAAiB,KAAM,YAAc,GAAK,qBAC1C,GAAI,IAAI,WAAY,CAClB,IAAI,IAAM,kBACL,CACL,OAAO,MAAO,KAEhB,OAEF,QAAQ,MAAS,IAAjB,kBACA,WAAW,QAAQ,KAAK,KAAM,YAAa,IAAM,QAAU,SAE7D,QAAQ,aAGV,QAAQ,UAAU,SAAW,SAAU,EAAG,EAAG,YAC3C,IAAM,WAAa,SAAS,SAAW,GAAG,KAAO,GAAG,IACpD,WAAW,MACX,GAAG,WAAW,KAAK,OAAQ,EAAG,WAAY,EAAG,EAAG,EAAG,WAAY,GAAG,cAAe,MAEjF,KAAK,IAAM,GAAG,oBACd,GAAG,gBAAgB,GAAG,YAAa,KAAK,KACxC,GAAG,qBAAqB,GAAG,YAAa,GAAG,kBAAmB,GAAG,WAAY,KAAK,OAAQ,GAE1F,KAAK,SAAW,gBAChB,KAAK,UAAY,KAAK,MAAQ,EAC9B,KAAK,WAAa,KAAK,OAAS,EAChC,KAAK,gBAGP,QAAQ,UAAU,aAAe,SAAU,EAAG,GAC5C,QAAQ,KAAK,SACb,KAAK,QAAU,CAAE,EAAA,EAAG,EAAA,GACpB,GAAI,KAAK,IAAK,CACZ,GAAG,gBAAgB,GAAG,YAAa,KAAK,OAI5C,QAAQ,UAAU,WAAa,SAAU,cAAe,MACtD,OAAO,KAAK,SACZ,IAAI,QAAU,KAAK,QACnB,KAAK,QAAU,KACf,GAAI,KAAK,IAAK,CACZ,GAAG,gBAAgB,GAAG,YAAa,UAC9B,CACL,KAAK,aAAa,EAAG,EAAG,QAAQ,EAAG,QAAQ,GAE7C,IAAI,OAAS,cAAgB,GAAG,OAAS,GAAG,QAC5C,KAAK,gBAAgB,CACnB,WAAY,OACZ,WAAY,OACZ,OAAQ,KAAO,GAAG,OAAS,GAAG,cAC9B,OAAQ,KAAO,GAAG,OAAS,GAAG,iBAIlC,QAAQ,UAAU,aAAe,SAAU,EAAG,EAAG,EAAG,GAClD,QAAQ,KAAK,WACb,OAAO,GAAK,GACZ,WAAW,EAAG,KAAK,OAAQ,KAAK,QAChC,GAAG,eAAe,KAAK,OAAQ,EAAG,GAAG,IAAK,EAAG,EAAG,EAAG,EAAG,GACtD,KAAK,SAAW,gBAChB,KAAK,UAAY,KAAK,MAAQ,EAC9B,KAAK,WAAa,KAAK,OAAS,EAChC,KAAK,gBAGP,QAAQ,UAAU,QAAU,WAC1B,GAAI,KAAK,UAAW,CAClB,OAEF,OAAO,KAAK,MACZ,IAAI,YAAc,KAAK,YACvB,GAAI,YAAa,CACf,KAAK,YAAc,KACnB,IAAI,IAAM,qBAAqB,QAAQ,MACvC,OAAO,OAAS,GAChB,KAAK,qBAAsB,YAEtB,SAAS,KAAK,MACrB,UAAU,KAAK,QACf,GAAG,cAAc,KAAK,QACtB,GAAI,KAAK,IAAK,CACZ,GAAG,gBAAgB,GAAG,YAAa,MACnC,GAAG,kBAAkB,KAAK,KAE5B,KAAK,MAAQ,KAAK,OAAS,EAC3B,KAAK,eACL,KAAK,UAAY,KACjB,UAAW,cAAgB,WAAY,CACrC,gBAIJ,SAAS,OAAO,QACd,OAAO,OAAO,MACd,IAAI,QAAU,IAAI,QAAQ,QAC1B,SAAS,OAAO,MAAQ,QACxB,OAAO,QAGT,IAAI,kBAAoB,EACjB,SAAS,iBAAiB,YAAa,aAC5C,IAAI,KAAO,aAAA,2BAAyC,kBACpD,QAAQ,SAAS,OACjB,IAAI,QAAU,OAAO,CACnB,WAAY,GAAG,QACf,WAAY,GAAG,QACf,OAAQ,GAAG,cACX,OAAQ,GAAG,cACX,OAAQ,OAAO,KACf,KAAA,KACA,YAAA,cAEF,QAAQ,OAAS,KACjB,QAAQ,WAAa,QAAQ,OAC7B,OAAO,QAGF,SAAS,KAAK,QACnB,IAAI,IAAM,OAAO,KAAO,OAAO,MAAQ,OAAO,IAC9C,OAAO,KACP,IAAI,IAAM,SAAS,KACnB,IAAK,IAAK,CACR,IAAM,OAAO,QAEf,IAAI,SAAW,gBACf,OAAO,IAGF,SAAS,MAAM,KACpB,IAAI,IAAM,IAAI,YAAY,KAC1B,GAAI,OAAS,EAAG,CACd,IAAM,IAAI,MAAM,IAAI,GAEtB,IAAM,IAAI,QAAQ,KAClB,GAAI,OAAS,EAAG,CACd,IAAM,IAAI,MAAM,EAAG,KAErB,OAAO,IAAI,cAEN,SAAS,sBAAsB,YACpC,WAAa,MAAM,YACnB,IAAK,IAAI,OAAO,SAAU,CACxB,IAAI,YAAc,MAAM,KACxB,GAAI,cAAgB,WAAY,CAC9B,OAAO,SAAS,MAGpB,OAAO,KAGT,IAAI,cAAgB,EACb,SAAS,eACd,gBAAkB,OAAO,gBACzB,IAAI,IAAM,qBAAqB,OAC/B,IAAK,IAAK,CACR,OAEF,GAAI,eAAiB,IAAK,CACxB,cAAgB,EAElB,IAAI,IAAM,qBAAqB,eAC/B,GAAI,IAAI,SAAW,gBAAkB,gBAAiB,CACpD,QAAQ,IAAR,qBAAiC,IAAI,MACrC,IAAI,cACC,GACH,eAIC,SAAS,wBACd,MAAO,qBAAqB,OAAQ,CAClC,qBAAqB,GAAG,WAI5B,SAAS,cAAc,UACrB,IAAI,IAAM,SAAS,UACnB,GAAI,KAAO,IAAI,IAAK,CAClB,IAAI,WAAa,KACjB,IAAI,QAAW,IAAI,IAAnB,OAA6B,KAAK,OAClC,OAAO,KAET,OAAO,MAGF,SAAS,UAEd,mBAAqB,GAAG,qBACxB,mBAAqB,GAAG,OAExB,OAAO,GAAG,cAAgB,GAAG,UAC7B,OAAO,GAAG,QAAU,GAAG,cACvB,OAAO,KAAK,cAAgB,GAAG,IAC/B,OAAO,KAAK,QAAU,GAAG,cACzB,OAAO,MAAM,cAAgB,GAAG,KAChC,OAAO,MAAM,QAAU,GAAG,cAE1B,IAAI,gBACF,GAAG,aAAa,mCAChB,GAAG,aAAa,uCAChB,GAAG,aAAa,yCAElB,GAAI,gBAAiB,CACnB,WAAa,gBAAgB,2BAC7B,MAAQ,UAAY,GAAG,aAAa,gBAAgB,gCAGtD,aAAe,KAAK,CAClB,KAAM,QACN,MAAO,EAAG,OAAQ,EAClB,OAAQ,KACR,OAAQ,OAAO,MACf,WAAY,GAAG,QACf,KAAM,IAAI,WAAW,CACnB,IAAK,GAAI,IAAK,IACd,IAAK,EAAG,EAAG,IACX,IAAK,IAAK,IAAK,IACf,IAAK,GAAI,IAAK,QAEf,OAEH,eAAiB,KAAK,CACpB,KAAM,UACN,MAAO,EAAG,OAAQ,EAClB,OAAQ,KACR,OAAQ,OAAO,MACf,KAAM,IAAI,WAAW,CACnB,IAAK,IAAK,IAAK,IACf,EAAG,EAAG,EAAG,IACT,GAAI,GAAI,GAAI,IACZ,IAAK,IAAK,IAAK,QAEhB,OAEH,KAAK,CACH,KAAM,QACN,MAAO,EAAG,OAAQ,EAClB,OAAQ,KACR,OAAQ,OAAO,MACf,KAAM,IAAI,WAAW,CACnB,IAAK,IAAK,IAAK,IACf,IAAK,IAAK,IAAK,IACf,IAAK,IAAK,IAAK,IACf,IAAK,IAAK,IAAK,QAInB,KAAK,CACH,KAAM,YACN,MAAO,EAAG,OAAQ,EAClB,OAAQ,KACR,OAAQ,OAAO,MACf,KAAM,IAAI,WAAW,CACnB,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,MAIb,YAAY,OAAQ;;;;4PClpBtB,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,iBACzB,IAAM,YAAc,QAAQ,e,aACwB,QAAQ,gBAApD,U,SAAA,UAAW,a,SAAA,aAAc,e,SAAA,e,cACuD,QAAQ,oBAAxF,mB,UAAA,mBAAoB,iB,UAAA,iBAAkB,e,UAAA,eAAgB,sB,UAAA,sB,IACtD,MAA4B,KAA5B,MAAO,IAAqB,KAArB,IAAK,IAAgB,KAAhB,IAAK,OAAW,KAAX,OACzB,IAAM,QAAU,QAAQ,gBACxB,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iBACzB,IAAM,QAAU,QAAQ,W,cACJ,QAAQ,wBAApB,Q,UAAA,Q,cACmB,QAAQ,cAA3B,S,UAAA,SAAU,K,UAAA,KAElB,IAAI,YAAc,GAEX,IAAM,UAAY,Y,4BAElB,IAAM,OAAS,S,sBACf,IAAM,SAAW,W,0BAExB,IAAM,YAAc,CAClB,oBAAqB,CACnB,GAAI,wCAIR,SAAS,UAAU,KACjB,IAAI,KAAO,YAAY,KACvB,IAAK,KAAK,OAAQ,CAChB,KAAK,OAAS,QAAQ,OAAO,KAAK,IAEpC,OAAO,KAAK,OAGd,SAAS,eAAe,EAAG,MACzB,KAAK,EAAI,EACT,KAAK,QAAU,KACf,KAAK,KAAO,KACZ,KAAK,WAAa,EAGpB,SAAS,kBAAkB,OAEzB,QAAQ,MAAM,SACd,MAAM,QAAU,SAAS,mBACzB,mBAAmB,MAAM,SAG3B,SAAS,6BAA6B,OACpC,QAAQ,MAAM,SACd,MAAM,QAAU,iBAChB,sBAAsB,MAAM,SAC5B,GAAI,MAAM,QAAQ,IAAK,CAErB,UAAU,CAAE,OAAQ,MAAM,QAAS,MAAO,uBACrC,CACL,iBAAiB,CACf,MAAO,MAAM,QAAQ,MACrB,OAAQ,MAAM,QAAQ,OACtB,MAAO,oBAKN,SAAS,MAAM,EAAG,IACvB,QAAQ,YAAY,mBACpB,IAAI,UAAY,MAChB,GAAI,IAAM,UAAW,CACnB,UAAY,KACZ,EAAI,EAAE,iBAGR,IAAK,IAAI,GAAK,EAAG,GAAK,YAAY,SAAU,GAAI,CAC9C,IAAI,OAAQ,YAAY,IACxB,GAAI,OAAM,IAAM,EAAG,CAEjB,OAAO,OAAM,SACb,IAAK,OAAM,QAAS,CAElB,OAAO,QAIb,IAAI,MAAQ,IAAI,eAAe,EAAG,IAClC,YAAY,KAAK,OAEjB,GAAI,UAAW,CACb,kBAAkB,WACb,CAEL,aAAa,EAAI,EAAE,iBAAkB,6BAA6B,KAAK,KAAM,QAG/E,OAAO,KAGT,SAAS,eAAe,KACtB,IAAI,UAGC,SAAS,OAAO,IACrB,GAAK,IAAI,GAAI,KACb,IAAK,IAAI,UAAY,EAAG,UAAY,YAAY,SAAU,UAAW,CACnE,IAAI,MAAQ,YAAY,WACxB,MAAM,YAAc,GACpB,OAAO,MAAM,SAGb,IAAI,UAAY,UAAY,YAAY,OAAS,EACjD,IAAI,IAAM,MAAM,KAAK,MAAM,EAAG,MAAM,QAAS,MAAM,WAAY,WAC/D,GAAI,MAAQ,OAAQ,CAClB,WAAW,eAAe,KAAK,KAAM,MAAM,SAAU,GACrD,YAAY,OAAO,UAAW,GAC9B,cAKC,SAAS,SACd,OAAO,YAAY,OAGrB,SAAS,uBAAuB,UAAW,EAAG,QAAS,eAAgB,WACrE,IAAI,SAAW,IAAI,eAAiB,UAAW,GAC/C,IAAI,MAAS,EAAI,QAAQ,SAAU,GACnC,IAAI,MAAQ,KAAK,EAAG,EAAG,EAAG,OAC1B,SAAS,gBACT,QAAQ,UAAU,CAAC,SACjB,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EACA,EAAG,EAAG,EAAG,EACT,OAEF,GAAI,WAAa,WAAa,EAAG,CAC/B,OAAO,OAET,OAAO,SAyGT,SAAS,8BAA8B,KAAM,aAAc,aAAc,EAAG,IAAK,eAAgB,WAC/F,IAAI,aAAe,KAAK,EAAG,EAAG,EAAG,GACjC,IAAI,SAAW,QAAQ,IAAI,eAAiB,KAAM,GAAI,GACtD,SAAS,gBAET,IAAI,IAAM,CAAC,CAAC,EAAE,GAAI,CAAC,EAAE,IAErB,IAAI,MAAQ,SACZ,IAAI,OAAS,IAAI,GAAG,IAAM,IAAI,GAAG,GAAK,IAAI,GAAG,IAAM,EACnD,GAAI,aAAc,CAChB,QAAQ,SAAS,CAAC,KAAM,EAAG,EAAG,EAAG,EAAI,MAAO,EAAI,EAC9C,EAAG,IAAI,GAAG,GAAI,IAAI,GAAG,IAAM,EAAI,UAAW,OAC1C,UACF,QAAQ,SAAS,CAAC,KAAM,EAAI,MAAO,EAAI,EAAG,EAAG,EAAI,MAAO,EAAI,EAC1D,IAAI,GAAG,GAAK,SAAU,OAAQ,IAAI,GAAG,GAAI,IAAI,GAAG,GAChD,cACG,CACL,QAAQ,SAAS,CAAC,KAAM,EAAI,MAAO,EAAG,EAAG,EAAG,EAAI,EAC9C,IAAI,GAAG,GAAI,IAAI,GAAG,GAAI,IAAI,GAAG,GAAI,OACjC,UACF,QAAQ,SAAS,CAAC,KAAM,EAAI,MAAO,EAAI,EAAG,EAAG,EAAG,EAAI,EAClD,IAAI,GAAG,GAAI,OAAQ,IAAI,GAAG,GAAI,IAAI,GAAG,GACrC,UAEJ,IAAI,qBAAuB,IAAI,SAAW,EAAG,GAC7C,aAAa,GAAK,qBAClB,cAAgB,qBAGhB,QAAQ,SAAS,EAAG,GAAM,aAAc,EAAI,MAAO,GAAK,EAAI,EAAG,cAC/D,QAAQ,SAAS,EAAI,MAAQ,aAAc,EAAG,EAAI,MAAO,GAAK,EAAI,EAAG,cACrE,QAAQ,SAAS,MAAO,GAAK,EAAG,GAAM,aAAc,EAAI,EAAG,cAC3D,QAAQ,SAAS,MAAO,GAAK,MAAQ,aAAc,EAAG,EAAI,EAAG,cAE7D,GAAI,WAAa,WAAa,EAAG,CAC/B,OAAO,OAET,OAAO,SAGT,IAAM,aAAe,EACrB,IAAI,6BAA+B,CAAC,MAEpC,SAAS,4BACP,IAAI,IAAM,iBACV,iBAAiB,CACf,MAAO,IAAI,MACX,OAAQ,IAAI,OACZ,MAAO,mBAET,6BAA6B,GAAK,IAGpC,SAAS,2BAA2B,KAAM,EAAG,IAAK,eAAgB,WAIhE,IAAI,SAAW,YAAY,MAC3B,IAAI,SAAW,IAAI,eAAiB,KAAM,GAC1C,SAAS,gBAET,6BAA6B,GAAK,IAClC,GAAI,SAAW,GAAK,CAClB,aAAa,EAAG,2BAGlB,IAAI,kBAAoB,SAAW,GAAM,EAAI,SAAW,UAAY,EAGpE,IAAI,YAAc,IAAI,EAAG,MAAM,iBAAmB,MAAQ,KAAO,SAAW,aAE5E,IAAI,OAAS,KAAK,IAAI,MAAQ,YAAa,IAAI,OAAS,YACtD,YAAc,IAAI,MAAO,YAAc,IAAI,QAC7C,IAAI,OAAS,KAAK,GAAM,IAAI,MAAO,GAAM,IAAI,QAC1C,IAAI,SAAW,GAAK,IAAI,OAAQ,IAAI,SAAW,GAAK,IAAI,QAG3D,QAAQ,SAAS,6BAA8B,EAAG,EAAG,EAAI,EAAG,EAAG,EAC7D,EAAG,EAAG,EAAG,EACT,SAAU,UAAU,uBAAwB,CAC1C,OAAA,OACA,OAAA,SAGJ,GAAI,WAAa,WAAa,EAAG,CAC/B,OAAO,OAET,OAAO,SAGF,SAAS,KAAK,WACnB,OAAO,uBAAuB,KAAK,KAAM,WAQpC,SAAS,YAAY,KAAM,aAAc,cAC9C,cAAgB,SAAS,IACzB,OAAO,8BAA8B,KAAK,KAAM,KAAM,aAAc,cAG/D,SAAS,SAAS,WACvB,OAAO,2BAA2B,KAAK,KAAM,WAOxC,SAAS,iBAAiB,iBAC/B,gBAAkB,iBAAmB,EACrC,IAAI,IAAM,MAAM,SAAW,GAC3B,OAAQ,KACN,KAAK,EACH,OAAO,KAAK,IAAM,iBACpB,KAAK,EACH,OAAO,YAAY,IAAM,gBAAiB,EAAG,OAC/C,KAAK,EACH,OAAO,SAAS,IAAM,iBAWxB,QACE,OAAO,GAEX,OAAO;;;;mzECxXT,OAAO,EAAI,OAAO,GAAK,GACvB,EAAE,QAAU,EAAE,SAAW,GACzB,EAAE,GAAK,EAAE,IAAM,IACf,EAAE,MAAQ,EAAE,OAAS,IACrB,EAAE,QAAU,EAAE,SAAW,IACzB,EAAE,MAAQ,EAAE,OAAS,KAGrB,EAAE,iBAAmB,EAAE,kBAAoB,KAE3C,EAAE,iBAAmB,EAAE,kBAAoB,GAE3C,EAAE,SAAW,EAAE,UAAY,IAE3B,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,iBACzB,IAAM,cAAgB,QAAQ,iBAC9B,IAAM,QAAU,QAAQ,gB,IAChB,aAAiB,QAAjB,aACR,IAAM,YAAc,QAAQ,eAC5B,IAAM,UAAY,QAAQ,aAC1B,IAAM,WAAa,QAAQ,c,aACN,QAAQ,aAArB,S,SAAA,S,IACA,IAA+B,KAA/B,IAAK,IAA0B,KAA1B,IAAK,IAAqB,KAArB,IAAK,MAAgB,KAAhB,MAAO,KAAS,KAAT,K,cACG,QAAQ,cAAjC,U,UAAA,UAAW,U,UAAA,UACnB,IAAM,aAAe,QAAQ,gBAC7B,IAAM,SAAW,QAAQ,iB,cACa,QAAQ,wBAAtC,M,UAAA,MAAO,M,UAAA,MAAO,K,UAAA,KAAM,M,UAAA,M,cACW,QAAQ,cAAvC,M,UAAA,MAAO,Y,UAAA,YAAa,O,UAAA,O,cACc,QAAQ,cAA1C,K,UAAA,KAAM,K,UAAA,KAAM,Q,UAAA,QAAS,S,UAAA,SAE7B,IAAM,aAAe,IACrB,IAAI,KACJ,IAAI,IAEJ,IAAM,yBAA2B,CAC/B,KAAM,CAAC,KAAO,MACd,WAAY,CAAC,GAAK,IAClB,WAAY,CAAC,EAAG,EAAI,cACpB,gBAAiB,KAAK,EAAG,EAAG,EAAG,cAC/B,EAAG,EAAE,OAGA,SAAS,YAIhB,IAAI,iBAAmB,KAAK,EAAG,GAAK,GAAK,IAElC,SAAS,aAAa,OAC3B,IAAI,IAAM,CACR,QAAS,OACT,SAAU,OACV,KAAM,OACN,SAAU,QAEZ,QAAQ,IAAI,QAAS,MAAO,iBAAiB,IAC7C,QAAQ,IAAI,SAAU,MAAO,iBAAiB,IAC9C,QAAQ,IAAI,KAAM,MAAO,iBAAiB,IAC1C,QAAQ,IAAI,SAAU,MAAO,iBAAiB,IAC9C,IAAK,IAAI,SAAS,IAAK,CACrB,IAAI,OAAO,GAAK,MAAM,GAExB,OAAO,IAGT,IAAI,MAAQ,GACL,SAAS,QAAQ,KAAM,OAC5B,MAAM,KAAK,CACT,KAAA,KACA,MAAA,QAIJ,SAAS,aAAa,QACpB,QAAQ,kBAAkB,CACxB,KAAM,SAKV,IAAI,iBAAmB,QACvB,IAAI,eAAiB,QACrB,SAAS,mBAAmB,WAAY,YACtC,YAAY,kBAEZ,QAAQ,iBAAiB,eAAgB,YACzC,OAAO,iBAAkB,iBAAkB,gBAE3C,QAAQ,sBAAsB,eAAgB,YAC9C,OAAO,iBAAkB,iBAAkB,gBA8B3C,QAAQ,iBAAiB,CACvB,YAAa,mBAKV,IAAI,cAAgB,G,oCACpB,IAAI,YAAc,G,gCAClB,IAAI,aAAe,I,kCACnB,IAAI,mBAAqB,I,8CACzB,IAAI,gBAAkB,c,wCACtB,IAAI,YAAc,I,gCAClB,IAAI,SAAW,I,0BACf,IAAI,kBAAoB,I,4CACxB,IAAI,UAAY,G,4BAChB,IAAI,kBAAoB,GAAK,G,4CAC7B,IAAI,0BAA4B,kB,4DAChC,IAAI,cAAgB,I,oCACpB,IAAI,YAAc,E,gCAElB,IAAI,mBAAqB,UAAU,MAAM,KAAM,CACpD,MAAO,IACP,cAAe,EACf,cAAe,a,8CAEV,IAAI,kBAAoB,UAAU,aAAa,KAAM,K,4CAErD,IAAI,K,kBACJ,IAAI,W,8BACJ,IAAI,QAAU,G,wBAEd,IAAI,aAAe,aAAa,CAAC,EAAE,EAAE,EAAE,I,kCACvC,IAAI,YAAc,KAAK,EAAG,EAAG,IAAM,G,gCACnC,IAAI,iBAAmB,UAAU,aAAa,KAAM,K,0CAE3D,IAAI,OAAS,GACN,IAAI,iBAAmB,M,0CACvB,IAAI,eAAiB,M,sCACrB,IAAI,aAAe,K,kCACnB,IAAI,oBAAsB,M,gDAEjC,IAAI,4BAA8B,MAClC,IAAI,uBAAyB,MAE7B,IAAI,aAAe,KACnB,IAAI,qBAAuB,MACpB,IAAI,QAAU,M,wBACrB,IAAI,iBAAmB,MAAM,GAAI,0BACjC,IAAI,aAAe,EAEnB,QAAQ,sBAAwB,GAChC,IAAI,sBAAwB,GAC5B,IAAI,UAAY,GAChB,IAAI,iBAAmB,EAGvB,IAAI,YAEJ,IAAI,mBACJ,IAAI,mBACJ,IAAI,gBACJ,IAAI,YACJ,IAAI,kBACJ,IAAI,kBAEJ,IAAI,eACJ,IAAI,gBAEG,SAAS,kBAAkB,SAAU,KAAM,UAChD,iBAAiB,GAAK,SACtB,iBAAiB,GAAK,KACtB,iBAAiB,GAAK,SACtB,QAAA,aAAA,aAAe,aAAa,CAAC,EAAE,EAAE,EAAE,IAG9B,SAAS,aAAa,KAAM,GAAI,GAAI,UAAW,eACpD,IAAI,SAAW,WAAa,UAAU,MACtC,GAAI,WAAa,KAAM,OAEhB,GAAI,SAAU,CACnB,QAAQ,MAAQ,aAAa,OAAO,CAClC,KAAM,SAAS,GACf,GAAI,SAAS,GACb,GAAI,SAAS,UAEV,IAAK,cAAe,CACzB,QAAQ,MAAQ,aAAa,OAAO,CAClC,KAAI,MAAQ,KACZ,GAAA,GACA,GAAA,MAKC,SAAS,QAAQ,OACtB,QAAA,KAAA,KAAO,MAAM,KACb,QAAA,WAAA,WAAa,MAAM,YAAc,KACjC,IAAI,UAAY,MAAM,WACtB,KAAO,WAAW,KAClB,IAAM,WAAW,IACjB,GAAI,MAAM,eAAgB,CACxB,eAAiB,IAAI,KACrB,gBAAkB,IAAI,UACjB,CACL,eAAiB,IAAI,YACrB,gBAAkB,IAAI,aAGxB,aAAa,SAAU,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WACxC,QAAQ,eAAiB,QAAQ,OACjC,aAAa,kBAAmB,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,UAAW,MAC5D,aAAa,cAAe,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WAC7C,aAAa,kBAAmB,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WACjD,aAAa,QAAS,CAAC,EAAG,EAAG,GAAI,CAAC,EAAG,GAAI,GAAI,WAC7C,aAAa,aAAc,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WAC5C,aAAa,gBAAiB,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WAC/C,aAAa,YAAa,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WAC3C,aAAa,cAAe,CAAC,EAAG,EAAG,IAAK,CAAC,IAAK,WAC9C,aAAa,SAAU,CAAC,EAAG,EAAG,GAAI,CAAC,IAAK,WAExC,aAAa,gBAAiB,CAAC,GAAI,CAAC,IAAK,WAEzC,aAAa,mBAAoB,CAAC,IAAK,CAAC,IAAK,WAC7C,aAAa,mBAAoB,CAAC,IAAK,CAAC,GAAI,WAC5C,aAAa,gBAAiB,CAAC,IAAK,CAAC,IAAK,WAC1C,aAAa,2BAA4B,CAAC,IAAK,CAAC,IAAK,WACrD,aAAa,mBAAoB,CAAC,IAAK,CAAC,EAAG,EAAG,GAAI,WAElD,QAAQ,MAAQ,aAAa,OAAO,CAAE,IAAK,UAE3C,YAAc,CACZ,GAAI,CAAE,IAAK,CAAC,KAAK,GAAI,IAAK,CAAC,IAAI,GAAI,QAAS,CAAC,KAAK,MAClD,OAAQ,CAAE,IAAK,CAAC,KAAK,KAAM,IAAK,CAAC,IAAI,EAAG,IAAI,KAE9C,YAAY,IAAM,MAAM,YAAY,IACpC,YAAY,IAAI,IAAI,KAAK,KAAK,GAC9B,YAAY,GAAK,MAAM,YAAY,QACnC,YAAY,GAAG,IAAI,KAAK,KAAK,GAG/B,IAAI,kBACJ,IAAI,oBAAsB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAChC,SAAS,QAAQ,YAAa,WACnC,GAAI,eAAiB,YAAa,CAChC,OAAO,KAET,GAAI,kBAAoB,UAAU,SAAW,UAAW,CACtD,IAAI,MAAO,SAAS,cAAc,OAClC,GAAI,YAAY,QAAU,YAAY,WAAY,CAChD,oBAAoB,YAAY,YAAc,oBAAoB,QAAU,EAC5E,IAAI,IAAM,EACV,IAAK,IAAI,GAAK,EAAG,GAAK,oBAAoB,SAAU,GAAI,CACtD,KAAO,oBAAoB,IAE7B,OAAO,IAAM,oBAAoB,QAEnC,MAAK,aAAa,QAAS,kBAC3B,IAAK,kBAAmB,CACtB,kBAAoB,SAAS,eAAe,gBAE9C,kBAAkB,YAAY,OAC9B,UAAU,KAAK,OACf,UAAY,MAEd,GAAI,UAAU,oBAAsB,UAAW,CAC7C,IAAK,IAAI,IAAK,iBAAmB,EAAG,IAAK,UAAU,SAAU,IAAI,CAC/D,GAAI,UAAU,OAAQ,UAAW,CAC/B,UAAU,KAAM,UAAU,kBAC1B,UAAU,kBAAoB,YAIpC,IAAI,KAAO,UAAU,kBACrB,mBACA,OAAO,KAGF,SAAS,WAAW,SACzB,OAAS,QACT,IAAK,IAAI,OAAO,OAAQ,CACtB,UAAU,OAAO,OAId,SAAS,SAAS,OAAQ,EAAG,OAClC,IAAI,OAAS,EAAE,OACf,IAAI,GAAK,CAAC,OAAO,GAAG,GAAK,OAAO,EAAG,EAAG,OAAO,GAAG,GAAK,OAAO,GAC5D,IAAI,EAAI,OAAO,EACf,GAAG,GAAK,IAAI,EAAG,OAAO,EAAI,GAAG,GAAK,GAAG,IACrC,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,SAAU,GAAI,CACrC,IAAI,KAAO,GAAG,IACd,EAAE,KAAK,CACL,EAAA,EACA,EAAG,OAAO,EACV,EAAG,OAAO,EACV,MAAA,MACA,EAAG,KACH,EAAG,OAAO,EACV,IAAK,OAAO,MAAM,MAGpB,GAAK,MAIF,SAAS,SAAS,OAAQ,EAAG,OAClC,IAAI,OAAS,EAAE,OACf,IAAI,GAAK,CAAC,OAAO,GAAG,GAAK,OAAO,EAAG,EAAG,OAAO,GAAG,GAAK,OAAO,GAC5D,IAAI,EAAI,OAAO,EACf,GAAG,GAAK,IAAI,EAAG,OAAO,EAAI,GAAG,GAAK,GAAG,IACrC,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,SAAU,GAAI,CACrC,IAAI,KAAO,GAAG,IACd,EAAE,KAAK,CACL,EAAG,OAAO,EACV,EAAA,EACA,EAAG,OAAO,EACV,MAAA,MACA,EAAG,OAAO,EACV,EAAG,KACH,IAAK,OAAO,MAAM,MAGpB,GAAK,MAIF,SAAS,QAAQ,OAAQ,EAAG,YAAa,OAC9C,IAAI,OAAS,EAAE,OACf,IAAI,MAAQ,YACZ,IAAI,GAAK,CAAC,OAAO,OAAO,GAAK,MAAO,EAAG,OAAO,OAAO,GAAK,OAC1D,GAAG,GAAK,IAAI,EAAG,OAAO,EAAI,GAAG,GAAK,GAAG,IACrC,IAAI,GAAK,CAAC,OAAO,QAAQ,GAAK,MAAO,EAAG,OAAO,QAAQ,GAAK,OAC5D,GAAG,GAAK,IAAI,EAAG,OAAO,EAAI,GAAG,GAAK,GAAG,IACrC,IAAI,EAAI,OAAO,EACf,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,SAAU,GAAI,CACrC,IAAI,KAAO,GAAG,IACd,GAAI,KAAM,CACR,IAAI,EAAI,OAAO,EACf,IAAK,IAAI,GAAK,EAAG,GAAK,GAAG,SAAU,GAAI,CACrC,IAAI,KAAO,GAAG,IACd,GAAI,KAAM,CACR,EAAE,KAAK,CACL,EAAA,EAAG,EAAA,EAAG,EAAG,OAAO,EAChB,MAAA,MACA,EAAG,KACH,EAAG,KACH,IAAK,OAAO,MAAM,GAAK,EAAI,IAC3B,OAAQ,OAEV,GAAK,MAGT,GAAK,OAKJ,SAAS,YAAY,KAAM,QAChC,GAAI,OAAS,SAAU,CACrB,KAAO,eAET,GAAI,OAAO,MAAO,CAChB,UAAU,OAAO,MAAO,SAIrB,SAAS,aAAa,IAAK,OAChC,GAAI,8BAAgC,KAAO,yBAA2B,MAAQ,MAAO,CACnF,YAAY,YAEd,uBAAyB,IACzB,QAAA,iBAAA,iBAAmB,KAGd,SAAS,WAAW,KACzB,GAAI,MAAQ,YAAa,CACvB,SAAS,cAAe,KAE1B,mBAAqB,KACrB,YAAc,IAGT,SAAS,cACd,WAAW,UAGN,SAAS,cAAc,KAC5B,OAAO,cAAgB,IAElB,SAAS,UAAU,KACxB,GAAI,MAAQ,kBAAmB,CAC7B,kBAAoB,kBACpB,kBAAoB,IAEtB,GAAI,MAAQ,aAAe,MAAQ,kBAAoB,qBACpD,mBACD,CACA,GAAI,MAAQ,YAAa,CACvB,SAAS,yBAEX,WAAW,KACX,OAAO,KAET,OAAO,MAGF,SAAS,UAAU,KACxB,SAAS,aAAc,KACvB,YAAY,YACZ,YAAc,KACd,mBAAqB,mBAAqB,MAC1C,gBAAkB,IAGlB,WAAW,YAAY,MAGlB,SAAS,UAAU,KACxB,SAAS,aAAc,KACvB,YAAY,YACZ,GAAI,MAAQ,kBAAmB,CAC7B,WAAW,uBACN,CACL,WAAW,mBAEb,WAAW,YAAY,MAGlB,SAAS,WAAW,KACzB,GAAI,qBAAsB,CAExB,OAAO,MAGT,IAAI,QAAU,UAAU,KACxB,GAAI,QAAS,CACX,GAAI,WAAW,YAAY,KAAK,KAAM,CACpC,GAAI,WAAW,QAAQ,KAAK,OAAQ,CAClC,UAAU,SACL,CACL,UAAU,KACV,QAAU,OAGd,GAAI,WAAW,kBAAkB,iBAAkB,CACjD,UAAU,KACV,QAAU,MAEZ,GAAI,WAAW,kBAAkB,gBAAiB,CAChD,UAAU,MAGd,OAAO,QAGF,SAAS,MAAM,OACpB,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,MAAM,EAAI,MAAM,GAAM,EAAE,GAAK,EAC7B,IAAI,MAAQ,MAAM,OAAS,YAC3B,QAAQ,MAAO,QAAQ,MAAO,MAAM,aAAe,kBAAmB,OACtE,WAAW,MAAM,OACjB,WAAW,UAAU,OAGhB,SAAS,YAAY,OAC1B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,UAAY,UAEhC,IAAI,UAAY,MAAM,eAAiB,cACvC,IAAI,EAAI,MAAM,EACd,GAAI,EAAI,UAAY,SAAS,KAAM,CACjC,EAAI,SAAS,KAAO,UAEtB,IAAI,EAAI,MAAM,GAAK,EAAE,QACrB,IAAI,WAAa,MAAM,EACvB,IAAI,gBAAkB,MAAM,aAAe,YAC3C,IAAI,EAAI,UAAY,gBAAkB,EACtC,GAAI,MAAM,cAAe,CACvB,YAAc,YAAc,KAAK,SAAS,iBAAkB,EAAG,EAAG,YAAa,MAAM,SAAW,gBAAkB,EAEpH,IAAI,EAAI,WAAa,gBACrB,GAAK,KAAK,iBAAiB,iBACzB,EAAI,gBAAiB,EAAG,EAAE,EAAG,EAAG,EAAG,YACnC,MAAM,SACR,GAAK,gBACL,IAAI,YAAc,MAAM,aAAe,0BAEvC,MAAM,CACJ,EAAA,EACA,EAAG,WACH,EAAA,EACA,EAAG,UACH,EAAG,EAAI,WACP,YAAA,cAIG,SAAS,WAAW,MAAO,OAChC,GAAI,MAAM,KAAM,CACd,IAAK,IAAI,GAAK,EAAG,GAAK,MAAM,SAAU,GAAI,CACxC,GAAI,MAAO,CACT,MAAM,IAAI,MAAM,OAElB,MAAM,IAAI,KAAK,SAMd,SAAS,aAAa,OAC3B,MAAM,EAAI,MAAM,GAAK,EAAE,GACvB,IAAI,MAAQ,UACZ,IAAI,IAAM,MACV,GAAI,MAAM,UAAW,CACnB,MAAO,CAAE,IAAA,IAAK,MAAA,OAEhB,IAAI,IAAM,MAAM,KAAU,MAAM,EAAtB,IAA2B,MAAM,EAC3C,IAAI,eAAiB,MAAM,eAC3B,IAAI,SAAW,MAAM,WAAa,MAAM,UAAY,WAAW,KAC/D,IAAI,SAAW,MAAM,YAAc,CAAE,YAAa,MAAM,aAAgB,KACxE,QAAA,iBAAA,iBAAmB,MACnB,GAAI,MAAM,SAAU,CAClB,GAAI,WAAW,UAAU,OAAQ,CAC/B,GAAI,MAAM,mBAAoB,CAC5B,aAAa,IAAK,iBAGtB,MAAQ,gBACH,GAAI,MAAM,cAAgB,IAAM,WAAW,SAAS,QAAS,CAClE,IAAK,WAAW,kBAAmB,CACjC,aAAa,IAAK,gBAEpB,IAAK,MAAM,SAAU,CACnB,WAAW,KACX,QAAU,KAEZ,QAAA,aAAA,aAAe,CAAE,KAAM,WAClB,IAAI,QAAA,aAAC,aAAe,WAAW,MAAM,SAC1C,MAAM,aAAN,QAAA,aAAqB,aAAe,WAAW,UAAU,QACzD,CACA,GAAI,MAAM,cAAgB,SAAW,WAAW,kBAAmB,CAEjE,QAAA,oBAAA,oBAAsB,KACtB,aAAa,IAAK,oBACb,CACL,IAAM,KAER,IAAK,MAAM,SAAU,CACnB,WAAW,KACX,QAAU,WAEP,GAAI,MAAM,aAAe,WAAW,SAAS,OAAQ,CAE1D,aAAa,IAAK,gBAClB,MAAQ,WAAW,UAAU,CAAE,SAAU,WAAc,OAAS,gBAC3D,GAAI,MAAM,WAAa,WAAW,SAAS,OAAQ,OAEnD,GAAI,WAAW,UAAU,OAAQ,CACtC,MAAQ,WAAW,UAAU,OAAS,OAAS,WAE/C,IAAK,WAAW,mBAAqB,QAAU,OAAQ,CACrD,aAAa,IAAK,iBAGtB,QAAA,eAAA,eAAiB,QACjB,GAAI,QAAS,CACX,GAAI,WAAW,YAAY,KAAK,MAAO,WAAa,WAAW,YAAY,KAAK,OAAQ,WACtF,WAAW,kBAAkB,IAAI,GACjC,CACA,QAAA,aAAA,aAAe,CAAE,GAAI,MACrB,IAAM,MAGV,GAAI,IAAK,CACP,MAAQ,OACR,YAAY,gBAEd,GAAI,kBAAoB,MAAM,QAAS,CACrC,YAAY,CACV,EAAG,MAAM,EACT,EAAG,MAAM,cAAgB,MAAM,EAAI,EAAI,MAAM,EAAI,MAAM,EAAI,EAC3D,cAAe,MAAM,cACrB,QAAS,MAAM,QACf,cAAe,MAAM,gBAGzB,MAAM,GAAK,MAAM,QAAU,MAAM,OAAO,QAAU,EAClD,WAAW,MAAO,KAClB,MAAO,CAAE,IAAA,IAAK,MAAA,MAAO,QAAA,SAGhB,IAAI,kB,4CACJ,SAAS,eAAe,MAAO,MAAO,SAC3C,IAAI,OAAS,MAAM,QAAU,aAC7B,IAAI,MAAA,QAAA,kBAAQ,kBAAoB,OAAO,OACvC,IAAI,UAAY,MAAM,WAAa,SACnC,IAAI,YAAiB,UAAjB,IAA8B,MAClC,IAAI,OAAS,QAAQ,aAErB,IAAK,OAAQ,CACX,OAAS,QAAQ,WAGnB,SAAS,MAAO,OAAQ,OACxB,IAAI,KAAO,IAAI,MAAM,YAAc,IAAM,MAAM,EAAI,IACnD,KAAK,iBACH,QAAU,mBAAqB,kBAC/B,MAAM,EAAI,KAAM,MAAM,EAAG,MAAM,EAAI,GAEnC,MAAM,YAAa,UAAU,MAAM,WAAa,UAAU,MAAM,QAAS,MAAM,EAAI,KAAO,EAAG,MAAM,EAAG,MAAM,MAGzG,SAAS,WAAW,OAEzB,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,OAAS,UAG7B,MAAM,EAAI,MAAM,GAAK,aACrB,MAAM,EAAI,MAAM,GAAK,cACrB,MAAM,YAAc,MAAM,aAAe,YATT,IAAA,cAWF,aAAa,OAArC,IAX0B,cAW1B,IAAK,MAXqB,cAWrB,MAAO,QAXc,cAWd,QAClB,eAAe,MAAO,MAAO,SAC7B,OAAO,IAGF,SAAS,YAAY,OAE1B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,OAAO,MAAM,KAAO,MAAM,IAAI,MAE9B,MAAM,EAAI,MAAM,GAAK,EAAE,GACvB,MAAM,EAAI,MAAM,GAAK,gBACrB,MAAM,EAAI,MAAM,GAAK,MAAM,GAAK,gBAChC,MAAM,OAAS,MAAM,QAAU,IAE/B,IAAI,IAAM,MAAM,SAChB,UAAW,MAAM,QAAU,SAAU,CACnC,IAAM,MAAM,IAAI,OAAO,MAAM,MAAM,OAbJ,IAAA,eAgBZ,aAAa,OAA5B,IAhB2B,eAgB3B,IAAK,MAhBsB,eAgBtB,MACX,IAAI,OAAS,MAAM,QAAU,aAC7B,IAAI,MAAA,QAAA,kBAAQ,kBAAoB,OAAO,OACvC,IAAK,MAAM,MAAO,CAChB,IAAI,UAAY,MAAM,WAAa,SACnC,IAAI,YAAiB,UAAjB,IAA8B,MAClC,IAAI,OAAS,QAAQ,aACrB,IAAK,OAAQ,CACX,OAAS,QAAQ,WAGnB,SAAS,MAAO,OAAQ,OAE1B,IAAI,WAAa,MAAM,IAAI,OAC3B,IAAI,MAAQ,MAAM,IAAI,KAAK,GAC3B,IAAI,MAAQ,MAAM,IAAI,KAAK,GAC3B,IAAI,OAAS,MAAQ,MACrB,UAAW,MAAM,QAAU,SAAU,CACnC,OAAS,MAAM,IAAI,OAAO,OAAS,MAAM,IAAI,OAAO,OAAO,MAAM,OAAS,EAE5E,IAAI,gBAAkB,MAAM,EAAI,MAAM,OACtC,IAAI,eAAiB,MAAM,EAAI,MAAM,OAAS,OAC9C,MAAQ,IAAI,gBAAiB,gBAC7B,MAAQ,MAAQ,OAChB,IAAI,SAAW,MAAM,EAAI,OAAS,EAClC,IAAI,WAAa,CACf,EAAG,MAAM,GAAK,MAAM,WAAa,SAAW,MAAM,EAAI,OAAS,GAAK,WAAW,GAAK,MACpF,EAAG,MAAM,EAAI,QAAU,WAAW,GAAK,MACvC,EAAG,MAAM,EAAI,GAEb,MAAO,MAAM,WAAa,MAAM,QAAU,MAAM,OAAS,MACzD,OAAQ,MAAM,OACd,EAAG,MAAQ,MAAM,IAAI,KAAK,GAC1B,EAAG,MAAQ,MAAM,IAAI,KAAK,GAC1B,IAAA,IACA,IAAK,MAAM,UAEb,GAAI,MAAM,KAAM,CAAA,IACR,EAAS,WAAT,EAAG,EAAM,WAAN,EACT,WAAW,EAAI,EAAI,EACnB,WAAW,GAAK,EAElB,GAAI,MAAM,OAAQ,CAChB,MAAM,IAAI,aAAa,gBAClB,CACL,MAAM,IAAI,KAAK,YAEjB,OAAO,IAGF,SAAS,MAAM,MAAO,EAAG,EAAG,EAAG,MACpC,OAAO,KAAK,UAAU,MAAO,EAAG,EAAG,EAAG,YAAa,MAI9C,SAAS,YAAY,OAC1B,QAAQ,MAAM,cAAgB,MAAM,QAAU,UAC9C,QAAQ,MAAM,aAAe,MAAM,OAAS,UAC5C,QAAQ,MAAM,gBAAkB,MAAM,UAAY,UAGlD,aAAe,MAGV,SAAS,mBACd,aAAe,KAGjB,IAAI,gBAAkB,KAAK,GAAG,IAC9B,IAAI,aAAe,OACnB,SAAS,iBACP,SAAS,kBAAkB,aAAc,iBACzC,IAAI,gBAAkB,MACtB,IAAI,gBAAkB,aAAa,aAAe,YAClD,IAAI,kBAAoB,cACxB,IAAI,IAAM,UACV,IAAI,KAAO,UAAY,GACvB,IAAI,cAAgB,EACpB,GAAI,aAAa,GAAK,GAAM,SAAS,KAAO,SAAS,IAAM,SAAS,IAAM,EAAG,CAG3E,gBAAkB,KAClB,kBAAoB,gBACpB,KAAO,IAAM,EAEb,IAAI,MAAQ,SAAS,IACrB,SAAS,OACT,SAAS,gBAAgB,EAAG,iBAAmB,kBAAoB,GAAK,IAAM,KAC9E,cAAgB,SAAS,IAAM,MAlBT,IAAA,cAqBU,aAA5B,QArBkB,cAqBlB,QAAS,eArBS,cAqBT,eACf,IAAI,KAAO,OAAO,KAAK,SAAW,IAElC,IAAM,WAAa,SAAS,KAAO,SAAS,KAC5C,IAAM,gBAAkB,gBAAkB,WAAc,aAAa,OAAS,YAC9E,IAAI,iBAAmB,aAAa,cAAgB,mBACpD,IAAI,uBAAyB,gBAAkB,EAAI,EACnD,iBAAmB,IAAI,iBAAkB,uBAAyB,KAAK,QACvE,IAAM,OAAS,gBAAkB,IAAM,EACvC,IAAM,GAAK,SAAS,KAAO,OAAO,WAAa,iBAAmB,GAClE,IAAI,EAAI,GAAK,IACb,IAAM,GAAK,gBAAkB,EAAK,aAAa,IAAM,SACrD,IAAI,EAAI,MAAM,GAAK,KAEnB,GAAI,WAAW,gBAAiB,CAC9B,WAAW,kBAGb,GAAI,aAAa,MAAO,CACtB,GAAI,gBAAiB,CACnB,WAAW,iBAAiB,iBAAkB,EAAG,EAAG,EAAE,MAAO,gBAAkB,kBAC7E,UAAU,MAAM,KAAM,OAAQ,EAAG,aAAa,OAChD,GAAK,gBAAkB,sBAClB,CACL,GAAK,WAAW,iBAAiB,iBAC/B,EAAG,EAAG,EAAE,MAAO,OAAQ,EAAG,gBAAkB,kBAC5C,aAAa,OAEjB,EAAI,MAAM,EAAI,KAAO,KAGvB,GAAI,aAAa,KAAM,CACrB,GAAI,gBAAiB,CACnB,KAAK,iBAAiB,iBAAkB,EAAG,EAAG,EAAE,MAAO,gBACrD,UAAU,MAAM,KAAM,OAAQ,EAAG,aAAa,MAChD,GAAK,oBACA,CACL,GAAK,KAAK,iBAAiB,iBAAkB,EAAG,EAAG,EAAE,MAAO,OAAQ,EAAG,gBACrE,aAAa,MAEjB,EAAI,MAAM,EAAI,MAGhB,IAAI,SACJ,GAAI,aAAa,KAAM,CACrB,IAAI,YAAc,gBAAkB,IAAM,EAC1C,GAAI,gBAAiB,CACnB,cAAgB,IAAM,kBAAoB,KAAK,OAEjD,IAAI,MAAQ,CACV,EAAA,EAAG,EAAA,EACH,YAAa,gBACb,YAAA,YACA,YAAa,gBACb,gBAAA,iBAEF,SAAW,aAAa,KAAK,OAC7B,EAAI,MAAM,EAGZ,EAAI,GAAK,iBAAmB,IAAM,kBAAoB,KAAK,OAC3D,IAAI,YAAc,EAClB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,IAAM,KAAK,IACf,IAAI,gBAAkB,YAAY,IAAI,eACtC,IAAI,QAAU,EACd,GAAI,gBAAiB,CACnB,IAAK,IAAI,GAAK,EAAG,GAAK,gBAAgB,IAAI,SAAU,GAAI,CACtD,SAAW,WAAW,YAAY,gBAAgB,IAAI,KACtD,GAAI,gBAAgB,IAAI,MAAQ,SAAU,CACxC,WAGJ,IAAK,IAAI,IAAK,EAAG,IAAK,gBAAgB,IAAI,SAAU,IAAI,CACtD,SAAW,WAAW,kBAAkB,gBAAgB,IAAI,OAGhE,GAAI,gBAAkB,KAAO,GAAK,WAAW,QAAS,GAClD,QAEJ,GAAI,QAAS,CACX,WAAa,GAEf,GAAI,WAAW,CACb,EAAG,EACH,EAAA,EACA,EAAG,EAAE,MACL,EAAG,iBACH,EAAG,kBACH,KAAM,MACJ,CACF,WAAa,GAEf,EAAI,MAAM,EAAI,IAAM,kBAGtB,GAAI,cAAgB,EAAG,CACrB,IAAK,IAAI,KAAK,EAAG,KAAK,KAAK,SAAU,KAAI,CACvC,IAAI,KAAM,KAAK,MACf,IAAI,iBAAkB,YAAY,KAAI,eACtC,GAAI,kBAAmB,iBAAgB,QAAS,CAC9C,IAAK,IAAI,KAAK,EAAG,KAAK,iBAAgB,QAAQ,SAAU,KAAI,CAC1D,GAAI,WAAW,YAAY,iBAAgB,QAAQ,QAAQ,iBAAgB,QAAQ,QAAQ,SAAU,CACnG,WAAa,SAMvB,GAAI,cAAgB,EAAG,CACrB,IAAI,MAAM,KAAK,YACf,YAAY,gBACZ,aAAe,KACf,GAAI,QAAQ,OAAM,CAChB,QAAQ,UAGZ,GAAK,kBACL,EAAI,MAAM,EAAI,KAAO,KACrB,MAAM,CACJ,EAAG,GACH,EAAG,GACH,EAAG,EAAE,MAAQ,EACb,EAAG,gBACH,GAAI,gBAAkB,SAAS,KAAO,GAAK,GAC3C,YAAa,kBAAoB,gBAGnC,WAAW,cACX,qBAAuB,KACvB,GAAI,gBAAiB,CACnB,SAAS,OAIN,SAAS,eAAe,OAC7B,IAAI,GAAK,cAAc,OAAO,CAC5B,YAAa,KACb,cAAe,KACf,WAAY,MACZ,eAAgB,KAChB,KAAM,MAAM,UACZ,QAAS,MAAM,QACf,WAAY,QAEd,IAAI,QAAU,GACd,IAAK,IAAI,OAAO,MAAM,QAAS,CAC7B,IAAI,IAAM,MAAM,QAAQ,KACxB,UAAW,MAAQ,WAAY,CAC7B,IAAO,SAAU,QACf,OAAO,WACL,OAAO,GAAG,YAFP,CAIL,KAEJ,QAAQ,KAAO,IAEjB,MAAM,QAAU,QAChB,MAAM,KAAN,IAAgB,MAAM,MAAQ,IAC9B,IAAI,SAAW,MAAM,KACrB,MAAM,KAAO,SAAU,QACrB,IAAI,OAAS,GAAG,IAAI,CAClB,EAAG,OAAO,EACV,EAAG,OAAO,EACV,EAAG,OAAO,aAAe,MAAM,OAC/B,YAAa,OAAO,cAEtB,IAAK,OAAO,gBAAiB,CAC3B,OAAO,GAAK,OAAO,YAAc,UAEnC,IAAI,IACJ,GAAI,SAAW,GAAG,OAAQ,CACxB,IAAM,KAAK,OACN,GAAI,SAAW,GAAG,OAAQ,CAC/B,IAAM,KAAK,IAEb,GAAI,SAAU,CACZ,IAAM,SAAS,SAAW,IAE5B,OAAO,KAET,YAAY,OAIP,SAAS,cAAc,OAC5B,OAAO,cAAc,OAAO,OAG9B,IAAI,uBAAyB,EAC7B,IAAI,6BAA+B,EAC5B,SAAS,uBAAuB,QAAS,eAC9C,uBAAyB,QACzB,6BAA+B,cAEjC,IAAM,oBAAsB,KAAK,EAAE,EAAE,EAAE,GACvC,IAAM,yBAA2B,KAAK,GAAI,GAAI,GAAI,GAClD,IAAM,yBAA2B,KAAK,IAAK,IAAK,IAAK,GAC9C,IAAI,gBAAkB,M,wCAEtB,SAAS,OAAO,MAAO,OAE5B,cAAc,MAAM,IAAM,UAC1B,cAAc,MAAM,IAAM,UAC1B,OAAO,MAAM,IAAM,MAAM,KAEzB,MAAM,EAAI,MAAM,GAAK,EAAE,GACvB,MAAM,EAAI,MAAM,GAAK,aACrB,MAAM,EAAI,MAAM,GAAK,cACrB,IAAI,QAAU,MAAM,SAAW,uBAC/B,IAAI,cAAgB,MAAM,eAAiB,6BAC3C,IAAI,SAAW,MAAM,UAAY,MACjC,IAAI,SAAW,MAAM,EAAI,cACzB,IAAI,SAAW,QAAQ,cAAc,OAAO,GAAG,GAAK,SAEpD,QAAA,gBAAA,gBAAkB,MAElB,IAAI,WAAa,cAAgB,QAAU,GAC3C,SAAS,CACP,EAAG,MAAM,EAAI,MAAM,EAAI,WAAW,EAClC,EAAG,MAAM,EAAI,MAAM,GAAK,EAAI,SAAS,EACrC,EAAG,MAAM,EAAI,MAAM,EAAI,WACvB,EAAG,MAAM,EAAI,SACZ,QAAQ,OAAQ,MAAM,OAEzB,IAAI,MAAQ,MAAM,IAAI,QAAQ,OAAO,OAAO,GAAG,GAAK,MAAM,EAAI,QAAS,UAAY,GACnF,IAAI,gBAAkB,MAAM,EAAI,MAAQ,EAyBxC,IAAI,MAAQ,UAAY,WAAW,KAAK,OACxC,IAAI,QAAU,QAAQ,MACtB,IAAI,MAAQ,WAAW,MAAM,OAC7B,GAAI,MAAO,CACT,QAAU,MAEV,OAAS,MAAM,IAAI,IAAM,MAAM,EAAI,QAAU,gBAC7C,MAAQ,MAAM,KAAO,MAAM,IAAM,MAAM,KAAO,MAAM,MAAO,EAAG,GAC9D,YAAY,qBACP,GAAI,QAAS,CAElB,OAAS,KAAK,QAAQ,IAAM,MAAM,EAAI,QAAU,gBAChD,MAAQ,MAAM,KAAO,MAAM,IAAM,MAAM,KAAO,MAAM,MAAO,EAAG,GAE9D,WAAW,YACX,QAAA,gBAAA,gBAAkB,KAEpB,IAAI,UAAY,UAAY,WAAW,UAAU,OACjD,IAAI,kBAAoB,MAAM,EAAI,MAAQ,iBAAmB,MAAQ,MAAM,MAAQ,MAAM,IAAM,MAAM,KACrG,IAAI,SAAW,kBAAoB,SAAW,EAC9C,IAAI,SAAW,MAAM,EAAI,MAAM,EAAI,EAAI,SAAW,EAClD,IAAI,aAAe,oBACnB,GAAI,QAAS,CACX,aAAe,8BACV,GAAI,SAAU,CACnB,aAAe,yBAGjB,QAAQ,cAAc,KAAK,CACzB,EAAG,SACH,EAAG,SACH,EAAG,MAAM,EAAI,GACb,EAAG,SACH,EAAG,SACH,MAAO,aACP,MAAO,IAGT,OAAO,MAGT,IAAI,cAAgB,EAEb,SAAS,WACd,OAAO,cAAgB,QAGlB,SAAS,OAAO,IACrB,4BAA8B,uBAC9B,uBAAyB,MACzB,mBAAqB,mBACrB,mBAAqB,MACrB,gBAAkB,KAClB,qBAAuB,MACvB,QAAA,oBAAA,oBAAsB,MACtB,oBAAoB,YAAY,YAAc,oBAAoB,QAAU,EAE5E,sBAAwB,QAAQ,sBAChC,QAAQ,sBAAwB,GAChC,WAEA,iBAAmB,EAEnB,IAAI,cAAgB,MACpB,GAAI,cAAgB,QAAS,CAC3B,IAAI,OAAS,iBACb,IAAK,QAAS,CAEZ,OAAS,yBAEX,cAAgB,GAEhB,IAAI,OAAS,IAAI,aAAe,IAAK,GACrC,GAAI,YAAY,iBAAmB,YAAY,QAAQ,KAAM,CAE3D,IAAI,YAAc,KAAK,OAAQ,OAAO,KAAK,GAAI,OAAO,KAAK,IAC3D,GAAI,YAAa,CACf,aAAa,OAAO,EAAI,EAAG,aAAa,KAAK,KAAM,cAErD,IAAI,WAAa,KAAK,OAAQ,OAAO,WAAW,GAAI,OAAO,WAAW,IACtE,IAAI,WAAa,KAAK,OAAQ,OAAO,WAAW,GAAI,OAAO,WAAW,IACtE,GAAI,aAAe,GAAK,aAAe,EAAG,CACxC,aAAa,OAAO,EAAI,EAAG,mBAAmB,KAAK,KAAM,WAAY,aAEvE,cAAgB,SACX,CAEL,QAAQ,MAAM,KAAK,CACjB,EAAG,SAAS,SACZ,EAAG,SAAS,SACZ,EAAG,OAAO,EAAI,EACd,MAAO,OAAO,gBACd,EAAG,SAAS,QACZ,EAAG,SAAS,eAGX,CACL,aAAe,EAEjB,QAAA,QAAA,QAAU,MAEV,IAAK,YAAY,YAAc,YAAY,mBAAqB,IAAM,cAAe,CACnF,eAAiB,eAAiB,GAAK,EACvC,GAAI,eAAiB,EAAG,CACtB,YAAY,oBAAoB,aAE7B,GAAI,cAAe,CACxB,cAAgB,EAIlB,GAAI,aAAc,CAChB,kBAIG,SAAS,WACd,GAAI,WAAW,MAAM,CACnB,GAAI,SAAU,GAAI,SAClB,EAAG,SAAU,EAAG,WACd,CACF,WAAW,UAGb,IAAK,IAAI,GAAK,EAAG,GAAK,sBAAsB,SAAU,GAAI,CACxD,IAAI,SAAW,sBAAsB,IACrC,IAAI,IAAM,QAAQ,sBAAsB,QAAQ,UAChD,GAAI,OAAS,EAAG,CACd,SAAS,SAIb,MAAO,iBAAmB,UAAU,OAAQ,CAC1C,IAAI,KAAO,UAAU,MACrB,kBAAkB,YAAY,OAI3B,SAAS,kBACd,MAAO,UAAU,OAAQ,CACvB,IAAI,KAAO,UAAU,MACrB,kBAAkB,YAAY,OAI3B,SAAS,OAAO,OACrB,MAAM,iBAAkB,0BACxB,GAAI,MAAO,CACT,MAAM,iBAAkB,OAE1B,QAAA,QAAA,QAAU,KACV,qBAAuB,KACvB,WAAW,cAGb,SAAS,oBAAoB,MAC3B,IAAI,SAAW,SAAS,cAAc,YACtC,SAAS,MAAM,SAAW,QAC1B,SAAS,MAAM,IAAM,EACrB,SAAS,MAAM,KAAO,EACtB,SAAS,MAAM,MAAQ,MACvB,SAAS,MAAM,OAAS,MACxB,SAAS,MAAM,OAAS,OACxB,SAAS,MAAM,QAAU,OACzB,SAAS,MAAM,UAAY,OAC3B,SAAS,MAAM,WAAa,cAC5B,SAAS,MAAQ,KAEjB,SAAS,KAAK,YAAY,UAC1B,SAAS,QACT,SAAS,SAET,IAAI,IAAM,MACV,IACE,IAAM,SAAS,YAAY,QAC3B,MAAO,MAIT,SAAS,KAAK,YAAY,UAC1B,OAAO,IAGF,SAAS,kBAAkB,MAAO,MAAO,KAC9C,IAAI,aAAe,oBAAoB,KACvC,eAAe,CACb,OAAQ,IACR,UAAW,IACX,MAAA,MACA,KAAM,aAAkB,MAAlB,wBAAiD,qDACvD,QAAS,CACP,GAAI,QAKH,SAAS,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,OAC1C,IAAI,GAAK,IAAI,GAAI,IACjB,IAAI,GAAK,IAAI,GAAI,IACjB,IAAI,GAAK,IAAI,GAAI,IACjB,IAAI,GAAK,IAAI,GAAI,IACjB,QAAQ,MAAM,KAAK,CACjB,EAAG,GACH,EAAG,GACH,EAAA,EACA,MAAA,MACA,EAAG,GAAK,GACR,EAAG,GAAK,KAIL,SAAS,UAAU,OACxB,SAAS,MAAM,EAAG,MAAM,EAAG,MAAM,EAAI,MAAM,EAAG,MAAM,EAAI,MAAM,EAAG,MAAM,EAAG,MAAM,OAGlF,SAAS,iBAAiB,QAKxB,OAAS,IAAI,IAAI,OAAQ,GAAI,KAE7B,IAAI,YAAc,CAChB,OAAQ,KAAK,EAAE,EAAE,EAAE,IAGrB,YAAY,OAAO,GAAK,GAAK,EAAI,QACjC,YAAY,OAAO,IAAM,GAAM,YAAY,OAAO,GAAK,GACvD,OAAO,YAGT,SAAS,mBAAmB,OAAQ,GAAI,GAAI,GAAI,GAAI,EAAG,OAAQ,IAAK,IAAK,IAAK,IAAK,MAAO,OACxF,aAAa,SAAS,OAAO,KAC3B,GAAI,GAAI,EAAG,GAAK,GAAI,GAAK,GACzB,IAAK,IAAK,IAAK,IACf,MAAO,UAAU,aAAa,QAAS,iBAAiB,QAAS,OAGrE,SAAS,mBAAmB,OAAQ,EAAG,EAAG,EAAG,EAAG,OAAQ,IAAK,IAAK,IAAK,IAAK,MAAO,OACjF,IAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EAAI,IAC7B,IAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EAAI,IAC7B,IAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EAAI,IAC7B,IAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EAAI,IAC7B,mBAAmB,OAAQ,GAAI,GAAI,GAAI,GAAI,EAAG,OAAQ,IAAK,IAAK,IAAK,IAAK,MAAO,OAGnF,SAAS,mBACP,IAAM,YAAc,GACpB,IAAI,KAAO,IAAI,WAAW,YAAY,aACtC,IAAI,MAAQ,YAAc,GAAK,EAC/B,IAAK,IAAI,EAAI,EAAG,EAAI,YAAa,IAAK,CACpC,IAAK,IAAI,EAAI,EAAG,EAAI,YAAa,IAAK,CACpC,IAAI,EAAI,MAAM,EAAI,OAAO,EAAI,OAAS,EAAI,OAAO,EAAI,OAAS,KAC9D,IAAI,EAAI,MAAM,EAAI,EAAG,EAAG,GACxB,KAAK,EAAI,EAAE,aAAe,EAAI,KAGlC,QAAQ,OAAS,aAAa,OAAO,CACnC,IAAK,SACL,MAAO,YAAa,OAAQ,YAC5B,OAAQ,SAAS,OAAO,GACxB,KAAA,KACA,WAAY,GAAG,OACf,WAAY,GAAG,OACf,OAAQ,GAAG,cACX,OAAQ,GAAG,cACX,OAAQ,KAAK,GAAK,MAIf,SAAS,WAAW,GAAI,GAAI,GAAI,GAAI,EAAG,OAAQ,MAAO,OAC3D,IAAK,QAAQ,OAAQ,CACnB,mBAEF,mBAAmB,QAAQ,OAAQ,GAAI,GAAI,GAAI,GAAI,EAAG,OAAQ,EAAG,EAAG,EAAG,EAAG,MAAO,OAG5E,SAAS,WAAW,EAAG,EAAG,EAAG,EAAG,OAAQ,MAAO,OACpD,IAAK,QAAQ,OAAQ,CACnB,mBAEF,mBAAmB,QAAQ,OAAQ,EAAG,EAAG,EAAG,EAAG,OAAQ,EAAG,EAAG,EAAG,EAAG,MAAO,OAGrE,SAAS,iBAAiB,EAAG,EAAG,EAAG,EAAG,OAAQ,MAAO,OAC1D,IAAK,QAAQ,cAAe,CAC1B,IAAM,YAAc,IACpB,IAAM,OAAS,EACf,IAAI,KAAO,IAAI,WAAW,YAAY,aACtC,IAAI,MAAQ,YAAc,GAAK,EAC/B,IAAK,IAAI,EAAI,EAAG,EAAI,YAAa,IAAK,CACpC,IAAK,IAAI,EAAI,EAAG,EAAI,YAAa,IAAK,CACpC,IAAI,EAAI,MAAM,EAAI,OAAO,EAAI,OAAS,EAAI,OAAO,EAAI,OAAS,KAC9D,IAAI,EAAI,MAAM,EAAI,EAAG,EAAG,GACxB,GAAI,EAAI,GAAK,CACX,EAAI,EAAI,EAEV,GAAM,OAAS,YACf,KAAK,EAAI,EAAE,aAAe,EAAI,KAGlC,QAAQ,cAAgB,aAAa,OAAO,CAC1C,IAAK,gBACL,MAAO,YAAa,OAAQ,YAC5B,OAAQ,SAAS,OAAO,GACxB,KAAA,KACA,WAAY,GAAG,OACf,WAAY,GAAG,OACf,OAAQ,GAAG,cACX,OAAQ,GAAG,cACX,OAAQ,KAAK,GAAK,MAGtB,mBAAmB,QAAQ,cAAe,EAAG,EAAG,EAAG,EAAG,OAAQ,EAAG,EAAG,EAAG,EAAG,MAAO,OAG5E,SAAS,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,OAAQ,OACrD,IAAK,QAAQ,KAAM,CACjB,IAAM,UAAU,GAChB,IAAI,KAAO,IAAI,WAAW,UAAU,WACpC,IAAI,MAAQ,UAAY,GAAK,EAC7B,IAAK,IAAI,EAAI,EAAG,EAAI,UAAW,IAAK,CAClC,IAAK,IAAI,EAAI,EAAG,EAAI,UAAW,IAAK,CAClC,IAAI,EAAI,KAAK,EAAI,MAAQ,MACzB,IAAI,EAAI,MAAM,EAAI,EAAG,EAAG,GACxB,KAAK,EAAI,EAAE,WAAa,EAAI,KAGhC,QAAQ,KAAO,aAAa,OAAO,CACjC,IAAK,OACL,MAAO,UAAW,OAAQ,UAC1B,OAAQ,SAAS,OAAO,GACxB,KAAA,KACA,WAAY,GAAG,OACf,WAAY,GAAG,OACf,OAAQ,GAAG,cACX,OAAQ,GAAG,cACX,OAAQ,KAAK,GAAK,MAItB,IAAI,GAAK,GAAK,GACd,IAAI,GAAK,GAAK,GACd,IAAI,OAAS,KAAK,KAAK,GAAG,GAAK,GAAG,IAClC,IAAM,OACN,IAAM,OACN,IAAI,OAAS,GAAK,EAClB,IAAI,MAAQ,GAAK,EAEjB,aAAa,UAAU,QAAQ,KAAK,KAClC,GAAK,MAAO,GAAK,MACjB,GAAK,MAAO,GAAK,MACjB,GAAK,MAAO,GAAK,MACjB,GAAK,MAAO,GAAK,MACjB,EACA,EAAG,EAAG,EAAG,EACT,MAAO,UAAU,aAAa,QAAS,iBAAiB,SAGrD,SAAS,eAAe,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,OAAQ,OAC3D,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,OAAQ,OACvC,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,OAAQ,OACvC,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,OAAQ,OACvC,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,OAAQ,OAGlC,SAAS,gBAAgB,OAC9B,eAAe,MAAM,EAAG,MAAM,EAAG,MAAM,EAAI,MAAM,EAAG,MAAM,EAAI,MAAM,EAClE,MAAM,GAAK,EAAE,GAAI,MAAM,YAAc,EAAG,MAAM,QAAU,EAAG,MAAM,OAAS,UAGvE,SAAS,SAAS,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,OAAQ,OAC1D,IAAK,QAAQ,KAAM,CACjB,IAAM,UAAY,GAClB,IAAI,KAAO,IAAI,WAAW,UAAU,WACpC,IAAI,MAAQ,UAAY,GAAK,EAC7B,IAAK,IAAI,EAAI,EAAG,EAAI,UAAW,IAAK,CAClC,IAAK,IAAI,EAAI,EAAG,EAAI,UAAW,IAAK,CAClC,IAAI,IAAK,EACT,IAAI,IAAK,EACT,IAAI,EAAI,EACR,GAAI,EAAI,KAAM,CACZ,KAAM,EAAI,MAAQ,KAClB,IAAK,IAAI,EAAI,MAAQ,KACrB,IAAI,QAAU,KAAK,IAAG,IAAK,IAAG,KAC9B,EAAI,IAAK,QAEX,IAAI,EAAI,MAAM,EAAI,EAAG,EAAG,GACxB,KAAK,EAAI,EAAE,WAAa,EAAI,KAGhC,QAAQ,KAAO,aAAa,OAAO,CACjC,IAAK,OACL,MAAO,UAAW,OAAQ,UAC1B,OAAQ,SAAS,OAAO,GACxB,KAAA,KACA,WAAY,GAAG,OACf,WAAY,GAAG,OACf,OAAQ,GAAG,cACX,OAAQ,GAAG,cACX,OAAQ,KAAK,GAAK,MAGtB,IAAI,GAAK,GAAK,GACd,IAAI,GAAK,GAAK,GACd,IAAI,OAAS,KAAK,KAAK,GAAG,GAAK,GAAG,IAClC,IAAM,OACN,IAAM,OACN,IAAI,OAAS,GACb,IAAI,MAAQ,GACZ,aAAa,UAAU,QAAQ,KAAK,KAClC,GAAK,MAAM,GAAI,GAAK,MAAM,GAC1B,GAAK,MAAM,GAAI,GAAK,MAAM,GAC1B,GAAK,MAAM,GAAI,GAAK,MAAM,GAC1B,GAAK,MAAM,GAAI,GAAK,MAAM,GAC1B,EACA,EAAG,EAAG,EAAG,EACT,MAAO,UAAU,aAAa,QAAS,iBAAiB,SAGrD,SAAS,WAAW,OACzB,QAAA,cAAA,cAAgB,MAAM,GAAK,OAC3B,QAAA,YAAA,YAAc,MAAM,GAAK,OACzB,QAAA,aAAA,aAAe,MAAM,IAAM,OAC3B,QAAA,gBAAA,gBAAkB,cAClB,QAAA,mBAAA,mBAAqB,MAAM,aAAe,GAC1C,QAAA,YAAA,YAAc,MAAM,IAAM,OAC1B,QAAA,SAAA,SAAW,MAAM,IAAM,OACvB,QAAA,kBAAA,kBAAoB,IACpB,QAAA,UAAA,UAAY,MAAM,GAAK,OACvB,QAAA,cAAA,cAAgB,MAAM,IAAM,OAC5B,QAAA,YAAA,YAAc,MAAM,EAAI,OACxB,QAAA,kBAAA,kBAAoB,cAAgB,GACpC,QAAA,0BAAA,0BAA4B,kBAGvB,SAAS,mBAAmB,OACjC,QAAA,0BAAA,0BAAA,QAAA,kBAA4B,kBAAoB,MAG3C,SAAS,cAAc,oBAAqB,MAAO,GAAI,YAAa,KACzE,QAAA,mBAAA,mBAAqB,qBAAuB,MAAM,aAAe,GACjE,QAAA,YAAA,YAAc,OAAS,IACvB,QAAA,SAAA,SAAW,IAAM,IACjB,QAAA,kBAAA,kBAAoB,aAAe,IACnC,QAAA,UAAA,UAAY,KAAO,UAGd,SAAS,cAAc,cAC5B,QAAA,YAAA,YAAc,aAGT,SAAS,gBAAgB,eAAgB,4BAC9C,QAAA,cAAA,cAAgB,eAChB,QAAA,0BAAA,0BAA4B,2BAC5B,QAAA,YAAA,YAAc,UAAY,EAAI,2BAGhC,WAAW;;;;yYCn6CX,IAAM,OAAS,QAAQ,U,aACF,QAAQ,wBAArB,S,SAAA,SAER,IAAM,oBAAsB,IAErB,IAAI,SAAW,M,0BACf,IAAI,YAAc,S,gCAEzB,IAAI,OAAS,GAEb,IAAI,aAAe,GAEnB,IAAI,WAAa,SAAS,SAAS,MAAQ,IAAI,MAAM,WAAW,GAChE,IAAK,UAAU,SAAS,KAAM,CAC5B,WAAa,IAGf,IAAI,SAAW,UAAU,QAAQ,SAAS,IAC1C,IAAI,UAAY,GAET,SAAS,aACd,OAAO,SAGF,SAAS,iBACd,OAAO,UAGT,IAAI,SAEG,SAAS,WAAW,MACzB,SAAW,KAEN,SAAS,aACd,OAAO,UAAe,aAAf,OAGF,SAAS,SAAS,IACvB,UAAU,KAAK,IAGjB,SAAS,WAAW,EAAG,GACrB,IAAI,EAAI,EAAE,KAAK,OAAS,EAAE,KAAK,OAC/B,GAAI,EAAG,CACL,OAAO,EAGT,IAAK,IAAI,GAAK,EAAG,GAAK,EAAE,KAAK,SAAU,GAAI,CACzC,GAAI,EAAE,KAAK,IAAM,EAAE,KAAK,IAAK,CAC3B,OAAQ,OACH,GAAI,EAAE,KAAK,IAAM,EAAE,KAAK,IAAK,CAClC,OAAO,GAGX,OAAO,OACP,OAAO,EAGT,IAAM,kBAAoB,UAC1B,IAAI,OAAS,GAEb,SAAS,cACP,IAAI,KAAO,OAAO,SAAS,UAC3B,OAAO,KAAK,MAAM,UAAU,QAG9B,IAAM,YAAc,mBACpB,SAAS,SAAS,aAAc,MAC9B,GAAI,KAAK,OAAQ,CACf,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,OAAO,SAAU,GAAI,CAC9C,IAAI,EAAI,KAAK,OAAO,IACpB,IAAI,GAAI,aAAa,MAAM,EAAE,OAC7B,GAAI,GAAG,CACL,IAAI,IAAM,EAAE,KAAK,QAAQ,KAAK,KAC9B,OAAO,GAAE,EAAI,OAInB,IAAI,EAAI,aAAa,MAAM,KAAK,QAAU,GAC1C,GAAI,KAAK,OAAS,SAAU,CAC1B,IAAI,GAAI,GACR,IAAK,IAAI,IAAK,EAAG,IAAK,EAAE,SAAU,IAAI,CACpC,IAAI,GAAK,EAAE,KAAI,MAAM,aACrB,OAAO,IACP,GAAE,GAAG,IAAM,EAEb,OAAO,OACF,CACL,OAAO,EAAE,IAAM,KAAK,KAIxB,IAAI,iBAAmB,KAEvB,SAAS,WAAW,cAElB,IAAI,OAAS,GACb,IAAK,IAAI,OAAO,OAAQ,CACtB,IAAI,KAAO,OAAO,KAClB,GAAI,KAAK,MAAO,CACd,GAAI,SAAS,aAAc,MAAO,CAChC,IAAK,IAAI,YAAY,KAAK,MAAO,CAC/B,OAAO,UAAY,KAM3B,IAAI,MAAQ,GACZ,IAAK,IAAI,QAAO,OAAQ,CACtB,GAAI,OAAO,MAAM,CACf,SAEF,IAAI,MAAO,OAAO,MAClB,IAAI,UAAY,SAAS,aAAc,OACvC,GAAI,MAAK,OAAS,SAAU,CAC1B,IAAK,IAAI,KAAK,UAAW,CACvB,IAAK,MAAK,MAAM,GAAI,CAClB,MAAK,MAAM,GAAK,EAChB,MAAM,MAAO,MAGjB,IAAK,IAAI,MAAK,MAAK,MAAO,CACxB,IAAK,UAAU,IAAI,QACV,MAAK,MAAM,IAClB,MAAM,MAAO,WAGZ,CACL,GAAI,YAAc,MAAK,MAAO,CAC5B,MAAM,MAAO,KACb,MAAK,MAAQ,YAMnB,IAAK,IAAI,SAAO,MAAO,CACrB,IAAI,OAAO,OAAO,OAClB,GAAI,OAAK,OAAQ,CACf,OAAK,OAAO,OAAK,QAGrB,SAAS,WAGX,IAAI,UACJ,SAAS,WACP,UAAY,GACZ,IAAI,OAAS,GACb,IAAI,OAAS,GACb,IAAK,IAAI,OAAO,OAAQ,CACtB,IAAI,KAAO,OAAO,KAClB,GAAI,KAAK,OAAS,KAAK,MAAO,CAC5B,IAAK,IAAI,YAAY,KAAK,MAAO,CAC/B,OAAO,UAAY,IAIzB,IAAI,WAAa,GACjB,MACA,IAAK,IAAI,GAAK,EAAG,GAAK,OAAO,SAAU,GAAI,CACzC,IAAI,EAAI,OAAO,IACf,IAAI,YAAc,GAClB,IAAK,IAAI,GAAK,EAAG,GAAK,EAAE,KAAK,SAAU,GAAI,CACzC,IAAI,MAAM,EAAE,KAAK,IACjB,GAAI,OAAO,OAAM,CACf,SAAS,MAEX,IAAI,OAAO,OAAO,OAClB,GAAI,OAAK,YAAY,OAAK,OAAQ,CAChC,SAAS,MAGX,IAAK,aAAe,OAAK,MAAO,CAC9B,YAAc,OAAK,MAAM,OAAK,QAIlC,WAAa,EAAE,aAAa,QAAQ,kBAAmB,SAAU,QAAS,KACxE,OAAO,KAAO,KACd,OAAO,OAAO,OAAO,KAAK,SAE5B,IAAK,WAAa,YAAa,CAC7B,UAAY,YAEd,MAEF,IAAK,IAAI,SAAO,OAAQ,CACtB,GAAI,OAAO,OAAM,CACf,SAEF,IAAI,OAAO,OAAO,OAClB,GAAI,OAAK,OAAS,SAAU,CAC1B,IAAK,IAAI,KAAK,OAAK,MAAO,CACxB,OAAO,KAAQ,MAAf,IAAsB,QAEnB,CACL,IAAK,OAAK,YAAY,OAAK,OAAQ,CACjC,OAAO,KAAQ,MAAf,IAAsB,OAAK,OAC3B,IAAK,WAAa,OAAK,MAAO,CAC5B,UAAY,OAAK,MAAM,OAAK,UAKpC,GAAI,aAAc,CAChB,GAAI,UAAW,CACb,UAAe,UAAf,MAA8B,iBACzB,CACL,UAAY,cAGhB,MAAA,GAAU,YAAa,OAAO,OAAS,IAAM,IAAK,OAAO,KAAK,KAGzD,SAAS,eACd,WACA,GAAI,WAAa,YAAc,SAAS,MAAO,CAC7C,SAAS,MAAQ,WAIrB,SAAS,uBACP,eACA,WAAW,qBAAsB,KAGnC,SAAS,aACP,IAAI,aAAe,cACnB,iBAAmB,aACnB,WAAW,cACX,eAGF,IAAI,cACG,SAAS,YAAY,IAC1B,cAAgB,GAGlB,IAAI,sBAAwB,EAC5B,IAAI,UAAY,MAChB,IAAI,gBAAkB,MACtB,SAAS,cAAc,qBACrB,IAAI,QAAU,WACd,GAAI,mBAAqB,QAAS,CAChC,OAEF,gBAAkB,iBAAmB,oBACrC,iBAAmB,QACnB,GAAI,UAAW,CAEb,OAEF,IAAI,MAAQ,oBACZ,GAAI,KAAK,MAAQ,sBAAwB,oBAAqB,CAG5D,MAAQ,EAEV,UAAY,KACZ,WAAW,WACT,UAAY,MACZ,sBAAwB,KAAK,MAC7B,IAAI,IAAA,GAAS,UAAY,iBACzB,GAAI,IAAI,SAAS,KAAM,CACrB,IAAM,IAAI,MAAM,GAAI,GAEtB,IACE,GAAI,gBAAiB,CACnB,gBAAkB,MAClB,OAAO,QAAQ,UAAU,UAAW,UAAW,SAC1C,CACL,OAAO,QAAQ,aAAa,UAAW,UAAW,MAEpD,MAAO,IAGT,GAAI,UAAW,CACb,SAAS,MAAQ,UAEnB,GAAI,cAAe,CACjB,kBAGD,OAIE,SAAS,QAAQ,OACtB,QAAQ,cACR,aAAe,MAAM,aAGrB,cAAc,OAEd,GAAI,aAAc,CAChB,eACA,WAAW,qBAAsB,MAI9B,SAAS,MAAM,cACpB,IAAI,KAAO,GAEX,IAAI,KAAO,aAAa,QAAQ,kBAAmB,SAAU,QAAS,OACpE,KAAK,KAAK,OACV,MAAO,cAET,IAAI,MAAQ,IAAI,OAAJ,IAAe,KAAf,aACZ,IAAI,UAAY,CACd,aAAA,aACA,MAAA,MACA,KAAA,MAEF,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAI,KAAO,OAAO,KAAK,KAEvB,OAAO,MACP,KAAK,OAAS,KAAK,QAAU,GAC7B,KAAK,OAAO,KAAK,WAEjB,KAAK,MAAQ,SAAS,cAAe,MAEvC,OAAO,KAAK,WACZ,OAAO,KAAK,YAGP,SAAS,SAAS,MACvB,OAAO,KAAK,KACZ,QAAQ,OAAO,KAAK,MACpB,KAAK,KAAO,KAAK,MAAQ,YACzB,IAAI,aAAA,aAA4B,KAAK,IAAjC,WACJ,IAAI,WAAa,GACjB,GAAI,KAAK,OAAS,SAAU,CAC1B,WAAa,QACR,CACL,KAAK,IAAM,KAAK,KAAO,GACvB,KAAK,YAAc,KAAK,aAAe,GACvC,KAAK,YAAY,KAAK,KAAO,KAE/B,KAAK,MAAQ,IAAI,OAAO,aAAc,YACtC,OAAO,KAAK,KAAO,KAEnB,KAAK,MAAQ,SAAS,cAAe,MACrC,IAAI,IAAM,KAAK,MACf,GAAI,KAAK,OAAS,iBAAmB,QAAU,WAAY,CAEzD,IAAM,IAAI,MAAM,KAAK,MAAO,CAC1B,IAAK,SAAA,IAAU,OAAQ,KAAM,OAC3B,GAAI,MAAO,CACT,OAAO,MAAQ,MACV,QACE,OAAO,MAEhB,gBACA,OAAO,QAKb,IAAK,OAAO,WAAY,CACtB,OAAO,WAAa,WAGtB,OAAO,IAGF,SAAS,IAAI,IAAK,MAAO,QAC9B,IAAI,KAAO,OAAO,KAClB,OAAO,MACP,GAAI,KAAK,OAAS,SAAU,CAC1B,GAAI,QAAQ,KAAK,MAAM,UAAY,QAAQ,QAAS,CAClD,KAAK,MAAM,OAAS,OAAS,EAAI,EACjC,cAAc,KAAK,WAEhB,CACL,GAAI,KAAK,QAAU,MAAO,CACxB,KAAK,MAAQ,MACb,cAAc,KAAK,QAKlB,SAAS,IAAI,KAClB,IAAI,KAAO,OAAO,KAClB,OAAO,MACP,OAAO,KAAK,MAGP,SAAS,GAAG,cACjB,WAAW,cACX,cAAc;;;;+/CC/ZhB,QAAQ,KAAO,QAAQ,kBACvB,QAAQ,KAAO,QAAQ,kB,IAEf,IAAsC,KAAtC,IAAK,IAAiC,KAAjC,IAAK,IAA4B,KAA5B,IAAK,MAAuB,KAAvB,MAAO,MAAgB,KAAhB,MAAO,KAAS,KAAT,KAE9B,SAAS,KAAK,GACnB,OAAO,IAAI,aAAa,CAAC,IAGpB,SAAS,KAAK,EAAG,GACtB,IAAI,EAAI,IAAI,aAAa,GACzB,GAAI,GAAK,EAAG,CACV,EAAE,GAAK,EACP,EAAE,GAAK,EAET,OAAO,EAGF,SAAS,KAAK,EAAG,EAAG,GACzB,IAAI,EAAI,IAAI,aAAa,GACzB,GAAI,GAAK,GAAK,EAAG,CACf,EAAE,GAAK,EACP,EAAE,GAAK,EACP,EAAE,GAAK,EAET,OAAO,EAGF,SAAS,KAAK,EAAG,EAAG,EAAG,GAC5B,IAAI,EAAI,IAAI,aAAa,GACzB,GAAI,GAAK,GAAK,GAAK,EAAG,CACpB,EAAE,GAAK,EACP,EAAE,GAAK,EACP,EAAE,GAAK,EACP,EAAE,GAAK,EAET,OAAO,EAGT,SAAS,WAAW,EAAE,EAAE,EAAE,GAIxB,OAAO,KAAK,EAAE,EAAE,EAAE,GAGb,IAAM,SAAW,WAAW,EAAE,EAAE,EAAE,G,0BAClC,IAAM,SAAW,WAAW,GAAI,GAAI,GAAI,I,0BACxC,IAAM,SAAW,WAAW,EAAE,EAAE,EAAE,G,0BAClC,IAAM,cAAgB,QAAQ,O,oCAC9B,IAAM,cAAgB,QAAQ,O,oCAC9B,IAAM,MAAQ,WAAW,EAAE,EAAE,EAAE,G,oBAC/B,IAAM,MAAQ,WAAW,EAAE,EAAE,EAAE,G,oBAC/B,IAAM,MAAQ,WAAW,EAAE,EAAE,EAAE,G,oBAE/B,SAAS,MAAM,IAAK,GACzB,IAAI,GAAK,IAAI,EAAE,IACf,IAAI,GAAK,IAAI,EAAE,IACf,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,WAAW,IAAK,EAAG,EAAG,GACpC,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,OAAO,IAGF,SAAS,OAAO,IAAK,GAC1B,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,OAAO,IAGF,SAAS,SAAS,EAAG,GAC1B,OAAQ,EAAE,GAAK,EAAE,KAAO,EAAE,GAAK,EAAE,KAC9B,EAAE,GAAK,EAAE,KAAO,EAAE,GAAK,EAAE,IAGvB,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,QAAQ,IAAK,GAC3B,IAAI,GAAK,MAAM,EAAE,IACjB,IAAI,GAAK,MAAM,EAAE,IACjB,OAAO,IAGF,SAAS,WAAW,GACzB,OAAO,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GAGrB,SAAS,OAAO,IAAK,EAAG,EAAG,GAChC,IAAI,GAAK,EAAI,EACb,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,YAAY,IAAK,GAC/B,IAAI,IAAM,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GAC7B,GAAI,IAAM,EAAG,CACX,IAAM,EAAI,KAAK,KACf,IAAI,GAAK,EAAE,GAAK,IAChB,IAAI,GAAK,EAAE,GAAK,IAElB,OAAO,IAGF,SAAS,OAAO,EAAG,GACxB,OAAO,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,GAG9B,SAAS,QAAQ,IAAK,EAAG,GAC9B,IAAI,GAAK,EAAE,GAAK,EAChB,IAAI,GAAK,EAAE,GAAK,EAChB,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EACT,IAAI,GAAK,EACT,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,OAAO,EAAG,GACxB,EAAE,IAAM,EAAE,GACV,EAAE,IAAM,EAAE,GACV,EAAE,IAAM,EAAE,GACV,OAAO,EAGF,SAAS,WAAW,IAAK,EAAG,EAAG,GACpC,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,OAAO,IAGF,SAAS,OAAO,IAAK,GAC1B,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,OAAO,IAGF,SAAS,QAAQ,IAAK,EAAG,GAC9B,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAO,GAAK,GAAO,GAAK,GAC5B,IAAI,GAAO,GAAK,GAAO,GAAK,GAC5B,IAAI,GAAO,GAAK,GAAO,GAAK,GAC5B,OAAO,IAIF,SAAS,cAAc,EAAG,EAAG,GAUlC,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GACZ,IAAI,IAAM,EAAE,GAEZ,OAAO,KAAO,IAAM,IAAM,IAAM,KAAO,MAAQ,IAAM,IAAM,IAAM,KAAO,KAAO,IAAM,IAAM,IAAM,KAG5F,SAAS,MAAM,EAAG,GACvB,OAAO,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAGvC,SAAS,SAAS,EAAG,GAC1B,OAAQ,EAAE,GAAK,EAAE,KAAO,EAAE,GAAK,EAAE,KAC9B,EAAE,GAAK,EAAE,KAAO,EAAE,GAAK,EAAE,KACzB,EAAE,GAAK,EAAE,KAAO,EAAE,GAAK,EAAE,IAGvB,SAAS,OAAO,EAAE,GACvB,OAAO,KAAK,SAAS,EAAE,IAGlB,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,SAAS,GACvB,EAAE,GAAK,MAAM,EAAE,IACf,EAAE,GAAK,MAAM,EAAE,IACf,EAAE,GAAK,MAAM,EAAE,IACf,OAAO,EAGF,SAAS,QAAQ,IAAK,GAC3B,IAAI,GAAK,MAAM,EAAE,IACjB,IAAI,GAAK,MAAM,EAAE,IACjB,IAAI,GAAK,MAAM,EAAE,IACjB,OAAO,IAGF,SAAS,WAAW,GACzB,OAAO,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GAGjC,SAAS,OAAO,IAAK,EAAG,EAAG,GAChC,IAAI,GAAK,EAAI,EACb,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,OAAO,IAGF,SAAS,OAAO,EAAG,GACxB,EAAE,GAAK,IAAI,EAAE,GAAI,EAAE,IACnB,EAAE,GAAK,IAAI,EAAE,GAAI,EAAE,IACnB,EAAE,GAAK,IAAI,EAAE,GAAI,EAAE,IACnB,OAAO,EAGF,SAAS,OAAO,EAAG,GACxB,EAAE,GAAK,IAAI,EAAE,GAAI,EAAE,IACnB,EAAE,GAAK,IAAI,EAAE,GAAI,EAAE,IACnB,EAAE,GAAK,IAAI,EAAE,GAAI,EAAE,IACnB,OAAO,EAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,UAAU,IAAK,EAAG,GAChC,IAAI,EAAI,EAAE,GACV,IAAI,EAAI,EAAE,GACV,IAAI,EAAI,EAAE,GACV,IAAI,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GACrC,IAAI,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GACrC,IAAI,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IACrC,OAAO,IAGF,SAAS,YAAY,IAAK,GAC/B,IAAI,IAAM,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GACzC,GAAI,IAAM,EAAG,CACX,IAAM,EAAI,KAAK,KACf,IAAI,GAAK,EAAE,GAAK,IAChB,IAAI,GAAK,EAAE,GAAK,IAChB,IAAI,GAAK,EAAE,GAAK,IAElB,OAAO,IAGF,SAAS,aAAa,GAC3B,IAAI,IAAM,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GAAK,EAAE,GAAG,EAAE,GACzC,GAAI,IAAM,EAAG,CACX,IAAM,EAAI,KAAK,KACf,EAAE,IAAM,IACR,EAAE,IAAM,IACR,EAAE,IAAM,IAEV,OAAO,EAMF,SAAS,qBAAqB,IAAK,EAAG,GAC3C,IAAI,EAAI,EAAE,GACV,IAAI,EAAI,EAAE,GACV,IAAI,EAAI,EAAE,GACV,IAAI,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAAM,EAAI,EAAE,IAC5C,IAAI,KAAO,IAAO,GAAK,MACvB,IAAI,IAAM,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,KAAO,KAAO,GAC3D,IAAI,IAAM,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,MAAQ,KAAO,GAC5D,IAAI,GAAK,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAAM,EAAI,EAAE,IAC7C,OAAO,IAGF,SAAS,QAAQ,IAAK,GAC3B,IAAI,GAAK,MAAM,EAAE,IACjB,IAAI,GAAK,MAAM,EAAE,IACjB,IAAI,GAAK,MAAM,EAAE,IACjB,OAAO,IAGF,SAAS,OAAO,EAAG,GACxB,OAAO,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,GAG/C,SAAS,QAAQ,IAAK,EAAG,GAC9B,IAAI,GAAK,EAAE,GAAK,EAChB,IAAI,GAAK,EAAE,GAAK,EAChB,IAAI,GAAK,EAAE,GAAK,EAChB,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,EAAG,GAC/B,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,SAAS,EAAG,GAC1B,EAAE,IAAM,EACR,EAAE,IAAM,EACR,EAAE,IAAM,EACR,OAAO,EAGF,SAAS,OAAO,EAAG,GACxB,EAAE,IAAM,EAAE,GACV,EAAE,IAAM,EAAE,GACV,EAAE,IAAM,EAAE,GACV,OAAO,EAGF,SAAS,OAAO,KACrB,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EAC3B,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,QAAQ,GACtB,OAAO,EAAE,MAAM,GAGV,SAAS,OAAO,IAAK,GAC1B,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,IAAI,GAAK,EAAE,GACX,OAAO,IAGF,SAAS,OAAO,IAAK,EAAG,EAAG,GAChC,IAAI,GAAK,EAAI,EACb,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,IAAI,GAAK,GAAK,EAAE,GAAK,EAAI,EAAE,GAC3B,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,GAC5B,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,IAAI,GAAK,EAAE,GAAK,EAAE,GAClB,OAAO,IAGF,SAAS,SAAS,IAAK,EAAG,EAAG,GAClC,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GACzB,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GACzB,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GACzB,IAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GACzB,OAAO,IAGF,SAAS,OAAO,EAAG,GACxB,OAAO,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,GAGhE,SAAS,QAAQ,IAAK,EAAG,GAC9B,IAAI,GAAK,EAAE,GAAK,EAChB,IAAI,GAAK,EAAE,GAAK,EAChB,IAAI,GAAK,EAAE,GAAK,EAChB,IAAI,GAAK,EAAE,GAAK,EAChB,OAAO,IAGF,SAAS,MAAM,IAAK,EAAG,EAAG,EAAG,GAClC,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,IAAI,GAAK,EACT,OAAO,IAGF,SAAS,OAAO,KACrB,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,IAAI,GAAK,EACpC,OAAO;;;;iBC9bD,MAAU,KAAV,MAER,IAAI,KAAO,EACX,SAAS,MACP,OAAO,KAAK,MAAQ,KAEtB,OAAO,QAAU,QAAU,IAC3B,QAAQ,IAAM,IACd,QAAQ,KAAO,SAAU,aACvB,KAAO,YAAc,KAAK,OAE5B,QAAQ,QAAU,WAEhB,OAAO,MAAM,MAAQ,KAAQ;;;;2HChB/B,IAAM,OAAS,QAAQ,U,aACyB,QAAQ,kBAAhD,Y,SAAA,YAAa,uB,SAAA,uBACrB,IAAM,QAAU,QAAQ,gBAExB,IAAI,GAAK,OAAO,WAAa,OAAO,YAAc,GAClD,IAAI,QAAU,GACd,IAAI,KAAO,GAKX,SAAS,OAAO,MACd,IAAI,IAAM,KAAK,GACf,IAAI,IAAM,KAAK,GACf,IAAI,GAAK,IAAI,WAAW,KACxB,IAAI,KAAO,EACX,IAAI,KAAO,EACX,MAAO,KAAO,IAAK,CACjB,IAAI,KAAO,IAAI,WAAW,QAC1B,GAAI,OAAS,IAAK,CAChB,KAAO,OACF,GAAI,OAAS,GAAI,CACtB,KAAO,IAAI,WAAW,QAExB,GAAG,QAAU,KAEf,OAAO,MAAM,KAAM,IAAI,QACvB,OAAO,MAAM,KAAM,KACnB,OAAO,GAGF,SAAS,aAAa,SAAU,UACrC,IAAI,IAAM,QAAQ,UAClB,GAAI,IAAK,CACP,OAAO,IAET,KAAK,UAAY,KACjB,IAAI,KAAO,GAAG,UACd,OAAO,KAAD,uBAA8B,UACpC,GAAI,WAAa,OAAQ,CACvB,IAAM,KAAK,OACN,CACL,IAAM,OAAO,MAEf,QAAQ,UAAY,IACpB,OAAO,IAGF,SAAS,YAAY,UAC1B,OAAO,QAAQ,GAAG,WAIpB,IAAM,oBAAsB,gBACrB,SAAS,oBACd,IAAI,SAAW,EACf,IAAK,IAAI,YAAY,GAAI,CACvB,IAAK,KAAK,YAAc,SAAS,MAAM,qBAAsB,CAC3D,QAAQ,KAAR,wCAAqD,UACrD,UAAY,GAAG,UAAU,IAG7B,GAAI,SAAU,CACZ,QAAQ,KAAR,iBAA8B,SAA9B,WAIJ,SAAS,cACP,OAAO,WAAa,GACpB,IAAI,UAAY,SAAS,cAAc,UACvC,UAAU,IAAS,QAAQ,aAA3B,gBAAuD,KAAK,MAC5D,UAAU,OAAS,WACjB,GAAI,OAAO,WAAY,CACrB,IAAI,OAAS,GACb,GAAK,OAAO,WACZ,QAAU,GACV,KAAO,GACP,IAAK,IAAI,OAAO,GAAI,CAClB,IAAI,UAAY,OAAO,KACvB,IAAI,UAAY,GAAG,KACnB,IAAK,IAAI,GAAK,EAAG,GAAK,UAAU,SAAU,GAAI,CAC5C,IAAK,WAAa,UAAU,MAAQ,UAAU,IAAK,CACjD,uBAAuB,KACvB,WAMV,SAAS,qBAAqB,QAAQ,GAAG,YAAY,WAGvD,YAAY,YAAa;;;;4GCvFF,QAAQ,mBAAvB,W,SAAA,W,cACmB,QAAQ,mBAA3B,e,UAAA,e,cACkD,QAAQ,6CAA1D,sB,UAAA,sBAAuB,uB,UAAA,uB,cACN,QAAQ,eAAzB,a,UAAA,aAER,IAAI,cAEG,SAAS,mBACd,cAAgB,aAAa,8BAA+B,QAAQ,MAAM,MAAM,OAAO,SAAC,GAAD,OAAO,IAC9F,uBAAuB,aAAa,6BAA8B,SAGpE,IAAI,KAAO,iBAEX,IAAI,UACJ,SAAS,WACP,GAAI,aAAe,EAAG,CACpB,UAAY,KAAK,MAAM,cAAc,YAChC,CACL,IAAI,OAAS,KAAK,MAAM,cAAc,OAAS,GAC/C,UAAY,OAAS,UAAY,OAAS,OAAS,EAErD,OAAO,cAAc,WAGhB,SAAS,gBAAgB,UAC9B,WAAa,EACb,KAAK,KAAO,WAAW,UACvB,OAAO,sBAAsB,SAAU;;;;uCC7BzC,IAAM,IAAM,QAAQ,uB,IACZ,gBAAoB,IAApB,gBACR,IAAM,OAAS,QAAQ,U,aACW,QAAQ,qBAAlC,sB,SAAA,sB,IACA,IAAQ,KAAR,IACR,IAAM,QAAU,QAAQ,gBACxB,IAAM,SAAW,QAAQ,iBACzB,IAAM,SAAW,QAAQ,4B,IACjB,gBAAoB,SAApB,gBASD,SAAS,SAAS,MACvB,KAAK,GAAK,KACV,KAAK,OAAS,GACd,KAAK,SAAW,GAChB,KAAK,OAAS,KACd,KAAK,UAAY,MACjB,KAAK,aAAe,MACpB,KAAK,gBAAkB,MACvB,KAAK,YAAc,EACnB,KAAK,gBAAkB,KAAK,MAC5B,KAAK,kBAAoB,KAAK,MAC9B,KAAK,aAAe,EACpB,KAAK,eAAiB,KAAK,MAC3B,KAAK,WAAa,KAClB,gBAAgB,MAEhB,GAAI,KAAK,UAAW,CAElB,KAAO,SAAS,SAAS,WAAW,MAAM,WAAW,GAGrD,GAAI,KAAK,OAAO,KAAO,IAAK,CAE1B,IAAI,IAAM,KAAK,YAAY,KAC3B,GAAI,OAAS,EAAG,CACd,IAAI,SAAW,KAAK,MAAM,IAAI,GAC9B,GAAI,SAAS,QAAQ,QAAU,EAAG,CAChC,KAAO,KAAK,MAAM,EAAG,IAAI,OACpB,CACL,MAAQ,SAEL,CACL,MAAQ,KAGZ,KAAO,KAAK,QAAQ,QAAS,MAC7B,KAAK,KAAU,KAAf,SAEK,CACL,KAAK,KAAO,KAGd,GAAI,KAAK,MAAM,UAAW,CAExB,KAAK,MAAQ,KAAK,UACb,GAAI,KAAK,MAAM,QAAS,CAG7B,KAAK,MAAQ,KAAK,KAAK,QAAQ,OAAQ,YAClC,CAEL,KAAK,MAAQ,KAAK,KAGpB,KAAK,QAAQ,OAEb,KAAK,MAAM,OAAQ,KAAK,aAAa,KAAK,OAC1C,KAAK,MAAM,UAAW,KAAK,SAAS,KAAK,OACzC,KAAK,MAAM,QAAS,KAAK,QAAQ,KAAK,OAGxC,SAAS,UAAU,oBAAsB,WACvC,OAAO,KAAK,MAAQ,KAAK,iBAG3B,SAAS,UAAU,SAAW,SAAU,KACtC,GAAI,MAAQ,gBAAiB,CAC3B,GAAI,KAAK,oBAAqB,CAC5B,KAAK,0BACA,CACL,GAAI,KAAK,UAAW,CAClB,QAAQ,MAAR,iCAA+C,IAA/C,aAA+D,gBAA/D,gBACA,GAAI,OAAO,WAAY,CACrB,OAAO,iBACF,CACL,SAAS,SAAS,cAEf,CACL,QAAQ,KAAR,iCAA8C,IAA9C,aAA8D,gBAA9D,mBAMR,SAAS,UAAU,aAAe,SAAU,KAAM,WAChD,IAAI,OAAS,KACb,SAAS,KAAK,KAAK,MACnB,OAAO,UAAY,KACnB,OAAO,aAAe,MACtB,OAAO,GAAK,KAAK,GACjB,OAAO,OAAO,KAAK,IAAM,KACzB,sBAAsB,YAAa,OAAO,IAC1C,OAAO,OAAS,KAAK,OACrB,GAAI,KAAK,QAAS,CAChB,OAAO,SAAS,KAAK,SAGvB,OAAO,OAAO,SAAS,SACvB,OAAO,SAAS,QAAQ,OAAQ,CAC9B,UAAW,OAAO,GAClB,WAAY,KAAK,aAEnB,aAIF,SAAS,UAAU,IAAM,SAAU,KACjC,OAAO,SAAS,MAAM,IAAK,KAAM,OAGnC,SAAS,UAAU,KAAO,SAAU,IAAK,KAAM,WAC7C,SAAS,YAAY,KAAK,KAAM,IAAK,KAAM,YAG7C,SAAS,UAAU,QAAU,SAAU,GACrC,QAAQ,MAAM,kBACd,QAAQ,MAAM,GACd,MAAM,GAIR,SAAS,UAAU,MAAQ,SAAU,IAAK,IACxC,OAAO,IAAI,KAAK,SAAS,MACzB,KAAK,SAAS,KAAO,SAAS,gBAAgB,OAAQ,KAAM,WAE1D,OAAO,GAAG,KAAM,aAIpB,SAAS,UAAU,sBAAwB,WAAY,IAAA,MAAA,KACrD,GAAI,KAAK,0BAA2B,CAClC,OAEF,KAAK,0BAA4B,KACjC,IAAI,IAAM,IAAI,eACd,IAAI,KAAK,MAAU,QAAQ,aAA3B,eAAuD,MAEvD,IAAI,OAAS,WACX,MAAK,0BAA4B,MACjC,IAAI,KACJ,IACE,KAAO,IAAI,aACX,IAAI,IAAM,KAAK,MAAM,MACrB,GAAI,KAAO,IAAI,IAAK,CAClB,MAAK,SAAS,IAAI,MAEpB,MAAO,GACP,QAAQ,MAAM,uDAAwD,MAAQ,oBAG9E,IAAK,MAAK,gBAAiB,CACzB,MAAK,gBAAkB,KACvB,WAAW,WACT,MAAK,gBAAkB,MACvB,MAAK,yBACJ,QAIT,IAAI,QAAU,WACZ,MAAK,0BAA4B,OAEnC,IAAI,KAAK,OAGX,SAAS,UAAU,gBAAkB,WACnC,IAAI,OAAS,KACb,QAAQ,OAAO,QACf,QAAQ,OAAO,iBACf,OAAO,gBAAkB,OACvB,OAAO,YACT,KAAK,wBACL,WAAW,WACT,OAAO,OAAO,iBACd,QAAQ,OAAO,QACf,OAAO,gBAAkB,MACzB,OAAO,QAAQ,OACd,IAAI,OAAO,YAAc,OAAO,YAAc,IAAK,QAGxD,SAAS,UAAU,gBAAkB,WACnC,GAAI,KAAK,WAAa,KAAK,OAAO,aAAe,EAAG,CAGlD,KAAK,WACL,QAAQ,KAAK,aAIjB,SAAS,UAAU,QAAU,SAAU,eACrC,IAAI,OAAS,KAEb,IAAI,MAAW,OAAO,YAAc,EAAK,OAAO,MAAQ,OAAO,MAA3D,SAAwE,SAAS,kBACnF,eAAiB,OAAO,IAAM,OAAO,OAArC,cAA4D,OAAO,GAAnE,WAAgF,OAAO,OAAW,IAEpG,IAAI,OAAS,IAAI,UAAU,MAC3B,OAAO,WAAa,cACpB,OAAO,OAAS,OAIhB,SAAS,MAAM,IACb,OAAO,WACL,GAAI,OAAO,SAAW,OAAQ,CAC5B,OAEF,GAAE,WAAF,EAAA,YAIJ,SAAS,MAAM,YACb,OAAO,OAAS,KAChB,GAAI,OAAO,UAAW,CACpB,OAAO,gBAAkB,KAAK,MAC9B,OAAO,aAAe,KACtB,sBAAsB,eAAgB,GAExC,OAAO,UAAY,MACnB,IAAK,WAAY,CACf,IACE,OAAO,QACP,MAAO,KAIX,IAAI,QAAQ,QAGd,SAAS,MAAM,YACb,MAAM,YACN,OAAO,kBAIT,IAAI,UAAY,MAChB,OAAO,OAAO,iBAAiB,QAAS,MAAM,SAAU,KACtD,IAAK,UAAW,CACd,QAAQ,IAAI,yDAA0D,KACtE,YACK,CACL,QAAQ,MAAM,kBAAmB,SAQrC,OAAO,OAAO,iBAAiB,UAAW,MAAM,SAAU,SAExD,OAAO,QAAQ,gBAAgB,aAC/B,gBAAgB,OAAQ,IAAI,WAAW,QAAQ,UAIjD,OAAO,OAAO,iBAAiB,OAAQ,MAAM,WAC3C,QAAQ,IAAI,kBACZ,UAAY,KAEZ,OAAO,YAAc,KAIvB,OAAO,SAAW,MAAM,WACtB,QAAQ,IAAI,2CACZ,MAAM,QAER,OAAO,OAAO,iBAAiB,QAAS,OAAO,UAE/C,IAAI,OAAS,MAAM,WACjB,GAAI,KAAK,MAAQ,OAAO,eAAiB,SAAS,WAAa,OAAO,WAAa,OAAO,OAAO,aAAe,EAAG,CACjH,OAAO,KAAK,QAEd,WAAW,OAAQ,SAAS,aAE9B,WAAW,OAAQ,SAAS;;;;ACxS9B;;ACAA;;ACAA;;+BCCA,IAAM,cAAgB,QAAQ,2BAC9B,cAAc,eAAiB,aAE/B,IAAM,OAAS,QAAQ,UACvB,IAAM,SAAW,QAAQ,sBACzB,IAAM,OAAS,QAAQ,oB,aACsB,QAAQ,eAA7C,a,SAAA,aAAc,O,SAAA,OAAQ,W,SAAA,W,IACtB,IAAyD,KAAzD,IAAK,IAAoD,KAApD,IAAK,MAA+C,KAA/C,MAAO,IAAwC,KAAxC,IAAK,IAAmC,KAAnC,IAAK,IAA8B,KAA9B,IAAK,MAAyB,KAAzB,MAAO,IAAkB,KAAlB,IAAK,KAAa,KAAb,KAAM,GAAO,KAAP,GAC1D,IAAM,MAAQ,QAAQ,mB,IACd,KAAS,MAAT,KACR,IAAM,IAAM,QAAQ,iBACpB,IAAM,KAAO,QAAQ,kBACrB,IAAM,QAAU,QAAQ,qBACxB,IAAM,QAAU,QAAQ,qBACxB,IAAM,SAAW,QAAQ,sBACzB,IAAM,GAAK,QAAQ,gB,cAC0B,QAAQ,qBAA7C,M,UAAA,MAAO,M,UAAA,MAAO,U,UAAA,UAAW,Q,UAAA,Q,cAC2C,QAAQ,mBAA5E,S,UAAA,SAAU,K,UAAA,KAAM,M,UAAA,MAAO,W,UAAA,WAAY,O,UAAA,OAAQ,Q,UAAA,QAAS,M,UAAA,MAAO,K,UAAA,KACnE,IAAM,aAAe,QAAQ,O,IACrB,eAAmB,QAAnB,eAER,OAAO,EAAI,OAAO,GAAK,GACvB,EAAE,WAAa,EACf,EAAE,QAAU,GACZ,EAAE,UAAY,GACd,EAAE,QAAU,IAIZ,IAAM,WAAa,IAAM,GACzB,IAAM,YAAc,IAEb,SAAS,OACd,GAAI,OAAO,MAAO,CAEhB,IAAI,KAAK,CAAE,OAAA,SAGb,IAAI,KAAO,cAAc,QAAQ,OAAQ,GAEzC,IAAM,kBAAoB,QAAQ,6BAClC,IAAM,kBAAoB,QAAQ,6BAClC,IAAM,sBAAwB,QAAQ,+BACtC,IAAI,OAAS,OAAS,EAAI,SAAW,KACrC,IAAI,KACJ,GAAI,SAAW,UAAY,KAAM,CAC/B,KAAO,CAAE,KAAM,kBAAmB,QAAS,uBACtC,GAAI,QAAU,SAAW,MAAO,CACrC,KAAO,CAAE,KAAM,kBAAmB,QAAS,sBACtC,CACL,KAAO,CAAE,KAAM,sBAAuB,QAAS,oBAGjD,IAAK,OAAO,QAAQ,CAClB,WAAA,WACA,YAAA,YACA,OAAA,OACA,KAAA,KACA,qBAAsB,MACtB,UAAW,MACX,WAAY,QACV,CACF,OAEF,KAAO,OAAO,KAEd,GAAG,WAAW,GAAK,IACnB,GAAG,cAAc,GAEjB,IAAI,YAAc,SAAS,KAAK,CAC9B,IAAK,mBACL,WAAY,GAAG,QACf,WAAY,GAAG,QACf,OAAQ,GAAG,cACX,OAAQ,GAAG,gBAGb,IAAI,oBAAsB,QAAQ,OAAO,iCACzC,IAAI,oBAAsB,QAAQ,OAAO,2BACzC,IAAI,UAAY,SAAS,SAAS,MAElC,IAAM,SAAW,GACjB,IAAM,QAAU,IAChB,IAAI,OAAS,CACX,QAAA,QACA,OAAQ,GACR,KAAM,EACN,SAAU,EACV,MAAO,EACP,OAAQ,IACR,KAAM,EACN,WAAY,EACZ,aAAc,IACd,UAAW,IACX,SAAU,IAAI,KACd,WAAY,IAAI,IAAK,IAAK,IAC1B,SAAU,SAEV,OAAQ,CACN,WAAY,GACZ,aAAc,IAEhB,OAAQ,CACN,WAAY,GACZ,aAAc,IAEhB,OAAQ,CACN,WAAY,IACZ,aAAc,IAEhB,OAAQ,CACN,WAAY,IACZ,aAAc,KAEhB,OAAQ,CACN,WAAY,KACZ,aAAc,KAGlB,IAAI,WACJ,IAAI,aACJ,IAAI,OACJ,SAAS,cACP,IAAK,aAAc,CACjB,IAAI,IAAM,OAAO,gBAAgB,EAAG,GAAG,IACvC,aAAe,aAAa,CAC1B,KAAM,CAAC,IAAK,IAAK,QAKvB,SAAS,OAAO,GACd,OAAO,MAAM,EAAI,KAAM,IAGzB,SAAS,OAAO,GACd,OAAO,GAAK,GACZ,IAAK,EAAG,CACN,MAAO,IAET,GAAI,EAAI,IAAW,CACjB,OAAW,EAAE,KAAY,QAAQ,GAAjC,IAEF,GAAI,EAAI,IAAQ,CACd,OAAW,EAAE,KAAS,QAAQ,GAA9B,IAEF,GAAI,EAAI,IAAK,CACX,OAAW,EAAE,KAAM,QAAQ,GAA3B,IAEF,GAAI,EAAI,EAAG,CACT,MAAA,GAAU,MAAM,GAElB,IAAI,OAAS,EACb,IAAI,MAAQ,GACZ,MAAO,KAAM,CACX,GAAI,EAAI,MAAO,CACb,OAAO,EAAE,QAAQ,QAEnB,OAAS,GACT,UAIJ,IAAI,YAAc,EAClB,KAAK,UAAU,CACb,KAAM,QACN,UAAW,OACX,OAAQ,CACN,UAAW,SAAA,QAAA,OAAM,YAAY,eAKjC,IAAI,WAAa,cAAc,QAAQ,OAAQ,GAC/C,IAAI,kBAAoB,WACxB,IAAI,UAAY,KAAK,cAAc,QAAQ,QAAS,GAAG,cAAc,QAAQ,QAAS,IACtF,IAAI,MAAQ,KAAK,aAAa,KAAM,KACpC,IAAI,UAAY,OAChB,IAAI,cAAgB,MACpB,IAAM,gBAAkB,KAAK,EAAE,EAAE,EAAE,KACnC,IAAM,oBAAsB,KAAK,EAAE,EAAE,EAAE,IACvC,SAAS,aAAa,EAAG,EAAG,OAC1B,IAAI,SAAW,IAAI,EAAG,YACtB,IAAI,eAAiB,IAAI,EAAG,IAAI,WAAa,MAAO,WACpD,IAAI,SAAW,IAAI,EAAG,gBAEtB,IAAI,QAAU,UAAU,GAAK,EAAI,SACjC,IAAI,QAAU,UAAU,GAAK,EAAI,SAEjC,UAAU,GAAK,QAAU,EAAI,SAC7B,UAAU,GAAK,QAAU,EAAI,SAC7B,WAAa,eAEb,GAAI,aAAe,EAAG,CAEpB,UAAU,GAAK,UAAU,GAAK,EAEhC,cAAc,QAAQ,QAAS,UAAU,IACzC,cAAc,QAAQ,QAAS,UAAU,IACzC,cAAc,QAAQ,OAAQ,YAEhC,IAAI,aAAe,GACnB,SAAS,WACP,IAAI,GAAK,OAAO,SAChB,IAAK,IAAI,GAAK,EAAG,GAAK,aAAa,SAAU,GAAI,CAC/C,IAAI,GAAK,aAAa,IACtB,IAAI,aAAe,IAAI,EAAG,GAAG,SAAW,GAAG,KAC3C,IAAI,GAAK,QAAQ,aAAc,GAAK,QAAQ,GAAG,SAAU,GACzD,GAAG,SAAW,aACd,aAAa,GAAG,EAAG,GAAG,EAAG,GAAG,MAAQ,IACpC,GAAI,eAAiB,EAAG,CACtB,aAAa,OAAO,GAAI,KAI9B,SAAS,OAAO,EAAG,EAAG,OACpB,kBAAoB,IAAI,EAAG,IAAI,kBAAoB,MAAO,WAC1D,aAAa,KAAK,CAChB,EAAA,EAAG,EAAA,EAAG,MAAA,MACN,SAAU,IAId,IAAM,YAAc,KAAK,EAAE,EAAE,EAAE,GAC/B,IAAM,YAAc,KAAK,GAAK,GAAK,EAAG,GACtC,IAAM,OAAS,GACf,SAAS,WAAW,EAAG,EAAG,EAAG,GAAI,GAAI,OACnC,IAAI,SAAW,IAAI,GAAI,GAAK,IAC5B,IAAI,SAAW,CAAC,EAAE,GAClB,IAAI,QAAU,CAAC,EAAE,GACjB,IAAK,IAAI,GAAK,EAAG,IAAM,SAAW,IAAK,GAAI,CACzC,OAAO,SAAU,SACjB,IAAI,MAAQ,GAAK,SAAW,GAAK,EAAI,GACrC,MAAM,QAAS,EAAI,IAAI,OAAS,GAAI,EAAI,IAAI,OAAS,IACrD,GAAI,OAAS,EAAG,CACd,QAAQ,QAAS,SACjB,WAAW,QAAS,QAAS,SAAU,IAEzC,GAAI,GAAI,CACN,GAAG,SAAS,SAAS,GAAI,SAAS,GAAI,QAAQ,GAAI,QAAQ,GAAI,EAAG,EAAG,GAAK,SAI/E,IAAM,WAAa,KACnB,SAAS,gBAAgB,aAAc,GAAI,GAAI,EAAG,EAAG,GAAG,IAChD,UAAuB,aAAvB,UAAW,QAAY,aAAZ,QACjB,IAAI,KAAO,GAAK,EAAE,EAClB,IAAI,KAAO,GAAK,EAAE,EAClB,IAAI,WAAa,UAAU,YAC3B,IAAI,QAAU,EAAI,GAClB,GAAG,WAAW,KAAM,KAAM,EAAG,WAAa,EAAG,IAAM,UAAU,MAAO,gBACpE,GAAG,WAAW,KAAM,KAAM,EAAI,KAAO,WAAY,IAAM,UAAU,OACjE,IAAI,OAAS,EAAE,EAAI,UAAY,QAAQ,OAAS,GAChD,IAAI,GAAK,QAAU,MACnB,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,EAAI,GAAK,MAAQ,GACrB,IAAI,OAAS,QAAQ,IACrB,IAAI,EAAI,KAAO,IAAI,OAAO,MAAQ,OAAO,YAAc,OAAO,gBAAgB,YAAc,EAC5F,IAAI,EAAI,KAAO,IAAI,OAAO,MAAQ,OAAO,YAAc,OAAO,gBAAgB,YAAc,EAAI,OAChG,IAAI,GAAK,GAAK,EAAI,MAAM,EACxB,GAAG,WAAW,EAAG,EAAG,GAAI,OAAO,KAAO,EAAG,IAAM,aAC/C,GAAG,WAAW,EAAG,EAAG,GAAK,KAAS,OAAO,KAAM,IAAM,OAAO,KAAK,OACjE,WAAW,KAAM,KAAM,EAAI,EAAG,EAAG,EAAI,OAAQ,aAI/C,IAAI,IAAM,EAAE,EACZ,IAAI,IAAM,EAAE,EAAE,OACd,GAAG,WAAW,KAAO,IAAK,KAAO,IAAK,KAAO,IAAK,KAAO,IAAK,EAAI,IAAK,EAAG,aAG5E,IAAI,UAAY,OAChB,SAAS,KAAK,IAEZ,GAAG,WAAW,EAAG,EAAG,EAAG,GACvB,IAAI,EAAI,EAAE,GAEV,IAAI,EAAI,EACR,IAAI,eAAiB,GAAG,cAAgB,EACxC,IAAI,EAAI,EAER,IAAI,EAAI,IAAI,WAAY,aACxB,IAAI,OAAS,WAAa,EAC1B,IAAI,OAAS,EAEb,GAAI,OAAQ,CACV,OAAO,QAAU,MAGnB,IAAK,UAAU,OAAQ,YAAa,CAClC,WAAa,MAAM,QACnB,IAAI,MAAQ,KACZ,GAAI,OAAQ,CACV,MAAQ,MACR,OAAO,UAET,OAAS,aAAa,QACtB,OAAO,QAAU,MACjB,cAGF,GAAI,GAAG,WAAW,CAAE,EAAA,EAAG,EAAA,EAAG,KAAI,UAAW,KAAO,SAAW,OAAS,EAAG,GAAG,aAAe,OACvF,MAAM,YAAY,KAAK,GACvB,CACA,MAAQ,KAAO,GAAK,EACpB,cAAc,QAAQ,OAAQ,MAC9B,WAAW,WAAA,OAAM,OAAO,gBAAgB,OAAS,IAAI,GAGvD,GAAK,eASL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,SAAkC,OAAO,MACzC,GAAK,GAAG,YACR,OAAO,KAAO,MAAM,GAAG,OAAO,OAAO,KAAM,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,QACnE,GAAK,eAEL,GAAI,WAAa,IAAK,CACpB,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,SAAkC,OAAO,MACzC,GAAK,GAAG,YACR,OAAO,KAAO,MAAM,GAAG,OAAO,OAAO,KAAM,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,MACnE,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,aAAsC,OAAO,UAC7C,GAAK,GAAG,YACR,OAAO,SAAW,MAAM,GAAG,OAAO,OAAO,SAAU,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,MAC3E,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,UAAmC,OAAO,OAC1C,GAAK,GAAG,YACR,OAAO,MAAQ,OAAO,GAAG,OAAO,OAAO,MAAO,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,KACtE,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,WAAoC,OAAO,QAC3C,GAAK,GAAG,YACR,OAAO,OAAS,OAAO,GAAG,OAAO,OAAO,OAAQ,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,MACxE,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,eAAwC,OAAO,YAC/C,GAAK,GAAG,YACR,OAAO,WAAa,OAAO,GAAG,OAAO,OAAO,WAAY,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,GAAK,IAAK,MAClF,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,iBAA0C,OAAO,cACjD,GAAK,GAAG,YACR,OAAO,aAAe,OAAO,GAAG,OAAO,OAAO,aAAc,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,KACpF,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,kBAA2C,OAAO,WAClD,GAAK,GAAG,YACR,OAAO,UAAY,MAAM,GAAG,OAAO,OAAO,UAAW,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,OAC7E,GAAK,mBACA,CACL,IAAI,UAAY,MAAM,YAAc,WAAa,IACjD,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,UAAmC,UAAnC,KACA,GAAK,GAAG,YAAc,EACtB,IAAI,IAAA,QAAc,UAClB,GAAI,OAAO,KAAM,CACf,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,eAAwC,OAAO,KAAK,YACpD,GAAK,GAAG,YACR,OAAO,KAAK,WAAa,OAAO,GAAG,OAAO,OAAO,KAAK,WACpD,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,GAAK,IAAK,IAAM,IAAI,EAAG,cACzC,GAAK,eAEL,GAAG,MAAM,MAAO,EAAG,EAAG,EAAtB,iBAA0C,OAAO,KAAK,cACtD,GAAK,GAAG,YACR,OAAO,KAAK,aAAe,OAAO,GAAG,OAAO,OAAO,KAAK,aAAc,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,IAAK,EAAG,IAAK,KAC9F,GAAK,gBAIT,GAAG,MAAM,CACP,EAAG,EAAI,EAAG,EAAG,EAAG,EAAG,GAAG,aAAe,EAAG,EAAG,EAAG,EAAG,EAAI,IAIvD,EAAI,WAAa,EAAI,EACrB,EAAI,EAAI,GAAG,cAEX,GAAI,GAAG,WAAW,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAG,GAAG,cAAe,KAAM,OACtD,MAAM,YAAY,KAAK,QAAU,MAAM,YAAY,KAAK,GACxD,CACA,cAAgB,MAChB,OAAO,GAAK,IAAM,GAEpB,GAAK,GAAG,cAAgB,EACxB,IAAM,SAAW,IACjB,IAAI,SAAW,GAAG,OAAO,kBAAmB,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAG,SAAU,IAAK,EAAG,IAAK,WACjF,GAAI,IAAI,SAAW,mBAAqB,KAAU,CAChD,OAAO,GAAK,GAAK,SAAW,mBAE9B,GAAK,SAAW,EAChB,GAAI,GAAG,WAAW,CAAE,EAAA,EAAG,EAAA,EAAG,EAAA,EAAG,EAAG,GAAG,cAAe,KAAM,OACtD,MAAM,YAAY,KAAK,SACvB,MAAM,YAAY,KAAK,GACvB,CACA,cAAgB,MAChB,OAAO,GAAK,GAAK,GAEnB,GAAK,GAAG,cAAgB,EACxB,IAAI,YAAc,MAAM,aACxB,GAAI,YAAa,CACf,cAAgB,KAChB,MAAM,SAAS,WACf,QAAQ,UAAU,GAAK,QAAU,GAAI,UAAU,GAAK,QAAU,EAAG,YAAY,KAG/E,WACA,IAAI,KAAO,IAAI,EAAG,YAClB,IAAI,YAAc,MAAM,GAAK,GAAG,cAAgB,GAAG,aAAa,GAChE,IAAI,YAAc,GAAG,MAAM,KAAM,EAAG,YAAa,EAC5C,KAAK,QAAQ,GADA,KAElB,GAAG,SAAS,EAAI,EAAG,YAAa,EAAI,YAAc,EAAG,YAAc,GAAG,YAAa,EAAI,EAAG,qBAE1F,EAAI,WAAa,EAIjB,IAAI,aAAe,IACnB,IAAI,UAAY,WAAa,EAAE,aAAe,EAC9C,IAAI,UAAY,WAAa,EAC7B,EAAI,EACJ,GAAG,SAAS,UAAY,GAAK,EAAI,IAAK,UAAY,GAAK,EAAI,IAAK,EAAG,EAAG,EAAG,UACzE,GAAG,SAAS,UAAY,GAAK,EAAI,EAAG,UAAY,GAAK,EAAI,EAAG,EAAG,EAAG,EAAG,UACrE,GAAG,SAAS,UAAY,GAAK,EAAI,EAAG,UAAY,GAAK,EAAI,EAAG,EAAG,EAAG,EAAG,UACrE,IAAI,GAAK,aAAe,OAAO,SAAW,KAC1C,IAAI,SAAW,EAAI,EAAI,GAAG,YAC1B,KAAK,iBAAiB,KAAM,UAAW,SAAU,EAAG,GAAG,YAAa,KAAK,MAAM,QAAS,UAAY,UAAW,EAC1G,OAAO,IADZ,MAEA,GAAG,SAAS,UAAY,EAAG,SAAU,UAAY,EAAG,EAAG,EAAI,EAAG,qBAE9D,EAAI,OACJ,EAAI,OAEJ,MAAM,UAAW,EAAG,GACpB,IAAI,SAAW,MAAM,QAAQ,KAAK,OAAS,GAAM,KACjD,UAAU,IAAM,MAAM,QAAQ,KAAK,GAAK,SACxC,UAAU,IAAM,MAAM,QAAQ,KAAK,GAAK,SACxC,UAAU,IAAM,MAAM,QAAQ,KAAK,GAAK,SACxC,UAAU,IAAM,MAAM,QAAQ,KAAK,GAAK,SACxC,IAAI,KAAO,MAAM,OACjB,GAAI,MAAQ,KAAK,MAAO,CACtB,MAAM,UAAW,UAAW,KAAK,OACjC,cAAgB,KAElB,GAAI,UAAU,IAAM,UAAU,GAAI,CAChC,UAAU,IAAM,UAAU,GAAK,EAAI,KACnC,UAAU,IAAM,UAAU,GAAK,EAAI,KACnC,cAAc,QAAQ,QAAS,UAAU,IACzC,cAAc,QAAQ,QAAS,UAAU,IAE3C,UAAU,GAAK,MAAM,UAAU,IAAK,EAAE,KAAM,GAC5C,UAAU,GAAK,MAAM,UAAU,IAAK,EAAE,KAAM,GAE5C,GAAI,MAAM,aAAc,CACtB,cAAgB,KAElB,GAAI,cAAe,CACjB,MAAM,SAAS,eACV,CACL,UAAU,GAAK,OAAS,EAAE,EAC1B,UAAU,GAAK,OAAS,EAAE,EAE5B,UAAU,GAAK,UAAU,IAAM,UAAU,GAAK,QAAU,EAAI,KAC5D,UAAU,GAAK,UAAU,IAAM,UAAU,GAAK,QAAU,EAAI,KAE5D,IAAI,UAAY,EAChB,IAAI,UAAY,OAAS,EACzB,IAAI,UAAY,EAChB,SAAS,YAAY,MACnB,IAAI,MAAQ,GAAG,MAAM,KAAM,UAAW,UAAW,EAAG,MACpD,UAAY,IAAI,UAAW,OAC3B,WAAa,GAAG,YAElB,GAAI,EAAG,CACL,aAAe,cAAc,QAAQ,UAA1B,KAAuC,UAAU,GAAG,QAAQ,GAA5D,IAAkE,UAAU,GAAG,QAAQ,IAEpG,SAAS,cAAc,MACrB,IAAI,GAAK,GAAK,KAAK,GAAK,UAAU,IAAM,KAAO,EAC/C,IAAI,GAAK,GAAK,KAAK,GAAK,UAAU,IAAM,KAAO,EAC/C,IAAI,GAAK,EAAI,KAAO,KAAK,EACzB,IAAI,GAAK,EAAI,KAAO,KAAK,EACzB,GAAI,OAAS,EAAG,CACd,GAAK,MAAM,IACX,GAAK,MAAM,IACX,GAAK,MAAM,IACX,GAAK,MAAM,IAEb,GAAI,OAAO,QAAQ,KAAM,CACvB,GAAG,gBAAgB,CACjB,EAAG,GAAK,GACR,EAAG,GAAK,GACR,EAAG,GAAK,EACR,EAAG,GAAK,EACR,EAAG,EAAE,GAAK,EACV,MAAO,kBAET,YAAW,SAAU,KAAK,UAAf,UAAkC,KAAK,SAAvC,KAAoD,KAAK,GAAzD,IAA+D,KAAK,GAApE,KACX,YAAW,UAAW,OAAO,KAAK,aAClC,GAAI,KAAK,KAAK,OAAQ,CACpB,YAAW,SAAU,KAAK,KAAK,SAInC,GAAI,OAAO,QAAQ,OAAQ,CACzB,IAAI,GAAK,OAAO,UAAU,GAAK,KAAK,IAAM,KAAK,EAAI,OAAO,SAC1D,IAAI,GAAK,OAAO,UAAU,GAAK,KAAK,IAAM,KAAK,EAAI,OAAO,SAC1D,IAAI,GAAK,KAAK,KAAK,GAAK,OAAO,QAAU,IACzC,YAAW,UAAW,GAAG,QAAQ,KAIrC,IAAI,cAAgB,MACpB,SAAS,mBAAmB,MAC1B,GAAI,KAAK,QAAU,eACjB,UAAU,IAAM,KAAK,IAAM,UAAU,GAAK,KAAK,GAAK,KAAK,GACzD,UAAU,IAAM,KAAK,IAAM,UAAU,GAAK,KAAK,GAAK,KAAK,EACzD,CACA,cAAgB,KAChB,cAAc,OAIlB,YAAc,EACd,SAAS,SAAS,MAAO,OAAQ,QAC7B,YACF,IAAI,GAAK,KAAK,GAAK,OAAO,GAAK,WAC/B,IAAI,GAAK,KAAK,GAAK,OAAO,GAAK,WAC/B,IAAI,WAAa,CACf,EAAG,GAAK,KAAK,GAAK,UAAU,IAAM,KAAO,EACzC,EAAG,GAAK,KAAK,GAAK,UAAU,IAAM,KAAO,EACzC,EAAG,EAAI,KAAO,KAAK,EACnB,EAAG,EAAI,KAAO,KAAK,EACnB,EAAG,EAAE,GAAK,GACV,OAAQ,MAEV,IAAI,QAAU,MACd,IAAK,OAAO,IAAK,CACf,IAAK,KAAK,IAAK,CACb,OAEF,MAAQ,EACR,QAAU,UACL,IAAK,KAAK,IAAK,CACpB,MAAQ,EACR,QAAU,KAEZ,WAAW,OAAS,OAAS,EAAI,oBAAsB,oBACvD,WAAW,cAAgB,CACzB,OAAQ,CAAC,MAAQ,QAAU,QAAU,WAAY,OAAO,QACxD,MAAO,CAAC,GAAG,WAAY,GAAG,WAAY,EAAE,WAAY,QAEtD,IAAI,KAAO,KAAK,KAChB,IAAK,KAAM,CACT,KAAO,CAAC,KAAK,KAAO,UAAW,OAAO,KAAO,UAAW,aACxD,IAAK,QAAS,CACZ,KAAK,KAAO,MAGhB,aAAa,KAAO,KACpB,aAAa,KAAK,YAEpB,SAAS,UAAU,UAAW,MAAO,cACnC,IAAI,QAAU,SAAS,SAAW,QAAU,EAAI,KAAO,UAAU,GACjE,IAAI,QAAU,SAAS,SAAW,QAAU,EAAI,KAAO,UAAU,GACjE,IAAI,QAAU,SAAS,SAAW,QAAU,EAAI,KAAO,UAAU,GACjE,IAAI,QAAU,SAAS,SAAW,QAAU,EAAI,KAAO,UAAU,GACjE,IAAI,UAAY,IAAI,WAAY,WAChC,IAAI,SAAW,IAAI,EAAG,MAAM,OAAS,YACrC,IAAI,SAAW,IAAI,UAAY,EAAG,MAAM,OAAS,YACjD,IAAI,SAAW,IAAI,EAAG,MAAM,OAAS,YACrC,IAAI,SAAW,IAAI,UAAY,EAAG,MAAM,OAAS,YACjD,IAAI,KAAO,IAAI,WAAY,UAAY,GACvC,IAAK,IAAI,GAAK,SAAU,IAAM,WAAY,GAAI,CAC5C,IAAK,IAAI,GAAK,SAAU,IAAM,WAAY,GAAI,CAC5C,IAAI,KAAO,OAAO,gBAAgB,UAAW,GAAK,UAAY,IAC9D,IAAI,GAAK,MAAM,GAAK,YACpB,IAAI,GAAK,MAAM,GAAK,YACpB,IAAI,OAAS,OAAO,gBAAgB,UAAY,EAAG,GAAK,KAAO,IAE/D,SAAS,MAAO,OAAQ,MAExB,GAAI,aAAc,CAChB,mBAAmB,UACd,CACL,mBAAmB,WAK3B,IAAM,YAAc,EACpB,IAAI,WAAa,IAAI,GAAI,WAAa,IAAM,WAAW,GAAK,YAAY,GACxE,IAAI,OAAS,MAAM,YACnB,IAAI,MAAQ,KAAK,WAAa,QAAU,YAAa,GACrD,IAAK,OAAS,OAAQ,CACpB,SACA,MAAQ,EAEV,UAAU,OAAS,EAAG,MAAO,QAAQ,QAErC,GAAI,YAAc,GAAI,CACpB,IAAI,KAAO,OAAO,UAAU,UAAU,GAAI,UAAU,GAAI,GACxD,KAAO,MAAQ,KAAK,GACpB,GAAI,MAAQ,KAAK,OAAO,KAAK,EAAG,KAAK,EAAG,UAAU,GAAI,UAAU,KAAO,KAAO,EAAI,GAAI,CACpF,KAAO,KAET,GAAI,KAAM,CACR,YAAW,SAAU,KAAK,GAAf,UAA2B,KAAK,MAC3C,IAAI,SAAW,IAAI,EAAG,UACtB,IAAI,GAAK,MAAM,KAAK,EAAI,SAAW,SACnC,IAAI,GAAK,MAAM,KAAK,EAAI,SAAW,SACnC,GAAK,GAAK,GAAG,KAAK,SAAS,QAAU,UAAU,GAAK,MAAQ,EAC5D,GAAK,GAAK,GAAG,KAAK,SAAS,QAAU,UAAU,GAAK,MAAQ,EAC5D,GAAI,OAAS,EAAG,CACd,GAAK,MAAM,IACX,GAAK,MAAM,IAEb,IAAI,EAAI,GAAK,EAAI,SAAW,YAC5B,GAAG,iBAAiB,GAAK,GAAK,GAAK,GAAK,EAAE,GAAK,EAAG,EAAG,GAAK,CAAC,EAAE,EAAE,EAAE,GAAI,gBAErE,OAAO,YAAY,MACnB,IAAI,aAAe,KAAK,aACxB,GAAI,aAAc,CAAA,IACV,QAAuB,aAAvB,QAAS,UAAc,aAAd,UACf,YAAW,gBAAiB,UAAU,OACtC,IAAK,IAAI,GAAK,EAAG,GAAK,QAAQ,SAAU,GAAI,CAC1C,IAAI,OAAS,QAAQ,IACrB,YAAW,gBAAgB,GAAG,GAAnB,WAA+B,OAAO,KAAK,KAA3C,OAAsD,MAAM,OAAO,OAEhF,GAAI,WAAa,KAAM,CACrB,gBAAgB,aAAc,OAAQ,OAAQ,EAAE,GAAK,EAAG,EAAG,MAMnE,GAAG,SAAS,UAAY,EAAG,EAAG,UAAY,UAAY,EAAG,UAAW,EAAI,EAAG,qBAG7E,SAAS,SAAS,IAChB,OAAO,SAAS,MAChB,KAAK,IAGP,OAAO,SAAS;;;;6FC1oBlB,IAAM,cAAgB,QAAQ,2BAC9B,cAAc,eAAiB,qBAE/B,IAAM,OAAS,QAAQ,U,aACD,QAAQ,kBAAtB,U,SAAA,UACR,IAAM,OAAS,QAAQ,oBACvB,IAAM,UAAY,QAAQ,kBAC1B,IAAM,MAAQ,QAAQ,mB,IACd,MAAkB,KAAlB,MAAO,OAAW,KAAX,OACf,IAAM,IAAM,QAAQ,iBACpB,IAAM,qBAAuB,QAAQ,kCACrC,IAAM,UAAY,QAAQ,uBAC1B,IAAM,QAAU,QAAQ,qB,cACS,QAAQ,mBAAjC,U,UAAA,UAAW,U,UAAA,UACnB,IAAM,aAAe,QAAQ,qBAC7B,IAAM,iBAAmB,QAAQ,8BACjC,IAAM,GAAK,QAAQ,gB,cACE,QAAQ,qBAArB,S,UAAA,SAER,IAAM,cAAgB,QAAQ,sB,cACc,QAAQ,mBAA5C,K,UAAA,KAAM,K,UAAA,KAAM,M,UAAA,MAAO,K,UAAA,KAAM,O,UAAA,OAEjC,OAAO,EAAI,OAAO,GAAK,GACvB,EAAE,WAAa,EACf,EAAE,QAAU,GACZ,EAAE,UAAY,GAEd,IAAI,IAAM,QACV,OAAO,IAAM,IAEb,IAAM,YAAc,qBAAqB,OAAO,CAAE,EAAG,EAAG,QAAS,EAAG,QAAS,IAE7E,IAAM,oBAAsB,KAGrB,IAAM,WAAa,K,8BACnB,IAAM,YAAc,I,gCAEpB,IAAI,QAAU,G,wBAErB,UAAU,SAAS,CACjB,IAAK,UACL,KAAM,SAAA,KAAU,IAAK,WACnB,IAAI,QAAQ,QAAQ,IAAI,WAAW,KAAK,SAAU,IAAK,KACrD,GAAI,IAAK,CACP,YAAY,UAAU,KAExB,UAAU,KAAM,IAAI,WAAW,OAAO,KAAK,WAKjD,UAAU,SAAS,CACjB,IAAK,UACL,KAAM,SAAA,KAAU,IAAK,WACnB,IAAI,IAAM,IAAI,QAAQ,QAAQ,IAAI,WAClC,IAAI,YAAY,IAAI,WAAW,IAAI,MAAM,KAAK,IAAI,YAClD,IAAI,KAAK,cAIN,SAAS,OACd,IAAI,KAAK,CACP,OAAA,OACA,UAAA,UACA,iBAAkB,QAGpB,IAAK,OAAO,QAAQ,CAClB,WAAA,WACA,YAAA,YACA,OAAQ,MACR,KAAM,CACJ,KAAM,QAAQ,+BACd,QAAS,oBAEX,uBAAwB,KACxB,UAAW,CACT,QAAS,UACT,OAAQ,SACR,QAAS,UACT,YAAa,cACb,UAAW,YACX,WAAY,gBAEZ,CACF,OAGF,IAAM,YAAc,QAAQ,OAAO,mBAKnC,IAAM,aAAe,aAAa,OAClC,IAAM,gBAAkB,iBAAiB,OAEzC,IAAI,WAAa,QAAQ,mBAAmB,SAC5C,IAAI,QAAU,QAAQ,qBAAqB,OAAO,CAAE,QAAS,MAE7D,IAAM,YAAc,KAAK,EAAG,EAAG,EAAG,GAClC,IAAM,WAAa,KAAK,GAAK,GAAK,GAAK,GACvC,IAAM,UAAY,KAAK,EAAG,EAAG,EAAG,GAChC,IAAM,aAAe,KAAK,EAAG,EAAG,EAAG,GAGnC,IAAM,KAAO,MAAM,KACnB,IAAM,IAAM,MAAM,IAElB,IAAM,YAAc,GACpB,SAAS,eACP,UAAU,oBAAoB,eAE9B,UAAU,QAEV,QAAQ,MAAQ,aAAa,CAAE,IAAK,UAEpC,QAAQ,KAAO,aAAa,CAC1B,KAAM,OACN,KAAM,KAAK,YAAa,aACxB,OAAQ,KAAK,GAAK,MAEpB,QAAQ,UAAY,aAAa,CAC/B,KAAM,SACN,GAAI,CAAC,GAAI,GAAI,GAAI,IACjB,GAAI,CAAC,GAAI,GAAI,IACb,KAAM,KAAK,YAAa,aACxB,OAAQ,EACR,OAAQ,KAAK,GAAK,MAEpB,QAAQ,UAAY,gBAAgB,CAClC,UAAW,CACT,OAAQ,CAAC,EAAE,GACX,MAAO,CAAC,IAAK,MAEf,WAAY,CACV,OAAQ,CAAC,EAAE,GACX,MAAO,CAAC,IAAK,QAGjB,QAAQ,UAAU,SAAS,aAE3B,QAAQ,QAAU,aAAa,CAC7B,IAAK,QACL,KAAM,KAAK,WAAY,eAK3B,IAAI,UACJ,IAAI,MAEJ,SAAS,aAAa,IAEpB,GAAI,YAAY,SAAS,SAAC,KACxB,MAAK,UAAU,EAAI,IAAI,GACvB,MAAK,UAAU,EAAI,IAAI,GACvB,MAAK,UAAU,IAAM,IAAI,KACvB,CACF,OAGF,MAAK,UAAU,GAAK,EACpB,MAAK,UAAU,IAAM,MAAM,QAAQ,KAAK,MAAQ,MAAM,QAAQ,KAAK,GAAK,MAAM,cAAc,IAAI,MAChG,MAAK,UAAU,IAAM,MAAM,QAAQ,KAAK,OAAS,MAAM,QAAQ,KAAK,GAAK,MAAM,cAAc,IAAI,OACjG,MAAK,UAAU,GAAK,EACpB,MAAK,UAAU,IAAM,MAAM,QAAQ,KAAK,IAAM,MAAM,QAAQ,KAAK,GAAK,MAAM,cAAc,IAAI,IAC9F,MAAK,UAAU,IAAM,MAAM,QAAQ,KAAK,MAAQ,MAAM,QAAQ,KAAK,GAAK,MAAM,cAAc,IAAI,MAChG,GAAI,MAAK,UAAU,GAAK,EAAG,CACzB,QAAQ,UAAU,SAAS,kBACtB,GAAI,MAAK,UAAU,GAAK,EAAG,CAChC,QAAQ,UAAU,SAAS,cAG7B,MAAK,UAAU,GAAK,MAAK,UAAU,GAAK,GACxC,MAAK,UAAU,GAAK,MAAK,UAAU,GAAK,GACxC,IAAI,OAAS,CACX,EAAG,MAAK,UAAU,EAAI,YAAY,EAClC,EAAG,MAAK,UAAU,EAAI,YAAY,EAClC,EAAG,YACH,EAAG,aAEL,GAAI,MAAM,UAAU,QAAS,CAC3B,OAAO,MAAK,aAAc,mBACrB,GAAI,MAAM,MAAM,QAAS,CAC9B,OAAO,MAAK,aAAe,MAAK,aAAa,KAAO,EAAK,YAAc,WACvE,UAAU,aACL,GAAI,MAAM,UAAU,QAAS,CAClC,OAAO,MAAK,aAAc,aAC1B,MAAK,aAAa,GAAK,OAClB,CACL,OAAO,MAAK,aAAc,aAC1B,MAAK,aAAa,GAAK,EAGzB,IAAI,IAAM,MAAM,OAAQ,MAAM,WAAY,CAAC,MAAK,UAAU,EAAG,MAAK,UAAU,IAC5E,MAAK,UAAU,IAAM,MAAM,IAAI,IAAK,IAAI,IAGxC,YAAY,YAAY,IAAI,aAAa,CAAC,MAAK,UAAU,EAAG,MAAK,UAAU,EAAG,MAAK,UAAU,MAAO,QAGtG,SAAS,UACP,IAAK,UAAW,CACd,UAAY,IAAI,KAAK,WAAW,YAAa,MAC7C,YAAY,OAAO,CACjB,QAAS,UACT,YAAa,KACV,UAAY,WAAa,aAAgB,YAAc,GACvD,UAAY,YAAc,aAAgB,YAAc,GACzD,KAGJ,IAAI,QAAQ,WAAW,YAI3B,SAAS,YACP,GAAI,UAAW,CACb,OAAO,UAAU,eACjB,IAAI,KAAK,YAAY,UAAU,YAC/B,IAAI,QAAQ,WAAW,MACvB,UAAY,KACZ,IAAK,oBAAqB,CACxB,WAAW,QAAS,KAK1B,MAAO,SAAA,KAAU,IAEf,GAAG,WAAW,UAEd,IAAI,QAAQ,IAAI,IAChB,IAAI,WAAW,UAAU,CACvB,EAAG,EAAG,EAAG,EACT,UAAW,UAAW,OAAQ,MAC9B,MAAO,UAAU,MAAM,KAAM,CAC3B,cAAe,EACf,cAAe,WACf,MAAO,QAIX,IAAK,MAAK,aAAc,CACtB,MAAK,aAAe,OAAO,OAAQ,aACnC,MAAK,UAAY,CAAE,EAAG,EAAG,EAAG,EAAG,IAAK,GAGtC,GAAI,WAAa,UAAU,cAAe,CACxC,aAAa,IAEb,QAAQ,QAAQ,KAAK,CACnB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,WACjB,MAAO,CAAC,GAAK,GAAK,GAAK,GACvB,OAAQ,YACR,cAAe,CACb,OAAQ,CAAC,EAAK,EAAK,EAAK,OAAO,oBAAsB,KAAS,QAIlE,QAAQ,UAAU,aAAa,CAC7B,EAAG,MAAK,UAAU,EAClB,EAAG,MAAK,UAAU,EAClB,EAAG,EAAE,QACL,IAAK,MAAK,UAAU,IACpB,MAAO,CAAC,EAAG,EAAG,EAAG,GACjB,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClB,KAAM,CAAC,YAAa,aACpB,MAAO,QAAQ,UAAU,SAAS,MAIpC,IAAI,aAAe,UAAU,eAAe,iBAAkB,IAC9D,IAAK,IAAI,aAAa,aAAc,CAClC,IAAI,aAAe,aAAa,WAChC,GAAI,aAAa,KAAO,aAAa,IAAK,CACxC,IAAI,IAAM,YAAY,kBAAkB,UAAW,IACnD,GAAI,IAAK,CACP,IAAI,IAAM,IAAI,IACd,QAAQ,KAAK,KAAK,CAChB,EAAG,IAAI,GAAI,EAAG,IAAI,GAAI,EAAG,EAAE,QAAU,EACrC,IAAK,IAAI,GACT,MAAO,aAET,GAAG,KAAK,iBAAiB,UAAU,aAAa,KAAM,KACpD,IAAI,GAAI,IAAI,GAAK,GAAI,EAAE,QAAU,EACjC,GAAG,YAAa,UAAU,MAAM,QAAS,EAAG,EAC5C,aAAa,IAAI,cAAjB,UAA2C,cAMrD,IAAI,QAAQ,QAAQ,KAGtB,SAAS,SAAS,IAChB,OAAO,SAAS,OAChB,IAAK,oBAAqB,CACxB,UAGF,IAAI,KAAK,QAAQ,SAEjB,MAAK,IAGP,eACA,OAAO,SAAS;;;;iCCtTX,IAAI,KAAO,G,kBAElB,KAAK,UAAY,CACf,UAAW,CACT,MAAO,CACL,MAAO,QACP,QAAS,qBACT,MAAO,CAAC,EAAE,EAAE,EAAE,GACd,YAAa,CAEX,CAAE,EAAG,EAAK,EAAG,CAAC,EAAE,EAAE,EAAE,IACpB,CAAE,EAAG,GAAK,EAAG,CAAC,EAAE,EAAE,EAAE,IACpB,CAAE,EAAG,GAAK,EAAG,CAAC,EAAE,EAAE,GAAI,KACtB,CAAE,EAAG,EAAK,EAAG,CAAC,EAAE,EAAE,EAAE,KAEtB,KAAM,CAAC,CAAC,GAAG,GAAI,CAAC,GAAG,IACnB,WAAY,CAEV,CAAE,EAAG,EAAK,EAAG,CAAC,EAAE,IAChB,CAAE,EAAG,GAAK,EAAG,CAAC,EAAE,IAChB,CAAE,EAAG,GAAK,EAAG,CAAC,EAAE,IAChB,CAAE,EAAG,EAAK,EAAG,CAAC,IAAI,OAEpB,MAAO,CAAC,EAAE,EAAE,GACZ,IAAK,CAAC,EAAE,KACR,QAAS,CAAC,GAAG,GACb,SAAU,CAAC,KAAK,GAChB,gBAAiB,IAGrB,SAAU,CACR,MAAO,CACL,SAAU,QAEV,IAAK,CAAC,EAAE,GAAG,IAAK,EAAE,GAAG,IAAK,GAC1B,IAAK,CAAC,EAAE,EAAE,GACV,UAAW,CAAC,GAAG,GAEf,UAAW,CAAC,EAAE,KACd,aAAc,GACd,UAAW,WAGf,gBAAiB;;;;6DC3CX,GAAO,KAAP,G,aAC2B,QAAQ,uBAAnC,W,SAAA,WAAY,W,SAAA,W,cACqB,QAAQ,mBAAzC,a,UAAA,aAAc,e,UAAA,e,cACL,QAAQ,mBAAjB,K,UAAA,KAER,IAAI,KAAO,CACT,WAAW,GACX,WAAW,GACX,WAAW,GACX,WAAW,IAGb,IAAI,aAAe,CAEjB,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,GAAI,IAErC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,GAAI,IAErC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,EAAE,IAEnC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,GAAI,IAErC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,GAAI,IAErC,CAAE,KAAM,IAAK,MAAO,KAAK,EAAE,EAAE,EAAE,IAE/B,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,EAAE,IAEnC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,EAAE,IAEnC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,GAAI,IAErC,CAAE,KAAM,IAAK,MAAO,KAAK,GAAI,GAAI,EAAE,IAEnC,CAAE,KAAM,IAAK,MAAO,KAAK,EAAE,GAAI,EAAE,KAGnC,SAAS,QAAQ,IAAK,IAAK,KACzB,IAAI,EAAI,KAAK,KAAK,SAClB,GAAK,EACL,OAAO,KAAO,IAAM,KAAO,EAG7B,SAAS,YACP,MAAO,CACL,KAAM,aAAa,KAAK,GAAG,MAAM,aAAa,SAC9C,KAAM,QAAQ,EAAG,EAAG,IACpB,MAAO,KAAK,GAAG,aAAa,EAAG,GAAG,GAClC,YAAa,QAAQ,EAAG,GAAK,IAIjC,SAAS,QAAQ,EAAG,GAClB,OAAO,EAAE,KAAO,EAAE,KAGpB,SAAS,YAAY,YAAa,MAAM,IACtB,GAAO,KAAP,GAChB,IAAI,QAAU,eAAe,IAC7B,IAAI,UAAY,aAAa,SAC7B,KAAK,UAAY,UACjB,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,KAAK,IAAI,OAAO,WAAc,GAAJ,IAAU,YAAV,IAAyB,KAErD,IAAI,YAAc,KAAK,GAAG,MAAM,GAChC,IAAI,OAAS,GACb,IAAI,QAAU,GACd,MAAO,YAAa,CAClB,QAAQ,KAAK,eACX,YACF,IAAK,YAAa,CAChB,GAAI,KAAK,GAAG,SAAW,OAAQ,GAC3B,YACF,QAAU,KAKhB,IAAI,GAAK,GACT,IAAI,GAAK,GACT,IAAK,IAAI,IAAK,EAAG,IAAK,QAAQ,SAAU,IAAI,CAC1C,GAAI,KAAK,GAAG,MAAM,GAAI,CACpB,GAAG,KAAK,QAAQ,UACX,CACL,GAAG,KAAK,QAAQ,OAGpB,GAAG,KAAK,SACR,GAAG,KAAK,SAAS,UACjB,KAAK,QAAU,GAAG,OAAO,IAGpB,SAAS,kBAAkB,YAAa,MAC7C,OAAO,IAAI,YAAY,YAAa;;;;iJC5FtC,IAAM,OAAS,QAAQ,UACvB,IAAM,OAAS,QAAQ,oB,aACH,QAAQ,uBAApB,Q,SAAA,Q,cACS,QAAQ,mBAAjB,K,UAAA,KAER,IAAM,OAAS,CACb,KAAK,KAAM,EAAE,EAAE,GACf,KAAK,IAAK,KAAM,EAAE,GAClB,KAAK,EAAE,KAAM,EAAE,GACf,KAAK,EAAE,EAAE,KAAM,GACf,KAAK,EAAE,EAAE,GAAI,GACb,KAAK,KAAM,EAAE,EAAE,GACf,KAAK,KAAM,EAAE,EAAE,GACf,KAAK,KAAM,EAAE,EAAE,IAKjB,IAAM,SAAW,MAAS,KAAQ,GAAM,GAAM,EAAI,IAAM,EAAI,IAC5D,IAAM,WAAc,WAClB,IAAI,IAAM,CACR,EAAK,CAAC,IAAgB,KAAgB,EAAM,GAAK,GAAK,IAAQ,IAC9D,EAAK,CAAC,IAAgB,GAAgB,EAAO,EAAI,GAAO,IAAM,IAC9D,EAAK,CAAC,IAAgB,GAAgB,EAAK,IAAO,EAAQ,GAAI,IAC9D,EAAK,CAAC,IAAgB,EAAgB,EAAK,IAAK,IAAW,EAAG,IAC9D,EAAK,CAAC,IAAgB,IAAgB,EAAO,EAAK,EAAS,EAAG,IAC9D,EAAK,CAAC,IAAgB,EAAgB,EAAK,GAAK,GAAS,GAAK,IAC9D,EAAK,CAAC,IAAgB,GAAgB,EAAK,GAAK,GAAQ,IAAM,IAC9D,GAAK,CAAC,UAAgB,IAAK,EAAE,IAAS,EAAM,GAAM,EAAM,IAAM,IAC9D,GAAK,CAAC,UAAgB,IAAK,EAAE,IAAS,EAAM,GAAI,IAAS,IAAK,IAC9D,GAAK,CAAC,UAAgB,IAAK,GAAG,IAAQ,EAAM,GAAM,EAAQ,GAAI,IAC9D,EAAK,CAAC,cAAgB,EAAgB,EAAI,IAAM,IAAQ,IAAO,GAC/D,IAAK,CAAC,eAAgB,SAAW,KAAO,EAAG,IAAM,GAAI,IAAS,IAC9D,IAAK,CAAC,eAAgB,SAAW,GAAK,EAAK,IAAM,GAAM,KAAO,IAC9D,IAAK,CAAC,eAAgB,SAAW,GAAK,EAAK,IAAM,GAAM,IAAO,IAC9D,IAAK,CAAC,eAAgB,SAAW,EAAK,EAAK,IAAM,GAAM,IAAO,IAC9D,IAAK,CAAC,eAAgB,SAAW,IAAK,EAAM,GAAK,GAAM,KAAO,IAC9D,IAAK,CAAC,eAAgB,SAAW,EAAK,EAAM,GAAK,GAAM,KAAO,IAC9D,IAAK,CAAC,eAAgB,SAAW,GAAK,EAAM,GAAK,GAAM,IAAO,KAEhE,IAAI,IAAM,GACV,IAAK,IAAI,OAAO,IAAK,CACnB,IAAI,GAAK,IAAI,KACb,IAAI,KAAO,CACT,MAAO,GAAG,GACV,KAAM,GAAG,GACT,IAAK,GAAG,GACR,MAAO,OAAO,GAAG,IACjB,aAAc,GAAG,GACjB,KAAM,GAAG,GACT,MAAO,GAAG,GACV,YAAa,GAAG,IAGpB,OAAO,IAnCW,GAqCpB,IAAM,iBAAoB,WACxB,IAAI,IAAM,EACV,IAAK,IAAI,OAAO,WAAY,CAC1B,KAAO,WAAW,KAAK,KAEzB,OAAO,IALiB,GAQ1B,SAAS,SAAS,QAChB,QAAU,iBACV,IAAK,IAAI,OAAO,WAAY,CAC1B,QAAU,WAAW,KAAK,KAC1B,GAAI,QAAU,EAAG,CACf,OAAO,KAGX,QAAQ,OAAO,OACf,MAAO,IAGF,SAAS,eAAe,IAC7B,OAAO,SAAS,QAAQ,KAGnB,SAAS,UAAU,IACxB,OAAO,WAAW,SAAS,QAAQ,MAAM,IAGpC,SAAS,aAAa,KAC3B,OAAO,WAAW,KAGb,SAAS,YAAY,KAC1B,OAAO,WAAW,KAAK;;;;yRCtFzB,IAAM,OAAS,QAAQ,U,aACF,QAAQ,eAArB,S,SAAA,SAED,SAAS,gBAAgB,UAC9B,SAAS,YAAc,EACvB,SAAS,SAAW,GACpB,SAAS,kBAAoB,EAG/B,IAAM,uBAAyB,yBAE/B,IAAM,gBAAkB,GAAG,EAC3B,IAAM,YAAc,GAAG,EACvB,IAAM,kBAAoB,GAAG,EAEtB,SAAS,gBAAgB,IAAK,SAAU,KAC7C,IAAI,MAAQ,EAEZ,IAAI,SAAW,CACb,SAAA,UAGF,UAAW,MAAQ,SAAU,CAC3B,OAAS,gBACT,IAAI,SAAS,SACR,CACL,IAAI,gBAAgB,KAEtB,IAAI,YAAc,WAAa,SAAS,YAAc,EACtD,IAAI,SAAS,YAAc,YAC3B,IAAI,SAAS,iBAAmB,IAAI,YACpC,IAAI,SAAS,aAEb,IAAI,SAAS,UAAY,IAAI,YAC7B,IAAI,SAAS,MAAQ,MAGhB,SAAS,kBAAkB,IAAK,MACrC,GAAI,SAAS,MAAO,CAClB,IAAI,gBAAgB,UACf,CACL,IAAI,SAAS,OAAS,kBACtB,IAAI,UAAU,OAIX,SAAS,iBAAiB,IAAK,IAAK,WACzC,IAAI,MAAQ,IAAI,SAAS,MACzB,IAAI,KAAO,IAAI,YACf,GAAI,IAAK,CAEP,OAAO,MAAM,IAAI,SAAS,UAAW,MACrC,OAAS,YACT,IAAI,YAAY,OAAO,MACvB,KAAO,IAAI,YAEb,IAAI,eACJ,IAAI,YAAc,EAClB,GAAI,WAAa,UAAU,qBAAuB,MAAO,CACvD,YAAc,IAAI,SAAS,YAC3B,OAAO,aACP,OAAO,IAAI,SAAS,UACpB,IAAI,SAAS,SAAS,SAAS,aAAe,cACzC,CACL,IAAI,KAAK,IAAI,SAAS,kBACtB,IAAI,UACJ,IAAI,KAAK,MAEX,IAAI,YAAY,cACT,IAAI,SACX,OAAO,YAGF,SAAS,cAAc,KAC5B,IAAI,MAAQ,IAAI,WAChB,IAAI,IAAO,MAAQ,gBAAmB,IAAI,UAAY,IAAI,iBAC1D,IAAI,OAAS,IAAI,UACjB,IAAI,IAAO,MAAQ,YAAe,IAAI,aAAe,UACrD,IAAI,KACJ,GAAI,MAAQ,kBAAmB,CAC7B,KAAO,IAAI,eACN,CACL,KAAO,IAET,MAAO,CACL,IAAA,IACA,IAAA,IACA,KAAA,KACA,OAAA,QAIG,SAAS,QAAQ,SAAU,KAChC,IAAM,KAAO,uBACb,IAAI,IAAM,SAAS,SACnB,SAAS,SAAW,GACpB,SAAS,kBAAoB,EAC7B,IAAK,IAAI,UAAU,IAAK,CACtB,IAAI,QAAQ,MAST,SAAS,iBAAiB,SAAU,OAAQ,gBAAiB,UAAW,SAAU,YAAa,aACpG,GAAI,SAAS,kBAAmB,CAC9B,SAAS,kBAAkB,OAAQ,iBAErC,IAAI,SAAW,SAAS,iBAAmB,cAAc,iBAAmB,gBAJqC,IAK3G,IAA2B,SAA3B,IAAK,KAAsB,SAAtB,KAAM,IAAgB,SAAhB,IAAK,OAAW,SAAX,OACtB,IAAI,IAAM,KAAK,MACf,IAAI,mBAAqB,QAAQ,QACjC,IAAI,WACJ,GAAI,mBAAoB,CACtB,WAAa,UAEf,IAAI,cAAgB,MACpB,IAAI,WAAa,IAEjB,GAAI,cAAgB,YAAY,SAAU,IAAK,MAAO,CAEpD,OAGF,SAAS,YAAY,KACnB,QAAQ,cAAe,kCACvB,cAAgB,KAEhB,GAAI,mBAAoB,CACtB,GAAI,WAAY,CACd,GAAI,aAAe,UAAW,CAC5B,aAAa,iBAEV,CACL,GAAI,MAAQ,uBAAwB,MAE7B,EACJ,SAAS,IAAM,SAAW,SAAS,IAApC,6BAAqE,IAArE,YACY,KAAK,MAAQ,YAAc,KAAM,QAAQ,GADrD,MAIJ,SAAS,qBAIb,SAAS,SAAS,IAAK,UAAW,WAChC,YAAY,KAEZ,IAAK,mBAAoB,CAEvB,GAAI,UAAW,CAEb,SAAS,QAAQ,mCAAmC,IAAnC,wBACf,yCACF,OAGF,GAAI,IAAK,CACP,UAAU,QAAS,KAAM,IAAK,MAEhC,OAEF,UAAU,OAAQ,IAAK,UAAW,WAEpC,SAAS,mBAAqB,mBAC9B,SAAS,IAAM,SAAU,SACvB,OAAO,oBACP,IAAI,IAAM,SAAS,OAAQ,SAC3B,IAAI,UAAY,IAAI,KACpB,IAAI,KAAO,SAAU,IAAK,WACxB,YAAY,KACZ,UAAU,KAAK,IAAK,IAAK,YAE3B,OAAO,KAGT,UAAW,MAAQ,SAAU,CAC3B,IAAI,GAAK,SAAS,SAAS,KAC3B,IAAK,GAAI,CACP,YAAY,SAAS,QAAT,+CAAgE,IAAhE,SAA4E,eAEnF,SAAS,SAAS,KACzB,GAAG,IAAK,KAAM,cACT,CACL,IAAK,IAAK,CACR,YAAY,SAAS,QAAT,sCAAuD,QAErE,YAAY,IAAK,KAAM,UAEzB,GAAI,mBAAoB,CAEtB,SAAS,oBACT,IAAK,gBAAkB,SAAS,iBAAkB,CAEhD,WAAa,WAAW,WACtB,WAAa,KACb,IAAK,SAAS,iBAAkB,EAC7B,SAAS,IAAM,SAAW,SAAS,IAApC,yBAAiE,IAAjE,SACS,OADT,YAC2B,KAAK,MAAQ,YAAc,KAAM,QAAQ,GADpE,OAGD,GAAG;;;;aC/MZ,IAAM,OAAS,QAAQ,UAUvB,SAAS,OAAO,IAAK,MACnB,IAAI,OAAS,IAAI,OAEjB,IAAK,OAAQ,CACX,YAAY,OAGd,SAAS,WAAW,KAClB,IAAI,KAAK,SAAU,KACjB,GAAI,IAAK,CACP,OAAO,KAAK,KAEd,GAAI,IAAM,OAAS,EAAG,CACpB,OAAO,WAAW,IAAM,GAE1B,OAAO,SAIX,WAAW,GAEb,QAAQ,OAAS,OAGjB,SAAS,UAAU,IAAK,MAAO,KAAM,MACnC,OAAO,aAAa,MAAO,UAC3B,OAAO,MAAM,QAAQ,MACrB,OAAO,aAAa,KAAM,YAC1B,OAAO,aAAa,KAAM,YAC1B,IAAI,IAAM,IAAI,OACd,IAAI,QAAU,IACd,IAAI,WAEJ,IAAI,KACJ,IAAI,QAAU,GACd,SAAS,OAAO,IAAK,IAAK,QACxB,QAAQ,KAAO,OACf,GAAI,IAAK,CACP,WAAa,KAEf,KAAM,UAAY,GAAK,IAAK,CAC1B,GAAI,KAAM,CACR,KAAK,IAAK,SAEZ,KAAO,UACF,IAAK,YAAc,KAAO,IAAK,CACpC,IAAI,IAAM,OACV,KAAK,IAAI,KAAM,OAAO,KAAK,KAAM,OAIrC,IAAK,QAAS,CAEZ,YAAY,KAAK,KAAM,SAEzB,KAAO,MACP,IAAK,IAAI,GAAK,EAAG,GAAK,IAAI,QAAU,GAAK,QAAS,GAAI,CACpD,KAAK,IAAI,IAAK,OAAO,KAAK,KAAM,MAGpC,QAAQ,UAAY,UAEpB,SAAS,KAAK,IAAK,KAAM,MACvB,UAAU,IAAK,SAAU,KAAM,MAEjC,QAAQ,KAAO,KAEf,SAAS,cAAc,MAAO,MAAO,MACnC,UAAU,MAAO,MAAO,SAAU,KAAM,MACtC,KAAK,OACJ,MAEL,QAAQ,cAAgB,cAExB,SAAS,SAAS,MAAO,MACvB,cAAc,MAAO,SAAU,MAEjC,QAAQ,SAAW,SAEnB,SAAS,QAAQ,cACf,IAAI,MAAQ,aACZ,IAAI,KAAO,KACX,IAAI,KAAO,KACX,SAAS,WACP,IAAK,KAAM,GACP,MACF,OAEF,IAAI,KAAO,KACX,KAAO,KAAK,KACZ,IAAK,KAAM,CACT,KAAO,KAET,KAAK,UAEP,OAAO,SAAS,WAAW,MACzB,IAAK,MAAO,CACV,IAAK,KAAM,CACT,KAAO,KAAO,SACT,CACL,KAAK,KAAO,KACZ,KAAO,KAET,SAEA,MACF,KAAK,WAGT,QAAQ,QAAU,QAElB,OAAO,KAAK,SAAS,QAAQ,SAAC,KAC5B,QAAO,QAAS,IAAI,GAAG,cAAgB,IAAI,MAAM,IAAQ,QAAQ;;;;;iBClH3D,MAAU,KAAV,MAER,IAAM,UAAY,mEAAmE,MAAM,IAC3F,IAAM,IAAM,IAGZ,SAAS,OAAO,GAAI,OAAQ,QAC1B,IAAI,KAAO,GAAG,GACd,IAAI,OAAS,GACb,IAAI,EACJ,IAAI,KAEJ,IAAK,EAAI,EAAG,EAAK,OAAS,EAAI,GAAK,EAAG,CACpC,KAAO,OAAS,EAChB,QAAU,UAAU,KAAK,OAAS,GAClC,QAAU,YAAY,KAAK,MAAQ,IAAS,IAAM,KAAK,KAAO,IAAM,IACpE,QAAU,YAAY,KAAK,KAAO,GAAK,KAAS,IAAM,KAAK,KAAO,IAAM,IACxE,QAAU,UAAU,KAAK,KAAO,GAAK,IAIvC,GAAI,OAAS,EAAG,CACd,EAAI,OAAU,OAAS,EACvB,KAAO,OAAS,EAChB,QAAU,UAAU,KAAK,OAAS,GAClC,GAAK,OAAS,IAAO,EAAG,CACtB,QAAU,YAAY,KAAK,MAAQ,IAAS,IAAM,KAAK,KAAO,IAAM,IACpE,QAAU,WAAW,KAAK,KAAO,GAAK,KAAS,GAC/C,QAAU,QACL,CACL,QAAU,WAAW,KAAK,MAAQ,IAAS,GAC3C,QAAU,IAAM,KAIpB,OAAO,OAGT,SAAS,oBAAoB,KAAM,WACjC,IAAI,IAAM,KAAK,MACf,IAAI,IAAM,IAAI,OACd,IAAI,GAAK,UAAU,KACnB,IAAI,GAAK,GAAG,GACZ,IAAK,IAAI,GAAK,EAAG,GAAK,MAAO,GAAI,CAC/B,GAAG,IAAM,IAAI,WAAW,IAE1B,GAAG,YAAc,IACjB,OAAO,GAGT,SAAS,iBAAiB,GAAI,OAAQ,QAEpC,OAAO,OAAO,KAAK,GAAG,QAAQ,SAAS,SAAU,OAAQ,OAAS,QAOpE,SAAS,iBAAiB,KAAM,WAC9B,IAAI,YAAc,KAAK,QAAU,GAAK,EAAI,MAAO,KAAK,OAAS,EAAK,KACpE,IAAI,GAAK,UAAU,YACnB,IAAI,OAAS,OAAO,KAAK,GAAG,QAC5B,GAAG,YAAc,OAAO,MAAM,KAAM,UACpC,OAAO,GAGT,IAAM,eAAiB,SAAW,YAGlC,QAAQ,aAAe,QAAU,oBAAsB,iBAEvD,QAAQ,aAAe,QAAU,OAAS;;;;;;oKC7E1C,IAAM,OAAS,QAAQ,U,aACD,QAAQ,aAAtB,U,SAAA,UAED,SAAS,UAAU,KACxB,OAAO,IAAI,cAAc,QAAQ,QAAS,IAGrC,IAAM,SAAW,E,0BACjB,IAAM,WAAa,E,8BACnB,IAAM,YAAc,E,gCAC3B,IAAM,UAAY,CAAC,UAAW,SAAU,UAEjC,SAAS,eAAe,IAAK,MAClC,GAAI,IAAK,CACP,QAAQ,MAAM,IAAK,UACd,CACL,QAAQ,KAAK,OAIjB,SAAS,YAAY,OAAQ,MAC3B,GAAI,KAAM,CACR,IAAK,IAAI,GAAK,EAAG,GAAK,KAAK,SAAU,GAAI,CACvC,IAAK,SAAW,OAAO,KAAK,KAAM,CAChC,OAAO,QAIb,OAAO,KAGT,SAAS,SAAS,QAChB,KAAK,KAAO,GACZ,KAAK,kBAAoB,KAAK,KAC9B,KAAK,cAAgB,MACrB,KAAK,QAAU,QAAU,OAAO,QAChC,KAAK,gBAAkB,eACvB,KAAK,SAAS,CACZ,IAAK,WACL,KAAM,KAAK,QAAQ,KAAK,MACxB,YAAa,CAAC,YAGlB,SAAS,UAAU,QAAU,SAAU,IAAK,WAC1C,IAAK,KAAK,SAAU,CAClB,IAAI,KAAO,KAAK,SAAW,GAC3B,IAAK,IAAI,OAAO,KAAK,KAAM,CACzB,IAAI,SAAW,KAAK,KAAK,KACzB,IAAI,OAAS,GACb,GAAI,SAAS,YAAa,CACxB,OAAS,OAAO,OAAO,SAAS,aAElC,GAAI,SAAS,WAAY,CACvB,OAAS,OAAO,OAAO,SAAS,YAElC,GAAI,OAAO,QAAQ,aAAe,EAAG,CACnC,SAEF,IAAI,KAAO,CACT,KAAM,SAAS,KACf,KAAM,SAAS,MAEjB,GAAI,SAAS,MAAO,CAClB,KAAK,MAAQ,SAAS,MAExB,GAAI,OAAO,OAAQ,CACjB,KAAK,YAAc,OAErB,KAAK,KAAO,MAGhB,UAAU,KAAM,KAAK,WAGvB,SAAS,UAAU,kBAAoB,SAAU,IAC/C,OAAO,KAAK,kBAAoB,gBAChC,KAAK,gBAAkB,IAEzB,SAAS,UAAU,OAAS,SAAU,KAAM,IAAK,WAC/C,UAAY,WAAa,KAAK,gBAC9B,KAAK,cAAgB,MACrB,IAAI,EAAI,IAAI,MAAM,0BAClB,IAAK,EAAG,CACN,UAAU,mBACV,OAAO,KAET,IAAI,IAAM,UAAU,EAAE,IACtB,IAAI,SAAW,KAAK,KAAK,KACzB,GAAI,WAAa,YAAY,MAAQ,KAAK,OAAQ,SAAS,YAAa,CAEtE,UAAS,mBAAoB,EAAE,GAAtB,KACT,OAAO,MAET,IAAK,SAAU,CACb,KAAK,cAAgB,KACrB,UAAS,qBAAsB,EAAE,GAAxB,KACT,KAAK,cAAgB,MACrB,OAAO,MAET,SAAS,GAAG,KAAK,KAAM,EAAE,IAAM,GAAI,WACnC,OAAO,MAGT,SAAS,UAAU,SAAW,SAAU,OACtC,OAAO,aAAa,MAAO,UADkB,IAEvC,IAAoD,MAApD,IAAK,KAA+C,MAA/C,KAAM,KAAyC,MAAzC,KAAM,MAAmC,MAAnC,MAAO,YAA4B,MAA5B,YAAa,WAAe,MAAf,WAC3C,OAAO,KAAO,MACd,KAAK,KAAK,UAAU,MAAQ,CAC1B,KAAM,IACN,GAAI,KACJ,KAAM,MAAQ,GACd,MAAO,OAAS,UAChB,YAAA,YACA,WAAA,aAIJ,SAAS,UAAU,cAAgB,SAAU,IAAK,OAAO,IAAA,MAAA,KACvD,OAAO,UAAU,MAAM,QAAU,MAAM,KACvC,OAAO,MAAM,KAAO,MAAM,KAC1B,IAAI,MAAQ,MAAM,OAAS,IAC3B,IAAI,MAAQ,MAAM,OAAS,KAAK,SAAW,MAC3C,IAAI,UAAA,aAAyB,UAAU,KACvC,GAAI,MAAM,IAAK,CACb,WAAA,IAAiB,MAAM,IAEzB,GAAI,MAAO,CACT,OAAO,MAAM,KACb,IAAI,WAAa,KAAK,QAAQ,QAAQ,WACtC,GAAI,aAAe,UAAW,CAE5B,GAAI,MAAM,MAAO,CACf,WAAa,OAAO,YACpB,IAAK,SAAS,aAAe,WAAa,MAAM,MAAM,IAAM,WAAa,MAAM,MAAM,GAAI,CACvF,WAAa,WAGjB,GAAI,aAAe,UAAW,CAC5B,MAAM,IAAI,cAIhB,IAAI,GAAK,SAAL,GAAM,IAAK,WACb,SAAS,QACP,UAAU,KAAS,MAAV,MAAqB,MAAM,OAEtC,SAAS,QACP,UAAS,WAAY,IAAZ,IAAmB,UAAU,MAAM,OAE9C,IAAK,IAAK,CACR,GAAI,MAAM,IAAK,CACb,OAAO,YACF,CACL,OAAO,SAGX,IAAK,MAAM,IAAK,CACd,OAAO,UAAS,WAAY,KAE9B,IAAI,EAAI,OAAO,KACf,GAAI,MAAM,MAAO,CACf,GAAI,EAAI,MAAM,MAAM,GAAI,CACtB,EAAI,MAAM,MAAM,QACX,GAAI,EAAI,MAAM,MAAM,GAAI,CAC7B,EAAI,MAAM,MAAM,IAGpB,IAAI,YAAc,EAClB,GAAI,MAAM,OAAS,SAAU,CAC3B,IAAK,UAAU,GAAI,CACjB,OAAO,QAET,MAAM,IAAI,QACL,GAAI,MAAM,OAAS,WAAY,CACpC,IAAK,SAAS,GAAI,CAChB,OAAO,QAET,MAAM,IAAI,OACL,CACL,YAAc,IACd,MAAM,IAAI,KAEZ,GAAI,MAAO,CACT,MAAK,QAAQ,QAAQ,UAAW,aAElC,GAAI,MAAM,UAAW,CACnB,MAAM,YAER,GAAI,MAAM,IAAK,CACb,OAAO,YACF,CACL,OAAO,UAAU,KAAS,MAAV,cAGpB,KAAK,SAAS,CACZ,IAAA,IACA,KAAM,GACN,KAAM,MAAM,OAAU,MAAM,KAAO,MAAM,IAApB,mBACA,MADA,UAEnB,MAAM,IAAN,QAAoB,MAApB,UAAA,YAAiD,MAAjD,WACF,MAAO,MAAM,QAAW,MAAM,IAAN,YAAwB,MAAxB,sBAAmD,IAAnD,KAA6D,KAClF,MAAM,IAAN,QAAoB,MAApB,sBAA+C,IAA/C,YAAgE,IACnE,YAAa,MAAM,YACnB,WAAY,MAAM,cAItB,SAAS,OAAO,EAAG,GACjB,GAAI,EAAE,MAAQ,EAAE,MAAO,CACrB,OAAQ,EAEV,OAAO,EAIT,SAAS,UAAU,kBAAoB,SAAU,UAC/C,IAAI,KAAO,KAAK,kBAChB,GAAI,KAAK,oBAAsB,KAAK,KAAM,CACxC,KAAO,KAAK,kBAAoB,GAChC,IAAK,IAAI,SAAS,KAAK,KAAM,CAC3B,KAAK,OAAS,KAAK,KAAK,QAG5B,IAAK,IAAI,UAAS,SAAU,CAC1B,IAAK,KAAK,QAAQ,CAChB,KAAK,QAAS,SAAS,WAK7B,SAAS,UAAU,aAAe,SAAU,IAAK,QAC/C,IAAI,KAAO,GACX,IAAM,IAAI,MAAM,KAChB,IAAI,UAAY,UAAU,IAAI,IAC9B,IAAK,IAAI,SAAS,KAAK,kBAAmB,CACxC,GAAI,IAAI,SAAW,GAAK,MAAM,MAAM,EAAG,UAAU,UAAY,WAC3D,IAAI,OAAS,GAAK,QAAU,UAC5B,CACA,IAAI,SAAW,KAAK,kBAAkB,OACtC,GAAI,YAAY,OAAQ,SAAS,cAAgB,YAAY,OAAQ,SAAS,YAAa,CACzF,KAAK,KAAK,CACR,MAAA,MACA,IAAK,SAAS,KACd,KAAM,SAAS,KACf,MAAO,SAAS,UAKxB,KAAK,KAAK,QACV,OAAO,MAGT,SAAS,UAAU,UAAY,UAE/B,SAAS,UAAU,SAAW,SAC9B,SAAS,UAAU,WAAa,WAChC,SAAS,UAAU,YAAc,YAE1B,SAAS,OAAO,QACrB,OAAO,IAAI,SAAS;;;;qKCpQf,IAAI,aAAe,E,kCACnB,IAAI,kBAAoB,E,4CACxB,IAAI,eAAiB,E,sCAErB,IAAI,iBAAmB,E,0CACvB,IAAI,gBAAkB,E,wCACtB,IAAI,kBAAoB;;;;aCC/B,IAAM,OAAS,QAAQ,UAEvB,SAAS,iBAAiB,KACxB,IAAI,EACJ,IAAI,EACJ,IAAI,QAAU,GACd,IAAM,IAAI,QAAQ,QAAS,MAC3B,IAAK,EAAI,EAAG,EAAI,IAAI,SAAU,EAAG,CAC/B,EAAI,IAAI,WAAW,GACnB,GAAI,EAAI,IAAK,CACX,QAAQ,KAAK,OAAO,aAAa,SAC5B,GAAK,EAAI,KAAS,EAAI,KAAO,CAClC,QAAQ,KAAK,OAAO,aAAc,GAAK,EAAK,MAC5C,QAAQ,KAAK,OAAO,aAAc,EAAI,GAAM,UACvC,CACL,QAAQ,KAAK,OAAO,aAAc,GAAK,GAAM,MAC7C,QAAQ,KAAK,OAAO,aAAe,GAAK,EAAK,GAAM,MACnD,QAAQ,KAAK,OAAO,aAAc,EAAI,GAAM,OAGhD,OAAO,QAAQ,KAAK,IAItB,SAAS,WAAW,OAAQ,YAC1B,OAAQ,QAAQ,WAAe,SAAU,GAAG,WAG9C,SAAS,YAAY,GAAG,IACtB,IAAI,IAAO,GAAK,WAChB,IAAI,IAAO,GAAK,WAChB,IAAI,IAAO,GAAK,WAChB,IAAI,IAAO,GAAK,WAChB,IAAI,SAAW,GAAK,aAAa,GAAK,YACtC,GAAI,IAAM,IAAK,CACb,OAAQ,QAAU,WAAa,IAAM,IAEvC,GAAI,IAAM,IAAK,CACb,GAAI,QAAU,WAAY,CACxB,OAAQ,QAAU,WAAa,IAAM,QAChC,CACL,OAAQ,QAAU,WAAa,IAAM,SAElC,CACL,OAAQ,QAAU,IAAM,KAI5B,SAAS,EAAE,EAAE,EAAE,GACb,OAAQ,EAAI,GAAQ,EAAK,EAE3B,SAAS,EAAE,EAAE,EAAE,GACb,OAAQ,EAAI,EAAM,GAAM,EAE1B,SAAS,EAAE,EAAE,EAAE,GACb,OAAQ,EAAI,EAAI,EAElB,SAAS,EAAE,EAAE,EAAE,GACb,OAAQ,GAAK,GAAM,GAGrB,SAAS,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IACtB,EAAI,YAAY,EAAG,YAAY,YAAY,EAAE,EAAG,EAAG,GAAI,GAAI,KAC3D,OAAO,YAAY,WAAW,EAAG,GAAI,GAGvC,SAAS,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IACtB,EAAI,YAAY,EAAG,YAAY,YAAY,EAAE,EAAG,EAAG,GAAI,GAAI,KAC3D,OAAO,YAAY,WAAW,EAAG,GAAI,GAGvC,SAAS,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IACtB,EAAI,YAAY,EAAG,YAAY,YAAY,EAAE,EAAG,EAAG,GAAI,GAAI,KAC3D,OAAO,YAAY,WAAW,EAAG,GAAI,GAGvC,SAAS,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IACtB,EAAI,YAAY,EAAG,YAAY,YAAY,EAAE,EAAG,EAAG,GAAI,GAAI,KAC3D,OAAO,YAAY,WAAW,EAAG,GAAI,GAGvC,SAAS,mBAAmB,QAC1B,IAAI,WACJ,IAAI,eAAiB,OAAO,OAC5B,IAAI,qBAAqB,eAAiB,EAC1C,IAAI,sBACD,qBAAsB,qBAAuB,IAAK,GACrD,IAAI,gBAAkB,qBAAqB,GAAG,GAC9C,IAAI,WAAW,IAAI,MAAM,eAAe,GACxC,IAAI,cAAgB,EACpB,IAAI,WAAa,EACjB,MAAO,WAAa,eAAgB,CAClC,YAAc,WAAY,WAAa,GAAI,EAC3C,cAAiB,WAAa,EAAG,EACjC,WAAW,aAAe,OAAO,WAAW,aAAe,cAC3D,aAEF,YAAc,WAAY,WAAa,GAAI,EAC3C,cAAiB,WAAa,EAAG,EACjC,WAAW,aAAgB,KAAM,cACjC,WAAW,eAAe,GAAK,gBAAgB,EAC/C,WAAW,eAAe,GAAK,iBAAiB,GAChD,OAAO,WA2BT,SAAS,UAAU,QACjB,IAAI,eAAe,GAGnB,IAAI,oBAAoB,GAGxB,IAAI,MACJ,IAAI,OACJ,IAAK,OAAS,EAAG,QAAQ,EAAG,SAAU,CACpC,MAAS,SAAU,OAAO,EAAM,IAChC,oBAAA,IAA0B,MAAM,SAAS,IACzC,gBACE,oBAAoB,OAAO,oBAAoB,OAAO,EAAE,GAE5D,OAAO,eAKT,OAAO,QAAU,SAAS,IAAI,QAC5B,IAAI,GACJ,IAAI,GACJ,IAAI,GACJ,IAAI,GACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,IAAI,EACR,IAAI,IAAI,GACR,IAAI,IAAI,GACR,IAAI,IAAI,GACR,IAAI,IAAI,EACR,IAAI,IAAI,EACR,IAAI,IAAI,GACR,IAAI,IAAI,GACR,IAAI,IAAI,EACR,IAAI,IAAI,GACR,IAAI,IAAI,GACR,IAAI,IAAI,GACR,IAAI,IAAI,EACR,IAAI,IAAI,GACR,IAAI,IAAI,GACR,IAAI,IAAI,GAER,IAAI,EACJ,UAAW,SAAW,SAAU,CAC9B,OAAS,iBAAiB,QAC1B,EAAI,mBAAmB,YAClB,CACL,OAAO,OAKT,EAAI,WACJ,EAAI,WACJ,EAAI,WACJ,EAAI,UAEJ,IAAK,EAAE,EAAG,EAAE,EAAE,OAAQ,GAAG,GAAI,CAC3B,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,UACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,UACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAA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","file":"app.bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\nconst assert = require('assert');\nconst local_storage = require('./glov/local_storage.js');\nconst glov_font = require('./glov/font.js');\nconst { KEYS, keyDownEdge } = require('./glov/input.js');\nconst { linkText } = require('./glov/link.js');\nconst net = require('./glov/net.js');\nconst ui = require('./glov/ui.js');\nconst { vec4 } = require('./glov/vmath.js');\n\nexport let style_link = glov_font.style(null, {\n  color: 0x5040FFff,\n  outline_width: 1.0,\n  outline_color: 0x00000020,\n});\nexport let style_link_hover = glov_font.style(null, {\n  color: 0x0000FFff,\n  outline_width: 1.0,\n  outline_color: 0x00000020,\n});\n\nexport function formatUserID(user_id, display_name) {\n  let name = display_name || user_id;\n  if (user_id.toLowerCase() !== name.toLowerCase()) {\n    name = `${display_name} (${user_id})`;\n  }\n  return name;\n}\n\nfunction AccountUI() {\n  this.edit_box_name = ui.createEditBox({\n    placeholder: 'Username',\n    initial_focus: true,\n    text: local_storage.get('name') || '',\n  });\n  this.edit_box_password = ui.createEditBox({\n    placeholder: 'Password',\n    type: 'password',\n    text: local_storage.get('name') && local_storage.get('password') || '',\n  });\n  this.edit_box_password_confirm = ui.createEditBox({\n    initial_focus: true,\n    placeholder: 'Confirm',\n    type: 'password',\n    text: '',\n  });\n  this.edit_box_email = ui.createEditBox({\n    placeholder: 'Email',\n    text: '',\n  });\n  this.edit_box_display_name = ui.createEditBox({\n    placeholder: 'Display',\n    text: '',\n  });\n  this.creation_mode = false;\n}\n\nAccountUI.prototype.showLogin = function (param) {\n  let { x, y, style, button_height, button_width, prelogout, center, url_tos, url_priv, text_w, font_height } = param;\n  font_height = font_height || ui.font_height;\n  button_height = button_height || ui.button_height;\n  button_width = button_width || 240;\n  text_w = text_w || 400;\n  let { edit_box_name, edit_box_password, edit_box_password_confirm, edit_box_email, edit_box_display_name } = this;\n  let login_message;\n  const BOX_H = font_height;\n  let pad = 10;\n  let min_h = BOX_H * 2 + pad * 3 + button_height;\n  let calign = center ? glov_font.ALIGN.HRIGHT : glov_font.ALIGN.HLEFT | glov_font.ALIGN.HFIT;\n\n  function showTOS(is_create) {\n    if (url_tos) {\n      assert(url_priv);\n      let terms_height = font_height * 0.75;\n      ui.font.drawSizedAligned(style, x, y, Z.UI, terms_height, glov_font.ALIGN.HCENTER, 0, 0,\n        `By ${is_create ? 'creating an account' : 'logging in'} you agree to our`);\n      y += terms_height;\n      let and_w = ui.font.getStringWidth(style, terms_height, ' and ');\n      ui.font.drawSizedAligned(style, x, y, Z.UI, terms_height, glov_font.ALIGN.HCENTER, 0, 0,\n        'and');\n      linkText({\n        style_link, style_link_hover,\n        x: x - and_w / 2 - ui.font.getStringWidth(style_link, terms_height, 'Terms of Service'),\n        y,\n        z: Z.UI,\n        font_size: terms_height,\n        url: url_tos,\n        text: 'Terms of Service',\n      });\n      linkText({\n        style_link, style_link_hover,\n        x: x + and_w / 2,\n        y,\n        z: Z.UI,\n        font_size: terms_height,\n        url: url_priv,\n        text: 'Privacy Policy',\n      });\n    }\n    y += BOX_H + pad;\n  }\n\n  if (!net.client.connected) {\n    login_message = 'Establishing connection...';\n  } else if (net.subs.logging_in) {\n    login_message = 'Logging in...';\n  } else if (net.subs.logging_out) {\n    login_message = 'Logging out...';\n  } else if (!net.subs.loggedIn() && window.FBInstant) {\n    net.subs.loginFacebook(function (err) {\n      if (err) {\n        ui.modalDialog({\n          title: 'Facebook login Failed',\n          text: err,\n          buttons: {\n            'Cancel': null,\n          },\n        });\n      }\n    });\n  } else if (!net.subs.loggedIn() && net.subs.auto_create_user &&\n    !local_storage.get('did_auto_anon') && !local_storage.get('name')\n  ) {\n    login_message = 'Auto logging in...';\n    local_storage.set('did_auto_anon', 'yes');\n    let name = `anon${String(Math.random()).slice(2, 8)}`;\n    let pass = 'test';\n    local_storage.set('name', name);\n    net.subs.login(name, pass, function (err) {\n      if (err) {\n        ui.modalDialog({\n          title: 'Auto-login Failed',\n          text: err,\n          buttons: {\n            'Retry': function () {\n              local_storage.set('did_auto_anon', undefined);\n              local_storage.set('name', undefined);\n            },\n            'Cancel': null,\n          },\n        });\n      } else {\n        net.subs.sendCmdParse('rename_random', (err) => {\n          if (err) {\n            console.log(err);\n          }\n        });\n      }\n    });\n  } else if (!net.subs.loggedIn()) {\n    let submit = false;\n    let w = text_w / 2;\n    let indent = center ? 0 : 140;\n    let text_x = center ? x - 8 : x;\n    ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Username:');\n    submit = edit_box_name.run({ x: x + indent, y, w, font_height }) === edit_box_name.SUBMIT || submit;\n    y += BOX_H + pad;\n    ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Password:');\n    submit = edit_box_password.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT || submit;\n    y += BOX_H + pad;\n\n    if (this.creation_mode) {\n      ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Confirm Password:');\n      submit = edit_box_password_confirm.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT ||\n        submit;\n      y += BOX_H + pad;\n\n      ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Email Address:');\n      submit = edit_box_email.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT || submit;\n      y += BOX_H + pad;\n\n      ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Display Name:');\n      submit = edit_box_display_name.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT ||\n        submit;\n\n      if (ui.buttonText({\n        x: x + w + (center ? 0 : 140) + pad, y, w: button_width * 0.5, h: BOX_H + pad - 4,\n        font_height: font_height * 0.75,\n        text: 'Random',\n      })) {\n        net.client.send('random_name', null, function (ignored, data) {\n          if (data) {\n            edit_box_display_name.setText(data);\n          }\n        });\n      }\n\n      y += BOX_H + pad;\n\n      showTOS(true);\n\n      submit = ui.buttonText({\n        x, y, w: button_width, h: button_height,\n        font_height,\n        text: 'Create User',\n      }) || submit;\n      if (ui.buttonText({\n        x: x + button_width + pad, y, w: button_width, h: button_height,\n        font_height,\n        text: 'Cancel',\n      }) || keyDownEdge(KEYS.ESC)) {\n        this.creation_mode = false;\n      }\n      y += button_height + pad;\n\n      if (submit) {\n        local_storage.set('name', edit_box_name.text);\n        // do creation and log in!\n        net.subs.userCreate({\n          user_id: edit_box_name.text,\n          email: edit_box_email.text,\n          password: edit_box_password.text,\n          password_confirm: edit_box_password_confirm.text,\n          display_name: edit_box_display_name.text,\n        }, (err) => {\n          if (err) {\n            ui.modalDialog({\n              title: 'Login Error',\n              text: err,\n              buttons: {\n                'OK': null,\n              },\n            });\n          } else {\n            this.creation_mode = false;\n            edit_box_password_confirm.setText('');\n            edit_box_email.setText('');\n            edit_box_display_name.setText('');\n          }\n        });\n      }\n\n    } else {\n\n      showTOS(false);\n\n      submit = ui.buttonText({\n        x: x, y, w: button_width, h: button_height,\n        font_height,\n        text: 'Log in',\n      }) || submit;\n      if (center) {\n        y += button_height + pad;\n      }\n      if (ui.buttonText({\n        x: center ? x : x + button_width + pad, y, w: button_width, h: button_height,\n        font_height,\n        text: 'New User',\n      })) {\n        this.creation_mode = true;\n        edit_box_display_name.setText(edit_box_name.text);\n        if (edit_box_name.text && edit_box_password.text) {\n          edit_box_password_confirm.initial_focus = true;\n        } else {\n          edit_box_password_confirm.initial_focus = false;\n          edit_box_name.focus();\n        }\n      }\n      y += button_height + pad;\n\n      if (submit) {\n        local_storage.set('name', edit_box_name.text);\n        // do log in!\n        net.subs.login(edit_box_name.text, edit_box_password.text, (err) => {\n          if (err) {\n            ui.modalDialog({\n              title: 'Login Error',\n              text: err,\n              buttons: {\n                'OK': null,\n              },\n            });\n          }\n        });\n      }\n    }\n  } else {\n    // FB Users can't logout\n    let show_logout = !window.FBInstant;\n    let user_id = net.subs.loggedIn();\n    let user_channel = net.subs.getChannel(`user.${user_id}`);\n    let display_name = user_channel.getChannelData('public.display_name') || user_id;\n    let name = formatUserID(user_id, display_name);\n\n    if (show_logout) {\n      let logged_in_font_height = font_height * 0.75;\n      if (center) {\n        ui.font.drawSizedAligned(style, center ? x - text_w / 2 : x + button_width + 8, y,\n          Z.UI, logged_in_font_height,\n          (center ? glov_font.ALIGN.HCENTER : calign) | glov_font.ALIGN.HFIT,\n          text_w, button_height,\n          `Logged in as: ${name}`);\n        y += logged_in_font_height + 8;\n      } else {\n        ui.font.drawSizedAligned(style, x + button_width + 8,\n          y + logged_in_font_height * -0.25,\n          Z.UI, logged_in_font_height, calign | glov_font.ALIGN.VCENTER | glov_font.ALIGN.HFIT, text_w, button_height,\n          'Logged in as:');\n        ui.font.drawSizedAligned(style, x + button_width + 8,\n          y + logged_in_font_height * 0.75,\n          Z.UI, logged_in_font_height, calign | glov_font.ALIGN.VCENTER | glov_font.ALIGN.HFIT, text_w, button_height,\n          name);\n      }\n\n      if (ui.buttonText({\n        x: center ? x - button_width / 2 : x,\n        y, w: button_width, h: button_height,\n        font_height,\n        text: 'Log out',\n      })) {\n        edit_box_password.setText('');\n        if (prelogout) {\n          prelogout();\n        }\n        net.subs.logout();\n      }\n      y += button_height + 8;\n    } else {\n      ui.font.drawSizedAligned(style, center ? x - text_w / 2 : x + button_width + 8, y,\n        Z.UI, font_height,\n        (center ? glov_font.ALIGN.HCENTER : calign) | glov_font.ALIGN.VCENTER | glov_font.ALIGN.HFIT,\n        text_w, button_height,\n        `Logged in as: ${name}`);\n    }\n  }\n  if (login_message) {\n    let w = ui.font.drawSizedAligned(style, center ? x - 400 : x, y, Z.UI, font_height * 1.5,\n      glov_font.ALIGN.HVCENTERFIT,\n      center ? 800 : 400, min_h, login_message);\n    w += 100;\n    ui.drawRect(x - (center ? w / 2 : 50), y, x + (center ? w / 2 : w - 50), y + min_h, Z.UI - 0.5, vec4(0,0,0,0.25));\n    y += min_h;\n  }\n  return y;\n};\n\nexport function create() {\n  return new AccountUI();\n}\n","/* eslint global-require:off */\n\n// Startup code.\n\nlet called_once = false;\nwindow.onload = function () {\n  if (called_once) {\n    return;\n  }\n  called_once = true;\n  // require('./glov/worker_comm.js').startup(); // First, so it gets loading quickly (if workers required)\n  require('./glov/bootstrap.js');\n  if (window.glov_env === 'multiplayer') {\n    require('./multiplayer.js').main();\n  } else {\n    require('./main.js').main();\n  }\n};\n","export const LAYER_STEP = 4;\nexport const STAR_LAYER = 6;\nexport const MAX_LAYER = 8;\nconst assert = require('assert');\nconst engine = require('./glov/engine.js');\nconst { abs, atan2, ceil, floor, max, min, sqrt, pow, PI, round } = Math;\nconst { randCreate, mashString } = require('./glov/rand_alea.js');\nconst SimplexNoise = require('simplex-noise');\nconst { hueFromID } = require('./star_types.js');\nconst { solarSystemCreate } = require('./solar_system.js');\nconst textures = require('./glov/textures.js');\nconst { clamp, lerp, easeOut, easeInOut, ridx } = require('../common/util.js');\n\nconst SUMSQ = 0.75;\n\nconst POI_TYPE_OFFS = [\n  [1, 0,0,\n   0.5, 0,-1, 0.5, -1,0, 0.5, 0,1, 0.5, 1,0], // 4 neighbors\n  [1, 0,0,\n   0.5, 0,-1, 0.5, 0,-2, 0.5, -1,0, 0.5, -2,0, 0.5, 1,0, 0.5, 2,0, 0.5, 0,1, 0.5, 0,2, // plus pattern\n   0.2, -1,-1, 0.2, 1,-1, 0.2, -1,1, 0.2, 1,1], // diagonals\n  [1, 0,0,\n   0.2, 0,-1, 0.2, 0,-2, 0.2, -1,0, 0.2, -2,0, 0.2, 1,0, 0.2, 2,0, 0.2, 0,1, 0.2, 0,2,\n   0.2, -1,-1, 0.2, 1,-1, 0.2, -1,1, 0.2, 1,1],\n];\n\nlet counts = {\n  bicubic: 0,\n  getSampleBuf: 0,\n  realizeStars: 0,\n  realizeStarsFinish: 0,\n  perturb: 0,\n  assignChildStars: 0,\n  data: 0,\n  star_buf: 0,\n  hue_buf: 0,\n  getCellTextured: 0,\n  tex: 0,\n  cell: 0,\n  star: 0,\n  renderStars: 0,\n};\n\nlet star_buf_pool = [];\nlet hue_buf_pool = [];\n\nlet noise = new Array(2);\nlet rand = randCreate(0);\nfunction genGalaxy(params) {\n  let {\n    seed, arms, buf_dim, twirl, center, poi_count, len_mods, noise_freq, noise_weight,\n    star_count, max_zoom,\n  } = params;\n  for (let ii = 0; ii < noise.length; ++ii) {\n    noise[ii] = new SimplexNoise(`${seed}n${ii}`);\n  }\n  rand.reseed(seed);\n  let arm_len = new Array(len_mods);\n  for (let ii = 0; ii < arm_len.length; ++ii) {\n    arm_len[ii] = rand.random();\n  }\n\n  let data = new Float32Array(buf_dim * buf_dim);\n  for (let idx = 0, yy = 0; yy < buf_dim; ++yy) {\n    let y = yy / buf_dim * 2 - 1; // -1 ... 1\n    for (let xx = 0; xx < buf_dim; ++xx, ++idx) {\n      let x = xx / buf_dim * 2 - 1; // -1 ... 1\n      let d = sqrt(x * x + y * y);\n      let rawd = d;\n      let theta = atan2(x, y);\n      let rawtheta = theta;\n      theta += d*twirl;\n      //let dense = sin(theta * 7) * 0.5 + 0.5;\n      let dense = theta / (2*PI); // 0...1\n      while (dense < 0) {\n        dense += 1;\n      }\n      let armidx = (dense * 2 % 1) * arm_len.length;\n      let armi = floor(armidx);\n      let armf = armidx - armi;\n      let interp_arm_len = lerp(easeInOut(armf, 2), arm_len[armi], arm_len[(armi + 1) % arm_len.length]);\n      d *= 1 + interp_arm_len;\n\n      dense *= arms; // 0..arms\n      dense %= 1;\n      dense = abs(dense *2 - 1);\n      dense *= dense;\n      let invd = max(0, 1 - d);\n      // Change falloff to be tighter farther out\n      let id2 = max(0, min(1, invd * 2));\n      if (id2 === 0) {\n        dense = 0;\n      } else {\n        dense = max(0, min(1, dense / id2 - (1 / id2 - 1)));\n      }\n      dense = easeOut(dense, 2);\n      //dense = arm_soft + (1 - arm_soft) * dense;\n      let v;\n      dense = lerp(min(d, 1), invd, dense);\n      v = dense;\n      //v = dense - d;\n      let cv = clamp((center - rawd) * 20, 0, 1);\n      v += easeInOut(cv, 2);\n\n      let noise_v1 = noise[0].noise2D(rawd * noise_freq, theta * d) * 0.5 + 0.5;\n      let theta_rot = ((rawtheta + PI*2) % (PI*2) + d*twirl);\n      let noise_v2 = noise[0].noise2D(rawd * noise_freq, theta_rot * d) * 0.5 + 0.5;\n      let theta01 = (rawtheta/(PI*2)+1)%1;\n      let noise_v = lerp(abs(theta01 * 2 - 1), noise_v2, noise_v1);\n      noise_v = (noise_v * 2) - 1;\n      // as v goes from 0 to 0.1, fade noise_v from 0.05 to 1\n      noise_v *= lerp(clamp(v * 10, 0, 1), 0.05, 1);\n      // as v goes above a threshold, fade noise_v from 1 to 0\n      noise_v *= lerp(clamp((v - 0.7)/0.1, 0, 1), 1, 0);\n      // as d goes to 1, fade out noise_v\n      noise_v *= lerp(clamp((rawd-0.7)/0.3, 0, 1), 1, 0);\n      v += noise_v * noise_weight;\n      // noise_v = max(0, 1 - (1 - noise_v) * d * noise_weight);\n      // v *= noise_v;\n      data[idx] = max(v, 0); // clamp(v, 0, 1);\n    }\n  }\n\n  const POI_BORDER = 5;\n  let pois = [];\n  let poi_offs = 0.5 / pow(2, max_zoom);\n  for (let ii = 0; ii < poi_count; ++ii) {\n    let x = POI_BORDER + rand.range(buf_dim - POI_BORDER * 2);\n    let y = POI_BORDER + rand.range(buf_dim - POI_BORDER * 2);\n    let v = rand.floatBetween(0.2, 1);\n    // Also add a little density around the POI\n    let idx = x + y * buf_dim;\n    data[idx] = max(data[idx], v * 0.5);\n    x = x/buf_dim + poi_offs; // center in a final zoomed in cell\n    y = y/buf_dim + poi_offs; // center in a final zoomed in cell\n    let type = rand.range(POI_TYPE_OFFS.length);\n    pois.push({\n      x, y,\n      type, v,\n    });\n  }\n\n  let sum = 0;\n  let sumsq = 0;\n  for (let ii = 0; ii < data.length; ++ii) {\n    let v = data[ii];\n    sum += v;\n    sumsq += v*v;\n  }\n\n  return {\n    data,\n    sum,\n    sumsq,\n    star_count,\n    pois,\n  };\n}\n\nlet tex_pool = [];\nlet tex_id_idx = 0;\n\nfunction Galaxy(params) {\n  this.params = params;\n  let buf_dim = this.buf_dim = params.buf_dim;\n  let tex_total_size = this.tex_total_size = buf_dim * buf_dim;\n  this.tex_data = new Uint8Array(tex_total_size * 4);\n  this.layers = [];\n  this.work_frame = 0;\n  this.loading = false;\n}\n\nconst SAMPLE_PAD = 4;\n// function expandLinear16X(data, buf_dim, xq, yq) {\n//   let sample_dim = buf_dim + SAMPLE_PAD * 2;\n//   let ret = new Float32Array(buf_dim * buf_dim);\n//   let qs = buf_dim / 4;\n//   for (let yy = 0; yy < buf_dim; ++yy) {\n//     for (let xx = 0; xx < buf_dim; ++xx) {\n//       let x_in = floor(xx / 4);\n//       let dx = xx/4 - x_in;\n//       let y_in = floor(yy / 4);\n//       let dy = yy/4 - y_in;\n//       let in_idx = (y_in + yq * qs + SAMPLE_PAD) * sample_dim + x_in + xq * qs + SAMPLE_PAD;\n//       let v00 = data[in_idx];\n//       let v10 = data[in_idx + 1];\n//       let v01 = data[in_idx + sample_dim];\n//       let v11 = data[in_idx + sample_dim + 1];\n//       let v0 = lerp(dy, v00, v01);\n//       let v1 = lerp(dy, v10, v11);\n//       ret[xx + yy * buf_dim] = lerp(dx, v0, v1);\n//     }\n//   }\n//   return ret;\n// }\n\n// from http://paulbourke.net/miscellaneous/imageprocess/\nlet cubic_weights = (function () {\n  function cub(v) {\n    return v*v*v;\n  }\n  function p(v) {\n    return max(0, v);\n  }\n  function r(x) {\n    let v= 1/6 * (cub(p(x+2)) - 4 * cub(p(x+1)) + 6*cub(p(x)) - 4 * cub(p(x-1)));\n    return v;\n  }\n  function weight(ii, jj, dx, dy) {\n    return r(ii - dx/4) * r(jj - dy/4);\n  }\n  let ret = [];\n  for (let dy = 0; dy < 4; ++dy) {\n    let row = [];\n    ret.push(row);\n    for (let dx = 0; dx < 4; ++dx) {\n      let w = [];\n      for (let ii = -1; ii <= 2; ++ii) {\n        for (let jj = -1; jj <= 2; ++jj) {\n          w.push(weight(ii, jj, dx, dy));\n        }\n      }\n      row.push(w);\n    }\n  }\n  return ret;\n}());\nfunction expandBicubic16X(data, buf_dim, xq, yq) {\n  ++counts.bicubic;\n  let sample_dim = buf_dim + SAMPLE_PAD * 2;\n  let ret = new Float32Array(buf_dim * buf_dim);\n  ++counts.data;\n  let qs = buf_dim / 4;\n  let idx_add = (yq * qs + SAMPLE_PAD) * sample_dim + xq * qs + SAMPLE_PAD;\n  for (let yy = 0; yy < buf_dim; ++yy) {\n    let y_in = floor(yy / 4);\n    let dy = yy - y_in * 4;\n    let in_idx_y = y_in * sample_dim + idx_add;\n    let w_row = cubic_weights[dy];\n    for (let xx = 0; xx < buf_dim; ++xx) {\n      let x_in = floor(xx / 4);\n      let dx = xx - x_in * 4;\n      let in_idx = in_idx_y + x_in;\n      let sum = 0;\n      let weights = w_row[dx];\n      for (let ii = -1, widx=0; ii <= 2; ++ii) {\n        for (let jj = -1; jj <= 2; ++jj, ++widx) {\n          sum += data[in_idx + ii + jj * sample_dim] * weights[widx];\n        }\n      }\n      ret[xx + yy * buf_dim] = sum;\n    }\n  }\n  return ret;\n}\n\n\n// Gets a padded buffer from the specified cell and all neighbors\nGalaxy.prototype.getSampleBuf = function (layer_idx, cx, cy) {\n  let { sample_buf, buf_dim } = this;\n  let key = [layer_idx, cx, cy].join();\n  if (this.last_sample_buf === key) {\n    return sample_buf;\n  }\n  let layer_res = pow(LAYER_STEP, layer_idx);\n  let sample_dim = buf_dim + SAMPLE_PAD * 2;\n  if (!sample_buf) {\n    sample_buf = this.sample_buf = new Float32Array(sample_dim*sample_dim);\n  }\n  // Call getCell() on all requirements (may recurse into here)\n  let bufs = [];\n  for (let dy = -1; dy <= 1; ++dy) {\n    let py = cy + dy;\n    bufs[dy] = [];\n    for (let dx = -1; dx <= 1; ++dx) {\n      let px = cx + dx;\n      let buf;\n      if (px < 0 || px >= layer_res || py < 0 || py >= layer_res) {\n        buf = null;\n      } else {\n        let cell = this.getCell(layer_idx, px + py * layer_res);\n        if (!cell.ready) {\n          return null;\n        }\n        buf = cell.data;\n      }\n      bufs[dy][dx] = buf;\n    }\n  }\n\n  if (engine.frame_index === this.work_frame && !this.loading) {\n    return null;\n  }\n\n  ++counts.getSampleBuf;\n  for (let dy = -1; dy <= 1; ++dy) {\n    for (let dx = -1; dx <= 1; ++dx) {\n      let buf = bufs[dy][dx];\n      let ox = SAMPLE_PAD + dx * buf_dim;\n      let oy = SAMPLE_PAD + dy * buf_dim;\n      let x0 = max(0, -ox);\n      let y0 = max(0, -oy);\n      let x1 = min(buf_dim, sample_dim - ox);\n      let y1 = min(buf_dim, sample_dim - oy);\n      for (let xx = x0; xx < x1; ++xx) {\n        for (let yy = y0; yy < y1; ++yy) {\n          sample_buf[ox + xx + (oy + yy) * sample_dim] = buf ? buf[xx + yy * buf_dim] : 0;\n        }\n      }\n    }\n  }\n  this.last_sample_buf = key;\n  return sample_buf;\n};\n\nconst STAR_LARGE_COUNT = 20000; // 20k = about 10ms\nconst STAR_QUOTA = 14; // ms\nGalaxy.prototype.realizeStars = function (cell) {\n  let start = Date.now();\n  let { layer_idx, cell_idx, star_count, data, sum, sumsq, x0, y0, w, pois, stars, star_progress, star_idx } = cell;\n  let scale = star_count / lerp(SUMSQ, sum, sumsq) * 1.03;\n  let value_scale = 0.75; // Was: (sum / star_count), which was ~0.75 before SUMSQ\n  assert.equal(layer_idx, STAR_LAYER); // consistent IDs only on this layer\n  let { buf_dim, params } = this;\n  let { seed } = params;\n  let yy0;\n  ++counts.realizeStars;\n  if (!star_progress) {\n    stars = cell.stars = [];\n    rand.reseed(mashString(`${seed}_${layer_idx}_${cell_idx}`));\n    yy0 = 0;\n  } else {\n    if (star_progress.state) {\n      rand.importState(star_progress.state);\n    }\n    yy0 = star_progress.y;\n  }\n  function addStar(xx, yy) {\n    ++counts.star;\n    let star = {\n      type: rand.range(POI_TYPE_OFFS.length),  // TODO: make this choice implicit from per-cell a seed or the ID\n      x: x0 + xx/buf_dim * w,\n      y: y0 + yy/buf_dim * w,\n      v: (0.5 + rand.random()) * value_scale, // TODO: make this choice implicit from per-cell a seed or the ID\n    };\n    stars.push(star);\n  }\n  let do_stars = (star_count || pois.length) && yy0 !== buf_dim;\n  if (do_stars) {\n    let expire = start + STAR_QUOTA;\n    for (let idx=yy0*buf_dim, yy = yy0; yy < buf_dim; ++yy) {\n      for (let xx = 0; xx < buf_dim; ++xx, ++idx) {\n        let v = data[idx];\n        v *= 1 + SUMSQ * (v - 1); // v = lerp(SUMSQ, v, v*v);\n        let expected_stars = v * scale;\n        // assert(expected_stars < 10); // sometimes more than 65\n        // assert(expected_stars < 50);\n        let actual_stars = floor(rand.random() * (expected_stars + 1) + expected_stars * 0.5);\n        for (let ii = 0; ii < actual_stars; ++ii) {\n          // uniform within sub-cell\n          addStar(xx + rand.random(), yy + rand.random());\n        }\n      }\n      if (Date.now() > expire && yy !== buf_dim - 1 && !this.loading) {\n        cell.star_progress = {\n          y: yy + 1,\n          state: rand.exportState(),\n        };\n        //let end = Date.now();\n        //console.log(`realizeStars(${star_count}): ${end - start}ms place (partial ${yy - yy0 + 1})`);\n        return false;\n      }\n    }\n    // console.log((stars.length-star_count)/star_count, stars.length, star_count); // about 5% under to 30% over\n    while (stars.length < star_count) {\n      addStar(rand.floatBetween(0, buf_dim), rand.floatBetween(0, buf_dim));\n    }\n    while (stars.length > star_count) {\n      ridx(stars, rand.range(stars.length));\n    }\n    for (let ii = 0; ii < pois.length; ++ii) {\n      let poi = pois[ii];\n      stars.push(poi);\n    }\n    for (let ii = 0; ii < stars.length; ++ii) {\n      let star = stars[ii];\n      // id = ~37bit (at 100B stars) uid; also used to generate a seed\n      star.id = star_idx + ii;\n    }\n  }\n  // let end_place = Date.now();\n  // TODO: relaxation step to separate really close stars (1/1000 ly? <=2px in highest res buffer?)\n  if (do_stars && star_count > STAR_LARGE_COUNT && !this.loading) {\n    // spend considerable time\n    cell.star_progress = {\n      y: buf_dim,\n      state: null, // no random after this!\n    };\n    // let end = Date.now();\n    // console.log(`realizeStars(${star_count}): ${end - start}ms place (finished)`);\n    return false;\n  }\n  delete cell.star_progress;\n  // let end = Date.now();\n  // console.log(`realizeStars(${star_count}): ${end_place - start}ms place, ${end - end_place}ms render`);\n  ++counts.realizeStarsFinish;\n  return true;\n};\n\n// render into `data` appropriately for the current zoom\n{\n  const blur_weights = [\n    1/16, 1/8, 1/16,\n    1/8, 1/4, 1/8,\n    1/16, 1/8, 1/16,\n  ];\n  // Note: this function gets called recursively\n  Galaxy.prototype.renderStars = function (cell) {\n    let { layer_idx, x0, y0, w, stars, cx, cy } = cell;\n    let { buf_dim } = this;\n    let scale = buf_dim / w;\n\n    let layer_res = pow(LAYER_STEP, layer_idx);\n    let ndata = [];\n    let nhue = [];\n    for (let yy = -1; yy <= 1; ++yy) {\n      let ncy = cy + yy;\n      for (let xx = -1; xx <= 1; ++xx) {\n        let ncx = cx + xx;\n        let n;\n        if (ncy < 0 || ncy >= layer_res || ncx < 0 || ncx >= layer_res) {\n          n = cell;\n        } else {\n          n = this.getCell(layer_idx, ncx + ncy * layer_res, true);\n        }\n        assert(!n.tex); // just for debug, make sure this neighbor we're writing into hasn't already made a texture\n        if (!n.star_buf) {\n          if (star_buf_pool.length) {\n            n.star_buf = star_buf_pool.pop();\n            n.star_buf.fill(0);\n          } else {\n            n.star_buf = new Float32Array(buf_dim * buf_dim);\n            ++counts.star_buf;\n          }\n        }\n        ndata.push(n.star_buf);\n        if (!n.hue_buf) {\n          if (hue_buf_pool.length) {\n            n.hue_buf = hue_buf_pool.pop();\n            n.hue_buf.fill(0);\n          } else {\n            n.hue_buf = new Uint8Array(buf_dim * buf_dim);\n            ++counts.hue_buf;\n          }\n        }\n        nhue.push(n.hue_buf);\n      }\n    }\n    assert(ndata[4] === cell.star_buf);\n    ++counts.renderStars;\n\n    let weights = [];\n    let xpos = [];\n    let ypos = [];\n    // let { max_zoom } = this.params;\n    // let max_res = pow(2, max_zoom);\n    for (let ii = 0; ii < stars.length; ++ii) {\n      let star = stars[ii];\n      let { x, y, v, id } = star;\n      x = (x - x0) * scale;\n      y = (y - y0) * scale;\n      if (layer_idx === 7 || layer_idx === 6) {\n        let hue = hueFromID(id);\n        const r = layer_idx === 7 ? 2 : 1.5;\n        const vscale = layer_idx === 7 ? 4 : 2;\n        const rsq = r * r;\n        let wtot = 0;\n        let widx = 0;\n        // scoot in so we don't need to go into neighboring data\n        // TODO: This causes visible seams, but without it we get discontinuities - need to render neighbor stars too!\n        // x = max(r/2 + 0.5, min(buf_dim - r/2 - 0.5, x));\n        // y = max(r/2 + 0.5, min(buf_dim - r/2 - 0.5, y));\n        let ix = floor(x);\n        let iy = floor(y);\n        if (layer_idx === 7) {\n          // distance squared falloff blurred star\n          for (let yy = floor(-r); yy <= ceil(r); ++yy) {\n            let dy = iy + yy - y + 0.5;\n            if (abs(dy) >= r) {\n              continue;\n            }\n            for (let xx = floor(-r); xx <= ceil(r); ++xx) {\n              let dx = ix + xx - x + 0.5;\n              let dsq = dx * dx + dy * dy;\n              if (dsq >= rsq) {\n                continue;\n              }\n              let d =sqrt(dsq);\n              let wt = (1-d/r)*(1-d/r);\n              // let wt = 1 - dsq / rsq;\n              wtot += wt;\n              weights[widx] = wt;\n              xpos[widx] = ix + xx;\n              ypos[widx++] = iy + yy;\n            }\n          }\n        } else if (layer_idx === 6) {\n          weights = blur_weights;\n          wtot = 1;\n          for (let yy = -1; yy <= 1; ++yy) {\n            for (let xx = -1; xx <= 1; ++xx) {\n              xpos[widx] = ix + xx;\n              ypos[widx++] = iy + yy;\n            }\n          }\n        }\n        for (let jj = 0; jj < widx; ++jj) {\n          let wt = weights[jj];\n          let xx = xpos[jj];\n          let yy = ypos[jj];\n          let nid = 4;\n          if (xx < 0) {\n            nid--;\n            xx+=buf_dim;\n          } else if (xx >= buf_dim) {\n            nid++;\n            xx-=buf_dim;\n          }\n          if (yy < 0) {\n            nid-=3;\n            yy+=buf_dim;\n          } else if (yy >= buf_dim) {\n            nid+=3;\n            yy-=buf_dim;\n          }\n          let data = ndata[nid];\n          let hue_buf = nhue[nid];\n          let idx = xx + yy * buf_dim;\n          let old_w = data[idx];\n          let new_w = wt / wtot;\n          data[idx] += v * vscale * new_w;\n          hue_buf[idx] = round((old_w * hue_buf[idx] + hue * new_w) / (new_w + old_w));\n        }\n      } else {\n        // layer 8, basically ignored?  Move poi-style star rendering here to deal with wrap-around?\n        // let ix = floor(x);\n        // let iy = floor(y);\n        // let idx = ix + iy * buf_dim;\n        // // just add\n        // cell.data[idx] += v;\n      }\n    }\n    return true;\n  };\n}\n\nGalaxy.prototype.assignChildStars = function (cell) {\n  let { buf_dim } = this;\n  let { pois, star_count, stars, sum, sumsq, data, star_idx } = cell;\n  let child_data = [];\n  for (let ii = 0; ii < LAYER_STEP * LAYER_STEP; ++ii) {\n    child_data.push({ pois: [] });\n  }\n  if (!stars) {\n    let qs = buf_dim / LAYER_STEP;\n    let running_sum = 0;\n    let running_sumsq = 0;\n    let last_star_count = 0;\n    for (let idx=0, yy = 0; yy < LAYER_STEP; ++yy) {\n      for (let xx = 0; xx < LAYER_STEP; ++xx, ++idx) {\n        if (sum) {\n          let idxbase = xx * qs + yy * qs * buf_dim;\n          for (let jj = 0; jj < qs; ++jj) {\n            let idx_in = idxbase + jj * buf_dim;\n            for (let ii = 0; ii < qs; ++ii, ++idx_in) {\n              let v = data[idx_in];\n              running_sum += v;\n              running_sumsq += v*v;\n            }\n          }\n        }\n        let sc = sum ? round(lerp(SUMSQ, running_sum / sum, running_sumsq / sumsq) * star_count) : 0;\n        child_data[idx].star_count = sc - last_star_count;\n        child_data[idx].star_idx = star_idx + last_star_count;\n        last_star_count = sc;\n      }\n    }\n    assert.equal(last_star_count, star_count);\n  }\n  let mul = LAYER_STEP / cell.w;\n  for (let ii = 0; ii < pois.length; ++ii) {\n    let poi = pois[ii];\n    let qx = floor((poi.x - cell.x0) * mul);\n    let qy = floor((poi.y - cell.y0) * mul);\n    assert(qx >= 0 && qx < LAYER_STEP);\n    assert(qy >= 0 && qy < LAYER_STEP);\n    let idx = qy * LAYER_STEP + qx;\n    child_data[idx].pois.push(poi);\n  }\n  if (stars) {\n    for (let ii = 0; ii < child_data.length; ++ii) {\n      child_data[ii].stars = [];\n    }\n    for (let ii = 0; ii < stars.length; ++ii) {\n      let poi = stars[ii];\n      let qx = floor((poi.x - cell.x0) * mul);\n      let qy = floor((poi.y - cell.y0) * mul);\n      assert(qx >= 0 && qx < LAYER_STEP);\n      assert(qy >= 0 && qy < LAYER_STEP);\n      let idx = qy * LAYER_STEP + qx;\n      child_data[idx].stars.push(poi);\n    }\n  }\n  cell.child_data = child_data;\n  ++counts.assignChildStars;\n};\n\nGalaxy.prototype.perturb = function (cell, params) {\n  let { buf_dim } = this;\n  let { noise_freq, noise_weight } = params;\n  let { data, x0, y0, w } = cell;\n  let mul = w / buf_dim;\n  for (let idx=0, yy = 0; yy < buf_dim; ++yy) {\n    let world_y = y0 + yy * mul;\n    for (let xx = 0; xx < buf_dim; ++xx, ++idx) {\n      let world_x = x0 + xx * mul;\n      let noisev = noise[1].noise2D(world_x * noise_freq, world_y * noise_freq);\n      //data[idx] *= 1 + noise_weight * noisev; // uniform scale around 1.0\n      // instead, only decrease, makes rendered maps look better, darken as you zoom in\n      let v = data[idx] * (1 + noise_weight * (noisev * 0.5 - 0.5));\n      // assert(v >= 0); // not if noise_weight > 1\n      v = max(0, v);\n      data[idx] = v;\n    }\n  }\n  ++counts.perturb;\n};\n\nGalaxy.prototype.getCell = function (layer_idx, cell_idx, just_alloc) {\n  if (layer_idx > MAX_LAYER) {\n    return {};\n  }\n  let { layers, buf_dim, params } = this;\n  let layer = layers[layer_idx];\n  if (!layer) {\n    layer = layers[layer_idx] = [];\n  }\n  let cell = layer[cell_idx];\n  if (cell && cell.ready) {\n    return cell;\n  }\n\n  let layer_res = pow(LAYER_STEP, layer_idx);\n  let cx = cell_idx % layer_res;\n  let cy = floor(cell_idx / layer_res);\n  let x0 = cx / layer_res;\n  let y0 = cy / layer_res;\n  let w = 1/layer_res;\n  if (!cell) {\n    ++counts.cell;\n    cell = {\n      // relative position and size to entire galaxy\n      x0, y0, w, h: w,\n      layer_idx, cell_idx, cx, cy,\n      ready: false,\n    };\n    layer[cell_idx] = cell;\n  }\n\n  if (just_alloc) {\n    return cell;\n  }\n\n  // Fill it\n  if (layer_idx === 0) {\n    assert(cell_idx === 0);\n    let ret = genGalaxy(params);\n    cell.sum = ret.sum;\n    cell.sumsq = ret.sumsq;\n    cell.data = ret.data;\n    cell.star_count = ret.star_count;\n    cell.star_idx = 0;\n    cell.pois = ret.pois;\n  } else {\n    // How many cells wide is this layer?\n    let px = floor(cx / LAYER_STEP);\n    let py = floor(cy / LAYER_STEP);\n    let pres = pow(LAYER_STEP, layer_idx - 1);\n    let parent = this.getCell(layer_idx - 1, py * pres + px);\n    if (!parent.ready) {\n      return cell;\n    }\n\n    if (engine.frame_index === this.work_frame && !this.loading) {\n      // Already did one this frame (presumably a parent)\n      return cell;\n    }\n\n    let qx = cx - px * LAYER_STEP;\n    let qy = cy - py * LAYER_STEP;\n    let qidx = qx + qy * LAYER_STEP;\n\n    if (!cell.pois) {\n      cell.pois = parent.child_data[qidx].pois;\n      // pois.filter((poi) => poi.x >= x0 && poi.x < x0 + w && poi.y >= y0 && poi.y < y0 + w);\n    }\n\n    if (!cell.data) {\n      if (layer_idx > STAR_LAYER) {\n        // just rendered stars, don't need interpolation here\n        cell.data = null;\n        // cell.data = new Float32Array(this.tex_total_size);\n        // ++counts.data;\n      } else {\n        let sample_buf = this.getSampleBuf(layer_idx - 1, px, py);\n        if (!sample_buf) {\n          // Already did one this frame\n          return cell;\n        }\n        // Going to do work, take the frame's allotment\n        this.work_frame = engine.frame_index;\n\n        // Have the parent sample buf, generate us\n        let data = cell.data = expandBicubic16X(sample_buf, buf_dim, qx, qy);\n        let key = `layer${layer_idx}`;\n        if (params[key]) {\n          this.perturb(cell, params[key]);\n        }\n        let sum = 0;\n        let sumsq = 0;\n        for (let ii = 0; ii < data.length; ++ii) {\n          let v = data[ii];\n          sum += v;\n          sumsq += v*v;\n        }\n        cell.sum = sum;\n        cell.sumsq = sumsq;\n      }\n    }\n\n    if (!cell.stars_ready) {\n      if (parent.stars) {\n        // filter existing stars\n        cell.stars = parent.child_data[qidx].stars;\n        // parent.stars.filter((poi) => poi.x >= x0 && poi.x < x0 + w && poi.y >= y0 && poi.y < y0 + w);\n        cell.star_count = cell.stars.length;\n      } else {\n        // count or generate stars\n        cell.star_count = parent.child_data[qidx].star_count;\n        cell.star_idx = parent.child_data[qidx].star_idx;\n\n        // did or will do work this frame\n        this.work_frame = engine.frame_index;\n\n        if (layer_idx === STAR_LAYER) { // || cell.star_count < 100000) {\n          // realize stars\n          if (!this.realizeStars(cell)) {\n            // didn't complete\n            return cell;\n          }\n        }\n      }\n      cell.stars_ready = true;\n    }\n    if (layer_idx >= STAR_LAYER) {\n      if (!this.renderStars(cell)) {\n        return cell;\n      }\n    }\n  }\n  this.assignChildStars(cell);\n  cell.ready = true;\n\n  return cell;\n};\n\n{\n  const debug_pix = [\n    [0,0,0,0,0,\n     0,0,1,0,0,\n     0,1,0,1,0,\n     0,1,0,1,0,\n     0,1,0,1,0,\n     0,0,1,0,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,0,1,0,0,\n     0,1,1,0,0,\n     0,0,1,0,0,\n     0,0,1,0,0,\n     0,1,1,1,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,0,1,0,0,\n     0,1,0,1,0,\n     0,0,0,1,0,\n     0,0,1,0,0,\n     0,1,1,1,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,1,1,0,0,\n     0,0,0,1,0,\n     0,1,1,0,0,\n     0,0,0,1,0,\n     0,1,1,0,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,1,0,1,0,\n     0,1,0,1,0,\n     0,1,1,1,0,\n     0,0,0,1,0,\n     0,0,0,1,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,1,1,1,0,\n     0,1,0,0,0,\n     0,1,1,0,0,\n     0,0,0,1,0,\n     0,1,1,0,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,0,1,1,0,\n     0,1,0,0,0,\n     0,1,1,1,0,\n     0,1,0,1,0,\n     0,1,1,1,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,1,1,1,0,\n     0,0,0,1,0,\n     0,0,0,1,0,\n     0,0,1,0,0,\n     0,0,1,0,0,\n     0,0,0,0,0],\n    [0,0,0,0,0,\n     0,1,1,1,0,\n     0,1,0,1,0,\n     0,1,1,1,0,\n     0,1,0,1,0,\n     0,1,1,1,0,\n     0,0,0,0,0],\n  ];\n  Galaxy.prototype.getCellTextured = function (layer_idx, cell_idx) {\n    let { buf_dim, tex_data, tex_total_size } = this;\n    let cell = this.getCell(layer_idx, cell_idx);\n    if (cell.tex) {\n      return cell;\n    }\n    let { data, pois, x0, y0, w, stars, ready, cx, cy } = cell;\n    if (!ready) {\n      // still loading\n      return cell;\n    }\n    let layer_res = pow(LAYER_STEP, layer_idx);\n    if (layer_idx >= STAR_LAYER) {\n      data = cell.star_buf;\n      // neighbors must also be ready / have rendered stars\n      for (let yy = -1; yy <= 1; ++yy) {\n        let ny = cy + yy;\n        if (ny < 0 || ny >= layer_res) {\n          continue;\n        }\n        for (let xx = -1; xx <= 1; ++xx) {\n          let nx = cx + xx;\n          if (!nx && !ny || nx < 0 || nx >= layer_res) {\n            continue;\n          }\n          let n = this.getCell(layer_idx, nx + ny * layer_res);\n          if (!n.ready) {\n            return cell;\n          }\n        }\n      }\n    }\n    ++counts.getCellTextured;\n\n    let max_res = pow(2, this.params.max_zoom);\n    if (layer_res === max_res) {\n      for (let ii = 0; ii < tex_total_size; ++ii) {\n        tex_data[ii * 4 + 0] = 0; // brightness\n        tex_data[ii * 4 + 1] = 0; // hue\n        tex_data[ii * 4 + 2] = 0; // ignored\n        tex_data[ii * 4 + 3] = 255; // ignored\n      }\n      // Render in stars\n      for (let ii = 0; ii < stars.length; ++ii) {\n        let star = stars[ii];\n        let { x, y, type, v, id } = star;\n        let hue = hueFromID(id);\n        x = floor((x - x0) / w * buf_dim);\n        y = floor((y - y0) / w * buf_dim);\n        x = max(2, min(buf_dim - 2 - 1, x));\n        y = max(2, min(buf_dim - 2 - 1, y));\n        let idx = (x + y * buf_dim) * 4;\n        let offs = POI_TYPE_OFFS[type];\n        for (let jj = 0; jj < offs.length; jj+=3) {\n          let v2 = clamp(floor(v * offs[jj] * 255), 0, 255);\n          let dx = offs[jj+1];\n          let dy = offs[jj+2];\n          let xx = x + dx;\n          let yy = y + dy;\n          if (xx < 0 || xx >= buf_dim || yy < 0 || yy >= buf_dim) {\n            continue;\n          }\n          let d = (dx + dy * buf_dim) * 4;\n          tex_data[idx + d] = max(tex_data[idx + d], v2);\n          tex_data[idx + d + 1] = max(tex_data[idx + d + 1], hue);\n        }\n      }\n    } else {\n      let { hue_buf } = cell;\n      for (let ii = 0; ii < tex_total_size; ++ii) {\n        let d = data[ii];\n        tex_data[ii * 4 + 0] = clamp(floor(d * 255), 0, 255);\n        tex_data[ii * 4 + 1] = hue_buf ? hue_buf[ii] : 0;\n        tex_data[ii * 4 + 3] = 255;\n      }\n\n      // Render in POIs\n      for (let ii = 0; ii < pois.length; ++ii) {\n        let poi = pois[ii];\n        let { x, y, type, v } = poi;\n        x = floor((x - x0) / w * buf_dim);\n        y = floor((y - y0) / w * buf_dim);\n        let idx = (x + y * buf_dim) * 4;\n        let offs = POI_TYPE_OFFS[type];\n        for (let jj = 0; jj < offs.length; jj+=3) {\n          let v2 = clamp(floor(v * offs[jj] * 255), 0, 255);\n          let dx = offs[jj+1];\n          let dy = offs[jj+2];\n          let xx = x + dx;\n          let yy = y + dy;\n          if (xx < 0 || xx >= buf_dim || yy < 0 || yy >= buf_dim) {\n            continue;\n          }\n          let d = (dx + dy * buf_dim) * 4;\n          tex_data[idx + d + 0] = max(tex_data[idx + d + 0], v2);\n          tex_data[idx + d + 1] = max(tex_data[idx + d + 1], 0); // todo: use real hue?\n        }\n      }\n    }\n\n    if (engine.DEBUG && false) {\n      let dbg = debug_pix[layer_idx];\n      if (dbg) {\n        for (let idx=0, yy = 0; yy < 7; ++yy) {\n          for (let xx = 0; xx < 5; ++xx,++idx) {\n            let idx2 = (yy * buf_dim + xx) * 4;\n            for (let ii = 0; ii < 3; ++ii) {\n              tex_data[idx2 + ii] = dbg[idx] ? 255 : 0;\n            }\n          }\n        }\n      }\n    }\n\n    if (tex_pool.length) {\n      cell.tex = tex_pool.pop();\n      cell.tex.updateData(buf_dim, buf_dim, tex_data);\n    } else {\n      ++counts.tex;\n      cell.tex = textures.load({\n        name: `galaxy_${++tex_id_idx}`,\n        format: textures.format.RGBA8,\n        width: buf_dim,\n        height: buf_dim,\n        data: tex_data,\n        filter_min: gl.NEAREST,\n        filter_mag: gl.NEAREST,\n        wrap_s: gl.CLAMP_TO_EDGE,\n        wrap_t: gl.CLAMP_TO_EDGE,\n      });\n    }\n\n    if (cell.star_buf) {\n      star_buf_pool.push(cell.star_buf);\n      cell.star_buf = null;\n    }\n    if (cell.hue_buf) {\n      hue_buf_pool.push(cell.hue_buf);\n      cell.hue_buf = null;\n    }\n    return cell;\n  };\n}\n\nexport function distSq(x1, y1, x2, y2) {\n  let dx = x2 - x1;\n  let dy = y2 - y1;\n  return dx*dx + dy*dy;\n}\n\n{\n  const dy = [0, 1, -1];\n  const dx = [0, 1, -1];\n  Galaxy.prototype.starsNear = function (x, y, num) {\n    let { layers } = this;\n    let layer_idx = MAX_LAYER - 1;\n    let layer = layers[layer_idx];\n    if (!layer) {\n      return [];\n    }\n    let layer_res = pow(LAYER_STEP, layer_idx);\n    let cx = floor(x * layer_res);\n    let cy = floor(y * layer_res);\n    let closest = new Array(num);\n    for (let ddy = 0; ddy <= 3; ++ddy) {\n      let yy = cy + dy[ddy];\n      if (yy < 0 || yy >= layer_res) {\n        continue;\n      }\n      for (let ddx = 0; ddx <= 3; ++ddx) {\n        let xx = cx + dx[ddx];\n        if (xx < 0 || xx >= layer_res) {\n          continue;\n        }\n        let cell_idx = yy * layer_res + xx;\n        let cell = layer[cell_idx];\n        if (!cell || !cell.stars) {\n          // incomplete data loaded, dynamic load here? just for stars?\n          continue;\n        }\n        let { stars } = cell;\n        for (let ii = 0; ii < stars.length; ++ii) {\n          let star = stars[ii];\n          star.dist_temp = distSq(x, y, star.x, star.y);\n          for (let jj = 0; jj < closest.length; ++jj) {\n            let other = closest[jj];\n            if (!other) {\n              closest[jj] = star;\n              break;\n            }\n            if (star.dist_temp < other.dist_temp) {\n              closest[jj] = star;\n              star = other;\n            }\n          }\n        }\n      }\n    }\n    return closest;\n  };\n}\n\nGalaxy.prototype.getStarData = function (star) {\n  if (!star.solar_system) {\n    star.solar_system = solarSystemCreate(this.params.seed, star);\n  }\n  return star;\n};\n\nGalaxy.prototype.dispose = function () {\n  let { layers } = this;\n  for (let ii = 0; ii < layers.length; ++ii) {\n    let layer = layers[ii];\n    for (let key in layer) {\n      let cell = layer[key];\n      if (cell.tex) {\n        tex_pool.push(cell.tex);\n        cell.tex = null;\n      }\n    }\n  }\n};\n\nlet debug_buf = JSON.stringify(counts, undefined, 2);\nsetInterval(() => {\n  let buf = JSON.stringify(counts, undefined, 2);\n  if (debug_buf !== buf) {\n    debug_buf = buf;\n    console.log(buf);\n  }\n}, 5000);\n\n\nexport function createGalaxy(params) {\n  return new Galaxy(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Things that should be done before requiring or running any user-level code or other engine code\n\nrequire('./polyfill.js');\n\nlet debug = document.getElementById('debug');\nwindow.onerror = function (e, file, line, col, errorobj) {\n  let msg = `${e}\\n  at ${file}(${line}:${col})`;\n  if (errorobj && errorobj.stack) {\n    msg = `${errorobj.stack}`;\n    if (errorobj.message) {\n      if (msg.indexOf(errorobj.message) === -1) {\n        msg = `${errorobj.message}\\n${msg}`;\n      }\n    }\n    let origin = document.location.origin || '';\n    if (origin) {\n      if (origin.slice(-1) !== '/') {\n        origin += '/';\n      }\n      msg = msg.split(origin).join(''); // replace\n    }\n    // fixup weird Firefox weirdness\n    msg = msg.replace(/\\[\\d+\\]</g, '') // remove funny [123] at start of stack lines\n      .replace(/<?\\/<?/g, '/') // remove funny <s, they mess up people's copy and paste\n      .replace(/\\n([^ ])/g, '\\n  $1'); // add indentation if missing\n  }\n  let show = true;\n  if (window.glov_error_report) {\n    show = window.glov_error_report(msg, file, line, col);\n  }\n  if (show) {\n    debug.innerText = `${msg}\\n\\nPlease report this error to the developer, and then reload this page.`;\n  }\n};\nwindow.debugmsg = function (msg, clear) {\n  if (clear) {\n    debug.innerText = msg;\n  } else {\n    debug.innerText += `${msg}\\n`;\n  }\n};\n","let ua = window.navigator.userAgent;\nexport let is_ios = !window.MSStream && ua.match(/iPad|iPhone|iPod/);\nexport let is_windows_phone = ua.match(/windows phone/i);\nexport let is_android = !is_windows_phone && ua.match(/android/i);\nexport let is_webkit = ua.match(/WebKit/i);\nexport let is_ios_safari = is_ios && is_webkit && !ua.match(/CriOS/i);\n\nexport let is_discrete_gpu = false;\n\nfunction init() {\n  let canvas = document.createElement('canvas');\n  canvas.width = 4;\n  canvas.height = 4;\n  let gltest = canvas.getContext('webgl');\n  let debug_info = gltest.getExtension('WEBGL_debug_renderer_info');\n  if (debug_info) {\n    let renderer_unmasked = gltest.getParameter(debug_info.UNMASKED_RENDERER_WEBGL);\n    is_discrete_gpu = Boolean(renderer_unmasked && renderer_unmasked.match(/nvidia|radeon/i));\n  }\n}\ninit();\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-shadow:off */\n\nconst engine = require('./engine.js');\n\nconst { max, round } = Math;\n\nconst safearea_pad = new Float32Array(4); // left, right, top, bottom\n// 0: x0_real\n// 1: y0_real\n// 2: x1_real\n// 3: y1_real\n// 4: x_scale\n// 5: y_scale\n// 6: dom_to_canvas_ratio\n// 7: inverse viewport x_scale\n// 8: inverse viewport y_scale\n// 9: x0\n// 10: y0\n// 11: x1\n// 12: y1\nexport const data = new Float32Array(13);\n\nlet screen_width;\nlet screen_height;\n// Note: render_* not used by FRVR at this time\nlet render_width;\nlet render_height;\nexport let render_viewport_w;\nexport let render_viewport_h;\nexport let render_offset_x;\nlet render_offset_y_top;\nexport let render_offset_y_bottom;\n\nfunction reapply() {\n  if (render_width) {\n    data[4] = render_width / (data[2] - data[0]);\n    data[5] = render_height / (data[3] - data[1]);\n    data[7] = (data[2] - data[0]) / render_viewport_w;\n    data[8] = (data[3] - data[1]) / render_viewport_h;\n  } else {\n    data[4] = screen_width / (data[2] - data[0]);\n    data[5] = screen_height / (data[3] - data[1]);\n  }\n}\n\n// To get to coordinates used by OpenGL / canvas\nexport function virtualToCanvas(dst, src) {\n  dst[0] = (src[0] - data[0]) * data[4];\n  dst[1] = (src[1] - data[1]) * data[5];\n}\n\nexport function canvasToVirtual(dst, src) {\n  dst[0] = src[0] / data[4] + data[0];\n  dst[1] = src[1] / data[5] + data[1];\n}\n\nfunction safeScreenWidth() {\n  return max(1, screen_width - safearea_pad[0] - safearea_pad[1]);\n}\n\nfunction safeScreenHeight() {\n  return max(1, screen_height - safearea_pad[2] - safearea_pad[3]);\n}\n\n// Sets the 2D \"camera\" used to translate sprite positions to screen space.  Affects sprites queued\n//  after this call\nexport function set(x0, y0, x1, y1, ignore_safe_area) {\n  if (ignore_safe_area || render_width) {\n    data[9] = data[0] = x0;\n    data[10] = data[1] = y0;\n    data[11] = data[2] = x1;\n    data[12] = data[3] = y1;\n  } else {\n    data[9] = x0;\n    data[10] = y0;\n    data[11] = x1;\n    data[12] = y1;\n    let wscale = (x1 - x0) / safeScreenWidth();\n    let hscale = (y1 - y0) / safeScreenHeight();\n    data[0] = x0 - safearea_pad[0] * wscale;\n    data[1] = y0 - safearea_pad[2] * hscale;\n    data[2] = x1 + safearea_pad[1] * wscale;\n    data[3] = y1 + safearea_pad[3] * hscale;\n  }\n\n  reapply();\n}\n\nexport function setSafeAreaPadding(left, right, top, bottom) {\n  safearea_pad[0] = round(left);\n  safearea_pad[1] = round(right);\n  safearea_pad[2] = round(top);\n  safearea_pad[3] = round(bottom);\n  // Called while updating screen width/height, reapply() should get called later\n}\n\nexport function safeAreaPadding() {\n  return safearea_pad;\n}\n\nconst stack = [];\nexport function push() {\n  stack.push(data.slice(0));\n}\nexport function pop() {\n  let old = stack.pop();\n  for (let ii = 0; ii < old.length; ++ii) {\n    data[ii] = old[ii];\n  }\n  reapply();\n}\n\nexport function domToCanvasRatio() {\n  return data[6];\n}\n\nexport function screenAspect() {\n  return safeScreenWidth() /\n    safeScreenHeight();\n}\n\n// Drawing area 0,0-w,h\n// But keep the aspect ratio of those things drawn to be correct\n// This may create a padding or margin on either top and bottom or sides of the screen\n// User users constant values in this range for consistent UI on all devices\nexport function setAspectFixed(w, h) {\n  let pa = render_width ? 1 : engine.pixel_aspect;\n  let inv_aspect = h / pa / w;\n  let inv_desired_aspect;\n  if (render_width) {\n    inv_desired_aspect = render_height / render_width;\n  } else {\n    inv_desired_aspect = 1 / screenAspect();\n  }\n  if (inv_aspect > inv_desired_aspect) {\n    let margin = (h / pa / inv_desired_aspect - w) / 2;\n    set(-margin, 0, w + margin, h, false);\n  } else {\n    let margin = (w * pa * inv_desired_aspect - h) / 2;\n    set(0, -margin, w, h + margin, false);\n  }\n}\n\n// Primary drawing area at least W x H\n// But keep the aspect ratio of those things drawn to be correct\n// Similar to setAspectFixed() but keeps (0,0) in the upper left (all padding\n//   is added to right and bottom)\n// Requires users to use camera2d.w()/ and camera2d.h() to determine reasonable\n//   UI positioning\nexport function setAspectFixed2(w, h) {\n  let pa = render_width ? 1 : engine.pixel_aspect;\n  let inv_aspect = h / pa / w;\n  let inv_desired_aspect;\n  if (render_width) {\n    inv_desired_aspect = render_height / render_width;\n  } else {\n    inv_desired_aspect = 1 / screenAspect();\n  }\n  if (inv_aspect > inv_desired_aspect) {\n    let margin = (h / pa / inv_desired_aspect - w);\n    set(0, 0, w + margin, h, false);\n  } else {\n    let margin = (w * pa * inv_desired_aspect - h);\n    set(0, 0, w, h + margin, false);\n  }\n}\n\nexport function zoom(x, y, factor) {\n  let inv_factor = 1.0 / factor;\n  set(\n    x - (x - data[0]) * inv_factor,\n    y - (y - data[1]) * inv_factor,\n    x + (data[2] - x) * inv_factor,\n    y + (data[3] - y) * inv_factor, true);\n}\n\n// returns [x0,y0,x1,y1] to use as parameters set() such that src_rect in the\n// current view is now addressable by dest_rect (presumably something like\n// [0,0,vw,vh])\nexport function calcMap(out, src_rect, dest_rect) {\n  let cur_w = data[11] - data[9];\n  let cur_h = data[12] - data[10];\n  let vx0 = src_rect[0] / cur_w;\n  let vy0 = src_rect[1] / cur_h;\n  let vx1 = src_rect[2] / cur_w;\n  let vy1 = src_rect[3] / cur_h;\n  let vw = vx1 - vx0;\n  let vh = vy1 - vy0;\n  let dest_vw = dest_rect[2] - dest_rect[0];\n  let dest_vh = dest_rect[3] - dest_rect[1];\n  out[0] = dest_rect[0] - dest_vw / vw * vx0;\n  out[1] = dest_rect[1] - dest_vh / vh * vy0;\n  out[2] = dest_rect[2] + dest_vw / vw * (1 - vx1);\n  out[3] = dest_rect[3] + dest_vh / vh * (1 - vy1);\n}\n\nexport function setNormalized() {\n  set(0, 0, 1, 1, true);\n}\n\nexport function x0Real() {\n  return data[0];\n}\nexport function y0Real() {\n  return data[1];\n}\nexport function x1Real() {\n  return data[2];\n}\nexport function y1Real() {\n  return data[3];\n}\nexport function wReal() {\n  return data[2] - data[0];\n}\nexport function hReal() {\n  return data[3] - data[1];\n}\nexport function x0() {\n  return data[9];\n}\nexport function y0() {\n  return data[10];\n}\nexport function x1() {\n  return data[11];\n}\nexport function y1() {\n  return data[12];\n}\nexport function w() {\n  return data[11] - data[9];\n}\nexport function h() {\n  return data[12] - data[10];\n}\nexport function xScale() {\n  return data[4];\n}\nexport function yScale() {\n  return data[5];\n}\n\nexport function htmlPos(x, y) {\n  if (render_width) {\n    return [\n      100 * (((x - data[0]) / data[7] + render_offset_x) / screen_width),\n      100 * (((y - data[1]) / data[8] + render_offset_y_top) / screen_height),\n    ];\n  } else {\n    return [\n      100 * (x - data[0]) / (data[2] - data[0]),\n      100 * (y - data[1]) / (data[3] - data[1]),\n    ];\n  }\n}\nexport function htmlSize(w, h) {\n  if (render_width) {\n    return [\n      100 * w / data[7] / screen_width,\n      100 * h / data[8] / screen_height,\n    ];\n  } else {\n    return [100 * w / (data[2] - data[0]), 100 * h / (data[3] - data[1])];\n  }\n}\n\nlet input_clipping;\nexport function setInputClipping(xywh) {\n  input_clipping = xywh;\n}\n\nexport function domToVirtual(dst, src) {\n  let ret = true;\n  if (input_clipping) {\n    if (src[0] < input_clipping[0] || src[0] > input_clipping[0] + input_clipping[2] ||\n      src[1] < input_clipping[1] || src[1] > input_clipping[1] + input_clipping[3]\n    ) {\n      ret = false;\n    }\n  }\n  if (render_width) {\n    dst[0] = (src[0] * data[6] - render_offset_x) * data[7] + data[0];\n    dst[1] = (src[1] * data[6] - render_offset_y_top) * data[8] + data[1];\n  } else {\n    dst[0] = src[0] * data[6] / data[4] + data[0];\n    dst[1] = src[1] * data[6] / data[5] + data[1];\n  }\n  return ret;\n}\n\nexport function domDeltaToVirtual(dst, src) {\n  if (render_width) {\n    dst[0] = src[0] * data[6] * data[7];\n    dst[1] = src[1] * data[6] * data[8];\n  } else {\n    dst[0] = src[0] * data[6] / data[4];\n    dst[1] = src[1] * data[6] / data[5];\n  }\n}\n\nlet input_clipping_virtual = new Float32Array(4);\nfunction updateVirtualInputClipping() {\n  domToVirtual(input_clipping_virtual, input_clipping);\n  //domDeltaToVirtual(input_clipping_virtual.slice(2), input_clipping.slice(2)) :\n  if (render_width) {\n    input_clipping_virtual[2] = input_clipping[2] * data[6] * data[7];\n    input_clipping_virtual[3] = input_clipping[3] * data[6] * data[8];\n  } else {\n    input_clipping_virtual[2] = input_clipping[2] * data[6] / data[4];\n    input_clipping_virtual[3] = input_clipping[3] * data[6] / data[5];\n  }\n}\n\n\n// To get to coordinates used by mouse events\nexport function virtualToDom(dst, src) {\n  if (render_width) {\n    dst[0] = (render_offset_x + (src[0] - data[0]) / data[7]) / data[6];\n    dst[1] = (render_offset_y_top + (src[1] - data[1]) / data[8]) / data[6];\n  } else {\n    dst[0] = (src[0] - data[0]) * data[4] / data[6];\n    dst[1] = (src[1] - data[1]) * data[5] / data[6];\n  }\n}\n\nexport function virtualToFontSize(height) {\n  if (render_width) {\n    return height / (data[6] * data[8]) * 0.84;\n  } else {\n    return height * data[5] / data[6] * 0.84;\n  }\n}\n\n// dst/src are x/y/w/h objects (e.g. from input system)\nexport function virtualToDomPosParam(dst, src) {\n  if (render_width) {\n    dst.x = (render_offset_x + (src.x - data[0]) / data[7]) / data[6];\n    dst.w = src.w / data[7] / data[6];\n    dst.y = (render_offset_y_top + (src.y - data[1]) / data[8]) / data[6];\n    dst.h = src.h / data[8] / data[6];\n  } else {\n    dst.x = (src.x - data[0]) * data[4] / data[6];\n    dst.w = src.w * data[4] / data[6];\n    dst.y = (src.y - data[1]) * data[5] / data[6];\n    dst.h = src.h * data[5] / data[6];\n  }\n}\n\nexport function clipTestRect(rect) {\n  if (!input_clipping) {\n    return true;\n  }\n  updateVirtualInputClipping();\n  let icv = input_clipping_virtual;\n  if (rect.x > icv[0] + icv[2] ||\n    rect.x + rect.w < icv[0] ||\n    rect.y > icv[1] + icv[3] ||\n    rect.y + rect.h < icv[1]\n  ) {\n    // fully clipped\n    return false;\n  }\n  if (rect.x < icv[0]) {\n    rect.w -= icv[0] - rect.x;\n    rect.x = icv[0];\n  }\n  if (rect.y < icv[1]) {\n    rect.h -= icv[1] - rect.y;\n    rect.y = icv[1];\n  }\n  if (rect.x + rect.w > icv[0] + icv[2]) {\n    rect.w = icv[0] + icv[2] - rect.x;\n  }\n  if (rect.y + rect.h > icv[1] + icv[3]) {\n    rect.h = icv[1] + icv[3] - rect.y;\n  }\n  return true;\n}\n\nexport function tickCamera2D() {\n  data[6] = engine.dom_to_canvas_ratio; /* dom_to_canvas_ratio */\n  screen_width = engine.width;\n  screen_height = engine.height;\n  let viewport = [0, 0, screen_width, screen_height];\n  if (engine.render_width) { // Note: render_* not used by FRVR at this time\n    render_width = engine.render_width;\n    render_height = engine.render_height;\n    // Find an offset so this rendered viewport is centered while preserving aspect ratio, just like setAspectFixed\n    let pa = engine.pixel_aspect;\n    let inv_aspect = render_height / pa / render_width;\n    let eff_screen_width = safeScreenWidth();\n    let eff_screen_height = safeScreenHeight();\n    let inv_desired_aspect = eff_screen_height / eff_screen_width;\n    if (inv_aspect > inv_desired_aspect) {\n      let margin = (render_height / inv_desired_aspect - render_width * pa) / 2 *\n        eff_screen_height / render_height;\n      render_offset_x = safearea_pad[0] + round(margin);\n      render_offset_y_top = safearea_pad[2];\n      render_offset_y_bottom = safearea_pad[3];\n      render_viewport_w = round(eff_screen_width - margin * 2);\n      render_viewport_h = eff_screen_height;\n    } else {\n      let margin = (render_width * inv_desired_aspect - render_height / pa) / 2 *\n        eff_screen_width / render_width;\n      render_offset_x = safearea_pad[0];\n      render_offset_y_top = safearea_pad[2] + round(margin);\n      render_offset_y_bottom = safearea_pad[3] + round(margin);\n      render_viewport_w = eff_screen_width;\n      render_viewport_h = round(eff_screen_height - margin * 2);\n    }\n    viewport[2] = render_width;\n    viewport[3] = render_height;\n  } else {\n    render_width = render_height = 0;\n    render_offset_x = 0;\n    render_offset_y_top = 0;\n    render_offset_y_bottom = 0;\n  }\n\n  reapply();\n\n  // let screen_width = engine.width;\n  // let screen_height = engine.height;\n  // let screen_aspect = screen_width / screen_height;\n  // let view_aspect = game_width / game_height;\n  // if (screen_aspect > view_aspect) {\n  //   let viewport_width = game_height * screen_aspect;\n  //   let half_diff = (viewport_width - game_width) / 2;\n  //   viewportRectangle = [-half_diff, 0, game_width + half_diff, game_height];\n  // } else {\n  //   let viewport_height = game_width / screen_aspect;\n  //   let half_diff = (viewport_height - game_height) / 2;\n  //   viewportRectangle = [0, -half_diff, game_width, game_height + half_diff];\n  // }\n\n  engine.setViewport(viewport);\n}\n\nexport function startup() {\n  set(0, 0, engine.width, engine.height);\n  tickCamera2D();\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\nconst assert = require('assert');\nconst { asyncParallel } = require('../../common/async.js');\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst { isFriend } = require('./friends.js');\nconst input = require('./input.js');\nconst { link } = require('./link.js');\nconst local_storage = require('./local_storage.js');\nconst { ceil, floor, max, min } = Math;\nconst net = require('./net.js');\nconst { profanityFilter, profanityStartup } = require('./words/profanity.js');\nconst { scrollAreaCreate } = require('./scroll_area.js');\nconst settings = require('./settings.js');\nconst ui = require('./ui.js');\nconst { clamp, matchAll } = require('../../common/util.js');\nconst { vec4, v3copy } = require('./vmath.js');\n\nconst FADE_START_TIME = [10000, 1000];\nconst FADE_TIME = [1000, 500];\n\nconst INDENT = 40;\n\nconst FLAG_EMOTE = 1;\nconst FLAG_USERCHAT = 2;\n\nZ.CHAT = Z.CHAT || 500;\nZ.CHAT_FOCUSED = Z.CHAT_FOCUSED || Z.CHAT;\n\nconst color_user_rollover = vec4(1,1,1,0.5);\n\nconst MAX_PER_STYLE = {\n  join_leave: 3,\n};\n\nsettings.register({\n  chat_auto_unfocus: {\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    help: 'Automatically unfocus chat after sending a message',\n  },\n});\n\nsettings.register({\n  profanity_filter: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    help: 'Filter profanity in chat',\n  },\n});\n\nfunction CmdHistory() {\n  assert(local_storage.storage_prefix !== 'demo'); // wrong initialization order\n  this.entries = new Array(50);\n  this.idx = local_storage.getJSON('console_idx'); // where we will next insert\n  if (typeof this.idx !== 'number' || this.idx < 0 || this.idx >= this.entries.length) {\n    this.idx = 0;\n  } else {\n    for (let ii = 0; ii < this.entries.length; ++ii) {\n      this.entries[ii] = local_storage.getJSON(`console_e${ii}`);\n    }\n  }\n  this.resetPos();\n}\nCmdHistory.prototype.setHist = function (idx, text) {\n  this.entries[idx] = text;\n  local_storage.setJSON(`console_e${idx}`, text);\n};\nCmdHistory.prototype.add = function (text) {\n  if (!text) {\n    return;\n  }\n  let idx = this.entries.indexOf(text);\n  if (idx !== -1) {\n    // already in there, just re-order\n    let target = (this.idx - 1 + this.entries.length) % this.entries.length;\n    while (idx !== target) {\n      let next = (idx + 1) % this.entries.length;\n      this.setHist(idx, this.entries[next]);\n      idx = next;\n    }\n    this.setHist(target, text);\n    return;\n  }\n  this.setHist(this.idx, text);\n  this.idx = (this.idx + 1) % this.entries.length;\n  local_storage.setJSON('console_idx', this.idx);\n  this.resetPos();\n};\nCmdHistory.prototype.unadd = function (text) {\n  // upon error, do not store this string in our history\n  let idx = (this.idx - 1 + this.entries.length) % this.entries.length;\n  if (this.entries[idx] !== text) {\n    return;\n  }\n  this.idx = idx;\n  local_storage.setJSON('console_idx', this.idx);\n  this.resetPos();\n};\nCmdHistory.prototype.resetPos = function () {\n  this.hist_idx = this.idx;\n  this.edit_line = '';\n};\nCmdHistory.prototype.prev = function (cur_text) {\n  if (this.hist_idx === this.idx) {\n    // if first time goine backwards, stash the current edit line\n    this.edit_line = cur_text;\n  }\n  let idx = (this.hist_idx - 1 + this.entries.length) % this.entries.length;\n  let text = this.entries[idx];\n  if (idx === this.idx || !text) {\n    // wrapped around, or got to empty\n    return this.entries[this.hist_idx] || '';\n  }\n  this.hist_idx = idx;\n  return text || '';\n};\nCmdHistory.prototype.next = function (cur_text) {\n  if (this.hist_idx === this.idx) {\n    return cur_text || '';\n  }\n  let idx = (this.hist_idx + 1) % this.entries.length;\n  this.hist_idx = idx;\n  if (this.hist_idx === this.idx) {\n    // just got back to head\n    let ret = this.edit_line;\n    this.edit_line = '';\n    return ret || '';\n  }\n  return this.entries[idx] || '';\n};\n\nfunction ChatUI(params) {\n  assert.equal(typeof params, 'object');\n  assert.equal(typeof params.max_len, 'number');\n  this.edit_text_entry = ui.createEditBox({\n    placeholder: 'Chat',\n    initial_focus: false,\n    auto_unfocus: true,\n    max_len: params.max_len,\n    text: '',\n  });\n  this.channel = null;\n\n  this.on_join = this.onMsgJoin.bind(this);\n  this.on_leave = this.onMsgLeave.bind(this);\n  this.on_chat = this.onMsgChat.bind(this);\n  this.handle_cmd_parse = this.handleCmdParse.bind(this);\n  this.handle_cmd_parse_error = this.handleCmdParseError.bind(this);\n  cmd_parse.setDefaultHandler(this.handle_cmd_parse_error);\n  this.clearChat();\n  this.max_lines = params.max_lines || 8; // Max shown when chat not active\n  this.max_messages = params.max_messages || 1000; // Size of history kept\n  this.max_len = params.max_len;\n  this.font_height = params.font_height || ui.font_height;\n  this.hide_disconnected_message = params.hide_disconnected_message || false;\n  this.scroll_area = scrollAreaCreate({\n    background_color: null,\n    auto_scroll: true,\n  });\n  this.w = params.w || engine.game_width / 2;\n  this.h = params.h || engine.game_height / 2; // excluding text entry\n  this.volume_join_leave = params.volume_join_leave || 1;\n  this.volume_in = params.volume_in || 1;\n  this.volume_out = params.volume_out || 1;\n  this.history = new CmdHistory();\n  this.get_roles = null; // returns object for testing cmd access permissions\n  this.url_match = params.url_match; // runs `/url match[1]` if clicked\n  this.url_info = params.url_info; // Optional for grabbing the interesting portion of the URL for tooltip and /url\n  this.user_context_cb = params.user_context_cb; // Cb called with { user_id } on click\n  this.setActiveSize(this.font_height, this.w);\n\n  this.styles = {\n    def: glov_font.style(null, {\n      color: 0xEEEEEEff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    system: glov_font.style(null, {\n      color: 0xAAAAAAff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    error: glov_font.style(null, {\n      color: 0xDD0000ff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    link: glov_font.style(null, {\n      color: 0x5040FFff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    link_hover: glov_font.style(null, {\n      color: 0x0000FFff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n  };\n  this.styles.join_leave = this.styles.system;\n\n  net.subs.on('chat_broadcast', this.onChatBroadcast.bind(this));\n}\n\nChatUI.prototype.setActiveSize = function (font_height, w) {\n  let wrap_w = w - this.scroll_area.barWidth();\n  if (this.active_font_height !== font_height || this.wrap_w !== wrap_w) {\n    this.active_font_height = font_height;\n    this.wrap_w = wrap_w;\n    // recalc numlines\n    this.total_lines = 0;\n    for (let ii = 0; ii < this.msgs.length; ++ii) {\n      let elem = this.msgs[ii];\n      elem.numlines = ui.font.numLines(this.styles[elem.style] || this.styles.def,\n        this.wrap_w, INDENT, this.active_font_height, elem.msg_text);\n      this.total_lines += elem.numlines;\n    }\n  }\n};\n\nChatUI.prototype.clearChat = function () {\n  this.msgs = [];\n  this.total_lines = 0;\n};\n\nfunction notHidden(msg) {\n  return !msg.hidden;\n}\n\nChatUI.prototype.addMsgInternal = function (elem) {\n  elem.timestamp = elem.timestamp || Date.now();\n  if (elem.flags & FLAG_USERCHAT) {\n    if (elem.flags & FLAG_EMOTE) {\n      elem.msg_text = `${elem.display_name} ${elem.msg}`;\n    } else {\n      elem.msg_text = `[${elem.display_name}] ${elem.msg}`;\n    }\n  } else {\n    elem.msg_text = elem.msg;\n  }\n  elem.numlines = ui.font.numLines(this.styles[elem.style] || this.styles.def,\n    this.wrap_w, INDENT, this.active_font_height, elem.msg_text);\n  this.total_lines += elem.numlines;\n  this.msgs.push(elem);\n  let max_msgs = MAX_PER_STYLE[elem.style];\n  if (max_msgs) {\n    // Remove any more than max\n    // Also remove any for the same ID (want for 'join_leave', maybe not others?)\n    for (let ii = this.msgs.length - 2; ii >= 0; --ii) {\n      let elem2 = this.msgs[ii];\n      if (elem2.style === elem.style && !elem2.hidden) {\n        if (elem.id && elem2.id === elem.id) {\n          elem2.hidden = true;\n          this.total_lines -= elem2.numlines;\n          elem2.numlines = 0;\n        } else {\n          --max_msgs;\n          if (max_msgs <= 0) {\n            elem2.hidden = true;\n            this.total_lines -= elem2.numlines;\n            elem2.numlines = 0;\n            break;\n          }\n        }\n      }\n    }\n  }\n  if (this.msgs.length > this.max_messages * 1.25) {\n    this.msgs = this.msgs.filter(notHidden);\n    if (this.msgs.length > this.max_messages * 1.25) {\n      this.msgs.splice(0, this.msgs.length - this.max_messages);\n      this.total_lines = 0;\n      for (let ii = 0; ii < this.msgs.length; ++ii) {\n        this.total_lines += this.msgs[ii].numlines;\n      }\n    }\n  }\n};\n\nChatUI.prototype.addChat = function (msg, style) {\n  console.log(msg);\n  this.addMsgInternal({ msg, style });\n};\nChatUI.prototype.addChatFiltered = function (data) {\n  console.log(`Chat from ${data.id}: ${data.msg}`);\n  if (settings.profanity_filter) {\n    data.msg = profanityFilter(data.msg);\n  }\n  this.addMsgInternal(data);\n};\nChatUI.prototype.onMsgJoin = function (data) {\n  if (data.client_id !== net.client.id) {\n    if (this.volume_join_leave) {\n      ui.playUISound('user_join', this.volume_join_leave);\n    }\n    this.addChatFiltered({\n      id: data.user_id || data.client_id,\n      display_name: data.display_name || data.client_id,\n      flags: FLAG_EMOTE|FLAG_USERCHAT,\n      msg: 'joined the channel',\n      style: 'join_leave',\n    });\n  }\n};\nChatUI.prototype.onMsgLeave = function (data) {\n  if (this.volume_join_leave) {\n    ui.playUISound('user_leave', this.volume_join_leave);\n  }\n  this.addChatFiltered({\n    id: data.user_id || data.client_id,\n    display_name: data.display_name || data.client_id,\n    flags: FLAG_EMOTE|FLAG_USERCHAT,\n    msg: 'left the channel',\n    style: 'join_leave',\n  });\n};\nChatUI.prototype.onMsgChat = function (data) {\n  let { msg, id, client_id, display_name, flags, ts, quiet } = data;\n  if (!quiet && client_id !== net.client.id) {\n    if (this.volume_in) {\n      ui.playUISound('msg_in', this.volume_in);\n    }\n  }\n  display_name = display_name || id;\n  flags = (flags || 0) | FLAG_USERCHAT;\n  this.addChatFiltered({\n    id,\n    display_name,\n    msg,\n    flags,\n    timestamp: ts,\n    quiet,\n  });\n};\nChatUI.prototype.onChatBroadcast = function (data) {\n  let { msg, src } = data;\n  ui.playUISound('msg_err');\n  this.addChatFiltered({\n    msg: `[${src}] ${msg}`,\n    style: 'error',\n  });\n};\n\nChatUI.prototype.runLate = function () {\n  this.did_run_late = true;\n  if (input.keyDownEdge(input.KEYS.RETURN)) {\n    this.edit_text_entry.focus();\n  }\n  if (input.keyDownEdge(input.KEYS.SLASH) ||\n    input.keyDownEdge(input.KEYS.NUMPAD_DIVIDE)\n  ) {\n    this.edit_text_entry.focus();\n    this.edit_text_entry.setText('/');\n  }\n};\n\nfunction errStr(err) {\n  if (typeof err === 'object') {\n    return JSON.stringify(err);\n  }\n  return err;\n}\n\nChatUI.prototype.handleCmdParseError = function (err, resp) {\n  if (err) {\n    this.addChat(`[error] ${errStr(err)}`, 'error');\n  }\n};\n\nChatUI.prototype.handleCmdParse = function (err, resp) {\n  if (err) {\n    this.addChat(`[error] ${errStr(err)}`, 'error');\n  } else if (resp) {\n    this.addChat(`[system] ${(typeof resp === 'string') ? resp : JSON.stringify(resp)}`, 'system');\n  }\n};\n\nChatUI.prototype.setGetRoles = function (fn) {\n  this.get_roles = fn;\n};\n\nlet access_dummy = { access: null };\nChatUI.prototype.getAccessObj = function () {\n  if (!this.get_roles) {\n    return {};\n  }\n  access_dummy.access = this.get_roles();\n  return access_dummy;\n};\n\nChatUI.prototype.cmdParse = function (str, on_error) {\n  let handleResult = on_error ?\n    (err, resp) => {\n      this.handle_cmd_parse(err, resp);\n      if (on_error && err) {\n        on_error(err);\n      }\n    } :\n    this.handle_cmd_parse;\n  cmd_parse.handle(this.getAccessObj(), str, function (err, resp) {\n    if (err && cmd_parse.was_not_found) {\n      // forward to server\n      net.subs.sendCmdParse(str, handleResult);\n    } else {\n      handleResult(err, resp);\n    }\n  });\n};\n\nChatUI.prototype.cmdParseInternal = function (str) {\n  cmd_parse.handle(this.getAccessObj(), str, this.handle_cmd_parse_error);\n};\n\nfunction pad2(str) {\n  return `0${str}`.slice(-2);\n}\nfunction conciseDate(dt) {\n  return `${pad2(dt.getMonth() + 1)}-${pad2(dt.getDate())} ${pad2(dt.getHours())\n  }:${pad2(dt.getMinutes())}:${pad2(dt.getSeconds())}`;\n}\nlet help_font_style = glov_font.styleColored(null, 0x000000ff);\nlet help_font_style_cmd = glov_font.style(help_font_style, {\n  outline_width: 0.5,\n  outline_color: 0x000000FF,\n});\nlet help_rollover_color = vec4(0, 0, 0, 0.25);\nlet help_rollover_color2 = vec4(0, 0, 0, 0.125);\nconst TOOLTIP_MIN_PAGE_SIZE = 20;\nlet tooltip_page = 0;\nlet tooltip_last = '';\nlet tooltip_panel_color = vec4();\nfunction drawHelpTooltip(param) {\n  assert(Array.isArray(param.tooltip));\n  let tooltip = param.tooltip;\n  let num_pages = 1;\n  let h = param.font_height;\n  let eff_tooltip_pad = ui.tooltip_pad * 0.5;\n  let num_per_page = min(TOOLTIP_MIN_PAGE_SIZE, max(1, floor((param.y - camera2d.y0() - eff_tooltip_pad) / h) - 1));\n  if (tooltip.length > 20) {\n    let text = tooltip.join('\\n');\n    if (text !== tooltip_last) {\n      tooltip_page = 0;\n      tooltip_last = text;\n    }\n    num_pages = ceil(tooltip.length / num_per_page);\n    tooltip = tooltip.slice(tooltip_page * num_per_page, (tooltip_page + 1) * num_per_page);\n  } else {\n    tooltip_page = 0;\n    tooltip_last = '';\n  }\n  let w = param.tooltip_width;\n  let x = param.x;\n  let z = param.z || (Z.TOOLTIP + 5);\n  let text_x = x + eff_tooltip_pad;\n  let text_w = w - eff_tooltip_pad * 2;\n  let tooltip_y1 = param.y;\n\n  let alpha = 1;\n  let vis_h = eff_tooltip_pad * 2 + h * tooltip.length;\n  if (!param.do_selection && num_pages === 1 && input.mouseOver({\n    x,\n    y: tooltip_y1 - vis_h,\n    w,\n    h: vis_h,\n  })) {\n    alpha = 0.15;\n  }\n  let style = help_font_style;\n  if (alpha !== 1) {\n    style = glov_font.styleAlpha(style, alpha);\n  }\n\n  let y = tooltip_y1 - eff_tooltip_pad;\n  let ret = null;\n  if (num_pages > 1) {\n    y -= h;\n    ui.font.drawSizedAligned(help_font_style,\n      text_x, y, z+1, h, glov_font.ALIGN.HCENTER,\n      text_w, 0,\n      `Page ${tooltip_page + 1} / ${num_pages}`);\n    let pos = { x, y, w, h };\n    if (input.mouseUpEdge(pos)) { // up instead of down to prevent canvas capturing focus\n      tooltip_page = (tooltip_page + 1) % num_pages;\n    } else if (input.mouseOver(pos)) {\n      ui.drawRect(x, y, x + w, y + h, z + 0.5, help_rollover_color);\n    }\n  }\n  for (let ii = tooltip.length - 1; ii >= 0; --ii) {\n    let line = tooltip[ii];\n    y -= h;\n    let idx = line.indexOf(' ');\n    if (line[0] === '/' && idx !== -1 && param.do_selection) {\n      // is a command\n      let cmd = line.slice(0, idx);\n      let help = line.slice(idx);\n      let cmd_w = ui.font.drawSized(help_font_style_cmd,\n        text_x, y, z+1, h, cmd);\n      ui.font.drawSizedAligned(help_font_style,\n        text_x + cmd_w, y, z+1, h, glov_font.ALIGN.HFIT,\n        text_w - cmd_w, 0,\n        help);\n      let pos = { x, y, w, h };\n      if (input.mouseUpEdge(pos)) { // up instead of down to prevent canvas capturing focus\n        ret = cmd.slice(1);\n      } else if (input.mouseOver(pos)) {\n        ui.drawRect(x, y, text_x + cmd_w + 4, y + h, z + 0.5, help_rollover_color);\n        ui.drawRect(text_x + cmd_w + 4, y, x + w, y + h, z + 0.5, help_rollover_color2);\n      }\n    } else {\n      ui.font.drawSizedAligned(style,\n        text_x, y, z+1, h, glov_font.ALIGN.HFIT,\n        text_w, 0,\n        line);\n    }\n  }\n  y -= eff_tooltip_pad;\n  let pixel_scale = ui.tooltip_panel_pixel_scale * 0.5;\n\n  v3copy(tooltip_panel_color, ui.color_panel);\n  tooltip_panel_color[3] = alpha;\n  ui.panel({\n    x, y, z, w,\n    h: tooltip_y1 - y,\n    pixel_scale,\n    color: tooltip_panel_color,\n  });\n  return ret;\n}\n\nChatUI.prototype.isFocused = function () {\n  return this.edit_text_entry && this.edit_text_entry.isFocused() ||\n    this.scroll_area && this.scroll_area.isFocused();\n};\n\nChatUI.prototype.sendChat = function (flags, text) {\n  if (!net.client.connected) {\n    this.addChat('[error] Cannot chat: Disconnected', 'error');\n  } else if (!this.channel || !net.subs.loggedIn()) {\n    this.addChat('[error] Cannot chat: Must be logged in', 'error');\n  } else if (text.length > this.max_len) {\n    this.addChat('[error] Chat message too long', 'error');\n  } else {\n    let pak = this.channel.pak('chat');\n    pak.writeInt(flags);\n    pak.writeString(text);\n    pak.send((err) => {\n      if (err) {\n        this.addChat(`[error] ${errStr(err)}`, 'error');\n        // if (!this.edit_text_entry.getText()) {\n        //   this.edit_text_entry.setText(text);\n        // }\n      }\n    });\n  }\n};\n\nconst SPACE_ABOVE_ENTRY = 8;\nChatUI.prototype.run = function (opts) {\n  opts = opts || {};\n  if (net.client.disconnected && !this.hide_disconnected_message) {\n    ui.font.drawSizedAligned(\n      glov_font.style(null, {\n        outline_width: 2,\n        outline_color: 0x000000ff,\n        color: 0xDD2020ff\n      }),\n      camera2d.x0(), camera2d.y0(), Z.DEBUG,\n      ui.font_height, glov_font.ALIGN.HVCENTER, camera2d.w(), camera2d.h() * 0.20,\n      `Connection lost, attempting to reconnect (${(net.client.timeSinceDisconnect()/1000).toFixed(0)})...`);\n  }\n\n  if (!this.did_run_late) {\n    this.runLate();\n  }\n  this.did_run_late = false;\n  let x = camera2d.x0() + 10;\n  let y0 = camera2d.y1();\n  let y = y0;\n  let w = this.w;\n  let was_focused = this.isFocused();\n  let z = was_focused ? Z.CHAT_FOCUSED : Z.CHAT;\n  let is_focused = false;\n  let font_height = this.font_height;\n  let anything_visible = false;\n  let hide_light = (opts.hide || engine.defines.NOUI || !net.subs.loggedIn()) &&\n    !was_focused ?\n    1 : // must be numerical, used to index fade values\n    0;\n  let hide_text_input = ui.modal_dialog || ui.menu_up || hide_light;\n  if (!hide_text_input && was_focused && input.touch_mode) {\n    // expand chat when focused on touch devices\n    w = camera2d.x1() - x - 24;\n    let font_scale = 4;\n    let aspect = camera2d.screenAspect();\n    if (aspect > 2) { // scale up to font scale of 8\n      font_scale = 4 + 4 * min((aspect - 2) / 8, 1);\n    }\n    font_height *= font_scale;\n  }\n  this.setActiveSize(font_height, w); // may recalc numlines on each elem; updates wrap_w\n  if (!hide_text_input) {\n    anything_visible = true;\n    y -= 16 + font_height;\n    if (!was_focused && opts.pointerlock && input.pointerLocked()) {\n      // do not show edit box\n      ui.font.drawSizedAligned(this.styles.def, x, y, z + 1, font_height, glov_font.ALIGN.HFIT, w, 0,\n        '<Press Enter to chat>');\n    } else {\n      if (was_focused) {\n        // Do auto-complete logic *before* edit box, so we can eat TAB without changing focus\n        // Eat tab even if there's nothing to complete, for consistency\n        let pressed_tab = input.keyDownEdge(input.KEYS.TAB);\n        if (pressed_tab) {\n          this.edit_text_entry.focus();\n        }\n        let cur_text = this.edit_text_entry.getText();\n        if (cur_text) {\n          if (cur_text[0] === '/') {\n            // do auto-complete\n            let autocomplete = cmd_parse.autoComplete(cur_text.slice(1), this.getAccessObj().access);\n            if (autocomplete && autocomplete.length) {\n              let first = autocomplete[0];\n              let auto_text = [];\n              for (let ii = 0; ii < autocomplete.length; ++ii) {\n                let elem = autocomplete[ii];\n                auto_text.push(`/${elem.cmd} - ${elem.help}`);\n              }\n              let do_selection = false; // should we allow clicking in the tooltip?\n              if (autocomplete.length === 1 &&\n                first.cname &&\n                cmd_parse.canonical(cur_text.slice(1)).slice(0, first.cname.length) === first.cname\n              ) {\n                // we've typed something that matches the first one\n                if (first.usage) {\n                  auto_text = first.usage.split('\\n');\n                } else {\n                  auto_text = [first.help];\n                }\n              } else {\n                do_selection = true;\n              }\n              let tooltip_y = y;\n              // check if last message is an error, if so, tooltip above that.\n              let last_msg = this.msgs[this.msgs.length - 1];\n              if (last_msg) {\n                let msg = last_msg.msg;\n                if (msg && !(msg.flags & FLAG_USERCHAT) && msg.slice(0, 7) === '[error]') {\n                  let numlines = last_msg.numlines;\n                  tooltip_y -= font_height * numlines + SPACE_ABOVE_ENTRY;\n                }\n              }\n\n              let selected = drawHelpTooltip({\n                x, y: tooltip_y,\n                tooltip_width: max(w, engine.game_width * 0.8),\n                tooltip: auto_text,\n                do_selection,\n                font_height: min(font_height, camera2d.w() / 30),\n              });\n              if (do_selection) {\n                // auto-completes to something different than we have typed\n                // Do not use ENTER as well, because sometimes a hidden command is a sub-string of a shown command?\n                if (pressed_tab || selected) {\n                  this.edit_text_entry.setText(`/${selected || first.cmd} `);\n                }\n              }\n            }\n          }\n        } else {\n          this.history.resetPos();\n        }\n        if (input.keyDownEdge(input.KEYS.UP)) {\n          this.edit_text_entry.setText(this.history.prev(cur_text));\n        }\n        if (input.keyDownEdge(input.KEYS.DOWN)) {\n          this.edit_text_entry.setText(this.history.next(cur_text));\n        }\n        this.scroll_area.keyboardScroll();\n      }\n      let input_height = font_height;\n      let input_width = w;\n      if (input.touch_mode && !was_focused) {\n        y -= font_height * 2;\n        input_height = font_height * 3;\n        input_width = font_height * 6;\n      }\n      let res = this.edit_text_entry.run({\n        x, y, w: input_width, font_height: input_height, pointer_lock: opts.pointerlock\n      });\n      is_focused = this.isFocused();\n      if (res === this.edit_text_entry.SUBMIT) {\n        let text = this.edit_text_entry.getText().trim();\n        if (text) {\n          this.edit_text_entry.setText('');\n          if (text[0] === '/') {\n            if (text[1] === '/') { // common error of starting with //foo because chat was already focused\n              text = text.slice(1);\n            }\n            this.history.add(text);\n            this.cmdParse(text.slice(1), () => {\n              if (this.volume_out) {\n                ui.playUISound('msg_out_err', this.volume_out);\n              }\n              if (!this.edit_text_entry.getText()) {\n                this.history.unadd(text);\n                this.edit_text_entry.setText(text);\n              }\n              if (!is_focused) { // was auto-unfocused\n                this.edit_text_entry.focus();\n              }\n            });\n          } else {\n            this.sendChat(0, text);\n          }\n          if (this.volume_out) {\n            ui.playUISound('msg_out', this.volume_out); // after cmdParse may have adjust volume\n          }\n          if (settings.chat_auto_unfocus) {\n            is_focused = false;\n            ui.focusCanvas();\n          }\n        } else {\n          is_focused = false;\n          ui.focusCanvas();\n        }\n      }\n    }\n  }\n  y -= SPACE_ABOVE_ENTRY;\n\n  let { url_match, url_info, styles, wrap_w, user_context_cb } = this;\n  let self = this;\n  let do_scroll_area = is_focused;\n  let bracket_width = 0;\n  let name_width = {};\n  // Slightly hacky: uses `x` and `y` from the higher scope\n  function drawChatLine(msg, alpha) {\n    if (msg.hidden) {\n      return;\n    }\n    let line = msg.msg_text;\n    let numlines = msg.numlines;\n    let is_url = do_scroll_area && url_match && matchAll(line, url_match);\n    is_url = is_url && is_url.length === 1 && is_url[0];\n    let url_label = is_url;\n    if (is_url && url_info) {\n      let m = is_url.match(url_info);\n      if (m) {\n        url_label = m[1];\n      }\n    }\n    let h = font_height * numlines;\n    let do_mouseover = do_scroll_area && !input.mousePosIsTouch() && (!msg.style || msg.style === 'def' || is_url);\n    let text_w;\n    let mouseover = false;\n    if (do_mouseover) {\n      text_w = ui.font.getStringWidth(styles.def, font_height, line);\n      // mouseOver peek because we're doing it before checking for clicks\n      mouseover = input.mouseOver({ x, y, w: min(text_w, wrap_w), h, peek: true });\n    }\n    let user_mouseover = false;\n    let user_indent = 0;\n    let did_user_context = false;\n    if ((msg.flags & FLAG_USERCHAT) && user_context_cb && msg.id && do_scroll_area) {\n      let nw = name_width[msg.display_name];\n      if (!nw) {\n        nw = name_width[msg.display_name] = ui.font.getStringWidth(styles.def, font_height, msg.display_name);\n      }\n      if (!(msg.flags & FLAG_EMOTE)) {\n        if (!bracket_width) {\n          bracket_width = ui.font.getStringWidth(styles.def, font_height, '[]');\n        }\n        nw += bracket_width;\n      }\n      user_indent = nw;\n      let pos_param = {\n        x, y, w: min(nw, wrap_w), h: font_height, button: 0, peek: true,\n        z: z + 0.5,\n        color: color_user_rollover,\n      };\n      if (input.click(pos_param)) {\n        did_user_context = true;\n        user_context_cb({\n          user_id: msg.id, // Need any other msg. params?\n          // x: pos_param.x + pos_param.w,\n          // y: pos_param.y,\n        });\n      } else {\n        user_mouseover = input.mouseOver(pos_param);\n        if (user_mouseover) {\n          ui.drawRect2(pos_param);\n        }\n      }\n    }\n    let click;\n    if (is_url) {\n      click = link({ x: x + user_indent, y, w: wrap_w - user_indent, h, url: is_url, internal: true });\n    }\n\n    let style = styles[msg.style || (is_url ? mouseover && !user_mouseover ? 'link_hover' : 'link' : 'def')];\n\n    // Draw the actual text\n    ui.font.drawSizedWrapped(glov_font.styleAlpha(style, alpha), x, y, z + 1, wrap_w, INDENT, font_height, line);\n\n    if (mouseover && (!do_scroll_area || y > self.scroll_area.scroll_pos - font_height) &&\n      // Only show tooltip for user messages or links\n      (!msg.style || msg.style === 'def' || is_url)\n    ) {\n      ui.drawTooltip({\n        x, y, z: Z.TOOLTIP,\n        tooltip_above: true,\n        tooltip_width: 450,\n        tooltip_pad: ui.tooltip_pad * 0.5,\n        tooltip: is_url && !user_mouseover ?\n          `Click to open ${url_label}` :\n          `Received${msg.id ? ` from \"${msg.id}\"` : ''} at ${conciseDate(new Date(msg.timestamp))}\\n` +\n          'Right-click to copy message' +\n          `${(user_mouseover ? '\\nClick to view user info' : '')}`,\n        pixel_scale: ui.tooltip_panel_pixel_scale * 0.5,\n      });\n    }\n    // Previously: mouseDownEdge because by the time the Up happens, the chat text might not be here anymore\n    click = click || input.click({ x, y, w: wrap_w, h });\n    if (did_user_context) {\n      click = null;\n    }\n    if (click) {\n      if (click.button === 2) {\n        ui.provideUserString('Chat Text', is_url ? 'URL' : 'Text', is_url || line);\n      } else if (is_url) {\n        self.cmdParseInternal(`url ${url_label}`);\n      }\n    }\n    anything_visible = true;\n  }\n\n\n  let border = 8;\n  let now = Date.now();\n  if (do_scroll_area) {\n    // within scroll area, just draw visible parts\n    let scroll_internal_h = this.total_lines * font_height;\n    let scroll_external_h = min(this.h, scroll_internal_h);\n    this.scroll_area.begin({\n      x, y: y - scroll_external_h, z,\n      w: w + 8,\n      h: scroll_external_h,\n      focusable_elem: this.edit_text_entry,\n      auto_hide: this.total_lines <= 2,\n    });\n    let x_save = x;\n    let y_save = y;\n    x = 0;\n    y = 0;\n    let y_min = this.scroll_area.scroll_pos;\n    let y_max = y_min + scroll_external_h;\n    for (let ii = 0; ii < this.msgs.length; ++ii) {\n      let msg = this.msgs[ii];\n      let h = font_height * msg.numlines;\n      if (y <= y_max && y + h >= y_min) {\n        drawChatLine(msg, 1);\n      }\n      y += h;\n    }\n    this.scroll_area.end(scroll_internal_h);\n    x = x_save;\n    y = y_save - scroll_external_h;\n    // Eat mouse events (not handled by above) in the scroll area to prevent unfocusing\n    input.mouseDownEdge({ x: camera2d.x0(), y: y - border, w: w + border + 8, h: y0 - y + border });\n    // But a click should dismiss it (important on fullscreen touch UI!)\n    if (input.mouseUpEdge({ x: camera2d.x0(), y: y - border, w: w + border + 8, h: y0 - y + border,\n      in_event_cb: opts.pointerlock ? input.pointerLockEnter : null })\n    ) {\n      ui.focusCanvas();\n      is_focused = false;\n    }\n    // Also prevent mouseover from going to anything beneat it\n    input.mouseOver({ x: camera2d.x0(), y: y - border, w: w + border + 8, h: y0 - y + border });\n    // Also a mouse down anywhere outside of the chat UI should dismiss it\n    if (input.mouseDownEdge({ peek: true })) {\n      // On touch, tapping doesn't always remove focus from the edit box!\n      // Maybe this logic should be in the editbox logic?\n      ui.focusCanvas();\n      is_focused = false;\n    }\n  } else {\n    // Just recent entries, fade them out over time\n    let { max_lines } = this;\n    for (let ii = 0; ii < this.msgs.length; ++ii) {\n      let msg = this.msgs[this.msgs.length - ii - 1];\n      let age = now - msg.timestamp;\n      let alpha = 1 - clamp((age - FADE_START_TIME[hide_light]) / FADE_TIME[hide_light], 0, 1);\n      if (!alpha || msg.quiet) {\n        break;\n      }\n      let numlines = msg.numlines;\n      if (numlines > max_lines && ii) {\n        break;\n      }\n      max_lines -= numlines;\n      let h = font_height * numlines;\n      y -= h;\n      drawChatLine(msg, alpha);\n    }\n  }\n\n  if (opts.pointerlock && is_focused && input.pointerLocked()) {\n    // Gained focus undo pointerlock\n    input.pointerLockExit();\n  }\n\n  if (!anything_visible && (ui.modal_dialog || ui.menu_up || hide_light)) {\n    return;\n  }\n  ui.drawRect(camera2d.x0(), y - border, x + w + border + 8, y0, z, [0.3,0.3,0.3,0.75]);\n};\n\nChatUI.prototype.setChannel = function (channel) {\n  if (channel === this.channel) {\n    return;\n  }\n  if (this.channel) {\n    if (!channel) {\n      this.addChat(`Left channel ${this.channel.channel_id}`);\n    }\n    this.channel.removeMsgHandler('chat', this.on_chat);\n    this.channel.removeMsgHandler('join', this.on_join);\n    this.channel.removeMsgHandler('leave', this.on_leave);\n  }\n  this.channel = channel;\n  if (!this.channel) {\n    return;\n  }\n  // joining a new one, clear first\n  this.clearChat();\n  channel.onMsg('chat', this.on_chat);\n  channel.onMsg('join', this.on_join);\n  channel.onMsg('leave', this.on_leave);\n  let chat_history;\n  let here;\n  let here_map = {};\n  let friends;\n  asyncParallel([\n    (next) => {\n      channel.send('chat_get', null, (err, data) => {\n        if (!err && data && data.msgs && data.msgs.length) {\n          chat_history = data;\n        }\n        next();\n      });\n    },\n    (next) => {\n      channel.onceSubscribe((data) => {\n        let clients = data && data.public && data.public.clients;\n        if (clients) {\n          here = [];\n          friends = [];\n          for (let client_id in clients) {\n            let client = clients[client_id];\n            let user_id = client.ids && client.ids.user_id;\n            let already_in_list = false;\n            if (user_id && client.ids.display_name) {\n              if (here_map[user_id]) {\n                already_in_list = true;\n              } else {\n                here_map[user_id] = client.ids.display_name;\n              }\n            }\n            if (client_id === net.client.id || already_in_list) {\n              continue;\n            }\n            if (client.ids) {\n              if (user_id && isFriend(user_id)) {\n                friends.push(client.ids.display_name || user_id || client_id);\n              } else {\n                here.push(client.ids.display_name || user_id || client_id);\n              }\n            }\n          }\n        }\n        next();\n      });\n    },\n  ], () => {\n    if (!this.channel) {\n      // disconnected/left already\n      return;\n    }\n    // First display chat history\n    if (chat_history) {\n      let messages_pre = this.msgs.slice(0);\n      if (messages_pre.length) {\n        this.msgs = [];\n      }\n      for (let ii = 0; ii < chat_history.msgs.length; ++ii) {\n        let idx = (chat_history.idx + ii) % chat_history.msgs.length;\n        let elem = chat_history.msgs[idx];\n        if (elem && elem.msg) {\n          elem.quiet = true;\n          if (here_map[elem.id]) {\n            elem.display_name = here_map[elem.id];\n          }\n          this.onMsgChat(elem);\n        }\n      }\n      if (messages_pre.length) {\n        // Sort the history so it is before any other messages received in the meantime\n        this.msgs = this.msgs.concat(messages_pre);\n      }\n    }\n\n    // Then join message\n    this.addChat(`Joined channel ${this.channel.channel_id}`, 'join_leave');\n    // Then who's here now\n    if (here && here.length || friends && friends.length) {\n      let msg = [];\n      if (here.length) {\n        msg.push(`Other users already here: ${here.join(', ')}`);\n      }\n      if (friends.length) {\n        msg.push(`Friends already here: ${friends.join(', ')}`);\n      }\n      this.addChatFiltered({\n        msg: msg.join('\\n'),\n        style: 'join_leave',\n      });\n    }\n  });\n};\n\nexport function create(params) {\n  profanityStartup();\n  let chat_ui = new ChatUI(params);\n  function emote(str, resp_func) {\n    if (!str) {\n      return void resp_func(null, 'Usage: /me does something.');\n    }\n\n    if (params.emote_cb) {\n      params.emote_cb(str);\n    }\n\n    chat_ui.sendChat(FLAG_EMOTE, str);\n  }\n  cmd_parse.registerValue('volume_chat_joinleave', {\n    type: cmd_parse.TYPE_FLOAT,\n    label: 'Join/Leave chat message volume',\n    range: [0,1],\n    get: () => chat_ui.volume_join_leave,\n    set: (v) => (chat_ui.volume_join_leave = v),\n    store: true,\n  });\n  cmd_parse.registerValue('volume_chat_in', {\n    type: cmd_parse.TYPE_FLOAT,\n    label: 'Incoming chat message volume',\n    range: [0,1],\n    get: () => chat_ui.volume_in,\n    set: (v) => (chat_ui.volume_in = v),\n    store: true,\n  });\n  cmd_parse.registerValue('volume_chat_out', {\n    type: cmd_parse.TYPE_FLOAT,\n    label: 'Outgoing chat message volume',\n    range: [0,1],\n    get: () => chat_ui.volume_out,\n    set: (v) => (chat_ui.volume_out = v),\n    store: true,\n  });\n  cmd_parse.register({\n    cmd: 'me',\n    help: 'Emote',\n    usage: 'Emote\\n  Example: /me jumps up and down!',\n    func: emote,\n  });\n  // Also alias /em\n  cmd_parse.register({\n    access_show: ['hidden'],\n    cmd: 'em',\n    func: emote,\n  });\n  cmd_parse.register({\n    cmd: 'echo',\n    help: 'Echo text locally',\n    func: (str, resp_func) => {\n      chat_ui.addChatFiltered({ msg: str });\n      resp_func();\n    },\n  });\n  return chat_ui;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst cmd_parse_mod = require('../../common/cmd_parse.js');\nconst local_storage = require('./local_storage.js');\nexport let cmd_parse = cmd_parse_mod.create({ storage: local_storage });\n\nconst engine = require('./engine.js');\nconst net = require('./net.js');\nconst textures = require('./textures.js');\n\nwindow.cmd = function (str) {\n  cmd_parse.handle(null, str, cmd_parse_mod.defaultHandler);\n};\n\nfunction byteFormat(bytes) {\n  if (bytes > 850000) {\n    return `${(bytes/(1024*1024)).toFixed(2)}MB`;\n  }\n  if (bytes > 850) {\n    return `${(bytes/1024).toFixed(2)}KB`;\n  }\n  return `${bytes}B`;\n}\n\ncmd_parse.register({\n  cmd: 'texmem',\n  help: 'Displays texture memory usage',\n  func: function (str, resp_func) {\n    let keys = Object.keys(textures.textures);\n    keys = keys.filter((a) => textures.textures[a].gpu_mem > 1024);\n    keys.sort((a, b) => textures.textures[a].gpu_mem - textures.textures[b].gpu_mem);\n    resp_func(null, keys.map((a) => `${byteFormat(textures.textures[a].gpu_mem)} ${a}`).join('\\n'));\n  }\n});\n\ncmd_parse.register({\n  cmd: 'gpumem',\n  help: 'Displays GPU memory usage summary',\n  func: function (str, resp_func) {\n    let { gpu_mem } = engine.perf_state;\n    resp_func(null, `${byteFormat(gpu_mem.geom)} Geo\\n${byteFormat(gpu_mem.tex)} Tex\\n${\n      byteFormat(gpu_mem.geom + gpu_mem.tex)} Total`);\n  }\n});\n\ncmd_parse.register({\n  cmd: 'd',\n  help: 'Toggles a debug define',\n  func: function (str, resp_func) {\n    str = str.toUpperCase();\n    engine.defines[str] = !engine.defines[str];\n    resp_func(null, `D=${str} now ${engine.defines[str]?'SET':'unset'}`);\n    engine.definesChanged();\n  }\n});\n\ncmd_parse.register({\n  cmd: 'renderer',\n  help: 'Displays current renderer',\n  func: function (str, resp_func) {\n    resp_func(null, `Renderer=WebGL${engine.webgl2?2:1}`);\n  }\n});\n\ncmd_parse.register({\n  cmd: 'csr',\n  access_run: ['sysadmin'],\n  help: '(Admin) Run a command as another user',\n  usage: '/csr UserID command\\n' +\n    'Example: /csr jimbly gems -100',\n  func: function (str, resp_func) {\n    let idx = str.indexOf(' ');\n    if (idx === -1) {\n      return void resp_func('Invalid number of arguments');\n    }\n    let user_id = str.slice(0, idx);\n    let cmd = str.slice(idx + 1);\n    let pak = net.subs.getChannelImmediate(`user.${user_id}`).pak('csr_admin_to_user');\n    pak.writeString(cmd);\n    pak.send(resp_func);\n  }\n});\n\nfunction cmdDesc(cmd_data) {\n  return `/${cmd_data.cmd} - ${cmd_data.help}`;\n}\n\ncmd_parse.register({\n  cmd: 'help',\n  help: 'Searches commands',\n  func: function (str, resp_func) {\n    let list = cmd_parse.autoComplete('', this && this.access);\n    if (str) {\n      let str_cname = cmd_parse.canonical(str);\n      let str_lc = str.toLowerCase();\n      list = list.filter((cmd_data) => cmd_data.cname.indexOf(str_cname) !== -1 ||\n          cmd_data.help.toLowerCase().indexOf(str_lc) !== -1);\n    }\n    if (!list.length) {\n      return void resp_func(null, `No commands found matching \"${str}\"`);\n    }\n    resp_func(null, list.map(cmdDesc).join('\\n'));\n  }\n});\n\nexport let safearea = [-1,-1,-1,-1];\ncmd_parse.registerValue('safe_area', {\n  label: 'Safe Area',\n  type: cmd_parse.TYPE_STRING,\n  usage: 'Safe Area value: Use -1 for auto based on browser environment,\\n' +\n    'or 0-25 for percentage of screen size\\n' +\n    '  Usage: /safe_area [value]\\n' +\n    '  Usage: /safe_area horizontal,vertical\\n' +\n    '  Usage: /safe_area left,right,top,bottom',\n  default_value: '-1',\n  get: () => (safearea[0] === -1 ? '-1 (auto)' : safearea.join(',')),\n  set: (v) => {\n    v = String(v);\n    let keys = v.split(',');\n    if (v && keys.length === 1) {\n      safearea[0] = safearea[1] = safearea[2] = safearea[3] = Number(v);\n    } else if (keys.length === 2) {\n      safearea[0] = safearea[1] = Number(keys[0]);\n      safearea[2] = safearea[3] = Number(keys[1]);\n    } else if (keys.length === 4) {\n      for (let ii = 0; ii < 4; ++ii) {\n        safearea[ii] = Number(keys[ii]);\n      }\n    } else {\n      // error, ignore?\n    }\n  },\n  store: true,\n});\n\ncmd_parse.register({\n  cmd: 'webgl2_auto',\n  help: 'Resets WebGL2 auto-detection',\n  func: function (str, resp_func) {\n    let disable_data = local_storage.getJSON('webgl2_disable');\n    if (!disable_data) {\n      return resp_func(null, 'WebGL2 is already being auto-detected');\n    }\n    local_storage.setJSON('webgl2_disable', undefined);\n    return resp_func(null, 'WebGL2 was disabled, will attempt to use it again on the next load');\n  },\n});\n\ncmd_parse.registerValue('postprocessing', {\n  label: 'Postprocessing',\n  type: cmd_parse.TYPE_INT,\n  help: 'Enables/disables postprocessing',\n  get: () => (engine.postprocessing ? 1 : 0),\n  set: (v) => engine.postprocessingAllow(v),\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst glov_input = require('./input.js');\nconst glov_ui = require('./ui.js');\n\nconst { focuslog } = glov_ui;\n\nclass GlovUIEditBox {\n  constructor(params) {\n    this.x = 0;\n    this.y = 0;\n    this.z = Z.UI; // actually in DOM, so above everything!\n    this.w = glov_ui.button_width;\n    this.type = 'text';\n    this.allow_modal = false;\n    // this.h = glov_ui.button_height;\n    this.font_height = glov_ui.font_height;\n    this.text = '';\n    this.placeholder = '';\n    this.max_len = 0;\n    this.zindex = null;\n    this.initial_focus = false;\n    this.onetime_focus = false;\n    this.auto_unfocus = false;\n    this.initial_select = false;\n    this.spellcheck = true;\n    this.esc_clears = true;\n    this.multiline = 0;\n    this.applyParams(params);\n\n    this.is_focused = false;\n    this.elem = null;\n    this.input = null;\n    this.submitted = false;\n    this.pointer_lock = false;\n    this.last_frame = 0;\n  }\n  applyParams(params) {\n    if (!params) {\n      return;\n    }\n    for (let f in params) {\n      this[f] = params[f];\n    }\n  }\n  getText() {\n    return this.text;\n  }\n  setText(new_text) {\n    if (this.input) {\n      this.input.value = new_text;\n    }\n    this.text = new_text;\n  }\n  focus() {\n    if (this.input) {\n      this.input.focus();\n    } else {\n      this.onetime_focus = true;\n    }\n    glov_ui.focusSteal(this);\n    this.is_focused = true;\n    if (this.pointer_lock && glov_input.pointerLocked()) {\n      glov_input.pointerLockExit();\n    }\n  }\n  unfocus() {\n    glov_ui.focusNext(this);\n  }\n  isFocused() { // call after .run()\n    return this.is_focused;\n  }\n\n  updateFocus() {\n    let was_glov_focused = this.is_focused;\n    let glov_focused = glov_ui.focusCheck(this);\n    let dom_focused = this.input && document.activeElement === this.input;\n    if (was_glov_focused !== glov_focused) {\n      // something external (from clicks/keys in GLOV) changed, apply it if it doesn't match\n      if (glov_focused && !dom_focused && this.input) {\n        focuslog('GLOV focused, DOM not, focusing', this);\n        this.input.focus();\n      }\n      if (!glov_focused && dom_focused) {\n        focuslog('DOM focused, GLOV not, and changed, blurring', this);\n        this.input.blur();\n      }\n    } else if (dom_focused && !glov_focused) {\n      focuslog('DOM focused, GLOV not, stealing', this);\n      glov_ui.focusSteal(this);\n      glov_focused = true;\n    } else if (!dom_focused && glov_focused) {\n      // Leave it alone, it may be a browser pop-up such as for passwords\n    }\n    let focused = glov_focused;\n\n    if (focused) {\n      let key_opt = (this.pointer_lock && !this.text) ? { in_event_cb: glov_input.pointerLockEnter } : null;\n      if (glov_input.keyUpEdge(glov_input.KEYS.ESC, key_opt)) {\n        if (this.text && this.esc_clears) {\n          this.setText('');\n        } else {\n          glov_ui.focusCanvas();\n          if (this.input) {\n            this.input.blur();\n          }\n          focused = false;\n          this.canceled = true;\n        }\n      }\n    }\n    this.is_focused = focused;\n    return focused;\n  }\n\n  run(params) {\n    this.applyParams(params);\n\n    if (this.last_frame !== engine.frame_index - 1) {\n      // it's been more than a frame, we must have not been running, discard async events\n      this.submitted = false;\n    }\n    this.last_frame = engine.frame_index;\n\n    this.canceled = false;\n    let focused = this.updateFocus();\n\n    glov_ui.this_frame_edit_boxes.push(this);\n    let elem = glov_ui.getElem(this.allow_modal, this.elem);\n    if (elem !== this.elem) {\n      if (elem) {\n        // new DOM element, initialize\n        elem.textContent = '';\n        let form = document.createElement('form');\n        form.setAttribute('autocomplete', 'off');\n        let input = document.createElement(this.multiline ? 'textarea' : 'input');\n        input.setAttribute('autocomplete', `auto_off_${Math.random()}`);\n        input.setAttribute('type', this.type);\n        input.setAttribute('placeholder', this.placeholder);\n        if (this.max_len) {\n          input.setAttribute('maxLength', this.max_len);\n        }\n        if (this.multiline) {\n          input.setAttribute('rows', this.multiline);\n        }\n        input.setAttribute('tabindex', 2);\n        form.addEventListener('submit', (ev) => {\n          ev.preventDefault();\n          this.submitted = true;\n          this.text = this.input.value;\n          if (this.pointer_lock && !this.text) {\n            glov_input.pointerLockEnter('edit_box_submit');\n          }\n        }, true);\n        form.appendChild(input);\n        let span = document.createElement('span');\n        span.setAttribute('tabindex', 3);\n        form.appendChild(span);\n        elem.appendChild(form);\n        input.value = this.text;\n        this.input = input;\n        if (this.initial_focus || this.onetime_focus) {\n          input.focus();\n          this.onetime_focus = false;\n        }\n        if (this.initial_select) {\n          input.select();\n        }\n      } else {\n        this.input = null;\n      }\n      this.submitted = false;\n      this.elem = elem;\n    } else {\n      if (this.input) {\n        this.text = this.input.value;\n      }\n    }\n    if (elem) {\n      let pos = camera2d.htmlPos(this.x, this.y);\n      if (!this.spellcheck) {\n        elem.spellcheck = false;\n      }\n      elem.style.left = `${pos[0]}%`;\n      elem.style.top = `${pos[1]}%`;\n      let size = camera2d.htmlSize(this.w, 0);\n      elem.style.width = `${size[0]}%`;\n      let old_fontsize = elem.style.fontSize || '?px';\n      let new_fontsize = `${camera2d.virtualToFontSize(this.font_height).toFixed(0)}px`;\n      if (new_fontsize !== old_fontsize) {\n        elem.style.fontSize = new_fontsize;\n      }\n      if (this.zindex) {\n        elem.style['z-index'] = this.zindex;\n      }\n    }\n\n    if (focused) {\n      if (this.auto_unfocus) {\n        if (glov_input.click({ peek: true })) {\n          glov_ui.focusSteal('canvas');\n        }\n      }\n      // keyboard input is handled by the INPUT element, but allow mouse events to trickle\n      glov_input.eatAllKeyboardInput();\n    }\n    // Eat mouse events going to the edit box\n    glov_input.mouseConsumeClicks({ x: this.x, y: this.y, w: this.w, h: this.font_height });\n\n    if (this.submitted) {\n      this.submitted = false;\n      return this.SUBMIT;\n    }\n    if (this.canceled) {\n      this.canceled = false;\n      return this.CANCEL;\n    }\n    return null;\n  }\n  unrun() {\n    // remove from DOM or hide\n    this.elem = null;\n    this.input = null;\n  }\n}\nGlovUIEditBox.prototype.SUBMIT = 'submit';\nGlovUIEditBox.prototype.CANCEL = 'cancel';\n\nexport function create(params) {\n  return new GlovUIEditBox(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { renderWidth, renderHeight } = engine;\nconst { framebufferEnd, framebufferStart, framebufferTopOfFrame } = require('./framebuffer.js');\nconst geom = require('./geom.js');\nconst shaders = require('./shaders.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { vec2, vec3, vec4, v4set } = require('./vmath.js');\n\nconst shader_data = {\n  vp_copy: {\n    vp: 'glov/shaders/effects_copy.vp',\n  },\n  copy: {\n    fp: 'glov/shaders/effects_copy.fp',\n  },\n  pixely_expand: {\n    fp: 'glov/shaders/pixely_expand.fp',\n  },\n  gaussian_blur: {\n    fp: 'glov/shaders/effects_gaussian_blur.fp',\n  },\n  // bloom_merge: {\n  //   fp: 'glov/shaders/effects_bloom_merge.fp',\n  // },\n  // bloom_threshold: {\n  //   fp: 'glov/shaders/effects_bloom_threshold.fp',\n  // },\n  color_matrix: {\n    fp: 'glov/shaders/effects_color_matrix.fp',\n  },\n  // distort: {\n  //   fp: 'glov/shaders/effects_distort.fp',\n  // },\n};\n\nexport function registerShader(key, obj) {\n  shader_data[key] = obj;\n}\n\nfunction getShader(key) {\n  let elem = shader_data[key];\n  if (!elem.shader) {\n    if (elem.fp) {\n      elem.shader = shaders.create(elem.fp);\n    } else {\n      elem.shader = shaders.create(elem.vp);\n    }\n  }\n  return elem.shader;\n}\n\n\nlet inited = false;\nlet clip_space = vec4(2, 2, -1, -1);\nlet copy_uv_scale = vec2(1, 1);\nlet shader_params_default = {\n  clip_space,\n  copy_uv_scale,\n};\n// let shader_params_distort;\nlet shader_params_color_matrix;\n// let shader_params_bloom;\n// let shader_params_bloom_merge;\nlet shader_params_gaussian_blur;\nlet shader_params_pixely_expand;\nlet quad_geom;\nfunction startup() {\n  inited = true;\n\n  quad_geom = geom.create(\n    [[shaders.semantic.POSITION, gl.FLOAT, 2, false]],\n    new Float32Array([\n      0, 0,\n      1, 0,\n      1, 1,\n      0, 1,\n    ]), null, geom.QUADS); // TODO: use gl.TRIANGLE_STRIP instead, save index buffer binding\n\n  // shader_params_distort = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   strength: vec2(0, 0),\n  //   transform: new Float32Array([0, 0, 0, 0, 0, 0]),\n  //   invTransform: vec4(0, 0, 0, 0),\n  // };\n\n  shader_params_color_matrix = {\n    clip_space,\n    copy_uv_scale,\n    colorMatrix: new Float32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),\n  };\n\n  // shader_params_bloom = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   bloomThreshold: 0,\n  //   thresholdCuttoff: 0,\n  // };\n\n  // shader_params_bloom_merge = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   bloomIntensity: 0,\n  //   bloomSaturation: 0,\n  //   originalIntensity: 0,\n  //   originalSaturation: 0,\n  // };\n\n  // Gaussian Blur effect (also used by bloom)\n  shader_params_gaussian_blur = {\n    clip_space,\n    copy_uv_scale,\n    sampleRadius: vec3(1, 1, 1),\n    Gauss: new Float32Array([0.93, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1]),\n  };\n\n  shader_params_pixely_expand = {\n    clip_space,\n    copy_uv_scale,\n    orig_pixel_size: vec4(),\n  };\n}\n\nlet num_passes = 0;\nexport function effectsPassAdd() {\n  ++num_passes;\n}\nexport function effectsPassConsume() {\n  --num_passes;\n}\n\nfunction doEffect(fn) {\n  effectsPassConsume();\n  fn();\n}\n\nexport function effectsQueue(z, fn) {\n  effectsPassAdd();\n  sprites.queuefn(z, doEffect.bind(null, fn));\n}\n\nexport function effectsTopOfFrame() {\n  // In case of crash on previous frame\n  num_passes = 0;\n  framebufferTopOfFrame();\n}\n\nexport function effectsReset() {\n  assert.equal(num_passes, 0); // otherwise probably still have a framebuffer bound\n}\n\nexport function effectsIsFinal() {\n  return !num_passes;\n}\n\nexport function grayScaleMatrix(dst) {\n  dst[0] = 0.2126;\n  dst[1] = 0.2126;\n  dst[2] = 0.2126;\n  dst[3] = 0.7152;\n  dst[4] = 0.7152;\n  dst[5] = 0.7152;\n  dst[6] = 0.0722;\n  dst[7] = 0.0722;\n  dst[8] = 0.0722;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function sepiaMatrix(dst) {\n  dst[0] = 0.393;\n  dst[1] = 0.349;\n  dst[2] = 0.272;\n  dst[3] = 0.769;\n  dst[4] = 0.686;\n  dst[5] = 0.534;\n  dst[6] = 0.189;\n  dst[7] = 0.168;\n  dst[8] = 0.131;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function negativeMatrix(dst) {\n  dst[0] = dst[4] = dst[8] = -1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 1;\n}\n\nexport function saturationMatrix(dst, saturationScale) {\n  let is = (1 - saturationScale);\n  dst[0] = (is * 0.2126) + saturationScale;\n  dst[1] = (is * 0.2126);\n  dst[2] = (is * 0.2126);\n  dst[3] = (is * 0.7152);\n  dst[4] = (is * 0.7152) + saturationScale;\n  dst[5] = (is * 0.7152);\n  dst[6] = (is * 0.0722);\n  dst[7] = (is * 0.0722);\n  dst[8] = (is * 0.0722) + saturationScale;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function hueMatrix(dst, angle) {\n  ////\n  //// Uncomment to calculate new coeffecients should luminance\n  //// values 0.2126 0.7152 0.0722 change.\n  //let lumR = 0.2126;\n  //let lumG = 0.7152;\n  //let lumB = 0.0722;\n  ////\n  //let r23 = Math.sqrt(2 / 3);\n  //let r12 = 1 / Math.sqrt(2);\n  //let r13 = 1 / Math.sqrt(3);\n  //let r16 = 1 / Math.sqrt(6);\n  //let M = [r23, 0, r13, -r16, r12, r13, -r16, -r12, r13, 0, 0, 0];\n  //let zx = (r23 * lumR) - (r16 * lumG) - (r16 * lumB);\n  //let zy =                (r12 * lumG) - (r12 * lumB);\n  //let zz = (r13 * lumR) + (r13 * lumG) + (r13 * lumB);\n  //let x = zx / zz;\n  //let y = zy / zz;\n  //let C = [1, 0, x, 0, 1, y, 0, 0, 1, 0, 0, 0];\n  //m43mul(M, M, C);\n  //console.log(\"Pre transform = \", M);\n  //let E = [1, 0, -x, 0, 1, -y, 0, 0, 1, 0, 0, 0];\n  //let N = [r23, -r16, -r16, 0, r12, -r12, r13, r13, r13, 0, 0, 0];\n  //m43mul(N, E, N);\n  //console.log(\"Post transform = \", N);\n  ////\n  //// Final matrix is then: m43Mul(Pre, [c, s, 0, -s, c, 0, 0, 0, 1, 0, 0, 0, ], Post);\n  //// for c = cos(angle), s = sin(angle)\n  ////\n  //let out = \"\";\n  //out += \"let c = Math.cos(angle);\\n\";\n  //out += \"let s = Math.sin(angle);\\n\";\n  //out += \"dst[0] = (\" + (N[0]*M[0]+N[3]*M[1]) + \" * c) + (\" + (N[3]*M[0]-N[0]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[1] = (\" + (-lumR)               + \" * c) + (\" + (N[4]*M[0]-N[1]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[2] = (\" + (-lumR)               + \" * c) + (\" + (N[5]*M[0]-N[2]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[3] = (\" + (-lumG)               + \" * c) + (\" + (N[3]*M[3]-N[0]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[4] = (\" + (N[1]*M[3]+N[4]*M[4]) + \" * c) + (\" + (N[4]*M[3]-N[1]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[5] = (\" + (-lumG)               + \" * c) + (\" + (N[5]*M[3]-N[2]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[6] = (\" + (-lumB)               + \" * c) + (\" + (N[3]*M[6]-N[0]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //out += \"dst[7] = (\" + (-lumB)               + \" * c) + (\" + (N[4]*M[6]-N[1]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //out += \"dst[8] = (\" + (N[2]*M[6]+N[5]*M[7]) + \" * c) + (\" + (N[5]*M[6]-N[2]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //console.log(out);\n  let c = Math.cos(angle);\n  let s = Math.sin(angle);\n  dst[0] = (0.7874 * c) + (-0.3712362230889293 * s) + 0.2126;\n  dst[1] = (-0.2126 * c) + (0.20611404610069642 * s) + 0.2126;\n  dst[2] = (-0.2126 * c) + (-0.9485864922785551 * s) + 0.2126;\n  dst[3] = (-0.7152 * c) + (-0.4962902913954023 * s) + 0.7152;\n  dst[4] = (0.2848 * c) + (0.08105997779422341 * s) + 0.7152;\n  dst[5] = (-0.7152 * c) + (0.6584102469838492 * s) + 0.7152;\n  dst[6] = (-0.0722 * c) + (0.8675265144843316 * s) + 0.0722;\n  dst[7] = (-0.0722 * c) + (-0.28717402389491986 * s) + 0.0722;\n  dst[8] = (0.9278 * c) + (0.290176245294706 * s) + 0.0722;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function brightnessAddMatrix(dst, brightnessOffset) {\n  dst[0] = dst[4] = dst[8] = 1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = brightnessOffset;\n}\n\nexport function brightnessScaleMatrix(dst, scale) {\n  dst[0] = dst[4] = dst[8] = scale;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function additiveMatrix(dst, additiveRGB) {\n  dst[0] = dst[4] = dst[8] = 1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = additiveRGB[0];\n  dst[10] = additiveRGB[1];\n  dst[11] = additiveRGB[2];\n}\n\nexport function contrastMatrix(dst, contrastScale) {\n  dst[0] = dst[4] = dst[8] = contrastScale;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 0.5 * (1 - contrastScale);\n}\n\n// effect: { shader, params, texs, final }\nfunction applyEffect(effect, view_w, view_h) {\n  let final = effect.final !== false && effectsIsFinal() || effect.final;\n  if (effect.no_framebuffer) {\n    // neither starting nor ending a framebuffer, presumably something effectively additive\n    let viewport = engine.viewport;\n    let target_w = viewport[2];\n    let target_h = viewport[3];\n    view_w = view_w || target_w;\n    view_h = view_h || target_h;\n    clip_space[0] = 2.0 * view_w / target_w;\n    clip_space[1] = 2.0 * view_h / target_h;\n  } else if (effect.viewport) {\n    assert(final);\n    let { viewport } = effect;\n    let target_w = viewport[2];\n    let target_h = viewport[3];\n    view_w = view_w || target_w;\n    view_h = view_h || target_h;\n\n    clip_space[0] = 2.0 * view_w / target_w;\n    clip_space[1] = 2.0 * view_h / target_h;\n\n    framebufferStart({\n      clear: effect.clear,\n      clear_all: effect.clear_all,\n      clear_color: effect.clear_color,\n      viewport,\n      final,\n    });\n  } else {\n    clip_space[0] = 2.0;\n    clip_space[1] = 2.0;\n    view_w = view_w || renderWidth();\n    view_h = view_h || renderHeight();\n\n    framebufferStart({\n      width: view_w, height: view_h,\n      final,\n    });\n  }\n  // clip_space[2] = -1.0;\n  // clip_space[3] = -1.0;\n  // copy_uv_scale[0] = target_w / effect.coord_source.width;\n  // copy_uv_scale[1] = target_h / effect.coord_source.height;\n\n  shaders.bind(getShader('vp_copy'), getShader(effect.shader), effect.params);\n  textures.bindArray(effect.texs);\n  quad_geom.draw();\n}\n\n// // TODO: Update for RTBBCTT and port to new GLOV.js\n// function applyBloomTODO(params) {\n//   let source = params.source;\n//   let blur1 = params.blurTarget1;\n//   let blur2 = params.blurTarget2;\n//   let dest = params.destination;\n//   if (!source || !dest || !blur1 || !blur2 || !blur1.colorTexture0 ||\n//     !blur2.colorTexture0 || blur1 === blur2 || blur1 === dest ||\n//     source === blur1.colorTexture0 || source === dest.colorTexture0) {\n//     return false;\n//   }\n//\n//   let effectParams = this.effectParams;\n//   let techparams;\n//\n//   // Threshold copy.\n//   techparams = this.bloomThresholdParameters;\n//   effectParams.technique = this.bloomThresholdTechnique;\n//   effectParams.params = techparams;\n//\n//   techparams.bloomThreshold = (params.bloomThreshold !== undefined) ? params.bloomThreshold : 0.65;\n//   techparams.thresholdCutoff = Math.exp((params.thresholdCutoff !== undefined) ? params.thresholdCutoff : 3);\n//   techparams.inputTexture0 = source;\n//   effectParams.destination = blur1;\n//   this.applyEffect(effectParams);\n//\n//   // Gaussian blur.\n//   techparams = this.gaussianBlurParameters;\n//   effectParams.technique = this.gaussianBlurTechnique;\n//   effectParams.params = techparams;\n//\n//   let sampleRadius = (params.blurRadius || 20);\n//   techparams.sampleRadius[0] = sampleRadius / source.width;\n//   techparams.sampleRadius[1] = 0;\n//   techparams.sampleRadius[2] = 1;\n//   techparams.inputTexture0 = blur1.colorTexture0;\n//   effectParams.destination = blur2;\n//   this.applyEffect(effectParams);\n//\n//   techparams.sampleRadius[0] = 0;\n//   techparams.sampleRadius[1] = sampleRadius / source.height;\n//   techparams.sampleRadius[2] = 1;\n//   techparams.inputTexture0 = blur2.colorTexture0;\n//   effectParams.destination = blur1;\n//   this.applyEffect(effectParams);\n//\n//   // Merge.\n//   techparams = this.bloomMergeParameters;\n//   effectParams.technique = this.bloomMergeTechnique;\n//   effectParams.params = techparams;\n//\n//   techparams.bloomIntensity = (params.bloomIntensity !== undefined) ? params.bloomIntensity : 1.2;\n//   techparams.bloomSaturation = (params.bloomSaturation !== undefined) ? params.bloomSaturation : 1.2;\n//   techparams.originalIntensity = (params.originalIntensity !== undefined) ? params.originalIntensity : 1.0;\n//   techparams.originalSaturation = (params.originalSaturation !== undefined) ? params.originalSaturation : 1.0;\n//   techparams.inputTexture0 = source;\n//   techparams.inputTexture1 = blur1.colorTexture0;\n//   effectParams.destination = dest;\n//   this.applyEffect(effectParams);\n//\n//   return true;\n// }\n\nexport function applyCopy(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  if (!source) {\n    source = framebufferEnd({ filter_linear: params.filter_linear });\n  }\n  params.shader = params.shader || 'copy';\n  params.params = shader_params_default;\n  params.texs = [source];\n  applyEffect(params);\n}\n\nexport function applyPixelyExpand(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  assert(!source); // would need linear/non-wrap sampler state set\n  if (!source) {\n    source = framebufferEnd({ filter_linear: true });\n  }\n\n  // do horizontal blur for primary lines\n  let resx = source.width;\n  let resy = source.height;\n  let sampleRadius = (params.hblur || 0.25) / resx;\n  shader_params_gaussian_blur.sampleRadius[0] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[1] = 0;\n  shader_params_gaussian_blur.sampleRadius[2] = 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [source],\n    final: false,\n  }, resx, resy);\n  let hblur = framebufferEnd({ filter_linear: true });\n\n  // do seperable gaussian blur for scanlines (using horizontal blur from above)\n  sampleRadius = (params.vblur || 0.75) / resy;\n  shader_params_gaussian_blur.sampleRadius[0] = 0;\n  shader_params_gaussian_blur.sampleRadius[1] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[2] = 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [hblur],\n    final: false,\n  }, resx, resy);\n  let vblur = framebufferEnd({ filter_linear: true });\n\n  // combine at full res\n  v4set(shader_params_pixely_expand.orig_pixel_size,\n    source.width, source.height, 1/source.width, 1/source.height);\n\n  applyEffect({\n    shader: 'pixely_expand',\n    params: shader_params_pixely_expand,\n    texs: [source, hblur, vblur],\n\n    clear: params.clear,\n    clear_all: params.clear_all,\n    clear_color: params.clear_color,\n    viewport: params.viewport,\n  });\n}\n\nexport function applyGaussianBlur(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = framebufferEnd({ filter_linear: true });\n  let max_size = params.max_size || 512;\n  let min_size = params.min_size || 128;\n\n  // Quick shrink down to 512->256->128 (or other specified min/max size)\n  let inputTexture0 = source;\n\n  let viewport = engine.viewport;\n  let res = max_size;\n  while (res > viewport[2] || res > viewport[3]) {\n    res /= 2;\n  }\n\n  while (res > min_size) {\n    applyEffect({\n      shader: params.shader_copy || 'copy',\n      params: shader_params_default,\n      texs: [inputTexture0],\n      final: false,\n    }, res, res);\n    inputTexture0 = framebufferEnd({ filter_linear: true });\n    res /= 2;\n  }\n\n  // Do seperable blur\n  let sampleRadius = (params.blur || 1) / res;\n  shader_params_gaussian_blur.sampleRadius[0] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[1] = 0;\n  shader_params_gaussian_blur.sampleRadius[2] = params.glow || 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [inputTexture0],\n    final: false,\n  }, res, res);\n  let blur = framebufferEnd({ filter_linear: true });\n\n  shader_params_gaussian_blur.sampleRadius[0] = 0;\n  shader_params_gaussian_blur.sampleRadius[1] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[2] = params.glow || 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [blur],\n  });\n\n  return true;\n}\n\nexport function applyColorMatrix(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = framebufferEnd({ filter_linear: true });\n\n  let matrix = params.colorMatrix;\n  let mout = shader_params_color_matrix.colorMatrix;\n\n  mout[0] = matrix[0];\n  mout[1] = matrix[3];\n  mout[2] = matrix[6];\n  mout[3] = matrix[9];\n  mout[4] = matrix[1];\n  mout[5] = matrix[4];\n  mout[6] = matrix[7];\n  mout[7] = matrix[10];\n  mout[8] = matrix[2];\n  mout[9] = matrix[5];\n  mout[10] = matrix[8];\n  mout[11] = matrix[11];\n\n  applyEffect({\n    shader: 'color_matrix',\n    params: shader_params_color_matrix,\n    texs: [source],\n  });\n\n  return true;\n}\n\n// // TODO: Update for RTBBCTT and port to new GLOV.js\n// export function applyDistortTODO(params) {\n//   let source = params.source;\n//   let dest = params.destination;\n//   let distort = params.distortion;\n//   if (!source || !dest || !distort || !dest.colorTexture0 ||\n//     source === dest.colorTexture0 || distort === dest.colorTexture0) {\n//     return false;\n//   }\n//\n//   // input transform.\n//   //  a b tx\n//   //  c d ty\n//   let a;\n//   let b;\n//   let c;\n//   let d;\n//   let tx;\n//   let ty;\n//\n//   let transform = params.transform;\n//   if (transform) {\n//     // transform col-major.\n//     a = transform[0];\n//     b = transform[2];\n//     tx = transform[4];\n//     c = transform[1];\n//     d = transform[3];\n//     ty = transform[5];\n//   } else {\n//     a = d = 1;\n//     b = c = 0;\n//     tx = ty = 0;\n//   }\n//\n//   let effectParams = this.effectParams;\n//   let techparams = this.distortParameters;\n//   effectParams.technique = this.distortTechnique;\n//   effectParams.params = techparams;\n//\n//   // TODO: Cache 'transform', 'invTransform', etc in the code below\n//   techparams.transform[0] = a;\n//   techparams.transform[1] = b;\n//   techparams.transform[2] = tx;\n//   techparams.transform[3] = c;\n//   techparams.transform[4] = d;\n//   techparams.transform[5] = ty;\n//\n//   // Compute inverse transform to use in distort texture displacement..\n//   let idet = 1 / (a * d - b * c);\n//   let ia = techparams.invTransform[0] = (idet * d);\n//   let ib = techparams.invTransform[1] = (idet * -b);\n//   let ic = techparams.invTransform[2] = (idet * -c);\n//   let id = techparams.invTransform[3] = (idet * a);\n//\n//   // Compute max pixel offset after transform for normalisation.\n//   let x1 = ((ia + ib) * (ia + ib)) + ((ic + id) * (ic + id));\n//   let x2 = ((ia - ib) * (ia - ib)) + ((ic - id) * (ic - id));\n//   let x3 = ((-ia + ib) * (-ia + ib)) + ((-ic + id) * (-ic + id));\n//   let x4 = ((-ia - ib) * (-ia - ib)) + ((-ic - id) * (-ic - id));\n//   let xmax = 0.5 * Math.sqrt(Math.max(x1, x2, x3, x4));\n//\n//   let strength = (params.strength || 10);\n//   techparams.strength[0] = strength / (source.width * xmax);\n//   techparams.strength[1] = strength / (source.height * xmax);\n//\n//   techparams.inputTexture0 = source;\n//   techparams.distortTexture = distort; // linear / repeat\n//   effectParams.destination = dest;\n//   this.applyEffect(effectParams);\n//\n//   return true;\n// }\n\nexport function clearAlpha() {\n  let old_dt = gl.getParameter(gl.DEPTH_TEST);\n  if (old_dt) {\n    gl.disable(gl.DEPTH_TEST);\n  }\n  gl.colorMask(false, false, false, true);\n  applyCopy({ source: textures.textures.white, no_framebuffer: true });\n  gl.colorMask(true, true, true, true);\n  if (old_dt) {\n    gl.enable(gl.DEPTH_TEST);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nrequire('./bootstrap.js'); // Just in case it's not in app.js\n\nexport let DEBUG = String(document.location).match(/^https?:\\/\\/localhost/);\n\nrequire('not_worker'); // This module cannot be required from a worker bundle\n\nconst assert = require('assert');\nconst { is_ios_safari } = require('./browser.js');\nconst camera2d = require('./camera2d.js');\nconst cmds = require('./cmds.js');\nconst effects = require('./effects.js');\nconst { effectsReset, effectsTopOfFrame, effectsIsFinal, effectsPassAdd, effectsPassConsume } = effects;\nconst { errorReportDisable, errorReportSetPath, glovErrorReport } = require('./error_report.js');\nconst glov_font = require('./font.js');\nconst { framebufferStart, framebufferEndOfFrame } = require('./framebuffer.js');\nconst geom = require('./geom.js');\nconst input = require('./input.js');\nconst local_storage = require('./local_storage.js');\nconst mat3FromMat4 = require('gl-mat3/fromMat4');\nconst mat4Copy = require('gl-mat4/copy');\nconst mat4Invert = require('gl-mat4/invert');\nconst mat4Mul = require('gl-mat4/multiply');\nconst mat4Transpose = require('gl-mat4/transpose');\nconst mat4Perspective = require('gl-mat4/perspective');\nconst { asin, cos, floor, min, max, PI, round, sin, sqrt } = Math;\nconst models = require('./models.js');\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst shaders = require('./shaders.js');\nconst { soundLoading, soundStartup, soundTick } = require('./sound.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { texturesTick } = textures;\nconst glov_transition = require('./transition.js');\nconst glov_ui = require('./ui.js');\nconst urlhash = require('./urlhash.js');\nconst { clamp, defaults, nearSame, ridx } = require('../../common/util.js');\nconst { mat3, mat4, vec3, vec4, v3mulMat4, v3iNormalize, v4copy, v4same, v4set } = require('./vmath.js');\n\nexport let canvas;\nexport let webgl2;\nexport let glov_particles;\n\nexport let width;\nexport let height;\nlet width_3d;\nlet height_3d;\nexport let pixel_aspect = 1;\nexport let dom_to_canvas_ratio = window.devicePixelRatio || 1;\nexport let antialias;\nexport let antialias_unavailable;\n\nexport let game_width;\nexport let game_height;\nlet game_aspect;\n\nexport let render_width;\nexport let render_height;\n\n//eslint-disable-next-line no-use-before-define\nexport let defines = urlhash.register({ key: 'D', type: urlhash.TYPE_SET, change: definesChanged });\n\nexport let ZFAR;\nexport let ZNEAR;\nexport let fov_y = 1;\nexport let fov_x = 1;\n\nexport let mat_projection = mat4();\nexport let mat_view = mat4();\nlet mat_m = mat4();\nexport let mat_vp = mat4();\nlet mat_mv = mat4();\nlet mat_mv_no_skew = mat4();\nlet mat_mvp = mat4();\nlet mat_mv_inv_transform = mat3();\nlet mat_inv_view = mat3();\nlet projection_inverse = vec4();\n\nexport let light_diffuse = vec3(0.75, 0.75, 0.75);\nlet light_dir_vs = vec3(0, 0, 0);\nexport let light_ambient = vec3(0.25, 0.25, 0.25);\nexport let light_dir_ws = vec3(-1, -2, -3);\n\nexport let font;\nexport let app_state = null;\nexport const border_color = vec4(0, 0, 0, 1);\n\nlet no_render = false;\n\nexport function disableRender(new_value) {\n  no_render = new_value;\n  if (no_render) {\n    glov_ui.cleanupDOMElems();\n  }\n}\n\nlet mat_temp = mat4();\nexport function setGlobalMatrices(_mat_view) {\n  mat4Copy(mat_view, _mat_view);\n  mat4Mul(mat_vp, mat_projection, mat_view);\n  v3iNormalize(light_dir_ws);\n  v3mulMat4(light_dir_vs, light_dir_ws, mat_view);\n  mat4Invert(mat_temp, mat_view);\n  mat3FromMat4(mat_inv_view, mat_temp);\n}\n\n// Just set up mat_vp and mat_projection\nexport function setMatVP(_mat_view) {\n  // eslint-disable-next-line no-use-before-define\n  setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  mat4Copy(mat_view, _mat_view);\n  mat4Mul(mat_vp, mat_projection, mat_view);\n}\n\nexport function setFOV(fov_min) {\n  let w = render_width || width;\n  let h = render_height || height;\n  let aspect = w / h;\n  if (aspect > game_aspect) {\n    fov_y = fov_min;\n    let rise = sin(fov_y / 2) / cos(fov_y / 2) * aspect;\n    fov_x = 2 * asin(rise / sqrt(rise * rise + 1));\n  } else {\n    // Calculate what fov_x would be if the screen was game_aspect, then derive fov_y from that\n    let rise = sin(fov_min / 2) / cos(fov_min / 2) * game_aspect;\n    fov_x = 2 * asin(rise / sqrt(rise * rise + 1));\n    // Old method, just apply fov to x (it's the same thing, if game_aspect is 1.0)\n    // fov_x = fov_min;\n    let rise2 = sin(fov_x / 2) / cos(fov_x / 2) / aspect;\n    fov_y = 2 * asin(rise2 / sqrt(rise2 * rise2 + 1));\n  }\n}\n\nexport function setGameDims(w, h) {\n  game_width = w;\n  game_height = h;\n  game_aspect = game_width / game_height;\n}\n\n// Didn't need this for a while, but got slow on iOS recently :(\n// Better when using FBOs for postprocessing now, though!\nconst postprocessing_reset_version = '5';\nexport let postprocessing = local_storage.get('glov_no_postprocessing') !== postprocessing_reset_version;\nexport function postprocessingAllow(allow) {\n  local_storage.set('glov_no_postprocessing', allow ? undefined : postprocessing_reset_version);\n  postprocessing = allow;\n}\n\nexport function glCheckError() {\n  let gl_err = gl.getError();\n  if (gl_err) {\n    console.error(gl_err);\n    throw new Error(gl_err);\n  }\n}\n\nexport function releaseCanvas() {\n  try {\n    if (gl) {\n      let ext = gl.getExtension('WEBGL_lose_context');\n      if (ext) {\n        ext.loseContext();\n      }\n    }\n  } catch (ignored) {\n    // nothing, it's fine\n  }\n}\n\nexport function reloadSafe() {\n  // Do not report any errors after this point\n  errorReportDisable();\n  // Release canvas to not leak memory on Firefox\n  releaseCanvas();\n  if (window.FBInstant) {\n    try {\n      window.top.location.reload();\n    } catch (e) {\n      // Not good, but better than the alternatives, I guess\n      window.FBInstant.quit();\n    }\n  } else {\n    document.location.reload();\n  }\n}\nwindow.reloadSafe = reloadSafe;\n\nlet reloading_defines = {};\nexport function defineCausesReload(define) {\n  reloading_defines[define] = defines[define];\n}\ndefineCausesReload('FORCEWEBGL2');\ndefineCausesReload('NOWEBGL2');\nexport function definesChanged() {\n  for (let key in reloading_defines) {\n    if (defines[key] !== reloading_defines[key]) {\n      urlhash.onURLChange(reloadSafe);\n      break;\n    }\n  }\n  shaders.handleDefinesChanged();\n}\n\nfunction normalizeRow(m, idx) {\n  let len = m[idx]*m[idx] + m[idx+1]*m[idx+1] + m[idx+2]*m[idx+2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    m[idx] *= len;\n    m[idx+1] *= len;\n    m[idx+2] *= len;\n  }\n}\n\nexport function updateMatrices(mat_model) {\n  // PERFTODO: depending on rendering path, only some of these are needed (m + vp or just mvp)\n  mat4Copy(mat_m, mat_model);\n\n  mat4Mul(mat_mv, mat_view, mat_model);\n  mat4Mul(mat_mvp, mat_projection, mat_mv);\n  // TODO: Can expand and simplify all of this, especially below\n  // Compute the inverse transform of thee model_view matrix, discarding scale,\n  // to be used for getting normals into view space\n  mat4Copy(mat_temp, mat_model);\n  normalizeRow(mat_temp, 0);\n  normalizeRow(mat_temp, 4);\n  normalizeRow(mat_temp, 8);\n  mat4Mul(mat_mv_no_skew, mat_view, mat_temp);\n  mat4Invert(mat_temp, mat_mv_no_skew);\n  mat4Transpose(mat_temp, mat_temp);\n  mat3FromMat4(mat_mv_inv_transform, mat_temp);\n}\nexport let frame_timestamp = 0;\nexport function getFrameTimestamp() {\n  return frame_timestamp;\n}\n\nexport let frame_index = 0;\nexport function getFrameIndex() {\n  return frame_index;\n}\n\nexport let frame_dt = 0;\nexport function getFrameDt() {\n  return frame_dt;\n}\n\nexport let hrtime = 0;\n\n// Wall time, may contain large jumps, may be 0 or negative\nlet this_frame_time_actual = 0;\nexport function getFrameDtActual() {\n  return this_frame_time_actual;\n}\n\nlet after_loading_state = null;\nexport let is_loading = true;\nexport function setState(new_state) {\n  if (is_loading) {\n    after_loading_state = new_state;\n  } else {\n    app_state = new_state;\n  }\n}\n\nexport function stateActive(test_state) {\n  if (is_loading) {\n    return after_loading_state === test_state;\n  } else {\n    return app_state === test_state;\n  }\n}\n\nlet mspf = 1000;\nlet mspf_update_time = 0;\nlet mspf_frame_count = 0;\nlet last_tick_cpu = 0;\nlet mspf_tick = 1000;\n// let net_time = 1000;\nlet mspf_tick_accum = 0;\n// let net_time_accum = 0;\nexport const PERF_HISTORY_SIZE = 128;\nexport let perf_state = window.glov_perf_state = {\n  fpsgraph: {\n    index: 0,\n    history: new Float32Array(PERF_HISTORY_SIZE * 2),\n  },\n  gpu_mem: {\n    tex: 0,\n    geom: 0,\n  },\n};\nlet fpsgraph = perf_state.fpsgraph;\n\nperf.addMetric({\n  name: 'fps',\n  show_stat: 'show_fps', // always, if we're showing any metrics\n  show_graph: 'fps_graph',\n  labels: {\n    'fps: ': () => (1000 / mspf).toFixed(1),\n    'ms/f: ': () => mspf.toFixed(0),\n    'cpu: ': () => mspf_tick.toFixed(0),\n    // 'net: ': () => net_time.toFixed(0),\n  },\n  data: fpsgraph, // contain .index and .history (stride of colors.length)\n  line_scale_top: 50,\n  colors: [\n    // vec4(0.161, 0.678, 1, 1), // net time\n    vec4(1, 0.925, 0.153, 1), // cpu/tick time\n    vec4(0, 0.894, 0.212, 1), // total time (GPU)\n  ],\n});\n\nlet do_borders = true;\nlet do_viewport_postprocess = false;\nlet need_repos = 0;\n\nexport function resizing() {\n  return need_repos;\n}\n\nlet app_tick_functions = [];\nexport function addTickFunc(cb) {\n  app_tick_functions.push(cb);\n}\n\nlet post_tick = [];\nexport function postTick(opts) {\n  opts.ticks = opts.ticks || 1; // run in how many ticks?\n  opts.inactive = opts.inactive || false; // run even if inactive?\n  assert.equal(typeof opts.fn, 'function');\n  post_tick.push(opts);\n}\n\nfunction resetEffects() {\n  effectsReset();\n  framebufferEndOfFrame();\n}\n\nexport function renderWidth() {\n  return render_width || width;\n}\nexport function renderHeight() {\n  return render_height || height;\n}\n\nconst SAFARI_FULLSCREEN_ASPECT = (function () {\n  let screen = window.screen;\n  if (!is_ios_safari || !screen) {\n    return 0;\n  }\n  const SAFARI_DIMS = { // wxh : [fullscreen aspect]\n    // iPhone XR\n    // iPhone 11 Pro Max\n    // iPhone XS Max\n    // iPhone 11\n    '896,414': 896/414,\n    // iPhone 11 Pro\n    // iPhone X (probably)\n    '812,375': 812/375,\n    // iPhone 8 Plus\n    '736,414': 736/414,\n    // iPhone 6s+\n    // iPhone 6+\n    '716,414': 736/414, // (screen.availWidth reports 20 less)\n    // iPhone 8\n    // iPhone 7 (10.1)\n    // iPhone 7 (11.4)\n    '667,375': 667/375,\n    // iPhone 6s\n    // iPhone 6\n    '647,375': 667/375, // (screen.availWidth reports 20 less)\n    // iPhone 5s\n    '548,320': 568/320, // (screen.availWidth reports 20 less)\n  };\n  let key = `${max(screen.availWidth, screen.availHeight)},${min(screen.availWidth, screen.availHeight)}`;\n  return SAFARI_DIMS[key] || 0;\n}());\nfunction safariTopSafeArea(view_w, view_h) {\n  // Detect if the URL bar is hidden, but should be a safe area\n  if (SAFARI_FULLSCREEN_ASPECT && nearSame(view_w/view_h, SAFARI_FULLSCREEN_ASPECT, 0.001)) {\n    // Note: if user has scaling enabled, the padding required might be different\n    //   but the same holds true for the safe area padding detected via CSS!\n    return 50 * (window.devicePixelRatio || 1); // seems to be 50pts on all devices\n  }\n  return 0;\n}\n\n\nlet last_canvas_width;\nlet last_canvas_height;\nlet last_body_height;\nlet safearea_elem;\nlet safearea_ignore_bottom = false;\nlet safearea_values = [0,0,0,0];\nlet last_safearea_values = [0,0,0,0];\nfunction checkResize() {\n  // use VisualViewport on at least iOS Safari - deal with tabs and keyboard\n  //   shrinking the viewport without changing the window height\n  let vv = window.visualViewport || {};\n  dom_to_canvas_ratio = window.devicePixelRatio || 1;\n  dom_to_canvas_ratio *= settings.render_scale_all;\n  let view_w = (vv.width || window.innerWidth);\n  let view_h = (vv.height || window.innerHeight);\n  if (view_h !== last_body_height) {\n    // set this *before* getting canvas and safearea_elem dims below\n    last_body_height = view_h;\n    document.body.style.height = `${view_h}px`;\n  }\n  let rect = canvas.getBoundingClientRect();\n  let new_width = round(rect.width * dom_to_canvas_ratio) || 1;\n  let new_height = round(rect.height * dom_to_canvas_ratio) || 1;\n\n  if (cmds.safearea[0] === -1) {\n    if (safearea_elem) {\n      let sa_width = safearea_elem.offsetWidth;\n      let sa_height = safearea_elem.offsetHeight;\n      if (sa_width && sa_height) {\n        v4set(safearea_values,\n          safearea_elem.offsetLeft * dom_to_canvas_ratio,\n          new_width - (sa_width + safearea_elem.offsetLeft) * dom_to_canvas_ratio,\n          max(safearea_elem.offsetTop * dom_to_canvas_ratio,\n            safariTopSafeArea(view_w, view_h) * settings.render_scale_all),\n          // Note: Possibly ignoring bottom safe area, it seems not useful on iPhones (does not\n          //  adjust when keyboard is up, only obscured in the middle, if obeying left/right safe area)\n          safearea_ignore_bottom ? 0 : new_height - (sa_height + safearea_elem.offsetTop) * dom_to_canvas_ratio);\n      }\n    }\n  } else {\n    v4set(safearea_values,\n      new_width * clamp(cmds.safearea[0], 0, 25)/100,\n      new_width * clamp(cmds.safearea[1], 0, 25)/100,\n      new_height * clamp(cmds.safearea[2], 0, 25)/100,\n      new_height * clamp(cmds.safearea[3], 0, 25)/100);\n  }\n  if (!v4same(safearea_values, last_safearea_values)) {\n    v4copy(last_safearea_values, safearea_values);\n    camera2d.setSafeAreaPadding(safearea_values[0], safearea_values[1], safearea_values[2], safearea_values[3]);\n    need_repos = max(need_repos, 1);\n  }\n\n  if (new_width !== last_canvas_width || new_height !== last_canvas_height) {\n    window.pixel_scale = dom_to_canvas_ratio; // for debug\n    last_canvas_width = canvas.width = new_width || 1;\n    last_canvas_height = canvas.height = new_height || 1;\n\n    width = canvas.width;\n    height = canvas.height;\n    setFOV(settings.fov * PI / 180);\n\n    // For the next 10 frames, make sure font size is correct\n    need_repos = 10;\n  }\n  if (is_ios_safari && (window.visualViewport || need_repos)) {\n    // we have accurate view information, or screen was just rotated / resized\n    // force scroll to top\n    window.scroll(0,0);\n  }\n}\n\nexport let viewport = vec4(0,0,1,1);\nexport function setViewport(xywh) {\n  v4copy(viewport, xywh);\n  gl.viewport(xywh[0], xywh[1], xywh[2], xywh[3]);\n}\n\nlet frame_requested = false;\nfunction requestFrame() {\n  if (frame_requested) {\n    return;\n  }\n  frame_requested = true;\n  let max_fps = settings.max_fps;\n  if (defines.SLOWLOAD && is_loading) {\n    // Safari on CrossBrowserTesting needs this in order to have some time to load/decode audio data\n    // TODO: Instead, generally, if loading, compare last_tick_cpu vs dt, and if\n    //   we're not idle for at least half of the time and we have *internal*\n    //   loads (textures, sounds, models, NOT user code), delay so that we are.\n    max_fps = 2;\n  }\n  if (max_fps) {\n    // eslint-disable-next-line no-use-before-define\n    setTimeout(tick, round(1000 / max_fps));\n  } else {\n    // eslint-disable-next-line no-use-before-define\n    requestAnimationFrame(tick);\n  }\n}\n\nlet mat_projection_10;\nexport let had_3d_this_frame;\n\nexport function setupProjection(use_fov_y, use_width, use_height, znear, zfar) {\n  mat4Perspective(mat_projection, use_fov_y, use_width/use_height, znear, zfar);\n  mat_projection_10 = mat_projection[10];\n  v4set(projection_inverse,\n    2 / (use_width * mat_projection[0]), // projection_matrix.m00),\n    2 / (use_height * mat_projection[5]), // projection_matrix.m11),\n    -(1 + mat_projection[8]) / mat_projection[0], // projection_matrix.m20) / projection_matrix.m00,\n    -(1 + mat_projection[9]) / mat_projection[5] // projection_matrix.m21) / projection_matrix.m11\n  );\n}\n\nexport function setZRange(znear, zfar) {\n  ZNEAR = znear;\n  ZFAR = zfar;\n  if (had_3d_this_frame) {\n    setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  }\n}\n\nlet render_scale_3d_this_frame;\nexport function start3DRendering() {\n  had_3d_this_frame = true;\n  if (render_scale_3d_this_frame && !defines.NOCOPY) {\n    effectsPassAdd();\n  }\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  gl.enable(gl.BLEND);\n  gl.enable(gl.DEPTH_TEST);\n  gl.depthMask(true);\n  framebufferStart({\n    width: width_3d,\n    height: height_3d,\n    final: effectsIsFinal(),\n    need_depth: true,\n    clear: true,\n    clear_all: settings.render_scale_clear,\n  });\n\n  if (render_width) {\n    setupProjection(fov_y, render_width, render_height, ZNEAR, ZFAR);\n  } else {\n    setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  }\n\n  gl.enable(gl.CULL_FACE);\n}\n\nfunction renderScaleFinish() {\n  if (defines.NOCOPY) {\n    gl.disable(gl.SCISSOR_TEST);\n    v4set(viewport, 0, 0, width, height);\n    gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n  } else {\n    effectsPassConsume();\n    if (settings.render_scale_mode === 2) {\n      effects.applyPixelyExpand({ final: effectsIsFinal(), clear: false });\n    } else {\n      effects.applyCopy({ filter_linear: settings.render_scale_mode === 0 });\n    }\n  }\n}\n\nexport function startSpriteRendering() {\n  gl.disable(gl.CULL_FACE);\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  gl.enable(gl.BLEND);\n  gl.disable(gl.DEPTH_TEST);\n  gl.depthMask(false);\n}\n\nexport function projectionZBias(dist, at_z) {\n  if (!dist) {\n    mat_projection[10] = mat_projection_10;\n    return;\n  }\n  //let e = 2 * ZFAR * ZNEAR / (ZFAR - ZNEAR) * (dist / (at_z * (at_z + dist)));\n  let e = 0.2 * (dist / (at_z * (at_z + dist)));\n  e = max(e, 2e-7);\n  mat_projection[10] = mat_projection_10 + e;\n}\n\nfunction fixNatives(is_startup) {\n  // If any browser extensions have added things to the Array prototype, remove them!\n  let b = [];\n  for (let a in b) {\n    console[is_startup ? 'log' : 'error'](`Found invasive enumerable property \"${a}\" on Array.prototype, removing...`);\n    let old_val = b[a];\n    delete Array.prototype[a];\n    // If this fails to work, perhaps try using Object.preventExtensions(Array.prototype) in an inline header script?\n    // eslint-disable-next-line no-extend-native\n    Object.defineProperty(Array.prototype, a, { value: old_val, enumerable: false });\n  }\n  for (let a in b) {\n    // Failed: code that iterates arrays will fail\n    assert(false, `Array.prototype has unremovable member ${a}`);\n  }\n}\n\nfunction resetState() {\n  // Only geom.geomResetState appears to have been strictly needed to work around\n  //  a bug on Chrome 71, but doing the rest of this to be safe.\n  textures.texturesResetState();\n  shaders.shadersResetState();\n  geom.geomResetState();\n\n  // These should already be true:\n  // gl.blendFunc(gl.ONE, gl.ONE);\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  // gl.disable(gl.BLEND);\n  gl.enable(gl.BLEND);\n  // gl.disable(gl.DEPTH_TEST);\n  gl.enable(gl.DEPTH_TEST);\n  // gl.depthMask(false);\n  gl.depthMask(true);\n  // gl.disable(gl.CULL_FACE);\n  gl.enable(gl.CULL_FACE);\n  // gl.depthFunc(gl.GEQUAL);\n  gl.depthFunc(gl.LEQUAL);\n  // gl.enable(gl.SCISSOR_TEST);\n  gl.disable(gl.SCISSOR_TEST);\n  // gl.cullFace(gl.FRONT);\n  gl.cullFace(gl.BACK);\n  gl.viewport(0, 0, width, height);\n}\n\nexport const hrnow = window.performance ? window.performance.now.bind(window.performance) : Date.now.bind(Date);\n\nlet last_tick = 0;\nfunction tick(timestamp) {\n  frame_requested = false;\n  // if (timestamp < 1e12) { // high resolution timer\n  //   this ends up being a value way back in time, relative to what hrnow() returns,\n  //   and even back in time relative to input events already dispatched,\n  //   causing timing confusion, so ignore it, just call hrnow()\n  //   hrtime = timestamp;\n  // } else { // probably integer milliseconds since epoch, or nothing\n  hrtime = hrnow();\n  // }\n  let now = round(hrtime); // Code assumes integer milliseconds\n  if (!last_tick) {\n    last_tick = now;\n  }\n  this_frame_time_actual = now - last_tick;\n  let dt = min(max(this_frame_time_actual, 1), 250);\n  frame_dt = dt;\n  last_tick = now;\n  frame_timestamp += dt;\n  ++frame_index;\n\n  fixNatives(false);\n\n  // let this_net_time = wsclient.getNetTime();\n  // fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 3 + 0] = this_net_time;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 1] = this_frame_time_actual;\n  fpsgraph.index++;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 0] = 0;\n\n  ++mspf_frame_count;\n  mspf_tick_accum += last_tick_cpu;\n  // net_time_accum += this_net_time;\n  if (now - mspf_update_time > settings.fps_window * 1000) {\n    if (!mspf_update_time) {\n      mspf_update_time = now;\n    } else {\n      mspf = (now - mspf_update_time) / mspf_frame_count;\n      mspf_tick = mspf_tick_accum / mspf_frame_count;\n      mspf_tick_accum = 0;\n      // net_time = net_time_accum / mspf_frame_count;\n      // net_time_accum = 0;\n      mspf_frame_count = 0;\n      mspf_update_time = now;\n    }\n  }\n\n  effectsTopOfFrame();\n\n  if (document.hidden || document.webkitHidden || no_render) {\n    resetEffects();\n    input.tickInputInactive();\n    last_tick_cpu = 0;\n    for (let ii = post_tick.length - 1; ii >= 0; --ii) {\n      if (post_tick[ii].inactive && !--post_tick[ii].ticks) {\n        post_tick[ii].fn();\n        ridx(post_tick, ii);\n      }\n    }\n    requestFrame();\n    return;\n  }\n\n  checkResize();\n  had_3d_this_frame = false;\n  render_scale_3d_this_frame = false;\n  if (render_width) {\n    // render_scale not supported with render_width, doesn't make much sense, just use render_width\n    width_3d = render_width;\n    height_3d = render_height;\n    effectsPassAdd();\n  } else {\n    width_3d = round(width * settings.render_scale);\n    height_3d = round(height * settings.render_scale);\n    if (width_3d !== width) {\n      render_scale_3d_this_frame = true;\n    }\n  }\n\n  resetState();\n\n  textures.bind(0, textures.textures.error);\n\n  camera2d.tickCamera2D();\n  glov_transition.render(dt);\n  camera2d.setAspectFixed(game_width, game_height);\n\n  soundTick(dt);\n  input.tickInput();\n  glov_ui.tickUI(dt);\n\n  if (need_repos) {\n    --need_repos;\n    let ul = [];\n    camera2d.virtualToDom(ul, [0,0]);\n    let lr = [];\n    camera2d.virtualToDom(lr, [game_width-1,game_height-1]);\n    let viewport2 = [ul[0], ul[1], lr[0], lr[1]];\n    let view_height = viewport2[3] - viewport2[1];\n    // default font size of 16 when at height of game_height\n    let font_size = min(256, max(2, floor(view_height/800 * 16)));\n    let elem_fullscreen = document.getElementById('fullscreen');\n    if (elem_fullscreen) {\n      elem_fullscreen.style['font-size'] = `${font_size}px`;\n    }\n  }\n\n  if (do_borders) {\n    // Borders\n    glov_ui.drawRect(camera2d.x0Real(), camera2d.y0Real(), camera2d.x1Real(), 0, Z.BORDERS, border_color);\n    glov_ui.drawRect(camera2d.x0Real(), game_height, camera2d.x1Real(), camera2d.y1Real(), Z.BORDERS, border_color);\n    glov_ui.drawRect(camera2d.x0Real(), 0, 0, game_height, Z.BORDERS, border_color);\n    glov_ui.drawRect(game_width, 0, camera2d.x1Real(), game_height, Z.BORDERS, border_color);\n  }\n\n  if (settings.show_metrics) {\n    perf.draw();\n  }\n\n  for (let ii = 0; ii < app_tick_functions.length; ++ii) {\n    app_tick_functions[ii](dt);\n  }\n  if (app_state) {\n    app_state(dt);\n  }\n\n  glov_particles.tick(dt); // *after* app_tick, so newly added/killed particles can be queued into the draw list\n\n  if (had_3d_this_frame) {\n    if (render_scale_3d_this_frame) {\n      renderScaleFinish();\n    }\n  } else {\n    // delayed clear (and general GL init) until after app_state, app might change clear color\n    if (render_width) {\n      // assert(!effectsIsFinal());\n      framebufferStart({\n        width: render_width,\n        height: render_height,\n        clear: true,\n        clear_all: settings.render_scale_clear, // Not sure if this is ever faster in this case?\n        final: effectsIsFinal(),\n        need_depth: false,\n      });\n    } else {\n      framebufferStart({\n        width,\n        height,\n        clear: true,\n        final: effectsIsFinal(),\n        need_depth: false,\n      });\n    }\n  }\n\n  startSpriteRendering();\n  sprites.draw();\n\n  glov_ui.endFrame();\n\n  if (render_width) {\n    effectsPassConsume();\n    let clear_color = [0, 0, 0, 1];\n    let final_viewport = [\n      camera2d.render_offset_x, camera2d.render_offset_y_bottom,\n      camera2d.render_viewport_w, camera2d.render_viewport_h\n    ];\n    let params = {\n      clear: true,\n      clear_all: true,\n      clear_color: clear_color,\n      viewport: final_viewport,\n    };\n    if (do_viewport_postprocess) {\n      effects.applyPixelyExpand(params);\n    } else {\n      effects.applyCopy(params);\n    }\n  }\n\n  input.endFrame();\n  resetEffects();\n  texturesTick();\n\n  for (let ii = post_tick.length - 1; ii >= 0; --ii) {\n    if (!--post_tick[ii].ticks) {\n      post_tick[ii].fn();\n      ridx(post_tick, ii);\n    }\n  }\n\n  last_tick_cpu = hrnow() - now;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 0] = last_tick_cpu;\n  requestFrame();\n}\n\nfunction periodiclyRequestFrame() {\n  requestFrame();\n  setTimeout(periodiclyRequestFrame, 5000);\n}\n\n// Must be called out-of-frame (use setTimeout) if not at startup\nexport function setPixelyStrict(on) {\n  if (on) {\n    render_width = game_width;\n    render_height = game_height;\n  } else {\n    render_width = undefined;\n    render_height = undefined;\n  }\n}\n\nexport function startup(params) {\n  fixNatives(true);\n\n  canvas = document.getElementById('canvas');\n  safearea_elem = document.getElementById('safearea');\n\n  if (params.error_report !== false) {\n    errorReportSetPath(urlhash.getAPIPath());\n    window.glov_error_report = (msg, file, line, col) => {\n      setTimeout(requestFrame, 1);\n      return glovErrorReport(true, msg, file, line, col);\n    };\n  }\n\n  safearea_ignore_bottom = params.safearea_ignore_bottom || false;\n\n  // resize the canvas to fill browser window dynamically\n  window.addEventListener('resize', checkResize, false);\n  checkResize();\n\n  let is_pixely = params.pixely && params.pixely !== 'off';\n  antialias = params.antialias || !is_pixely && params.antialias !== false;\n  let powerPreference = params.high ? 'high-performance' : 'default';\n  let context_names = ['webgl2', 'webgl', 'experimental-webgl'];\n  let force_webgl1 = defines.NOWEBGL2;\n  let disable_data = local_storage.getJSON('webgl2_disable');\n  // Check if a previous, recent run had an error that hinted we should disable WebGL2\n  if (disable_data && disable_data.ua === navigator.userAgent && disable_data.ts > Date.now() - 7*24*60*60*1000) {\n    console.log('Disabling WebGL2 because a previous run encountered a related error');\n    force_webgl1 = true;\n  }\n  if (DEBUG && !defines.FORCEWEBGL2) {\n    let rc = local_storage.getJSON('run_count', 0) + 1;\n    local_storage.setJSON('run_count', rc);\n    if (rc % 2) {\n      force_webgl1 = true;\n    }\n  }\n  if (force_webgl1) {\n    context_names.splice(0, 1);\n  }\n  let context_opts = [\n    { antialias, powerPreference, alpha: false },\n    { powerPreference, alpha: false },\n    { antialias, alpha: false },\n    { alpha: false },\n    {},\n  ];\n  let good = false;\n  webgl2 = false;\n  for (let i = 0; !good && i < context_names.length; i += 1) {\n    for (let jj = 0; !good && jj < context_opts.length; ++jj) {\n      try {\n        window.gl = canvas.getContext(context_names[i], context_opts[jj]);\n        if (window.gl) {\n          if (context_names[i] === 'webgl2') {\n            webgl2 = true;\n          }\n          if (antialias && !context_opts[jj].antialias) {\n            antialias_unavailable = true;\n            antialias = false;\n          }\n          good = true;\n          break;\n        }\n      } catch (e) {\n        // ignore\n      }\n    }\n  }\n  if (!good) {\n    // eslint-disable-next-line no-alert\n    window.alert('Sorry, but your browser does not support WebGL or does not have it enabled.');\n    document.getElementById('loading').style.visibility = 'hidden';\n    document.getElementById('nowebgl').style.visibility = 'visible';\n    return false;\n  }\n  console.log(`Using WebGL${webgl2?2:1}`);\n\n  assert(gl);\n  canvas.focus();\n  setGameDims(params.game_width || 1280, params.game_height || 960);\n  ZNEAR = params.znear || 0.7;\n  ZFAR = params.zfar || 10000;\n  setPixelyStrict(params.pixely === 'strict');\n  if (params.viewport_postprocess && params.pixely === 'strict') {\n    do_viewport_postprocess = true;\n  }\n  pixel_aspect = params.pixel_aspect || 1;\n  setFOV(settings.fov * PI / 180);\n\n  gl.depthFunc(gl.LEQUAL);\n  // gl.enable(gl.SCISSOR_TEST);\n  gl.cullFace(gl.BACK);\n  gl.clearColor(0, 0.1, 0.2, 1);\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1); // Allow RGB texture data with non-mult-4 widths\n\n  textures.startup();\n  geom.startup();\n  shaders.startup({\n    light_diffuse,\n    light_dir_vs,\n    ambient: light_ambient,\n    mat_m: mat_m,\n    mat_mv: mat_mv,\n    mat_vp: mat_vp,\n    mvp: mat_mvp,\n    mv_inv_trans: mat_mv_inv_transform,\n    mat_inv_view: mat_inv_view,\n    view: mat_view,\n    projection: mat_projection,\n    projection_inverse,\n  });\n  camera2d.startup();\n  sprites.startup();\n  input.startup(canvas, params);\n  models.startup();\n\n  /* eslint-disable global-require */\n  glov_particles = require('./particles.js').create();\n\n  if (is_pixely) {\n    textures.defaultFilters(gl.NEAREST, gl.NEAREST);\n    settings.runTimeDefault('render_scale_mode', 1);\n  } else {\n    textures.defaultFilters(gl.LINEAR_MIPMAP_LINEAR, gl.LINEAR);\n  }\n\n  assert(params.font);\n  // If not, something like:\n  // const font_info_04b03x2 = require('../img/font/04b03_8x2.json');\n  // const font_info_04b03x1 = require('../img/font/04b03_8x1.json');\n  // const font_info_palanquin32 = require('../img/font/palanquin32.json');\n  // if (params.pixely === 'strict') {\n  //   font = glov_font.create(font_info_04b03x1, 'font/04b03_8x1');\n  // } else if (is_pixely) {\n  //   font = glov_font.create(font_info_04b03x2, 'font/04b03_8x2');\n  // } else {\n  //   font = glov_font.create(font_info_palanquin32, 'font/palanquin32');\n  // }\n  params.font = font = glov_font.create(params.font.info, params.font.texture);\n  if (params.title_font) {\n    params.title_font = glov_font.create(params.title_font.info, params.title_font.texture);\n  }\n  glov_ui.startup(params);\n\n  soundStartup(params.sound);\n  glov_ui.bindSounds(defaults(params.ui_sounds || {}, {\n    button_click: 'button_click',\n    rollover: 'rollover',\n  }));\n\n  camera2d.setAspectFixed(game_width, game_height);\n\n  if (params.state) {\n    setState(params.state);\n  }\n  if (params.do_borders !== undefined) {\n    do_borders = params.do_borders;\n  }\n  if (params.show_fps !== undefined) {\n    settings.show_fps = params.show_fps;\n  }\n\n  periodiclyRequestFrame();\n  return true;\n}\n\nexport function loadsPending() {\n  return textures.load_count + soundLoading() + models.load_count;\n}\n\nfunction loading() {\n  let load_count = loadsPending();\n  let elem_loading_text = document.getElementById('loading_text');\n  if (elem_loading_text) {\n    elem_loading_text.innerText = `Loading (${load_count})...`;\n  }\n  if (!load_count) {\n    is_loading = false;\n    app_state = after_loading_state;\n    // Clear after next frame, so something is rendered to the canvas\n    postTick({\n      ticks: 2,\n      fn: function () {\n        let loading_elem = document.getElementById('loading');\n        if (loading_elem) {\n          loading_elem.style.visibility = 'hidden';\n        }\n      }\n    });\n  }\n}\napp_state = loading;\n\nwindow.glov_engine = exports;\n","/* eslint-env browser */\n\nlet error_report_disabled = false;\n\nexport function errorReportDisable() {\n  error_report_disabled = true;\n}\n\nlet api_path = '/';\nexport function errorReportSetPath(path) {\n  api_path = path;\n}\n\nlet error_report_details = {};\nlet error_report_details_str = '';\nexport function errorReportSetDetails(key, value) {\n  if (value) {\n    error_report_details[key] = escape(String(value));\n  } else {\n    delete error_report_details[key];\n  }\n  error_report_details_str = `&${Object.keys(error_report_details)\n    .map((k) => `${k}=${error_report_details[k]}`)\n    .join('&')}`;\n}\nerrorReportSetDetails('ver', BUILD_TIMESTAMP);\n\nexport function errorReportGetDetails() {\n  return error_report_details;\n}\n\nlet last_error_time = 0;\nlet crash_idx = 0;\n// Errors from plugins that we don't want to get reported to us, or show the user!\n// The exact phrase \"Script error.\\n  at (0:0)\" comes from our bootstap.js when we\n//   receive the message 'Script Error.' and no stack.  This happens on the Mi Browser on Redmi phones\n//   and doesn't seem to be indicative of any actual problem.\n// Ignoring null at null for similar reasons and because we get nothing useful from the reports.\n// eslint-disable-next-line no-regex-spaces\nlet filtered_errors = /avast_submit|vc_request_action|^Script error\\.\\n  at \\(0:0\\)$|^null\\n  at null(null:null)$/;\nexport function glovErrorReport(is_fatal, msg, file, line, col) {\n  console.error(msg);\n  if (is_fatal) {\n    // Only doing filtering and such on fatal errors, as non-fatal errors are\n    // just logged and should not corrupt state.\n    ++crash_idx;\n    let now = Date.now();\n    let dt = now - last_error_time;\n    last_error_time = now;\n    if (error_report_disabled) {\n      return false;\n    }\n    if (dt < 30*1000) {\n      // Less than 30 seconds since the last error, either we're erroring every\n      // frame, or this is a secondary error caused by the first, do not report it.\n      // Could maybe hash the error message and just report each message once, and\n      // flag errors as primary or secondary.\n      return false;\n    }\n    if (msg.match(filtered_errors)) {\n      return false;\n    }\n  }\n  // Post to an error reporting endpoint that (probably) doesn't exist - it'll get in the logs anyway!\n  let url = api_path; // base like http://foo.com/bar/ (without index.html)\n  url += `${is_fatal ? 'errorReport' : 'errorLog'}?cidx=${crash_idx}&file=${escape(file)}` +\n    `&line=${line||0}&col=${col||0}&url=${escape(location.href)}` +\n    `&msg=${escape(msg)}${error_report_details_str}`;\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', url, true);\n  xhr.send(null);\n  return true;\n}\n","/* globals FBInstant */\nconst urlhash = require('./urlhash.js');\nconst local_storage = require('./local_storage.js');\nconst { soundPause } = require('./sound.js');\n\nexport let ready = false;\nlet onreadycallbacks = [];\nexport function onready(callback) {\n  if (ready) {\n    return void callback();\n  }\n  onreadycallbacks.push(callback);\n}\n\nlet hasSubscribedAlready = false;\nfunction initSubscribe(callback, skipShortcut) {\n\n  skipShortcut = skipShortcut||false;\n\n  function handleSubscribeToBotComplete() {\n    if (callback) {\n      //Prevents the handleSubscribeToBotComplete promise from eating unfreeze event errors\n      setTimeout(callback,1);\n    }\n  }\n\n  function handleSubscribeToBotFailure(e) {\n    if (e && e.code !== 'USER_INPUT') {\n      console.error('handleSubscribeToBotFailure', e);\n    }\n    FBInstant.logEvent(\n      'bot_subscribe_failure'\n    );\n    handleSubscribeToBotComplete();\n  }\n\n  function subscribeToBot() {\n    console.warn('Window social trying to bot subscribe');\n    if (FBInstant.getSupportedAPIs().indexOf('player.canSubscribeBotAsync') !== -1) {\n      FBInstant.player.canSubscribeBotAsync().then(function (canSubscribe) {\n        if (canSubscribe) {\n          FBInstant.logEvent(\n            'bot_subscribe_show'\n          );\n          FBInstant.player.subscribeBotAsync().then(function () {\n            FBInstant.logEvent(\n              'bot_subscribe_success'\n            );\n            handleSubscribeToBotComplete();\n          },handleSubscribeToBotFailure).catch(handleSubscribeToBotFailure);\n        } else {\n          handleSubscribeToBotComplete();\n        }\n      }).catch(handleSubscribeToBotFailure);\n    } else {\n      handleSubscribeToBotComplete();\n    }\n  }\n\n  function handleHomescreenComplete() {\n    subscribeToBot();\n  }\n\n  function handleCreateShortcutFailure(e) {\n    console.error('handleCreateShortcutFailure', e);\n    FBInstant.logEvent(\n      'homescreen_install_failure'\n    );\n    handleHomescreenComplete();\n  }\n\n  let hasAddedToHomescreen = local_storage.get('instant.hasInstalledShortcut.v2');\n  function createShortcut() {\n    console.warn('Window social trying to create shortcut');\n    if (FBInstant.getSupportedAPIs().indexOf('canCreateShortcutAsync') !== -1 &&\n      !hasAddedToHomescreen &&\n      !hasSubscribedAlready\n    ) {\n      hasSubscribedAlready = true;\n      FBInstant.canCreateShortcutAsync().then(function (canCreateShortcut) {\n        if (canCreateShortcut) {\n          FBInstant.logEvent(\n            'homescreen_install_show'\n          );\n          FBInstant.createShortcutAsync().then(function () {\n            local_storage.set('instant.hasInstalledShortcut.v2',true);\n            FBInstant.logEvent(\n              'homescreen_install_success'\n            );\n            handleHomescreenComplete();\n          },function () {\n            FBInstant.logEvent(\n              'homescreen_install_useraborted'\n            );\n            handleHomescreenComplete();\n          }).catch(handleCreateShortcutFailure);\n        } else {\n          handleHomescreenComplete();\n        }\n      }).catch(handleCreateShortcutFailure);\n    } else {\n      handleHomescreenComplete();\n    }\n  }\n\n  if (skipShortcut) {\n    subscribeToBot();\n  } else {\n    createShortcut();\n  }\n}\n\nexport function init() {\n  if (!window.FBInstant) {\n    return;\n  }\n\n  let left = 1;\n  let fake_load_interval = setInterval(function () {\n    left *= 0.9;\n    FBInstant.setLoadingProgress(100-(left*100)>>0);\n  },100);\n\n  FBInstant.initializeAsync().then(function () {\n    let entryPointData = FBInstant.getEntryPointData()||{};\n    // let entryPointData = { querystring: { w: '4675', wg: '1' } }; // FRVR\n    // let entryPointData = { querystring: { blueprint: 'RKWVAE26XS24Z' } }; // FRVR\n    let querystring = entryPointData.querystring||{};\n    for (let x in querystring) {\n      urlhash.set(x, querystring[x]);\n    }\n\n    clearInterval(fake_load_interval);\n    ready = true;\n    FBInstant.startGameAsync().then(function () {\n      onreadycallbacks.forEach((e) => e());\n      onreadycallbacks = [];\n\n      console.warn('outside init fb');\n      initSubscribe(function () {\n        console.warn('All done initing FB');\n      });\n    });\n  }).catch(function (e) {\n    console.warn('initializeAsync failed', e);\n  });\n\n  FBInstant.onPause(() => {\n    soundPause();\n  });\n}\n\nexport function fbGetLoginInfo(cb) {\n  onready(() => {\n    window.FBInstant.player.getSignedPlayerInfoAsync().then((result) => {\n      if (cb) {\n        cb(null, {\n          signature: result.getSignature(),\n          display_name: window.FBInstant.player.getName(),\n        });\n        cb = null;\n      }\n    }).catch((err) => {\n      if (cb) {\n        cb(err);\n        cb = null;\n      }\n    });\n  });\n}\n\nlet fb_friends = {};\n// Returns a display name if the user_id is a Facebook friend\nexport function fbFriendName(user_id) {\n  return fb_friends[user_id];\n}\n\n// Expects an array of valid user IDs:\n// cb(null, ['fb$1234', 'fb$4567']);\nexport function fbGetFriends(cb) {\n  onready(() => {\n    window.FBInstant.player.getConnectedPlayersAsync().then((players) => {\n      let list = players.map((player) => {\n        let user_id = `fb$${player.getID()}`;\n        fb_friends[user_id] = player.getName();\n        return user_id;\n      });\n      if (cb) {\n        cb(null, list);\n        cb = null;\n      }\n    }).catch((err) => {\n      if (cb) {\n        cb(err);\n        cb = null;\n      }\n    });\n  });\n}\n","const assert = require('assert');\n\nlet by_ext = {};\nlet by_match = [];\n\n// cb(filename)\nexport function filewatchOn(ext_or_search, cb) {\n  if (ext_or_search[0] === '.') {\n    assert(!by_ext[ext_or_search]);\n    by_ext[ext_or_search] = cb;\n  } else {\n    by_match.push([ext_or_search, cb]);\n  }\n}\n\nlet message_cb;\n// cb(message)\nexport function filewatchMessageHandler(cb) {\n  message_cb = cb;\n}\n\nfunction onFileChange(filename) {\n  console.log(`FileWatch change: ${filename}`);\n  let ext_idx = filename.lastIndexOf('.');\n  let did_reload = false;\n  if (ext_idx !== -1) {\n    let ext = filename.slice(ext_idx);\n    if (by_ext[ext]) {\n      if (by_ext[ext](filename) !== false) {\n        did_reload = true;\n      }\n    }\n  }\n  for (let ii = 0; ii < by_match.length; ++ii) {\n    if (filename.match(by_match[ii][0])) {\n      if (by_match[ii][1](filename) !== false) {\n        did_reload = true;\n      }\n    }\n  }\n  if (message_cb && did_reload) {\n    message_cb(`Reloading: ${filename}`);\n  }\n}\n\nexport function filewatchTriggerChange(filename) {\n  onFileChange(filename);\n}\n\nexport function filewatchStartup(client) {\n  client.onMsg('filewatch', onFileChange);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off, complexity:off, no-shadow:off */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst { floor, max, round } = Math;\n// const settings = require('./settings.js');\nconst shaders = require('./shaders.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { clamp } = require('../../common/util.js');\nconst { vec4, v4clone, v4scale } = require('./vmath.js');\n\n/*\n\nfont_style = glov_font.style(null, {\n  color: 0xFFFFFFff,\n  outline_width: 0,\n  outline_color: 0x00000000,\n  glow_xoffs: 0,\n  glow_yoffs: 0,\n  glow_inner: 0,\n  glow_outer: 0,\n  glow_color: 0x000000ff,\n});\n\n */\n\n// typedef struct FontCharInfo {\n//   int c;\n//   float x0;\n//   float y0;\n//   int w;\n//   int h;\n//   int imgIdx;\n// } FontCharInfo;\n\n// typedef struct FontInfo {\n//   AS_NAME(CharInfo) FontCharInfo **char_infos;\n//   int font_size;\n//   float x0;\n//   float y0;\n//   int imageW;\n//   int imageH;\n//   int spread;\n// } FontInfo;\n\nexport const COLOR_MODE = {\n  SINGLE: 0,\n  GRADIENT: 1,\n};\n\nexport const ALIGN = {\n  HLEFT: 0,\n  HCENTER: 1,\n  HRIGHT: 2,\n  HMASK: 3,\n\n  VTOP: 0 << 2,\n  VCENTER: 1 << 2,\n  VBOTTOM: 2 << 2,\n  VMASK: 3 << 2,\n\n  HFIT: 1 << 4,\n  HWRAP: 1 << 5, // only for glovMarkup*, not drawSizedAligned below, use drawSizedWrapped below instead\n\n  HCENTERFIT: 1 | (1 << 4),\n  HVCENTER: 1 | (1 << 2), // to avoid doing bitwise ops elsewhere\n  HVCENTERFIT: 1 | (1 << 2) | (1 << 4), // to avoid doing bitwise ops elsewhere\n};\n\n\n// typedef struct GlovFontStyle\n// {\n//   // These members will never be changed (safe to initialize with GlovFontStyle foo = {1.0, 0xfff, etc};\n//   float outline_width;\n//   U32 outline_color;\n//   // Glow: can be used for a dropshadow as well\n//   //   inner can be negative to have the glow be less opaque (can also just change the alpha of the glow color)\n//   //   a glow would be e.g. (0, 0, -1, 5)\n//   //   a dropshadow would be e.g. (3.25, 3.25, -2.5, 5)\n//   float glow_xoffs;\n//   float glow_yoffs;\n//   float glow_inner;\n//   float glow_outer;\n//   U32 glow_color;\n//   U32 color; // upper left, or single color\n//   U32 colorUR; // upper right\n//   U32 colorLR; // lower right\n//   U32 colorLL; // lower left\n//   GlovFontColorMode color_mode;\n// } GlovFontStyle;\n\n/* Default GlovFontStyle:\n  font_style = {\n    outline_width: 0, outline_color: 0x00000000,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: 0x00000000,\n    color: 0xFFFFFFff\n  };\n\n  font_style = {\n    outline_width: 0, outline_color: 0x00000000,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: 0x00000000,\n    // Color gradient: UL, UR, LR, LL\n    color: 0xFFFFFFff, colorUR: 0xFFFFFFff, colorLR: 0x000000ff, colorLL: 0x000000ff,\n    color_mode: glov_font.COLOR_MODE.GRADIENT,\n  };\n*/\n\nfunction GlovFontStyle() {\n  this.color_vec4 = vec4(1,1,1,1); // Matches GlovFontStyle.prototype.color below\n}\nGlovFontStyle.prototype.outline_width = 0;\nGlovFontStyle.prototype.outline_color = 0x00000000;\nGlovFontStyle.prototype.glow_xoffs = 0;\nGlovFontStyle.prototype.glow_yoffs = 0;\nGlovFontStyle.prototype.glow_inner = 0;\nGlovFontStyle.prototype.glow_outer = 0;\nGlovFontStyle.prototype.glow_color = 0x00000000;\nGlovFontStyle.prototype.color = 0xFFFFFFff;\nGlovFontStyle.prototype.colorUR = 0;\nGlovFontStyle.prototype.colorLR = 0;\nGlovFontStyle.prototype.colorLL = 0;\nGlovFontStyle.prototype.color_mode = COLOR_MODE.SINGLE;\n\nexport const font_shaders = {};\n\nexport function intColorFromVec4Color(v) {\n  return ((v[0] * 255 | 0) << 24) |\n    ((v[1] * 255 | 0) << 16) |\n    ((v[2] * 255 | 0) << 8) |\n    ((v[3] * 255 | 0));\n}\n\nexport function vec4ColorFromIntColor(v, c) {\n  v[0] = ((c >> 24) & 0xFF) / 255;\n  v[1] = ((c >> 16) & 0xFF) / 255;\n  v[2] = ((c >> 8) & 0xFF) / 255;\n  v[3] = (c & 0xFF) / 255;\n}\n\nexport const glov_font_default_style = new GlovFontStyle();\n\nexport function style(font_style, fields) {\n  let ret = new GlovFontStyle();\n  let { color_vec4 } = ret;\n  if (font_style) {\n    for (let f in font_style) {\n      ret[f] = font_style[f];\n    }\n  }\n  for (let f in fields) {\n    ret[f] = fields[f];\n  }\n  ret.color_vec4 = color_vec4; // Restore\n  vec4ColorFromIntColor(ret.color_vec4, ret.color);\n  return ret;\n}\n\nexport function styleColored(font_style, color) {\n  return style(font_style, {\n    color\n  });\n}\n\nfunction colorAlpha(color, alpha) {\n  alpha = clamp(round((color & 0xFF) * alpha), 0, 255);\n  return color & 0xFFFFFF00 | alpha;\n}\n\nexport function styleAlpha(font_style, alpha) {\n  return style(font_style, {\n    color: colorAlpha((font_style || glov_font_default_style).color, alpha),\n    outline_color: colorAlpha((font_style || glov_font_default_style).outline_color, alpha),\n    glow_color: colorAlpha((font_style || glov_font_default_style).glow_color, alpha),\n  });\n}\n\nlet tech_params = null;\nlet tech_params_dirty = false;\nlet temp_color = null;\n\nfunction createTechniqueParameters() {\n  if (tech_params) {\n    return;\n  }\n\n  tech_params = {\n    param0: vec4(),\n    outlineColor: vec4(),\n    glowColor: vec4(),\n    glowParams: vec4(),\n    tex0: null\n  };\n  if (!temp_color) {\n    temp_color = vec4();\n  }\n}\n\nfunction techParamsSet(param, value) {\n  let tpv = tech_params[param];\n  // not dirty, if anything changes, we need a new object!\n  if (!tech_params_dirty) {\n    if (tpv[0] !== value[0] || tpv[1] !== value[1] || tpv[2] !== value[2] || tpv[3] !== value[3]) {\n      // clone\n      tech_params = {\n        param0: v4clone(tech_params.param0),\n        outlineColor: v4clone(tech_params.outlineColor),\n        glowColor: v4clone(tech_params.glowColor),\n        glowParams: v4clone(tech_params.glowParams),\n      };\n      tech_params_dirty = true;\n      tpv = tech_params[param];\n    } else {\n      // identical, do nothing\n      return;\n    }\n  }\n  if (tech_params_dirty) {\n    // just set\n    tpv[0] = value[0];\n    tpv[1] = value[1];\n    tpv[2] = value[2];\n    tpv[3] = value[3];\n    // return;\n  }\n}\n\nfunction techParamsGet() {\n  tech_params_dirty = false;\n  return tech_params;\n}\n\nfunction GlovFont(font_info, texture_name) {\n  assert(font_info.font_size !== 0); // Got lost somewhere\n\n  this.texture = textures.load({\n    url: `img/${texture_name}.png`,\n    filter_min: font_info.noFilter ? gl.NEAREST : gl.LINEAR,\n    filter_mag: font_info.noFilter ? gl.NEAREST : gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n  this.textures = [this.texture];\n\n  this.font_info = font_info;\n  this.shader = font_shaders.font_aa;\n  this.tex_w = font_info.imageW;\n  this.tex_h = font_info.imageH;\n\n  // Calculate inverse scale, fixup 0s\n  for (let ii = 0; ii < font_info.char_infos.length; ++ii) {\n    let char_info = font_info.char_infos[ii];\n    char_info.scale = 1 / (char_info.sc || 1);\n    char_info.w = char_info.w || 0;\n  }\n\n  // build lookup\n  this.char_infos = [];\n  for (let ii = 0; ii < font_info.char_infos.length; ++ii) {\n    let char_info = font_info.char_infos[ii];\n    this.char_infos[font_info.char_infos[ii].c] = char_info;\n    char_info.xpad = char_info.xpad || 0;\n    char_info.yoffs = char_info.yoffs || 0;\n  }\n  this.replacement_character = this.infoFromChar(0xFFFD);\n  if (!this.replacement_character) {\n    this.replacement_character = this.infoFromChar(63); // '?'\n  }\n\n  this.default_style = new GlovFontStyle();\n  this.applied_style = new GlovFontStyle();\n\n  createTechniqueParameters();\n}\n\n// General draw functions return width\n// Pass NULL for style to use default style\n// If the function takes a color, this overrides the color on the style\nGlovFont.prototype.drawSizedColor = function (style, x, y, z, size, color, text) {\n  return this.drawSized(styleColored(style, color), x, y, z, size, text);\n};\nGlovFont.prototype.drawSized = function (style, x, y, z, size, text) {\n  return this.drawScaled(style, x, y, z, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\n\nGlovFont.prototype.drawSizedAligned = function (style, _x, _y, z, size, align, w, h, text) {\n  let x_size = size;\n  let y_size = size;\n  let width = this.getStringWidth(style, x_size, text);\n  if ((align & ALIGN.HFIT) && width > w) {\n    let scale = w / width;\n    x_size *= scale;\n    width = w;\n    // Additionally, if we're really squishing things horizontally, shrink the font size\n    // and offset to be centered.\n    if (scale < 0.5) {\n      if ((align & ALIGN.VMASK) !== ALIGN.VCENTER && (align & ALIGN.VMASK) !== ALIGN.VBOTTOM) {\n        // Offset to be roughly centered in the original line bounds\n        _y += (y_size - (y_size * scale * 2)) / 2;\n      }\n      y_size *= scale * 2;\n    }\n  }\n  let height = y_size;\n  let x;\n  let y;\n  switch (align & ALIGN.HMASK) {\n    case ALIGN.HCENTER:\n      x = _x + (w - width) / 2;\n      if (this.font_info.noFilter) {\n        x |= 0; // ensure integral\n      }\n      break;\n    case ALIGN.HRIGHT:\n      x = _x + w - width;\n      break;\n    case ALIGN.HLEFT:\n      x = _x;\n      break;\n    default:\n      x = _x;\n  }\n  switch (align & ALIGN.VMASK) {\n    case ALIGN.VCENTER:\n      y = _y + (h - height) / 2;\n      if (this.font_info.noFilter) {\n        y |= 0; // ensure integral\n      }\n      break;\n    case ALIGN.VBOTTOM:\n      y = _y + h - height;\n      break;\n    case ALIGN.VTOP:\n      y = _y;\n      break;\n    default:\n      y = _y;\n  }\n\n  return this.drawScaled(style, x, y, z, x_size / this.font_info.font_size, y_size / this.font_info.font_size, text);\n};\n\n// returns height\nGlovFont.prototype.drawSizedColorWrapped = function (style, x, y, z, w, indent, size, color, text) {\n  return this.drawScaledWrapped(styleColored(style, color), x, y, z, w,\n    indent, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\nGlovFont.prototype.drawSizedWrapped = function (style, x, y, z, w, indent, size, text) {\n  return this.drawScaledWrapped(style, x, y, z, w,\n    indent, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\n\nGlovFont.prototype.wrapLines = function (w, indent, size, text, word_cb /*(x, int linenum, const char *word)*/) {\n  return this.wrapLinesScaled(w, indent, size / this.font_info.font_size, text, word_cb);\n};\n\nGlovFont.prototype.numLines = function (style, w, indent, size, text) {\n  this.applyStyle(style);\n  let numlines = 0;\n  function wordCallback(ignored, linenum, word) {\n    numlines = max(numlines, linenum);\n  }\n  this.wrapLines(w, indent, size, text, wordCallback);\n  return numlines + 1;\n};\n\nGlovFont.prototype.infoFromChar = function (c) {\n  let ret = this.char_infos[c];\n  if (ret) {\n    return ret;\n  }\n  if (c > 127) {\n    // no char info, and non-ascii, non-control code\n    return this.replacement_character;\n  }\n  return null;\n};\n\nGlovFont.prototype.getCharacterWidth = function (style, x_size, c) {\n  assert.equal(typeof c, 'number');\n  this.applyStyle(style);\n  let char_info = this.infoFromChar(c);\n  let xsc = x_size / this.font_info.font_size;\n  let x_advance = this.calcXAdvance(xsc);\n  if (char_info) {\n    return (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n  }\n  return 0;\n};\n\nGlovFont.prototype.getStringWidth = function (style, x_size, text) {\n  this.applyStyle(style);\n  let ret=0;\n  let xsc = x_size / this.font_info.font_size;\n  let x_advance = this.calcXAdvance(xsc);\n  for (let ii = 0; ii < text.length; ++ii) {\n    let c = text.charCodeAt(ii);\n    let char_info = this.infoFromChar(c);\n    if (!char_info) {\n      char_info = this.infoFromChar(13);\n    }\n    if (char_info) {\n      ret += (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n    }\n  }\n  return ret;\n};\n\n// word_cb(x, int linenum, const char *word)\nGlovFont.prototype.wrapLinesScaled = function (w, indent, xsc, text, word_cb) {\n  let len = text.length;\n  let s = 0;\n  let word_start = 0;\n  let word_x0 = 0;\n  let x = word_x0;\n  let linenum = 0;\n  let space_info = this.infoFromChar(32); // ' '\n  let space_size = (space_info ? space_info.w + space_info.xpad : this.font_info.font_size) * xsc;\n  let hard_wrap = false;\n  let x_advance = this.calcXAdvance(xsc);\n\n  do {\n    let c = s < len ? text.charCodeAt(s) || 0xFFFD : 0;\n    let newx = x;\n    let char_w;\n    let char_info = this.infoFromChar(c);\n    if (!char_info) {\n      char_info = this.infoFromChar(10);\n    }\n    if (char_info) {\n      char_w = (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n      newx = x + char_w;\n    }\n    if (newx >= w && hard_wrap) {\n      // flush the word so far!\n      if (word_cb) {\n        word_cb(word_x0, linenum, text.slice(word_start, s));\n      }\n      word_start = s;\n      word_x0 = indent;\n      x = word_x0 + char_w;\n      linenum++;\n    } else {\n      x = newx;\n    }\n    if (!(c === 32 /*' '*/ || c === 0 || c === 10 /*'\\n'*/ || c === 9)) {\n      s++;\n      c = s < len ? text.charCodeAt(s) || 0xFFFD : 0;\n    }\n    if (c === 32 /*' '*/ || c === 0 || c === 10 /*'\\n'*/ || c === 9) {\n      hard_wrap = false;\n      // draw word until s\n      if (x > w) {\n        // maybe wrap\n        let word_width = x - word_x0;\n        if (word_width > w - indent) {\n          // not going to fit, split it up!\n          hard_wrap = true;\n          // recover and restart at word start\n          s = word_start;\n          x = word_x0;\n          continue;\n        } else {\n          word_x0 = indent;\n          x = word_x0 + word_width;\n          linenum++;\n        }\n      }\n      if (word_cb) {\n        word_cb(word_x0, linenum, text.slice(word_start, s));\n      }\n      word_start = s+1;\n      if (c === 10 /*'\\n'*/) {\n        x = indent;\n        linenum++;\n      } else if (c === 9 /*'\\t'*/) {\n        let tabsize = xsc * this.font_info.font_size * 2;\n        x = (floor(x / tabsize) + 1) * tabsize;\n      } else {\n        x += space_size;\n      }\n      word_x0 = x;\n      if (c === 32 /*' '*/ || c === 10 /*'\\n'*/ || c === 9) {\n        s++; // advance past space\n      }\n    }\n  } while (s < len);\n  ++linenum;\n  return linenum;\n};\n\nGlovFont.prototype.drawScaledWrapped = function (style, x, y, z, w, indent, xsc, ysc, text) {\n  if (text === null || text === undefined) {\n    text = '(null)';\n  }\n  this.applyStyle(style);\n  this.last_width = 0;\n  let num_lines = this.wrapLinesScaled(w, indent, xsc, text, (xoffs, linenum, word) => {\n    let y2 = y + this.font_info.font_size * ysc * linenum;\n    let x2 = x + xoffs;\n    let word_w = this.drawScaled(style, x2, y2, z, xsc, ysc, word);\n    this.last_width = max(this.last_width, xoffs + word_w);\n  });\n  return num_lines * this.font_info.font_size * ysc;\n};\n\nGlovFont.prototype.calcXAdvance = function (xsc) {\n  // Assume called: applyStyle(style);\n\n  // scale all supplied values by this so that if we swap in a font with twice the resolution (and twice the spread)\n  //   things look almost identical, just crisper\n  let font_texel_scale = this.font_info.font_size / 32;\n  // As a compromise, -2 bias here seems to work well\n  let x_advance = xsc * font_texel_scale * max(this.applied_style.outline_width - 2, 0);\n  // As a compromise, there's a -3 bias in there, so it only kicks in under extreme circumstances\n  x_advance = max(x_advance, xsc * font_texel_scale *\n    max(this.applied_style.glow_outer - this.applied_style.glow_xoffs - 3, 0));\n  return x_advance;\n};\n\n//////////////////////////////////////////////////////////////////////////\n// Main implementation\n\nGlovFont.prototype.drawScaled = function (style, _x, y, z, xsc, ysc, text) {\n  let x = _x;\n  assert(isFinite(x));\n  assert(isFinite(y));\n  assert(isFinite(z));\n  let font_info = this.font_info;\n  // Debug: show expect area of glyphs\n  // require('./ui.js').drawRect(_x, y,\n  //   _x + xsc * font_info.font_size * 20, y + ysc * font_info.font_size,\n  //   1000, [1, 0, 1, 0.5]);\n  y += (font_info.y_offset || 0) * ysc;\n  let texs = this.textures;\n  if (text === null || text === undefined) {\n    text = '(null)';\n  }\n  const len = text.length;\n  if (xsc === 0 || ysc === 0) {\n    return 0;\n  }\n\n  this.applyStyle(style);\n\n  const avg_scale_font = (xsc + ysc) * 0.5;\n  const camera_xscale = camera2d.data[4];\n  const camera_yscale = camera2d.data[5];\n  let avg_scale_combined = (xsc * camera_xscale + ysc * camera_yscale) * 0.5;\n  // Not doing this here, because render_scale_all is not currently reflected in camera_x/yscale\n  // avg_scale_combined *= settings.render_scale_all;\n\n  // scale all supplied values by this so that if we swap in a font with twice the resolution (and twice the spread)\n  //   things look almost identical, just crisper\n  let x_advance = this.calcXAdvance(xsc);\n  let font_texel_scale = font_info.font_size / 32;\n  let tile_state = 0;\n\n  let applied_style = this.applied_style;\n\n  // Calculate anti-aliasing values\n  let delta_per_source_pixel = 0.5 / font_info.spread;\n  let delta_per_dest_pixel = delta_per_source_pixel / avg_scale_combined;\n  let value = vec4(\n    1 / delta_per_dest_pixel, // AA Mult and Outline Mult\n    -0.5 / delta_per_dest_pixel + 0.5, // AA Add\n    // Outline Add\n    -0.5 / delta_per_dest_pixel + 0.5 + applied_style.outline_width*font_texel_scale*avg_scale_combined,\n    0, // Unused\n  );\n  if (value[2] > 0) {\n    value[2] = 0;\n  }\n  let padding1 = max(0, applied_style.outline_width*font_texel_scale*avg_scale_font);\n  let padding4 = vec4();\n  const outer_scaled = applied_style.glow_outer*font_texel_scale;\n  padding4[0] = max(outer_scaled*xsc - applied_style.glow_xoffs*font_texel_scale*xsc, padding1);\n  padding4[2] = max(outer_scaled*xsc + applied_style.glow_xoffs*font_texel_scale*xsc, padding1);\n  padding4[1] = max(outer_scaled*ysc - applied_style.glow_yoffs*font_texel_scale*ysc, padding1);\n  padding4[3] = max(outer_scaled*ysc + applied_style.glow_yoffs*font_texel_scale*ysc, padding1);\n\n  techParamsSet('param0', value);\n  let value2 = vec4(\n    0, // filled later\n    0, // filled later\n    // Glow mult\n    1 / ((applied_style.glow_outer - applied_style.glow_inner) * delta_per_source_pixel * font_texel_scale),\n    -(0.5 - applied_style.glow_outer * delta_per_source_pixel * font_texel_scale) / ((applied_style.glow_outer -\n      applied_style.glow_inner) * delta_per_source_pixel * font_texel_scale)\n  );\n  if (value2[3] > 0) {\n    value2[3] = 0;\n  }\n\n  let padding_in_font_space = vec4();\n  v4scale(padding_in_font_space, padding4, 1 / avg_scale_font);\n  for (let ii = 0; ii < 4; ++ii) {\n    if (padding_in_font_space[ii] > font_info.spread) {\n      // Not enough buffer\n      let sc = font_info.spread / padding_in_font_space[ii];\n      padding4[ii] *= sc;\n      padding_in_font_space[ii] *= sc;\n    }\n  }\n\n  // Choose appropriate z advance so that character are drawn left to right (or RTL if the glow is on the other side)\n  const z_advance = applied_style.glow_xoffs < 0 ? -0.0001 : 0.0001;\n\n\n  // For non-1:1 aspect ration rendering, need to scale our coordinates' padding differently in each axis\n  let rel_x_scale = xsc / avg_scale_font;\n  let rel_y_scale = ysc / avg_scale_font;\n\n  for (let i=0; i<len; i++) {\n    const c = text.charCodeAt(i);\n    if (c === 9) { // '\\t'.charCodeAt(0)) {\n      let tabsize = xsc * font_info.font_size * 4;\n      x = ((((x - _x) / tabsize) | 0) + 1) * tabsize + _x;\n    } else {\n      let char_info = this.infoFromChar(c);\n      if (!char_info) {\n        char_info = this.infoFromChar(13);\n      }\n      if (char_info) {\n        let char_scale = char_info.scale;\n        let xsc2 = xsc * char_scale;\n        if (char_info.w) {\n          let ysc2 = ysc * char_scale;\n          let pad_scale = 1 / char_scale;\n          let tile_width = this.tex_w;\n          let tile_height = this.tex_h;\n          // Lazy update params here\n          if (char_scale !== tile_state) {\n            value2[0] = -applied_style.glow_xoffs * font_texel_scale * pad_scale / tile_width;\n            value2[1] = -applied_style.glow_yoffs * font_texel_scale * pad_scale / tile_height;\n            techParamsSet('glowParams', value2);\n          }\n\n          let u0 = (char_info.x0 - padding_in_font_space[0] * pad_scale) / tile_width;\n          let u1 = (char_info.x0 + char_info.w + padding_in_font_space[2] * pad_scale) / tile_width;\n          let v0 = (char_info.y0 - padding_in_font_space[1] * pad_scale) / tile_height;\n          let v1 = (char_info.y0 + char_info.h + padding_in_font_space[3] * pad_scale) / tile_height;\n\n          let w = char_info.w * xsc2 + (padding4[0] + padding4[2]) * rel_x_scale;\n          let h = char_info.h * ysc2 + (padding4[1] + padding4[3]) * rel_y_scale;\n\n          sprites.queueraw(\n            texs,\n            x - rel_x_scale * padding4[0], y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n            z + z_advance * i, w, h,\n            u0, v0, u1, v1,\n            applied_style.color_vec4,\n            this.shader, techParamsGet());\n\n          // require('./ui.js').drawRect(x - rel_x_scale * padding4[0],\n          //   y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n          //   w + x - rel_x_scale * padding4[0],\n          //   h + y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n          //   1000, [i & 1, (i & 2)>>1, (i & 4)>>2, 0.5]);\n        }\n\n        x += (char_info.w + char_info.xpad) * xsc2 + x_advance;\n      }\n    }\n  }\n  return x - _x;\n};\n\nGlovFont.prototype.determineShader = function () {\n  let outline = this.applied_style.outline_width && (this.applied_style.outline_color & 0xff);\n  let glow = this.applied_style.glow_outer > 0 && (this.applied_style.glow_color & 0xff);\n  if (outline) {\n    if (glow) {\n      this.shader = font_shaders.font_aa_outline_glow;\n    } else {\n      this.shader = font_shaders.font_aa_outline;\n    }\n  } else if (glow) {\n    this.shader = font_shaders.font_aa_glow;\n  } else {\n    this.shader = font_shaders.font_aa;\n  }\n};\n\nGlovFont.prototype.applyStyle = function (style) {\n  if (!style) {\n    style = this.default_style;\n  }\n  // outline\n  vec4ColorFromIntColor(temp_color, style.outline_color);\n  techParamsSet('outlineColor', temp_color);\n\n  // glow\n  vec4ColorFromIntColor(temp_color, style.glow_color);\n  techParamsSet('glowColor', temp_color);\n\n  // everything else\n  this.applied_style.outline_width = style.outline_width;\n  this.applied_style.outline_color = style.outline_color;\n  this.applied_style.glow_xoffs = style.glow_xoffs;\n  this.applied_style.glow_yoffs = style.glow_yoffs;\n  this.applied_style.glow_inner = style.glow_inner;\n  this.applied_style.glow_outer = style.glow_outer;\n  this.applied_style.glow_color = style.glow_color;\n  this.applied_style.color = style.color;\n  this.applied_style.color_vec4 = style.color_vec4;\n  this.applied_style.colorUR = style.colorUR;\n  this.applied_style.colorLR = style.colorLR;\n  this.applied_style.colorLL = style.colorLL;\n  this.applied_style.color_mode = style.color_mode;\n\n  if (this.applied_style.color_mode === COLOR_MODE.SINGLE) {\n    this.applied_style.colorUR = this.applied_style.colorLL = this.applied_style.colorLR = this.applied_style.color;\n  }\n\n  this.determineShader();\n};\n\n// Replicate constants and utility functions on all font instances as well\nGlovFont.prototype.COLOR_MODE = COLOR_MODE;\nGlovFont.prototype.ALIGN = ALIGN;\nGlovFont.prototype.style = style;\nGlovFont.prototype.styleAlpha = styleAlpha;\nGlovFont.prototype.styleColored = styleColored;\n\nfunction fontShadersInit() {\n  if (font_shaders.font_aa) {\n    return;\n  }\n  font_shaders.font_aa = shaders.create('glov/shaders/font_aa.fp');\n  font_shaders.font_aa_glow = shaders.create('glov/shaders/font_aa_glow.fp');\n  font_shaders.font_aa_outline = shaders.create('glov/shaders/font_aa_outline.fp');\n  font_shaders.font_aa_outline_glow = shaders.create('glov/shaders/font_aa_outline_glow.fp');\n}\n\nexport function create(font_info, texture_name) {\n  fontShadersInit();\n  return new GlovFont(font_info, texture_name);\n}\n","const assert = require('assert');\nconst { is_ios } = require('./browser.js');\nconst { cmd_parse } = require('./cmds.js');\nconst { applyCopy } = require('./effects.js');\nconst engine = require('./engine.js');\nconst { renderWidth, renderHeight } = engine;\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst textures = require('./textures.js');\n\nlet last_num_passes = 0;\nlet num_passes = 0;\n\nlet temporary_textures = {};\nlet temporary_depthbuffers = {};\n\nlet reset_fbos = false;\nfunction resetFBOs() {\n  reset_fbos = true;\n}\n\nlet last_temp_idx = 0;\nfunction getTemporaryTexture(w, h, possibly_fbo) {\n  let key = `${w}_${h}`;\n  let is_fbo = possibly_fbo && settings.use_fbos;\n  if (is_fbo) {\n    key += '_fbo';\n  }\n  let temp = temporary_textures[key];\n  if (!temp) {\n    temp = temporary_textures[key] = { list: [], idx: 0 };\n  }\n  if (temp.idx >= temp.list.length) {\n    let tex = textures.createForCapture(`temp_${key}_${++last_temp_idx}`);\n    if (is_fbo) {\n      tex.allocFBO(w, h);\n    }\n    temp.list.push(tex);\n  }\n  let tex = temp.list[temp.idx++];\n  return tex;\n}\n\nfunction bindTemporaryDepthbuffer(w, h) {\n  let key = `${w}_${h}`;\n  let temp = temporary_depthbuffers[key];\n  if (!temp) {\n    temp = temporary_depthbuffers[key] = { list: [], idx: 0 };\n  }\n  if (temp.idx >= temp.list.length) {\n    let depth_buffer = gl.createRenderbuffer();\n    gl.bindRenderbuffer(gl.RENDERBUFFER, depth_buffer);\n    let attachment;\n    if (settings.fbo_depth16) {\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, w, h);\n      attachment = gl.DEPTH_ATTACHMENT;\n    } else {\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w, h);\n      attachment = gl.DEPTH_STENCIL_ATTACHMENT;\n    }\n    gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n    temp.list.push({ depth_buffer, attachment });\n  }\n  let { depth_buffer, attachment } = temp.list[temp.idx++];\n  gl.framebufferRenderbuffer(gl.FRAMEBUFFER, attachment, gl.RENDERBUFFER, depth_buffer);\n}\n\nexport function temporaryTextureClaim(tex) {\n  for (let key in temporary_textures) {\n    let temp = temporary_textures[key];\n    let idx = temp.list.indexOf(tex);\n    if (idx !== -1) {\n      temp.list.splice(idx, 1);\n      if (temp.idx > idx) {\n        --temp.idx;\n      }\n      return;\n    }\n  }\n  assert(false);\n}\n\n// Call tex.captureEnd when done\nfunction framebufferCaptureStart(tex, w, h, possibly_fbo) {\n  assert.equal(engine.viewport[0], 0); // maybe allow/require setting viewport *after* starting capture instead?\n  assert.equal(engine.viewport[1], 0);\n  if (!w) {\n    w = renderWidth();\n    h = renderHeight();\n  }\n  if (!tex) {\n    tex = getTemporaryTexture(w, h, possibly_fbo);\n  }\n  tex.captureStart(w, h);\n  return tex;\n}\n\n// Does a capture directly from the framebuffer regardless of current use_fbos setting\n// Warning: Slow on iOS\nexport function framebufferCapture(tex, w, h, filter_linear, wrap) {\n  tex = framebufferCaptureStart(tex, w, h, false);\n  tex.captureEnd(filter_linear, wrap);\n  return tex;\n}\n\n\nlet cur_tex;\nexport function framebufferStart(opts) {\n  assert(!cur_tex);\n  let { width, height, viewport, final, clear, need_depth, clear_all, clear_color, force_tex } = opts;\n  ++num_passes;\n  if (force_tex) {\n    assert(viewport);\n    cur_tex = force_tex;\n    cur_tex.captureStart();\n  } else if (!final) {\n    cur_tex = framebufferCaptureStart(null, width, height, true);\n    if (settings.use_fbos) {\n      if (need_depth) {\n        bindTemporaryDepthbuffer(width, height);\n      } else {\n        // testing: force unbind, in case one was left bound\n        // gl.framebufferRenderbuffer(gl.FRAMEBUFFER, settings.fbo_depth16 ?\n        //   gl.DEPTH_ATTACHMENT : gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, null);\n      }\n    }\n  }\n  if (clear_color) {\n    gl.clearColor(clear_color[0], clear_color[1], clear_color[2], clear_color[3]);\n  }\n  if (clear && clear_all) {\n    // full clear, before setting viewport\n    gl.disable(gl.SCISSOR_TEST);\n    gl.clear(gl.COLOR_BUFFER_BIT | (need_depth ? gl.DEPTH_BUFFER_BIT : 0));\n  }\n  let need_scissor;\n  if (viewport) {\n    engine.setViewport(viewport);\n    need_scissor = viewport[0] || viewport[1] || viewport[2] !== engine.width || viewport[3] !== engine.height;\n    if (clear_all) { // not sure this logically follows, but we want this anywhere we're clearing all currently\n      need_scissor = false;\n    }\n  } else {\n    engine.setViewport([0, 0, width, height]);\n    need_scissor = width !== engine.width;\n  }\n  if (need_scissor && !settings.use_fbos) {\n    gl.enable(gl.SCISSOR_TEST);\n    if (viewport) {\n      gl.scissor(viewport[0], viewport[1], viewport[2], viewport[3]);\n    } else {\n      gl.scissor(0, 0, width, height);\n    }\n  } else {\n    gl.disable(gl.SCISSOR_TEST);\n  }\n  if (clear && !clear_all) {\n    gl.clear(gl.COLOR_BUFFER_BIT | (need_depth ? gl.DEPTH_BUFFER_BIT : 0));\n  }\n}\n\nexport function framebufferEnd(opts) {\n  assert(cur_tex);\n  opts = opts || {};\n  let { filter_linear, wrap } = opts;\n\n  cur_tex.captureEnd(filter_linear, wrap);\n\n  let ret = cur_tex;\n  cur_tex = null;\n  return ret;\n}\n\nexport function framebufferTopOfFrame() {\n  // In case of crash on previous frame\n  cur_tex = null;\n}\n\nexport function framebufferEndOfFrame() {\n  assert(!cur_tex);\n  last_num_passes = num_passes;\n  num_passes = 0;\n\n  for (let key in temporary_textures) {\n    let temp = temporary_textures[key];\n    if (reset_fbos) {\n      // Release all textures\n      temp.idx = 0;\n    }\n    // Release unused textures\n    while (temp.list.length > temp.idx) {\n      temp.list.pop().destroy();\n    }\n    if (!temp.idx) {\n      delete temporary_textures[key];\n    } else {\n      temp.idx = 0;\n    }\n  }\n  for (let key in temporary_depthbuffers) {\n    let temp = temporary_depthbuffers[key];\n    if (reset_fbos) {\n      // Release all renderbuffers\n      temp.idx = 0;\n    }\n    // Release unused renderbuffers\n    while (temp.list.length > temp.idx) {\n      let { depth_buffer } = temp.list.pop();\n      // TODO: can this still be bound to a framebuffer? unlikely, but possible?\n      gl.deleteRenderbuffer(depth_buffer);\n    }\n    if (!temp.idx) {\n      delete temporary_depthbuffers[key];\n    } else {\n      temp.idx = 0;\n    }\n  }\n  reset_fbos = false;\n}\n\nexport function framebufferUpdateCanvasForCapture() {\n  if (cur_tex && settings.use_fbos) {\n    let saved_tex = cur_tex;\n    let saved_viewport = engine.viewport.slice(0);\n    // copy to canvas\n    framebufferEnd();\n    applyCopy({\n      source: saved_tex,\n      final: true,\n      viewport: saved_viewport,\n    });\n    // resume rendering to framebuffer\n    framebufferStart({\n      force_tex: saved_tex,\n      viewport: saved_viewport,\n    });\n    return saved_tex; // just for .width/height\n  } else {\n    return { width: engine.viewport[2], height: engine.viewport[3] };\n  }\n}\n\nsettings.register({\n  show_passes: {\n    label: 'Show Postprocessing Passes',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  use_fbos: {\n    label: 'Use Framebuffer Objects for postprocessing',\n    default_value: is_ios ? 1 : 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    ver: 1,\n  },\n  fbo_depth16: { // This had no effect on performance, tested on iPhone, Xperia or Intel GPU\n    label: 'Use 16-bit depth buffers for offscreen rendering',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    on_change: resetFBOs,\n  },\n  fbo_rgba: { // This had no effect on performance, tested on iPhone, Xperia or Intel GPU\n    label: 'Use RGBA color buffers for offscreen rendering',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    on_change: resetFBOs,\n  },\n});\n\nperf.addMetric({\n  name: 'passes',\n  show_stat: 'show_passes',\n  labels: {\n    'passes: ': () => last_num_passes.toString(),\n  },\n});\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\nconst { cmd_parse } = require('./cmds.js');\nconst {\n  FRIEND_ADDED,\n  FRIEND_ADDED_AUTO,\n  FRIEND_REMOVED,\n  PRESENCE_ACTIVE,\n  PRESENCE_INACTIVE,\n  PRESENCE_OFFLINE,\n} = require('../../common/enums.js');\nconst { fbGetFriends } = require('./fbinstant.js');\nconst input = require('./input.js');\nconst net = require('./net.js');\nconst { deepEqual } = require('../../common/util.js');\n\nconst IDLE_TIME = 60000;\n\nlet subs;\n\nlet friend_list = null;\n\n// May be `null` if not logged in or still loading\nexport function friendsGet() {\n  return friend_list;\n}\n\nexport function isFriend(user_id) {\n  return friend_list && friend_list[user_id] && friend_list[user_id] !== FRIEND_REMOVED;\n}\n\nexport function friendAdd(user_id, cb) {\n  net.subs.getMyUserChannel().cmdParse(`friend_add ${user_id}`, function (err, resp) {\n    if (!err) {\n      friend_list[user_id] = FRIEND_ADDED;\n    }\n    cb(err, resp);\n  });\n}\n\nexport function friendRemove(user_id, cb) {\n  net.subs.getMyUserChannel().cmdParse(`friend_remove ${user_id}`, function (err, resp) {\n    if (!err) {\n      friend_list[user_id] = FRIEND_REMOVED;\n    }\n    cb(err, resp);\n  });\n}\n\n// Pass-through commands\ncmd_parse.register({\n  cmd: 'friend_add',\n  help: 'Add a friend',\n  func: friendAdd,\n});\ncmd_parse.register({\n  cmd: 'friend_remove',\n  help: 'Remove a friend',\n  func: friendRemove,\n});\ncmd_parse.register({\n  cmd: 'friend_list',\n  help: 'List all friends',\n  func: function (str, resp_func) {\n    if (!friend_list) {\n      return void resp_func('Friend list not loaded');\n    }\n    resp_func(null, Object.keys(friend_list).filter((a) => friend_list[a] !== FRIEND_REMOVED).join(',') ||\n      'You have no friends');\n  },\n});\n\nlet invisible = 0;\ncmd_parse.registerValue('invisible', {\n  type: cmd_parse.TYPE_INT,\n  help: 'Hide rich presence information from other users',\n  label: 'Invisible',\n  range: [0,1],\n  get: () => invisible,\n  set: (v) => (invisible = v),\n});\n\nlet afk = 0;\ncmd_parse.registerValue('afk', {\n  type: cmd_parse.TYPE_INT,\n  help: 'Appear as idle to other users',\n  label: 'AFK',\n  range: [0,1],\n  get: () => afk,\n  set: (v) => (afk = v),\n});\n\nfunction onPresence(data) {\n  let user_channel = this; // eslint-disable-line no-invalid-this\n  user_channel.presence_data = data;\n}\n\nlet last_presence = null;\nlet send_queued;\nfunction richPresenceSend() {\n  if (!net.subs.loggedIn() || !last_presence || send_queued) {\n    return;\n  }\n  send_queued = true;\n  subs.onceConnected(() => {\n    send_queued = false;\n    if (!net.subs.loggedIn() || !last_presence) {\n      return;\n    }\n    let pak = net.subs.getMyUserChannel().pak('presence_set');\n    pak.writeInt(last_presence.active);\n    pak.writeAnsiString(last_presence.state);\n    pak.writeJSON(last_presence.payload);\n    pak.send();\n  });\n}\nexport function richPresenceSet(active, state, payload) {\n  active = !active || afk || (Date.now() - input.inputLastTime() > IDLE_TIME) ? PRESENCE_INACTIVE : PRESENCE_ACTIVE;\n  if (invisible) {\n    active = PRESENCE_OFFLINE;\n  }\n  payload = payload || null;\n  if (!last_presence ||\n    active !== last_presence.active || state !== last_presence.state ||\n    !deepEqual(last_presence.payload, payload)\n  ) {\n    last_presence = {\n      active,\n      state,\n      payload,\n    };\n    richPresenceSend();\n  }\n}\n\nexport function friendsInit() {\n  subs = net.subs;\n  subs.on('login', function () {\n    let user_channel = subs.getMyUserChannel();\n    let user_id = subs.logged_in_username;\n    richPresenceSend();\n    friend_list = null;\n    user_channel.pak('friend_list').send((err, pak) => {\n      if (err || user_id !== subs.logged_in_username) {\n        // disconnected, etc\n        if (pak) {\n          pak.pool();\n        }\n        return;\n      }\n      friend_list = {};\n      let friend_id;\n      while ((friend_id = pak.readAnsiString())) {\n        friend_list[friend_id] = pak.readInt();\n      }\n\n      // Sync friend list with Facebook friends\n      if (subs.login_credentials && subs.login_credentials.fb) {\n        fbGetFriends((err, fb_friends) => {\n          if (err || !fb_friends || user_id !== subs.logged_in_username) {\n            return;\n          }\n          let to_add = [];\n          let to_remove = [];\n          let found = {};\n          for (let ii = 0; ii < fb_friends.length; ++ii) {\n            let id = fb_friends[ii];\n            found[id] = true;\n            if (!friend_list[id]) {\n              friend_list[id] = FRIEND_ADDED_AUTO;\n              to_add.push(id);\n            }\n          }\n          for (let id in friend_list) {\n            if (!found[id] && friend_list[id] === FRIEND_ADDED_AUTO) {\n              friend_list[id] = FRIEND_REMOVED;\n              to_remove.push(id);\n            }\n          }\n          if (!to_add.length && !to_remove.length) {\n            return;\n          }\n          let pak = user_channel.pak('friend_auto_update');\n          for (let ii = 0; ii < to_add.length; ++ii) {\n            pak.writeAnsiString(to_add[ii]);\n          }\n          pak.writeAnsiString('');\n          for (let ii = 0; ii < to_remove.length; ++ii) {\n            pak.writeAnsiString(to_remove[ii]);\n          }\n          pak.writeAnsiString('');\n          pak.send();\n        });\n      }\n    });\n  });\n  subs.on('logout', function () {\n    friend_list = null;\n  });\n\n  subs.onChannelMsg('user', 'presence', onPresence);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { MAX_SEMANTIC } = require('./shaders.js');\nconst { ceil, max, min } = Math;\n\nexport const TRIANGLES = 4;\nexport const TRIANGLE_FAN = 6;\nexport const QUADS = 7;\n\nconst gl_byte_size = {\n  0x1400: 1, // GL_BYTE\n  0x1401: 1, // GL_UNSIGNED_BYTE\n  0x1402: 2, // GL_SHORT\n  0x1403: 2, // GL_UNSIGNED_SHORT\n  0x1406: 4, // GL_FLOAT\n};\n\n// let unit_buf;\n// let unit_buf_len = 0;\n\nlet bound_geom;\n\nlet bound_array_buf = null;\nlet bound_index_buf = null;\n\nlet quad_index_buf;\nlet quad_index_buf_len = 0;\n\nfunction deleteBuffer(handle) {\n  if (!handle) {\n    return;\n  }\n  if (bound_array_buf === handle) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    bound_array_buf = null;\n  }\n  if (bound_index_buf === handle) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    bound_index_buf = null;\n  }\n  gl.deleteBuffer(handle);\n}\n\nlet attrib_enabled = 0;\nfunction enableVertexAttribArray(bits) {\n  if (bits === attrib_enabled) {\n    return;\n  }\n  let disable_mask = (attrib_enabled & (~bits));\n  let enable_mask = ((~attrib_enabled) & bits);\n  attrib_enabled = bits;\n\n  if (disable_mask) {\n    let n = 0;\n    do {\n      if (disable_mask & 1) {\n        gl.disableVertexAttribArray(n);\n      }\n      n++;\n      disable_mask >>= 1;\n    } while (disable_mask);\n  }\n\n  if (enable_mask) {\n    let n = 0;\n    do {\n      if (enable_mask & 1) {\n        gl.enableVertexAttribArray(n);\n      }\n      n++;\n      enable_mask >>= 1;\n    } while (enable_mask);\n  }\n}\n\n// function bindUnitBuf(arr_idx, len) {\n//   if (len > unit_buf_len) {\n//     deleteBuffer(unit_buf);\n//     unit_buf = gl.createBuffer();\n//     unit_buf_len = max(ceil(unit_buf_len * 1.5), len);\n//     gl.bindBuffer(gl.ARRAY_BUFFER, unit_buf);\n//     bound_array_buf = unit_buf;\n//     let arr = new Uint8Array(unit_buf_len * 4);\n//     for (let ii = 0; ii < unit_buf_len * 4; ++ii) {\n//       arr[ii] = 255;\n//     }\n//     gl.bufferData(gl.ARRAY_BUFFER, arr, gl.STATIC_DRAW);\n//   } else {\n//     if (bound_array_buf !== unit_buf) {\n//       gl.bindBuffer(gl.ARRAY_BUFFER, unit_buf);\n//       bound_array_buf = unit_buf;\n//     }\n//   }\n//   gl.vertexAttribPointer(arr_idx, 4, gl.UNSIGNED_BYTE, true, 0, 0);\n// }\n\n// Verts should be ordered counter-clockwise from the upper left\nfunction getQuadIndexBuf(quad_count) {\n  assert(quad_count <= 16384);\n  // If not, need to split into multiple vertex and index buffers (fairly easy),\n  //   or use the OES_element_index_uint extension (trivial, but probably slower, maybe not supported on mobile?)\n  if (quad_count * 6 > quad_index_buf_len) {\n    if (!quad_index_buf) {\n      quad_index_buf = gl.createBuffer();\n    } else {\n      // freeing old one\n      engine.perf_state.gpu_mem.geom -= quad_index_buf_len * 2;\n    }\n    quad_index_buf_len = max(ceil(quad_index_buf_len * 1.5), quad_count * 6);\n    if (bound_index_buf !== quad_index_buf) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, quad_index_buf);\n      bound_index_buf = quad_index_buf;\n    }\n    let arr = new Uint16Array(quad_index_buf_len);\n    let vidx = 0;\n    for (let ii = 0; ii < quad_index_buf_len;) {\n      arr[ii++] = vidx + 1;\n      arr[ii++] = vidx + 3;\n      arr[ii++] = vidx++; // 0\n      arr[ii++] = vidx++; // 1\n      arr[ii++] = vidx++; // 2\n      arr[ii++] = vidx++; // 3\n    }\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arr, gl.STATIC_DRAW);\n    engine.perf_state.gpu_mem.geom += quad_index_buf_len * 2;\n  }\n  return quad_index_buf;\n}\n\nexport function createIndices(idxs) {\n  let ret = {\n    ibo: gl.createBuffer(),\n    ibo_size: idxs.length,\n  };\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ret.ibo);\n  bound_index_buf = ret.ibo;\n  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);\n  engine.perf_state.gpu_mem.geom += idxs.length * 2;\n  return ret;\n}\n\nfunction formatInfo(format) {\n  if (!format.info) {\n    let stride = 0;\n    let elem_count = 0;\n    let used_attribs = 0;\n    let common_byte_size = 0;\n    for (let ii = 0; ii < format.length; ++ii) {\n      let fmt = format[ii];\n      let sem = fmt[0];\n      let gltype = fmt[1];\n      let count = fmt[2];\n      used_attribs |= (1 << sem);\n      let byte_size = gl_byte_size[gltype];\n      assert(byte_size);\n      assert(!common_byte_size || byte_size === common_byte_size);\n      common_byte_size = byte_size;\n      fmt[3] = fmt[3] || false;\n      fmt[4] = byte_size;\n      stride += count * byte_size;\n      elem_count += count;\n    }\n    format.info = {\n      stride, elem_count, used_attribs, common_byte_size\n    };\n  }\n  return format.info;\n}\n\n// format is [shaders.semantic.foo, gl.FLOAT/UNSIGNED_BYTE/etc, count, normalized]\nfunction Geom(format, verts, idxs, mode) {\n  this.mode = mode || TRIANGLES;\n  this.format = format;\n  let info = this.format_info = formatInfo(format);\n  this.stride = info.stride;\n  this.used_attribs = info.used_attribs;\n\n  this.vert_count = verts.length / this.format_info.elem_count;\n  this.vert_gpu_mem = verts.length * this.format_info.common_byte_size;\n  if (verts.length) {\n    this.vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n    gl.bufferData(gl.ARRAY_BUFFER, verts, gl.STATIC_DRAW);\n    engine.perf_state.gpu_mem.geom += this.vert_gpu_mem;\n  }\n  this.orig_mode = mode;\n  if (idxs) {\n    if (idxs.ibo) {\n      this.ibo = idxs.ibo;\n      this.ibo_owned = false;\n      this.ibo_size = idxs.ibo_size;\n    } else {\n      this.ibo = gl.createBuffer();\n      this.ibo_owned = true;\n      this.ibo_size = idxs.length;\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ibo);\n      bound_index_buf = this.ibo;\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);\n      engine.perf_state.gpu_mem.geom += idxs.length * 2;\n    }\n  } else if (mode === QUADS) {\n    assert.equal(this.vert_count % 4, 0);\n    let quad_count = this.vert_count / 4;\n    // PERFTODO: Use GL_QUADS_OES extension\n    this.ibo = getQuadIndexBuf(quad_count);\n    this.ibo_owned = false;\n    this.ibo_size = quad_count * 6;\n    this.mode = TRIANGLES;\n  } else if (mode === TRIANGLE_FAN) {\n    this.mode = TRIANGLE_FAN;\n  } else {\n    this.ibo = null;\n    this.ibo_owned = false;\n  }\n}\n\nGeom.prototype.updateSub = function (offset, verts) {\n  if (bound_array_buf !== this.vbo) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n  }\n  gl.bufferSubData(gl.ARRAY_BUFFER, offset, verts);\n};\n\nGeom.prototype.update = function (verts, num_verts) {\n  assert.equal(this.ibo_owned, false);\n  if (num_verts > this.vert_count) {\n    if (bound_geom === this) {\n      bound_geom = null;\n    }\n    engine.perf_state.gpu_mem.geom -= this.vert_gpu_mem;\n    deleteBuffer(this.vbo);\n    // Note: matching size, ignoring num_verts\n    this.vert_count = verts.length / this.format_info.elem_count;\n    this.vert_gpu_mem = verts.length * this.format_info.common_byte_size;\n    this.vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n    gl.bufferData(gl.ARRAY_BUFFER, verts, gl.DYNAMIC_DRAW);\n    engine.perf_state.gpu_mem.geom += this.vert_gpu_mem;\n  } else {\n    // Fits\n    if (bound_array_buf !== this.vbo) {\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n      bound_array_buf = this.vbo;\n    }\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, verts.subarray(0, num_verts * this.format_info.elem_count));\n    // gl.bufferData(gl.ARRAY_BUFFER, verts, gl.DYNAMIC_DRAW);\n  }\n  if (this.orig_mode === QUADS) {\n    let quad_count = num_verts / 4;\n    this.ibo = getQuadIndexBuf(quad_count);\n    this.ibo_size = quad_count * 6;\n  }\n};\n\nGeom.prototype.dispose = function () {\n  if (this.ibo_owned) {\n    deleteBuffer(this.ibo);\n  }\n  this.ibo = null;\n  deleteBuffer(this.vbo);\n  this.vbo = null;\n  engine.perf_state.gpu_mem.geom -= this.vert_gpu_mem;\n  this.vert_gpu_mem = 0;\n};\n\nlet bound_attribs = (function () {\n  let r = [];\n  for (let ii = 0; ii < 16; ++ii) {\n    r.push({\n      vbo: null,\n      offset: 0,\n    });\n  }\n  return r;\n}());\n\nexport function geomResetState() {\n  // Resetting this avoids a state management bug on Chrome 71-73 on Redmi 6A -\n  //   it seems the browser was leaving something bound at a low level, perhaps\n  //   from generating mipmaps or something?\n  bound_geom = null;\n  bound_index_buf = null;\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n  bound_array_buf = null;\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  for (let ii = 0; ii < MAX_SEMANTIC; ++ii) {\n    gl.disableVertexAttribArray(ii);\n  }\n  attrib_enabled = 0;\n  for (let ii = 0; ii < bound_attribs.length; ++ii) {\n    bound_attribs[ii].vbo = null;\n  }\n}\n\nGeom.prototype.bind = function () {\n  if (bound_geom !== this) {\n    bound_geom = this;\n    let vbo = this.vbo;\n\n    let offset = 0;\n    for (let ii = 0; ii < this.format.length; ++ii) {\n      let fmt = this.format[ii];\n      let count = fmt[2];\n      let byte_size = fmt[4];\n      let sem = fmt[0];\n      if (bound_attribs[sem].vbo === vbo) { //  && bound_attribs[sem].offset = offset\n        // already bound\n      } else {\n        if (bound_array_buf !== vbo) {\n          gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n          bound_array_buf = vbo;\n        }\n        let gltype = fmt[1];\n        let normalized = fmt[3];\n        gl.vertexAttribPointer(sem, count, gltype, normalized, this.stride, offset);\n        bound_attribs[sem].vbo = bound_array_buf;\n        // bound_attribs[sem].offset = offset;\n      }\n      offset += count * byte_size;\n    }\n    // if (!used[1]) { // COLOR\n    //   used_attribs |= 1 << shader.semantics.COLOR;\n    //   bindUnitBuf(1, this.vert_count);\n    // }\n    enableVertexAttribArray(this.used_attribs);\n  }\n\n  if (this.ibo && bound_index_buf !== this.ibo) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ibo);\n    bound_index_buf = this.ibo;\n  }\n};\nGeom.prototype.draw = function () {\n  this.bind();\n  if (this.ibo) {\n    gl.drawElements(this.mode, this.ibo_size, gl.UNSIGNED_SHORT, 0);\n  } else {\n    gl.drawArrays(this.mode, 0, this.vert_count);\n  }\n};\n\nfunction GeomMultiQuads(format, verts) {\n  let format_info = formatInfo(format);\n  let ec = format_info.elem_count;\n  let vert_count = verts.length / ec;\n  this.geoms = [];\n  for (let idx = 0; idx < vert_count; idx += 65536) {\n    let num_sub_verts = min(vert_count - idx, 65536);\n    let sub_data = new Uint8Array(verts.buffer, idx * ec, num_sub_verts * ec);\n    this.geoms.push(new Geom(format, sub_data, null, QUADS));\n  }\n}\nGeomMultiQuads.prototype.draw = function () {\n  for (let ii = 0; ii < this.geoms.length; ++ii) {\n    this.geoms[ii].draw();\n  }\n};\nGeomMultiQuads.prototype.dispose = function () {\n  for (let ii = 0; ii < this.geoms.length; ++ii) {\n    this.geoms[ii].dispose();\n  }\n  this.geoms = null;\n};\n\nexport function create(format, verts, idxs, mode) {\n  return new Geom(format, verts, idxs, mode);\n}\n\nexport function createQuads(format, verts) {\n  let format_info = formatInfo(format);\n  assert(verts instanceof Uint8Array); // only one handled by GeomMultiQuads for now\n  let vert_count = verts.length / format_info.elem_count;\n  if (vert_count > 65536) {\n    return new GeomMultiQuads(format, verts);\n  }\n  return new Geom(format, verts, null, QUADS);\n}\n\nexport function startup() {\n  // Nothing for now.\n}\n","/* eslint no-bitwise:off */\n// From https://stackoverflow.com/questions/8936984/uint8array-to-string-in-javascript\n\nlet charCache = new Array(128);  // Preallocate the cache for the common single byte chars\nlet charFromCodePt = String.fromCodePoint || String.fromCharCode;\nlet result = [];\nexport function decode(array) {\n  let codePt;\n  let byte1;\n  let buffLen = array.length;\n\n  result.length = 0;\n\n  for (let i = 0; i < buffLen;) {\n    byte1 = array[i++];\n\n    if (byte1 <= 0x7F) {\n      codePt = byte1;\n    } else if (byte1 <= 0xDF) {\n      codePt = ((byte1 & 0x1F) << 6) | (array[i++] & 0x3F);\n    } else if (byte1 <= 0xEF) {\n      codePt = ((byte1 & 0x0F) << 12) | ((array[i++] & 0x3F) << 6) | (array[i++] & 0x3F);\n    } else if (String.fromCodePoint) {\n      codePt = ((byte1 & 0x07) << 18) | ((array[i++] & 0x3F) << 12) | ((array[i++] & 0x3F) << 6) | (array[i++] & 0x3F);\n    } else {\n      codePt = 63;    // Cannot convert four byte code points, so use \"?\" instead\n      i += 3;\n    }\n\n    result.push(charCache[codePt] || (charCache[codePt] = charFromCodePt(codePt)));\n  }\n\n  return result.join('');\n}\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nconst TYPES = ['SCALAR', 'VEC2', 'VEC3', 'VEC4'];\n\nexport function getAccessorTypeFromSize(size) {\n  const type = TYPES[size - 1];\n  return type || TYPES[0];\n}\n\n// glTF ACCESSOR CONSTANTS\n\nexport const ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE = {\n  5120: 1,\n  5121: 1,\n  5122: 2,\n  5123: 2,\n  5125: 4,\n  5126: 4\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n/* eslint-env browser */\n\nconst assert = require('assert');\n\n/* eslint-disable camelcase, max-statements */\nconst { unpackGLBBuffers } = require('./unpack-glb-buffers.js');\nconst { unpackBinaryJson } = require('./unpack-binary-json.js');\n\nfunction padTo4Bytes(byteLength) {\n  return (byteLength + 3) & ~3; //eslint-disable-line no-bitwise\n}\n\nconst decode_utf8 = require('./decode-utf8.js');\n\nconst {\n  ATTRIBUTE_TYPE_TO_COMPONENTS,\n  ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE,\n  ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY\n} = require('./gltf-type-utils.js');\n\nconst MAGIC_glTF = 0x676c5446; // glTF in Big-Endian ASCII\n\nconst GLB_FILE_HEADER_SIZE = 12;\nconst GLB_CHUNK_HEADER_SIZE = 8;\n\nconst GLB_CHUNK_TYPE_JSON = 0x4e4f534a;\nconst GLB_CHUNK_TYPE_BIN = 0x004e4942;\n\nconst LE = true; // Binary GLTF is little endian.\nconst BE = false; // Magic needs to be written as BE\n\n// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#glb-file-format-specification\nfunction GLBParser() {\n  // Result\n  this.binaryByteOffset = null;\n  this.packedJson = null;\n  this.json = null;\n}\n\nfunction parseBinary(self) {\n  // GLB Header\n  const dataView = new DataView(self.glbArrayBuffer);\n  const magic1 = dataView.getUint32(0, BE); // Magic number (the ASCII string 'glTF').\n  const version = dataView.getUint32(4, LE); // Version 2 of binary glTF container format\n  const fileLength = dataView.getUint32(8, LE); // Total byte length of generated file\n\n  let valid = magic1 === MAGIC_glTF;\n  if (!valid) {\n    console.warn('Invalid GLB magic string');\n  }\n\n  assert(version === 2, `Invalid GLB version ${version}. Only .glb v2 supported`);\n  assert(fileLength > 20);\n\n  // Write the JSON chunk\n  const jsonChunkLength = dataView.getUint32(12, LE); // Byte length of json chunk\n  const jsonChunkFormat = dataView.getUint32(16, LE); // Chunk format as uint32\n\n  valid = jsonChunkFormat === GLB_CHUNK_TYPE_JSON || jsonChunkFormat === 0; // Back compat\n  assert(valid, `JSON chunk format ${jsonChunkFormat}`);\n\n  // Create a \"view\" of the binary encoded JSON data\n  const jsonChunkOffset = GLB_FILE_HEADER_SIZE + GLB_CHUNK_HEADER_SIZE; // First headers: 20 bytes\n  const jsonChunk = new Uint8Array(self.glbArrayBuffer, jsonChunkOffset, jsonChunkLength);\n\n  // Decode the JSON binary array into clear text\n  const jsonText = decode_utf8.decode(jsonChunk);\n\n  // Parse the JSON text into a JavaScript data structure\n  self.json = JSON.parse(jsonText);\n\n  // TODO - BIN chunk can be optional\n  const binaryChunkStart = jsonChunkOffset + padTo4Bytes(jsonChunkLength);\n  self.binaryByteOffset = binaryChunkStart + GLB_CHUNK_HEADER_SIZE;\n\n  const binChunkFormat = dataView.getUint32(binaryChunkStart + 4, LE); // Chunk format as uint32\n  valid = binChunkFormat === GLB_CHUNK_TYPE_BIN || binChunkFormat === 1; // Back compat\n  assert(valid, `BIN chunk format ${binChunkFormat}`);\n\n  return {\n    arrayBuffer: self.glbArrayBuffer,\n    binaryByteOffset: self.binaryByteOffset,\n    json: self.json\n  };\n}\n\nfunction parseInternal(self) {\n  const result = parseBinary(self);\n  self.packedJson = result.json;\n  self.unpackedBuffers = unpackGLBBuffers(self.glbArrayBuffer, self.json, self.binaryByteOffset);\n  self.json = unpackBinaryJson(self.json, self.unpackedBuffers);\n}\n\nGLBParser.prototype.parseSync = function (arrayBuffer) {\n  // Input\n  this.glbArrayBuffer = arrayBuffer;\n\n  // Only parse once\n  if (this.json === null && this.binaryByteOffset === null) {\n    parseInternal(this);\n  }\n  return this;\n};\n\n// Return the gltf JSON and the original arrayBuffer\nGLBParser.prototype.parse = function (arrayBuffer) {\n  return this.parseSync(arrayBuffer);\n};\n\n// Returns application JSON data stored in `key`\nGLBParser.prototype.getApplicationData = function (key) {\n  return this.json[key];\n};\n\n// Returns JSON envelope\nGLBParser.prototype.getJSON = function () {\n  return this.json;\n};\n\n// Return binary chunk\nGLBParser.prototype.getArrayBuffer = function () {\n  return this.glbArrayBuffer;\n};\n\n// Return index into binary chunk\nGLBParser.prototype.getBinaryByteOffset = function () {\n  return this.binaryByteOffset;\n};\n\n// Unpacks a bufferview into a new Uint8Array that is a view into the binary chunk\nGLBParser.prototype.getBufferView = function (glTFBufferView) {\n  const byteOffset = (glTFBufferView.byteOffset || 0) + this.binaryByteOffset;\n  return new Uint8Array(this.glbArrayBuffer, byteOffset, glTFBufferView.byteLength);\n};\n\n// Unpacks a glTF accessor into a new typed array that is a view into the binary chunk\nGLBParser.prototype.getBuffer = function (glTFAccessor) {\n  // Decode the glTF accessor format\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[glTFAccessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[glTFAccessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[glTFAccessor.componentType];\n  const length = glTFAccessor.count * components;\n  const byteLength = glTFAccessor.count * components * bytesPerComponent;\n\n  // Get the boundaries of the binary sub-chunk for this bufferView\n  const glTFBufferView = this.json.bufferViews[glTFAccessor.bufferView];\n  assert(byteLength >= 0 && glTFAccessor.byteOffset + byteLength <= glTFBufferView.byteLength);\n\n  const byteOffset = glTFBufferView.byteOffset + this.binaryByteOffset + glTFAccessor.byteOffset;\n  return new ArrayType(this.glbArrayBuffer, byteOffset, length);\n};\n\n// Unpacks an image into an HTML image\nGLBParser.prototype.getImageData = function (glTFImage) {\n  return {\n    typedArray: this.getBufferView(glTFImage.bufferView),\n    mimeType: glTFImage.mimeType || 'image/jpeg'\n  };\n};\n\nGLBParser.prototype.getImage = function (glTFImage) {\n  const arrayBufferView = this.getBufferView(glTFImage.bufferView);\n  const mimeType = glTFImage.mimeType || 'image/jpeg';\n  const blob = new Blob([arrayBufferView], { type: mimeType });\n  const urlCreator = window.URL || window.webkitURL;\n  const imageUrl = urlCreator.createObjectURL(blob);\n  const img = new Image();\n  img.src = imageUrl;\n  return img;\n};\n\n// GLBParser.prototype.getImageAsync = function (glTFImage) {\n//   return new Promise(resolve => {\n//     const arrayBufferView = this.getBufferView(glTFImage.bufferView);\n//     const mimeType = glTFImage.mimeType || 'image/jpeg';\n//     const blob = new Blob([arrayBufferView], {type: mimeType});\n//     const urlCreator = window.URL || window.webkitURL;\n//     const imageUrl = urlCreator.createObjectURL(blob);\n//     const img = new Image();\n//     img.onload = () => resolve(img);\n//     img.src = imageUrl;\n//   });\n// };\n\nmodule.exports = GLBParser;\nGLBParser.parse = function (data) {\n  let parser = new GLBParser();\n  return parser.parse(data);\n};\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nfunction parseJSONPointer(value) {\n  if (typeof value === 'string') {\n    // Remove escape character\n    if (value.indexOf('##/') === 0) {\n      return value.slice(1);\n    }\n\n    let matches = value.match(/#\\/([a-z]+)\\/([0-9]+)/);\n    if (matches) {\n      const index = parseInt(matches[2], 10);\n      return [matches[1], index];\n    }\n\n    // Legacy: `$$$i`\n    matches = value.match(/\\$\\$\\$([0-9]+)/);\n    if (matches) {\n      const index = parseInt(matches[1], 10);\n      return ['accessors', index];\n    }\n  }\n\n  return null;\n}\n\nfunction decodeJSONPointer(object, buffers) {\n  const pointer = parseJSONPointer(object);\n  if (pointer) {\n    const field = pointer[0];\n    const index = pointer[1];\n    const buffer = buffers[field] && buffers[field][index];\n    if (buffer) {\n      return buffer;\n    }\n    console.error(`Invalid JSON pointer ${object}: #/${field}/${index}`);\n  }\n  return null;\n}\n\n// Recursively unpacks objects, replacing \"JSON pointers\" with typed arrays\nfunction unpackJsonArraysRecursive(json, topJson, buffers, options = {}) {\n  const object = json;\n\n  const buffer = decodeJSONPointer(object, buffers);\n  if (buffer) {\n    return buffer;\n  }\n\n  // Copy array\n  if (Array.isArray(object)) {\n    return object.map((element) => unpackJsonArraysRecursive(element, topJson, buffers, options));\n  }\n\n  // Copy object\n  if (object !== null && typeof object === 'object') {\n    const newObject = {};\n    for (const key in object) {\n      newObject[key] = unpackJsonArraysRecursive(object[key], topJson, buffers, options);\n    }\n    return newObject;\n  }\n\n  return object;\n}\n\nexport function unpackBinaryJson(json, buffers, options = {}) {\n  return unpackJsonArraysRecursive(json, json, buffers, options);\n}\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nconst assert = require('assert');\n\nconst {\n  ATTRIBUTE_TYPE_TO_COMPONENTS,\n  ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE,\n  ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY\n} = require('./gltf-type-utils.js');\n\n// Creates a new ArrayBuffer starting at the offset, containing all remaining bytes\n// TODO - should not be needed, see above\nfunction getArrayBufferAtOffset(arrayBuffer, byteOffset) {\n  const length = arrayBuffer.byteLength - byteOffset;\n  const binaryBuffer = new ArrayBuffer(length);\n  const sourceArray = new Uint8Array(arrayBuffer);\n  const binaryArray = new Uint8Array(binaryBuffer);\n  for (let i = 0; i < length; i++) {\n    binaryArray[i] = sourceArray[byteOffset + i];\n  }\n  return binaryBuffer;\n}\n\nfunction getArrayTypeAndLength(accessor, bufferView) {\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[accessor.componentType];\n  const length = accessor.count * components;\n  const byteLength = accessor.count * components * bytesPerComponent;\n  assert(byteLength >= 0 && byteLength <= bufferView.byteLength);\n  return { ArrayType, length, byteLength };\n}\n\nfunction unpackAccessors(arrayBuffer, bufferViews, json) {\n  // unpack accessors\n  const accessors = json.accessors || [];\n\n  const accessorBuffers = [];\n\n  for (let i = 0; i < accessors.length; ++i) {\n    const accessor = accessors[i];\n    assert(accessor);\n\n    const bufferView = bufferViews[accessor.bufferView];\n    // Draco encoded meshes don't have bufferView in accessor\n    if (bufferView) {\n      // Create a new typed array as a view into the combined buffer\n      const { ArrayType, length } = getArrayTypeAndLength(accessor, bufferView);\n      const array = new ArrayType(arrayBuffer, bufferView.byteOffset, length);\n      // Store the metadata on the array (e.g. needed to determine number of components per element)\n      array.accessor = accessor;\n      accessorBuffers.push(array);\n    }\n  }\n\n  return accessorBuffers;\n}\n\nfunction unpackImages(arrayBuffer, bufferViews, json) {\n  // unpack images\n  const images = json.images || [];\n\n  const imageBuffers = [];\n\n  for (let i = 0; i < images.length; ++i) {\n    const image = images[i];\n    assert(image);\n\n    if (image.bufferView === undefined) {\n      imageBuffers.push(null);\n      continue;\n    }\n\n    const bufferView = bufferViews[image.bufferView];\n    assert(bufferView);\n\n    // Create a new typed array as a view into the combined buffer\n    const array = new Uint8Array(arrayBuffer, bufferView.byteOffset, bufferView.byteLength);\n    // Store the metadata on the array (e.g. needed to determine number of components per element)\n    array.imate = image;\n    imageBuffers.push(array);\n  }\n\n  return imageBuffers;\n}\n\nexport function unpackGLBBuffers(arrayBuffer, json, binaryByteOffset) {\n  // TODO - really inefficient, should just use the offset into the original array buffer\n  if (binaryByteOffset) {\n    arrayBuffer = getArrayBufferAtOffset(arrayBuffer, binaryByteOffset);\n  }\n\n  const bufferViews = json.bufferViews || [];\n\n  for (let i = 0; i < bufferViews.length; ++i) {\n    const bufferView = bufferViews[i];\n    assert(bufferView.byteLength >= 0);\n  }\n\n  return {\n    // TODO: delete unpackAccessors and use buffer views only?\n    accessors: unpackAccessors(arrayBuffer, bufferViews, json),\n    images: unpackImages(arrayBuffer, bufferViews, json)\n  };\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// System for registering callbacks to run in event handlers on the next frame\n// Used to get around restrictions on APIs like pointer lock, fullscreen, or\n// screen orientation.\n\nconst assert = require('assert');\n\nlet cbs = {};\nexport function topOfFrame() {\n  cbs = {};\n}\n\nexport function on(type, code_or_pos, cb) {\n  let list = cbs[type] = cbs[type] || [];\n  if (typeof code_or_pos === 'number') {\n    list[code_or_pos] = cb;\n  } else {\n    list.push([code_or_pos, cb]);\n  }\n}\n\nexport function handle(type, event) {\n  let list = cbs[type];\n  if (!list) {\n    return;\n  }\n  switch (type) {\n    case 'keydown':\n    case 'keyup':\n      if (list[event.keyCode]) {\n        list[event.keyCode](type, event);\n      }\n      break;\n    case 'mouseup':\n    case 'mousedown': {\n      let x = event.pageX;\n      let y = event.pageY;\n      let button = event.button;\n      for (let ii = 0; ii < list.length; ++ii) {\n        let elem = list[ii];\n        let pos = elem[0];\n        if (x >= pos.x && x < pos.x + pos.w &&\n          y >= pos.y && y < pos.y + pos.h &&\n          (pos.button < 0 || pos.button === button)\n        ) {\n          elem[1](type, event);\n          break;\n        }\n      }\n    } break;\n    default:\n      assert(false);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* global navigator */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst in_event = require('./in_event.js');\nconst local_storage = require('./local_storage.js');\nconst { abs, max, min, sqrt } = Math;\nconst pointer_lock = require('./pointer_lock.js');\nconst { soundResume } = require('./sound.js');\nconst { vec2, v2add, v2copy, v2lengthSq, v2set, v2scale, v2sub } = require('./vmath.js');\n\nconst UP_EDGE = 0; // only for pads, which use === null as \"up\"\nconst UP = 0; // only for key/mouse\nconst DOWN = 1;\nconst DOWN_EDGE = 2; // only for pads\n\n// per-app overrideable options\nconst TOUCH_AS_MOUSE = true;\nlet map_analog_to_dpad = true;\n\nlet mouse_log = false;\n\nexport const ANY = -2;\nexport const POINTERLOCK = -1;\n\nexport let KEYS = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  RETURN: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  INS: 45,\n  DEL: 46,\n  NUMPAD_DIVIDE: 111,\n  EQUALS: 187,\n  MINUS: 189,\n  SLASH: 191,\n  TILDE: 192,\n};\n(function () {\n  for (let ii = 1; ii <= 12; ++ii) {\n    KEYS[`F${ii}`] = 111 + ii;\n  }\n  for (let ii = 48; ii <= 90; ++ii) { // 0-9;A-Z\n    KEYS[String.fromCharCode(ii)] = ii;\n  }\n}());\nif (typeof Proxy === 'function') {\n  // Catch referencing keys that are not in our map\n  KEYS = new Proxy(KEYS, {\n    get: function (target, prop) {\n      let ret = target[prop];\n      assert(ret);\n      return ret;\n    }\n  });\n}\nexport const PAD = {\n  A: 0,\n  SELECT: 0, // GLOV name\n  B: 1,\n  CANCEL: 1, // GLOV name\n  X: 2,\n  Y: 3,\n  LB: 4,\n  LEFT_BUMPER: 4,\n  RB: 5,\n  RIGHT_BUMPER: 5,\n  LT: 6,\n  LEFT_TRIGGER: 6,\n  RT: 7,\n  RIGHT_TRIGGER: 7,\n  BACK: 8,\n  START: 9,\n  LEFT_STICK: 10,\n  RIGHT_STICK: 11,\n  UP: 12,\n  DOWN: 13,\n  LEFT: 14,\n  RIGHT: 15,\n  ANALOG_UP: 20,\n  ANALOG_LEFT: 21,\n  ANALOG_DOWN: 22,\n  ANALOG_RIGHT: 23,\n};\n\nlet pad_to_touch;\n\nlet canvas;\nlet key_state_new = {};\nlet pad_states = []; // One map per gamepad to pad button states\nlet gamepad_data = []; // Other tracking data per gamepad\nlet mouse_pos = vec2(); // in DOM coordinates, not canvas or virtual\nlet last_mouse_pos = vec2();\nlet mouse_pos_is_touch = false;\nlet mouse_over_captured = false;\nlet mouse_down = [];\nlet wheel_events = [];\nlet movement_questionable_frames = 0;\nconst MOVEMENT_QUESTIONABLE_FRAMES = 2; // Need at least 2\n\nlet input_eaten_kb = false;\nlet input_eaten_mouse = false;\n\nlet touches = {}; // `m${button}` or touch_id -> TouchData\n\nexport let touch_mode = local_storage.getJSON('touch_mode', false);\nexport let pad_mode = !touch_mode && local_storage.getJSON('pad_mode', false);\n\ncmd_parse.registerValue('mouse_log', {\n  type: cmd_parse.TYPE_INT,\n  range: [0, 1],\n  get: () => mouse_log,\n  set: (v) => (mouse_log = v),\n});\n\nfunction eventTimestamp(event) {\n  if (event && event.timeStamp) {\n    // assert((event.timeStamp < 1e12) === (engine.hrtime < 1e12));\n    // Must both be high res times, or both not!\n    if ((event.timeStamp < 1e12) !== (engine.hrtime < 1e12)) {\n      return engine.hrtime;\n    }\n    return event.timeStamp;\n  }\n  return engine.hrtime;\n}\n\nfunction TouchData(pos, touch, button, event) {\n  this.delta = vec2();\n  this.total = 0;\n  this.cur_pos = pos.slice(0);\n  this.start_pos = pos.slice(0);\n  this.touch = touch;\n  this.button = button;\n  this.start_time = Date.now();\n  this.dispatched = false;\n  this.dispatched_drag = false;\n  this.dispatched_drag_over = false;\n  this.up_edge = 0;\n  this.down_edge = 0;\n  this.state = DOWN;\n  this.down_time = 0;\n  this.origin_time = eventTimestamp(event);\n}\nTouchData.prototype.down = function (event, is_edge) {\n  if (is_edge) {\n    this.down_edge++;\n  }\n  this.state = DOWN;\n  this.origin_time = eventTimestamp(event);\n};\n\nconst MIN_EVENT_TIME_DELTA = 0.01; // fractions of a millisecond\nfunction timeDelta(event, origin_time) {\n  let et = eventTimestamp(event);\n  // timestamps on events are often back in time relative to the last tick time\n  return max(et - origin_time, MIN_EVENT_TIME_DELTA);\n}\n\nfunction KeyData() {\n  this.down_edge = 0;\n  // this.down_start = 0;\n  this.origin_time = 0;\n  this.down_time = 0;\n  this.up_edge = 0;\n  this.state = UP;\n}\nKeyData.prototype.keyUp = function (event) {\n  ++this.up_edge;\n  this.down_time += timeDelta(event, this.origin_time);\n  this.state = UP;\n};\n\nfunction setMouseToMid() {\n  v2set(mouse_pos, engine.width*0.5/camera2d.domToCanvasRatio(), engine.height*0.5/camera2d.domToCanvasRatio());\n}\n\nexport function pointerLocked() {\n  return pointer_lock.isLocked();\n}\nlet pointerlock_touch_id = `m${POINTERLOCK}`;\n// only works reliably when called from an event handler\nexport function pointerLockEnter(when) {\n  pointer_lock.enter(when);\n}\nfunction onPointerLockEnter() {\n  if (touch_mode) {\n    return;\n  }\n  let touch_data = touches[pointerlock_touch_id];\n  setMouseToMid();\n  if (touch_data) {\n    v2copy(touch_data.start_pos, mouse_pos);\n    touch_data.state = DOWN;\n    touch_data.origin_time = engine.hrtime;\n  } else {\n    touch_data = touches[pointerlock_touch_id] = new TouchData(mouse_pos, false, POINTERLOCK, null);\n  }\n  movement_questionable_frames = MOVEMENT_QUESTIONABLE_FRAMES;\n}\nexport function pointerLockExit() {\n  let touch_data = touches[pointerlock_touch_id];\n  if (touch_data) {\n    v2copy(touch_data.cur_pos, mouse_pos);\n    // no UP_EDGE for this\n    touch_data.state = UP;\n  }\n  pointer_lock.exit();\n  movement_questionable_frames = MOVEMENT_QUESTIONABLE_FRAMES;\n}\n\nlet last_event;\nconst skip = { isTrusted: 1, sourceCapabilities: 1, path: 1, currentTarget: 1, view: 1 };\nfunction eventlog(event) {\n  if (event === last_event) {\n    return;\n  }\n  last_event = event;\n  let pairs = [];\n  for (let k in event) {\n    let v = event[k];\n    if (!v || typeof v === 'function' || k.toUpperCase() === k || skip[k]) {\n      continue;\n    }\n    pairs.push(`${k}:${v.id || v}`);\n  }\n  console.log(`${engine.frame_index} ${event.type} ${pointerLocked()?'ptrlck':'unlckd'} ${pairs.join(',')}`);\n}\n\nfunction letEventThrough(event) {\n  return event.target && (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' ||\n    event.target.tagName === 'LABEL' || String(event.target.className).indexOf('noglov') !== -1);\n}\n\nfunction ignored(event) {\n  // eventlog(event);\n  if (!letEventThrough(event)) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nlet ctrl_checked = false;\nlet unload_protected = false;\nfunction beforeUnload(e) {\n  if (unload_protected && ctrl_checked) {\n    // Exit pointer lock if the browser didn't do that automatically\n    pointerLockExit();\n    // Cancel the event\n    e.preventDefault();\n    // Chrome requires returnValue to be set\n    e.returnValue = 'Are you sure you want to quit?';\n  } else {\n    engine.releaseCanvas();\n  }\n}\nfunction protectUnload(enable) {\n  unload_protected = enable;\n}\n\nlet last_input_time = 0;\nexport function inputLastTime() {\n  return last_input_time;\n}\nfunction onUserInput() {\n  soundResume();\n  last_input_time = Date.now();\n}\n\nfunction onKeyUp(event) {\n  protectUnload(event.ctrlKey);\n  let code = event.keyCode;\n  if (!letEventThrough(event)) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  if (code === KEYS.ESC && pointerLocked()) {\n    pointerLockExit();\n  }\n  // Letting through to our code regardless of no_stop, because we handle things like ESC in INPUT elements\n\n  let ks = key_state_new[code];\n  if (ks && ks.state === DOWN) {\n    ks.keyUp(event);\n  }\n\n  in_event.handle('keyup', event);\n}\n\nfunction onKeyDown(event) {\n  protectUnload(event.ctrlKey);\n  let code = event.keyCode;\n  let no_stop = letEventThrough(event) ||\n    code >= KEYS.F5 && code <= KEYS.F12 || // Chrome debug hotkeys\n    code === KEYS.I && (event.altKey && event.metaKey || event.ctrlKey && event.shiftKey); // Safari, alternate Chrome\n  if (!no_stop) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  // console.log(`${event.code} ${event.keyCode}`);\n  onUserInput();\n\n  // Letting through to our code regardless of no_stop, because we handle things like ESC in INPUT elements\n  let ks = key_state_new[code];\n  if (!ks) {\n    ks = key_state_new[code] = new KeyData();\n  }\n  if (ks.state !== DOWN) { // not a repeat event\n    ++ks.down_edge;\n    ks.state = DOWN;\n    ks.origin_time = eventTimestamp(event);\n    // ks.down_start = ks.origin_time;\n\n    in_event.handle('keydown', event);\n  }\n}\n\nlet mouse_move_x = 0;\nexport function debugGetMouseMoveX() {\n  let ret = mouse_move_x;\n  mouse_move_x = 0;\n  return ret;\n}\n\nlet mouse_moved = false;\nlet temp_delta = vec2();\nlet last_abs_move = 0;\nlet last_abs_move_time = 0;\nfunction onMouseMove(event, no_stop) {\n  /// eventlog(event);\n  // Don't block mouse button 3, that's the Back button\n  if (!letEventThrough(event) && !no_stop && event.button !== 3) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (touch_mode) {\n      local_storage.setJSON('touch_mode', false);\n      touch_mode = false;\n    }\n    if (pad_mode) {\n      local_storage.setJSON('pad_mode', false);\n      pad_mode = false;\n    }\n  }\n  mouse_moved = true;\n  // offsetX/layerX return position relative to text-entry boxes, not good!\n  // clientX/clientY do not handle weird scrolling that happens on iOS, but\n  //   should not affect mouse events (but maybe on Safari desktop?)\n  mouse_pos[0] = event.pageX;\n  mouse_pos[1] = event.pageY;\n  // if (event.offsetX !== undefined) {\n  //   mouse_pos[0] = event.offsetX;\n  //   mouse_pos[1] = event.offsetY;\n  // } else {\n  //   mouse_pos[0] = event.layerX;\n  //   mouse_pos[1] = event.layerY;\n  // }\n  mouse_pos_is_touch = false;\n\n  mouse_move_x += (event.movementX || 0);\n\n  let any_movement = false;\n  if (pointerLocked()) {\n    setMouseToMid();\n    if (event.movementX || event.movementY) {\n      // Smooth out (ignore) large jumps in movement\n      // This is, I believe, just a bug with Chromium on Windows, as it repositions the hidden mouse cursor\n      let ts = event.timeStamp || Date.now();\n      let abs_move = abs(event.movementX) + abs(event.movementY);\n      if (abs_move > 200 && (abs_move > 3 * last_abs_move || ts - last_abs_move_time > 1000)) {\n        console.log(`Ignoring mousemove with sudden large delta: ${event.movementX},${event.movementY}`);\n      } else {\n        v2set(temp_delta, event.movementX || 0, event.movementY || 0);\n        any_movement = true;\n      }\n      last_abs_move = abs_move;\n      last_abs_move_time = ts;\n    }\n  } else {\n    v2sub(temp_delta, mouse_pos, last_mouse_pos);\n    if (temp_delta[0] || temp_delta[1]) {\n      any_movement = true;\n    }\n    v2copy(last_mouse_pos, mouse_pos);\n  }\n  if (any_movement && movement_questionable_frames && v2lengthSq(temp_delta) > 100*100) {\n    // giant movement right after entering or exiting pointer lock, ignore (Chrome bug)\n    // We get these unreasonable jumps in both movementXY and the other, presumably\n    // because pointerLocked() is slightly out of sync, though the large .movementX/Y\n    // is clearly erroneous.\n    any_movement = false;\n  }\n  if (any_movement) {\n    for (let button = POINTERLOCK; button < mouse_down.length; ++button) {\n      if (mouse_down[button] || button === POINTERLOCK && pointerLocked()) {\n        let touch_data = touches[`m${button}`];\n        if (touch_data) {\n          v2add(touch_data.delta, touch_data.delta, temp_delta);\n          touch_data.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n          v2copy(touch_data.cur_pos, mouse_pos);\n        }\n      }\n    }\n  }\n}\n\nfunction onMouseDown(event) {\n  if (mouse_log) {\n    eventlog(event);\n  }\n  onMouseMove(event); // update mouse_pos\n  onUserInput();\n  let no_click = letEventThrough(event);\n\n  let button = event.button;\n  mouse_down[button] = true;\n  let touch_id = `m${button}`;\n  if (touches[touch_id]) {\n    v2copy(touches[touch_id].start_pos, mouse_pos);\n  } else {\n    touches[touch_id] = new TouchData(mouse_pos, false, button, event);\n  }\n  touches[touch_id].down(event, !no_click);\n  if (!no_click) {\n    in_event.handle('mousedown', event);\n  }\n  //This solves input bug when game is running as iframe. E.g. Facebook Instant\n  if (window.focus) {\n    window.focus();\n  }\n}\n\nfunction onMouseUp(event) {\n  if (mouse_log) {\n    eventlog(event);\n  }\n  onMouseMove(event); // update mouse_pos\n  let no_click = letEventThrough(event);\n  let button = event.button;\n  if (mouse_down[button]) {\n    let touch_id = `m${button}`;\n    let touch_data = touches[touch_id];\n    if (touch_data) {\n      v2copy(touch_data.cur_pos, mouse_pos);\n      if (!no_click) {\n        touch_data.up_edge++;\n      }\n      touch_data.state = UP;\n      touch_data.down_time += timeDelta(event, touch_data.origin_time);\n    }\n    delete mouse_down[button];\n  }\n  if (!no_click) {\n    in_event.handle('mouseup', event);\n  }\n}\n\nfunction onWheel(event) {\n  onMouseMove(event, true);\n  let delta = -event.deltaY || event.wheelDelta || -event.detail;\n  wheel_events.push({\n    pos: [event.pageX, event.pageY],\n    delta: delta > 0 ? 1 : -1,\n    dispatched: false,\n  });\n}\n\nlet touch_pos = vec2();\nlet released_touch_id = 0;\nfunction onTouchChange(event) {\n  // eventlog(event);\n  // Using .pageX/Y here because on iOS when a text entry is selected, it scrolls\n  // our canvas offscreen.  Should maybe have the canvas resize and use clientX\n  // instead, but this works well enough.\n  onUserInput();\n  if (!touch_mode) {\n    local_storage.set('touch_mode', true);\n    touch_mode = true;\n  }\n  if (pad_mode) {\n    local_storage.set('pad_mode', false);\n    pad_mode = false;\n  }\n  if (event.cancelable !== false) {\n    event.preventDefault();\n  }\n  let ct = event.touches;\n  let seen = {};\n\n  let new_count = ct.length;\n  let old_count = new_count;\n  // Look for press and movement\n  for (let ii = 0; ii < new_count; ++ii) {\n    let touch = ct[ii];\n    let last_touch = touches[touch.identifier];\n    v2set(touch_pos, touch.pageX, touch.pageY);\n    if (!last_touch) {\n      last_touch = touches[touch.identifier] = new TouchData(touch_pos, true, 0, event);\n      last_touch.down(event, true);\n      --old_count;\n      in_event.handle('mousedown', touch);\n    } else {\n      v2sub(temp_delta, touch_pos, last_touch.cur_pos);\n      v2add(last_touch.delta, last_touch.delta, temp_delta);\n      last_touch.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n      v2copy(last_touch.cur_pos, touch_pos);\n    }\n\n    seen[touch.identifier] = true;\n    if (TOUCH_AS_MOUSE && new_count === 1) {\n      // Single touch, treat as mouse movement\n      v2copy(mouse_pos, touch_pos);\n      mouse_pos_is_touch = true;\n    }\n  }\n  // Look for release, if releasing exactly one final touch\n  let released_touch;\n  let released_ids = [];\n  for (let id in touches) {\n    if (!seen[id]) {\n      let touch = touches[id];\n      if (touch.touch && touch.state === DOWN) {\n        ++old_count;\n        released_touch = touch;\n        released_ids.push(id);\n        in_event.handle('mouseup', { pageX: touch.cur_pos[0], pageY: touch.cur_pos[1] });\n        touch.up_edge++;\n        touch.state = UP;\n        touch.down_time += timeDelta(event, touch.origin_time);\n        touch.release = true;\n      }\n    }\n  }\n  for (let ii = 0; ii < released_ids.length; ++ii) {\n    let id = released_ids[ii];\n    let touch = touches[id];\n    // get new id, not overlapping with touch.identifier values,\n    // so that if we get a new touch event before the next tick, we still see the release, etc\n    let new_id = `r${++released_touch_id}`;\n    delete touches[id];\n    touches[new_id] = touch;\n  }\n  if (TOUCH_AS_MOUSE) {\n    if (old_count === 1 && new_count === 0) {\n      delete mouse_down[0];\n      v2copy(mouse_pos, released_touch.cur_pos);\n      mouse_pos_is_touch = true;\n    } else if (new_count === 1) {\n      let touch = ct[0];\n      if (!old_count) {\n        mouse_down[0] = true;\n      }\n      v2set(mouse_pos, touch.pageX, touch.pageY);\n      mouse_pos_is_touch = true;\n    } else if (new_count > 1) {\n      // multiple touches, release mouse_down without emitting click\n      delete mouse_down[0];\n    }\n  }\n}\n\nfunction onBlurOrFocus(evt) {\n  protectUnload(false);\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === DOWN) {\n      ks.keyUp(evt);\n    }\n  }\n}\n\nlet ANALOG_MAP = {};\nfunction genAnalogMap() {\n  if (map_analog_to_dpad) {\n    ANALOG_MAP[PAD.LEFT] = PAD.ANALOG_LEFT;\n    ANALOG_MAP[PAD.RIGHT] = PAD.ANALOG_RIGHT;\n    ANALOG_MAP[PAD.UP] = PAD.ANALOG_UP;\n    ANALOG_MAP[PAD.DOWN] = PAD.ANALOG_DOWN;\n  }\n}\n\nlet passive_param = false;\nexport function handleTouches(elem) {\n  elem.addEventListener('touchstart', onTouchChange, passive_param);\n  elem.addEventListener('touchmove', onTouchChange, passive_param);\n  elem.addEventListener('touchend', onTouchChange, passive_param);\n  elem.addEventListener('touchcancel', onTouchChange, passive_param);\n}\n\nexport function startup(_canvas, params) {\n  canvas = _canvas;\n  pointer_lock.startup(canvas, onPointerLockEnter);\n  if (params.map_analog_to_dpad !== undefined) {\n    map_analog_to_dpad = params.map_analog_to_dpad;\n  }\n  pad_to_touch = params.pad_to_touch;\n  genAnalogMap();\n\n  try {\n    let opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive_param = { passive: false };\n        return false;\n      }\n    });\n    window.addEventListener('test', null, opts);\n    window.removeEventListener('test', null, opts);\n  } catch (e) {\n    passive_param = false;\n  }\n\n  window.addEventListener('keydown', onKeyDown, false);\n  window.addEventListener('keyup', onKeyUp, false);\n\n  window.addEventListener('click', ignored, false);\n  window.addEventListener('contextmenu', ignored, false);\n  window.addEventListener('mousemove', onMouseMove, false);\n  window.addEventListener('mousedown', onMouseDown, false);\n  window.addEventListener('mouseup', onMouseUp, false);\n  if (window.WheelEvent) {\n    window.addEventListener('wheel', onWheel, passive_param);\n  } else {\n    window.addEventListener('DOMMouseScroll', onWheel, false);\n    window.addEventListener('mousewheel', onWheel, false);\n  }\n\n  window.addEventListener('blur', onBlurOrFocus, false);\n  window.addEventListener('focus', onBlurOrFocus, false);\n\n  handleTouches(canvas);\n\n  // For iOS, this is needed in test_fullscreen, but not here, for some reason\n  //window.addEventListener('gesturestart', ignored, false);\n\n  window.addEventListener('beforeunload', beforeUnload, false);\n}\n\n\nconst DEADZONE = 0.26;\nconst DEADZONE_SQ = DEADZONE * DEADZONE;\nconst NUM_STICKS = 2;\nconst PAD_THRESHOLD = 0.25; // for turning analog motion into digital events\n\nfunction getGamepadData(idx) {\n  let gpd = gamepad_data[idx];\n  if (!gpd) {\n    gpd = gamepad_data[idx] = {\n      id: idx,\n      timestamp: 0,\n      sticks: new Array(NUM_STICKS),\n    };\n    for (let ii = 0; ii < NUM_STICKS; ++ii) {\n      gpd.sticks[ii] = vec2();\n    }\n    pad_states[idx] = {};\n  }\n  return gpd;\n}\n\nfunction updatePadState(gpd, ps, b, padcode) {\n  if (b && !ps[padcode]) {\n    ps[padcode] = DOWN_EDGE;\n    if (touch_mode) {\n      local_storage.set('touch_mode', false);\n      touch_mode = false;\n    }\n    if (!pad_mode) {\n      local_storage.setJSON('pad_mode', true);\n      pad_mode = true;\n    }\n    if (padcode === pad_to_touch) {\n      let touch_id = `g${gpd.id}`;\n      if (touches[touch_id]) {\n        setMouseToMid();\n        v2copy(touches[touch_id].start_pos, mouse_pos);\n      } else {\n        touches[touch_id] = new TouchData(mouse_pos, false, 0, null);\n      }\n      touches[touch_id].down(null, true);\n    }\n  } else if (!b && ps[padcode]) {\n    ps[padcode] = UP_EDGE;\n    if (padcode === pad_to_touch) {\n      let touch_id = `g${gpd.id}`;\n      let touch_data = touches[touch_id];\n      if (touch_data) {\n        setMouseToMid();\n        v2copy(touch_data.cur_pos, mouse_pos);\n        touch_data.up_edge++;\n        touch_data.state = UP;\n        touch_data.down_time += max(engine.hrtime - touch_data.origin_time, MIN_EVENT_TIME_DELTA);\n      }\n    }\n  }\n}\n\nfunction gamepadUpdate() {\n  let gamepads = (navigator.gamepads ||\n    navigator.webkitGamepads ||\n    (navigator.getGamepads && navigator.getGamepads()) ||\n    (navigator.webkitGetGamepads && navigator.webkitGetGamepads()));\n\n  if (gamepads) {\n    let numGamePads = gamepads.length;\n    for (let ii = 0; ii < numGamePads; ii++) {\n      let gamepad = gamepads[ii];\n      if (!gamepad) {\n        continue;\n      }\n      let gpd = getGamepadData(ii);\n      let ps = pad_states[ii];\n      // Update button states\n      if (gpd.timestamp < gamepad.timestamp) {\n        let buttons = gamepad.buttons;\n        gpd.timestamp = gamepad.timestamp;\n\n        let numButtons = buttons.length;\n        for (let n = 0; n < numButtons; n++) {\n          let value = buttons[n];\n          if (typeof value === 'object') {\n            value = value.value;\n          }\n          value = value > 0.5;\n          updatePadState(gpd, ps, value, n);\n        }\n      }\n\n      // Update axes states\n      let axes = gamepad.axes;\n      if (axes.length >= NUM_STICKS * 2) {\n        for (let n = 0; n < NUM_STICKS; ++n) {\n          let pair = gpd.sticks[n];\n          v2set(pair, axes[n*2], -axes[n*2 + 1]);\n          let magnitude = v2lengthSq(pair);\n          if (magnitude > DEADZONE_SQ) {\n            magnitude = sqrt(magnitude);\n\n            // Normalize lX and lY\n            v2scale(pair, pair, 1 / magnitude);\n\n            // Clip the magnitude at its max possible value\n            magnitude = min(magnitude, 1);\n\n            // Adjust magnitude relative to the end of the dead zone\n            magnitude = ((magnitude - DEADZONE) / (1 - DEADZONE));\n\n            v2scale(pair, pair, magnitude);\n          } else {\n            v2set(pair, 0, 0);\n          }\n\n          // Apply \"movement\" to drag events\n          if (n <= 1 && pad_to_touch !== undefined) {\n            let touch_data = touches[`g${gpd.id}`];\n            if (touch_data) {\n              v2scale(temp_delta, pair, engine.frame_dt);\n              v2add(touch_data.delta, touch_data.delta, temp_delta);\n              touch_data.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n              setMouseToMid();\n              v2copy(touch_data.cur_pos, mouse_pos);\n            }\n          }\n        }\n\n        // Calculate virtual directional buttons\n        updatePadState(gpd, ps, gpd.sticks[0][0] < -PAD_THRESHOLD, PAD.ANALOG_LEFT);\n        updatePadState(gpd, ps, gpd.sticks[0][0] > PAD_THRESHOLD, PAD.ANALOG_RIGHT);\n        updatePadState(gpd, ps, gpd.sticks[0][1] < -PAD_THRESHOLD, PAD.ANALOG_DOWN);\n        updatePadState(gpd, ps, gpd.sticks[0][1] > PAD_THRESHOLD, PAD.ANALOG_UP);\n      }\n    }\n  }\n}\n\nexport function tickInput() {\n  // browser frame has occurred since the call to endFrame(),\n  // we should now have `touches` and `key_state` populated with edge events\n  if (movement_questionable_frames) {\n    --movement_questionable_frames;\n  }\n\n  // update timing of key down states\n  let hrtime = engine.hrtime;\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === DOWN) {\n      ks.down_time += max(hrtime - ks.origin_time, MIN_EVENT_TIME_DELTA);\n      // assert(hrtime >= ks.origin_time); - should be true, but often isn't\n      ks.origin_time = hrtime;\n    }\n  }\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (touch_data.state === DOWN) {\n      touch_data.down_time += max(hrtime - touch_data.origin_time, MIN_EVENT_TIME_DELTA);\n      // assert(hrtime >= touch_data.origin_time); - should be true, but often isn't\n      touch_data.origin_time = hrtime;\n    }\n  }\n\n  mouse_over_captured = false;\n  gamepadUpdate();\n  in_event.topOfFrame();\n  ctrl_checked = false;\n  if (touches[pointerlock_touch_id] && !pointerLocked()) {\n    pointerLockExit();\n  }\n}\n\nfunction endFrameTickMap(map) {\n  Object.keys(map).forEach((keycode) => {\n    switch (map[keycode]) {\n      case DOWN_EDGE:\n        map[keycode] = DOWN;\n        break;\n      case UP_EDGE:\n        delete map[keycode];\n        break;\n      default:\n    }\n  });\n}\nexport function endFrame(skip_mouse) {\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === UP) {\n      key_state_new[code] = null;\n      delete key_state_new[code];\n    } else {\n      ks.up_edge = 0;\n      ks.down_edge = 0;\n      ks.down_time = 0;\n    }\n  }\n\n  pad_states.forEach(endFrameTickMap);\n  if (!skip_mouse) {\n    for (let touch_id in touches) {\n      let touch_data = touches[touch_id];\n      if (touch_data.state === UP) {\n        // Manually null out touches[touch_id] - some Chrome optimizer bug causes\n        // callers to later get this old value (instead of the newly added on with\n        // the same ID) unless we null it out (then they seem to get the new one).\n        touches[touch_id] = null;\n        delete touches[touch_id];\n      } else {\n        touch_data.delta[0] = touch_data.delta[1] = 0;\n        touch_data.dispatched = false;\n        touch_data.dispatched_drag = false;\n        touch_data.dispatched_drag_over = false;\n        touch_data.up_edge = 0;\n        touch_data.down_edge = 0;\n        touch_data.down_time = 0;\n      }\n    }\n    wheel_events.length = 0;\n    input_eaten_mouse = false;\n  }\n  input_eaten_kb = false;\n  mouse_moved = false;\n}\n\nexport function tickInputInactive() {\n  in_event.topOfFrame();\n  ctrl_checked = false;\n  endFrame();\n}\n\nexport function eatAllInput(skip_mouse) {\n  // destroy touches, remove all down and up edges\n  endFrame(skip_mouse);\n  if (!skip_mouse) {\n    mouse_over_captured = true;\n    input_eaten_mouse = true;\n  }\n  input_eaten_kb = true;\n}\n\nexport function eatAllKeyboardInput() {\n  eatAllInput(true);\n}\n\n// returns position mapped to current camera view\nexport function mousePos(dst) {\n  dst = dst || vec2();\n  camera2d.domToVirtual(dst, mouse_pos);\n  return dst;\n}\n\nexport function mouseMoved() {\n  return mouse_moved;\n}\n\nfunction mousePosParam(param) {\n  param = param || {};\n  return {\n    x: param.x === undefined ? camera2d.x0Real() : param.x,\n    y: param.y === undefined ? camera2d.y0Real() : param.y,\n    w: param.w === undefined ? camera2d.wReal() : param.w,\n    h: param.h === undefined ? camera2d.hReal() : param.h,\n    button: param.button === undefined ? ANY : param.button,\n  };\n}\n\nlet check_pos = vec2();\nfunction checkPos(pos, param) {\n  if (!camera2d.domToVirtual(check_pos, pos)) {\n    return false;\n  }\n  return check_pos[0] >= param.x && (param.w === Infinity || check_pos[0] < param.x + param.w) &&\n    check_pos[1] >= param.y && (param.h === Infinity || check_pos[1] < param.y + param.h);\n}\n\nexport function mouseWheel(param) {\n  if (input_eaten_mouse || !wheel_events.length) {\n    return 0;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let ret = 0;\n  for (let ii = 0; ii < wheel_events.length; ++ii) {\n    let data = wheel_events[ii];\n    if (data.dispatched) {\n      continue;\n    }\n    if (checkPos(data.pos, pos_param)) {\n      ret += data.delta;\n      data.dispatched = true;\n    }\n  }\n  return ret;\n}\n\nexport function mouseOver(param) {\n  if (mouse_over_captured || pointerLocked() && !(param && param.allow_pointerlock)) {\n    return false;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n\n  // eat mouse up/down/drag events\n  if (!param.peek) {\n    for (let id in touches) {\n      let touch = touches[id];\n      if (checkPos(touch.cur_pos, pos_param)) {\n        touch.down_edge = 0;\n        touch.up_edge = 0;\n        if (!param || !param.drag_target) {\n          touch.dispatched = true;\n        }\n      }\n    }\n  }\n\n  if (checkPos(mouse_pos, pos_param)) {\n    if (!param.peek) {\n      mouse_over_captured = true;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function mouseDown(param) {\n  if (input_eaten_mouse) {\n    return null;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  // *maybe* should default to Infinite, but for now, defaulting to the same as mouseUpEdge()\n  let max_click_dist = param.max_dist || 50; // TODO: relative to camera distance?\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (touch_data.state !== DOWN ||\n      !(button === ANY || button === touch_data.button) ||\n      touch_data.total > max_click_dist\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      // if (!param.peek) {\n      //   touch_data.up_edge = 0;\n      // }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  return null;\n}\n\nexport function mousePosIsTouch() {\n  return mouse_pos_is_touch;\n}\n\nexport function numTouches() {\n  return Object.keys(touches).length;\n}\n\nexport function keyDown(keycode) {\n  if (keycode === KEYS.CTRL) {\n    ctrl_checked = true;\n  }\n  if (input_eaten_kb) {\n    return 0;\n  }\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  if (ks.state === DOWN) {\n    assert(ks.down_time); // Will fire if we call keyDown() before tickInput()\n  }\n  return ks.down_time;\n}\nexport function keyDownEdge(keycode, opts) {\n  if (opts && opts.in_event_cb && !input_eaten_kb) {\n    in_event.on('keydown', keycode, opts.in_event_cb);\n  }\n\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  let r = ks.down_edge;\n  ks.down_edge = 0;\n  return r;\n}\nexport function keyUpEdge(keycode, opts) {\n  if (opts && opts.in_event_cb && !input_eaten_kb) {\n    in_event.on('keyup', keycode, opts.in_event_cb);\n  }\n\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  let r = ks.up_edge;\n  ks.up_edge = 0;\n  return r;\n}\n\nexport function padGetAxes(out, stickindex, padindex) {\n  assert(stickindex >= 0 && stickindex < NUM_STICKS);\n  if (padindex === undefined) {\n    let sub = vec2();\n    v2set(out, 0, 0);\n    for (let ii = 0; ii < gamepad_data.length; ++ii) {\n      padGetAxes(sub, stickindex, ii);\n      v2add(out, out, sub);\n    }\n    return;\n  }\n  let sticks = getGamepadData(padindex).sticks;\n  v2copy(out, sticks[stickindex]);\n}\n\nfunction padButtonDownInternal(gpd, ps, padcode) {\n  if (ps[padcode]) {\n    return engine.frame_dt;\n  }\n  return 0;\n}\nfunction padButtonDownEdgeInternal(gpd, ps, padcode) {\n  if (ps[padcode] === DOWN_EDGE) {\n    ps[padcode] = DOWN;\n    return engine.frame_dt;\n  }\n  return 0;\n}\nfunction padButtonUpEdgeInternal(gpd, ps, padcode) {\n  if (ps[padcode] === UP_EDGE) {\n    delete ps[padcode];\n    return engine.frame_dt;\n  }\n  return 0;\n}\n\nfunction padButtonShared(fn, padcode, padindex) {\n  assert(padcode !== undefined);\n  let r = 0;\n  // Handle calling without a specific pad index\n  if (padindex === undefined) {\n    for (let ii = 0; ii < pad_states.length; ++ii) {\n      r += padButtonShared(fn, padcode, ii);\n    }\n    return r;\n  }\n\n  if (input_eaten_mouse) {\n    return 0;\n  }\n  let gpd = gamepad_data[padindex];\n  if (!gpd) {\n    return 0;\n  }\n  let ps = pad_states[padindex];\n\n  r += ANALOG_MAP[padcode] && fn(gpd, ps, ANALOG_MAP[padcode]) || 0;\n  r += fn(gpd, ps, padcode);\n  return r;\n}\nexport function padButtonDown(padcode, padindex) {\n  return padButtonShared(padButtonDownInternal, padcode, padindex);\n}\nexport function padButtonDownEdge(padcode, padindex) {\n  return padButtonShared(padButtonDownEdgeInternal, padcode, padindex);\n}\nexport function padButtonUpEdge(padcode, padindex) {\n  return padButtonShared(padButtonUpEdgeInternal, padcode, padindex);\n}\n\nlet start_pos = vec2();\nlet cur_pos = vec2();\nlet delta = vec2();\n\nexport function mouseUpEdge(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let max_click_dist = param.max_dist || 50; // TODO: relative to camera distance?\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!touch_data.up_edge) {\n      continue;\n    }\n    if (!(button === ANY || button === touch_data.button) ||\n      touch_data.total > max_click_dist\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        touch_data.up_edge = 0;\n      }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  if (param.in_event_cb && !input_eaten_mouse && !mouse_over_captured) {\n    // TODO: Maybe need to also pass along earlier exclusions?  Working okay for now though.\n    if (!param.phys) {\n      param.phys = {};\n    }\n    param.phys.button = typeof param.in_event_button === 'number' ? param.in_event_button : button;\n    camera2d.virtualToDomPosParam(param.phys, pos_param);\n    in_event.on('mouseup', param.phys, param.in_event_cb);\n  }\n  return false;\n}\nexports.click = mouseUpEdge;\n\nexport function mouseDownEdge(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!touch_data.down_edge ||\n      !(button === ANY || button === touch_data.button)\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        touch_data.down_edge = 0;\n      }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  if (param.in_event_cb && !input_eaten_mouse && !mouse_over_captured) {\n    // TODO: Maybe need to also pass along earlier exclusions?  Working okay for now though.\n    if (!param.phys) {\n      param.phys = {};\n    }\n    param.phys.button = button;\n    camera2d.virtualToDomPosParam(param.phys, pos_param);\n    in_event.on('mousedown', param.phys, param.in_event_cb);\n  }\n  return false;\n}\n\n// Completely consume any clicks or drags coming from a mouse down event in this\n// area - used to catch focus leaving an edit box without wanting to do what\n// a click would normally do.\nexport function mouseConsumeClicks(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    // Skipping those that already dispatched a drag this frame, must have been handled, do not consume it!\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched_drag) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      touch_data.down_edge = 0;\n      // Set start pos so that it will not pass checkPos\n      touch_data.start_pos[0] = touch_data.start_pos[1] = Infinity;\n      // Set .total so that mouseUpEdge will not detect it as a click\n      touch_data.total = Infinity;\n    }\n  }\n}\n\nexport function drag(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let min_dist = param.min_dist || 0;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched_drag) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      camera2d.domDeltaToVirtual(delta, [touch_data.total/2, touch_data.total/2]);\n      let total = delta[0] + delta[1];\n      if (total < min_dist) {\n        continue;\n      }\n      if (!param.peek) {\n        touch_data.dispatched_drag = true;\n      }\n      let is_down_edge = touch_data.down_edge;\n      if (param.eat_clicks) {\n        touch_data.down_edge = touch_data.up_edge = 0;\n      }\n      if (param.payload) {\n        touch_data.drag_payload = param.payload;\n      }\n      camera2d.domToVirtual(start_pos, touch_data.start_pos);\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      camera2d.domDeltaToVirtual(delta, touch_data.delta);\n      return {\n        cur_pos,\n        start_pos,\n        delta, // this frame's delta\n        total, // total (linear) distance dragged\n        button: touch_data.button,\n        touch: touch_data.touch,\n        start_time: touch_data.start_time,\n        is_down_edge,\n        down_time: touch_data.down_time,\n      };\n    }\n  }\n  return null;\n}\n\n// a lot like drag(), refactor to share more?\nexport function longPress(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let max_dist = param.max_dist || 0;\n  let min_time = param.min_time || 500;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) || touch_data.long_press_dispatched) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      camera2d.domDeltaToVirtual(delta, [touch_data.total/2, touch_data.total/2]);\n      let total = delta[0] + delta[1];\n      if (total > max_dist) {\n        continue;\n      }\n      let time = Date.now() - touch_data.start_time;\n      if (time < min_time) {\n        continue;\n      }\n      if (!param.peek) {\n        // ? touch_data.dispatched = true;\n        touch_data.long_press_dispatched = true;\n      }\n      let is_down_edge = touch_data.down_edge;\n      if (param.eat_clicks) {\n        touch_data.down_edge = touch_data.up_edge = 0;\n      }\n      camera2d.domToVirtual(start_pos, touch_data.start_pos);\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      camera2d.domDeltaToVirtual(delta, touch_data.delta);\n      return {\n        long_press: true,\n        cur_pos,\n        start_pos,\n        delta, // this frame's delta\n        total, // total (linear) distance dragged\n        button: touch_data.button,\n        touch: touch_data.touch,\n        start_time: touch_data.start_time,\n        is_down_edge,\n        down_time: touch_data.down_time,\n      };\n    }\n  }\n  return null;\n}\n\nexport function dragDrop(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    // Maybe touch_data.dispatched_drag_over instead/as well?\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched || !touch_data.drag_payload) {\n      continue;\n    }\n    if (!touch_data.up_edge) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        // don't want the source (possibly called later this frame) to still think it's dragging\n        touch_data.dispatched_drag_over = true;\n        touch_data.dispatched_drag = true;\n        touch_data.dispatched = true;\n      }\n      return { drag_payload: touch_data.drag_payload };\n    }\n  }\n  return null;\n}\n\nexport function dragOver(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) ||\n      touch_data.dispatched_drag_over ||\n      !touch_data.drag_payload\n    ) {\n      continue;\n    }\n    if (touch_data.state !== DOWN) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      // Separate 'dispatched' for dragOver (target) and drag (source) - they both need one dispatch per frame\n      if (!param.peek) {\n        touch_data.dispatched_drag_over = true;\n      }\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      return {\n        cur_pos,\n        drag_payload: touch_data.drag_payload\n      };\n    }\n  }\n  return null;\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst engine = require('./engine.js');\nconst camera2d = require('./camera2d.js');\nconst in_event = require('./in_event.js');\nconst input = require('./input.js');\nconst { abs } = Math;\nconst ui = require('./ui.js');\n\nlet state_cache = {};\nlet good_url = /https?:\\/\\//;\n\n// Create an invisible A elem in the DOM so we get all of the good browsery\n// behavior for a link area.\nexport function link(param) {\n  let { x, y, w, h, url, internal, allow_modal } = param;\n  if (!url.match(good_url)) {\n    url = `${document.location.protocol}//${url}`;\n  }\n  let key = `${x}_${y}`;\n  let state = state_cache[key];\n  if (!state) {\n    state = state_cache[key] = { clicked: false };\n  }\n  state.frame = engine.frame_index;\n\n  let rect = { x, y, w, h };\n\n  if (camera2d.clipTestRect(rect)) {\n    // at least some is not clipped\n    let elem = ui.getElem(allow_modal, state.elem);\n    if (elem !== state.elem) {\n      state.elem = elem;\n      if (elem) {\n        // new DOM element, initialize\n        elem.textContent = '';\n        let a_elem = document.createElement('a');\n        a_elem.setAttribute('draggable', false);\n        a_elem.textContent = ' ';\n        a_elem.className = 'glovui_link noglov';\n        a_elem.setAttribute('target', '_blank');\n        a_elem.setAttribute('href', url);\n        state.url = url;\n        if (internal) {\n          let down_x;\n          let down_y;\n          input.handleTouches(a_elem);\n          a_elem.onmousedown = function (ev) {\n            down_x = ev.pageX;\n            down_y = ev.pageY;\n          };\n          a_elem.onclick = function (ev) {\n            ev.preventDefault();\n            if (down_x) {\n              let dist = abs(ev.pageX - down_x) + abs(ev.pageY - down_y);\n              if (dist > 50) {\n                return;\n              }\n            }\n            state.clicked = true;\n            in_event.handle('mouseup', ev);\n          };\n        }\n        elem.appendChild(a_elem);\n        state.a_elem = a_elem;\n      }\n    }\n    if (elem) {\n      if (url !== state.url) {\n        state.a_elem.setAttribute('href', url);\n        state.url = url;\n      }\n\n      let pos = camera2d.htmlPos(rect.x, rect.y);\n      elem.style.left = `${pos[0]}%`;\n      elem.style.top = `${pos[1]}%`;\n      let size = camera2d.htmlSize(rect.w, rect.h);\n      elem.style.width = `${size[0]}%`;\n      elem.style.height = `${size[1]}%`;\n    }\n  }\n  let clicked = state.clicked;\n  state.clicked = false;\n  return clicked;\n}\n\nexport function linkText(param) {\n  let { style_link, style_link_hover, x, y, z, font_size, text, url } = param;\n  text = text || url;\n  z = z || Z.UI;\n  font_size = font_size || ui.font_height;\n  // Also: any parameter to link(), e.g. url\n  let w = ui.font.getStringWidth(style_link, font_size, text);\n  let h = font_size;\n  let mouseover = input.mouseOver({ x, y, w, h, peek: true }) && !input.mousePosIsTouch();\n  let style = mouseover ? style_link_hover : style_link;\n  ui.font.drawSized(style, x, y, z, font_size, text);\n  let underline_w = 1;\n  ui.drawLine(x, y + h - underline_w, x + w, y + h - underline_w, z - 0.5, underline_w, 0.99, style.color_vec4);\n  param.w = w;\n  param.h = h;\n  return link(param);\n}\n\nexport function linkTick() {\n  for (let key in state_cache) {\n    let state = state_cache[key];\n    if (state.frame !== engine.frame_index - 1) {\n      delete state_cache[key];\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nexports.storage_prefix = 'demo';\n\nlet lsd = (function () {\n  try {\n    localStorage.test = 'test';\n    return localStorage;\n  } catch (e) {\n    return {};\n  }\n}());\nexport function get(key) {\n  key = `${exports.storage_prefix}_${key}`;\n  let ret = lsd[key];\n  if (ret === 'undefined') {\n    ret = undefined;\n  }\n  return ret;\n}\n\nexport function set(key, value) {\n  key = `${exports.storage_prefix}_${key}`;\n  if (value === undefined || value === null) {\n    delete lsd[key];\n  } else {\n    lsd[key] = value;\n  }\n}\n\nexport function setJSON(key, value) {\n  set(key, JSON.stringify(value));\n}\n\nexport function getJSON(key, def) {\n  let value = get(key);\n  if (value === undefined) {\n    return def;\n  }\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    // ignore\n  }\n  return def;\n}\n\nexport function clearAll(key_prefix) {\n  let prefix = new RegExp(`^${exports.storage_prefix}_${key_prefix || ''}`, 'u');\n  for (let key in lsd) {\n    if (key.match(prefix)) {\n      delete lsd[key];\n    }\n  }\n}\n\nexport function exportAll() {\n  let obj = {};\n  let prefix = new RegExp(`^${exports.storage_prefix}_(.*)`, 'u');\n  for (let key in lsd) {\n    let m = key.match(prefix);\n    if (m) {\n      let v = lsd[key];\n      if (v && v !== 'undefined') {\n        obj[m[1]] = v;\n      }\n    }\n  }\n  return JSON.stringify(obj);\n}\n\nexport function importAll(serialized) {\n  let obj = JSON.parse(serialized);\n  clearAll();\n  for (let key in obj) {\n    set(key, obj[key]);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport function mat43() {\n  let r = new Float32Array(12);\n  r[0] = r[4] = r[8] = 1;\n  return r;\n}\n\nexport function m43identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  out[9] = 0;\n  out[10] = 0;\n  out[11] = 0;\n}\n\nexport function m43mul(out, a, b) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let a3 = a[3];\n  let a4 = a[4];\n  let a5 = a[5];\n  let a6 = a[6];\n  let a7 = a[7];\n  let a8 = a[8];\n  let a9 = a[9];\n  let a10 = a[10];\n  let a11 = a[11];\n\n  let b0 = b[0];\n  let b1 = b[1];\n  let b2 = b[2];\n  let b3 = b[3];\n  let b4 = b[4];\n  let b5 = b[5];\n  let b6 = b[6];\n  let b7 = b[7];\n  let b8 = b[8];\n\n  out[0] = (b0 * a0 + b3 * a1 + b6 * a2);\n  out[1] = (b1 * a0 + b4 * a1 + b7 * a2);\n  out[2] = (b2 * a0 + b5 * a1 + b8 * a2);\n  out[3] = (b0 * a3 + b3 * a4 + b6 * a5);\n  out[4] = (b1 * a3 + b4 * a4 + b7 * a5);\n  out[5] = (b2 * a3 + b5 * a4 + b8 * a5);\n  out[6] = (b0 * a6 + b3 * a7 + b6 * a8);\n  out[7] = (b1 * a6 + b4 * a7 + b7 * a8);\n  out[8] = (b2 * a6 + b5 * a7 + b8 * a8);\n  out[9] = (b0 * a9 + b3 * a10 + b6 * a11 + b[9]);\n  out[10] = (b1 * a9 + b4 * a10 + b7 * a11 + b[10]);\n  out[11] = (b2 * a9 + b5 * a10 + b8 * a11 + b[11]);\n\n  return out;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\n/*\n  Convert models to GLB with:\n  node_modules\\.bin\\gltf-pipeline.cmd -t -i src/client/models/box.gltf -o src/client/models/box.glb\n  // The -t tells it not to embed the textures, but just leave the URIs\n */\n\nconst assert = require('assert');\nconst geom = require('./geom.js');\nconst glb_parser = require('./glb/parser.js');\nconst { ATTRIBUTE_TYPE_TO_COMPONENTS } = require('./glb/gltf-type-utils.js');\nconst renderer = require('./engine.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst { vec4 } = require('./vmath.js');\nconst { webFSGetFile } = require('./webfs.js');\n\nexport let load_count = 0;\n\nexport let models = {};\n\nexport let default_vshader;\nexport let default_fshader;\n\nfunction initShaders() {\n  default_vshader = shaders.create('glov/shaders/default.vp');\n  default_fshader = shaders.create('glov/shaders/default.fp');\n}\n\nfunction Model(url) {\n  this.url = url;\n  let idx = url.lastIndexOf('/');\n  if (idx !== -1) {\n    this.base_url = url.slice(0, idx + 1);\n  } else {\n    this.base_url = '';\n  }\n}\n\nModel.prototype.load = function () {\n  ++load_count;\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', this.url, true);\n  xhr.responseType = 'arraybuffer';\n  xhr.onload = () => {\n    --load_count;\n    try {\n      let array_buffer = xhr.response; // Note: not xhr.responseText\n      if ((xhr.status === 200 || xhr.status === 0) && array_buffer) {\n        this.parse(array_buffer);\n      }\n    } catch (e) {\n      window.onerror('Model loading error', 'models.js', 0, 0, e);\n    }\n  };\n  xhr.send(null);\n};\n\nconst skip_attr = {\n  'TANGENT': true,\n};\n\nModel.prototype.parse = function (glb_data) {\n  let glb = glb_parser.parse(glb_data);\n  if (!glb) {\n    return;\n  }\n  // Make Geoms for each primitives within each mesh\n  let glb_json = glb.getJSON();\n  let objs = [];\n  for (let ii = 0; ii < glb_json.meshes.length; ++ii) {\n    let mesh = glb_json.meshes[ii];\n    for (let jj = 0; jj < mesh.primitives.length; ++jj) {\n      let primitives = mesh.primitives[jj];\n      let material = glb_json.materials[primitives.material];\n      let texture = null;\n      if (material) {\n        // Just grabbing the base color texture, nothing else\n        let bct = (material.pbrMetallicRoughness || {}).baseColorTexture || {};\n        let texture_def = glb_json.textures && glb_json.textures[bct.index] || {};\n        let sampler_def = glb_json.samplers && glb_json.samplers[texture_def.sampler] || {};\n        let image = glb_json.images && glb_json.images[texture_def.source] || {};\n        if (image.uri) {\n          let params = {\n            url: `${this.base_url}${image.uri}`,\n            filter_mag: sampler_def.magFilter,\n            filter_min: sampler_def.minFilter,\n            wrap_s: sampler_def.wrapS,\n            wrap_t: sampler_def.wrapT,\n          };\n          texture = textures.load(params);\n        }\n      }\n      let format = [];\n      let buffers = [];\n      let bidx = [];\n      let total_size = 0;\n      let vert_count = 0;\n      for (let attr in primitives.attributes) {\n        if (skip_attr[attr]) {\n          continue;\n        }\n        assert(shaders.semantic[attr] !== undefined);\n        let accessor = glb_json.accessors[primitives.attributes[attr]];\n        assert.equal(accessor.componentType, 5126); // F32\n        let geom_format = gl.FLOAT;\n        let geom_count = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n        assert(geom_count);\n        let my_vert_count = accessor.count/* / geom_count*/;\n        if (!vert_count) {\n          vert_count = my_vert_count;\n        } else {\n          assert.equal(vert_count, my_vert_count);\n        }\n        format.push([shaders.semantic[attr], geom_format, geom_count]);\n        let buffer = glb.getBuffer(accessor);\n        buffers.push(buffer);\n        bidx.push(0);\n        total_size += buffer.length;\n      }\n      // Interleave\n      let verts = new Float32Array(total_size);\n      let idx = 0;\n      for (let vert = 0; vert < vert_count; ++vert) {\n        for (let attr = 0; attr < format.length; ++attr) {\n          for (let kk = 0; kk < format[attr][2]; ++kk) {\n            verts[idx++] = buffers[attr][bidx[attr]++];\n          }\n        }\n      }\n      // Get indices\n      let accessor = glb_json.accessors[primitives.indices];\n      assert(accessor); // must be an indexed primitive set\n      assert.equal(accessor.type, 'SCALAR');\n      let idxs = glb.getBuffer(accessor);\n      if (accessor.componentType === 5125) { // Uint32\n        assert(vert_count < 65536); // Fits in 16-bits\n        // Just convert to 16-bit\n        idxs = new Uint16Array(idxs);\n      } else {\n        assert.equal(accessor.componentType, 5123); // Uint16\n      }\n      objs.push({\n        geom: geom.create(format, verts, idxs, primitives.mode),\n        texture,\n      });\n    }\n  }\n  // TODO: Something with nodes to tie together and position the meshes\n  this.data = {\n    objs,\n    // glb, - Don't keep this, release it and any unreferenced data/buffers\n  };\n};\n\nModel.prototype.draw = function (mat) {\n  renderer.updateMatrices(mat); // before setting shader\n  shaders.bind(default_vshader, default_fshader, {\n    color: vec4(1, 1, 1, 1),\n  });\n  let objs = this.data.objs;\n  for (let ii = 0; ii < objs.length; ++ii) {\n    let obj = objs[ii];\n    if (obj.texture) {\n      textures.bind(0, obj.texture);\n    }\n    obj.geom.draw();\n  }\n};\n\n// Just draw the geometry, without any other binding\nModel.prototype.drawGeom = function () {\n  let objs = this.data.objs;\n  for (let ii = 0; ii < objs.length; ++ii) {\n    let obj = objs[ii];\n    obj.geom.draw();\n  }\n};\n\nexport function load(url) {\n  if (models[url]) {\n    return models[url];\n  }\n  let model = models[url] = new Model(url);\n  model.data = models.box.data; // stub until loaded\n  model.load();\n  return model;\n}\n\nexport function startup() {\n  initShaders();\n  let model_box = models.box = new Model('box');\n  model_box.parse(webFSGetFile('glov/models/box_textured_embed.glb').buffer);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { filewatchStartup } = require('./filewatch.js');\nconst packet = require('../../common/packet.js');\nconst subscription_manager = require('./subscription_manager.js');\nconst WSClient = require('./wsclient.js').WSClient;\nconst wscommon = require('../../common/wscommon.js');\n\nlet client;\nlet subs;\n\nexport function init(params) {\n  params = params || {};\n  if (params.pver) {\n    wscommon.PROTOCOL_VERSION = params.pver;\n  }\n  if (String(document.location).match(/^https?:\\/\\/localhost/)) {\n    console.log('PacketDebug: ON');\n    packet.default_flags |= packet.PACKET_DEBUG;\n  }\n  client = new WSClient(params.path);\n  subs = subscription_manager.create(client, params.cmd_parse);\n  subs.auto_create_user = Boolean(params.auto_create_user);\n  window.subs = subs; // for debugging\n  exports.subs = subs;\n  exports.client = client;\n  filewatchStartup(client);\n\n  if (params.engine) {\n    params.engine.addTickFunc((dt) => {\n      client.checkDisconnect();\n      subs.tick(dt);\n    });\n  }\n}\n\nconst build_timestamp_string = new Date(Number(BUILD_TIMESTAMP))\n  .toISOString()\n  .replace('T', ' ')\n  .slice(5, -8);\nexport function buildString() {\n  return build_timestamp_string;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./cmds.js');\nconst glov_engine = require('./engine.js');\nconst net = require('./net.js');\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst util = require('../../common/util.js');\nconst { wsstats, wsstats_out } = require('../../common/wscommon.js');\nconst { abs, floor, max, min, PI, sqrt } = Math;\nconst TWO_PI = PI * 2;\nconst EPSILON = 0.01;\n\nlet the;\n\nsettings.register({\n  show_ping: {\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\nperf.addMetric({\n  name: 'ping',\n  show_stat: 'show_ping',\n  labels: {\n    'ping: ': () => {\n      if (!the) {\n        return '';\n      }\n      let pt = the.getPing(2000);\n      if (!pt || pt.fade < 0.001) {\n        return '';\n      }\n      return { value: `${pt.ping.toFixed(1)}`, alpha: min(1, pt.fade * 3) };\n    },\n  },\n});\nsettings.register({\n  show_net: {\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,2],\n  },\n});\nlet last_wsstats = { msgs: 0, bytes: 0, time: Date.now(), dm: 0, db: 0 };\nlet last_wsstats_out = { msgs: 0, bytes: 0, time: Date.now(), dm: 0, db: 0 };\nfunction bandwidth(stats, last) {\n  let now = Date.now();\n  if (now - last.time > 1000) {\n    last.dm = stats.msgs - last.msgs;\n    last.db = stats.bytes - last.bytes;\n    last.msgs = stats.msgs;\n    last.bytes = stats.bytes;\n    if (now - last.time > 2000) { // stall\n      last.time = now;\n    } else {\n      last.time += 1000;\n    }\n  }\n  return `${(last.db/1024).toFixed(2)} kb (${last.dm})`;\n}\nperf.addMetric({\n  name: 'net',\n  show_stat: 'show_net',\n  width: 5,\n  labels: {\n    'down: ': bandwidth.bind(null, wsstats, last_wsstats),\n    'up: ': bandwidth.bind(null, wsstats_out, last_wsstats_out),\n  },\n});\n\nconst valid_options = [\n  // Numeric parameters\n  'n', 'dim_pos', 'dim_rot', // dimensions\n  'send_time', 'window', 'snap_factor', 'smooth_windows', 'smooth_factor', 'default_pos',\n  // Callbacks\n  'on_pos_update', 'on_state_update',\n];\n\nfunction NetPositionManager(options) {\n  this.on_channel_data = this.onChannelData.bind(this);\n  this.on_subscribe = this.onChannelSubscribe.bind(this);\n  this.reinit(options);\n}\nNetPositionManager.prototype.deinit = function () {\n  if (this.channel) {\n    this.channel.removeListener('channel_data', this.on_channel_data);\n    this.channel.removeListener('subscribe', this.on_subscribe);\n  }\n};\n\nNetPositionManager.prototype.onChannelSubscribe = function (data) {\n  // initial connection or reconnect\n  this.last_send.sending = false; // ignore send on previous, disconnected link\n  this.last_send.time = 0;\n  this.client_id = net.client.id;\n};\n\nNetPositionManager.prototype.onChannelData = function (data, mod_key, mod_value) {\n  if (mod_key) {\n    let m = mod_key.match(/^public\\.clients\\.([^.]+)\\.(.+)$/);\n    if (m) {\n      let client_id = m[1];\n      let field = m[2];\n      if (field === 'pos') {\n        this.otherClientPosChanged(client_id);\n      }\n      if (this.on_client_change) {\n        let pcd = this.per_client_data[client_id];\n        if (pcd) {\n          this.on_client_change(pcd, field);\n        }\n      }\n    }\n    if (!mod_value) {\n      m = mod_key.match(/^public\\.clients\\.([^.]+)$/);\n      if (m) {\n        // other client disconnected\n        delete this.per_client_data[m[1]];\n      }\n    }\n  } else {\n    if (data && data.public && data.public.clients) {\n      for (const client_id in data.public.clients) {\n        const client_data = data.public.clients[client_id];\n        if (client_data.pos) {\n          this.otherClientPosChanged(client_id);\n        }\n      }\n    }\n  }\n};\n\nNetPositionManager.prototype.vec = function (fill) {\n  let r = new Float64Array(this.n);\n  if (fill) {\n    for (let ii = 0; ii < this.n; ++ii) {\n      r[ii] = fill;\n    }\n  }\n  return r;\n};\nNetPositionManager.prototype.vcopy = function (dst, src) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    dst[ii] = src[ii];\n  }\n  return dst;\n};\nNetPositionManager.prototype.arr = function (vec) {\n  let arr = new Array(this.n);\n  for (let ii = 0; ii < this.n; ++ii) {\n    arr[ii] = vec[ii];\n  }\n  return arr;\n};\nNetPositionManager.prototype.vsame = function (a, b) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    if (abs(a[ii] - b[ii]) > EPSILON) {\n      return false;\n    }\n  }\n  return true;\n};\nNetPositionManager.prototype.vlength = function (a) {\n  let r = 0;\n  for (let ii = 0; ii < this.n; ++ii) {\n    let d = a[ii];\n    r += d * d;\n  }\n  return sqrt(r);\n};\nNetPositionManager.prototype.vdist = function (a, b) {\n  this.vsub(this.temp_vec, a, b);\n  for (let ii = 0; ii < this.dim_rot; ++ii) {\n    let jj = this.dim_pos + ii;\n    let d = abs(this.temp_vec[jj]);\n    if (d > PI) {\n      this.temp_vec[jj] = d - floor((d + PI) / TWO_PI) * TWO_PI;\n    }\n  }\n  return this.vlength(this.temp_vec);\n};\nNetPositionManager.prototype.vsub = function (dst, a, b) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    dst[ii] = a[ii] - b[ii];\n  }\n  return dst;\n};\nNetPositionManager.prototype.vscale = function (dst, a, scalar) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    dst[ii] = a[ii] * scalar;\n  }\n};\n\nNetPositionManager.prototype.reinit = function (options) {\n  this.deinit();\n  the = this;\n\n  options = options || {};\n  this.per_client_data = {};\n  for (let ii = 0; ii < valid_options.length; ++ii) {\n    let field = valid_options[ii];\n    if (options[field]) {\n      this[field] = options[field];\n    }\n  }\n\n  assert.equal(this.dim_pos + this.dim_rot, this.n);\n\n  if (!this.default_pos) {\n    this.default_pos = this.vec();\n  }\n  if (!this.temp_vec) {\n    this.temp_vec = this.vec();\n  }\n  if (!this.temp_delta) {\n    this.temp_delta = this.vec();\n  }\n\n  this.channel = options.channel; // Never inheriting this over reinit()\n  this.last_send = {\n    pos: this.vec(-1),\n    sending: false,\n    send_time: 0,\n  };\n  this.ever_received_character = false;\n\n  this.on_client_change = options.on_client_change;\n\n  if (this.channel) {\n    this.channel.on('channel_data', this.on_channel_data);\n    this.channel.onSubscribe(this.on_subscribe);\n  }\n};\n\n// cb(client_id, pos[2])\nNetPositionManager.prototype.onPositionUpdate = function (cb) {\n  this.on_pos_update = cb;\n};\n\n// cb(client_id, new_state)\nNetPositionManager.prototype.onStateUpdate = function (cb) {\n  this.on_state_update = cb;\n};\n\nfunction syncPosWithCaller(npm, on_pos_set_cb) {\n  npm.vcopy(npm.last_send.pos, npm.default_pos);\n  let new_pos = on_pos_set_cb(npm.last_send.pos);\n  if (new_pos) {\n    npm.vcopy(npm.last_send.pos, new_pos);\n  }\n}\n\nNetPositionManager.prototype.checkNet = function (on_pos_set_cb) {\n  if (!net.client.connected || !this.channel || !this.channel.data.public) {\n    // Not yet in room, do nothing\n    return true;\n  }\n  if (net.client.id !== this.client_id) {\n    // Haven't yet subscribed to this room under the new client_id\n    return true;\n  }\n\n  const me = this.channel.getChannelData(`public.clients.${this.client_id}`, {});\n  if (!me.pos || !me.pos.cur || typeof me.pos.cur[0] !== 'number') {\n    if (this.ever_received_character) {\n      // we must be reconnecting, use last replicated position\n    } else {\n      // fresh connect, use default position, or ask for it from caller\n      syncPosWithCaller(this, on_pos_set_cb);\n    }\n    this.channel.setChannelData(`public.clients.${this.client_id}.pos`, {\n      cur: this.arr(this.last_send.pos), // Do not send as Float64Array\n    });\n    this.ever_received_character = true;\n  } else if (!this.ever_received_character) {\n    syncPosWithCaller(this, on_pos_set_cb);\n    this.ever_received_character = true;\n  }\n  return false;\n};\n\nNetPositionManager.prototype.updateMyPos = function (character_pos, anim_state) {\n  if (!this.vsame(character_pos, this.last_send.pos) || anim_state !== this.last_send.anim_state) {\n    // pos or anim_state changed\n    const now = glov_engine.getFrameTimestamp();\n    if (!this.last_send.sending && (!this.last_send.time || now - this.last_send.time > this.send_time)) {\n      // do send!\n      this.last_send.sending = true;\n      this.last_send.time = now;\n      this.last_send.hrtime = glov_engine.hrnow();\n      this.last_send.speed = 0;\n      if (this.last_send.send_time) {\n        const time = now - this.last_send.send_time;\n        this.last_send.speed = this.vdist(this.last_send.pos, character_pos) / time;\n        if (this.last_send.speed < 0.001) {\n          this.last_send.speed = 0;\n        }\n      }\n      this.last_send.send_time = now;\n      this.vcopy(this.last_send.pos, character_pos);\n      this.last_send.anim_state = anim_state;\n      this.channel.setChannelData(\n        `public.clients.${this.client_id}.pos`, {\n          cur: this.arr(this.last_send.pos), // Do not send as Float64Array\n          state: this.last_send.anim_state, speed: this.last_send.speed,\n          q: 1,\n        }, false, () => {\n          // could avoid needing this response function (and ack packet) if we\n          // instead just watch for the apply_channel_data message containing\n          // (approximately) what we sent\n          this.last_send.sending = false;\n          let end = glov_engine.getFrameTimestamp();\n          let hrend = glov_engine.hrnow();\n          let round_trip = hrend - this.last_send.hrtime;\n          this.ping_time = round_trip;\n          this.ping_time_time = end;\n          if (round_trip > this.send_time) {\n            // hiccup, delay next send\n            this.last_send.time = end;\n          }\n        }\n      );\n    }\n  }\n};\n\nNetPositionManager.prototype.getPing = function (max_age) {\n  if (!this.ping_time_time) {\n    return null;\n  }\n  let age = glov_engine.getFrameTimestamp() - this.ping_time_time;\n  if (age > max_age) {\n    return null;\n  }\n  return {\n    ping: this.ping_time,\n    fade: 1 - age / max_age,\n  };\n};\n\nNetPositionManager.prototype.getPos = function (client_id) {\n  let pcd = this.per_client_data[client_id];\n  if (!pcd) {\n    return null;\n  }\n  return pcd.pos;\n};\n\nNetPositionManager.prototype.getPCD = function (client_id) {\n  return this.per_client_data[client_id];\n};\n\nNetPositionManager.prototype.otherClientPosChanged = function (client_id) {\n  const client_pos = this.channel.getChannelData(`public.clients.${client_id}.pos`);\n  if (!client_pos || !client_pos.cur || typeof client_pos.cur[0] !== 'number') {\n    return;\n  }\n  // client_pos is { cur, state, speed }\n  let pcd = this.per_client_data[client_id];\n  if (!pcd) {\n    pcd = this.per_client_data[client_id] = {};\n    pcd.pos = this.vcopy(this.vec(), client_pos.cur);\n    pcd.net_speed = 0;\n    pcd.net_pos = this.vec();\n    pcd.impulse = this.vec();\n    pcd.net_state = 'idle_down';\n    pcd.anim_state = 'idle_down';\n  }\n  if (client_pos.state) {\n    pcd.net_state = client_pos.state;\n  }\n  this.vcopy(pcd.net_pos, client_pos.cur);\n  pcd.net_speed = client_pos.speed;\n\n  // Keep pcd.pos[rot] within PI of pcd.net_pos, so interpolation always goes the right way\n  for (let ii = 0; ii < this.dim_rot; ++ii) {\n    let jj = this.dim_pos + ii;\n    while (pcd.pos[jj] > pcd.net_pos[jj] + PI) {\n      pcd.pos[jj] -= TWO_PI;\n    }\n    while (pcd.pos[jj] < pcd.net_pos[jj] - PI) {\n      pcd.pos[jj] += TWO_PI;\n    }\n  }\n\n  // This interpolation logic taken from Splody\n  // Doesn't do great with physics-based jumps though\n  const delta = this.vsub(this.temp_delta, pcd.net_pos, pcd.pos);\n  const dist = this.vlength(delta);\n\n  if (dist > 0) {\n    const time_to_dest = dist / pcd.net_speed;\n    if (time_to_dest < this.send_time + this.window) {\n      // Would get there in the expected time, use this speed\n      this.vscale(pcd.impulse, delta, pcd.net_speed / dist);\n    } else if (time_to_dest < this.send_time + this.window * this.smooth_windows) { // 0.5s\n      // We'll could be there in under half a second, try to catch up smoothly\n      // Using provided speed is too slow, go faster, though no slower than we were going\n      // (in case this is the last of multiple delayed updates and the last update was going a tiny distance slowly)\n      const old_speed = this.vlength(pcd.impulse);\n      const specified_speed = pcd.net_speed;\n      const new_speed = max(specified_speed * this.smooth_factor, old_speed);\n      this.vscale(pcd.impulse, delta, new_speed / dist);\n    } else {\n      // We're way far behind using the provided speed, attempt to get all the way there by the next few\n      // theoretical updates, this basically snaps if this is particularly small\n      this.vscale(pcd.impulse, delta, 1 / (this.send_time + this.window * this.snap_factor));\n    }\n  }\n};\n\nNetPositionManager.prototype.updateOtherClient = function (client_id, dt) {\n  const pcd = this.per_client_data[client_id];\n  if (!pcd) {\n    // Never got a position sent to us, ignore\n    return null;\n  }\n\n  // Apply interpolation (logic from Splody)\n  let stopped = true;\n  for (let ii = 0; ii < this.n; ++ii) {\n    if (pcd.impulse[ii]) {\n      const delta_old = pcd.net_pos[ii] - pcd.pos[ii];\n      const delta_old_sign = util.sign(delta_old);\n      pcd.pos[ii] += pcd.impulse[ii] * dt;\n      const delta_new = pcd.net_pos[ii] - pcd.pos[ii];\n      const delta_new_sign = util.sign(delta_new);\n      if (delta_new_sign !== delta_old_sign) {\n        // made it or passed it\n        pcd.pos[ii] = pcd.net_pos[ii];\n        pcd.impulse[ii] = 0;\n      } else if (ii < this.dim_pos && pcd.impulse[ii] > 0.01) {\n        // If positional (not rotation), we're not stopped\n        stopped = false;\n      }\n    }\n  }\n  if (this.on_pos_update) {\n    this.on_pos_update(client_id, pcd.pos);\n  }\n\n  const cur_is_run = pcd.anim_state[0] === 'f' || pcd.anim_state[0] === 'w';\n  const new_is_idle = pcd.net_state[0] === 'i';\n  if (cur_is_run && new_is_idle && !stopped) {\n    // don't apply yet\n  } else {\n    pcd.anim_state = pcd.net_state;\n    if (this.on_state_update) {\n      this.on_state_update(client_id, pcd.net_state);\n    }\n  }\n  return pcd;\n};\nNetPositionManager.prototype.n = 2; // dimensionality of position vectors\nNetPositionManager.prototype.dim_pos = 2; // number of components to be interpolated as-is\nNetPositionManager.prototype.dim_rot = 0; // number of components to be interpolated with 2PI wrapping\nNetPositionManager.prototype.send_time = 200; // how often to send position updates\nNetPositionManager.prototype.window = 200; // maximum expected variation in time between updates; ms\nNetPositionManager.prototype.snap_factor = 1.0; // how many windows to snap in when we think we need to snap\nNetPositionManager.prototype.smooth_windows = 6.5; // how many windows behind we can be and only accelerate a little\nNetPositionManager.prototype.smooth_factor = 1.2; // how much faster to go in the smoothing window\n\n\nexport function create(options) {\n  return new NetPositionManager(options);\n}\n\n\nfunction ScalarInterpolator(tick_time) {\n  this.tick_time = tick_time * 1.25;\n  this.reset();\n}\n\nScalarInterpolator.prototype.reset = function () {\n  this.value = undefined;\n  this.target_value = undefined;\n  this.vel = 0;\n};\n\n// Assume any change happened on the server at frequency tick_time\n// Updates state.value and also returns it\nScalarInterpolator.prototype.update = function (dt, new_value) {\n  if (this.value === undefined) {\n    this.value = new_value;\n    this.target_value = new_value;\n    return;\n  }\n  // TODO: Could figure expected velocity and use logic like in updateOtherClient\n  if (new_value !== this.target_value) {\n    // try to get there in tick_time\n    this.vel = (new_value - this.value) / this.tick_time;\n    this.target_value = new_value;\n  }\n  if (this.value !== this.target_value) {\n    if (this.vel > 0) {\n      this.value = min(this.value + this.vel * dt, this.target_value);\n    } else {\n      this.value = max(this.value + this.vel * dt, this.target_value);\n    }\n  }\n};\n\nScalarInterpolator.prototype.getValue = function () {\n  return this.value;\n};\n\nexport function createScalarInterpolator(tick_time) {\n  return new ScalarInterpolator(tick_time);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n//////////////////////////////////////////////////////////////////////////\n// Particle System Spec\n\n/*\n// Definitions\n// value = number or\n// value = [base, add_max] -> generates a number in the range [base, base + add_max)\nlet def_fire = {\n  particles: {\n    fire: {\n      blend: 'additive',\n      texture: 'fire.png',\n      color: [1,1,1,1], // multiplied by animation track, default 1,1,1,1, can be omitted\n      color_track: [ // just values, NOT random range\n        { t: 0.0, v: [1,0.4,0.4,1] },\n        { t: 0.7, v: [1,0,0,1] },\n        { t: 0.9, v: [0.2,0,0,1] },\n        { t: 1.0, v: [0,0,0,1] },\n      ],\n      size: [[32,16], [32,16]], // multiplied by animation track\n      size_track: [ // just values, NOT random range\n        { t: 0.0, v: [1,1] },\n        { t: 0.4, v: [0.5,0.5] },\n        { t: 0.7, v: [1,1] },\n        { t: 1.0, v: [1.5,1.5] },\n      ],\n      accel: [0,0],\n      rot: [0,360], // degrees\n      rot_vel: [10,2], // degrees per second\n      lifespan: [450,0], // milliseconds\n      kill_time_accel: 5,\n    },\n  },\n  emitters: {\n    fire: {\n      particle: 'fire',\n      // Random ranges affect each emitted particle:\n      pos: [[0,28], [0,28]],\n      vel: [0,0],\n      emit_rate: [60,20], // emissions per second\n      // Random ranges only calculated upon instantiation:\n      emit_time: [0,Infinity],\n      emit_initial: 10,\n    },\n  },\n  system_lifespan: Infinity, // must be manually killed\n};\n\n// Usage\nlet system = glov_engine.glov_particles.createSystem(def_fire, [50, 50, Z.PARTICLES]);\nsystem.updatePos(75, 75);\nsystem.killSoft(); // stops emitting and speeds up particles by kill_time_accel\nsystem.killHard(); // immediately stops drawing\n\n*/\n\n//////////////////////////////////////////////////////////////////////////\n// Implementation\n\nconst assert = require('assert');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { vec2, v2copy, v2lerp, v2mul } = require('./vmath.js');\nconst { vec3, vec4, v3add, v4copy, v4lerp, v4mul } = require('./vmath.js');\n\nconst blend_map = {\n  alpha: sprites.BLEND_ALPHA,\n  additive: sprites.BLEND_ADDITIVE,\n};\n\nexport function preloadParticleData(particle_data) {\n  // Preload all referenced particle textures\n  for (let key in particle_data.defs) {\n    let def = particle_data.defs[key];\n    for (let part_name in def.particles) {\n      let part_def = def.particles[part_name];\n      textures.load({ url: `img/${part_def.texture}.png` });\n    }\n  }\n}\n\n// Expect all values to be a pair of [base, add_max]\nfunction normalizeValue(v) {\n  if (v instanceof Float32Array && v.length >= 2) {\n    return v;\n  } else if (typeof v === 'number') {\n    return vec2(v, 0);\n  } else if (Array.isArray(v) || v instanceof Float32Array) {\n    // already an array, convert to Vec2\n    return vec2(v[0] || 0, v[1] || 0);\n  } else {\n    return assert(false);\n  }\n}\n\nfunction normalizeValueVec(vec, length) {\n  assert(length);\n  assert(Array.isArray(vec));\n  let ret = new Array(length);\n  for (let ii = 0; ii < length; ++ii) {\n    ret[ii] = normalizeValue(vec[ii]);\n  }\n  return ret;\n}\n\nfunction normalizeParticle(def, particle_manager) {\n  if (!def.normalized) {\n    let norm = def.normalized = {\n      blend: blend_map[def.blend] || sprites.BLEND_ALPHA,\n      texture: textures.load({ url: def.texture ? `img/${def.texture}.png` : 'img/glov/util_circle.png' }),\n      color: normalizeValueVec(def.color || [1,1,1,1], 4),\n      color_track: null,\n      size: normalizeValueVec(def.size || [1,1], 2),\n      size_track: null,\n      accel: normalizeValueVec(def.accel || [0,0,0], 3),\n      rot: normalizeValue(def.rot || 0),\n      rot_vel: normalizeValue(def.rot || 0),\n      lifespan: normalizeValue(def.lifespan || 1000),\n      kill_time_accel: normalizeValue(def.kill_time_accel || 1),\n    };\n    assert(norm.kill_time_accel[0] >= 1); // cannot slow down on kill!\n    if (def.color_track && def.color_track.length) {\n      assert(def.color_track.length > 1);\n      norm.color_track = [];\n      for (let ii = 0; ii < def.color_track.length; ++ii) {\n        let e = def.color_track[ii];\n        assert(typeof e.t === 'number');\n        let arr = new Float32Array(5);\n        arr[0] = e.v[0];\n        arr[1] = e.v[1];\n        arr[2] = e.v[2];\n        arr[3] = e.v[3];\n        arr[4] = e.t;\n        norm.color_track.push(arr);\n      }\n    }\n    if (def.size_track && def.size_track.length) {\n      assert(def.size_track.length > 1);\n      norm.size_track = [];\n      for (let ii = 0; ii < def.size_track.length; ++ii) {\n        let e = def.size_track[ii];\n        assert(typeof e.t === 'number');\n        let arr = new Float32Array(3);\n        arr[0] = e.v[0];\n        arr[1] = e.v[1];\n        arr[2] = e.t;\n        norm.size_track.push(arr);\n      }\n    }\n  }\n  return def.normalized;\n}\n\nfunction findParticle(particles, name) {\n  assert(particles[name] !== undefined);\n  return particles[name];\n}\n\nfunction normalizeEmitter(def, part_map) {\n  if (!def.normalized) {\n    def.normalized = {\n      part_idx: findParticle(part_map, def.particle),\n      pos: normalizeValueVec(def.pos || [0,0,0], 3),\n      vel: normalizeValueVec(def.vel || [0,0,0], 3),\n      emit_rate: normalizeValue(def.emit_rate || 10),\n      emit_time: normalizeValueVec(def.emit_time || [0,Infinity], 2),\n      emit_initial: normalizeValue(def.emit_initial || 1),\n    };\n    // convert particles per second to ms per emission\n    let min = def.normalized.emit_rate[0];\n    let max = def.normalized.emit_rate[0] + def.normalized.emit_rate[1];\n    def.normalized.emit_rate[0] = 1000 / max;\n    def.normalized.emit_rate[1] = 1000 / min;\n    assert(def.normalized.emit_rate[0] > 1); // Not more than 1000 per second, that's ridic'.\n  }\n  return def.normalized;\n}\n\nfunction normalizeDef(def, particle_manager) {\n  if (!def.normalized) {\n    let norm = def.normalized = {\n      system_lifespan: normalizeValue(def.system_lifespan || Infinity),\n      particles: [],\n      emitters: [],\n    };\n    let part_map = {};\n    for (let key in def.particles) {\n      part_map[key] = norm.particles.length;\n      norm.particles.push(normalizeParticle(def.particles[key], particle_manager));\n    }\n    for (let key in def.emitters) {\n      norm.emitters.push(normalizeEmitter(def.emitters[key], part_map));\n    }\n  }\n  return def.normalized;\n}\n\nfunction instValue(v) {\n  return v[0] + Math.random() * v[1];\n}\nfunction instValueVec(v) {\n  let ret = new Float32Array(v.length);\n  for (let ii = 0; ii < v.length; ++ii) {\n    ret[ii] = instValue(v[ii]);\n  }\n  return ret;\n}\n\nlet temp_color = vec4();\nlet temp_color2 = vec4();\nlet temp_size = vec2();\nlet temp_size2 = vec2();\n// let temp_pos = v3allocZero();\n\nclass ParticleSystem {\n  constructor(parent, def_in, pos) {\n    assert(pos.length === 3);\n    this.parent = parent;\n    this.def = normalizeDef(def_in, parent);\n    this.system_lifespan = instValue(this.def.system_lifespan);\n    assert(this.system_lifespan > 0);\n    this.age = 0;\n    this.kill_hard = false;\n    this.kill_soft = false;\n    this.pos = vec3(pos[0], pos[1], pos[2]);\n    this.part_sets = [];\n    for (let ii = 0; ii < this.def.particles.length; ++ii) {\n      let def = this.def.particles[ii];\n      let part_set = {\n        def,\n        parts: [],\n      };\n      this.part_sets.push(part_set);\n    }\n    this.emitters = [];\n    // Instantiate emitters\n    for (let ii = 0; ii < this.def.emitters.length; ++ii) {\n      let def = this.def.emitters[ii];\n      let emitter = {\n        def,\n        emit_time: instValueVec(def.emit_time),\n        countdown: 0,\n        started: false,\n        stopped: false,\n      };\n      this.emitters.push(emitter);\n    }\n    // Do *not* do this here, causes them to be drawn twice on the first frame,\n    //   they'll be ticked as usual.\n    // // do initial tick for things that have an emit_time[0] of 0 and have an emit_initial\n    // this.tick(0);\n  }\n\n  tickParticle(part, dt) { // eslint-disable-line class-methods-use-this\n    let def = part.def;\n    part.age += dt;\n    let age_norm = part.age / part.lifespan;\n    if (age_norm >= 1) {\n      return true;\n    }\n\n    // Pos, vel - incrementally computed\n    let dts = dt / 1000;\n    part.pos[0] += part.vel[0] * dts;\n    part.pos[1] += part.vel[1] * dts;\n    part.pos[2] += part.vel[2] * dts;\n    part.vel[0] += part.accel[0] * dts;\n    part.vel[1] += part.accel[1] * dts;\n    part.vel[2] += part.accel[2] * dts;\n\n    // Color, size, rot - explicitly computed\n    v4copy(temp_color, part.color, temp_color);\n    if (def.color_track) {\n      if (age_norm < def.color_track[0][4]) {\n        v4mul(temp_color, temp_color, def.color_track[0]);\n      } else if (age_norm >= def.color_track[def.color_track.length - 1][4]) {\n        v4mul(temp_color, temp_color, def.color_track[def.color_track.length - 1]);\n      } else {\n        for (let ii = 0; ii < def.color_track.length - 1; ++ii) {\n          if (age_norm >= def.color_track[ii][4] && age_norm < def.color_track[ii + 1][4]) {\n            let weight = (age_norm - def.color_track[ii][4]) / (def.color_track[ii + 1][4] - def.color_track[ii][4]);\n            v4lerp(temp_color2, weight, def.color_track[ii], def.color_track[ii + 1]);\n            v4mul(temp_color, temp_color, temp_color2);\n            break;\n          }\n        }\n      }\n    }\n\n    v2copy(temp_size, part.size);\n    if (def.size_track) {\n      if (age_norm < def.size_track[0][2]) {\n        v2mul(temp_size, temp_size, def.size_track[0]);\n      } else if (age_norm >= def.size_track[def.size_track.length - 1][2]) {\n        v2mul(temp_size, temp_size, def.size_track[def.size_track.length - 1]);\n      } else {\n        for (let ii = 0; ii < def.size_track.length - 1; ++ii) {\n          if (age_norm >= def.size_track[ii][2] && age_norm < def.size_track[ii + 1][2]) {\n            let weight = (age_norm - def.size_track[ii][2]) / (def.size_track[ii + 1][2] - def.size_track[ii][2]);\n            v2lerp(temp_size2, weight, def.size_track[ii], def.size_track[ii + 1]);\n            v2mul(temp_size, temp_size, temp_size2);\n            break;\n          }\n        }\n      }\n    }\n\n    // TODO: let rot = part.rot + part.age * part.rot_vel;\n\n    // TODO: draw using:\n    //   rot\n    let w = temp_size[0];\n    let h = temp_size[1];\n    let x = part.pos[0] - w/2;\n    let y = part.pos[1] - h/2;\n    let z = part.pos[2];\n    sprites.queueraw4([def.texture],\n      x, y, x, y + h, x + w, y + h, x + w, y, z, 0, 0, 1, 1,\n      temp_color, null, null, def.blend);\n\n    return false;\n  }\n\n  tickPartSet(dt_orig, part_set) {\n    //let def = part_set.def;\n    let parts = part_set.parts;\n    for (let ii = parts.length - 1; ii >= 0; --ii) {\n      let part = parts[ii];\n      let dt = this.kill_soft ? dt_orig * part.kill_time_accel : dt_orig;\n      if (this.tickParticle(part, dt)) {\n        parts[ii] = parts[parts.length - 1];\n        parts.pop();\n      }\n    }\n  }\n\n  emitParticle(init_dt, emitter) {\n    let emitter_def = emitter.def;\n    let part_set = this.part_sets[emitter_def.part_idx];\n    let def = part_set.def;\n    let pos = instValueVec(emitter_def.pos, 3);\n    v3add(pos, pos, this.pos);\n    // PERFTODO: Make the whole Particle just a data[] Float32Array\n    let part = {\n      def,\n      pos,\n      color: instValueVec(def.color, 4),\n      size: instValueVec(def.size, 4),\n      vel: instValueVec(emitter_def.vel, 3),\n      accel: instValueVec(def.accel, 3),\n      rot: instValue(def.rot),\n      rot_vel: instValue(def.rot_vel),\n      lifespan: instValue(def.lifespan),\n      kill_time_accel: instValue(def.kill_time_accel),\n      age: 0,\n    };\n    if (!this.tickParticle(part, init_dt)) {\n      part_set.parts.push(part);\n    }\n  }\n\n  tickEmitter(dt, emitter) {\n    let def = emitter.def;\n    // check for initial emission\n    if (!emitter.started && this.age >= emitter.emit_time[0]) {\n      emitter.started = true;\n      // ignore time before we started emitting\n      dt = this.age - emitter.emit_time[0];\n      let num = instValue(def.emit_initial);\n      for (let ii = 0; ii < num; ++ii) {\n        this.emitParticle(dt, emitter);\n      }\n      emitter.countdown = instValue(def.emit_rate);\n    }\n    if (emitter.started && !emitter.stopped && !this.kill_soft) {\n      // should we stop?\n      let remaining_dt = dt;\n      let emit_dt = dt;\n      if (this.age >= emitter.emit_time[1]) {\n        emitter.stopped = true;\n        // Do not emit during time after we stopped\n        emit_dt -= this.age - emitter.emit_time[1];\n      }\n      // Emit dt's worth of particles\n      while (emit_dt >= emitter.countdown) {\n        emit_dt -= emitter.countdown;\n        remaining_dt -= emitter.countdown;\n        emitter.countdown = instValue(def.emit_rate);\n        this.emitParticle(remaining_dt, emitter);\n      }\n      emitter.countdown -= emit_dt;\n    }\n  }\n\n  tick(dt) {\n    if (this.kill_hard) {\n      return true;\n    }\n    // tick existing particles\n    for (let ii = this.part_sets.length - 1; ii >= 0; --ii) {\n      this.tickPartSet(dt, this.part_sets[ii]);\n    }\n    // advance time and spawn new ones (with partial ticks)\n    this.age += dt;\n    for (let ii = 0; ii < this.emitters.length; ++ii) {\n      this.tickEmitter(dt, this.emitters[ii]);\n    }\n\n    return this.age >= this.system_lifespan; // kill if past lifespan\n  }\n\n  shift(delta) {\n    if (this.def.no_shift) {\n      return;\n    }\n    this.pos[0] += delta[0];\n    this.pos[1] += delta[1];\n    this.pos[2] += delta[2];\n    for (let ii = 0; ii < this.part_sets.length; ++ii) {\n      let parts = this.part_sets[ii].parts;\n      for (let jj = 0; jj < parts.length; ++jj) {\n        let part = parts[jj];\n        part.pos[0] += delta[0];\n        part.pos[1] += delta[1];\n        part.pos[2] += delta[2];\n      }\n    }\n  }\n}\n\nclass ParticleManager {\n  constructor() {\n    this.systems = [];\n  }\n\n  createSystem(def, pos) {\n    let system = new ParticleSystem(this, def, pos);\n    this.systems.push(system);\n    return system;\n  }\n\n  tick(dt) {\n    for (let ii = this.systems.length - 1; ii >= 0; --ii) {\n      if (this.systems[ii].tick(dt)) {\n        this.systems[ii] = this.systems[this.systems.length - 1];\n        this.systems.pop();\n      }\n    }\n  }\n\n  killAll() {\n    this.systems = [];\n  }\n\n  shift(delta) {\n    for (let ii = 0; ii < this.systems.length; ++ii) {\n      this.systems[ii].shift(delta);\n    }\n  }\n}\n\nexport function create() {\n  return new ParticleManager();\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst input = require('./input.js');\nconst { max } = Math;\nconst settings = require('./settings.js');\nconst ui = require('./ui.js');\nconst { vec4, v3copy } = require('./vmath.js');\n\nlet metrics = [];\n\nconst METRIC_PAD = 2;\n\nlet bg_default = vec4(0,0,0,0.5);\nlet bg_mouse_over = vec4(0,0,0,0.75);\nlet bg_fade = vec4();\n\n// referenced in engine.js\nsettings.register({\n  show_metrics: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  show_fps: {\n    label: 'Show FPS',\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,3],\n  },\n  fps_graph: {\n    label: 'FPS Graph',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  fps_window: {\n    label: 'FPS Time Window (seconds)',\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0.001, 120],\n  },\n});\n\ncmd_parse.register({\n  cmd: 'fps',\n  help: 'Toggles FPS display',\n  func: function (str, resp_func) {\n    if (settings.show_fps && settings.show_metrics || str === '0') {\n      settings.set('show_fps', 0);\n    } else {\n      settings.set('show_fps', 1);\n      settings.set('show_metrics', 1);\n    }\n    resp_func();\n  },\n});\n\nlet fps_style = glov_font.style({\n  outline_width: 2, outline_color: 0x00000080,\n  color: 0xFFFFFFff,\n});\n\nexport function addMetric(metric) {\n  if (metric.show_graph) {\n    metric.num_lines = metric.colors.length;\n    metric.history_size = metric.data.history.length / metric.num_lines;\n  }\n  metric.num_labels = Object.keys(metric.labels).length;\n  if (metric.interactable === undefined) {\n    metric.interactable = engine.DEBUG && (metric.num_labels > 1 || metric.show_graph);\n  }\n  metrics.push(metric);\n}\n\nfunction showMetric(y, metric) {\n  let font = engine.font;\n  let pad = METRIC_PAD;\n  let line_height = ui.font_height / settings.render_scale_all;\n  let METRIC_VALUE_WIDTH = line_height * (metric.width || 2.5);\n  let x = camera2d.x1Real() - METRIC_VALUE_WIDTH - pad;\n  let y0 = y;\n  y += pad;\n  let max_label_w = 0;\n  let max_labels = settings[metric.show_stat];\n  let drew_any = false;\n  let alpha = 1;\n  for (let label in metric.labels) {\n    let value = metric.labels[label]();\n    if (value) {\n      let style = fps_style;\n      if (value.alpha) {\n        alpha = value.alpha;\n        value = value.value;\n        style = glov_font.styleAlpha(fps_style, alpha);\n      }\n      let label_w = font.drawSizedAligned(style, x, y, Z.FPSMETER + 1, line_height,\n        glov_font.ALIGN.HRIGHT, 0, 0, label);\n      max_label_w = max(max_label_w, label_w);\n      font.drawSizedAligned(style, x, y, Z.FPSMETER + 1, line_height,\n        glov_font.ALIGN.HFIT, METRIC_VALUE_WIDTH, 0, value);\n      y += line_height;\n      drew_any = true;\n    }\n    if (!--max_labels) {\n      break;\n    }\n  }\n  let w = METRIC_VALUE_WIDTH + max_label_w + METRIC_PAD;\n  x -= max_label_w + METRIC_PAD;\n\n  if (!drew_any) {\n    return y - pad;\n  }\n\n  y += pad;\n  let bg = bg_default;\n  let pos_param = {\n    x: x - pad,\n    y: y0,\n    w: w + pad * 2,\n    h: y - y0,\n  };\n  if (metric.interactable) {\n    if (input.mouseUpEdge(pos_param)) {\n      if (metric.num_labels > 1 && settings[metric.show_stat] <= 1) {\n        settings.set(metric.show_stat, metric.num_labels);\n      } else if (metric.show_graph && !settings[metric.show_graph]) {\n        settings.set(metric.show_graph, 1);\n      } else {\n        if (metric.show_graph) {\n          settings.set(metric.show_graph, 0);\n        }\n        settings.set(metric.show_stat, 1);\n      }\n    }\n    if (input.mouseOver(pos_param)) {\n      bg = bg_mouse_over;\n    }\n  }\n  if (alpha !== 1) {\n    bg_fade[3] = bg[3] * alpha;\n    bg = v3copy(bg_fade, bg);\n  }\n  ui.drawRect(pos_param.x, pos_param.y, pos_param.x + pos_param.w, y, Z.FPSMETER, bg);\n  return y;\n}\n\nfunction showMetricGraph(y, metric) {\n  const small = engine.game_height < 300;\n  const LINE_WIDTH = small ? 1 : 3;\n  const LINE_PAD = small ? 0 : 1;\n  const LINE_HEIGHT = small ? 64 : 128;\n  const NUM_LINES = metric.history_size - 1;\n  let w = (LINE_WIDTH + LINE_PAD) * NUM_LINES;\n  let x = camera2d.x1Real() - w;\n  let h = LINE_HEIGHT + LINE_PAD * 2;\n  let z = Z.FPSMETER;\n  ui.drawRect(x, y - h, x + w, y, z++, bg_default);\n  x += LINE_PAD;\n  y -= LINE_PAD;\n  let history_index = metric.data.index;\n  let line_scale = LINE_HEIGHT / metric.line_scale_top;\n  for (let ii = 0; ii < NUM_LINES; ii++) {\n    let line_index = ((ii + history_index + 1) % metric.history_size) * metric.num_lines;\n    let data = metric.data.history;\n    let bar_max = 0;\n    for (let jj = 0; jj < metric.num_lines; jj++) {\n      let line_jj = data[line_index + jj];\n      let bar_min;\n      if (metric.bars_stack) {\n        bar_min = bar_max;\n        bar_max += line_jj;\n      } else {\n        // bars overlap, figure out how big this bar should be relative to next smallest\n        let lesser = 0;\n        for (let kk = 0; kk < metric.num_lines; kk++) {\n          if (kk === jj) {\n            continue;\n          }\n          let line_kk = data[line_index + kk];\n          if ((line_kk < line_jj || line_kk === line_jj && kk < jj) && line_kk > lesser) {\n            lesser = line_kk;\n          }\n        }\n        bar_min = lesser;\n        bar_max = line_jj;\n      }\n      let color = metric.colors[jj];\n      ui.drawRect(x, y - bar_max * line_scale, x + LINE_WIDTH, y - bar_min * line_scale, z, color);\n    }\n    x += LINE_WIDTH + LINE_PAD;\n  }\n  z += NUM_LINES;\n  y -= LINE_HEIGHT + LINE_PAD;\n  return y;\n}\n\nexport function draw() {\n  camera2d.setAspectFixed(engine.game_width, engine.game_height);\n  let y = camera2d.y0Real();\n  let y_graph = camera2d.y1Real();\n  for (let ii = 0; ii < metrics.length; ++ii) {\n    let metric = metrics[ii];\n    if (settings[metric.show_stat]) {\n      y = showMetric(y, metric);\n      y += METRIC_PAD;\n    }\n    if (settings[metric.show_graph]) {\n      y_graph = showMetricGraph(y_graph, metric);\n      y_graph -= METRIC_PAD;\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nlet user_want_locked = false;\nlet elem;\nlet on_ptr_lock;\n\nexport function isLocked() {\n  return user_want_locked; // Either it's locked, or there's an async attempt to lock it outstanding\n}\n\nfunction pointerLog(msg) {\n  console.log(`PointerLock: ${msg}`); // TODO: Disable this after things settle\n}\n\nexport function exit() {\n  pointerLog('Lock exit requested');\n  user_want_locked = false;\n  document.exitPointerLock();\n}\n\nexport function enter(when) {\n  user_want_locked = true;\n  on_ptr_lock();\n  pointerLog(`Trying pointer lock in response to ${when}`);\n  elem.requestPointerLock();\n}\n\nfunction onPointerLockChange() {\n  if (document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement) {\n    pointerLog('Lock successful');\n    if (!user_want_locked) {\n      pointerLog('User canceled lock');\n      document.exitPointerLock();\n    }\n  } else {\n    if (user_want_locked) {\n      pointerLog('Lock lost');\n      user_want_locked = false;\n    }\n  }\n}\n\nfunction onPointerLockError(e) {\n  pointerLog('Error');\n  user_want_locked = false;\n}\n\nexport function startup(_elem, _on_ptr_lock) {\n  elem = _elem;\n  on_ptr_lock = _on_ptr_lock;\n\n  elem.requestPointerLock = elem.requestPointerLock || elem.mozRequestPointerLock ||\n    elem.webkitRequestPointerLock || function () { /* nop */ };\n  document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock ||\n    document.webkitExitPointerLock || function () { /* nop */ };\n\n  document.addEventListener('pointerlockchange', onPointerLockChange, false);\n  document.addEventListener('mozpointerlockchange', onPointerLockChange, false);\n  document.addEventListener('webkitpointerlockchange', onPointerLockChange, false);\n\n  document.addEventListener('pointerlockerror', onPointerLockError, false);\n  document.addEventListener('mozpointerlockerror', onPointerLockError, false);\n  document.addEventListener('webkitpointerlockerror', onPointerLockError, false);\n}\n","/* eslint no-extend-native:off,no-invalid-this:off */\n\n// TypedArray.slice, fill, join, sort, etc - not supported on IE, some older Safari, older Android, Chrome 44\nlet typedarrays = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array];\n\nif (!Uint8Array.prototype.slice) {\n  typedarrays.forEach(function (ArrayType) {\n    Object.defineProperty(ArrayType.prototype, 'slice', {\n      value: function (begin, end) {\n        if (end === undefined) {\n          end = this.length;\n        }\n        if (end < 0) {\n          end = this.length - end;\n        }\n        begin = begin || 0;\n        if (begin >= this.length) {\n          begin = this.length - 1;\n        }\n        if (end > this.length) {\n          end = this.length;\n        }\n        if (end < begin) {\n          end = begin;\n        }\n        let len = end - begin;\n        let ret = new ArrayType(len);\n        for (let ii = 0; ii < len; ++ii) {\n          ret[ii] = this[begin + ii];\n        }\n        return ret;\n      }\n    });\n  });\n}\n\nfunction cmpDefault(a, b) {\n  return a - b;\n}\nlet replacements = {\n  join: function (delim) {\n    return Array.prototype.join.call(this, delim);\n  },\n  fill: function (value, begin, end) {\n    if (end === undefined) {\n      end = this.length;\n    }\n    for (let ii = begin || 0; ii < end; ++ii) {\n      this[ii] = value;\n    }\n    return this;\n  },\n  sort: function (cmp) {\n    Array.prototype.sort.call(this, cmp || cmpDefault);\n  },\n};\n\nfor (let key in replacements) {\n  if (!Uint8Array.prototype[key]) {\n    typedarrays.forEach(function (ArrayType) {\n      Object.defineProperty(ArrayType.prototype, key, {\n        value: replacements[key],\n      });\n    });\n  }\n}\n\nif (!String.prototype.endsWith) {\n  Object.defineProperty(String.prototype, 'endsWith', {\n    value: function (test) {\n      return this.slice(-test.length) === test;\n    },\n  });\n  Object.defineProperty(String.prototype, 'startsWith', {\n    value: function (test) {\n      return this.slice(0, test.length) === test;\n    },\n  });\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Alea PRNG\n// Based on code from Johannes Baagøe <baagoe@baagoe.com>, 2010\n// From https://github.com/coverslide/node-alea/blob/master/alea.js, MIT Licensed\n// From http://baagoe.com/en/RandomMusings/javascript/\n\nexport function mashString(data) {\n  let n = 0xefc8249d;\n  for (let i = 0; i < data.length; i++) {\n    n += data.charCodeAt(i);\n    let h = 0.02519603282416938 * n;\n    n = h >>> 0;\n    h -= n;\n    h *= n;\n    n = h >>> 0;\n    h -= n;\n    n += h * 0x100000000; // 2^32\n  }\n  return n >>> 0;\n  // return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n}\n\n// Takes an integer (up to 53bits) and returns a 0-1 float\nexport function mashI53(data) {\n  let n = 0xefc8249d;\n  while (data) {\n    let byte = data % 256;\n    data = (data - byte) / 256;\n    n += byte;\n    let h = 0.02519603282416938 * n;\n    n = h >>> 0;\n    h -= n;\n    h *= n;\n    n = h >>> 0;\n    h -= n;\n    n += h * 0x100000000; // 2^32\n  }\n  return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n}\n\nfunction Mash() {\n  this.n = 0xc06c5fc8; // 0xefc8249d;\n}\nMash.prototype.mash = function (data) {\n  let n = this.n + data;\n  let h = 0.02519603282416938 * n;\n  n = h >>> 0;\n  h -= n;\n  h *= n;\n  n = h >>> 0;\n  h -= n;\n  n += h * 0x100000000; // 2^32\n  this.n = n;\n  return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n};\n\nfunction Alea(seed) {\n  this.reseed(seed);\n}\nAlea.prototype.reseed = function (seed) {\n  // this.s0/s1/s2 are floating point between 0 and 1\n  // this.c is a 32-bit int\n  this.c = 1;\n  let mash = new Mash();\n  // Hard-coded results of initial mash(' ') found in original implementation\n  this.s0 = 0.3014581324532628;\n  this.s1 = 0.2643220406025648;\n  this.s2 = 0.7516536582261324;\n\n  this.s0 -= mash.mash(seed);\n  if (this.s0 < 0) {\n    this.s0 += 1;\n  }\n  this.s1 -= mash.mash(seed);\n  if (this.s1 < 0) {\n    this.s1 += 1;\n  }\n  this.s2 -= mash.mash(seed);\n  if (this.s2 < 0) {\n    this.s2 += 1;\n  }\n};\nAlea.prototype.step = function () {\n  let t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\n  this.s0 = this.s1;\n  this.s1 = this.s2;\n  return (this.s2 = t - (this.c = t | 0));\n};\nAlea.prototype.uint32 = function () {\n  return this.step() * 0x100000000; // 2^32\n};\nAlea.prototype.fract53 = function () {\n  return this.step() +\n    (this.step() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n};\nAlea.prototype.random = Alea.prototype.step;\nAlea.prototype.range = function (range) {\n  return (this.step() * range) | 0;\n};\nAlea.prototype.floatBetween = function (a, b) {\n  return a + (b - a) * this.random();\n};\n\n// Note: import/export probably needs more precision than F32 or JSON provide\nAlea.prototype.exportState = function () {\n  return [this.s0, this.s1, this.s2, this.c];\n};\nAlea.prototype.importState = function (i) {\n  this.s0 = i[0];\n  this.s1 = i[1];\n  this.s2 = i[2];\n  this.c = i[3];\n};\n\nexport function randCreate(seed) {\n  return new Alea(seed);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// RandSeed2\n// Derived from libGlov, MIT Licensed\n// Super-simple RNG.  2-3x faster than Alea, but probably some correlation in\n//   anything but 1D.\n// Allows for fast, direct manipulation of rand.seed (if correlation between adjacent seeds is acceptable)\n\n//const MAX_INT2 = 0xFFFFFFFF;\n\n// Initialize with two steps past the seed, otherwise close seeds (e.g. 0 and 1) produce very close first results\nfunction step2(seed) {\n  seed = (seed >>> 0) || 0x532f638c2; // arbitrary non-zero\n  seed ^= seed << 13;\n  seed ^= seed >>> 17;\n  seed ^= seed << 5;\n  seed ^= seed << 13;\n  seed ^= seed >>> 17;\n  seed ^= seed << 5;\n  return seed >>> 0;\n}\n\nfunction RandSeed2(seed) {\n  this.seed = step2(seed);\n}\nRandSeed2.prototype.reseed = function (seed) {\n  this.seed = step2(seed);\n};\nRandSeed2.prototype.step = function () { // as long as seed is never === 0, this never returns 0\n  let seed = this.seed;\n  seed ^= seed << 13;\n  seed ^= seed >>> 17;\n  seed ^= seed << 5;\n  return (this.seed = (seed >>> 0)) - 1;\n};\nRandSeed2.prototype.uint32 = RandSeed2.prototype.step;\n// returns [0,range-1]\nRandSeed2.prototype.range = function (range) {\n  // slightly slower (esp before opt): return (this.step() * range / MAX_INT2) | 0; // faster than this.step() % range\n  // slower: return this.step() % range;\n  return (this.step() * range * 2.3283064376e-10) | 0; // 1/MAX_INT2 - largest float such that 0xFFFFFFFE*f < 1.0\n};\n// returns [0,1)\nRandSeed2.prototype.random = function () {\n  // slower: return this.step() / MAX_INT2\n  return this.step() * 2.3283064376e-10; // 1/MAX_INT2 - largest float such that 0xFFFFFFFE*f < 1.0\n};\nRandSeed2.prototype.floatBetween = function (a, b) {\n  return a + (b - a) * this.random();\n};\n\nexport function randFastCreate(seed) {\n  return new RandSeed2(seed);\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// This is ported pretty directly from libGLOV, could really use a fresh\n//   implementation that is more focus aware and gamepad friendly, and should\n//   use ui.buttonShared logic.\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst input = require('./input.js');\nconst { KEYS, PAD } = input;\nconst { max, min, round } = Math;\nconst { clipPush, clipPop } = require('./sprites.js');\nconst ui = require('./ui.js');\nconst { clamp } = require('../../common/util.js');\nconst { vec2, vec4 } = require('./vmath.js');\n\nconst MAX_OVERSCROLL = 50;\nconst OVERSCROLL_DELAY_WHEEL = 180;\n\nfunction darken(color, factor) {\n  return vec4(color[0] * factor, color[1] * factor, color[2] * factor, color[3]);\n}\n\nlet default_pixel_scale = 1;\nexport function setPixelScale(scale) {\n  default_pixel_scale = scale;\n}\n\nfunction ScrollArea(params) {\n  // configuration options\n  this.x = 0;\n  this.y = 0;\n  this.z = Z.UI; // actually in DOM, so above everything!\n  this.w = 10;\n  this.h = 10; // height of visible area, not scrolled area\n  this.rate_scroll_click = ui.font_height;\n  this.pixel_scale = default_pixel_scale;\n  this.top_pad = true; // set to false it the top/bottom \"buttons\" don't look like buttons\n  this.color = vec4(1,1,1,1);\n  this.background_color = vec4(0.8, 0.8, 0.8, 1); // can be null\n  this.auto_scroll = false; // If true, will scroll to the bottom if the height changes and we're not actively scrolling\n  this.focusable_elem = null; // Another element to call .focus() on if we think we are focused\n  this.applyParams(params);\n\n  // Calculated (only once) if not set\n  this.rate_scroll_wheel = this.rate_scroll_wheel || this.rate_scroll_click * 2;\n  this.rollover_color = this.rollover_color || darken(this.color, 0.75);\n  this.rollover_color_light = this.rollover_color_light || darken(this.color, 0.95);\n  assert(this.rollover_color_light !== this.color); // equality is used to detect if this gets used and prevent rollover\n  this.disabled_color = this.disabled_color || this.rollover_color;\n  this.background_color_focused = this.background_color_focused || (\n    this.background_color ? vec4(0.4, 0.4, 0.4, 1) : null\n  );\n\n  // run-time state\n  this.scroll_pos = 0;\n  this.overscroll = 0; // overscroll beyond beginning or end\n  this.overscroll_delay = 0;\n  this.grabbed_pos = 0;\n  this.grabbed = false;\n  this.drag_start = null;\n  this.began = false;\n  this.last_internal_h = 0;\n  this.last_frame = 0;\n  this.focused = false;\n  this.was_disabled = false;\n  this.scrollbar_visible = false;\n}\n\nScrollArea.prototype.applyParams = function (params) {\n  if (!params) {\n    return;\n  }\n  for (let f in params) {\n    this[f] = params[f];\n  }\n};\n\nScrollArea.prototype.barWidth = function () {\n  let { pixel_scale } = this;\n  let { scrollbar_top } = ui.sprites;\n  return scrollbar_top.uidata.total_w * pixel_scale;\n};\n\nScrollArea.prototype.isFocused = function () {\n  return this.focused;\n};\n\nScrollArea.prototype.begin = function (params) {\n  this.applyParams(params);\n  let { x, y, w, h, z } = this;\n  assert(!this.began || engine.DEBUG); // Checking mismatched begin/end\n  this.began = true;\n  // Set up camera and clippers\n  clipPush(z + 0.05, x, y, w - this.barWidth(), h);\n  let camera_orig_x0 = camera2d.x0();\n  let camera_orig_x1 = camera2d.x1();\n  let camera_orig_y0 = camera2d.y0();\n  let camera_orig_y1 = camera2d.y1();\n  // map (0,0) onto (x,y) in the current camera space, keeping w/h scale the same\n  let camera_new_x0 = -(x - camera_orig_x0);\n  let camera_new_y0 = -(y - camera_orig_y0) + round(this.scroll_pos + this.overscroll);\n  let camera_new_x1 = camera_new_x0 + camera_orig_x1 - camera_orig_x0;\n  let camera_new_y1 = camera_new_y0 + camera_orig_y1 - camera_orig_y0;\n  camera2d.push();\n  camera2d.set(camera_new_x0, camera_new_y0, camera_new_x1, camera_new_y1);\n};\n\nScrollArea.prototype.clampScrollPos = function () {\n  let clamped_pos = clamp(this.scroll_pos, 0, this.last_max_value);\n  if (this.scroll_pos < 0) {\n    this.overscroll = max(this.scroll_pos, -MAX_OVERSCROLL);\n  } else if (this.scroll_pos > this.last_max_value) {\n    this.overscroll = min(this.scroll_pos - this.last_max_value, MAX_OVERSCROLL);\n  }\n  this.scroll_pos = clamped_pos;\n};\n\nScrollArea.prototype.keyboardScroll = function () {\n  if (this.was_disabled) {\n    return;\n  }\n  let modified = false;\n  let pad_shift = input.padButtonDown(PAD.RIGHT_TRIGGER) || input.padButtonDown(PAD.LEFT_TRIGGER);\n  let value = input.keyDownEdge(KEYS.PAGEDOWN) +\n    (pad_shift ? input.padButtonDownEdge(PAD.DOWN) : 0);\n  if (value) {\n    // don't overscroll on pageup/pagedown unless we're already at the end\n    this.scroll_pos = min(this.scroll_pos + this.h,\n      this.scroll_pos === this.last_max_value ? Infinity : this.last_max_value);\n    modified = true;\n  }\n  value = input.keyDownEdge(KEYS.PAGEUP) +\n    (pad_shift ? input.padButtonDownEdge(PAD.UP) : 0);\n  if (value) {\n    this.scroll_pos = max(this.scroll_pos - this.h,\n      this.scroll_pos === 0 ? -this.h : 0);\n    modified = true;\n  }\n\n  if (modified) {\n    this.clampScrollPos();\n  }\n};\n\nlet temp_pos = vec2();\n// h is height all members in the scroll area (can be more or less than visible height)\nScrollArea.prototype.end = function (h) {\n  //ScrollAreaDisplay *display = OR(this.display, &scroll_area_display_default);\n  assert(h >= 0);\n  h = max(h, 1); // prevent math from going awry on height of 0\n  assert(this.began); // Checking mismatched begin/end\n  this.began = false;\n  // restore camera and clippers\n  camera2d.pop();\n  clipPop();\n\n  if (this.scroll_pos > h - this.h) {\n    // internal height must have shrunk\n    this.scroll_pos = max(0, h - this.h+1);\n  }\n  if (this.overscroll) {\n    let dt = engine.getFrameDt();\n    if (dt >= this.overscroll_delay) {\n      this.overscroll_delay = 0;\n      this.overscroll = this.overscroll * max(1 - dt * 0.008, 0);\n    } else {\n      this.overscroll_delay -= dt;\n    }\n  }\n\n  let {\n    auto_hide,\n    pixel_scale,\n    rollover_color,\n    rollover_color_light,\n  } = this;\n\n  let {\n    scrollbar_top, scrollbar_bottom, scrollbar_trough, scrollbar_handle, scrollbar_handle_grabber\n  } = ui.sprites;\n\n  let bar_w = scrollbar_top.uidata.total_w * pixel_scale;\n  let button_h = min(scrollbar_top.uidata.total_h * pixel_scale, this.h / 3);\n  let button_h_nopad = this.top_pad ? button_h : 0;\n  let bar_x0 = this.x + this.w - bar_w;\n  let handle_h = this.h / h; // How much of the area is visible\n  handle_h = clamp(handle_h, 0, 1);\n  let handle_pos = (this.h > h) ? 0 : (this.scroll_pos / (h - this.h));\n  handle_pos = clamp(handle_pos, 0, 1);\n  let handle_pixel_h = handle_h * (this.h - button_h_nopad * 2);\n  let handle_pixel_min_h = scrollbar_handle.uidata.total_h * pixel_scale;\n  handle_pixel_h = max(handle_pixel_h, min(handle_pixel_min_h, button_h / 2));\n  let handle_screenpos = round(this.y + button_h_nopad + handle_pos * (this.h - button_h_nopad * 2 - handle_pixel_h));\n  let top_color = this.color;\n  let bottom_color = this.color;\n  let handle_color = this.color;\n  let trough_color = this.color;\n  let disabled = false;\n  if (!this.h || handle_h === 1) {\n    disabled = true;\n  }\n  this.was_disabled = disabled;\n\n  // Handle UI interactions\n  let user_moved_this_frame = false;\n  if (disabled) {\n    trough_color = top_color = bottom_color = handle_color = this.disabled_color;\n    this.drag_start = null;\n  } else {\n    // handle scroll wheel\n    let wheel_delta = input.mouseWheel({\n      x: this.x,\n      y: this.y,\n      w: this.w,\n      h: this.h\n    });\n    if (wheel_delta) {\n      this.overscroll_delay = OVERSCROLL_DELAY_WHEEL;\n      this.scroll_pos -= this.rate_scroll_wheel * wheel_delta;\n      user_moved_this_frame = true;\n    }\n\n    // handle drag of handle\n    // before end buttons, as those might be effectively hidden in some UIs\n    let down = input.mouseDownEdge({\n      x: bar_x0,\n      y: handle_screenpos,\n      w: bar_w,\n      h: handle_pixel_h,\n      button: 0\n    });\n    if (down) {\n      this.grabbed_pos = (down.pos[1] - handle_screenpos);\n      this.grabbed = true;\n      handle_color = rollover_color_light;\n    }\n    if (this.grabbed) {\n      ui.focusSteal(this);\n      user_moved_this_frame = true;\n    }\n    let up = this.grabbed && input.mouseUpEdge({ button: 0 });\n    if (up) {\n      this.grabbed = false;\n      // update pos\n      let delta = up.pos[1] - (this.y + button_h_nopad) - this.grabbed_pos;\n      this.scroll_pos = (h - this.h) * delta / (this.h - button_h_nopad * 2 - handle_pixel_h);\n      handle_color = rollover_color_light;\n    }\n    if (this.grabbed && !input.mouseDown({ button: 0, max_dist: Infinity })) {\n      // released but someone else ate it, release anyway!\n      this.grabbed = false;\n    }\n    if (this.grabbed) {\n      // update pos\n      input.mousePos(temp_pos);\n      let delta = temp_pos[1] - (this.y + button_h_nopad) - this.grabbed_pos;\n      this.scroll_pos = (h - this.h) * delta / (this.h - button_h_nopad * 2 - handle_pixel_h);\n      handle_color = rollover_color_light;\n    }\n    if (input.mouseOver({\n      x: bar_x0,\n      y: handle_screenpos,\n      w: bar_w,\n      h: handle_pixel_h\n    })) {\n      if (handle_color !== rollover_color_light) {\n        handle_color = rollover_color;\n      }\n    }\n\n    // handle clicking on end buttons\n    let button_param = {\n      x: bar_x0,\n      y: this.y,\n      w: bar_w,\n      h: button_h,\n      button: 0\n    };\n    while (input.mouseUpEdge(button_param)) {\n      ui.focusSteal(this);\n      top_color = rollover_color;\n      this.scroll_pos -= this.rate_scroll_click;\n      user_moved_this_frame = true;\n    }\n    if (input.mouseOver(button_param)) {\n      top_color = rollover_color;\n    }\n    button_param.y = this.y + this.h - button_h;\n    while (input.mouseUpEdge(button_param)) {\n      ui.focusSteal(this);\n      bottom_color = rollover_color;\n      this.scroll_pos += this.rate_scroll_click;\n      user_moved_this_frame = true;\n    }\n    if (input.mouseOver(button_param)) {\n      bottom_color = rollover_color;\n    }\n\n    // handle clicking trough if not caught by anything above +/-\n    let click;\n    let bar_param = {\n      x: bar_x0,\n      y: this.y,\n      w: bar_w,\n      h: this.h,\n      button: 0\n    };\n    while ((click = input.mouseUpEdge(bar_param))) {\n      ui.focusSteal(this);\n      if (click.pos[1] > handle_screenpos + handle_pixel_h/2) {\n        this.scroll_pos += this.h;\n      } else {\n        this.scroll_pos -= this.h;\n      }\n      user_moved_this_frame = true;\n    }\n    // Catch mouse over on trough\n    input.mouseOver(bar_param);\n\n    // handle dragging the scroll area background\n    let drag = input.drag({ x: this.x, y: this.y, w: this.w - bar_w, h: this.h, button: 0 });\n    if (drag) {\n      // Drag should not steal focus\n      // This also fixes an interaction with chat_ui where clicking on the chat background (which causes\n      //   a flicker of a drag) would cause pointer lock to be lost\n      //ui.focusSteal(this);\n      user_moved_this_frame = true;\n      if (this.drag_start === null) {\n        this.drag_start = this.scroll_pos;\n      }\n      this.scroll_pos = this.drag_start - drag.cur_pos[1] + drag.start_pos[1];\n    } else {\n      this.drag_start = null;\n    }\n  }\n\n  this.focused = !disabled && ui.focusCheck(this);\n  if (this.focused && this.focusable_elem) {\n    this.focusable_elem.focus();\n  }\n\n  let maxvalue = max(h - this.h+1, 0);\n  this.last_max_value = maxvalue;\n  this.clampScrollPos();\n  if (this.auto_scroll && (this.last_internal_h !== h || this.last_frame !== engine.getFrameIndex() - 1)) {\n    // We were at the bottom, but we are now not, and auto-scroll is enabled\n    if (!user_moved_this_frame) {\n      // want to be at the bottom, scroll down (effective next frame)\n      this.scroll_pos = maxvalue;\n      this.overscroll = 0;\n    }\n  }\n  this.last_internal_h = h;\n  this.last_frame = engine.getFrameIndex();\n\n  let bg_color = this.focused || this.focusable_elem && this.focusable_elem.is_focused ?\n    this.background_color_focused :\n    this.background_color;\n  if (bg_color) {\n    ui.drawRect(this.x, this.y, this.x + this.w, this.y + this.h, this.z, bg_color);\n  }\n\n  if (disabled && (auto_hide || !this.h)) {\n    this.scrollbar_visible = false;\n    return;\n  }\n  this.scrollbar_visible = true;\n\n  scrollbar_top.draw({\n    x: bar_x0, y: this.y, z: this.z + 0.2,\n    w: bar_w, h: button_h,\n    color: top_color,\n  });\n  scrollbar_bottom.draw({\n    x: bar_x0, y: this.y + this.h - button_h, z: this.z + 0.2,\n    w: bar_w, h: button_h,\n    color: bottom_color,\n  });\n  scrollbar_trough.draw({\n    x: bar_x0, y: this.y + button_h / 2, z: this.z+0.1,\n    w: bar_w, h: this.h - button_h,\n    color: trough_color,\n  });\n\n  ui.drawVBox({\n    x: bar_x0, y: handle_screenpos, z: this.z + 0.3,\n    w: bar_w, h: handle_pixel_h,\n  }, scrollbar_handle, handle_color);\n  let grabber_h = scrollbar_handle_grabber.uidata.total_h * pixel_scale;\n  scrollbar_handle_grabber.draw({\n    x: bar_x0, y: handle_screenpos + (handle_pixel_h - grabber_h) / 2, z: this.z + 0.4,\n    w: bar_w, h: grabber_h,\n    color: handle_color,\n  });\n};\n\n// h is height of visible area\nScrollArea.prototype.scrollIntoFocus = function (miny, maxy, h) {\n  let old_scroll_pos = this.scroll_pos;\n  let changed = false;\n  miny = max(miny, 0);\n  if (miny < this.scroll_pos) {\n    this.scroll_pos = miny;\n    changed = true;\n  }\n  maxy -= h;\n  if (maxy > this.scroll_pos) {\n    this.scroll_pos = maxy;\n    changed = true;\n  }\n  if (changed) {\n    // Make it smooth/bouncy a bit\n    this.overscroll = old_scroll_pos - this.scroll_pos;\n  }\n};\n\nexport function scrollAreaCreate(params) {\n  return new ScrollArea(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nlet modified = {};\nexports.true = true; // for perf.js\n\nconst { titleCase } = require('../../common/util.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\n\nexport function get(key) {\n  return exports[key];\n}\n\nexport function set(key, value) {\n  if (exports[key] !== value) {\n    cmd_parse.handle(null, `${key} ${value}`, null); // uses default cmd_parse handler\n  }\n}\n\nexport function setAsync(key, value) {\n  engine.postTick({ fn: set.bind(null, key, value) });\n}\n\nexport function runTimeDefault(key, new_default) {\n  // Set a default value that cannot be determined at load time\n  // Only set if this has never been modified\n  if (!modified[key]) {\n    // Does *not* call cmd_parse.set - will not write to storage, still at \"default\" setting\n    exports[key] = new_default;\n  }\n}\n\nexport function register(defs) {\n  Object.keys(defs).forEach(function (key) {\n    let def = defs[key];\n    exports[key] = def.default_value;\n    cmd_parse.registerValue(key, {\n      type: def.type,\n      label: def.label || titleCase(key.replace(/_/g, ' ')),\n      range: def.range,\n      get: () => exports[key],\n      set: (v) => {\n        modified[key] = true;\n        exports[key] = v;\n      },\n      store: true,\n      ver: def.ver,\n      help: def.help,\n      usage: def.usage,\n      on_change: def.on_change,\n    });\n  });\n}\n\nregister({\n  max_fps: {\n    label: 'Max FPS',\n    default_value: 0,\n    type: cmd_parse.TYPE_FLOAT,\n  },\n  render_scale: {\n    label: 'Render Scale (3D)',\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0.1,1],\n  },\n  render_scale_mode: {\n    label: 'Render Scale Mode',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,2],\n  },\n  render_scale_all: {\n    label: 'Render Scale (All)',\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0.3333,4],\n  },\n  render_scale_clear: {\n    label: 'Render Scale Full Clear',\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  fov: {\n    default_value: 60,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [40,100],\n  },\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport const MAX_SEMANTIC = 5;\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { errorReportSetDetails, glovErrorReport } = require('./error_report.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst { matchAll } = require('../../common/util.js');\nconst { texturesUnloadDynamic } = require('./textures.js');\nconst { webFSGetFile } = require('./webfs.js');\n\nlet last_id = 0;\n\nlet bound_prog = null;\n\nexport const semantic = {\n  'ATTR0': 0,\n  'POSITION': 0,\n  'ATTR1': 1,\n  'COLOR': 1,\n  'COLOR_0': 1,\n  'ATTR2': 2,\n  'TEXCOORD': 2,\n  'TEXCOORD_0': 2,\n  'ATTR3': 3,\n  'NORMAL': 3,\n  'ATTR4': 4,\n  'TEXCOORD_1': 4,\n};\n\nexport let globals;\nlet global_defines;\n\nlet error_fp;\nlet error_vp;\n\nlet shaders = [];\n\nconst vp_attr_regex = /attribute [^ ]+ ([^ ;]+);/g;\nconst uniform_regex = /uniform (?:(?:low|medium|high)p )?((?:(?:vec|mat)\\d(?:x\\d)?|float) [^ ;]+);/g;\nconst sampler_regex = /uniform sampler(?:2D|Cube) ([^ ;]+);/g;\nconst include_regex = /\\n#include \"([^\"]+)\"/g;\n\nconst type_size = {\n  float: 1,\n  vec2: 2*1,\n  vec3: 3*1,\n  vec4: 4*1,\n  mat3: 3*3,\n  mat4: 4*4,\n};\n\nlet includes = {};\n\nfunction loadInclude(key) {\n  let text = webFSGetFile(includes[key].filename, 'text');\n  includes[key].text = `\\n// from include \"${key}\":\\n${text}\\n`;\n}\n\nexport function addInclude(key, filename) {\n  assert(!includes[key]);\n  includes[key] = { filename };\n  loadInclude(key);\n}\n\nexport function shadersResetState() {\n  for (let ii = 0; ii < shaders.length; ++ii) {\n    let shader = shaders[ii];\n    if (shader.programs) {\n      for (let fpid in shader.programs) {\n        let prog = shader.programs[fpid];\n        //gl.useProgram(prog.handle);\n        for (let jj = 0; jj < prog.uniforms.length; ++jj) {\n          let unif = prog.uniforms[jj];\n          for (let kk = 0; kk < unif.size; ++kk) {\n            unif.value[kk] = NaN;\n          }\n          //uniformSetValue(unif);\n        }\n      }\n    }\n  }\n  bound_prog = null;\n  gl.useProgram(null);\n}\n\nfunction setGLErrorReportDetails() {\n  // Set some debug details we might want\n  let details = {\n    max_fragment_uniform_vectors: gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS),\n    max_varying_vectors: gl.getParameter(gl.MAX_VARYING_VECTORS),\n    max_vertex_attribs: gl.getParameter(gl.MAX_VERTEX_ATTRIBS),\n    max_vertex_uniform_vectors: gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS),\n    vendor: gl.getParameter(gl.VENDOR),\n    renderer: gl.getParameter(gl.RENDERER),\n    webgl: engine.webgl2 ? 2 : 1,\n  };\n  let debug_info = gl.getExtension('WEBGL_debug_renderer_info');\n  if (debug_info) {\n    details.renderer_unmasked = gl.getParameter(debug_info.UNMASKED_RENDERER_WEBGL);\n    details.vendor_unmasked = gl.getParameter(debug_info.UNMASKED_VENDOR_WEBGL);\n  }\n  for (let key in details) {\n    errorReportSetDetails(key, details[key]);\n  }\n}\n\nlet report_queued = false;\nlet shader_errors;\nlet shader_errors_any_fatal;\nfunction reportShaderError(non_fatal, err) {\n  function doReport() {\n    setGLErrorReportDetails();\n    let msg = `Shader error(s):\\n    ${shader_errors.join('\\n    ')}`;\n    if (!shader_errors_any_fatal) {\n      glovErrorReport(false, msg, 'shaders.js');\n    } else {\n      assert(false, msg);\n    }\n    shader_errors = null;\n  }\n  if (!report_queued) {\n    setTimeout(doReport, 1000);\n    report_queued = true;\n    shader_errors = [];\n    shader_errors_any_fatal = false;\n  }\n  shader_errors_any_fatal = shader_errors_any_fatal || !non_fatal;\n  shader_errors.push(err);\n}\n\nfunction parseIncludes(text) {\n  let supplied_uniforms = {};\n  text.replace(uniform_regex, function (str, key) {\n    supplied_uniforms[key] = true;\n  });\n  text = text.replace(include_regex, function (str, filename) {\n    let replacement = includes[filename];\n    if (!replacement) {\n      console.error(`Could not evaluate ${str}`);\n      return str;\n    }\n    replacement = replacement.text;\n    // Remove duplicate uniforms\n    replacement = replacement.replace(uniform_regex, function (str2, key) {\n      if (supplied_uniforms[key]) {\n        return `// [removed ${key}]`;\n      }\n      supplied_uniforms[key] = true;\n      return str2;\n    });\n    return replacement;\n  });\n  return text;\n}\n\nconst webgl2_header = [\n  '#version 300 es',\n  '#define WEBGL2',\n].join('\\n');\nconst webgl2_header_fp = [\n  webgl2_header,\n  '#define varying in',\n  'out lowp vec4 fragColor;',\n  '#define gl_FragColor fragColor',\n  '#define texture2D texture',\n  '#define textureCube texture',\n  ''\n].join('\\n');\nconst webgl2_header_vp = [\n  webgl2_header,\n  '#define varying out',\n  '#define attribute in',\n  ''\n].join('\\n');\n\nfunction Shader(params) {\n  let { filename, defines, non_fatal } = params;\n  assert.equal(typeof filename, 'string');\n  let type = filename.endsWith('.fp') ? gl.FRAGMENT_SHADER : filename.endsWith('.vp') ? gl.VERTEX_SHADER : 0;\n  assert(type);\n  this.type = type;\n  this.filename = filename;\n  this.non_fatal = non_fatal;\n  this.defines_arr = (defines || []);\n  this.defines = this.defines_arr.map((a) => `#define ${a}\\n`).join('');\n  this.shader = gl.createShader(type);\n  this.id = ++last_id;\n  if (type === gl.VERTEX_SHADER) {\n    this.programs = {};\n  }\n  shaders.push(this);\n  this.compile();\n}\n\nShader.prototype.compile = function () {\n  let { type, filename } = this;\n  let header = '';\n  let text = webFSGetFile(filename, 'text');\n  if (engine.webgl2 && text.indexOf('#pragma WebGL2') !== -1) {\n    header = type === gl.VERTEX_SHADER ? webgl2_header_vp : webgl2_header_fp;\n  }\n  text = `${header}${global_defines}${this.defines}${text}`;\n  text = parseIncludes(text);\n  text = text.replace(/#pragma WebGL2?/g, '');\n  if (type === gl.VERTEX_SHADER) {\n    this.attributes = matchAll(text, vp_attr_regex);\n    // Ensure they are known names so we can give them indices\n    // Add to semantic[] above as needed\n    this.attributes.forEach((v) => assert(semantic[v] !== undefined));\n  } else {\n    this.samplers = matchAll(text, sampler_regex);\n    // Ensure all samplers end in a unique number\n    let found = [];\n    this.samplers.forEach((v) => {\n      let num = Number(v.slice(-1));\n      assert(!isNaN(num));\n      assert(!found[num]);\n      found[num] = true;\n    });\n  }\n  this.uniforms = matchAll(text, uniform_regex);\n  // Ensure a known type\n  this.uniforms.forEach((v) => {\n    let type_name = v.split(' ')[0];\n    assert(type_size[type_name]);\n  });\n  gl.shaderSource(this.shader, text);\n  gl.compileShader(this.shader);\n\n  if (!gl.getShaderParameter(this.shader, gl.COMPILE_STATUS)) {\n    this.valid = false;\n    let error_text = gl.getShaderInfoLog(this.shader);\n    if (error_text) { // sometimes null on iOS\n      error_text = error_text.replace(/\\0/g, '').trim();\n    }\n    if (this.defines_arr.length) {\n      filename += `(${this.defines_arr.join(',')})`;\n    }\n    console[this.non_fatal ? 'warn' : 'error'](`Error compiling ${filename}: ${error_text}`);\n    reportShaderError(this.non_fatal, `${filename}: ${error_text}`);\n    // eslint-disable-next-line newline-per-chained-call\n    console.log(text.split('\\n').map((line, idx) => `${idx+1}: ${line}`).join('\\n'));\n  } else {\n    this.valid = true;\n  }\n};\n\nexport function create(filename) {\n  if (typeof filename === 'object') {\n    return new Shader(filename);\n  }\n  return new Shader({ filename });\n}\n\nfunction uniformSetValue(unif) {\n  switch (unif.width) { // eslint-disable-line default-case\n    case 1:\n      gl.uniform1fv(unif.location, unif.value);\n      break;\n    case 2:\n      gl.uniform2fv(unif.location, unif.value);\n      break;\n    case 3:\n      gl.uniform3fv(unif.location, unif.value);\n      break;\n    case 4:\n      gl.uniform4fv(unif.location, unif.value);\n      break;\n    case 9:\n      gl.uniformMatrix3fv(unif.location, false, unif.value);\n      break;\n    case 16:\n      gl.uniformMatrix4fv(unif.location, false, unif.value);\n      break;\n  }\n}\n\nfunction link(vp, fp) {\n  let prog = vp.programs[fp.id] = {\n    handle: gl.createProgram(),\n    uniforms: null,\n  };\n  if (!prog.handle) {\n    assert(false, `gl.createProgram() returned ${prog.handle}${gl.createProgram() ? ', retry would succeed' : ''}`);\n  }\n  gl.attachShader(prog.handle, vp.shader);\n  gl.attachShader(prog.handle, fp.shader);\n  // call this for all relevant semantic\n  for (let ii = 0; ii < vp.attributes.length; ++ii) {\n    gl.bindAttribLocation(prog.handle, semantic[vp.attributes[ii]], vp.attributes[ii]);\n  }\n  gl.linkProgram(prog.handle);\n\n  prog.valid = gl.getProgramParameter(prog.handle, gl.LINK_STATUS);\n  if (!prog.valid) {\n    reportShaderError(false, `Shader link error (${vp.filename} & ${fp.filename}):` +\n      ` ${gl.getProgramInfoLog(prog.handle)}`);\n    console.error(`Shader link error: ${gl.getProgramInfoLog(prog.handle)}`);\n  }\n\n  gl.useProgram(prog.handle);\n  bound_prog = prog;\n\n  let uniforms = vp.uniforms.slice(0);\n  for (let ii = 0; ii < fp.uniforms.length; ++ii) {\n    let name = fp.uniforms[ii];\n    if (uniforms.indexOf(name) === -1) {\n      uniforms.push(name);\n    }\n  }\n  prog.uniforms = uniforms.map((v) => {\n    v = v.split(' ');\n    let type = v[0];\n    let name = v[1];\n    let count = 1;\n    let m = name.match(/([^[]+)\\[(\\d+)\\]/);\n    if (m) {\n      name = m[1];\n      count = Number(m[2]);\n    }\n    let location = gl.getUniformLocation(prog.handle, name);\n    if (location === null) {\n      // Not in either shader, (commented out?), remove (via filter below)\n      return null;\n    }\n    let width = type_size[type];\n    let size = width * count;\n    let glob = globals[name];\n    let value = new Float32Array(size);\n    // set initial value\n    let unif = {\n      name,\n      size,\n      width,\n      count,\n      value,\n      location,\n      glob,\n    };\n    uniformSetValue(unif);\n    return unif;\n  }).filter((v) => v);\n\n  for (let ii = 0; ii < fp.samplers.length; ++ii) {\n    let name = fp.samplers[ii];\n    let num = Number(name.slice(-1));\n    let location = gl.getUniformLocation(prog.handle, name);\n    if (location !== null) {\n      gl.uniform1i(location, num);\n    }\n  }\n  return prog;\n}\n\nexport function bind(vp, fp, params) {\n  let prog = vp.programs[fp.id];\n  if (!prog) {\n    prog = link(vp, fp);\n  }\n  if (!prog.valid) {\n    prog = link(vp, error_fp);\n    if (!prog.valid) {\n      prog = link(error_vp, error_fp);\n    }\n    vp.programs[fp.id] = prog;\n  }\n  if (prog !== bound_prog) {\n    bound_prog = prog;\n    gl.useProgram(prog.handle);\n  }\n  for (let ii = 0; ii < prog.uniforms.length; ++ii) {\n    let unif = prog.uniforms[ii];\n    let value = params[unif.name] || unif.glob;\n    if (!value) {\n      continue;\n    }\n    let diff = false;\n    for (let jj = 0; jj < unif.size; ++jj) {\n      if (value[jj] !== unif.value[jj]) {\n        diff = true;\n        break;\n      }\n    }\n    if (diff) {\n      for (let jj = 0; jj < unif.size; ++jj) {\n        unif.value[jj] = value[jj];\n      }\n      uniformSetValue(unif);\n    }\n  }\n}\n\nconst reserved = { WEBGL2: 1 };\nexport function addReservedDefine(key) {\n  reserved[key] = 1;\n}\nlet internal_defines = {};\nfunction applyDefines() {\n  global_defines = Object.keys(engine.defines).filter((v) => !reserved[v])\n    .concat(Object.keys(internal_defines))\n    .map((v) => `#define ${v}\\n`)\n    .join('');\n}\n\nfunction shaderReload() {\n  if (shaders.length) {\n    window.debugmsg('', true);\n    gl.useProgram(null);\n    for (let ii = 0; ii < shaders.length; ++ii) {\n      let programs = shaders[ii].programs;\n      if (programs) {\n        for (let id in programs) {\n          gl.deleteProgram(programs[id].handle);\n        }\n        shaders[ii].programs = {};\n      }\n    }\n    for (let ii = 0; ii < shaders.length; ++ii) {\n      shaders[ii].compile();\n    }\n    texturesUnloadDynamic();\n  }\n}\n\nexport function handleDefinesChanged() {\n  applyDefines();\n  shaderReload();\n}\n\nexport function setInternalDefines(new_values) {\n  for (let key in new_values) {\n    if (new_values[key]) {\n      internal_defines[key] = new_values[key];\n    } else {\n      delete internal_defines[key];\n    }\n  }\n  handleDefinesChanged();\n}\n\nfunction onShaderChange(filename) {\n  for (let key in includes) {\n    loadInclude(key);\n  }\n  shaderReload();\n}\n\nexport function startup(_globals) {\n  applyDefines();\n  globals = _globals;\n\n  error_fp = create('glov/shaders/error.fp');\n  error_vp = create('glov/shaders/error.vp');\n\n  filewatchOn('.fp', onShaderChange);\n  filewatchOn('.vp', onShaderChange);\n}\n\nexport function addGlobal(key, vec) {\n  assert(!globals[key]);\n  globals[key] = vec;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport const FADE_DEFAULT = 0;\nexport const FADE_OUT = 1;\nexport const FADE_IN = 2;\nexport const FADE = FADE_OUT + FADE_IN;\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./cmds.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst { Howl, Howler } = require('@jimbly/howler/src/howler.core.js');\nconst { abs, floor, max, min, random } = Math;\nconst settings = require('./settings.js');\nconst urlhash = require('./urlhash.js');\nconst { defaults, ridx } = require('../../common/util.js');\n\nconst DEFAULT_FADE_RATE = 0.001;\n\nlet sounds = {};\nlet num_loading = 0;\n\n// Howler.usingWebAudio = false; // Disable WebAudio for testing HTML5 fallbacks\n\nconst default_params = {\n  ext_list: ['mp3', 'wav'], // (recommended) try loading .mp3 versions first, then fallback to .wav\n  //  also covers all browsers: ['webm', 'mp3']\n  fade_rate: DEFAULT_FADE_RATE,\n};\nlet sound_params;\n\nlet last_played = {};\nlet frame_timestamp = 0;\nlet fades = [];\nlet music;\n\nlet volume_override = 1;\nlet volume_override_target = 1;\n\nsettings.register({\n  volume: {\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0,1],\n  },\n});\n\nsettings.register({\n  sound: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\nsettings.register({\n  music: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\nexport function soundLoad(base, opts, cb) {\n  opts = opts || {};\n  if (Array.isArray(base)) {\n    assert(!cb);\n    for (let ii = 0; ii < base.length; ++ii) {\n      soundLoad(base[ii], opts);\n    }\n    return;\n  }\n  let key = base;\n  if (sounds[key]) {\n    if (cb) {\n      cb();\n    }\n    return;\n  }\n  let m = base.match(/^(.*)\\.(mp3|ogg|wav|webm)$/u);\n  let preferred_ext;\n  if (m) {\n    base = m[1];\n    preferred_ext = m[2];\n  }\n  let src = `sounds/${base}`;\n  let srcs = [];\n  let suffix = '';\n  if (opts.for_reload) {\n    suffix = `?rl=${Date.now()}`;\n  }\n  if (preferred_ext) {\n    srcs.push(`${urlhash.getURLBase()}${src}.${preferred_ext}${suffix}`);\n  }\n  for (let ii = 0; ii < sound_params.ext_list.length; ++ii) {\n    let ext = sound_params.ext_list[ii];\n    if (ext !== preferred_ext) {\n      srcs.push(`${urlhash.getURLBase()}${src}.${ext}${suffix}`);\n    }\n  }\n  // Try loading desired sound types one at a time.\n  // Cannot rely on Howler's built-in support for this because it only continues\n  //   through the list on *some* load errors, not all :(.\n  function tryLoad(idx) {\n    if (idx === srcs.length) {\n      console.error(`Error loading sound ${base}: All fallbacks exhausted, giving up`);\n      if (cb) {\n        cb('Error loading sound');\n      }\n      return;\n    }\n    ++num_loading;\n    let once = false;\n    let sound = new Howl({\n      src: srcs.slice(idx),\n      html5: Boolean(opts.streaming),\n      loop: Boolean(opts.loop),\n      volume: 0,\n      onload: function () {\n        if (!once) {\n          --num_loading;\n          once = true;\n          sound.glov_load_opts = opts;\n          sounds[key] = sound;\n          if (cb) {\n            cb(null);\n          }\n        }\n      },\n      onloaderror: function (id, err, extra) {\n        if (idx === srcs.length - 1) {\n          console.error(`Error loading sound ${srcs[idx]}: ${err}`);\n        } else {\n          console.log(`Error loading sound ${srcs[idx]}: ${err}, trying fallback...`);\n        }\n        if (!once) {\n          --num_loading;\n          once = true;\n          tryLoad(idx + 1);\n        }\n      },\n    });\n  }\n  tryLoad(0);\n}\n\nfunction soundReload(filename) {\n  let sound_name = filename.match(/^sounds\\/([^.]+)\\.\\w+$/);\n  sound_name = sound_name && sound_name[1];\n  if (!sound_name) {\n    return;\n  }\n  if (!sounds[sound_name]) {\n    console.log(`Reload trigged for non-existent sound: ${filename}`);\n    return;\n  }\n  let opts = sounds[sound_name].glov_load_opts;\n  opts.for_reload = true;\n  delete sounds[sound_name];\n  soundLoad(sound_name, opts);\n}\n\nexport function soundStartup(params) {\n  sound_params = defaults(params || {}, default_params);\n\n  // Music\n  music = []; // 0 is current, 1 is previous (fading out)\n  for (let ii = 0; ii < 2; ++ii) {\n    music.push({\n      sound: null,\n      id: 0,\n      current_volume: 0,\n      target_volume: 0,\n      sys_volume: 0,\n      need_play: false,\n    });\n  }\n  filewatchOn('.mp3', soundReload);\n  filewatchOn('.ogg', soundReload);\n  filewatchOn('.wav', soundReload);\n  filewatchOn('.webm', soundReload);\n}\n\nexport function soundPause() {\n  volume_override = volume_override_target = 0;\n  // Immediately mute all the music\n  // Can't do a nice fade out here because we stop getting ticked when we're not in the foreground\n  soundTick(0); // eslint-disable-line no-use-before-define\n}\n\nexport function soundResume() {\n  volume_override_target = 1;\n\n  // Actual context resuming handled internally by Howler, leaving hooks in for now, though\n  // Maybe more reliable than `Howler.safeToPlay`...\n}\n\nexport function soundResumed() {\n  return !Howler.noAudio && Howler.safeToPlay;\n}\n\nexport function soundTick(dt) {\n  frame_timestamp += dt;\n  if (volume_override !== volume_override_target) {\n    let delta = dt * 0.004;\n    if (volume_override < volume_override_target) {\n      volume_override = min(volume_override + delta, volume_override_target);\n    } else {\n      volume_override = max(volume_override - delta, volume_override_target);\n    }\n  }\n  if (!soundResumed()) {\n    return;\n  }\n  // Do music fading\n  // Cannot rely on Howler's fading because starting a fade when one is in progress\n  //   messes things up, as well causes snaps in volume :(\n  let max_fade = dt * sound_params.fade_rate;\n  for (let ii = 0; ii < music.length; ++ii) {\n    let mus = music[ii];\n    if (!mus.sound) {\n      continue;\n    }\n    let target = settings.music ? mus.target_volume : 0;\n    if (mus.current_volume !== target) {\n      let delta = target - mus.current_volume;\n      let fade_amt = min(abs(delta), max_fade);\n      if (delta < 0) {\n        mus.current_volume = max(target, mus.current_volume - fade_amt);\n      } else {\n        mus.current_volume = min(target, mus.current_volume + fade_amt);\n      }\n      if (!mus.target_volume && !mus.current_volume) {\n        if (!mus.need_play) {\n          mus.sound.stop(mus.id);\n        }\n        mus.sound = null;\n      }\n    }\n    if (mus.sound) {\n      let sys_volume = mus.current_volume * settings.volume * volume_override;\n      if (mus.need_play) {\n        mus.need_play= false;\n        mus.id = mus.sound.play();\n        mus.sys_volume = -1;\n      }\n      if (mus.sys_volume !== sys_volume) {\n        mus.sound.volume(sys_volume, mus.id);\n        mus.sys_volume = sys_volume;\n      }\n    }\n  }\n\n  for (let ii = fades.length - 1; ii >= 0; --ii) {\n    let fade = fades[ii];\n    fade.volume = max(0, fade.volume - max_fade);\n    fade.sound.volume(fade.volume * settings.volume * volume_override, fade.id);\n    if (!fade.volume) {\n      fade.sound.stop(fade.id);\n      ridx(fades, ii);\n    }\n  }\n}\n\nexport function soundPlay(soundname, volume, as_music) {\n  volume = volume || 1;\n  if (!as_music && !settings.sound || as_music && !settings.music) {\n    return null;\n  }\n  if (!soundResumed()) {\n    return null;\n  }\n  if (Array.isArray(soundname)) {\n    soundname = soundname[floor(random() * soundname.length)];\n  }\n  let sound = sounds[soundname];\n  if (!sound) {\n    return null;\n  }\n  let last_played_time = last_played[soundname] || -9e9;\n  if (frame_timestamp - last_played_time < 45) {\n    return null;\n  }\n\n  let id = sound.play(undefined, volume * settings.volume * volume_override);\n  // sound.volume(volume * settings.volume * volume_override, id);\n  last_played[soundname] = frame_timestamp;\n  return {\n    stop: sound.stop.bind(sound, id),\n    playing: sound.playing.bind(sound, id), // not reliable if it hasn't started yet? :(\n    fadeOut: (time) => {\n      fades.push({\n        volume,\n        sound,\n        id,\n        time,\n      });\n    },\n  };\n}\n\nexport function soundPlayMusic(soundname, volume, transition) {\n  if (!settings.music) {\n    return;\n  }\n  if (volume === undefined) {\n    volume = 1;\n  }\n  transition = transition || FADE_DEFAULT;\n  soundLoad(soundname, { streaming: true, loop: true }, (err) => {\n    assert(!err);\n    let sound = sounds[soundname];\n    assert(sound);\n    if (music[0].sound === sound) {\n      // Same sound, just adjust volume, if required\n      music[0].target_volume = volume;\n      if (!transition) {\n        if (!volume) {\n          sound.stop(music[0].id);\n          music[0].sound = null;\n        } else {\n          let sys_volume = music[0].sys_volume = volume * settings.volume * volume_override;\n          sound.volume(sys_volume, music[0].id);\n        }\n      }\n      return;\n    }\n    // fade out previous music, if any\n    if (music[0].current_volume) {\n      if (transition & FADE_OUT) {\n        // swap to position 1, start fadeout\n        let temp = music[1];\n        music[1] = music[0];\n        music[0] = temp;\n        music[1].target_volume = 0;\n      }\n    }\n    if (music[0].sound) {\n      music[0].sound.stop(music[0].id);\n    }\n    music[0].sound = sound;\n    music[0].target_volume = volume;\n    let start_vol = (transition & FADE_IN) ? 0 : volume;\n    music[0].current_volume = start_vol;\n    if (soundResumed()) {\n      let sys_volume = start_vol * settings.volume * volume_override;\n      music[0].id = sound.play(undefined, sys_volume);\n      // sound.volume(sys_volume, music[0].id);\n      music[0].sys_volume = sys_volume;\n      music[0].need_play = false;\n    } else {\n      music[0].need_play = true;\n    }\n  });\n}\n\nexport function soundLoading() {\n  return num_loading;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { floor, random } = Math;\n\nfunction GlovSpriteAnimation(params) {\n  this.frame = 0;\n  this.time = 0;\n  this.state = null;\n  this.anim = null;\n  this.anim_idx = 0;\n\n  if (params instanceof GlovSpriteAnimation) {\n    this.data = params.data; // already initialized\n    this.setState(params.state);\n  } else {\n    this.data = params;\n    for (let key in this.data) {\n      let anim = this.data[key];\n      if (typeof anim.frames === 'number') {\n        anim.frames = [anim.frames];\n      }\n      if (typeof anim.times === 'number') {\n        let arr = new Array(anim.frames.length);\n        for (let ii = 0; ii < anim.frames.length; ++ii) {\n          arr[ii] = anim.times;\n        }\n        anim.times = arr;\n      }\n      anim.total_time = 0;\n      for (let ii = 0; ii < anim.times.length; ++ii) {\n        anim.total_time += anim.times[ii];\n      }\n      if (anim.loop === undefined) {\n        anim.loop = true;\n      }\n    }\n  }\n}\n\nexport function create(params) {\n  return new GlovSpriteAnimation(params);\n}\n\nGlovSpriteAnimation.prototype.clone = function () {\n  return new GlovSpriteAnimation(this);\n};\n\nGlovSpriteAnimation.prototype.setState = function (state, force) {\n  if (state === this.state && !force) {\n    return this;\n  }\n  this.state = state;\n  this.anim = this.data[state];\n  if (this.anim.init_time) {\n    this.time = floor(random() * this.anim.init_time);\n  } else {\n    this.time = 0;\n  }\n  this.anim_idx = 0;\n  this.frame = this.anim.frames[this.anim_idx];\n  return this;\n};\n\nGlovSpriteAnimation.prototype.progress = function () {\n  if (!this.anim) {\n    return 1;\n  }\n  let time = this.time;\n  for (let ii = 0; ii < this.anim_idx; ++ii) {\n    time += this.anim.times[ii];\n  }\n  return time / this.anim.total_time;\n};\n\nGlovSpriteAnimation.prototype.update = function (dt) {\n  if (!this.anim) {\n    return;\n  }\n  this.time += dt;\n  if (this.time > this.anim.times[this.anim_idx]) {\n    this.time -= this.anim.times[this.anim_idx];\n    this.anim_idx = this.anim_idx + 1;\n    if (this.anim_idx === this.anim.frames.length) {\n      if (this.anim.loop) {\n        this.anim_idx = this.anim_idx % this.anim.frames.length;\n      } else {\n        // keep final frame\n        this.anim = null;\n        return;\n      }\n    }\n    this.frame = this.anim.frames[this.anim_idx];\n    if (this.time >= this.anim.times[this.anim_idx]) {\n      this.time = this.anim.times[this.anim_idx] - 1;\n    }\n  }\n};\n\nGlovSpriteAnimation.prototype.getFrame = function (dt) {\n  if (dt !== undefined) {\n    this.update(dt);\n  }\n  return this.frame;\n};\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst geom = require('./geom.js');\nconst { cos, max, min, round, sin } = Math;\nconst textures = require('./textures.js');\nconst shaders = require('./shaders.js');\nconst { nextHighestPowerOfTwo } = require('../../common/util.js');\nconst { vec2, vec4 } = require('./vmath.js');\n\nexport const BLEND_ALPHA = 0;\nexport const BLEND_ADDITIVE = 1;\n\nlet sprite_vshader;\nlet sprite_fshader;\nlet sprite_dual_fshader;\nlet clip_space = vec4();\nlet sprite_shader_params = {\n  clip_space\n};\nlet last_uid = 0;\n\nlet sprite_queue = [];\n\nlet sprite_freelist = [];\n\nlet sprite_queue_stack = [];\nexport function spriteQueuePush(new_list) {\n  assert(sprite_queue_stack.length < 10); // probably leaking\n  sprite_queue_stack.push(sprite_queue);\n  sprite_queue = new_list || [];\n}\nexport function spriteQueuePop(for_pause) {\n  assert(sprite_queue_stack.length);\n  assert(for_pause || !sprite_queue.length);\n  sprite_queue = sprite_queue_stack.pop();\n}\n\nfunction SpriteData() {\n  // x1 y1 x2 y2 x3 y3 x4 y4 - vertices [0,8)\n  // cr cg cb ca u1 v1 u2 v2 - normalized color + texture [8,16)\n  // data for GL queuing\n  this.data = new Float32Array(16);\n  // data for sorting/binding/etc\n  this.texs = null;\n  this.shader = null;\n  this.shader_params = null;\n  this.x = 0;\n  this.y = 0;\n  this.z = 0;\n  this.blend = 0; // BLEND_ALPHA\n  this.uid = 0;\n}\n\nfunction spriteDataAlloc() {\n  if (sprite_freelist.length) {\n    return sprite_freelist.pop();\n  }\n  return new SpriteData();\n}\n\nfunction cmpSprite(a, b) {\n  if (a.z !== b.z) {\n    return a.z - b.z;\n  }\n  if (a.y !== b.y) {\n    return a.y - b.y;\n  }\n  if (a.x !== b.x) {\n    return a.x - b.x;\n  }\n  return a.uid - b.uid;\n}\n\nexport function queuefn(z, fn) {\n  assert(isFinite(z));\n  sprite_queue.push({\n    fn,\n    x: 0,\n    y: 0,\n    z,\n    uid: ++last_uid,\n  });\n}\n\n// coordinates must be in counter-clockwise winding order\nexport function queueraw4(\n  texs, x0, y0, x1, y1, x2, y2, x3, y3, z,\n  u0, v0, u1, v1,\n  color, shader, shader_params, blend\n) {\n  assert(isFinite(z));\n  let elem = spriteDataAlloc();\n  let data = elem.data;\n  // x1 y1 x2 y2 x3 y3 x4 y4 - vertices [0,8)\n  // cr cg cb ca u1 v1 u2 v2 - normalized color + texture [8,16)\n  // Minor perf improvement: convert by clip_space here (still just a single MAD\n  //   if pre-calculated in the camera) and remove it from the shader.\n  data[0] = (x0 - camera2d.data[0]) * camera2d.data[4];\n  data[1] = (y0 - camera2d.data[1]) * camera2d.data[5];\n  data[2] = (x1 - camera2d.data[0]) * camera2d.data[4];\n  data[3] = (y1 - camera2d.data[1]) * camera2d.data[5];\n  data[4] = (x2 - camera2d.data[0]) * camera2d.data[4];\n  data[5] = (y2 - camera2d.data[1]) * camera2d.data[5];\n  data[6] = (x3 - camera2d.data[0]) * camera2d.data[4];\n  data[7] = (y3 - camera2d.data[1]) * camera2d.data[5];\n  data[8] = color[0];\n  data[9] = color[1];\n  data[10] = color[2];\n  data[11] = color[3];\n  data[12] = u0;\n  data[13] = v0;\n  data[14] = u1;\n  data[15] = v1;\n\n  elem.texs = texs;\n  elem.x = data[0];\n  elem.y = data[1];\n  elem.z = z;\n  elem.shader = shader || null;\n  if (shader_params) {\n    shader_params.clip_space = sprite_shader_params.clip_space;\n    elem.shader_params = shader_params;\n  } else {\n    elem.shader_params = null;\n  }\n  elem.blend = blend || 0; // BLEND_ALPHA\n  //elem.bucket = bucket || this.default_bucket;\n  //elem.tech_params = tech_params || null;\n  elem.uid = ++last_uid;\n  sprite_queue.push(elem);\n  return elem;\n}\n\nexport function queueraw(\n  texs, x, y, z, w, h,\n  u0, v0, u1, v1,\n  color, shader, shader_params, blend\n) {\n  return queueraw4(texs,\n    x, y,\n    x, y + h,\n    x + w, y + h,\n    x + w, y,\n    z,\n    u0, v0, u1, v1,\n    color, shader, shader_params, blend);\n}\n\nexport function queuesprite(sprite, x, y, z, w, h, rot, uvs, color, shader, shader_params, nozoom, pixel_perfect) {\n  assert(isFinite(z));\n  let elem = spriteDataAlloc();\n  elem.texs = sprite.texs;\n  x = (x - camera2d.data[0]) * camera2d.data[4];\n  y = (y - camera2d.data[1]) * camera2d.data[5];\n  elem.z = z;\n  w *= camera2d.data[4];\n  h *= camera2d.data[5];\n  if (pixel_perfect) {\n    x |= 0;\n    y |= 0;\n    w |= 0;\n    h |= 0;\n  }\n  elem.x = x;\n  elem.y = y;\n  color = color || sprite.color;\n  let data = elem.data;\n  if (!rot) {\n    let x1 = x - sprite.origin[0] * w;\n    let y1 = y - sprite.origin[1] * h;\n    let x2 = x1 + w;\n    let y2 = y1 + h;\n    data[0] = x1;\n    data[1] = y1;\n    data[2] = x1;\n    data[3] = y2;\n    data[4] = x2;\n    data[5] = y2;\n    data[6] = x2;\n    data[7] = y1;\n  } else {\n    let dx = sprite.origin[0] * w;\n    let dy = sprite.origin[1] * h;\n\n    let cosr = cos(rot);\n    let sinr = sin(rot);\n\n    let x1 = x - cosr * dx + sinr * dy;\n    let y1 = y - sinr * dx - cosr * dy;\n    let ch = cosr * h;\n    let cw = cosr * w;\n    let sh = sinr * h;\n    let sw = sinr * w;\n\n    data[0] = x1;\n    data[1] = y1;\n    data[2] = x1 - sh;\n    data[3] = y1 + ch;\n    data[4] = x1 + cw - sh;\n    data[5] = y1 + sw + ch;\n    data[6] = x1 + cw;\n    data[7] = y1 + sw;\n  }\n\n  data[8] = color[0];\n  data[9] = color[1];\n  data[10] = color[2];\n  data[11] = color[3];\n\n  let ubias = 0;\n  let vbias = 0;\n  let tex = elem.texs[0];\n  if (!nozoom && !tex.nozoom) {\n    // Bias the texture coordinates depending on the minification/magnification\n    //   level so we do not get pixels from neighboring frames bleeding in\n    // Use min here (was max in libGlov), to solve tooltip edges being wrong in strict pixely\n    // Use max here to solve box buttons not lining up, but instead using nozoom in drawBox/drawHBox,\n    //   but, that only works for magnification - need the max here for minification!\n    let zoom_level = max(\n      (uvs[2] - uvs[0]) * tex.width / w,\n      (uvs[3] - uvs[1]) * tex.height / h,\n    ); // in texels per pixel\n    if (zoom_level < 1) { // magnification\n      if (tex.filter_mag === gl.LINEAR) {\n        // Need to bias by half a texel, so we're doing absolutely no blending with the neighboring texel\n        ubias = vbias = 0.5;\n      } else if (tex.filter_mag === gl.NEAREST && engine.antialias) {\n        // When antialiasing is on, even nearest sampling samples from adjacent texels, do slight bias\n        // Want to bias by one *pixel's* worth\n        ubias = vbias = zoom_level / 2;\n      }\n    } else if (zoom_level > 1) { // minification\n      // need to apply this bias even with nearest filtering, not exactly sure why\n      let mipped_texels = zoom_level / 2;\n      ubias = vbias = 0.5 + mipped_texels;\n\n    }\n    if (uvs[0] > uvs[2]) {\n      ubias *= -1;\n    }\n    if (uvs[1] > uvs[3]) {\n      vbias *= -1;\n    }\n  }\n\n  data[12] = uvs[0] + ubias / tex.width;\n  data[13] = uvs[1] + vbias / tex.height;\n  data[14] = uvs[2] - ubias / tex.width;\n  data[15] = uvs[3] - vbias / tex.height;\n\n  elem.uid = ++last_uid;\n  elem.shader = shader || null;\n  elem.blend = 0; // BLEND_ALPHA\n\n  if (shader_params) {\n    shader_params.clip_space = sprite_shader_params.clip_space;\n    elem.shader_params = shader_params;\n  } else {\n    elem.shader_params = null;\n  }\n  sprite_queue.push(elem);\n}\n\n\nlet clip_temp_xy = vec2();\nlet clip_temp_wh = vec2();\nfunction clipCoordsScissor(x, y, w, h) {\n  camera2d.virtualToCanvas(clip_temp_xy, [x, y]);\n  clip_temp_xy[0] = round(clip_temp_xy[0]);\n  clip_temp_xy[1] = round(clip_temp_xy[1]);\n  camera2d.virtualToCanvas(clip_temp_wh, [x + w, y + h]);\n  clip_temp_wh[0] = round(clip_temp_wh[0]) - clip_temp_xy[0];\n  clip_temp_wh[1] = round(clip_temp_wh[1]) - clip_temp_xy[1];\n\n  // let gd_w = engine.render_width || engine.width;\n  let gd_h = engine.render_height || engine.height;\n  return [clip_temp_xy[0], gd_h - (clip_temp_xy[1] + clip_temp_wh[1]), clip_temp_wh[0], clip_temp_wh[1]];\n}\n\nfunction clipCoordsDom(x, y, w, h) {\n  let xywh = vec4();\n  camera2d.virtualToDom(xywh, [x + w, y + h]);\n  xywh[2] = xywh[0];\n  xywh[3] = xywh[1];\n  camera2d.virtualToDom(xywh, [x, y]);\n  xywh[0] = round(xywh[0]);\n  xywh[1] = round(xywh[1]);\n  xywh[2] = round(xywh[2]) - xywh[0];\n  xywh[3] = round(xywh[3]) - xywh[1];\n\n  return xywh;\n}\n\nexport function clip(z_start, z_end, x, y, w, h) {\n  let scissor = clipCoordsScissor(x, y, w, h);\n  queuefn(z_start - 0.01, () => {\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(scissor[0], scissor[1], scissor[2], scissor[3]);\n  });\n  queuefn(z_end - 0.01, () => {\n    gl.disable(gl.SCISSOR_TEST);\n  });\n}\n\nlet clip_stack = [];\nexport function clipped() {\n  return clip_stack.length > 0;\n}\n\nexport function clipPush(z, x, y, w, h) {\n  assert(clip_stack.length < 10); // probably leaking\n  let scissor = clipCoordsScissor(x, y, w, h);\n  let dom_clip = clipCoordsDom(x, y, w, h);\n  camera2d.setInputClipping(dom_clip);\n  spriteQueuePush();\n  clip_stack.push({\n    z, scissor, dom_clip,\n  });\n}\n\nexport function clipPop() {\n  assert(clipped());\n  queuefn(Z.TOOLTIP - 0.1, () => {\n    gl.disable(gl.SCISSOR_TEST);\n  });\n  let { z, scissor } = clip_stack.pop();\n  let sprites = sprite_queue;\n  spriteQueuePop(true);\n  if (clip_stack.length) {\n    let { dom_clip } = clip_stack[clip_stack.length - 1];\n    camera2d.setInputClipping(dom_clip);\n  } else {\n    camera2d.setInputClipping(null);\n  }\n  queuefn(z, () => {\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(scissor[0], scissor[1], scissor[2], scissor[3]);\n    spriteQueuePush();\n    sprite_queue = sprites;\n    exports.draw();\n    spriteQueuePop();\n    // done at Z.TOOLTIP: gl.disable(gl.SCISSOR_TEST);\n  });\n}\n\nlet clip_paused;\nexport function clipPause() {\n  // Queue back into the root sprite queue\n  assert(clipped());\n  assert(!clip_paused);\n  clip_paused = true;\n  spriteQueuePush(sprite_queue_stack[0]);\n  camera2d.setInputClipping(null);\n  // push onto the clip stack so if there's another clip push/pop we get back to\n  // escaped when it pops.\n  clip_stack.push({ dom_clip: null });\n}\nexport function clipResume() {\n  assert(clipped());\n  assert(clip_paused);\n  clip_stack.pop(); // remove us\n  clip_paused = false;\n  assert(clipped());\n  let { dom_clip } = clip_stack[clip_stack.length - 1];\n  spriteQueuePop(true);\n  camera2d.setInputClipping(dom_clip);\n}\n\nfunction diffTextures(texsa, texsb) {\n  if (texsa.length !== texsb.length) {\n    return true;\n  }\n  for (let ii = 0; ii < texsa.length; ++ii) {\n    if (texsa[ii] !== texsb[ii]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nlet batch_state;\nlet sprite_geom;\nlet sprite_buffer; // Float32Array with 8 entries per vert\nlet sprite_buffer_len = 0; // in verts\nlet sprite_buffer_batch_start = 0;\nlet sprite_buffer_idx = 0; // in verts\nlet last_blend_mode;\nlet last_bound_shader;\nconst MAX_VERT_COUNT = 65536;\nlet batches = [];\n\nfunction commit() {\n  if (sprite_buffer_idx === sprite_buffer_batch_start) {\n    return;\n  }\n  batches.push({\n    state: batch_state,\n    start: sprite_buffer_batch_start,\n    end: sprite_buffer_idx,\n  });\n  sprite_buffer_batch_start = sprite_buffer_idx;\n}\n\nfunction commitAndFlush() {\n  commit();\n  if (!batches.length) {\n    return;\n  }\n  assert(sprite_buffer_idx);\n  sprite_geom.update(sprite_buffer, sprite_buffer_idx);\n  sprite_geom.bind();\n\n  for (let ii = 0; ii < batches.length; ++ii) {\n    let batch = batches[ii];\n    let { state, start, end } = batch;\n    if (last_bound_shader !== state.shader || state.shader_params) {\n      shaders.bind(sprite_vshader,\n        state.shader || sprite_fshader,\n        state.shader_params || sprite_shader_params);\n      last_bound_shader = state.shader;\n    }\n    if (last_blend_mode !== state.blend) {\n      last_blend_mode = state.blend;\n      if (last_blend_mode === BLEND_ADDITIVE) {\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n      } else {\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      }\n    }\n    textures.bindArray(state.texs);\n    gl.drawElements(sprite_geom.mode, (end - start) * 3 / 2, gl.UNSIGNED_SHORT, start * 3);\n  }\n\n  batches.length = 0;\n  sprite_buffer_idx = 0;\n  sprite_buffer_batch_start = 0;\n}\n\nfunction bufferSpriteData(data) {\n  let index = sprite_buffer_idx * 8;\n  sprite_buffer_idx += 4;\n\n  let c1 = data[8];\n  let c2 = data[9];\n  let c3 = data[10];\n  let c4 = data[11];\n  let u1 = data[12];\n  let v1 = data[13];\n  let u2 = data[14];\n  let v2 = data[15];\n\n  sprite_buffer[index] = data[0];\n  sprite_buffer[index + 1] = data[1];\n  sprite_buffer[index + 2] = c1;\n  sprite_buffer[index + 3] = c2;\n  sprite_buffer[index + 4] = c3;\n  sprite_buffer[index + 5] = c4;\n  sprite_buffer[index + 6] = u1;\n  sprite_buffer[index + 7] = v1;\n\n  sprite_buffer[index + 8] = data[2];\n  sprite_buffer[index + 9] = data[3];\n  sprite_buffer[index + 10] = c1;\n  sprite_buffer[index + 11] = c2;\n  sprite_buffer[index + 12] = c3;\n  sprite_buffer[index + 13] = c4;\n  sprite_buffer[index + 14] = u1;\n  sprite_buffer[index + 15] = v2;\n\n  sprite_buffer[index + 16] = data[4];\n  sprite_buffer[index + 17] = data[5];\n  sprite_buffer[index + 18] = c1;\n  sprite_buffer[index + 19] = c2;\n  sprite_buffer[index + 20] = c3;\n  sprite_buffer[index + 21] = c4;\n  sprite_buffer[index + 22] = u2;\n  sprite_buffer[index + 23] = v2;\n\n  sprite_buffer[index + 24] = data[6];\n  sprite_buffer[index + 25] = data[7];\n  sprite_buffer[index + 26] = c1;\n  sprite_buffer[index + 27] = c2;\n  sprite_buffer[index + 28] = c3;\n  sprite_buffer[index + 29] = c4;\n  sprite_buffer[index + 30] = u2;\n  sprite_buffer[index + 31] = v1;\n}\n\nexport function draw() {\n  if (engine.defines.NOSPRITES) {\n    sprite_queue.length = 0;\n  }\n  if (!sprite_queue.length) {\n    return;\n  }\n\n  clip_space[0] = 2 / engine.viewport[2];\n  clip_space[1] = -2 / engine.viewport[3];\n\n  last_blend_mode = -1;\n  last_bound_shader = -1;\n\n  if (!sprite_geom) {\n    sprite_geom = geom.create([\n      [shaders.semantic.POSITION, gl.FLOAT, 2, false],\n      [shaders.semantic.COLOR, gl.FLOAT, 4, false],\n      [shaders.semantic.TEXCOORD, gl.FLOAT, 2, false],\n    ], [], null, geom.QUADS);\n    sprite_buffer = new Float32Array(1024);\n    sprite_buffer_len = sprite_buffer.length / 8;\n  }\n\n  sprite_queue.sort(cmpSprite);\n\n  batch_state = null;\n  assert.equal(sprite_buffer_idx, 0);\n  assert.equal(sprite_buffer_batch_start, 0);\n  assert.equal(batches.length, 0);\n  for (let ii = 0; ii < sprite_queue.length; ++ii) {\n    let elem = sprite_queue[ii];\n    if (elem.fn) {\n      commitAndFlush();\n      batch_state = null;\n      elem.fn();\n      last_bound_shader = -1;\n      last_blend_mode = -1;\n      assert.equal(sprite_buffer_idx, 0);\n      assert.equal(sprite_buffer_batch_start, 0);\n      assert.equal(batches.length, 0);\n\n      clip_space[0] = 2 / engine.viewport[2];\n      clip_space[1] = -2 / engine.viewport[3];\n    } else {\n      if (!batch_state ||\n        diffTextures(elem.texs, batch_state.texs) ||\n        elem.shader !== batch_state.shader ||\n        elem.shader_params !== batch_state.shader_params ||\n        elem.blend !== batch_state.blend\n      ) {\n        commit();\n        batch_state = elem;\n      }\n      if (sprite_buffer_idx + 4 > sprite_buffer_len) {\n        commitAndFlush();\n        // batch_state left alone\n        if (sprite_buffer_len !== MAX_VERT_COUNT) {\n          let new_length = min((sprite_buffer_len * 1.25 + 3) & ~3, MAX_VERT_COUNT); // eslint-disable-line no-bitwise\n          sprite_buffer_len = new_length;\n          sprite_buffer = new Float32Array(new_length * 8);\n        }\n      }\n\n      bufferSpriteData(elem.data);\n      sprite_freelist.push(elem);\n    }\n  }\n  commitAndFlush();\n\n  sprite_queue.length = 0;\n  if (last_blend_mode !== BLEND_ALPHA) {\n    // always reset to this\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  }\n}\n\nexport function buildRects(ws, hs) {\n  let rects = [];\n  let total_w = 0;\n  for (let ii = 0; ii < ws.length; ++ii) {\n    total_w += ws[ii];\n  }\n  let total_h = 0;\n  for (let ii = 0; ii < hs.length; ++ii) {\n    total_h += hs[ii];\n  }\n  let tex_w = nextHighestPowerOfTwo(total_w);\n  let tex_h = nextHighestPowerOfTwo(total_h);\n  let wh = [];\n  for (let ii = 0; ii < ws.length; ++ii) {\n    wh.push(ws[ii] / total_h);\n  }\n  let hw = [];\n  for (let ii = 0; ii < hs.length; ++ii) {\n    hw.push(hs[ii] / total_w);\n  }\n  let aspect = [];\n  let non_square = false;\n  let y = 0;\n  for (let jj = 0; jj < hs.length; ++jj) {\n    let x = 0;\n    for (let ii = 0; ii < ws.length; ++ii) {\n      let r = vec4(x / tex_w, y / tex_h,\n        (x + ws[ii]) / tex_w, (y + hs[jj]) / tex_h);\n      rects.push(r);\n      let asp = ws[ii] / hs[jj];\n      if (asp !== 1) {\n        non_square = true;\n      }\n      aspect.push(asp);\n      x += ws[ii];\n    }\n    y += hs[jj];\n  }\n  return {\n    widths: ws,\n    heights: hs,\n    wh,\n    hw,\n    rects,\n    aspect: non_square ? aspect : null,\n    total_w,\n    total_h,\n  };\n}\n\nfunction Sprite(params) {\n  if (params.texs) {\n    this.texs = params.texs;\n  } else {\n    let ext = params.ext || '.png';\n    this.texs = [];\n    if (params.tex) {\n      this.texs.push(params.tex);\n    } else if (params.layers) {\n      assert(params.name);\n      this.texs = [];\n      for (let ii = 0; ii < params.layers; ++ii) {\n        this.texs.push(textures.load({\n          url: `img/${params.name}_${ii}${ext}`,\n          filter_min: params.filter_min,\n          filter_mag: params.filter_mag,\n          wrap_s: params.wrap_s,\n          wrap_t: params.wrap_t,\n        }));\n      }\n    } else if (params.name) {\n      this.texs.push(textures.load({\n        url: `img/${params.name}${ext}`,\n        filter_min: params.filter_min,\n        filter_mag: params.filter_mag,\n        wrap_s: params.wrap_s,\n        wrap_t: params.wrap_t,\n      }));\n    } else {\n      assert(params.url);\n      this.texs.push(textures.load(params));\n    }\n  }\n\n  this.origin = params.origin || vec2(0, 0); // [0,1] range\n  this.size = params.size || vec2(1, 1);\n  this.color = params.color || vec4(1,1,1,1);\n  this.uvs = params.uvs || vec4(0, 0, 1, 1);\n  if (!params.uvs) {\n    // Fix up non-power-of-two textures\n    this.texs[0].onLoad((tex) => {\n      this.uvs[2] = tex.src_width / tex.width;\n      this.uvs[3] = tex.src_height / tex.height;\n    });\n  }\n\n  if (params.ws) {\n    this.uidata = buildRects(params.ws, params.hs);\n  }\n  this.shader = params.shader || null;\n}\n\n// params:\n//   required: x, y\n//   optional: z, w, h, uvs, color, nozoom, pixel_perfect\nSprite.prototype.draw = function (params) {\n  if (params.w === 0 || params.h === 0) {\n    return;\n  }\n  let w = (params.w || 1) * this.size[0];\n  let h = (params.h || 1) * this.size[1];\n  let uvs = (typeof params.frame === 'number') ? this.uidata.rects[params.frame] : (params.uvs || this.uvs);\n  queuesprite(this, params.x, params.y, params.z || Z.UI, w, h, params.rot, uvs, params.color || this.color,\n    params.shader || this.shader, params.shader_params, params.nozoom, params.pixel_perfect);\n};\n\nSprite.prototype.drawDualTint = function (params) {\n  params.shader = sprite_dual_fshader;\n  params.shader_params = {\n    color1: params.color1,\n  };\n  this.draw(params);\n};\n\nexport function create(params) {\n  return new Sprite(params);\n}\n\nexport function startup() {\n  clip_space[2] = -1;\n  clip_space[3] = 1;\n  sprite_vshader = shaders.create('glov/shaders/sprite.vp');\n  sprite_fshader = shaders.create('glov/shaders/sprite.fp');\n  sprite_dual_fshader = shaders.create('glov/shaders/sprite_dual.fp');\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst dot_prop = require('dot-prop');\nconst EventEmitter = require('../../common/tiny-events.js');\nconst { fbGetLoginInfo } = require('./fbinstant.js');\nconst local_storage = require('./local_storage.js');\nconst md5 = require('../../common/md5.js');\nconst { isPacket } = require('../../common/packet.js');\nconst util = require('../../common/util.js');\n\n// relevant events:\n//   .on('channel_data', cb(data [, mod_key, mod_value]));\n\nfunction ClientChannelWorker(subs, channel_id, base_handlers) {\n  EventEmitter.call(this);\n  this.subs = subs;\n  this.channel_id = channel_id;\n  this.subscriptions = 0;\n  this.subscribe_failed = false;\n  this.got_subscribe = false;\n  this.immediate_subscribe = 0;\n  this.channel_data_ver = 0; // for polling for changes\n  this.handlers = Object.create(base_handlers);\n  this.data = {};\n}\nutil.inherits(ClientChannelWorker, EventEmitter);\n\n// cb(data)\nClientChannelWorker.prototype.onSubscribe = function (cb) {\n  assert(this.subscriptions || this.autosubscribed);\n  this.on('subscribe', cb);\n  if (this.got_subscribe) {\n    cb(this.data);\n  }\n};\n\n// cb(data)\nClientChannelWorker.prototype.onceSubscribe = function (cb) {\n  assert(this.subscriptions || this.autosubscribed);\n  if (this.got_subscribe) {\n    cb(this.data);\n  } else {\n    this.once('subscribe', cb);\n  }\n};\n\n\nClientChannelWorker.prototype.handleChannelData = function (data, resp_func) {\n  console.log(`got channel_data(${this.channel_id}):  ${JSON.stringify(data)}`);\n  this.data = data;\n  ++this.channel_data_ver;\n  this.emit('channel_data', this.data);\n  this.got_subscribe = true;\n  this.emit('subscribe', this.data);\n\n  // Get command list upon first connect\n  let channel_type = this.channel_id.split('.')[0];\n  let cmd_list = this.subs.cmds_fetched_by_type;\n  if (cmd_list && !cmd_list[channel_type]) {\n    cmd_list[channel_type] = true;\n    this.send('cmdparse', 'cmd_list', (err, resp) => {\n      if (err) { // already unsubscribed?\n        console.error(`Error getting cmd_list for ${channel_type}`);\n        delete cmd_list[channel_type];\n      } else {\n        this.subs.cmd_parse.addServerCommands(resp);\n      }\n    });\n  }\n\n  resp_func();\n};\n\nClientChannelWorker.prototype.handleApplyChannelData = function (data, resp_func) {\n  // already logged in handleChannelMessage\n  // if (!data.q) {\n  //   console.log(`got channel data mod: ${JSON.stringify(data)}`);\n  // }\n  if (data.value === undefined) {\n    dot_prop.delete(this.data, data.key);\n  } else {\n    dot_prop.set(this.data, data.key, data.value);\n  }\n  ++this.channel_data_ver;\n  this.emit('channel_data', this.data, data.key, data.value);\n  resp_func();\n};\n\nClientChannelWorker.prototype.getChannelData = function (key, default_value) {\n  return dot_prop.get(this.data, key, default_value);\n};\n\nClientChannelWorker.prototype.setChannelData = function (key, value, skip_predict, resp_func) {\n  if (!skip_predict) {\n    dot_prop.set(this.data, key, value);\n  }\n  let q = value && value.q || undefined;\n  let pak = this.subs.client.pak('set_channel_data');\n  pak.writeAnsiString(this.channel_id);\n  pak.writeBool(q);\n  pak.writeAnsiString(key);\n  pak.writeJSON(value);\n  pak.send(resp_func);\n};\n\nClientChannelWorker.prototype.removeMsgHandler = function (msg, cb) {\n  assert(this.handlers[msg] === cb);\n  delete this.handlers[msg];\n};\n\nClientChannelWorker.prototype.onMsg = function (msg, cb) {\n  assert(!this.handlers[msg] || this.handlers[msg] === cb);\n  this.handlers[msg] = cb;\n};\n\nClientChannelWorker.prototype.pak = function (msg) {\n  let pak = this.subs.client.pak('channel_msg');\n  pak.writeAnsiString(this.channel_id);\n  pak.writeAnsiString(msg);\n  // pak.writeInt(flags);\n  return pak;\n};\n\nClientChannelWorker.prototype.send = function (msg, data, resp_func, old_fourth) {\n  assert(!resp_func || typeof resp_func === 'function');\n  assert(!old_fourth);\n  this.subs.client.send('channel_msg', {\n    channel_id: this.channel_id,\n    msg, data,\n  }, resp_func);\n};\n\nClientChannelWorker.prototype.cmdParse = function (cmd, resp_func) {\n  this.send('cmdparse', cmd, resp_func);\n};\n\nfunction SubscriptionManager(client, cmd_parse) {\n  EventEmitter.call(this);\n  this.client = client;\n  this.channels = {};\n  this.logged_in = false;\n  this.login_credentials = null;\n  this.logged_in_username = null;\n  this.was_logged_in = false;\n  this.logging_in = false;\n  this.logging_out = false;\n  this.auto_create_user = false;\n  this.cmd_parse = cmd_parse;\n  if (cmd_parse) {\n    this.cmds_fetched_by_type = {};\n  }\n  this.base_handlers = {};\n  this.channel_handlers = {}; // channel type -> msg -> handler\n\n  this.first_connect = true;\n  this.server_time = 0;\n  this.server_time_interp = 0;\n  client.onMsg('connect', this.handleConnect.bind(this));\n  client.onMsg('channel_msg', this.handleChannelMessage.bind(this));\n  client.onMsg('server_time', this.handleServerTime.bind(this));\n  client.onMsg('chat_broadcast', this.handleChatBroadcast.bind(this));\n  client.onMsg('restarting', this.handleRestarting.bind(this));\n  if (cmd_parse) {\n    client.onMsg('csr_to_client', this.handleCSRToClient.bind(this));\n  }\n  // Add handlers for all channel types\n  this.onChannelMsg(null, 'channel_data', ClientChannelWorker.prototype.handleChannelData);\n  this.onChannelMsg(null, 'apply_channel_data', ClientChannelWorker.prototype.handleApplyChannelData);\n}\nutil.inherits(SubscriptionManager, EventEmitter);\n\nSubscriptionManager.prototype.onceConnected = function (cb) {\n  if (this.client.connected) {\n    return void cb();\n  }\n  this.once('connect', cb);\n};\n\nSubscriptionManager.prototype.getBaseHandlers = function (channel_type) {\n  let handlers = this.channel_handlers[channel_type];\n  if (!handlers) {\n    handlers = this.channel_handlers[channel_type] = Object.create(this.base_handlers);\n  }\n  return handlers;\n};\n\nSubscriptionManager.prototype.onChannelMsg = function (channel_type, msg, cb) {\n  let handlers = channel_type ? this.getBaseHandlers(channel_type) : this.base_handlers;\n  assert(!handlers[msg]);\n  handlers[msg] = cb;\n};\n\nSubscriptionManager.prototype.handleChatBroadcast = function (data) {\n  console.error(`[${data.src}] ${data.msg}`);\n  this.emit('chat_broadcast', data);\n};\n\nSubscriptionManager.prototype.handleRestarting = function (data) {\n  this.restarting = data;\n  this.emit('restarting', data);\n};\n\nSubscriptionManager.prototype.handleConnect = function (data) {\n  let reconnect = false;\n  if (this.first_connect) {\n    this.first_connect = false;\n  } else {\n    reconnect = true;\n  }\n  this.restarting = Boolean(data.restarting);\n\n  if (!this.client.connected || this.client.socket.readyState !== 1) { // WebSocket.OPEN\n    // we got disconnected while trying to log in, we'll retry after reconnection\n    return;\n  }\n\n  let subs = this;\n  function resub() {\n    // (re-)subscribe to all channels\n    for (let channel_id in subs.channels) {\n      let channel = subs.channels[channel_id];\n      if (channel.subscriptions) {\n        subs.client.send('subscribe', channel_id, function (err) {\n          if (err) {\n            channel.subscribe_failed = true;\n            console.error(`Error subscribing to ${channel_id}: ${err}`);\n            channel.emit('subscribe_fail', err);\n          }\n        });\n      }\n    }\n    subs.emit('connect', reconnect);\n  }\n\n  if (this.logging_in) {\n    // already have a login in-flight, it should error before we try again\n  } else if (this.was_logged_in) {\n    // Try to re-connect to existing login\n    this.loginInternal(this.login_credentials, function (err) {\n      if (err && err === 'ERR_FAILALL_DISCONNECT') {\n        // we got disconnected while trying to log in, we'll retry after reconnection\n      } else if (err) {\n        // Error logging in upon re-connection, no good way to handle this?\n        // TODO: Show some message to the user and prompt them to refresh?  Stay in \"disconnected\" state?\n        assert(false, err);\n      } else {\n        resub();\n      }\n    });\n  } else {\n    // Try auto-login\n    if (window.FBInstant) {\n      this.loginFacebook(function () {\n        // ignore error on auto-login\n      });\n    } else if (local_storage.get('name') && local_storage.get('password')) {\n      this.login(local_storage.get('name'), local_storage.get('password'), function () {\n        // ignore error on auto-login\n      });\n    }\n\n    resub();\n  }\n\n};\n\nSubscriptionManager.prototype.handleChannelMessage = function (pak, resp_func) {\n  assert(isPacket(pak));\n  let channel_id = pak.readAnsiString();\n  let msg = pak.readAnsiString();\n  let is_packet = pak.readBool();\n  let data = is_packet ? pak : pak.readJSON();\n  if (!data || !data.q) {\n    let debug_msg;\n    if (!is_packet) {\n      debug_msg = JSON.stringify(data);\n    } else if (typeof data.contents === 'function') {\n      debug_msg = data.contents();\n    } else {\n      debug_msg = '(pak)';\n    }\n    console.log(`got channel_msg(${channel_id}) ${msg}: ${debug_msg}`);\n  }\n  let channel = this.getChannel(channel_id);\n  let handler = channel.handlers[msg];\n  if (!handler) {\n    console.error(`no handler for channel_msg(${channel_id}) ${msg}: ${JSON.stringify(data)}`);\n    return;\n  }\n  handler.call(channel, data, resp_func);\n};\n\nSubscriptionManager.prototype.handleServerTime = function (pak) {\n  this.server_time = pak.readInt();\n  if (this.server_time < this.server_time_interp && this.server_time > this.server_time_interp - 250) {\n    // slight time travel backwards, this one packet must have been delayed,\n    // since we once got a packet quicker. Just ignore this, interpolate from\n    // where we were before\n    // TODO: If the server had a short stall (less than 250ms) we might be\n    // ahead from now on!  Slowly interp back to the specified time\n    // (run speed at 90% until it matches?, same thing for catching up to\n    // small jumps ahead)\n  } else {\n    this.server_time_interp = this.server_time;\n  }\n};\n\nSubscriptionManager.prototype.getServerTime = function () {\n  // Interpolated server time as of start of last tick\n  return this.server_time_interp;\n};\n\nSubscriptionManager.prototype.tick = function (dt) {\n  this.server_time_interp += dt;\n  for (let channel_id in this.channels) {\n    let channel = this.channels[channel_id];\n    if (channel.immediate_subscribe) {\n      if (dt >= channel.immediate_subscribe) {\n        channel.immediate_subscribe = 0;\n        this.unsubscribe(channel_id);\n      } else {\n        channel.immediate_subscribe -= dt;\n      }\n    }\n  }\n};\n\nSubscriptionManager.prototype.subscribe = function (channel_id) {\n  this.getChannel(channel_id, true);\n};\n\nSubscriptionManager.prototype.getChannel = function (channel_id, do_subscribe) {\n  let channel = this.channels[channel_id];\n  if (!channel) {\n    let channel_type = channel_id.split('.')[0];\n    let handlers = this.getBaseHandlers(channel_type);\n    channel = this.channels[channel_id] = new ClientChannelWorker(this, channel_id, handlers);\n  }\n  if (do_subscribe) {\n    channel.subscriptions++;\n    if (this.client.connected && channel.subscriptions === 1) {\n      channel.subscribe_failed = false;\n      this.client.send('subscribe', channel_id, function (err) {\n        if (err) {\n          channel.subscribe_failed = true;\n          console.error(`Error subscribing to ${channel_id}: ${err}`);\n          channel.emit('subscribe_fail', err);\n        }\n      });\n    }\n  }\n  return channel;\n};\n\nSubscriptionManager.prototype.getUserId = function () {\n  return this.loggedIn();\n};\n\nSubscriptionManager.prototype.getMyUserChannel = function () {\n  let user_id = this.loggedIn();\n  if (!user_id) {\n    return null;\n  }\n  let channel = this.getChannel(`user.${user_id}`);\n  if (!this.logging_out) {\n    channel.autosubscribed = true;\n  }\n  return channel;\n};\n\nSubscriptionManager.prototype.unsubscribe = function (channel_id) {\n  let channel = this.channels[channel_id];\n  assert(channel);\n  assert(channel.subscriptions);\n  channel.subscriptions--;\n  if (!channel.subscriptions) {\n    channel.got_subscribe = false;\n  }\n  if (this.client.connected && !channel.subscriptions && !channel.subscribe_failed) {\n    this.client.send('unsubscribe', channel_id);\n  }\n};\n\n// Immediate-mode channel subscription; will unsubscribe automatically on logout\n//   or if not accessed for some time\nSubscriptionManager.prototype.getChannelImmediate = function (channel_id, timeout) {\n  timeout = timeout || 60000;\n  let channel = this.getChannel(channel_id);\n  if (!channel.immediate_subscribe) {\n    this.subscribe(channel_id);\n  }\n  channel.immediate_subscribe = timeout;\n  return channel;\n};\n\nSubscriptionManager.prototype.onLogin = function (cb) {\n  this.on('login', cb);\n  if (this.logged_in) {\n    return void cb();\n  }\n};\n\nSubscriptionManager.prototype.loggedIn = function () {\n  return this.logged_in ? this.logged_in_username || 'missing_name' : false;\n};\n\nSubscriptionManager.prototype.handleLoginResponse = function (resp_func, err, resp) {\n  this.logging_in = false;\n  if (!err) {\n    this.logged_in_username = resp.user_id;\n    this.logged_in_display_name = resp.display_name;\n    this.logged_in = true;\n    this.was_logged_in = true;\n    let user_channel = this.getMyUserChannel(); // auto-subscribe to it\n    user_channel.onceSubscribe(() => {\n      if (!this.did_master_subscribe && user_channel.getChannelData('public.permissions.sysadmin')) {\n        // For cmd_parse access\n        this.did_master_subscribe = true;\n        this.subscribe('master.master');\n      }\n    });\n    this.emit('login');\n  } else {\n    this.emit('login_fail', err);\n  }\n  resp_func(err);\n};\n\nSubscriptionManager.prototype.loginInternal = function (login_credentials, resp_func) {\n  if (this.logging_in) {\n    return void resp_func('Login already in progress');\n  }\n  this.logging_in = true;\n  this.logged_in = false;\n\n  if (login_credentials.fb) {\n    fbGetLoginInfo((err, result) => {\n      if (err) {\n        return void this.handleLoginResponse(resp_func, err);\n      }\n      this.client.send('login_facebook', result, this.handleLoginResponse.bind(this, resp_func));\n    });\n  } else {\n    this.client.send('login', {\n      user_id: login_credentials.user_id,\n      password: md5(this.client.secret + login_credentials.password),\n    }, this.handleLoginResponse.bind(this, resp_func));\n  }\n};\n\nSubscriptionManager.prototype.userCreateInternal = function (params, resp_func) {\n  if (this.logging_in) {\n    return resp_func('Login already in progress');\n  }\n  this.logging_in = true;\n  this.logged_in = false;\n  return this.client.send('user_create', params, this.handleLoginResponse.bind(this, resp_func));\n};\n\nfunction hashedPassword(user_id, password) {\n  if (password.split('$$')[0] === 'prehashed') {\n    password = password.split('$$')[1];\n  } else {\n    password = md5(md5(user_id.toLowerCase()) + password);\n  }\n  return password;\n}\n\n\nSubscriptionManager.prototype.login = function (username, password, resp_func) {\n  username = (username || '').trim();\n  if (!username) {\n    return resp_func('Missing username');\n  }\n  password = (password || '').trim();\n  if (!password) {\n    return resp_func('Missing password');\n  }\n  let hashed_password = hashedPassword(username, password);\n  if (hashed_password !== password) {\n    local_storage.set('password', `prehashed$$${hashed_password}`);\n  }\n  this.login_credentials = { user_id: username, password: hashed_password };\n  if (!this.auto_create_user) {\n    // Just return result directly\n    return this.loginInternal(this.login_credentials, resp_func);\n  }\n  return this.loginInternal(this.login_credentials, (err, data) => {\n    if (!err || err !== 'ERR_USER_NOT_FOUND') {\n      return void resp_func(err, data);\n    }\n    // user not found, auto-create\n    this.userCreate({\n      user_id: username,\n      password,\n      password_confirm: password,\n      email: 'autocreate@glovjs.org',\n    }, resp_func);\n  });\n};\n\nSubscriptionManager.prototype.loginFacebook = function (resp_func) {\n  this.login_credentials = { fb: true };\n  return this.loginInternal(this.login_credentials, resp_func);\n};\n\nSubscriptionManager.prototype.userCreate = function (params, resp_func) {\n  params.user_id = (params.user_id || '').trim();\n  if (!params.user_id) {\n    return resp_func('Missing username');\n  }\n  params.password = (params.password || '').trim();\n  if (!params.password) {\n    return resp_func('Missing password');\n  }\n  params.password_confirm = (params.password_confirm || '').trim();\n  if (!this.auto_create_user && !params.password_confirm) {\n    return resp_func('Missing password confirmation');\n  }\n  params.email = (params.email || '').trim();\n  if (!this.auto_create_user && !params.email) {\n    return resp_func('Missing email');\n  }\n  params.display_name = (params.display_name || '').trim();\n  let hashed_password = hashedPassword(params.user_id, params.password);\n  if (hashed_password !== params.password) {\n    local_storage.set('password', `prehashed$$${hashed_password}`);\n  }\n  let hashed_password_confirm = hashedPassword(params.user_id, params.password_confirm);\n  if (hashed_password !== hashed_password_confirm) {\n    return resp_func('Passwords do not match');\n  }\n  this.login_credentials = { user_id: params.user_id, password: hashed_password };\n  return this.userCreateInternal({\n    display_name: params.display_name || params.user_id,\n    user_id: params.user_id,\n    email: params.email,\n    password: hashed_password,\n  }, resp_func);\n};\n\n\nSubscriptionManager.prototype.logout = function () {\n  assert(this.logged_in);\n  assert(!this.logging_in);\n  assert(!this.logging_out);\n  // Don't know how to gracefully handle logging out with app-level subscriptions\n  //   currently, clean up those we can, assert we have no others\n  if (this.did_master_subscribe) {\n    this.did_master_subscribe = false;\n    this.unsubscribe('master.master');\n  }\n  for (let channel_id in this.channels) {\n    let channel = this.channels[channel_id];\n    if (channel.immediate_subscribe) {\n      channel.immediate_subscribe = 0;\n      this.unsubscribe(channel_id);\n    }\n    assert(!channel.subscriptions, `Remaining active subscription for ${channel_id}`);\n    if (channel.autosubscribed) {\n      channel.autosubscribed = false;\n    }\n  }\n\n  this.logging_out = true;\n  this.client.send('logout', null, (err) => {\n    this.logging_out = false;\n    if (!err) {\n      local_storage.set('password', undefined);\n      this.logged_in = false;\n      this.logged_in_username = null;\n      this.was_logged_in = false;\n      this.login_credentials = null;\n      this.emit('logout');\n    }\n  });\n};\n\nSubscriptionManager.prototype.serverLog = function (type, data) {\n  this.client.send('log', { type, data });\n};\n\nSubscriptionManager.prototype.sendCmdParse = function (command, resp_func) {\n  this.onceConnected(() => {\n    let pak = this.client.pak('cmd_parse_auto');\n    pak.writeString(command);\n    pak.send(resp_func);\n  });\n};\n\nSubscriptionManager.prototype.handleCSRToClient = function (pak, resp_func) {\n  let cmd = pak.readString();\n  let access = pak.readJSON();\n  this.cmd_parse.handle({ access }, cmd, (err, resp) => {\n    if (err && this.cmd_parse.was_not_found) {\n      // bounce back to server\n      return resp_func(null, { found: 0, err });\n    }\n    return resp_func(err, { found: 1, resp });\n  });\n};\n\nexport function create(client, cmd_parse) {\n  return new SubscriptionManager(client, cmd_parse);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst local_storage = require('./local_storage.js');\nconst settings = require('./settings.js');\nconst urlhash = require('./urlhash.js');\nconst { callEach, isPowerOfTwo, nextHighestPowerOfTwo, ridx } = require('../../common/util.js');\n\nconst TEX_UNLOAD_TIME = 5 * 60 * 1000; // for textures loaded (each frame) with auto_unload: true\n\nexport let textures = {};\nexport let load_count = 0;\nlet aniso = 4;\nlet max_aniso = 0;\nlet aniso_enum;\n\nlet default_filter_min;\nlet default_filter_mag;\n\nconst cube_faces = [\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_X', pos: [0,1] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_X', pos: [0,0] },\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_Y', pos: [1,0] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_Y', pos: [1,1] },\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_Z', pos: [2,0] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_Z', pos: [2,1] },\n];\n\nexport const format = {\n  R8: { count: 1 },\n  RGB8: { count: 3 },\n  RGBA8: { count: 4 },\n};\n\nexport function defaultFilters(min, mag) {\n  default_filter_min = min;\n  default_filter_mag = mag;\n}\n\nlet bound_unit = null;\nlet bound_tex = [];\n\nlet handle_loading;\nlet handle_error;\n\nlet frame_timestamp;\n\nfunction setUnit(unit) {\n  if (unit !== bound_unit) {\n    gl.activeTexture(gl.TEXTURE0 + unit);\n    bound_unit = unit;\n  }\n}\n\nfunction bindHandle(unit, target, handle) {\n  if (bound_tex[unit] !== handle) {\n    setUnit(unit);\n    gl.bindTexture(target, handle);\n    bound_tex[unit] = handle;\n  }\n}\n\nfunction unbindAll(target) {\n  for (let unit = 0; unit < bound_tex.length; ++unit) {\n    setUnit(unit);\n    gl.bindTexture(target, target === gl.TEXTURE_2D ? handle_loading : null);\n    bound_tex[unit] = null;\n  }\n}\n\nexport function bind(unit, tex) {\n  tex.last_use = frame_timestamp;\n  // May or may not change the unit\n  bindHandle(unit, tex.target, tex.eff_handle);\n}\n\n// hot path inlined for perf\nexport function bindArray(texs) {\n  for (let ii = 0; ii < texs.length; ++ii) {\n    let tex = texs[ii];\n    tex.last_use = frame_timestamp;\n    let handle = tex.eff_handle;\n    if (bound_tex[ii] !== handle) {\n      if (ii !== bound_unit) {\n        gl.activeTexture(gl.TEXTURE0 + ii);\n        bound_unit = ii;\n      }\n      gl.bindTexture(tex.target, handle);\n      bound_tex[ii] = handle;\n    }\n  }\n}\n\nexport function isArrayBound(texs) {\n  for (let ii = 0; ii < texs.length; ++ii) {\n    let tex = texs[ii];\n    let handle = tex.eff_handle;\n    if (bound_tex[ii] !== handle) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function texturesResetState() {\n  bound_unit = -1;\n  if (engine.webgl2) {\n    unbindAll(gl.TEXTURE_2D_ARRAY);\n  }\n  unbindAll(gl.TEXTURE_2D);\n  setUnit(0);\n  gl.getError();\n}\n\n\nlet auto_unload_textures = [];\n\nfunction Texture(params) {\n  this.name = params.name;\n  this.loaded = false;\n  this.load_fail = false;\n  this.target = params.target || gl.TEXTURE_2D;\n  this.is_array = this.target === gl.TEXTURE_2D_ARRAY;\n  this.is_cube = this.target === gl.TEXTURE_CUBE_MAP;\n  this.handle = gl.createTexture();\n  this.eff_handle = handle_loading;\n  this.setSamplerState(params);\n  this.src_width = this.src_height = 1;\n  this.width = this.height = 1;\n  this.nozoom = params.nozoom || false;\n  this.on_load = [];\n  this.gpu_mem = 0;\n  this.soft_error = params.soft_error || false;\n  this.last_use = frame_timestamp;\n  this.auto_unload = params.auto_unload || false;\n  if (this.auto_unload) {\n    auto_unload_textures.push(this);\n  }\n\n  this.format = params.format || format.RGBA8;\n\n  if (params.data) {\n    let err = this.updateData(params.width, params.height, params.data);\n    if (err) {\n      assert(false, `Error loading ${params.name}: GLError(${err})`);\n    }\n  } else {\n    // texture is not valid, do not leave bound\n    unbindAll(this.target);\n    if (params.url) {\n      this.url = params.url;\n      this.loadURL(params.url);\n    }\n  }\n}\n\nTexture.prototype.updateGPUMem = function () {\n  let new_size = this.width * this.height * this.format.count;\n  if (this.mipmaps) {\n    new_size *= 1.5;\n  }\n  let diff = new_size - this.gpu_mem;\n  engine.perf_state.gpu_mem.tex += diff;\n  this.gpu_mem = diff;\n};\n\nfunction bindForced(tex) {\n  let target = tex.target;\n  setUnit(0);\n  bound_tex[0] = null; // Force a re-bind, no matter what\n  bindHandle(0, target, tex.handle);\n}\n\nTexture.prototype.setSamplerState = function (params) {\n  let target = this.target;\n  bindForced(this);\n\n  this.filter_min = params.filter_min || default_filter_min;\n  this.filter_mag = params.filter_mag || default_filter_mag;\n  gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, this.filter_min);\n  gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, this.filter_mag);\n  this.wrap_s = params.wrap_s || gl.REPEAT;\n  this.wrap_t = params.wrap_t || gl.REPEAT;\n  gl.texParameteri(target, gl.TEXTURE_WRAP_S, this.wrap_s);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_T, this.wrap_t);\n\n  this.mipmaps = this.filter_min >= 0x2700 && this.filter_min <= 0x2703; // Probably gl.LINEAR_MIPMAP_LINEAR\n\n  if (max_aniso) {\n    if (this.mipmaps && params.filter_mag !== gl.NEAREST) {\n      gl.texParameterf(gl.TEXTURE_2D, aniso_enum, aniso);\n    } else {\n      gl.texParameterf(gl.TEXTURE_2D, aniso_enum, 1);\n    }\n  }\n};\n\nTexture.prototype.updateData = function updateData(w, h, data) {\n  assert(!this.destroyed);\n  bindForced(this);\n  this.last_use = frame_timestamp;\n  this.src_width = w;\n  this.src_height = h;\n  this.width = w;\n  this.height = h;\n  // clear the error flag(s) if there are any\n  for (let ii = 0; ii < 10 && gl.getError(); ++ii); // eslint-disable-line curly\n  // Resize NP2 if this is not being used for a texture array, and it is not explicitly allowed (non-mipmapped, wrapped)\n  let np2 = (!isPowerOfTwo(w) || !isPowerOfTwo(h)) && !this.is_array && !this.is_cube &&\n    !(!this.mipmaps && this.wrap_s === gl.CLAMP_TO_EDGE && this.wrap_t === gl.CLAMP_TO_EDGE);\n  if (np2) {\n    this.width = nextHighestPowerOfTwo(w);\n    this.height = nextHighestPowerOfTwo(h);\n    gl.texImage2D(this.target, 0, this.format.internal_type, this.width, this.height, 0,\n      this.format.internal_type, this.format.gl_type, null);\n  }\n  if (data instanceof Uint8Array) {\n    assert(data.length >= w * h * this.format.count);\n    assert(!this.is_cube);\n    if (this.is_array) {\n      let num_images = h / w; // assume square\n      gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n        num_images, 0, this.format.internal_type, this.format.gl_type, data);\n    } else if (np2) {\n      // Could do multiple upload thing like below, but smarter, but we really shouldn't be doing this for\n      // in-process generated images!\n      gl.texSubImage2D(this.target, 0, 0, 0, w, h, this.format.internal_type, this.format.gl_type, data);\n    } else {\n      gl.texImage2D(this.target, 0, this.format.internal_type, w, h, 0,\n        this.format.internal_type, this.format.gl_type, data);\n    }\n  } else {\n    assert(data.width); // instanceof Image fails with ublock AdBlocker; also, this is either an Image or Canvas\n    if (this.is_cube) {\n      assert.equal(w * 2, h * 3);\n      let tex_size = h / 2;\n      let canvas = document.createElement('canvas');\n      canvas.width = tex_size;\n      canvas.height = tex_size;\n      let ctx = canvas.getContext('2d');\n      for (let ii = 0; ii < cube_faces.length; ++ii) {\n        let face = cube_faces[ii];\n        ctx.drawImage(data, face.pos[0] * tex_size, face.pos[1] * tex_size, tex_size, tex_size,\n          0, 0, tex_size, tex_size);\n        gl.texImage2D(gl[face.target], 0, this.format.internal_type, this.format.internal_type, this.format.gl_type,\n          canvas);\n      }\n    } else if (this.is_array) {\n      let num_images = h / w;\n      gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n        num_images, 0, this.format.internal_type, this.format.gl_type, data);\n\n      if (gl.getError()) {\n        // Fix for Samsung devices (Chris's and Galaxy S8 on CrossBrowserTesting)\n        // Also fixes locally on Chrome when using a 8K source texture (was 896x57344),\n        //  perhaps some auto-scaling is going on in the gl.texImage3D call if required?\n        // Try drawing to canvas first\n        let canvas = document.createElement('canvas');\n        canvas.width = w;\n        canvas.height = h;\n        let ctx = canvas.getContext('2d');\n        ctx.drawImage(data, 0, 0);\n        gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n          num_images, 0, this.format.internal_type, this.format.gl_type, canvas);\n      }\n\n    } else if (np2) {\n      // Pad up to power of two\n      // Duplicate right and bottom pixel row by sending image 3 times\n      if (w !== this.width) {\n        gl.texSubImage2D(this.target, 0, 1, 0, this.format.internal_type, this.format.gl_type, data);\n      }\n      if (h !== this.height) {\n        gl.texSubImage2D(this.target, 0, 0, 1, this.format.internal_type, this.format.gl_type, data);\n      }\n      gl.texSubImage2D(this.target, 0, 0, 0, this.format.internal_type, this.format.gl_type, data);\n    } else {\n      gl.texImage2D(this.target, 0, this.format.internal_type, this.format.internal_type, this.format.gl_type, data);\n    }\n  }\n  let gl_err = gl.getError();\n  if (gl_err) {\n    return gl_err;\n  }\n  if (this.mipmaps) {\n    gl.generateMipmap(this.target);\n    gl_err = gl.getError();\n    if (gl_err) {\n      return gl_err;\n    }\n  }\n  this.updateGPUMem();\n  this.eff_handle = this.handle;\n  this.loaded = true;\n\n  callEach(this.on_load, this.on_load = null, this);\n\n  return 0;\n};\n\nTexture.prototype.onLoad = function (cb) {\n  if (this.loaded) {\n    cb(this);\n  } else {\n    this.on_load.push(cb);\n  }\n};\n\nlet texture_base_url = '';\nexport function getExternalTextureURL(url) {\n  if (!url.match(/^.{2,7}:/)) {\n    url = `${texture_base_url||urlhash.getURLBase()}${url}`;\n  }\n  return url;\n}\nexport function setExternalTextureBaseURL(base_url) {\n  texture_base_url = base_url;\n}\n\nconst TEX_RETRY_COUNT = 4;\nTexture.prototype.loadURL = function loadURL(url, filter) {\n  let tex = this;\n  assert(!tex.destroyed);\n\n  // When our browser's location has been changed from 'site.com/foo/' to\n  //  'site.com/foo/bar/7' our relative image URLs are still relative to the\n  //  base.  Maybe should set some meta tag to do this instead?\n  if (!url.match(/^.{2,7}:/)) {\n    url = `${urlhash.getURLBase()}${url}`;\n  }\n\n  let load_gen = tex.load_gen = (tex.load_gen || 0) + 1;\n  function tryLoad(next) {\n    let did_next = false;\n    function done(img) {\n      if (!did_next) {\n        did_next = true;\n        return void next(img);\n      }\n    }\n\n    let img = new Image();\n    img.onload = function () {\n      done(img);\n    };\n    function fail() {\n      done(null);\n    }\n    img.onerror = fail;\n    img.crossOrigin = 'anonymous';\n    img.src = url;\n  }\n\n  ++load_count;\n  let retries = 0;\n  function handleLoad(img) {\n    if (tex.load_gen !== load_gen || tex.destroyed) {\n      // someone else requested this texture to be loaded!  Or, it was already unloaded\n      --load_count;\n      return;\n    }\n    let err_details = '';\n    if (img) {\n      tex.format = format.RGBA8;\n      if (filter) {\n        img = filter(tex, img);\n      }\n      let err = tex.updateData(img.width, img.height, img);\n      if (err) {\n        err_details = `: GLError(${err})`;\n        // Samsung TV gets 1282 on texture arrays\n        // Samsung Galaxy S6 gets 1281 on texture arrays\n        // Note: Any failed image load (partial read of a bad png, etc) also results in 1281!\n        if (tex.is_array && (String(err) === '1282' || String(err) === '1281') && engine.webgl2 && !engine.DEBUG) {\n          local_storage.setJSON('webgl2_disable', {\n            ua: navigator.userAgent,\n            ts: Date.now(),\n          });\n          console.error(`Error loading array texture \"${url}\"${err_details}, reloading without WebGL2..`);\n          engine.reloadSafe();\n          return;\n        }\n        if (!tex.for_reload) {\n          retries = TEX_RETRY_COUNT; // do not retry this\n        }\n      } else {\n        --load_count;\n        return;\n      }\n    }\n    let err = `Error loading texture \"${url}\"${err_details}`;\n    retries++;\n    if (retries > TEX_RETRY_COUNT) {\n      --load_count;\n      tex.eff_handle = handle_error;\n      tex.load_fail = true;\n      console.error(`${err}${err_details ? '' : ', retries failed'}`);\n      if (tex.soft_error) {\n        tex.err = 'Load failed';\n      } else {\n        assert(false, err);\n      }\n      return;\n    }\n    console.error(`${err}, retrying... `);\n    setTimeout(tryLoad.bind(null, handleLoad), 100 * retries * retries);\n  }\n  tryLoad(handleLoad);\n};\n\nTexture.prototype.allocFBO = function (w, h, need_depth) {\n  const fbo_format = settings.fbo_rgba ? gl.RGBA : gl.RGB;\n  bindForced(this);\n  gl.texImage2D(this.target, 0, fbo_format, w, h, 0, fbo_format, gl.UNSIGNED_BYTE, null);\n\n  this.fbo = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.handle, 0);\n\n  this.last_use = frame_timestamp;\n  this.src_width = this.width = w;\n  this.src_height = this.height = h;\n  this.updateGPUMem();\n};\n\nTexture.prototype.captureStart = function (w, h) {\n  assert(!this.capture);\n  this.capture = { w, h };\n  if (this.fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n  }\n};\n\nTexture.prototype.captureEnd = function (filter_linear, wrap) {\n  assert(this.capture);\n  let capture = this.capture;\n  this.capture = null;\n  if (this.fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  } else {\n    this.copyTexImage(0, 0, capture.w, capture.h);\n  }\n  let filter = filter_linear ? gl.LINEAR : gl.NEAREST;\n  this.setSamplerState({\n    filter_min: filter,\n    filter_mag: filter,\n    wrap_s: wrap ? gl.REPEAT : gl.CLAMP_TO_EDGE,\n    wrap_t: wrap ? gl.REPEAT : gl.CLAMP_TO_EDGE,\n  });\n};\n\nTexture.prototype.copyTexImage = function (x, y, w, h) {\n  assert(!this.destroyed);\n  assert(w && h);\n  bindHandle(0, this.target, this.handle);\n  gl.copyTexImage2D(this.target, 0, gl.RGB, x, y, w, h, 0);\n  this.last_use = frame_timestamp;\n  this.src_width = this.width = w;\n  this.src_height = this.height = h;\n  this.updateGPUMem();\n};\n\nTexture.prototype.destroy = function () {\n  if (this.destroyed) {\n    return;\n  }\n  assert(this.name);\n  let auto_unload = this.auto_unload;\n  if (auto_unload) {\n    this.auto_unload = null;\n    let idx = auto_unload_textures.indexOf(this);\n    assert(idx !== -1);\n    ridx(auto_unload_textures, idx);\n  }\n  delete textures[this.name];\n  unbindAll(this.target);\n  gl.deleteTexture(this.handle);\n  if (this.fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.deleteFramebuffer(this.fbo);\n  }\n  this.width = this.height = 0;\n  this.updateGPUMem();\n  this.destroyed = true;\n  if (typeof auto_unload === 'function') {\n    auto_unload();\n  }\n};\n\nfunction create(params) {\n  assert(params.name);\n  let texture = new Texture(params);\n  textures[params.name] = texture;\n  return texture;\n}\n\nlet last_temporary_id = 0;\nexport function createForCapture(unique_name, auto_unload) {\n  let name = unique_name || `screen_temporary_tex_${++last_temporary_id}`;\n  assert(!textures[name]);\n  let texture = create({\n    filter_min: gl.NEAREST,\n    filter_mag: gl.NEAREST,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n    format: format.RGB8,\n    name,\n    auto_unload,\n  });\n  texture.loaded = true;\n  texture.eff_handle = texture.handle;\n  return texture;\n}\n\nexport function load(params) {\n  let key = params.name = params.name || params.url;\n  assert(key);\n  let tex = textures[key];\n  if (!tex) {\n    tex = create(params);\n  }\n  tex.last_use = frame_timestamp;\n  return tex;\n}\n\nexport function cname(key) {\n  let idx = key.lastIndexOf('/');\n  if (idx !== -1) {\n    key = key.slice(idx+1);\n  }\n  idx = key.indexOf('.');\n  if (idx !== -1) {\n    key = key.slice(0, idx);\n  }\n  return key.toLowerCase();\n}\nexport function findTexForReplacement(search_key) {\n  search_key = cname(search_key);\n  for (let key in textures) {\n    let compare_key = cname(key);\n    if (compare_key === search_key) {\n      return textures[key];\n    }\n  }\n  return null;\n}\n\nlet tick_next_tex = 0;\nexport function texturesTick() {\n  frame_timestamp = engine.frame_timestamp;\n  let len = auto_unload_textures.length;\n  if (!len) {\n    return;\n  }\n  if (tick_next_tex >= len) {\n    tick_next_tex = 0;\n  }\n  let tex = auto_unload_textures[tick_next_tex];\n  if (tex.last_use < frame_timestamp - TEX_UNLOAD_TIME) {\n    console.log(`Unloading texture ${tex.name}`);\n    tex.destroy();\n  } else {\n    ++tick_next_tex;\n  }\n}\n\nexport function texturesUnloadDynamic() {\n  while (auto_unload_textures.length) {\n    auto_unload_textures[0].destroy();\n  }\n}\n\nfunction textureReload(filename) {\n  let tex = textures[filename];\n  if (tex && tex.url) {\n    tex.for_reload = true;\n    tex.loadURL(`${tex.url}?rl=${Date.now()}`);\n    return true;\n  }\n  return false;\n}\n\nexport function startup() {\n\n  default_filter_min = gl.LINEAR_MIPMAP_LINEAR;\n  default_filter_mag = gl.LINEAR;\n\n  format.R8.internal_type = gl.LUMINANCE;\n  format.R8.gl_type = gl.UNSIGNED_BYTE;\n  format.RGB8.internal_type = gl.RGB;\n  format.RGB8.gl_type = gl.UNSIGNED_BYTE;\n  format.RGBA8.internal_type = gl.RGBA;\n  format.RGBA8.gl_type = gl.UNSIGNED_BYTE;\n\n  let ext_anisotropic = (\n    gl.getExtension('EXT_texture_filter_anisotropic') ||\n    gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n    gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic')\n  );\n  if (ext_anisotropic) {\n    aniso_enum = ext_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT;\n    aniso = max_aniso = gl.getParameter(ext_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n  }\n\n  handle_error = load({\n    name: 'error',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    filter_mag: gl.NEAREST,\n    data: new Uint8Array([\n      255, 20, 147, 255,\n      255, 0, 0, 255,\n      255, 255, 255, 255,\n      255, 20, 147, 255\n    ]),\n  }).handle;\n\n  handle_loading = load({\n    name: 'loading',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      127, 127, 127, 255,\n      0, 0, 0, 255,\n      64, 64, 64, 255,\n      127, 127, 127, 255,\n    ]),\n  }).handle;\n\n  load({\n    name: 'white',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n    ]),\n  });\n\n  load({\n    name: 'invisible',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n    ]),\n  });\n\n  filewatchOn('.png', textureReload);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_engine = require('./engine.js');\nconst { applyCopy, effectsQueue, effectsIsFinal } = require('./effects.js');\nconst { framebufferCapture, framebufferStart, framebufferEnd, temporaryTextureClaim } = require('./framebuffer.js');\nconst { floor, min, pow, random } = Math;\nconst sprites = require('./sprites.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst glov_ui = require('./ui.js');\nconst { easeOut } = require('../../common/util.js');\nconst { unit_vec, vec4 } = require('./vmath.js');\n\nlet transitions = [];\n\nexport const IMMEDIATE = 'immediate';\n\nexport const REMOVE = 'remove';\nexport const CONTINUE = 'continue';\n\nconst shader_data = {\n  transition_pixelate: {\n    fp: 'glov/shaders/transition_pixelate.fp',\n  },\n};\n\nfunction getShader(key) {\n  let elem = shader_data[key];\n  if (!elem.shader) {\n    elem.shader = shaders.create(elem.fp);\n  }\n  return elem.shader;\n}\n\nfunction GlovTransition(z, func) {\n  this.z = z;\n  this.capture = null;\n  this.func = func;\n  this.accum_time = 0;\n}\n\nfunction transitionCapture(trans) {\n  // Warning: Slow on iOS\n  assert(!trans.capture);\n  trans.capture = textures.createForCapture();\n  framebufferCapture(trans.capture);\n}\n\nfunction transitionCaptureFramebuffer(trans) {\n  assert(!trans.capture);\n  trans.capture = framebufferEnd();\n  temporaryTextureClaim(trans.capture);\n  if (trans.capture.fbo) {\n    // new framebuffer bound, effectively cleared, need to blit this to it!\n    applyCopy({ source: trans.capture, final: effectsIsFinal() });\n  } else {\n    framebufferStart({\n      width: trans.capture.width,\n      height: trans.capture.height,\n      final: effectsIsFinal(),\n    });\n  }\n}\n\nexport function queue(z, fn) {\n  assert(!glov_engine.had_3d_this_frame); // Cannot queue a transition after we've already started 3d rendering/cleared\n  let immediate = false;\n  if (z === IMMEDIATE) {\n    immediate = true;\n    z = Z.TRANSITION_FINAL;\n  }\n\n  for (let ii = 0; ii < transitions.length; ++ii) {\n    let trans = transitions[ii];\n    if (trans.z === z) {\n      // same Z\n      assert(trans.capture);\n      if (!trans.capture) {\n        // two transitions at the same Z on one frame!  ignore second\n        return false;\n      }\n    }\n  }\n  let trans = new GlovTransition(z, fn);\n  transitions.push(trans);\n\n  if (immediate) {\n    transitionCapture(trans);\n  } else {\n    // queue up a capture past the specified Z, so transitions rendering at that Z (plus a handful) get captured\n    effectsQueue(z + Z.TRANSITION_RANGE, transitionCaptureFramebuffer.bind(null, trans));\n    //sprites.queuefn(z + Z.TRANSITION_RANGE, transitionCapture.bind(null, trans));\n  }\n  return true;\n}\n\nfunction destroyTexture(tex) {\n  tex.destroy();\n}\n\nexport function render(dt) {\n  dt = min(dt, 100); // debug: clamp frame times\n  for (let trans_idx = 0; trans_idx < transitions.length; ++trans_idx) {\n    let trans = transitions[trans_idx];\n    trans.accum_time += dt;\n    assert(trans.capture);\n    // call the function and give them the Z\n    // If not the last one, want it to end now!\n    let force_end = trans_idx < transitions.length - 1;\n    let ret = trans.func(trans.z, trans.capture, trans.accum_time, force_end);\n    if (ret === REMOVE) {\n      setTimeout(destroyTexture.bind(null, trans.capture), 0);\n      transitions.splice(trans_idx, 1);\n      trans_idx--;\n    }\n  }\n}\n\nexport function active() {\n  return transitions.length;\n}\n\nfunction glovTransitionFadeFunc(fade_time, z, initial, ms_since_start, force_end) {\n  let progress = min(ms_since_start / fade_time, 1);\n  let alpha = (1 - easeOut(progress, 2));\n  let color = vec4(1, 1, 1, alpha);\n  camera2d.setNormalized();\n  sprites.queueraw4([initial],\n    0, 0, 0, 1,\n    1, 1, 1, 0,\n    z,\n    0, 1, 1, 0,\n    color);\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\n\n/*\n  // Doesn't work because we need more than just 2 UV values in the queue call\nfunction glovTransitionWipeFunc(wipe_time, wipe_angle, z, tex, ms_since_start, force_end) {\n  let progress = min(ms_since_start / wipe_time, 1);\n\n  camera2d.setNormalized();\n\n  let uvs = [[0,1], [1,0]];\n\n  let points = [{}, {}, {}, {}];\n  for (let ii = 0; ii < 4; ii++) {\n    let x = (ii === 1 || ii === 2) ? 1 : 0;\n    let y = (ii >= 2) ? 1 : 0;\n    points[ii].x = x;\n    points[ii].y = y;\n  }\n\n  while (wipe_angle > PI) {\n    wipe_angle -= (2 * PI);\n  }\n  while (wipe_angle < -PI) {\n    wipe_angle += (2 * PI);\n  }\n\n  // TODO: if anyone ever uses this, change 0 degrees to be up, not right, to match other things?\n  if (wipe_angle >= -PI_4 && wipe_angle <= PI_4) {\n    // horizontal wipe from left to right\n    let x0 = progress * 2; // rightmost x\n    let x1 = x0 - sin(abs(wipe_angle)) / SQRT1_2; // leftmost x\n    if (wipe_angle < 0) {\n      points[0].x = x1;\n      points[3].x = x0;\n    } else {\n      points[0].x = x0;\n      points[3].x = x1;\n    }\n    points[1].x = points[2].x = 2;\n  } else if (wipe_angle >= PI_2 + PI_4 || wipe_angle <= -PI_2 - PI_4) {\n    // horizontal wipe from right to left\n    let x0 = 1 - progress * 2; // leftmost x\n    let x1 = x0 + sin(abs(wipe_angle)) / SQRT1_2; // rightmost x,\n    if (wipe_angle < 0) {\n      points[1].x = x1;\n      points[2].x = x0;\n    } else {\n      points[1].x = x0;\n      points[2].x = x1;\n    }\n    points[0].x = points[3].x = -1;\n  } else if (wipe_angle > PI_4 && wipe_angle <= PI_2 + PI_4) {\n    // vertical wipe, top to bottom\n    let y0 = progress * 2; // bottommost y\n    let offs = cos(wipe_angle) / SQRT1_2;\n    let y1 = y0 - abs(offs); // topmost y,\n    if (offs > 0) {\n      points[0].y = y0;\n      points[1].y = y1;\n    } else {\n      points[0].y = y1;\n      points[1].y = y0;\n    }\n    points[2].y = points[3].y = 2;\n  } else {\n    // vertical wipe, bottom to top\n    let y0 = 1 - progress * 2; // topmost y\n    let offs = cos(wipe_angle) / SQRT1_2;\n    let y1 = y0 + abs(offs); // bottommost y,\n    if (offs > 0) {\n      points[2].y = y1;\n      points[3].y = y0;\n    } else {\n      points[2].y = y0;\n      points[3].y = y1;\n    }\n    points[0].y = points[1].y = -1;\n  }\n  // interp UVs based on points\n  points[0].u = lerp(points[0].x, uvs[0][0], uvs[1][0]);\n  points[1].u = lerp(points[1].x, uvs[0][0], uvs[1][0]);\n  points[2].u = lerp(points[2].x, uvs[0][0], uvs[1][0]);\n  points[3].u = lerp(points[3].x, uvs[0][0], uvs[1][0]);\n  points[0].v = lerp(points[0].y, uvs[0][1], uvs[1][1]);\n  points[1].v = lerp(points[1].y, uvs[0][1], uvs[1][1]);\n  points[2].v = lerp(points[2].y, uvs[0][1], uvs[1][1]);\n  points[3].v = lerp(points[3].y, uvs[0][1], uvs[1][1]);\n\n  sprites.queueraw4([tex],\n    points[0].x, points[0].y, points[3].x, points[3].y,\n    points[2].x, points[2].y, points[1].x, points[1].y,\n    z,\n    points[0].u, points[0].v, points[2].u, points[2].v,\n    unit_vec, 'alpha_nearest');\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\n*/\n\nfunction glovTransitionSplitScreenFunc(time, border_width, slide_window, z, tex, ms_since_start, force_end) {\n  let border_color = vec4(1, 1, 1, 1);\n  let progress = easeOut(min(ms_since_start / time, 1), 2);\n  camera2d.setNormalized();\n\n  let uvs = [[0,1], [1,0]];\n\n  let xoffs = progress;\n  let v_half = uvs[0][1] + (uvs[1][1] - uvs[0][1]) / 2;\n  if (slide_window) { // slide window\n    sprites.queueraw([tex], 0, 0, z, 1 - xoffs, 1 / 2,\n      0, uvs[0][1], uvs[1][0] * (1 - progress), v_half,\n      unit_vec);\n    sprites.queueraw([tex], 0 + xoffs, 1 / 2, z, 1 - xoffs, 1 / 2,\n      uvs[1][0] * progress, v_half, uvs[1][0], uvs[1][1],\n      unit_vec);\n  } else { // slide image\n    sprites.queueraw([tex], 0 - xoffs, 0, z, 1, 1 / 2,\n      uvs[0][0], uvs[0][1], uvs[1][0], v_half,\n      unit_vec);\n    sprites.queueraw([tex], 0 + xoffs, 1 / 2, z, 1, 1 / 2,\n      uvs[0][0], v_half, uvs[1][0], uvs[1][1],\n      unit_vec);\n  }\n  let border_grow_progress = min(progress * 4, 1);\n  border_color[3] = border_grow_progress;\n  border_width *= border_grow_progress;\n  // TODO: Would look better if the horizontal border grew from the middle out, so the overlapping bit is identical\n  // on both sides\n  glov_ui.drawRect(0, 0.5 - border_width, 1 - xoffs, 0.5, z + 1, border_color);\n  glov_ui.drawRect(1 - xoffs - border_width, 0, 1 - xoffs, 0.5, z + 1, border_color);\n  glov_ui.drawRect(xoffs, 0.5, 1, 0.5 + border_width, z + 1, border_color);\n  glov_ui.drawRect(xoffs, 0.5, xoffs + border_width, 1, z + 1, border_color);\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\nconst render_scale = 1;\nlet transition_pixelate_textures = [null];\n\nfunction transitionPixelateCapture() {\n  let tex = framebufferEnd();\n  framebufferStart({\n    width: tex.width,\n    height: tex.height,\n    final: effectsIsFinal(),\n  });\n  transition_pixelate_textures[0] = tex;\n}\n\nfunction glovTransitionPixelateFunc(time, z, tex, ms_since_start, force_end) {\n  //ms_since_start %= time;\n  //let viewport = glov_engine.graphics_device.getViewport();\n  //let gd_width = viewport[2];\n  let gd_width = glov_engine.width;\n  let progress = min(ms_since_start / time, 1);\n  camera2d.setNormalized();\n\n  transition_pixelate_textures[0] = tex;\n  if (progress > 0.5) {\n    effectsQueue(z, transitionPixelateCapture); // modifies transition_pixelate_textures[]\n  }\n\n  let partial_progress = (progress > 0.5 ? 1 - progress : progress) * 2;\n  // Use power of two scalings, but then scale relative to a 1024px virtual screen, so the biggest\n  //  pixel is about the same percentage of the screen regardless of resolution.\n  let pixel_scale = pow(2, floor(partial_progress * 8.9)) / 1024 * gd_width * render_scale;\n\n  let param0 = vec4(tex.width / pixel_scale, tex.height / pixel_scale,\n    pixel_scale / tex.width, pixel_scale / tex.height);\n  let param1 = vec4(0.5 / tex.width, 0.5 / tex.height,\n    (tex.texSizeX - 1) / tex.width, (tex.texSizeY - 1) / tex.height);\n\n\n  sprites.queueraw(transition_pixelate_textures, 0, 0, z + 1, 1, 1,\n    0, 1, 1, 0,\n    unit_vec, getShader('transition_pixelate'), {\n      param0,\n      param1,\n    });\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\nexport function fade(fade_time) {\n  return glovTransitionFadeFunc.bind(null, fade_time);\n}\n\n// export function wipe(wipe_time, wipe_angle) {\n//   return glovTransitionWipeFunc.bind(null, wipe_time, wipe_angle);\n// }\n\n// border_width in camera-relative size\nexport function splitScreen(time, border_width, slide_window) {\n  border_width /= camera2d.w(); // convert to normalized units\n  return glovTransitionSplitScreenFunc.bind(null, time, border_width, slide_window);\n}\n\nexport function pixelate(fade_time) {\n  return glovTransitionPixelateFunc.bind(null, fade_time);\n}\n\n// export function logoZoom(time, logo) {\n//   return glovTransitionLogoZoomFunc.bind(null, time, logo);\n// }\n\nexport function randomTransition(fade_time_scale) {\n  fade_time_scale = fade_time_scale || 1;\n  let idx = floor(random() * 3);\n  switch (idx) {\n    case 0:\n      return fade(500 * fade_time_scale);\n    case 1:\n      return splitScreen(250 * fade_time_scale, 2, false);\n    case 2:\n      return pixelate(750 * fade_time_scale);\n    // case 3:\n    //   return wipe(250 * fade_time_scale, random() * 2 * PI);\n    // case 4:\n    //   if (!logo) {\n    //     GlovTextureLoadOptions options;\n    //     options.clamp_s = options.clamp_t = true;\n    //     logo = GlovTextures::loadtex(\"data/SampleLogoTransition.png\", &options);\n    //   }\n    //   glovTransitionQueue(Z_TRANSITION_FINAL, glovTransitionLogoZoom(500, logo));\n    //   break;\n    default:\n      assert(0);\n  }\n  return null;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-underscore-dangle:off */\n\nwindow.Z = window.Z || {};\nZ.BORDERS = Z.BORDERS || 90;\nZ.UI = Z.UI || 100;\nZ.MODAL = Z.MODAL || 1000;\nZ.TOOLTIP = Z.TOOLTIP || 2000;\nZ.DEBUG = Z.DEBUG || 9800;\n\n// very high, but can still add integers\nZ.TRANSITION_FINAL = Z.TRANSITION_FINAL || 9900;\n// how much Z range can be used for rendering transitions - the capture happens at z + Z_TRANSITION_RANGE\nZ.TRANSITION_RANGE = Z.TRANSITION_RANGE || 10;\n\nZ.FPSMETER = Z.FPSMETER || 10000;\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_edit_box = require('./edit_box.js');\nconst effects = require('./effects.js');\nconst { effectsQueue } = effects;\nconst glov_engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst glov_input = require('./input.js');\nconst { linkTick } = require('./link.js');\nconst { abs, max, min, round, sqrt } = Math;\nconst { soundLoad, soundPlay } = require('./sound.js');\nconst glov_sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { clamp, clone, lerp, merge } = require('../../common/util.js');\nconst { mat43, m43identity, m43mul } = require('./mat43.js');\nconst { vec2, vec4, v4scale, unit_vec } = require('./vmath.js');\n\nconst MODAL_DARKEN = 0.75;\nlet KEYS;\nlet PAD;\n\nconst menu_fade_params_default = {\n  blur: [0.125, 0.865],\n  saturation: [0.5, 0.1],\n  brightness: [1, 1 - MODAL_DARKEN],\n  fallback_darken: vec4(0, 0, 0, MODAL_DARKEN),\n  z: Z.MODAL,\n};\n\nexport function focuslog(...args) {\n  // console.log(`focuslog(${glov_engine.frame_index}): `, ...args);\n}\n\nlet color_set_shades = vec4(1, 0.8, 0.7, 0.4);\n\nexport function makeColorSet(color) {\n  let ret = {\n    regular: vec4(),\n    rollover: vec4(),\n    down: vec4(),\n    disabled: vec4(),\n  };\n  v4scale(ret.regular, color, color_set_shades[0]);\n  v4scale(ret.rollover, color, color_set_shades[1]);\n  v4scale(ret.down, color, color_set_shades[2]);\n  v4scale(ret.disabled, color, color_set_shades[3]);\n  for (let field in ret) {\n    ret[field][3] = color[3];\n  }\n  return ret;\n}\n\nlet hooks = [];\nexport function addHook(draw, click) {\n  hooks.push({\n    draw,\n    click,\n  });\n}\n\nfunction doBlurEffect(factor) {\n  effects.applyGaussianBlur({\n    blur: factor,\n    // min_size: 128,\n  });\n}\n\nlet desaturate_xform = mat43();\nlet desaturate_tmp = mat43();\nfunction doDesaturateEffect(saturation, brightness) {\n  m43identity(desaturate_xform);\n\n  effects.saturationMatrix(desaturate_tmp, saturation);\n  m43mul(desaturate_xform, desaturate_xform, desaturate_tmp);\n\n  effects.brightnessScaleMatrix(desaturate_tmp, brightness);\n  m43mul(desaturate_xform, desaturate_xform, desaturate_tmp);\n\n  // if ((hue % (Math.PI * 2)) !== 0) {\n  //   effects.hueMatrix(tmp, hue);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (contrast !== 1) {\n  //   effects.contrastMatrix(tmp, contrast);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (brightness !== 0) {\n  //   effects.brightnessMatrix(tmp, brightness);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (additiveRGB[0] !== 0 || additiveRGB[1] !== 0 || additiveRGB[2] !== 0) {\n  //   effects.additiveMatrix(tmp, additiveRGB);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (grayscale) {\n  //   effects.grayScaleMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (negative) {\n  //   effects.negativeMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (sepia) {\n  //   effects.sepiaMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  effects.applyColorMatrix({\n    colorMatrix: desaturate_xform,\n  });\n}\n\n// overrideable default parameters\nexport let button_height = 32;\nexport let font_height = 24;\nexport let button_width = 200;\nexport let modal_button_width = 100;\nexport let button_img_size = button_height;\nexport let modal_width = 600;\nexport let modal_y0 = 200;\nexport let modal_title_scale = 1.2;\nexport let modal_pad = 16;\nexport let panel_pixel_scale = 32 / 13; // button_height / button pixel resolution\nexport let tooltip_panel_pixel_scale = panel_pixel_scale;\nexport let tooltip_width = 400;\nexport let tooltip_pad = 8;\n\nexport let font_style_focused = glov_font.style(null, {\n  color: 0x000000ff,\n  outline_width: 2,\n  outline_color: 0xFFFFFFff,\n});\nexport let font_style_normal = glov_font.styleColored(null, 0x000000ff);\n\nexport let font;\nexport let title_font;\nexport let sprites = {};\n\nexport let color_button = makeColorSet([1,1,1,1]);\nexport let color_panel = vec4(1, 1, 0.75, 1);\nexport let modal_font_style = glov_font.styleColored(null, 0x000000ff);\n\nlet sounds = {};\nexport let button_mouseover = false; // for callers to poll the very last button\nexport let button_focused = false; // for callers to poll the very last button\nexport let button_click = null; // on click, for callers to poll which mouse button, etc\nexport let touch_changed_focus = false; // did a touch even this frame change focus?\n// For tracking global mouseover state\nlet last_frame_button_mouseover = false;\nlet frame_button_mouseover = false;\n\nlet modal_dialog = null;\nlet modal_stealing_focus = false;\nexport let menu_up = false; // Boolean to be set by app to impact behavior, similar to a modal\nlet menu_fade_params = merge({}, menu_fade_params_default);\nlet menu_up_time = 0;\n\nexports.this_frame_edit_boxes = [];\nlet last_frame_edit_boxes = [];\nlet dom_elems = [];\nlet dom_elems_issued = 0;\n\n// for modal dialogs\nlet button_keys;\n\nlet focused_last_frame;\nlet focused_this_frame;\nlet focused_key_not;\nlet focused_key;\nlet focused_key_prev1;\nlet focused_key_prev2;\n\nlet pad_focus_left;\nlet pad_focus_right;\n\nexport function colorSetSetShades(rollover, down, disabled) {\n  color_set_shades[1] = rollover;\n  color_set_shades[2] = down;\n  color_set_shades[3] = disabled;\n  color_button = makeColorSet([1,1,1,1]);\n}\n\nexport function loadUISprite(name, ws, hs, overrides, only_override) {\n  let override = overrides && overrides[name];\n  if (override === null) {\n    // skip it, assume not used\n  } else if (override) {\n    sprites[name] = glov_sprites.create({\n      name: override[0],\n      ws: override[1],\n      hs: override[2],\n    });\n  } else if (!only_override) {\n    sprites[name] = glov_sprites.create({\n      name: `ui/${name}`,\n      ws,\n      hs,\n    });\n  }\n}\n\nexport function startup(param) {\n  font = param.font;\n  title_font = param.title_font || font;\n  let overrides = param.ui_sprites;\n  KEYS = glov_input.KEYS;\n  PAD = glov_input.PAD;\n  if (param.pad_focus_dpad) {\n    pad_focus_left = PAD.LEFT;\n    pad_focus_right = PAD.RIGHT;\n  } else {\n    pad_focus_left = PAD.LEFT_BUMPER;\n    pad_focus_right = PAD.RIGHT_BUMPER;\n  }\n\n  loadUISprite('button', [4, 5, 4], [13], overrides);\n  sprites.button_regular = sprites.button;\n  loadUISprite('button_rollover', [4, 5, 4], [13], overrides, true);\n  loadUISprite('button_down', [4, 5, 4], [13], overrides);\n  loadUISprite('button_disabled', [4, 5, 4], [13], overrides);\n  loadUISprite('panel', [3, 2, 3], [3, 10, 3], overrides);\n  loadUISprite('menu_entry', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_selected', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_down', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_header', [4, 5, 12], [13], overrides);\n  loadUISprite('slider', [6, 2, 6], [13], overrides);\n  // loadUISprite('slider_notch', [3], [13], overrides);\n  loadUISprite('slider_handle', [9], [13], overrides);\n\n  loadUISprite('scrollbar_bottom', [11], [13], overrides);\n  loadUISprite('scrollbar_trough', [11], [8], overrides);\n  loadUISprite('scrollbar_top', [11], [13], overrides);\n  loadUISprite('scrollbar_handle_grabber', [11], [13], overrides);\n  loadUISprite('scrollbar_handle', [11], [3, 7, 3], overrides);\n\n  sprites.white = glov_sprites.create({ url: 'white' });\n\n  button_keys = {\n    ok: { key: [KEYS.O], pad: [PAD.X], low_key: [KEYS.ESC] },\n    cancel: { key: [KEYS.ESC], pad: [PAD.B, PAD.Y] },\n  };\n  button_keys.yes = clone(button_keys.ok);\n  button_keys.yes.key.push(KEYS.Y);\n  button_keys.no = clone(button_keys.cancel);\n  button_keys.no.key.push(KEYS.N);\n}\n\nlet dynamic_text_elem;\nlet per_frame_dom_alloc = [0,0,0,0,0,0,0];\nexport function getElem(allow_modal, last_elem) {\n  if (modal_dialog && !allow_modal) {\n    return null;\n  }\n  if (dom_elems_issued >= dom_elems.length || !last_elem) {\n    let elem = document.createElement('div');\n    if (glov_engine.DEBUG && !glov_engine.resizing()) {\n      per_frame_dom_alloc[glov_engine.frame_index % per_frame_dom_alloc.length] = 1;\n      let sum = 0;\n      for (let ii = 0; ii < per_frame_dom_alloc.length; ++ii) {\n        sum += per_frame_dom_alloc[ii];\n      }\n      assert(sum < per_frame_dom_alloc.length);\n    }\n    elem.setAttribute('class', 'glovui_dynamic');\n    if (!dynamic_text_elem) {\n      dynamic_text_elem = document.getElementById('dynamic_text');\n    }\n    dynamic_text_elem.appendChild(elem);\n    dom_elems.push(elem);\n    last_elem = elem;\n  }\n  if (dom_elems[dom_elems_issued] !== last_elem) {\n    for (let ii = dom_elems_issued + 1; ii < dom_elems.length; ++ii) {\n      if (dom_elems[ii] === last_elem) {\n        dom_elems[ii] = dom_elems[dom_elems_issued];\n        dom_elems[dom_elems_issued] = last_elem;\n      }\n    }\n  }\n  let elem = dom_elems[dom_elems_issued];\n  dom_elems_issued++;\n  return elem;\n}\n\nexport function bindSounds(_sounds) {\n  sounds = _sounds;\n  for (let key in sounds) {\n    soundLoad(sounds[key]);\n  }\n}\n\nexport function drawHBox(coords, s, color) {\n  let uidata = s.uidata;\n  let ws = [uidata.wh[0] * coords.h, 0, uidata.wh[2] * coords.h];\n  let x = coords.x;\n  ws[1] = max(0, coords.w - ws[0] - ws[2]);\n  for (let ii = 0; ii < ws.length; ++ii) {\n    let my_w = ws[ii];\n    s.draw({\n      x,\n      y: coords.y,\n      z: coords.z,\n      color,\n      w: my_w,\n      h: coords.h,\n      uvs: uidata.rects[ii],\n      // nozoom: true, // nozoom since different parts of the box get zoomed differently\n    });\n    x += my_w;\n  }\n}\n\nexport function drawVBox(coords, s, color) {\n  let uidata = s.uidata;\n  let hs = [uidata.hw[0] * coords.w, 0, uidata.hw[2] * coords.w];\n  let y = coords.y;\n  hs[1] = max(0, coords.h - hs[0] - hs[2]);\n  for (let ii = 0; ii < hs.length; ++ii) {\n    let my_h = hs[ii];\n    s.draw({\n      x: coords.x,\n      y,\n      z: coords.z,\n      color,\n      w: coords.w,\n      h: my_h,\n      uvs: uidata.rects[ii],\n      // nozoom: true, // nozoom since different parts of the box get zoomed differently\n    });\n    y += my_h;\n  }\n}\n\nexport function drawBox(coords, s, pixel_scale, color) {\n  let uidata = s.uidata;\n  let scale = pixel_scale;\n  let ws = [uidata.widths[0] * scale, 0, uidata.widths[2] * scale];\n  ws[1] = max(0, coords.w - ws[0] - ws[2]);\n  let hs = [uidata.heights[0] * scale, 0, uidata.heights[2] * scale];\n  hs[1] = max(0, coords.h - hs[0] - hs[2]);\n  let x = coords.x;\n  for (let ii = 0; ii < ws.length; ++ii) {\n    let my_w = ws[ii];\n    if (my_w) {\n      let y = coords.y;\n      for (let jj = 0; jj < hs.length; ++jj) {\n        let my_h = hs[jj];\n        if (my_h) {\n          s.draw({\n            x, y, z: coords.z,\n            color,\n            w: my_w,\n            h: my_h,\n            uvs: uidata.rects[jj * 3 + ii],\n            nozoom: true, // nozoom since different parts of the box get zoomed differently\n          });\n          y += my_h;\n        }\n      }\n      x += my_w;\n    }\n  }\n}\n\nexport function playUISound(name, volume) {\n  if (name === 'select') {\n    name = 'button_click';\n  }\n  if (sounds[name]) {\n    soundPlay(sounds[name], volume);\n  }\n}\n\nexport function setMouseOver(key, quiet) {\n  if (last_frame_button_mouseover !== key && frame_button_mouseover !== key && !quiet) {\n    playUISound('rollover');\n  }\n  frame_button_mouseover = key;\n  button_mouseover = true;\n}\n\nexport function focusSteal(key) {\n  if (key !== focused_key) {\n    focuslog('focusSteal ', key);\n  }\n  focused_this_frame = true;\n  focused_key = key;\n}\n\nexport function focusCanvas() {\n  focusSteal('canvas');\n}\n\nexport function isFocusedPeek(key) {\n  return focused_key === key;\n}\nexport function isFocused(key) {\n  if (key !== focused_key_prev2) {\n    focused_key_prev1 = focused_key_prev2;\n    focused_key_prev2 = key;\n  }\n  if (key === focused_key || key !== focused_key_not && !focused_this_frame &&\n    !focused_last_frame\n  ) {\n    if (key !== focused_key) {\n      focuslog('isFocused->focusSteal');\n    }\n    focusSteal(key);\n    return true;\n  }\n  return false;\n}\n\nexport function focusNext(key) {\n  focuslog('focusNext ', key);\n  playUISound('rollover');\n  focused_key = null;\n  focused_last_frame = focused_this_frame = false;\n  focused_key_not = key;\n  // Eat input events so a pair of keys (e.g. SDLK_DOWN and SDLK_CONTROLLER_DOWN)\n  // don't get consumed by two separate widgets\n  glov_input.eatAllInput(true);\n}\n\nexport function focusPrev(key) {\n  focuslog('focusPrev ', key);\n  playUISound('rollover');\n  if (key === focused_key_prev2) {\n    focusSteal(focused_key_prev1);\n  } else {\n    focusSteal(focused_key_prev2);\n  }\n  glov_input.eatAllInput(true);\n}\n\nexport function focusCheck(key) {\n  if (modal_stealing_focus) {\n    // hidden by modal, etc\n    return false;\n  }\n  // Returns true even if focusing previous element, since for this frame, we are still effectively focused!\n  let focused = isFocused(key);\n  if (focused) {\n    if (glov_input.keyDownEdge(KEYS.TAB)) {\n      if (glov_input.keyDown(KEYS.SHIFT)) {\n        focusPrev(key);\n      } else {\n        focusNext(key);\n        focused = false;\n      }\n    }\n    if (glov_input.padButtonDownEdge(pad_focus_right)) {\n      focusNext(key);\n      focused = false;\n    }\n    if (glov_input.padButtonDownEdge(pad_focus_left)) {\n      focusPrev(key);\n    }\n  }\n  return focused;\n}\n\nexport function panel(param) {\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.w === 'number');\n  assert(typeof param.h === 'number');\n  param.z = param.z || (Z.UI - 1);\n  let color = param.color || color_panel;\n  drawBox(param, sprites.panel, param.pixel_scale || panel_pixel_scale, color);\n  glov_input.click(param);\n  glov_input.mouseOver(param);\n}\n\nexport function drawTooltip(param) {\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.tooltip === 'string');\n\n  let tooltip_w = param.tooltip_width || tooltip_width;\n  let x = param.x;\n  if (x + tooltip_w > camera2d.x1()) {\n    x = camera2d.x1() - tooltip_w;\n  }\n  let z = param.z || Z.TOOLTIP;\n  let tooltip_y0 = param.y;\n  let eff_tooltip_pad = param.tooltip_pad || tooltip_pad;\n  let w = tooltip_w - eff_tooltip_pad * 2;\n  if (param.tooltip_above) {\n    tooltip_y0 -= font_height * font.numLines(modal_font_style, w, 0, font_height, param.tooltip) + eff_tooltip_pad * 2;\n  }\n  let y = tooltip_y0 + eff_tooltip_pad;\n  y += font.drawSizedWrapped(modal_font_style,\n    x + eff_tooltip_pad, y, z+1, w, 0, font_height,\n    param.tooltip);\n  y += eff_tooltip_pad;\n  let pixel_scale = param.pixel_scale || tooltip_panel_pixel_scale;\n\n  panel({\n    x,\n    y: tooltip_y0,\n    z,\n    w: tooltip_w,\n    h: y - tooltip_y0,\n    pixel_scale,\n  });\n}\n\nexport function checkHooks(param, click) {\n  if (param.hook) {\n    for (let ii = 0; ii < hooks.length; ++ii) {\n      if (click) {\n        hooks[ii].click(param);\n      }\n      hooks[ii].draw(param);\n    }\n  }\n}\n\n// eslint-disable-next-line complexity\nexport function buttonShared(param) {\n  param.z = param.z || Z.UI;\n  let state = 'regular';\n  let ret = false;\n  if (param.draw_only) {\n    return { ret, state };\n  }\n  let key = param.key || `${param.x}_${param.y}`;\n  let rollover_quiet = param.rollover_quiet;\n  let focused = !param.disabled && !param.no_focus && focusCheck(key);\n  let key_opts = param.in_event_cb ? { in_event_cb: param.in_event_cb } : null;\n  button_mouseover = false;\n  if (param.disabled) {\n    if (glov_input.mouseOver(param)) { // Still eat mouse events\n      if (param.disabled_mouseover) {\n        setMouseOver(key, rollover_quiet);\n      }\n    }\n    state = 'disabled';\n  } else if (param.drag_target && (ret = glov_input.dragDrop(param))) {\n    if (!glov_input.mousePosIsTouch()) {\n      setMouseOver(key, rollover_quiet);\n    }\n    if (!param.no_focus) {\n      focusSteal(key);\n      focused = true;\n    }\n    button_click = { drag: true };\n  } else if ((button_click = glov_input.click(param)) ||\n    param.long_press && (button_click = glov_input.longPress(param))\n  ) {\n    if (param.touch_twice && !focused && glov_input.mousePosIsTouch()) {\n      // Just focus, show tooltip\n      touch_changed_focus = true;\n      setMouseOver(key, rollover_quiet);\n    } else {\n      ret = true;\n    }\n    if (!param.no_focus) {\n      focusSteal(key);\n      focused = true;\n    }\n  } else if (param.drag_target && glov_input.dragOver(param)) {\n    // Mouseover even if touch?\n    setMouseOver(key, rollover_quiet);\n    state = glov_input.mouseDown({ max_dist: Infinity }) ? 'down' : 'rollover';\n  } else if (param.drag_over && glov_input.dragOver(param)) {\n    // do nothing\n  } else if (glov_input.mouseOver(param)) {\n    state = glov_input.mouseDown(param) ? 'down' : 'rollover';\n    // On touch, only set mouseover if also down\n    if (!glov_input.mousePosIsTouch() || state === 'down') {\n      setMouseOver(key, rollover_quiet);\n    }\n  }\n  button_focused = focused;\n  if (focused) {\n    if (glov_input.keyDownEdge(KEYS.SPACE, key_opts) || glov_input.keyDownEdge(KEYS.RETURN, key_opts) ||\n      glov_input.padButtonDownEdge(PAD.A)\n    ) {\n      button_click = { kb: true };\n      ret = true;\n    }\n  }\n  if (ret) {\n    state = 'down';\n    playUISound('button_click');\n  }\n  if (button_mouseover && param.tooltip) {\n    drawTooltip({\n      x: param.x,\n      y: param.tooltip_above ? param.y - 2 : param.y + param.h + 2,\n      tooltip_above: param.tooltip_above,\n      tooltip: param.tooltip,\n      tooltip_width: param.tooltip_width,\n    });\n  }\n  param.z += param.z_bias && param.z_bias[state] || 0;\n  checkHooks(param, ret);\n  return { ret, state, focused };\n}\n\nexport let button_last_color;\nexport function buttonTextDraw(param, state, focused) {\n  let colors = param.colors || color_button;\n  let color = button_last_color = colors[state];\n  let base_name = param.base_name || 'button';\n  let sprite_name = `${base_name}_${state}`;\n  let sprite = sprites[sprite_name];\n  // Note: was if (sprite) color = colors.regular for specific-sprite matches\n  if (!sprite) {\n    sprite = sprites[base_name];\n  }\n\n  drawHBox(param, sprite, color);\n  let hpad = min(param.font_height * 0.25, param.w * 0.1);\n  font.drawSizedAligned(\n    focused ? font_style_focused : font_style_normal,\n    param.x + hpad, param.y, param.z + 0.1,\n    // eslint-disable-next-line no-bitwise\n    param.font_height, glov_font.ALIGN.HCENTERFIT | glov_font.ALIGN.VCENTER, param.w - hpad * 2, param.h, param.text);\n}\n\nexport function buttonText(param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.text === 'string');\n  // optional params\n  // param.z = param.z || Z.UI;\n  param.w = param.w || button_width;\n  param.h = param.h || button_height;\n  param.font_height = param.font_height || font_height;\n\n  let { ret, state, focused } = buttonShared(param);\n  buttonTextDraw(param, state, focused);\n  return ret;\n}\n\nexport function buttonImage(param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(param.img && param.img.draw); // should be a sprite\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_img_size;\n  param.h = param.h || param.w || button_img_size;\n  param.shrink = param.shrink || 0.75;\n  //param.img_rect; null -> full image\n  let uvs = param.img_rect;\n  if (typeof param.frame === 'number') {\n    uvs = param.img.uidata.rects[param.frame];\n  }\n\n  let { ret, state } = buttonShared(param);\n  let colors = param.colors || color_button;\n  let color = button_last_color = colors[state];\n  if (!param.no_bg) {\n    let base_name = param.base_name || 'button';\n    let sprite_name = `${base_name}_${state}`;\n    let sprite = sprites[sprite_name];\n    if (!sprite) {\n      sprite = sprites[base_name];\n    }\n\n    drawHBox(param, sprite, color);\n  }\n  let img_origin = param.img.origin;\n  let img_w = param.img.size[0];\n  let img_h = param.img.size[1];\n  let aspect = img_w / img_h;\n  if (typeof param.frame === 'number') {\n    aspect = param.img.uidata.aspect ? param.img.uidata.aspect[param.frame] : 1;\n  }\n  let largest_w_horiz = param.w * param.shrink;\n  let largest_w_vert = param.h * param.shrink * aspect;\n  img_w = min(largest_w_horiz, largest_w_vert);\n  img_h = img_w / aspect;\n  let pad_top = (param.h - img_h) / 2;\n  let draw_param = {\n    x: param.x + (param.left_align ? pad_top : (param.w - img_w) / 2) + img_origin[0] * img_w,\n    y: param.y + pad_top + img_origin[1] * img_h,\n    z: param.z + 0.1,\n    // use img_color if provided, use explicit tint if doing dual-tinting, otherwise button color\n    color: param.img_color || param.color1 && param.color || color,\n    color1: param.color1,\n    w: img_w / param.img.size[0],\n    h: img_h / param.img.size[1],\n    uvs,\n    rot: param.rotation,\n  };\n  if (param.flip) {\n    let { x, w } = draw_param;\n    draw_param.x = x + w;\n    draw_param.w = -w;\n  }\n  if (param.color1) {\n    param.img.drawDualTint(draw_param);\n  } else {\n    param.img.draw(draw_param);\n  }\n  return ret;\n}\n\nexport function print(style, x, y, z, text) {\n  return font.drawSized(style, x, y, z, font_height, text);\n}\n\n// Note: modal dialogs not really compatible with HTML overlay on top of the canvas!\nexport function modalDialog(param) {\n  assert(!param.title || typeof param.title === 'string');\n  assert(!param.text || typeof param.text === 'string');\n  assert(!param.buttons || typeof param.buttons === 'object');\n  // assert(Object.keys(param.buttons).length);\n\n  modal_dialog = param;\n}\n\nexport function modalDialogClear() {\n  modal_dialog = null;\n}\n\nlet dom_requirement = vec2(24,24);\nlet virtual_size = vec2();\nfunction modalDialogRun() {\n  camera2d.domDeltaToVirtual(virtual_size, dom_requirement);\n  let fullscreen_mode = false;\n  let eff_font_height = modal_dialog.font_height || font_height;\n  let eff_button_height = button_height;\n  let pad = modal_pad;\n  let vpad = modal_pad * 0.5;\n  let general_scale = 1;\n  if (virtual_size[0] > 0.1 * camera2d.h() && camera2d.w() > camera2d.h() * 2) {\n    // If a 24-pt font is more than 10% of the camera height, we're probably super-wide-screen\n    // on a mobile device due to keyboard being visible\n    fullscreen_mode = true;\n    eff_button_height = eff_font_height;\n    vpad = pad = 4;\n\n    let old_h = camera2d.h();\n    camera2d.push();\n    camera2d.setAspectFixed2(1, eff_font_height * (modal_title_scale + 2) + pad * 4.5);\n    general_scale = camera2d.h() / old_h;\n  }\n\n  let { buttons, click_anywhere } = modal_dialog;\n  let keys = Object.keys(buttons || {});\n\n  const game_width = camera2d.x1() - camera2d.x0();\n  const eff_modal_width = fullscreen_mode ? game_width : (modal_dialog.width || modal_width);\n  let eff_button_width = modal_dialog.button_width || modal_button_width;\n  let max_total_button_width = eff_modal_width * 2 / 3;\n  eff_button_width = min(eff_button_width, max_total_button_width / keys.length);\n  const text_w = eff_modal_width - pad * 2;\n  const x0 = camera2d.x0() + round((game_width - eff_modal_width) / 2);\n  let x = x0 + pad;\n  const y0 = fullscreen_mode ? 0 : (modal_dialog.y0 || modal_y0);\n  let y = round(y0 + pad);\n\n  if (glov_input.pointerLocked()) {\n    glov_input.pointerLockExit();\n  }\n\n  if (modal_dialog.title) {\n    if (fullscreen_mode) {\n      title_font.drawSizedAligned(modal_font_style, x, y, Z.MODAL, eff_font_height * modal_title_scale,\n        glov_font.ALIGN.HFIT, text_w, 0, modal_dialog.title);\n      y += eff_font_height * modal_title_scale;\n    } else {\n      y += title_font.drawSizedWrapped(modal_font_style,\n        x, y, Z.MODAL, text_w, 0, eff_font_height * modal_title_scale,\n        modal_dialog.title);\n    }\n    y = round(y + vpad * 1.5);\n  }\n\n  if (modal_dialog.text) {\n    if (fullscreen_mode) {\n      font.drawSizedAligned(modal_font_style, x, y, Z.MODAL, eff_font_height,\n        glov_font.ALIGN.HFIT, text_w, 0, modal_dialog.text);\n      y += eff_font_height;\n    } else {\n      y += font.drawSizedWrapped(modal_font_style, x, y, Z.MODAL, text_w, 0, eff_font_height,\n        modal_dialog.text);\n    }\n    y = round(y + vpad);\n  }\n\n  let tick_key;\n  if (modal_dialog.tick) {\n    let avail_width = eff_modal_width - pad * 2;\n    if (fullscreen_mode) {\n      avail_width -= (pad + eff_button_width) * keys.length;\n    }\n    let param = {\n      x, y,\n      modal_width: eff_modal_width,\n      avail_width,\n      font_height: eff_font_height,\n      fullscreen_mode,\n    };\n    tick_key = modal_dialog.tick(param);\n    y = param.y;\n  }\n\n  x = x0 + eff_modal_width - (pad + eff_button_width) * keys.length;\n  let did_button = -1;\n  for (let ii = 0; ii < keys.length; ++ii) {\n    let key = keys[ii];\n    let eff_button_keys = button_keys[key.toLowerCase()];\n    let pressed = 0;\n    if (eff_button_keys) {\n      for (let jj = 0; jj < eff_button_keys.key.length; ++jj) {\n        pressed += glov_input.keyDownEdge(eff_button_keys.key[jj]);\n        if (eff_button_keys.key[jj] === tick_key) {\n          pressed++;\n        }\n      }\n      for (let jj = 0; jj < eff_button_keys.pad.length; ++jj) {\n        pressed += glov_input.padButtonDownEdge(eff_button_keys.pad[jj]);\n      }\n    }\n    if (click_anywhere && ii === 0 && glov_input.click()) {\n      ++pressed;\n    }\n    if (pressed) {\n      did_button = ii;\n    }\n    if (buttonText({\n      x: x,\n      y,\n      z: Z.MODAL,\n      w: eff_button_width,\n      h: eff_button_height,\n      text: key\n    })) {\n      did_button = ii;\n    }\n    x = round(x + pad + eff_button_width);\n  }\n  // Also check low-priority keys\n  if (did_button === -1) {\n    for (let ii = 0; ii < keys.length; ++ii) {\n      let key = keys[ii];\n      let eff_button_keys = button_keys[key.toLowerCase()];\n      if (eff_button_keys && eff_button_keys.low_key) {\n        for (let jj = 0; jj < eff_button_keys.low_key.length; ++jj) {\n          if (glov_input.keyDownEdge(eff_button_keys.low_key[jj]) || eff_button_keys.low_key[jj] === tick_key) {\n            did_button = ii;\n          }\n        }\n      }\n    }\n  }\n  if (did_button !== -1) {\n    let key = keys[did_button];\n    playUISound('button_click');\n    modal_dialog = null;\n    if (buttons[key]) {\n      buttons[key]();\n    }\n  }\n  y += eff_button_height;\n  y = round(y + vpad + pad);\n  panel({\n    x: x0,\n    y: y0,\n    z: Z.MODAL - 1,\n    w: eff_modal_width,\n    h: (fullscreen_mode ? camera2d.y1() : y) - y0,\n    pixel_scale: panel_pixel_scale * general_scale,\n  });\n\n  glov_input.eatAllInput();\n  modal_stealing_focus = true;\n  if (fullscreen_mode) {\n    camera2d.pop();\n  }\n}\n\nexport function modalTextEntry(param) {\n  let eb = glov_edit_box.create({\n    allow_modal: true,\n    initial_focus: true,\n    spellcheck: false,\n    initial_select: true,\n    text: param.edit_text,\n    max_len: param.max_len,\n    esc_clears: false,\n  });\n  let buttons = {};\n  for (let key in param.buttons) {\n    let val = param.buttons[key];\n    if (typeof val === 'function') {\n      val = (function (old_fn) {\n        return function () {\n          old_fn(eb.getText());\n        };\n      }(val));\n    }\n    buttons[key] = val;\n  }\n  param.buttons = buttons;\n  param.text = `${param.text || ''}`;\n  let old_tick = param.tick;\n  param.tick = function (params) {\n    let eb_ret = eb.run({\n      x: params.x,\n      y: params.y,\n      w: params.avail_width || param.edit_w,\n      font_height: params.font_height,\n    });\n    if (!params.fullscreen_mode) {\n      params.y += params.font_height + modal_pad;\n    }\n    let ret;\n    if (eb_ret === eb.SUBMIT) {\n      ret = KEYS.O; // Do OK, Yes\n    } else if (eb_ret === eb.CANCEL) {\n      ret = KEYS.ESC; // Do Cancel, No\n    }\n    if (old_tick) {\n      ret = old_tick(params) || ret;\n    }\n    return ret;\n  };\n  modalDialog(param);\n}\n\n\nexport function createEditBox(param) {\n  return glov_edit_box.create(param);\n}\n\nlet slider_default_vshrink = 1.0;\nlet slider_default_handle_shrink = 1.0;\nexport function setSliderDefaultShrink(vshrink, handle_shrink) {\n  slider_default_vshrink = vshrink;\n  slider_default_handle_shrink = handle_shrink;\n}\nconst color_slider_handle = vec4(1,1,1,1);\nconst color_slider_handle_grab = vec4(0.5,0.5,0.5,1);\nconst color_slider_handle_over = vec4(0.75,0.75,0.75,1);\nexport let slider_dragging = false; // for caller polling\n// Returns new value\nexport function slider(value, param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(param.min < param.max); // also must be numbers\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_width;\n  param.h = param.h || button_height;\n  let vshrink = param.vshrink || slider_default_vshrink;\n  let handle_shrink = param.handle_shrink || slider_default_handle_shrink;\n  let disabled = param.disabled || false;\n  let handle_h = param.h * handle_shrink;\n  let handle_w = sprites.slider_handle.uidata.wh[0] * handle_h;\n\n  slider_dragging = false;\n\n  let shrinkdiff = handle_shrink - vshrink + 0.4;\n  drawHBox({\n    x: param.x + param.h * shrinkdiff/2,\n    y: param.y + param.h * (1 - vshrink)/2,\n    w: param.w - param.h * shrinkdiff,\n    h: param.h * vshrink,\n  }, sprites.slider, param.color);\n\n  let xoffs = round(max(sprites.slider.uidata.wh[0] * param.h * vshrink, handle_w) / 2);\n  let draggable_width = param.w - xoffs * 2;\n\n  // Draw notches - would also need to quantize the values below\n  // if (!slider->no_notches) {\n  //   float space_for_notches = width - xoffs * 4;\n  //   int num_notches = max - 1;\n  //   float notch_w = tile_scale * glov_ui_slider_notch->GetTileWidth();\n  //   float notch_h = tile_scale * glov_ui_slider_notch->GetTileHeight();\n  //   float max_notches = space_for_notches / (notch_w + 2);\n  //   int notch_inc = 1;\n  //   if (num_notches > max_notches)\n  //     notch_inc = ceil(num_notches / floor(max_notches));\n\n  //   for (int ii = 1; ii*notch_inc <= num_notches; ii++) {\n  //     float notch_x_mid = x + xoffs + draggable_width * ii * notch_inc / (float)max;\n  //     if (notch_x_mid - notch_w/2 < x + xoffs * 2)\n  //       continue;\n  //     if (notch_x_mid + notch_w/2 > x + width - xoffs * 2)\n  //       continue;\n  //     glov_ui_slider_notch->DrawStretchedColor(notch_x_mid - notch_w / 2, y + yoffs,\n  //       z + 0.25, notch_w, notch_h, 0, color);\n  //   }\n  // }\n\n  // Handle\n  let drag = !disabled && glov_input.drag(param);\n  let grabbed = Boolean(drag);\n  let click = glov_input.click(param);\n  if (click) {\n    grabbed = false;\n    // update pos\n    value = (click.pos[0] - (param.x + xoffs)) / draggable_width;\n    value = param.min + (param.max - param.min) * clamp(value, 0, 1);\n    playUISound('button_click');\n  } else if (grabbed) {\n    // update pos\n    value = (drag.cur_pos[0] - (param.x + xoffs)) / draggable_width;\n    value = param.min + (param.max - param.min) * clamp(value, 0, 1);\n    // Eat all mouseovers while dragging\n    glov_input.mouseOver();\n    slider_dragging = true;\n  }\n  let rollover = !disabled && glov_input.mouseOver(param);\n  let handle_center_pos = param.x + xoffs + draggable_width * (value - param.min) / (param.max - param.min);\n  let handle_x = handle_center_pos - handle_w / 2;\n  let handle_y = param.y + param.h / 2 - handle_h / 2;\n  let handle_color = color_slider_handle;\n  if (grabbed) {\n    handle_color = color_slider_handle_grab;\n  } else if (rollover) {\n    handle_color = color_slider_handle_over;\n  }\n\n  sprites.slider_handle.draw({\n    x: handle_x,\n    y: handle_y,\n    z: param.z + 0.1,\n    w: handle_w,\n    h: handle_h,\n    color: handle_color,\n    frame: 0,\n  });\n\n  return value;\n}\n\nlet pp_bad_frames = 0;\n\nexport function isMenuUp() {\n  return modal_dialog || menu_up;\n}\n\nexport function tickUI(dt) {\n  last_frame_button_mouseover = frame_button_mouseover;\n  frame_button_mouseover = false;\n  focused_last_frame = focused_this_frame;\n  focused_this_frame = false;\n  focused_key_not = null;\n  modal_stealing_focus = false;\n  touch_changed_focus = false;\n  per_frame_dom_alloc[glov_engine.frame_index % per_frame_dom_alloc.length] = 0;\n\n  last_frame_edit_boxes = exports.this_frame_edit_boxes;\n  exports.this_frame_edit_boxes = [];\n  linkTick();\n\n  dom_elems_issued = 0;\n\n  let pp_this_frame = false;\n  if (modal_dialog || menu_up) {\n    let params = menu_fade_params;\n    if (!menu_up) {\n      // Modals get defaults\n      params = menu_fade_params_default;\n    }\n    menu_up_time += dt;\n    // Effects during modal dialogs\n    let factor = min(menu_up_time / 500, 1);\n    if (glov_engine.postprocessing && !glov_engine.defines.NOPP) {\n      // Note: this lerp used to be done later in the frame (during drawing, not queueing) a problem?\n      let blur_factor = lerp(factor, params.blur[0], params.blur[1]);\n      if (blur_factor) {\n        effectsQueue(params.z - 2, doBlurEffect.bind(null, blur_factor));\n      }\n      let saturation = lerp(factor, params.saturation[0], params.saturation[1]);\n      let brightness = lerp(factor, params.brightness[0], params.brightness[1]);\n      if (saturation !== 1 || brightness !== 1) {\n        effectsQueue(params.z - 1, doDesaturateEffect.bind(null, saturation, brightness));\n      }\n      pp_this_frame = true;\n    } else {\n      // Or, just darken\n      sprites.white.draw({\n        x: camera2d.x0Real(),\n        y: camera2d.y0Real(),\n        z: params.z - 2,\n        color: params.fallback_darken,\n        w: camera2d.wReal(),\n        h: camera2d.hReal(),\n      });\n    }\n  } else {\n    menu_up_time = 0;\n  }\n  menu_up = false;\n\n  if (!glov_engine.is_loading && glov_engine.getFrameDtActual() > 50 && pp_this_frame) {\n    pp_bad_frames = (pp_bad_frames || 0) + 1;\n    if (pp_bad_frames >= 6) { // 6 in a row, disable superfluous postprocessing\n      glov_engine.postprocessingAllow(false);\n    }\n  } else if (pp_bad_frames) {\n    pp_bad_frames = 0;\n  }\n\n\n  if (modal_dialog) {\n    modalDialogRun();\n  }\n}\n\nexport function endFrame() {\n  if (glov_input.click({\n    x: -Infinity, y: -Infinity,\n    w: Infinity, h: Infinity,\n  })) {\n    focusSteal('canvas');\n  }\n\n  for (let ii = 0; ii < last_frame_edit_boxes.length; ++ii) {\n    let edit_box = last_frame_edit_boxes[ii];\n    let idx = exports.this_frame_edit_boxes.indexOf(edit_box);\n    if (idx === -1) {\n      edit_box.unrun();\n    }\n  }\n\n  while (dom_elems_issued < dom_elems.length) {\n    let elem = dom_elems.pop();\n    dynamic_text_elem.removeChild(elem);\n  }\n}\n\nexport function cleanupDOMElems() {\n  while (dom_elems.length) {\n    let elem = dom_elems.pop();\n    dynamic_text_elem.removeChild(elem);\n  }\n}\n\nexport function menuUp(param) {\n  merge(menu_fade_params, menu_fade_params_default);\n  if (param) {\n    merge(menu_fade_params, param);\n  }\n  menu_up = true;\n  modal_stealing_focus = true;\n  glov_input.eatAllInput();\n}\n\nfunction copyTextToClipboard(text) {\n  let textArea = document.createElement('textarea');\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  let ret = false;\n  try {\n    ret = document.execCommand('copy');\n  } catch (err) {\n    // do nothing\n  }\n\n  document.body.removeChild(textArea);\n  return ret;\n}\n\nexport function provideUserString(title, thing, str) {\n  let copy_success = copyTextToClipboard(str);\n  modalTextEntry({\n    edit_w: 400,\n    edit_text: str,\n    title,\n    text: copy_success ? `${thing} copied to clipboard!` : 'Copy to clipboard FAILED, please copy from below\\n',\n    buttons: {\n      OK: null,\n    },\n  });\n}\n\nexport function drawRect(x0, y0, x1, y1, z, color) {\n  let mx = min(x0, x1);\n  let my = min(y0, y1);\n  let Mx = max(x0, x1);\n  let My = max(y0, y1);\n  sprites.white.draw({\n    x: mx,\n    y: my,\n    z,\n    color,\n    w: Mx - mx,\n    h: My - my,\n  });\n}\n\nexport function drawRect2(param) {\n  drawRect(param.x, param.y, param.x + param.w, param.y + param.h, param.z, param.color);\n}\n\nfunction spreadTechParams(spread) {\n  // spread=0 -> 1\n  // spread=0.5 -> 2\n  // spread=0.75 -> 4\n  // spread=1 -> large enough to AA\n  spread = min(max(spread, 0), 0.99);\n\n  let tech_params = {\n    param0: vec4(0,0,0,0),\n  };\n\n  tech_params.param0[0] = 1 / (1 - spread);\n  tech_params.param0[1] = -0.5 * tech_params.param0[0] + 0.5;\n  return tech_params;\n}\n\nfunction drawElipseInternal(sprite, x0, y0, x1, y1, z, spread, tu0, tv0, tu1, tv1, color, blend) {\n  glov_sprites.queueraw(sprite.texs,\n    x0, y0, z, x1 - x0, y1 - y0,\n    tu0, tv0, tu1, tv1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread), blend);\n}\n\nfunction drawCircleInternal(sprite, x, y, z, r, spread, tu0, tv0, tu1, tv1, color, blend) {\n  let x0 = x - r * 2 + r * 4 * tu0;\n  let x1 = x - r * 2 + r * 4 * tu1;\n  let y0 = y - r * 2 + r * 4 * tv0;\n  let y1 = y - r * 2 + r * 4 * tv1;\n  drawElipseInternal(sprite, x0, y0, x1, y1, z, spread, tu0, tv0, tu1, tv1, color, blend);\n}\n\nfunction initCircleSprite() {\n  const CIRCLE_SIZE = 32;\n  let data = new Uint8Array(CIRCLE_SIZE*CIRCLE_SIZE);\n  let midp = (CIRCLE_SIZE - 1) / 2;\n  for (let i = 0; i < CIRCLE_SIZE; i++) {\n    for (let j = 0; j < CIRCLE_SIZE; j++) {\n      let d = sqrt((i - midp)*(i - midp) + (j - midp)*(j - midp)) / midp;\n      let v = clamp(1 - d, 0, 1);\n      data[i + j*CIRCLE_SIZE] = v * 255;\n    }\n  }\n  sprites.circle = glov_sprites.create({\n    url: 'circle',\n    width: CIRCLE_SIZE, height: CIRCLE_SIZE,\n    format: textures.format.R8,\n    data,\n    filter_min: gl.LINEAR,\n    filter_mag: gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n    origin: vec2(0.5, 0.5),\n  });\n}\n\nexport function drawElipse(x0, y0, x1, y1, z, spread, color, blend) {\n  if (!sprites.circle) {\n    initCircleSprite();\n  }\n  drawElipseInternal(sprites.circle, x0, y0, x1, y1, z, spread, 0, 0, 1, 1, color, blend);\n}\n\nexport function drawCircle(x, y, z, r, spread, color, blend) {\n  if (!sprites.circle) {\n    initCircleSprite();\n  }\n  drawCircleInternal(sprites.circle, x, y, z, r, spread, 0, 0, 1, 1, color, blend);\n}\n\nexport function drawHollowCircle(x, y, z, r, spread, color, blend) {\n  if (!sprites.hollow_circle) {\n    const CIRCLE_SIZE = 128;\n    const LINE_W = 2;\n    let data = new Uint8Array(CIRCLE_SIZE*CIRCLE_SIZE);\n    let midp = (CIRCLE_SIZE - 1) / 2;\n    for (let i = 0; i < CIRCLE_SIZE; i++) {\n      for (let j = 0; j < CIRCLE_SIZE; j++) {\n        let d = sqrt((i - midp)*(i - midp) + (j - midp)*(j - midp)) / midp;\n        let v = clamp(1 - d, 0, 1);\n        if (v > 0.5) {\n          v = 1 - v;\n        }\n        v += (LINE_W / CIRCLE_SIZE);\n        data[i + j*CIRCLE_SIZE] = v * 255;\n      }\n    }\n    sprites.hollow_circle = glov_sprites.create({\n      url: 'hollow_circle',\n      width: CIRCLE_SIZE, height: CIRCLE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_mag: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n  drawCircleInternal(sprites.hollow_circle, x, y, z, r, spread, 0, 0, 1, 1, color, blend);\n}\n\nexport function drawLine(x0, y0, x1, y1, z, w, spread, color) {\n  if (!sprites.line) {\n    const LINE_SIZE=32;\n    let data = new Uint8Array(LINE_SIZE*LINE_SIZE);\n    let midp = (LINE_SIZE - 1) / 2;\n    for (let i = 0; i < LINE_SIZE; i++) {\n      for (let j = 0; j < LINE_SIZE; j++) {\n        let d = abs((i - midp) / midp);\n        let v = clamp(1 - d, 0, 1);\n        data[i + j*LINE_SIZE] = v * 255;\n      }\n    }\n    sprites.line = glov_sprites.create({\n      url: 'line',\n      width: LINE_SIZE, height: LINE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_mag: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n\n  let dx = x1 - x0;\n  let dy = y1 - y0;\n  let length = Math.sqrt(dx*dx + dy*dy);\n  dx /= length;\n  dy /= length;\n  let tangx = -dy * w;\n  let tangy = dx * w;\n\n  glov_sprites.queueraw4(sprites.line.texs,\n    x0 + tangx, y0 + tangy,\n    x1 + tangx, y1 + tangy,\n    x1 - tangx, y1 - tangy,\n    x0 - tangx, y0 - tangy,\n    z,\n    0, 0, 1, 1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nexport function drawHollowRect(x0, y0, x1, y1, z, w, spread, color) {\n  drawLine(x0, y0, x1, y0, z, w, spread, color);\n  drawLine(x1, y0, x1, y1, z, w, spread, color);\n  drawLine(x1, y1, x0, y1, z, w, spread, color);\n  drawLine(x0, y1, x0, y0, z, w, spread, color);\n}\n\nexport function drawHollowRect2(param) {\n  drawHollowRect(param.x, param.y, param.x + param.w, param.y + param.h,\n    param.z || Z.UI, param.line_width || 1, param.spread || 1, param.color || unit_vec);\n}\n\nexport function drawCone(x0, y0, x1, y1, z, w0, w1, spread, color) {\n  if (!sprites.cone) {\n    const CONE_SIZE = 32;\n    let data = new Uint8Array(CONE_SIZE*CONE_SIZE);\n    let midp = (CONE_SIZE - 1) / 2;\n    for (let i = 0; i < CONE_SIZE; i++) {\n      for (let j = 0; j < CONE_SIZE; j++) {\n        let dx = 0;\n        let dy = 0;\n        let d = 0;\n        if (i > midp) {\n          dx = (i - midp) / midp;\n          dy = abs(j - midp) / midp;\n          let dCircle = sqrt(dx*dx + dy*dy);\n          d = dx * dCircle;\n        }\n        let v = clamp(1 - d, 0, 1);\n        data[i + j*CONE_SIZE] = v * 255;\n      }\n    }\n    sprites.cone = glov_sprites.create({\n      url: 'cone',\n      width: CONE_SIZE, height: CONE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_mag: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n  let dx = x1 - x0;\n  let dy = y1 - y0;\n  let length = Math.sqrt(dx*dx + dy*dy);\n  dx /= length;\n  dy /= length;\n  let tangx = -dy;\n  let tangy = dx;\n  glov_sprites.queueraw4(sprites.cone.texs,\n    x0 - tangx*w0, y0 - tangy*w0,\n    x0 + tangx*w0, y0 + tangy*w0,\n    x1 + tangx*w1, y1 + tangy*w1,\n    x1 - tangx*w1, y1 - tangy*w1,\n    z,\n    0, 0, 1, 1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nexport function scaleSizes(scale) {\n  button_height = round(32 * scale);\n  font_height = round(24 * scale);\n  button_width = round(200 * scale);\n  button_img_size = button_height;\n  modal_button_width = round(button_width / 2);\n  modal_width = round(600 * scale);\n  modal_y0 = round(200 * scale);\n  modal_title_scale = 1.2;\n  modal_pad = round(16 * scale);\n  tooltip_width = round(400 * scale);\n  tooltip_pad = round(8 * scale);\n  panel_pixel_scale = button_height / 13; // button_height / panel pixel resolution\n  tooltip_panel_pixel_scale = panel_pixel_scale;\n}\n\nexport function setPanelPixelScale(scale) {\n  tooltip_panel_pixel_scale = panel_pixel_scale = scale;\n}\n\nexport function setModalSizes(_modal_button_width, width, y0, title_scale, pad) {\n  modal_button_width = _modal_button_width || round(button_width / 2);\n  modal_width = width || 600;\n  modal_y0 = y0 || 200;\n  modal_title_scale = title_scale || 1.2;\n  modal_pad = pad || modal_pad;\n}\n\nexport function setFontHeight(_font_height) {\n  font_height = _font_height;\n}\n\nexport function setTooltipWidth(_tooltip_width, _tooltip_panel_pixel_scale) {\n  tooltip_width = _tooltip_width;\n  tooltip_panel_pixel_scale = _tooltip_panel_pixel_scale;\n  tooltip_pad = modal_pad / 2 * _tooltip_panel_pixel_scale;\n}\n\nscaleSizes(1);\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n/*\n  API usage:\n  engine.defines = urlhash.register({\n    key: 'D',\n    type: SET,\n  });\n  urlhash.register({\n    key: 'pos',\n    // type: TYPE_STRING,\n    change: (newvalue) => {},\n    title: (value) => 'string',\n    def: '1,2',\n    hides: { otherfield: true },\n    push: true, // do a pushState instead of replaceState when this changes\n    hide_values: { foo: true }, // do not add to URL if values is in the provided set\n  });\n  urlhash.set('pos', '3,4');\n  urlhash.get('pos')\n\n  urlhash.route('w/:w')     // use URLs like foo.com/w/1   instead of foo.com/?w=1\n  urlhash.route('w/:w/:wg')  // use URLs like foo.com/w/1/2 instead of foo.com/?w=1&wg=2\n\n  // Called whenever the URL state is pushed, even if to exactly the same URL (e.g. on link click)\n  urlhash.onChange(cb)\n*/\n\nconst assert = require('assert');\nconst { callEach } = require('../../common/util.js');\n\nconst HISTORY_UPDATE_TIME = 1000;\n\nexport let TYPE_SET = 'set';\nexport let TYPE_STRING = 'string';\n\nlet params = {};\n\nlet title_suffix = '';\n\nlet page_base = (document.location.href || '').match(/^[^#?]+/)[0];\nif (!page_base.endsWith('/')) { // e.g. http://foo.bar/index.html\n  page_base += '?';\n}\n//Removes index.html et all\nlet url_base = page_base.replace(/[^/]*$/,'');\nlet on_change = [];\n\nexport function getURLBase() {\n  return url_base;\n}\n\nexport function getURLPageBase() {\n  return page_base;\n}\n\nlet api_path;\n// Path base like http://foo.bar/api/ (with trailing slash\nexport function setAPIPath(path) {\n  api_path = path;\n}\nexport function getAPIPath() {\n  return api_path || `${getURLBase()}api/`;\n}\n\nexport function onChange(cb) {\n  on_change.push(cb);\n}\n\nfunction cmpNumKeys(a, b) {\n  let d = b.keys.length - a.keys.length;\n  if (d) {\n    return d;\n  }\n  // otherwise alphabetical for stability\n  for (let ii = 0; ii < a.keys.length; ++ii) {\n    if (a.keys[ii] < b.keys[ii]) {\n      return -1;\n    } else if (a.keys[ii] > b.keys[ii]) {\n      return 1;\n    }\n  }\n  assert(false); // two routes with identical keys\n  return 0;\n}\n\nconst route_param_regex = /:(\\w+)/g;\nlet routes = [];\n\nfunction queryString() {\n  let href = String(document.location);\n  return href.slice(page_base.length);\n}\n\nconst regex_value = /[^\\w]\\w+=([^&]+)/;\nfunction getValue(query_string, opts) {\n  if (opts.routes) {\n    for (let ii = 0; ii < opts.routes.length; ++ii) {\n      let r = opts.routes[ii];\n      let m = query_string.match(r.regex);\n      if (m) {\n        let idx = r.keys.indexOf(opts.key);\n        return m[1 + idx];\n      }\n    }\n  }\n  let m = query_string.match(opts.regex) || [];\n  if (opts.type === TYPE_SET) {\n    let r = {};\n    for (let ii = 0; ii < m.length; ++ii) {\n      let m2 = m[ii].match(regex_value);\n      assert(m2);\n      r[m2[1]] = 1;\n    }\n    return r;\n  } else {\n    return m[1] || opts.def;\n  }\n}\n\nlet last_history_str = null; // always re-set it on the first update\n\nfunction goInternal(query_string) { // with the '?'\n  // Update all values, except those hidden by what is currently in the query string\n  let hidden = {};\n  for (let key in params) {\n    let opts = params[key];\n    if (opts.hides) {\n      if (getValue(query_string, opts)) {\n        for (let otherkey in opts.hides) {\n          hidden[otherkey] = 1;\n        }\n      }\n    }\n  }\n\n  let dirty = {};\n  for (let key in params) {\n    if (hidden[key]) {\n      continue;\n    }\n    let opts = params[key];\n    let new_value = getValue(query_string, opts);\n    if (opts.type === TYPE_SET) {\n      for (let v in new_value) {\n        if (!opts.value[v]) {\n          opts.value[v] = 1;\n          dirty[key] = true;\n        }\n      }\n      for (let v in opts.value) {\n        if (!new_value[v]) {\n          delete opts.value[v];\n          dirty[key] = true;\n        }\n      }\n    } else {\n      if (new_value !== opts.value) {\n        dirty[key] = true;\n        opts.value = new_value;\n      }\n    }\n  }\n\n  // Call all change callbacks\n  for (let key in dirty) {\n    let opts = params[key];\n    if (opts.change) {\n      opts.change(opts.value);\n    }\n  }\n  callEach(on_change);\n}\n\nlet eff_title;\nfunction toString() {\n  eff_title = '';\n  let values = [];\n  let hidden = {};\n  for (let key in params) {\n    let opts = params[key];\n    if (opts.hides && opts.value) {\n      for (let otherkey in opts.hides) {\n        hidden[otherkey] = 1;\n      }\n    }\n  }\n  let root_value = '';\n  outer: // eslint-disable-line no-labels\n  for (let ii = 0; ii < routes.length; ++ii) {\n    let r = routes[ii];\n    let route_title = '';\n    for (let jj = 0; jj < r.keys.length; ++jj) {\n      let key = r.keys[jj];\n      if (hidden[key]) {\n        continue outer; // eslint-disable-line no-labels\n      }\n      let opts = params[key];\n      if (opts.hide_values[opts.value]) {\n        continue outer; // eslint-disable-line no-labels\n      }\n      // has a value, is not hidden, continue\n      if (!route_title && opts.title) {\n        route_title = opts.title(opts.value);\n      }\n    }\n    // route is good!\n    root_value = r.route_string.replace(route_param_regex, function (ignored, key) {\n      hidden[key] = true;\n      return String(params[key].value);\n    });\n    if (!eff_title && route_title) {\n      eff_title = route_title;\n    }\n    break;\n  }\n  for (let key in params) {\n    if (hidden[key]) {\n      continue;\n    }\n    let opts = params[key];\n    if (opts.type === TYPE_SET) {\n      for (let v in opts.value) {\n        values.push(`${key}=${v}`);\n      }\n    } else {\n      if (!opts.hide_values[opts.value]) {\n        values.push(`${key}=${opts.value}`);\n        if (!eff_title && opts.title) {\n          eff_title = opts.title(opts.value);\n        }\n      }\n    }\n  }\n  if (title_suffix) {\n    if (eff_title) {\n      eff_title = `${eff_title} | ${title_suffix}`;\n    } else {\n      eff_title = title_suffix;\n    }\n  }\n  return `${root_value}${values.length ? '?' : ''}${values.join('&')}`;\n}\n\nexport function refreshTitle() {\n  toString();\n  if (eff_title && eff_title !== document.title) {\n    document.title = eff_title;\n  }\n}\n\nfunction periodicRefreshTitle() {\n  refreshTitle();\n  setTimeout(periodicRefreshTitle, 1000);\n}\n\nfunction onPopState() {\n  let query_string = queryString();\n  last_history_str = query_string;\n  goInternal(query_string);\n  refreshTitle();\n}\n\nlet on_url_change;\nexport function onURLChange(cb) {\n  on_url_change = cb;\n}\n\nlet last_history_set_time = 0;\nlet scheduled = false;\nlet need_push_state = false;\nfunction updateHistory(new_need_push_state) {\n  let new_str = toString();\n  if (last_history_str === new_str) {\n    return;\n  }\n  need_push_state = need_push_state || new_need_push_state;\n  last_history_str = new_str;\n  if (scheduled) {\n    // already queued up\n    return;\n  }\n  let delay = HISTORY_UPDATE_TIME;\n  if (Date.now() - last_history_set_time > HISTORY_UPDATE_TIME) {\n    // Been awhile, apply \"instantly\" (but still wait until next tick to ensure\n    //   any other immediate changes are registered)\n    delay = 1;\n  }\n  scheduled = true;\n  setTimeout(function () {\n    scheduled = false;\n    last_history_set_time = Date.now();\n    let url = `${page_base}${last_history_str}`;\n    if (url.endsWith('?')) {\n      url = url.slice(0, -1);\n    }\n    try {\n      if (need_push_state) {\n        need_push_state = false;\n        window.history.pushState(undefined, eff_title, url);\n      } else {\n        window.history.replaceState(undefined, eff_title, url);\n      }\n    } catch (e) {\n      // ignore; some browsers disallow this, I guess\n    }\n    if (eff_title) {\n      document.title = eff_title;\n    }\n    if (on_url_change) {\n      on_url_change();\n    }\n    //window.history.replaceState(undefined, eff_title, `#${last_history_str}`);\n  }, delay);\n}\n\n// Optional startup\nexport function startup(param) {\n  assert(!title_suffix);\n  title_suffix = param.title_suffix;\n\n  // Refresh the current URL, it might be in the non-route format\n  updateHistory(false);\n\n  if (title_suffix) {\n    refreshTitle();\n    setTimeout(periodicRefreshTitle, 1000);\n  }\n}\n\nexport function route(route_string) {\n  let keys = [];\n  // foo/:key/:bar => foo/([^/&?]+)/([^/&?]+)\n  let base = route_string.replace(route_param_regex, function (ignored, match) {\n    keys.push(match);\n    return '([^/&?]+)';\n  });\n  let regex = new RegExp(`^${base}(?:$|\\\\?)`);\n  let new_route = {\n    route_string,\n    regex,\n    keys,\n  };\n  for (let ii = 0; ii < keys.length; ++ii) {\n    let opts = params[keys[ii]];\n    // Must have already registered these keys\n    assert(opts);\n    opts.routes = opts.routes || [];\n    opts.routes.push(new_route);\n    // Update initial value\n    opts.value = getValue(queryString(), opts);\n  }\n  routes.push(new_route);\n  routes.sort(cmpNumKeys);\n}\n\nexport function register(opts) {\n  assert(opts.key);\n  assert(!params[opts.key]);\n  opts.type = opts.type || TYPE_STRING;\n  let regex_search = `(?:[^\\\\w])${opts.key}=([^&]+)`;\n  let regex_type = '';\n  if (opts.type === TYPE_SET) {\n    regex_type = 'g';\n  } else {\n    opts.def = opts.def || '';\n    opts.hide_values = opts.hide_values || {};\n    opts.hide_values[opts.def] = true;\n  }\n  opts.regex = new RegExp(regex_search, regex_type);\n  params[opts.key] = opts;\n  // Get initial value\n  opts.value = getValue(queryString(), opts);\n  let ret = opts.value;\n  if (opts.type === TYPE_SET && typeof Proxy === 'function') {\n    // Auto-apply changes to URL if someone modifies the proxy\n    ret = new Proxy(opts.value, {\n      set: function (target, prop, value) {\n        if (value) {\n          target[prop] = 1;\n        } else {\n          delete target[prop];\n        }\n        updateHistory();\n        return true;\n      }\n    });\n  }\n\n  if (!window.onpopstate) {\n    window.onpopstate = onPopState;\n  }\n\n  return ret;\n}\n\nexport function set(key, value, value2) {\n  let opts = params[key];\n  assert(opts);\n  if (opts.type === TYPE_SET) {\n    if (Boolean(opts.value[value]) !== Boolean(value2)) {\n      opts.value[value] = value2 ? 1 : 0;\n      updateHistory(opts.push);\n    }\n  } else {\n    if (opts.value !== value) {\n      opts.value = value;\n      updateHistory(opts.push);\n    }\n  }\n}\n\nexport function get(key) {\n  let opts = params[key];\n  assert(opts);\n  return opts.value;\n}\n\nexport function go(query_string) { // with the '?'\n  goInternal(query_string);\n  updateHistory(true);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\n// Vector math functions required by the rest of the engine taken piecemeal from\n// gl-matrix and related, as well as some generic math utilities\nexports.mat3 = require('gl-mat3/create');\nexports.mat4 = require('gl-mat4/create');\n\nconst { abs, max, min, floor, round, sqrt } = Math;\n\nexport function vec1(v) {\n  return new Float64Array([v]);\n}\n\nexport function vec2(a, b) {\n  let r = new Float64Array(2);\n  if (a || b) {\n    r[0] = a;\n    r[1] = b;\n  }\n  return r;\n}\n\nexport function vec3(a, b, c) {\n  let r = new Float64Array(3);\n  if (a || b || c) {\n    r[0] = a;\n    r[1] = b;\n    r[2] = c;\n  }\n  return r;\n}\n\nexport function vec4(a, b, c, d) {\n  let r = new Float64Array(4);\n  if (a || b || c || d) {\n    r[0] = a;\n    r[1] = b;\n    r[2] = c;\n    r[3] = d;\n  }\n  return r;\n}\n\nfunction frozenVec4(a,b,c,d) {\n  // if (debug) {\n  //   return Object.freeze([a,b,c,d]); // Not a vec4, but lets us catch bugs\n  // }\n  return vec4(a,b,c,d);\n}\n\nexport const unit_vec = frozenVec4(1,1,1,1);\nexport const half_vec = frozenVec4(0.5,0.5,0.5,0.5);\nexport const zero_vec = frozenVec4(0,0,0,0);\nexport const identity_mat3 = exports.mat3();\nexport const identity_mat4 = exports.mat4();\nexport const xaxis = frozenVec4(1,0,0,0);\nexport const yaxis = frozenVec4(0,1,0,0);\nexport const zaxis = frozenVec4(0,0,1,0);\n\nexport function v2abs(out, a) {\n  out[0] = abs(a[0]);\n  out[1] = abs(a[1]);\n  return out;\n}\n\nexport function v2add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\nexport function v2addScale(out, a, b, s) {\n  out[0] = a[0] + b[0] * s;\n  out[1] = a[1] + b[1] * s;\n  return out;\n}\n\nexport function v2copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\nexport function v2distSq(a, b) {\n  return (a[0] - b[0]) * (a[0] - b[0]) +\n    (a[1] - b[1]) * (a[1] - b[1]);\n}\n\nexport function v2div(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\nexport function v2floor(out, a) {\n  out[0] = floor(a[0]);\n  out[1] = floor(a[1]);\n  return out;\n}\n\nexport function v2lengthSq(a) {\n  return a[0]*a[0] + a[1]*a[1];\n}\n\nexport function v2lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  return out;\n}\n\nexport function v2mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\nexport function v2normalize(out, a) {\n  let len = a[0]*a[0] + a[1]*a[1];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\nexport function v2same(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\nexport function v2scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  return out;\n}\n\nexport function v2set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n\nexport function v2sub(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\nexport function v3add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\nexport function v3iAdd(a, b) {\n  a[0] += b[0];\n  a[1] += b[1];\n  a[2] += b[2];\n  return a;\n}\n\nexport function v3addScale(out, a, b, s) {\n  out[0] = a[0] + b[0] * s;\n  out[1] = a[1] + b[1] * s;\n  out[2] = a[2] + b[2] * s;\n  return out;\n}\n\nexport function v3copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\nexport function v3cross(out, a, b) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let b0 = b[0];\n  let b1 = b[1];\n  let b2 = b[2];\n  out[0] = ((a1 * b2) - (a2 * b1));\n  out[1] = ((a2 * b0) - (a0 * b2));\n  out[2] = ((a0 * b1) - (a1 * b0));\n  return out;\n}\n\n// determinant of the matrix made by (columns?) [a, b, c];\nexport function v3determinant(a, b, c) {\n  // let a00 = a[0];\n  // let a01 = a[1];\n  // let a02 = a[2];\n  // let a10 = b[0];\n  // let a11 = b[1];\n  // let a12 = b[2];\n  // let a20 = c[0];\n  // let a21 = c[2];\n  // let a22 = c[2];\n  let a00 = a[0];\n  let a01 = b[0];\n  let a02 = c[0];\n  let a10 = a[1];\n  let a11 = b[1];\n  let a12 = c[1];\n  let a20 = a[2];\n  let a21 = b[2];\n  let a22 = c[2];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\nexport function v3dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function v3distSq(a, b) {\n  return (a[0] - b[0]) * (a[0] - b[0]) +\n    (a[1] - b[1]) * (a[1] - b[1]) +\n    (a[2] - b[2]) * (a[2] - b[2]);\n}\n\nexport function v3dist(a,b) {\n  return sqrt(v3distSq(a,b));\n}\n\nexport function v3div(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\nexport function v3iFloor(a) {\n  a[0] = floor(a[0]);\n  a[1] = floor(a[1]);\n  a[2] = floor(a[2]);\n  return a;\n}\n\nexport function v3floor(out, a) {\n  out[0] = floor(a[0]);\n  out[1] = floor(a[1]);\n  out[2] = floor(a[2]);\n  return out;\n}\n\nexport function v3lengthSq(a) {\n  return a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n}\n\nexport function v3lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  out[2] = it * a[2] + t * b[2];\n  return out;\n}\n\nexport function v3iMax(a, b) {\n  a[0] = max(a[0], b[0]);\n  a[1] = max(a[1], b[1]);\n  a[2] = max(a[2], b[2]);\n  return a;\n}\n\nexport function v3iMin(a, b) {\n  a[0] = min(a[0], b[0]);\n  a[1] = min(a[1], b[1]);\n  a[2] = min(a[2], b[2]);\n  return a;\n}\n\nexport function v3mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\nexport function v3mulMat4(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  out[0] = x * m[0] + y * m[4] + z * m[8];\n  out[1] = x * m[1] + y * m[5] + z * m[9];\n  out[2] = x * m[2] + y * m[6] + z * m[10];\n  return out;\n}\n\nexport function v3normalize(out, a) {\n  let len = a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\nexport function v3iNormalize(a) {\n  let len = a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    a[0] *= len;\n    a[1] *= len;\n    a[2] *= len;\n  }\n  return a;\n}\n\n// Treats `a` as vec3 input with w assumed to be 1\n// out[0]/[1] have had perspective divide and converted to normalized 0-1 range\n// out[2] is distance\nexport function v3perspectiveProject(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  let invw = 0.5 / (w || 0.00001);\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) * invw + 0.5;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) * -invw + 0.5;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n  return out;\n}\n\nexport function v3round(out, a) {\n  out[0] = round(a[0]);\n  out[1] = round(a[1]);\n  out[2] = round(a[2]);\n  return out;\n}\n\nexport function v3same(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\nexport function v3scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  out[2] = a[2] * s;\n  return out;\n}\n\nexport function v3set(out, a, b, c) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  return out;\n}\n\nexport function v3sub(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\nexport function v3iScale(a, s) {\n  a[0] *= s;\n  a[1] *= s;\n  a[2] *= s;\n  return a;\n}\n\nexport function v3iSub(a, b) {\n  a[0] -= b[0];\n  a[1] -= b[1];\n  a[2] -= b[2];\n  return a;\n}\n\nexport function v3zero(out) {\n  out[0] = out[1] = out[2] = 0;\n  return out;\n}\n\nexport function v4add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n\nexport function v4clone(a) {\n  return a.slice(0);\n}\n\nexport function v4copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nexport function v4lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  out[2] = it * a[2] + t * b[2];\n  out[3] = it * a[3] + t * b[3];\n  return out;\n}\n\nexport function v4mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n\nexport function v4mulAdd(out, a, b, c) {\n  out[0] = a[0] * b[0] + c[0];\n  out[1] = a[1] * b[1] + c[1];\n  out[2] = a[2] * b[2] + c[2];\n  out[3] = a[3] * b[3] + c[3];\n  return out;\n}\n\nexport function v4same(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\nexport function v4scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  out[2] = a[2] * s;\n  out[3] = a[3] * s;\n  return out;\n}\n\nexport function v4set(out, a, b, c, d) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  return out;\n}\n\nexport function v4zero(out) {\n  out[0] = out[1] = out[2] = out[3] = 0;\n  return out;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { floor } = Math;\n\nlet offs = 0;\nfunction now() {\n  return Date.now() + offs;\n}\nmodule.exports = exports = now;\nexports.now = now;\nexports.sync = function (server_time) {\n  offs = server_time - Date.now();\n};\nexports.seconds = function () {\n  // Seconds since Jan 1st, 2020\n  return floor(now() / 1000) - 1577836800;\n};\n","const assert = require('assert');\nconst { filewatchOn, filewatchTriggerChange } = require('./filewatch.js');\nconst urlhash = require('./urlhash.js');\n\nlet fs = window.glov_webfs = window.glov_webfs || {};\nlet decoded = {};\nlet used = {};\n// export function webFSReady() {\n//   // TODO: async ready state?\n// }\n\nfunction decode(data) {\n  let len = data[0];\n  let str = data[1];\n  let u8 = new Uint8Array(len);\n  let idxo = 0;\n  let idxi = 0;\n  while (idxo < len) {\n    let byte = str.charCodeAt(idxi++);\n    if (byte === 126) {\n      byte = 0;\n    } else if (byte === 27) {\n      byte = str.charCodeAt(idxi++);\n    }\n    u8[idxo++] = byte;\n  }\n  assert.equal(idxi, str.length);\n  assert.equal(idxo, len);\n  return u8;\n}\n\nexport function webFSGetFile(filename, encoding) {\n  let ret = decoded[filename];\n  if (ret) {\n    return ret;\n  }\n  used[filename] = true;\n  let data = fs[filename];\n  assert(data, `Error loading file: ${filename}`);\n  if (encoding === 'text') {\n    ret = data[1];\n  } else {\n    ret = decode(data);\n  }\n  decoded[filename] = ret;\n  return ret;\n}\n\nexport function webFSExists(filename) {\n  return Boolean(fs[filename]);\n}\n\n// Don't report on files we know are loaded dynamically, and are small\nconst report_ignore_regex = /\\.(fp|vp|vm)$/;\nexport function webFSReportUnused() {\n  let tot_size = 0;\n  for (let filename in fs) {\n    if (!used[filename] && !filename.match(report_ignore_regex)) {\n      console.warn(`WebFS file bundled but unreferenced: ${filename}`);\n      tot_size += fs[filename][0];\n    }\n  }\n  if (tot_size) {\n    console.warn(`WebFS wasting ${tot_size} bytes`);\n  }\n}\n\nfunction webFSReload() {\n  window.glov_webfs = {};\n  let scriptTag = document.createElement('script');\n  scriptTag.src = `${urlhash.getURLBase()}fsdata.js?rl=${Date.now()}`;\n  scriptTag.onload = function () {\n    if (window.glov_webfs) {\n      let old_fs = fs;\n      fs = window.glov_webfs;\n      decoded = {};\n      used = {};\n      for (let key in fs) {\n        let old_value = old_fs[key];\n        let new_value = fs[key];\n        for (let ii = 0; ii < new_value.length; ++ii) {\n          if (!old_value || new_value[ii] !== old_value[ii]) {\n            filewatchTriggerChange(key);\n            break;\n          }\n        }\n      }\n    }\n  };\n  document.getElementsByTagName('head')[0].appendChild(scriptTag);\n}\n\nfilewatchOn('fsdata.js', webFSReload);\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Originally from Splody, used with permission\n/* eslint no-multi-spaces:off, array-bracket-spacing:off */\n\nconst { mashString } = require('../rand_alea.js');\nconst { randFastCreate } = require('../rand_fast.js');\nconst { profanityFilterCommon, profanityCommonStartup } = require('../../../common/words/profanity_common.js');\nconst { webFSGetFile } = require('../webfs.js');\n\nlet non_profanity;\n\nexport function profanityStartup() {\n  non_profanity = webFSGetFile('glov/words/replacements.txt', 'text').split('\\n').filter((a) => a);\n  profanityCommonStartup(webFSGetFile('../common/words/filter.gkg', 'text'));\n}\n\nlet rand = randFastCreate();\n\nlet last_word;\nfunction randWord() {\n  if (last_word === -1) {\n    last_word = rand.range(non_profanity.length);\n  } else {\n    let choice = rand.range(non_profanity.length - 1);\n    last_word = choice < last_word ? choice : choice + 1;\n  }\n  return non_profanity[last_word];\n}\n\nexport function profanityFilter(user_str) {\n  last_word = -1;\n  rand.seed = mashString(user_str);\n  return profanityFilterCommon(user_str, randWord);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* global WebSocket, XMLHttpRequest */\n\nconst ack = require('../../common/ack.js');\nconst { ackInitReceiver } = ack;\nconst assert = require('assert');\nconst { errorReportSetDetails } = require('./error_report.js');\nconst { min } = Math;\nconst urlhash = require('./urlhash.js');\nconst walltime = require('./walltime.js');\nconst wscommon = require('../../common/wscommon.js');\nconst { wsHandleMessage } = wscommon;\n\n// let net_time = 0;\n// export function getNetTime() {\n//   let r = net_time;\n//   net_time = 0;\n//   return r;\n// }\n\nexport function WSClient(path) {\n  this.id = null;\n  this.my_ids = {}; // set of all IDs I've been during this session\n  this.handlers = {};\n  this.socket = null;\n  this.connected = false;\n  this.disconnected = false;\n  this.retry_scheduled = false;\n  this.retry_count = 0;\n  this.disconnect_time = Date.now();\n  this.last_receive_time = Date.now();\n  this.idle_counter = 0;\n  this.last_send_time = Date.now();\n  this.auto_path = !path;\n  ackInitReceiver(this);\n\n  if (this.auto_path) {\n\n    path = document.location.toString().match(/^[^#?]+/)[0]; // remove search and anchor\n\n\n    if (path.slice(-1) !== '/') {\n      // /file.html or /path/file.html or /path\n      let idx = path.lastIndexOf('/');\n      if (idx !== -1) {\n        let filename = path.slice(idx+1);\n        if (filename.indexOf('.') !== -1) {\n          path = path.slice(0, idx+1);\n        } else {\n          path += '/';\n        }\n      } else {\n        path += '/';\n      }\n    }\n    path = path.replace(/^http/, 'ws');\n    this.path = `${path}ws`;\n\n  } else {\n    this.path = path;\n  }\n\n  if (path.match(/:\\d+\\//)) {\n    // has port, don't try anything fancy\n    this.path2 = this.path;\n  } else if (path.match(/^ws:/)) {\n    // no port, try wss:// if this fails\n    // Should fix Comcast injection issue\n    this.path2 = this.path.replace(/^ws:/, 'wss:');\n  } else {\n    // Using wss:// some browsers will not allow connecting to ws://, so don't even try\n    this.path2 = this.path;\n  }\n\n  this.connect(false);\n\n  this.onMsg('cack', this.onConnectAck.bind(this));\n  this.onMsg('app_ver', this.onAppVer.bind(this));\n  this.onMsg('error', this.onError.bind(this));\n}\n\nWSClient.prototype.timeSinceDisconnect = function () {\n  return Date.now() - this.disconnect_time;\n};\n\nWSClient.prototype.onAppVer = function (ver) {\n  if (ver !== BUILD_TIMESTAMP) {\n    if (this.on_app_ver_mismatch) {\n      this.on_app_ver_mismatch();\n    } else {\n      if (this.auto_path) {\n        console.error(`App version mismatch (server: ${ver}, client: ${BUILD_TIMESTAMP}), reloading`);\n        if (window.reloadSafe) {\n          window.reloadSafe();\n        } else {\n          document.location.reload();\n        }\n      } else {\n        console.warn(`App version mismatch (server: ${ver}, client: ${BUILD_TIMESTAMP}), ignoring`);\n      }\n    }\n  }\n};\n\nWSClient.prototype.onConnectAck = function (data, resp_func) {\n  let client = this;\n  walltime.sync(data.time);\n  client.connected = true;\n  client.disconnected = false;\n  client.id = data.id;\n  client.my_ids[data.id] = true;\n  errorReportSetDetails('client_id', client.id);\n  client.secret = data.secret;\n  if (data.app_ver) {\n    client.onAppVer(data.app_ver);\n  }\n  // Fire user-level connect handler as well\n  assert(client.handlers.connect);\n  client.handlers.connect(client, {\n    client_id: client.id,\n    restarting: data.restarting,\n  });\n  resp_func();\n};\n\n\nWSClient.prototype.pak = function (msg) {\n  return wscommon.wsPak(msg, null, this);\n};\n\nWSClient.prototype.send = function (msg, data, resp_func) {\n  wscommon.sendMessage.call(this, msg, data, resp_func);\n};\n\nWSClient.prototype.onError = function (e) {\n  console.error('WSClient Error');\n  console.error(e);\n  throw e;\n};\n\n// cb(client, data, resp_func)\nWSClient.prototype.onMsg = function (msg, cb) {\n  assert.ok(!this.handlers[msg]);\n  this.handlers[msg] = function wrappedCallback(client, data, resp_func) {\n    // Client interface does not need a client passed to it!\n    return cb(data, resp_func);\n  };\n};\n\nWSClient.prototype.checkForNewAppVersion = function () {\n  if (this.app_ver_check_in_progress) {\n    return;\n  }\n  this.app_ver_check_in_progress = true;\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', `${urlhash.getURLBase()}app.ver.json`, true);\n  // xhr.responseType = 'json'; // causes un-catchable, un-reported errors\n  xhr.onload = () => {\n    this.app_ver_check_in_progress = false;\n    let text;\n    try {\n      text = xhr.responseText;\n      let obj = JSON.parse(text);\n      if (obj && obj.ver) {\n        this.onAppVer(obj.ver);\n      }\n    } catch (e) {\n      console.error('Received invalid response when checking app version:', text || '<empty response>');\n      // Probably internal server error or such as the server is restart, try again momentarily\n      // This is not triggered on connection errors, only if we got a (non-parseable) response from the server\n      if (!this.delayed_recheck) {\n        this.delayed_recheck = true;\n        setTimeout(() => {\n          this.delayed_recheck = false;\n          this.checkForNewAppVersion();\n        }, 1000);\n      }\n    }\n  };\n  xhr.onerror = () => {\n    this.app_ver_check_in_progress = false;\n  };\n  xhr.send(null);\n};\n\nWSClient.prototype.retryConnection = function () {\n  let client = this;\n  assert(!client.socket);\n  assert(!client.retry_scheduled);\n  client.retry_scheduled = true;\n  ++client.retry_count;\n  this.checkForNewAppVersion();\n  setTimeout(function () {\n    assert(client.retry_scheduled);\n    assert(!client.socket);\n    client.retry_scheduled = false;\n    client.connect(true);\n  }, min(client.retry_count * client.retry_count * 100, 15000));\n};\n\nWSClient.prototype.checkDisconnect = function () {\n  if (this.connected && this.socket.readyState !== 1) { // WebSocket.OPEN\n    // We think we're connected, but we're not, we must have received an\n    // animation frame before the close event when phone was locked or something\n    this.on_close();\n    assert(!this.connected);\n  }\n};\n\nWSClient.prototype.connect = function (for_reconnect) {\n  let client = this;\n\n  let path = `${(client.retry_count % 2) ? client.path2 : client.path}?pver=${wscommon.PROTOCOL_VERSION}${\n    for_reconnect && client.id && client.secret ? `&reconnect=${client.id}&secret=${client.secret}` : ''\n  }`;\n  let socket = new WebSocket(path);\n  socket.binaryType = 'arraybuffer';\n  client.socket = socket;\n\n  // Protect callbacks from ever firing if we've already disconnected this socket\n  //   from the WSClient\n  function guard(fn) {\n    return function (...args) {\n      if (client.socket !== socket) {\n        return;\n      }\n      fn(...args);\n    };\n  }\n\n  function abort(skip_close) {\n    client.socket = null;\n    if (client.connected) {\n      client.disconnect_time = Date.now();\n      client.disconnected = true;\n      errorReportSetDetails('disconnected', 1);\n    }\n    client.connected = false;\n    if (!skip_close) {\n      try {\n        socket.close();\n      } catch (e) {\n        // ignore\n      }\n    }\n    ack.failAll(client);\n  }\n\n  function retry(skip_close) {\n    abort(skip_close);\n    client.retryConnection();\n  }\n\n  // Local state, for this one connection\n  let connected = false;\n  client.socket.addEventListener('error', guard(function (err) {\n    if (!connected) {\n      console.log('WebSocket error during initial connection, retrying...', err);\n      retry();\n    } else {\n      console.error('WebSocket error', err);\n      // Disconnect and reconnect here, is this a terminal error? Probably not, we'll get a 'close' event if it is?\n      // We some error occasionally on iOS, not sure what error, but it auto-reconnects fine, so let's\n      // not do a throw\n      // client.onError(err);\n    }\n  }));\n\n  client.socket.addEventListener('message', guard(function (message) {\n    // net_time -= Date.now();\n    assert(message.data instanceof ArrayBuffer);\n    wsHandleMessage(client, new Uint8Array(message.data));\n    // net_time += Date.now();\n  }));\n\n  client.socket.addEventListener('open', guard(function () {\n    console.log('WebSocket open');\n    connected = true;\n    // reset retry count so next retry is fast if we get disconnected\n    client.retry_count = 0;\n  }));\n\n  // This may get called before the close event gets to use\n  client.on_close = guard(function () {\n    console.log('WebSocket close, retrying connection...');\n    retry(true);\n  });\n  client.socket.addEventListener('close', client.on_close);\n\n  let doPing = guard(function () {\n    if (Date.now() - client.last_send_time > wscommon.PING_TIME && client.connected && client.socket.readyState === 1) {\n      client.send('ping');\n    }\n    setTimeout(doPing, wscommon.PING_TIME);\n  });\n  setTimeout(doPing, wscommon.PING_TIME);\n\n  // For debugging reconnect handling\n  // setTimeout(function () {\n  //   if (connected) {\n  //     socket.close();\n  //   }\n  // }, 5000);\n};\n","module.exports={\"font_size\":8,\"imageW\":128,\"imageH\":128,\"spread\":2,\"noFilter\":1,\"channels\":1,\"char_infos\":[{\"c\":32,\"x0\":61,\"y0\":63,\"xpad\":4,\"w\":0,\"h\":0},{\"c\":33,\"x0\":92,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":34,\"x0\":16,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":2},{\"c\":35,\"x0\":98,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":36,\"x0\":38,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":37,\"x0\":108,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":38,\"x0\":118,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":39,\"x0\":24,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":2},{\"c\":40,\"x0\":2,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":41,\"x0\":9,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":42,\"x0\":109,\"y0\":54,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":43,\"x0\":117,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":44,\"x0\":30,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":2,\"h\":2},{\"c\":45,\"x0\":67,\"y0\":63,\"yoffs\":3,\"xpad\":1,\"w\":3,\"h\":1},{\"c\":46,\"x0\":75,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":1,\"h\":1},{\"c\":47,\"x0\":16,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":48,\"x0\":26,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":49,\"x0\":35,\"y0\":14,\"yoffs\":1,\"xpad\":2,\"w\":3,\"h\":5},{\"c\":50,\"x0\":42,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":51,\"x0\":51,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":52,\"x0\":60,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":53,\"x0\":69,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":54,\"x0\":78,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":55,\"x0\":87,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":56,\"x0\":96,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":57,\"x0\":105,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":58,\"x0\":2,\"y0\":63,\"yoffs\":2,\"xpad\":1,\"w\":1,\"h\":3},{\"c\":59,\"x0\":115,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":1,\"h\":4},{\"c\":60,\"x0\":114,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":61,\"x0\":8,\"y0\":63,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":62,\"x0\":122,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":63,\"x0\":2,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":64,\"x0\":11,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":65,\"x0\":21,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":66,\"x0\":30,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":67,\"x0\":39,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":68,\"x0\":47,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":69,\"x0\":56,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":70,\"x0\":64,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":71,\"x0\":72,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":72,\"x0\":81,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":73,\"x0\":90,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":74,\"x0\":98,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":75,\"x0\":107,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":76,\"x0\":116,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":77,\"x0\":2,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":78,\"x0\":12,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":79,\"x0\":21,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":80,\"x0\":30,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":81,\"x0\":47,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":82,\"x0\":39,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":83,\"x0\":48,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":84,\"x0\":57,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":85,\"x0\":65,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":86,\"x0\":74,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":87,\"x0\":83,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":88,\"x0\":93,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":89,\"x0\":102,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":90,\"x0\":111,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":91,\"x0\":119,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":92,\"x0\":2,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":93,\"x0\":12,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":94,\"x0\":37,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":2},{\"c\":95,\"x0\":81,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":4,\"h\":1},{\"c\":96,\"x0\":45,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":2},{\"c\":97,\"x0\":121,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":98,\"x0\":19,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":99,\"x0\":2,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":100,\"x0\":28,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":101,\"x0\":10,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":102,\"x0\":37,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":103,\"x0\":56,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":104,\"x0\":45,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":105,\"x0\":54,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":106,\"x0\":2,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":7},{\"c\":107,\"x0\":60,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":108,\"x0\":69,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":109,\"x0\":19,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":4},{\"c\":110,\"x0\":29,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":111,\"x0\":38,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":112,\"x0\":65,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":113,\"x0\":74,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":114,\"x0\":47,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":115,\"x0\":55,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":116,\"x0\":75,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":117,\"x0\":64,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":118,\"x0\":73,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":119,\"x0\":82,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":4},{\"c\":120,\"x0\":92,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":121,\"x0\":83,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":122,\"x0\":100,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":123,\"x0\":83,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":124,\"x0\":91,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":125,\"x0\":97,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":126,\"x0\":52,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":2},{\"c\":160,\"x0\":90,\"y0\":63,\"xpad\":3,\"w\":1,\"h\":1},{\"c\":65533,\"x0\":105,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":128263,\"x0\":9,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":10,\"h\":7},{\"c\":128264,\"x0\":24,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":9,\"h\":7}]}","module.exports={\"font_size\":16,\"imageW\":1024,\"imageH\":64,\"spread\":2,\"noFilter\":1,\"channels\":1,\"char_infos\":[{\"c\":32,\"x0\":172,\"y0\":21,\"xpad\":8,\"w\":0,\"h\":0},{\"c\":33,\"x0\":137,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":34,\"x0\":81,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":4},{\"c\":35,\"x0\":144,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":36,\"x0\":59,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":37,\"x0\":159,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":38,\"x0\":174,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":39,\"x0\":92,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":4},{\"c\":40,\"x0\":189,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":41,\"x0\":198,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":42,\"x0\":41,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":43,\"x0\":52,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":44,\"x0\":99,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":4,\"h\":4},{\"c\":45,\"x0\":141,\"y0\":21,\"yoffs\":7,\"xpad\":2,\"w\":6,\"h\":2},{\"c\":46,\"x0\":152,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":2,\"h\":2},{\"c\":47,\"x0\":207,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":48,\"x0\":222,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":49,\"x0\":235,\"y0\":2,\"yoffs\":3,\"xpad\":6,\"w\":4,\"h\":10},{\"c\":50,\"x0\":244,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":51,\"x0\":257,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":52,\"x0\":270,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":53,\"x0\":283,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":54,\"x0\":296,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":55,\"x0\":309,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":56,\"x0\":322,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":57,\"x0\":335,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":58,\"x0\":63,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":2,\"h\":6},{\"c\":59,\"x0\":877,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":2,\"h\":8},{\"c\":60,\"x0\":348,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":61,\"x0\":70,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":62,\"x0\":359,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":63,\"x0\":370,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":64,\"x0\":383,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":65,\"x0\":398,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":66,\"x0\":411,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":67,\"x0\":424,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":68,\"x0\":435,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":69,\"x0\":448,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":70,\"x0\":459,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":71,\"x0\":470,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":72,\"x0\":483,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":73,\"x0\":496,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":74,\"x0\":507,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":75,\"x0\":520,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":76,\"x0\":533,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":77,\"x0\":544,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":78,\"x0\":559,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":79,\"x0\":572,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":80,\"x0\":585,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":81,\"x0\":72,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":82,\"x0\":598,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":83,\"x0\":611,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":84,\"x0\":624,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":85,\"x0\":635,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":86,\"x0\":648,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":87,\"x0\":661,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":88,\"x0\":676,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":89,\"x0\":689,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":90,\"x0\":702,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":91,\"x0\":713,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":92,\"x0\":722,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":93,\"x0\":737,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":94,\"x0\":108,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":4},{\"c\":95,\"x0\":159,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":8,\"h\":2},{\"c\":96,\"x0\":119,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":4},{\"c\":97,\"x0\":884,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":98,\"x0\":746,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":99,\"x0\":897,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":100,\"x0\":759,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":101,\"x0\":908,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":102,\"x0\":772,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":103,\"x0\":85,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":104,\"x0\":783,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":105,\"x0\":796,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":106,\"x0\":2,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":14},{\"c\":107,\"x0\":803,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":108,\"x0\":816,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":109,\"x0\":921,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":10,\"h\":8},{\"c\":110,\"x0\":936,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":111,\"x0\":949,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":112,\"x0\":98,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":113,\"x0\":111,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":114,\"x0\":962,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":115,\"x0\":973,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":116,\"x0\":823,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":117,\"x0\":986,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":118,\"x0\":999,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":119,\"x0\":2,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":10,\"h\":8},{\"c\":120,\"x0\":17,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":121,\"x0\":124,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":122,\"x0\":28,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":123,\"x0\":834,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":124,\"x0\":845,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":125,\"x0\":852,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":126,\"x0\":128,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":4},{\"c\":160,\"x0\":178,\"y0\":21,\"xpad\":7,\"w\":1,\"h\":1},{\"c\":65533,\"x0\":863,\"y0\":2,\"yoffs\":3,\"xpad\":1,\"w\":9,\"h\":10},{\"c\":128263,\"x0\":11,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":19,\"h\":14},{\"c\":128264,\"x0\":35,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":19,\"h\":14}]}","module.exports={\"font_size\":32,\"imageW\":1024,\"imageH\":512,\"spread\":8,\"channels\":1,\"char_infos\":[{\"c\":13,\"x0\":307,\"y0\":381,\"w\":1,\"h\":1},{\"c\":32,\"x0\":325,\"y0\":381,\"xpad\":6.10156,\"w\":1,\"h\":1},{\"c\":33,\"x0\":436,\"y0\":230,\"yoffs\":4,\"xpad\":1.13281,\"w\":6,\"h\":22},{\"c\":34,\"x0\":879,\"y0\":347,\"yoffs\":4,\"w\":10,\"h\":8},{\"c\":35,\"x0\":673,\"y0\":309,\"yoffs\":10,\"w\":16,\"h\":17},{\"c\":36,\"x0\":215,\"y0\":8,\"yoffs\":1,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":37,\"x0\":933,\"y0\":148,\"yoffs\":4,\"xpad\":0.773438,\"w\":26,\"h\":23},{\"c\":38,\"x0\":976,\"y0\":148,\"yoffs\":4,\"xpad\":0.570313,\"w\":20,\"h\":23},{\"c\":39,\"x0\":906,\"y0\":347,\"yoffs\":4,\"w\":5,\"h\":8},{\"c\":40,\"x0\":8,\"y0\":190,\"yoffs\":5,\"w\":8,\"h\":23},{\"c\":41,\"x0\":33,\"y0\":190,\"yoffs\":5,\"xpad\":0.890625,\"w\":7,\"h\":23},{\"c\":42,\"x0\":645,\"y0\":347,\"yoffs\":2,\"w\":11,\"h\":11},{\"c\":43,\"x0\":706,\"y0\":309,\"yoffs\":9,\"xpad\":0.414063,\"w\":15,\"h\":17},{\"c\":44,\"x0\":928,\"y0\":347,\"yoffs\":22,\"w\":5,\"h\":8},{\"c\":45,\"x0\":252,\"y0\":381,\"yoffs\":16,\"w\":9,\"h\":3},{\"c\":46,\"x0\":156,\"y0\":381,\"yoffs\":22,\"w\":5,\"h\":4},{\"c\":47,\"x0\":57,\"y0\":190,\"yoffs\":4,\"w\":13,\"h\":23},{\"c\":48,\"x0\":459,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":49,\"x0\":402,\"y0\":270,\"yoffs\":5,\"xpad\":5.67188,\"w\":12,\"h\":21},{\"c\":50,\"x0\":431,\"y0\":270,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":21},{\"c\":51,\"x0\":493,\"y0\":230,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":22},{\"c\":52,\"x0\":464,\"y0\":270,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":21},{\"c\":53,\"x0\":526,\"y0\":230,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":22},{\"c\":54,\"x0\":559,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":55,\"x0\":498,\"y0\":270,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":21},{\"c\":56,\"x0\":593,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":57,\"x0\":627,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":58,\"x0\":401,\"y0\":347,\"yoffs\":12,\"w\":5,\"h\":14},{\"c\":59,\"x0\":651,\"y0\":309,\"yoffs\":12,\"w\":5,\"h\":18},{\"c\":60,\"x0\":867,\"y0\":103,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":61,\"x0\":847,\"y0\":347,\"yoffs\":14,\"w\":15,\"h\":9},{\"c\":62,\"x0\":896,\"y0\":103,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":63,\"x0\":661,\"y0\":230,\"yoffs\":4,\"xpad\":0.195313,\"w\":12,\"h\":22},{\"c\":64,\"x0\":87,\"y0\":190,\"yoffs\":7,\"xpad\":1.21094,\"w\":23,\"h\":23},{\"c\":65,\"x0\":531,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":66,\"x0\":567,\"y0\":270,\"yoffs\":5,\"xpad\":0.882813,\"w\":18,\"h\":21},{\"c\":67,\"x0\":690,\"y0\":230,\"yoffs\":5,\"xpad\":0.945313,\"w\":17,\"h\":22},{\"c\":68,\"x0\":602,\"y0\":270,\"yoffs\":5,\"xpad\":1.01563,\"w\":20,\"h\":21},{\"c\":69,\"x0\":639,\"y0\":270,\"yoffs\":5,\"xpad\":0.617188,\"w\":16,\"h\":21},{\"c\":70,\"x0\":672,\"y0\":270,\"yoffs\":5,\"w\":15,\"h\":21},{\"c\":71,\"x0\":724,\"y0\":230,\"yoffs\":5,\"xpad\":1.75,\"w\":18,\"h\":22},{\"c\":72,\"x0\":704,\"y0\":270,\"yoffs\":5,\"xpad\":2.53906,\"w\":18,\"h\":21},{\"c\":73,\"x0\":739,\"y0\":270,\"yoffs\":5,\"xpad\":2.54688,\"w\":6,\"h\":21},{\"c\":74,\"x0\":759,\"y0\":230,\"yoffs\":5,\"xpad\":2.75781,\"w\":6,\"h\":22},{\"c\":75,\"x0\":762,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":76,\"x0\":798,\"y0\":270,\"yoffs\":5,\"w\":16,\"h\":21},{\"c\":77,\"x0\":831,\"y0\":270,\"yoffs\":5,\"xpad\":2.27344,\"w\":21,\"h\":21},{\"c\":78,\"x0\":869,\"y0\":270,\"yoffs\":5,\"xpad\":2.74219,\"w\":19,\"h\":21},{\"c\":79,\"x0\":127,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":80,\"x0\":905,\"y0\":270,\"yoffs\":5,\"xpad\":0.828125,\"w\":17,\"h\":21},{\"c\":81,\"x0\":165,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":82,\"x0\":939,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":83,\"x0\":203,\"y0\":190,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":23},{\"c\":84,\"x0\":975,\"y0\":270,\"yoffs\":5,\"w\":17,\"h\":21},{\"c\":85,\"x0\":782,\"y0\":230,\"yoffs\":5,\"xpad\":2.04688,\"w\":19,\"h\":22},{\"c\":86,\"x0\":8,\"y0\":309,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":87,\"x0\":44,\"y0\":309,\"yoffs\":5,\"w\":30,\"h\":21},{\"c\":88,\"x0\":818,\"y0\":230,\"yoffs\":5,\"w\":20,\"h\":22},{\"c\":89,\"x0\":91,\"y0\":309,\"yoffs\":5,\"w\":18,\"h\":21},{\"c\":90,\"x0\":126,\"y0\":309,\"yoffs\":5,\"xpad\":0.226563,\"w\":17,\"h\":21},{\"c\":91,\"x0\":925,\"y0\":103,\"yoffs\":4,\"w\":9,\"h\":25},{\"c\":92,\"x0\":235,\"y0\":190,\"yoffs\":4,\"w\":13,\"h\":23},{\"c\":93,\"x0\":951,\"y0\":103,\"yoffs\":4,\"xpad\":1.70313,\"w\":7,\"h\":25},{\"c\":94,\"x0\":950,\"y0\":347,\"yoffs\":14,\"xpad\":0.1875,\"w\":13,\"h\":8},{\"c\":95,\"x0\":278,\"y0\":381,\"yoffs\":23,\"xpad\":0.4375,\"w\":12,\"h\":3},{\"c\":96,\"x0\":57,\"y0\":381,\"yoffs\":3,\"w\":6,\"h\":6},{\"c\":97,\"x0\":738,\"y0\":309,\"yoffs\":10,\"xpad\":1.29688,\"w\":14,\"h\":17},{\"c\":98,\"x0\":265,\"y0\":190,\"yoffs\":4,\"xpad\":0.890625,\"w\":16,\"h\":23},{\"c\":99,\"x0\":769,\"y0\":309,\"yoffs\":10,\"xpad\":0.273438,\"w\":14,\"h\":17},{\"c\":100,\"x0\":298,\"y0\":190,\"yoffs\":4,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":101,\"x0\":800,\"y0\":309,\"yoffs\":10,\"xpad\":1.04688,\"w\":15,\"h\":17},{\"c\":102,\"x0\":855,\"y0\":230,\"yoffs\":4,\"w\":10,\"h\":22},{\"c\":103,\"x0\":330,\"y0\":190,\"yoffs\":10,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":104,\"x0\":882,\"y0\":230,\"yoffs\":4,\"xpad\":1.10156,\"w\":16,\"h\":22},{\"c\":105,\"x0\":160,\"y0\":309,\"yoffs\":5,\"xpad\":1.34375,\"w\":6,\"h\":21},{\"c\":106,\"x0\":78,\"y0\":57,\"yoffs\":5,\"xpad\":1.07031,\"w\":7,\"h\":28},{\"c\":107,\"x0\":915,\"y0\":230,\"yoffs\":4,\"xpad\":0.171875,\"w\":15,\"h\":22},{\"c\":108,\"x0\":947,\"y0\":230,\"yoffs\":4,\"xpad\":1.46875,\"w\":6,\"h\":22},{\"c\":109,\"x0\":50,\"y0\":347,\"yoffs\":10,\"xpad\":1.14063,\"w\":25,\"h\":16},{\"c\":110,\"x0\":92,\"y0\":347,\"yoffs\":10,\"xpad\":2.03906,\"w\":15,\"h\":16},{\"c\":111,\"x0\":832,\"y0\":309,\"yoffs\":10,\"xpad\":0.828125,\"w\":16,\"h\":17},{\"c\":112,\"x0\":362,\"y0\":190,\"yoffs\":10,\"xpad\":0.890625,\"w\":16,\"h\":23},{\"c\":113,\"x0\":395,\"y0\":190,\"yoffs\":10,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":114,\"x0\":184,\"y0\":347,\"yoffs\":11,\"xpad\":0.203125,\"w\":10,\"h\":15},{\"c\":115,\"x0\":865,\"y0\":309,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":17},{\"c\":116,\"x0\":587,\"y0\":309,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":20},{\"c\":117,\"x0\":124,\"y0\":347,\"yoffs\":11,\"xpad\":1.64844,\"w\":15,\"h\":16},{\"c\":118,\"x0\":211,\"y0\":347,\"yoffs\":11,\"w\":15,\"h\":15},{\"c\":119,\"x0\":243,\"y0\":347,\"yoffs\":11,\"w\":23,\"h\":15},{\"c\":120,\"x0\":283,\"y0\":347,\"yoffs\":11,\"w\":16,\"h\":15},{\"c\":121,\"x0\":970,\"y0\":230,\"yoffs\":11,\"w\":15,\"h\":22},{\"c\":122,\"x0\":316,\"y0\":347,\"yoffs\":11,\"xpad\":0.851563,\"w\":13,\"h\":15},{\"c\":123,\"x0\":1002,\"y0\":230,\"yoffs\":6,\"w\":9,\"h\":22},{\"c\":124,\"x0\":8,\"y0\":8,\"w\":7,\"h\":32},{\"c\":125,\"x0\":8,\"y0\":270,\"yoffs\":6,\"xpad\":0.460938,\"w\":8,\"h\":22},{\"c\":126,\"x0\":127,\"y0\":381,\"yoffs\":16,\"xpad\":0.3125,\"w\":12,\"h\":5},{\"c\":144,\"x0\":980,\"y0\":347,\"yoffs\":-5,\"w\":14,\"h\":8},{\"c\":160,\"x0\":343,\"y0\":381,\"xpad\":6.10156,\"w\":1,\"h\":1},{\"c\":161,\"x0\":33,\"y0\":270,\"yoffs\":4,\"xpad\":1.13281,\"w\":6,\"h\":22},{\"c\":162,\"x0\":427,\"y0\":190,\"yoffs\":7,\"xpad\":0.273438,\"w\":14,\"h\":23},{\"c\":163,\"x0\":183,\"y0\":309,\"yoffs\":5,\"xpad\":0.304688,\"w\":14,\"h\":21},{\"c\":164,\"x0\":614,\"y0\":309,\"yoffs\":9,\"xpad\":0.328125,\"w\":20,\"h\":20},{\"c\":165,\"x0\":214,\"y0\":309,\"yoffs\":5,\"w\":18,\"h\":21},{\"c\":166,\"x0\":458,\"y0\":190,\"yoffs\":4,\"xpad\":2.10156,\"w\":6,\"h\":23},{\"c\":167,\"x0\":102,\"y0\":57,\"yoffs\":2,\"xpad\":1.25,\"w\":17,\"h\":28},{\"c\":168,\"x0\":178,\"y0\":381,\"yoffs\":4,\"xpad\":0.453125,\"w\":9,\"h\":4},{\"c\":169,\"x0\":481,\"y0\":190,\"yoffs\":4,\"xpad\":0.625,\"w\":25,\"h\":23},{\"c\":170,\"x0\":551,\"y0\":347,\"yoffs\":4,\"xpad\":0.296875,\"w\":10,\"h\":12},{\"c\":171,\"x0\":673,\"y0\":347,\"yoffs\":13,\"xpad\":0.140625,\"w\":11,\"h\":11},{\"c\":172,\"x0\":729,\"y0\":347,\"yoffs\":13,\"xpad\":0.382813,\"w\":15,\"h\":10},{\"c\":173,\"x0\":361,\"y0\":381,\"xpad\":2.94531,\"w\":1,\"h\":1},{\"c\":174,\"x0\":249,\"y0\":309,\"yoffs\":1,\"xpad\":0.3125,\"w\":22,\"h\":21},{\"c\":175,\"x0\":204,\"y0\":381,\"yoffs\":4,\"w\":9,\"h\":4},{\"c\":176,\"x0\":32,\"y0\":381,\"yoffs\":4,\"w\":8,\"h\":7},{\"c\":177,\"x0\":895,\"y0\":309,\"yoffs\":9,\"w\":14,\"h\":17},{\"c\":178,\"x0\":423,\"y0\":347,\"yoffs\":2,\"xpad\":0.890625,\"w\":11,\"h\":14},{\"c\":179,\"x0\":156,\"y0\":347,\"yoffs\":2,\"xpad\":1.52344,\"w\":11,\"h\":16},{\"c\":180,\"x0\":80,\"y0\":381,\"yoffs\":3,\"w\":6,\"h\":6},{\"c\":181,\"x0\":56,\"y0\":270,\"yoffs\":11,\"xpad\":1.85938,\"w\":15,\"h\":22},{\"c\":182,\"x0\":288,\"y0\":309,\"yoffs\":5,\"xpad\":0.5,\"w\":26,\"h\":21},{\"c\":183,\"x0\":230,\"y0\":381,\"yoffs\":16,\"w\":5,\"h\":4},{\"c\":184,\"x0\":8,\"y0\":381,\"yoffs\":25,\"xpad\":0.0703125,\"w\":7,\"h\":8},{\"c\":185,\"x0\":451,\"y0\":347,\"yoffs\":2,\"xpad\":0.6875,\"w\":10,\"h\":14},{\"c\":186,\"x0\":578,\"y0\":347,\"yoffs\":4,\"xpad\":0.625,\"w\":11,\"h\":12},{\"c\":187,\"x0\":701,\"y0\":347,\"yoffs\":13,\"xpad\":0.140625,\"w\":11,\"h\":11},{\"c\":188,\"x0\":247,\"y0\":8,\"yoffs\":2,\"xpad\":0.0546875,\"w\":25,\"h\":29},{\"c\":189,\"x0\":136,\"y0\":57,\"yoffs\":2,\"xpad\":1.22656,\"w\":25,\"h\":28},{\"c\":190,\"x0\":289,\"y0\":8,\"yoffs\":2,\"xpad\":0.109375,\"w\":26,\"h\":29},{\"c\":191,\"x0\":88,\"y0\":270,\"yoffs\":6,\"xpad\":0.09375,\"w\":13,\"h\":22},{\"c\":192,\"x0\":178,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":193,\"x0\":214,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":194,\"x0\":250,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":195,\"x0\":648,\"y0\":103,\"w\":19,\"h\":26},{\"c\":196,\"x0\":252,\"y0\":103,\"yoffs\":-1,\"w\":19,\"h\":27},{\"c\":197,\"x0\":286,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":198,\"x0\":331,\"y0\":309,\"yoffs\":5,\"xpad\":0.28125,\"w\":27,\"h\":21},{\"c\":199,\"x0\":322,\"y0\":57,\"yoffs\":5,\"xpad\":0.945313,\"w\":17,\"h\":28},{\"c\":200,\"x0\":356,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":201,\"x0\":389,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":202,\"x0\":422,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":203,\"x0\":288,\"y0\":103,\"yoffs\":-1,\"xpad\":0.617188,\"w\":16,\"h\":27},{\"c\":204,\"x0\":455,\"y0\":57,\"yoffs\":-2,\"xpad\":1.54688,\"w\":7,\"h\":28},{\"c\":205,\"x0\":479,\"y0\":57,\"yoffs\":-2,\"xpad\":0.546875,\"w\":8,\"h\":28},{\"c\":206,\"x0\":504,\"y0\":57,\"yoffs\":-2,\"w\":11,\"h\":28},{\"c\":207,\"x0\":321,\"y0\":103,\"yoffs\":-1,\"w\":9,\"h\":27},{\"c\":208,\"x0\":375,\"y0\":309,\"yoffs\":5,\"xpad\":1.22656,\"w\":20,\"h\":21},{\"c\":209,\"x0\":684,\"y0\":103,\"xpad\":2.74219,\"w\":19,\"h\":26},{\"c\":210,\"x0\":332,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":211,\"x0\":370,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":212,\"x0\":408,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":213,\"x0\":347,\"y0\":103,\"xpad\":1.22656,\"w\":21,\"h\":27},{\"c\":214,\"x0\":532,\"y0\":57,\"yoffs\":-1,\"xpad\":1.22656,\"w\":21,\"h\":28},{\"c\":215,\"x0\":346,\"y0\":347,\"yoffs\":11,\"xpad\":0.359375,\"w\":15,\"h\":15},{\"c\":216,\"x0\":523,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":217,\"x0\":446,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":218,\"x0\":482,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":219,\"x0\":518,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":220,\"x0\":570,\"y0\":57,\"yoffs\":-1,\"xpad\":2.04688,\"w\":19,\"h\":28},{\"c\":221,\"x0\":606,\"y0\":57,\"yoffs\":-2,\"w\":18,\"h\":28},{\"c\":222,\"x0\":412,\"y0\":309,\"yoffs\":5,\"xpad\":1.00781,\"w\":17,\"h\":21},{\"c\":223,\"x0\":446,\"y0\":309,\"yoffs\":5,\"xpad\":1.30469,\"w\":17,\"h\":21},{\"c\":224,\"x0\":69,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":225,\"x0\":100,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":226,\"x0\":131,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":227,\"x0\":561,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":228,\"x0\":592,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":229,\"x0\":975,\"y0\":103,\"yoffs\":2,\"xpad\":1.29688,\"w\":14,\"h\":25},{\"c\":230,\"x0\":926,\"y0\":309,\"yoffs\":10,\"xpad\":0.960938,\"w\":24,\"h\":17},{\"c\":231,\"x0\":623,\"y0\":190,\"yoffs\":10,\"xpad\":0.273438,\"w\":14,\"h\":23},{\"c\":232,\"x0\":162,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":233,\"x0\":194,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":234,\"x0\":226,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":235,\"x0\":654,\"y0\":190,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":236,\"x0\":686,\"y0\":190,\"yoffs\":3,\"xpad\":1.34375,\"w\":6,\"h\":23},{\"c\":237,\"x0\":709,\"y0\":190,\"yoffs\":3,\"w\":8,\"h\":23},{\"c\":238,\"x0\":734,\"y0\":190,\"yoffs\":3,\"w\":11,\"h\":23},{\"c\":239,\"x0\":118,\"y0\":270,\"yoffs\":4,\"w\":9,\"h\":22},{\"c\":240,\"x0\":762,\"y0\":190,\"yoffs\":4,\"xpad\":1.53125,\"w\":15,\"h\":23},{\"c\":241,\"x0\":144,\"y0\":270,\"yoffs\":4,\"xpad\":2.03906,\"w\":15,\"h\":22},{\"c\":242,\"x0\":258,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":243,\"x0\":291,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":244,\"x0\":324,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":245,\"x0\":794,\"y0\":190,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":246,\"x0\":827,\"y0\":190,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":247,\"x0\":478,\"y0\":347,\"yoffs\":11,\"xpad\":0.453125,\"w\":14,\"h\":14},{\"c\":248,\"x0\":967,\"y0\":309,\"yoffs\":10,\"xpad\":0.828125,\"w\":16,\"h\":17},{\"c\":249,\"x0\":357,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":250,\"x0\":389,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":251,\"x0\":421,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":252,\"x0\":860,\"y0\":190,\"yoffs\":4,\"xpad\":1.64844,\"w\":15,\"h\":23},{\"c\":253,\"x0\":64,\"y0\":8,\"yoffs\":3,\"w\":15,\"h\":30},{\"c\":254,\"x0\":554,\"y0\":8,\"yoffs\":4,\"xpad\":0.890625,\"w\":16,\"h\":29},{\"c\":255,\"x0\":587,\"y0\":8,\"yoffs\":4,\"w\":15,\"h\":29},{\"c\":256,\"x0\":720,\"y0\":103,\"w\":19,\"h\":26},{\"c\":257,\"x0\":892,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":258,\"x0\":385,\"y0\":103,\"yoffs\":-1,\"w\":19,\"h\":27},{\"c\":259,\"x0\":453,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":260,\"x0\":641,\"y0\":57,\"yoffs\":5,\"w\":21,\"h\":28},{\"c\":261,\"x0\":923,\"y0\":190,\"yoffs\":10,\"w\":16,\"h\":23},{\"c\":262,\"x0\":619,\"y0\":8,\"yoffs\":-2,\"xpad\":0.945313,\"w\":17,\"h\":29},{\"c\":263,\"x0\":484,\"y0\":148,\"yoffs\":3,\"xpad\":0.273438,\"w\":14,\"h\":24},{\"c\":268,\"x0\":653,\"y0\":8,\"yoffs\":-2,\"xpad\":0.945313,\"w\":17,\"h\":29},{\"c\":269,\"x0\":515,\"y0\":148,\"yoffs\":3,\"xpad\":0.273438,\"w\":14,\"h\":24},{\"c\":270,\"x0\":679,\"y0\":57,\"yoffs\":-2,\"xpad\":1.01563,\"w\":20,\"h\":28},{\"c\":271,\"x0\":956,\"y0\":190,\"yoffs\":4,\"w\":22,\"h\":23},{\"c\":272,\"x0\":480,\"y0\":309,\"yoffs\":5,\"xpad\":1.22656,\"w\":20,\"h\":21},{\"c\":273,\"x0\":995,\"y0\":190,\"yoffs\":4,\"xpad\":0.0703125,\"w\":17,\"h\":23},{\"c\":274,\"x0\":756,\"y0\":103,\"xpad\":0.617188,\"w\":16,\"h\":26},{\"c\":275,\"x0\":8,\"y0\":230,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":278,\"x0\":421,\"y0\":103,\"yoffs\":-1,\"xpad\":0.617188,\"w\":16,\"h\":27},{\"c\":279,\"x0\":40,\"y0\":230,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":280,\"x0\":716,\"y0\":57,\"yoffs\":5,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":281,\"x0\":72,\"y0\":230,\"yoffs\":10,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":282,\"x0\":749,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":283,\"x0\":546,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":286,\"x0\":782,\"y0\":57,\"yoffs\":-1,\"xpad\":1.75,\"w\":18,\"h\":28},{\"c\":287,\"x0\":96,\"y0\":8,\"yoffs\":3,\"xpad\":2.07031,\"w\":15,\"h\":30},{\"c\":290,\"x0\":817,\"y0\":57,\"yoffs\":5,\"xpad\":1.75,\"w\":18,\"h\":28},{\"c\":291,\"x0\":32,\"y0\":8,\"yoffs\":2,\"xpad\":2.07031,\"w\":15,\"h\":31},{\"c\":298,\"x0\":789,\"y0\":103,\"w\":9,\"h\":26},{\"c\":299,\"x0\":176,\"y0\":270,\"yoffs\":4,\"w\":9,\"h\":22},{\"c\":302,\"x0\":852,\"y0\":57,\"yoffs\":5,\"xpad\":0.546875,\"w\":8,\"h\":28},{\"c\":303,\"x0\":877,\"y0\":57,\"yoffs\":5,\"w\":8,\"h\":28},{\"c\":304,\"x0\":454,\"y0\":103,\"yoffs\":-1,\"xpad\":1.54688,\"w\":7,\"h\":27},{\"c\":305,\"x0\":378,\"y0\":347,\"yoffs\":11,\"xpad\":1.34375,\"w\":6,\"h\":15},{\"c\":310,\"x0\":687,\"y0\":8,\"yoffs\":5,\"w\":19,\"h\":29},{\"c\":311,\"x0\":128,\"y0\":8,\"yoffs\":4,\"xpad\":0.171875,\"w\":15,\"h\":30},{\"c\":313,\"x0\":902,\"y0\":57,\"yoffs\":-2,\"w\":16,\"h\":28},{\"c\":314,\"x0\":815,\"y0\":103,\"w\":8,\"h\":26},{\"c\":315,\"x0\":723,\"y0\":8,\"yoffs\":5,\"w\":16,\"h\":29},{\"c\":316,\"x0\":160,\"y0\":8,\"yoffs\":4,\"xpad\":1.46875,\"w\":6,\"h\":30},{\"c\":317,\"x0\":202,\"y0\":270,\"yoffs\":4,\"w\":16,\"h\":22},{\"c\":318,\"x0\":235,\"y0\":270,\"yoffs\":4,\"w\":12,\"h\":22},{\"c\":321,\"x0\":517,\"y0\":309,\"yoffs\":5,\"xpad\":0.046875,\"w\":16,\"h\":21},{\"c\":322,\"x0\":264,\"y0\":270,\"yoffs\":4,\"w\":11,\"h\":22},{\"c\":323,\"x0\":935,\"y0\":57,\"yoffs\":-2,\"xpad\":2.74219,\"w\":19,\"h\":28},{\"c\":324,\"x0\":104,\"y0\":230,\"yoffs\":3,\"xpad\":2.03906,\"w\":15,\"h\":23},{\"c\":325,\"x0\":756,\"y0\":8,\"yoffs\":5,\"xpad\":2.74219,\"w\":19,\"h\":29},{\"c\":326,\"x0\":578,\"y0\":148,\"yoffs\":10,\"xpad\":2.03906,\"w\":15,\"h\":24},{\"c\":327,\"x0\":971,\"y0\":57,\"yoffs\":-2,\"xpad\":2.74219,\"w\":19,\"h\":28},{\"c\":328,\"x0\":136,\"y0\":230,\"yoffs\":3,\"xpad\":2.03906,\"w\":15,\"h\":23},{\"c\":332,\"x0\":478,\"y0\":103,\"xpad\":1.22656,\"w\":21,\"h\":27},{\"c\":333,\"x0\":168,\"y0\":230,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":336,\"x0\":792,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":337,\"x0\":610,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":338,\"x0\":292,\"y0\":270,\"yoffs\":5,\"xpad\":0.390625,\"w\":29,\"h\":22},{\"c\":339,\"x0\":8,\"y0\":347,\"yoffs\":10,\"xpad\":0.65625,\"w\":25,\"h\":17},{\"c\":340,\"x0\":8,\"y0\":103,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":341,\"x0\":201,\"y0\":230,\"yoffs\":3,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":342,\"x0\":830,\"y0\":8,\"yoffs\":5,\"w\":19,\"h\":29},{\"c\":343,\"x0\":228,\"y0\":230,\"yoffs\":11,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":344,\"x0\":44,\"y0\":103,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":345,\"x0\":255,\"y0\":230,\"yoffs\":3,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":346,\"x0\":866,\"y0\":8,\"yoffs\":-2,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":347,\"x0\":643,\"y0\":148,\"yoffs\":3,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":350,\"x0\":898,\"y0\":8,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":351,\"x0\":282,\"y0\":230,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":23},{\"c\":352,\"x0\":930,\"y0\":8,\"yoffs\":-2,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":353,\"x0\":673,\"y0\":148,\"yoffs\":3,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":354,\"x0\":80,\"y0\":103,\"yoffs\":5,\"w\":17,\"h\":28},{\"c\":355,\"x0\":840,\"y0\":103,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":26},{\"c\":356,\"x0\":114,\"y0\":103,\"yoffs\":-2,\"w\":17,\"h\":28},{\"c\":357,\"x0\":312,\"y0\":230,\"yoffs\":4,\"w\":15,\"h\":23},{\"c\":362,\"x0\":516,\"y0\":103,\"xpad\":2.04688,\"w\":19,\"h\":27},{\"c\":363,\"x0\":344,\"y0\":230,\"yoffs\":4,\"xpad\":1.64844,\"w\":15,\"h\":23},{\"c\":366,\"x0\":962,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":367,\"x0\":8,\"y0\":148,\"yoffs\":2,\"xpad\":1.64844,\"w\":15,\"h\":25},{\"c\":368,\"x0\":8,\"y0\":57,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":369,\"x0\":703,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":370,\"x0\":148,\"y0\":103,\"yoffs\":5,\"xpad\":2.04688,\"w\":19,\"h\":28},{\"c\":371,\"x0\":338,\"y0\":270,\"yoffs\":11,\"w\":17,\"h\":22},{\"c\":376,\"x0\":552,\"y0\":103,\"yoffs\":-1,\"w\":18,\"h\":27},{\"c\":377,\"x0\":184,\"y0\":103,\"yoffs\":-2,\"xpad\":0.226563,\"w\":17,\"h\":28},{\"c\":378,\"x0\":376,\"y0\":230,\"yoffs\":3,\"xpad\":0.851563,\"w\":13,\"h\":23},{\"c\":379,\"x0\":587,\"y0\":103,\"yoffs\":-1,\"xpad\":0.226563,\"w\":17,\"h\":27},{\"c\":380,\"x0\":372,\"y0\":270,\"yoffs\":4,\"xpad\":0.851563,\"w\":13,\"h\":22},{\"c\":381,\"x0\":218,\"y0\":103,\"yoffs\":-2,\"xpad\":0.226563,\"w\":17,\"h\":28},{\"c\":382,\"x0\":406,\"y0\":230,\"yoffs\":3,\"xpad\":0.851563,\"w\":13,\"h\":23},{\"c\":402,\"x0\":40,\"y0\":148,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":536,\"x0\":183,\"y0\":8,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":30},{\"c\":537,\"x0\":735,\"y0\":148,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":538,\"x0\":44,\"y0\":57,\"yoffs\":5,\"w\":17,\"h\":29},{\"c\":539,\"x0\":621,\"y0\":103,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":27},{\"c\":8226,\"x0\":103,\"y0\":381,\"yoffs\":13,\"xpad\":0.28125,\"w\":7,\"h\":6},{\"c\":8482,\"x0\":606,\"y0\":347,\"yoffs\":5,\"xpad\":0.882813,\"w\":22,\"h\":12},{\"c\":8592,\"x0\":761,\"y0\":347,\"yoffs\":11,\"xpad\":0.882813,\"w\":26,\"h\":10},{\"c\":8593,\"x0\":765,\"y0\":148,\"yoffs\":4,\"xpad\":7.88281,\"w\":19,\"h\":24},{\"c\":8594,\"x0\":804,\"y0\":347,\"yoffs\":11,\"xpad\":0.882813,\"w\":26,\"h\":10},{\"c\":8595,\"x0\":801,\"y0\":148,\"yoffs\":4,\"xpad\":7.88281,\"w\":19,\"h\":24},{\"c\":8734,\"x0\":509,\"y0\":347,\"yoffs\":11,\"xpad\":0.6875,\"w\":25,\"h\":14},{\"c\":9742,\"x0\":837,\"y0\":148,\"yoffs\":4,\"w\":31,\"h\":24},{\"c\":9743,\"x0\":885,\"y0\":148,\"yoffs\":4,\"w\":31,\"h\":24},{\"c\":65533,\"x0\":550,\"y0\":309,\"yoffs\":5,\"w\":20,\"h\":21}]}","/*eslint global-require:off*/\nconst local_storage = require('./glov/local_storage.js');\nlocal_storage.storage_prefix = 'galaxy-gen'; // Before requiring anything else that might load from this\n\nconst assert = require('assert');\nconst camera2d = require('./glov/camera2d.js');\nconst engine = require('./glov/engine.js');\nconst { createGalaxy, distSq, LAYER_STEP } = require('./galaxy.js');\nconst { abs, cos, floor, max, min, pow, round, sin, sqrt, PI } = Math;\nconst input = require('./glov/input.js');\nconst { KEYS } = input;\nconst net = require('./glov/net.js');\nconst perf = require('./glov/perf.js');\nconst shaders = require('./glov/shaders.js');\nconst sprites = require('./glov/sprites.js');\nconst textures = require('./glov/textures.js');\nconst ui = require('./glov/ui.js');\nconst { clamp, clone, deepEqual, easeOut } = require('../common/util.js');\nconst { unit_vec, vec2, v2add, v2addScale, v2copy, v2floor, v2set, vec4 } = require('./glov/vmath.js');\nconst createSprite = sprites.create;\nconst { BLEND_ADDITIVE } = sprites;\n\nwindow.Z = window.Z || {};\nZ.BACKGROUND = 1;\nZ.SPRITES = 10;\nZ.PARTICLES = 20;\nZ.UI_TEST = 200;\n\n// let app = exports;\n// Virtual viewport for our game logic\nconst game_width = 256 + 90;\nconst game_height = 256;\n\nexport function main() {\n  if (engine.DEBUG) {\n    // Enable auto-reload, etc\n    net.init({ engine });\n  }\n\n  let view = local_storage.getJSON('view', 1);\n\n  const font_info_04b03x2 = require('./img/font/04b03_8x2.json');\n  const font_info_04b03x1 = require('./img/font/04b03_8x1.json');\n  const font_info_palanquin32 = require('./img/font/palanquin32.json');\n  let pixely = view === 1 ? 'strict' : 'on';\n  let font;\n  if (pixely === 'strict' || true) {\n    font = { info: font_info_04b03x1, texture: 'font/04b03_8x1' };\n  } else if (pixely && pixely !== 'off') {\n    font = { info: font_info_04b03x2, texture: 'font/04b03_8x2' };\n  } else {\n    font = { info: font_info_palanquin32, texture: 'font/palanquin32' };\n  }\n\n  if (!engine.startup({\n    game_width,\n    game_height,\n    pixely,\n    font,\n    viewport_postprocess: false,\n    antialias: false,\n    do_borders: false,\n  })) {\n    return;\n  }\n  font = engine.font;\n\n  ui.scaleSizes(13 / 32);\n  ui.setFontHeight(8);\n\n  let tex_palette = textures.load({\n    url: 'palette/pal2.png',\n    filter_min: gl.NEAREST,\n    filter_mag: gl.NEAREST,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n\n  let shader_galaxy_pixel = shaders.create('shaders/galaxy_blend_pixel.fp');\n  let shader_galaxy_blend = shaders.create('shaders/galaxy_blend.fp');\n  let white_tex = textures.textures.white;\n\n  const MAX_ZOOM = 16;\n  const buf_dim = 256;\n  let params = {\n    buf_dim,\n    dither: 0.5,\n    arms: 7,\n    len_mods: 4,\n    twirl: 4,\n    center: 0.09,\n    seed: 1,\n    noise_freq: 5,\n    noise_weight: 0.22,\n    poi_count: 200,\n    width_ly: 128*1024,\n    star_count: 100*1000*1000*1000,\n    max_zoom: MAX_ZOOM,\n\n    layer1: {\n      noise_freq: 20,\n      noise_weight: 0.2,\n    },\n    layer2: {\n      noise_freq: 80,\n      noise_weight: 0.2,\n    },\n    layer3: {\n      noise_freq: 250,\n      noise_weight: 0.2,\n    },\n    layer4: {\n      noise_freq: 750,\n      noise_weight: 0.25,\n    },\n    layer5: {\n      noise_freq: 2500,\n      noise_weight: 0.3,\n    },\n  };\n  let gen_params;\n  let debug_sprite;\n  let galaxy;\n  function allocSprite() {\n    if (!debug_sprite) {\n      let tex = galaxy.getCellTextured(0, 0).tex;\n      debug_sprite = createSprite({\n        texs: [tex, tex, tex],\n      });\n    }\n  }\n\n  function round4(v) {\n    return round(v * 1000)/1000;\n  }\n\n  function format(v) {\n    assert(v >= 0);\n    if (!v) {\n      return '0';\n    }\n    if (v > 900000000) {\n      return `${(v/1000000000).toFixed(1)}B`;\n    }\n    if (v > 900000) {\n      return `${(v/1000000).toFixed(1)}M`;\n    }\n    if (v > 900) {\n      return `${(v/1000).toFixed(1)}K`;\n    }\n    if (v > 9) {\n      return `${round(v)}`;\n    }\n    let precis = 1;\n    let check = 0.2;\n    while (true) {\n      if (v > check) {\n        return v.toFixed(precis);\n      }\n      check *= 0.1;\n      precis++;\n    }\n  }\n\n  let cells_drawn = 0;\n  perf.addMetric({\n    name: 'cells',\n    show_stat: 'true',\n    labels: {\n      'cells: ': () => cells_drawn.toString(),\n    },\n  });\n\n\n  let zoom_level = local_storage.getJSON('zoom', 0);\n  let target_zoom_level = zoom_level;\n  let zoom_offs = vec2(local_storage.getJSON('offsx', 0),local_storage.getJSON('offsy', 0));\n  let style = font.styleColored(null, 0x000000ff);\n  let mouse_pos = vec2();\n  let use_mouse_pos = false;\n  const color_highlight = vec4(1,1,0,0.75);\n  const color_text_backdrop = vec4(0,0,0,0.5);\n  function doZoomActual(x, y, delta) {\n    let cur_zoom = pow(2, zoom_level);\n    let new_zoom_level = max(0, min(zoom_level + delta, MAX_ZOOM));\n    let new_zoom = pow(2, new_zoom_level);\n    // Calc actual coords at [x,y]\n    let point_x = zoom_offs[0] + x / cur_zoom;\n    let point_y = zoom_offs[1] + y / cur_zoom;\n    // Calc new x0 at new zoom relative to these coords\n    zoom_offs[0] = point_x - x / new_zoom;\n    zoom_offs[1] = point_y - y / new_zoom;\n    zoom_level = new_zoom_level;\n\n    if (zoom_level === 0) {\n      // recenter\n      zoom_offs[0] = zoom_offs[1] = 0;\n    }\n    local_storage.setJSON('offsx', zoom_offs[0]);\n    local_storage.setJSON('offsy', zoom_offs[1]);\n    local_storage.setJSON('zoom', zoom_level);\n  }\n  let queued_zooms = [];\n  function zoomTick() {\n    let dt = engine.frame_dt;\n    for (let ii = 0; ii < queued_zooms.length; ++ii) {\n      let zm = queued_zooms[ii];\n      let new_progress = min(1, zm.progress + dt/500);\n      let dp = easeOut(new_progress, 2) - easeOut(zm.progress, 2);\n      zm.progress = new_progress;\n      doZoomActual(zm.x, zm.y, zm.delta * dp);\n      if (new_progress === 1) {\n        queued_zooms.splice(ii, 1);\n      }\n    }\n  }\n  function doZoom(x, y, delta) {\n    target_zoom_level = max(0, min(target_zoom_level + delta, MAX_ZOOM));\n    queued_zooms.push({\n      x, y, delta,\n      progress: 0,\n    });\n  }\n\n  const color_black = vec4(0,0,0,1);\n  const color_orbit = vec4(0.5, 0.5, 0, 1);\n  const VSCALE = 0.5;\n  function drawElipse(x, y, z, r0, r1, color) {\n    let segments = max(20, r0 - 10);\n    let last_pos = [0,0];\n    let cur_pos = [0,0];\n    for (let ii = 0; ii <= segments + 1; ++ii) {\n      v2copy(last_pos, cur_pos);\n      let theta = ii / segments * PI * 2 + 0.1;\n      v2set(cur_pos, x + cos(theta) * r0, y + sin(theta) * r1);\n      if (view === 1) {\n        v2floor(cur_pos, cur_pos);\n        v2addScale(cur_pos, cur_pos, unit_vec, 0.5);\n      }\n      if (ii) {\n        ui.drawLine(last_pos[0], last_pos[1], cur_pos[0], cur_pos[1], z, 1, 0.9, color);\n      }\n    }\n  }\n  const ORBIT_RATE = 0.0002;\n  function drawSolarSystem(solar_system, x0, y0, z, w, h) {\n    let { star_data, planets } = solar_system;\n    let xmid = x0 + w/2;\n    let ymid = y0 + h/2;\n    let sun_radius = star_data.game_radius;\n    let sun_pad = w * 0.1;\n    ui.drawCircle(xmid, ymid, z, sun_radius + 2, 0.25, star_data.color, BLEND_ADDITIVE);\n    ui.drawCircle(xmid, ymid, z + 0.005, sun_radius, 0.95, star_data.color);\n    let rstep = (w/2 - sun_pad) / (planets.length + 2);\n    let r0 = sun_pad + rstep;\n    for (let ii = 0; ii < planets.length; ++ii) {\n      let r = r0 + rstep * ii;\n      let planet = planets[ii];\n      let x = xmid + cos(planet.orbit + planet.orbit_speed * engine.frame_timestamp*ORBIT_RATE) * r;\n      let y = ymid + sin(planet.orbit + planet.orbit_speed * engine.frame_timestamp*ORBIT_RATE) * r * VSCALE;\n      let zz = z + (y - ymid)/h;\n      ui.drawCircle(x, y, zz, planet.size + 2, 0.99, color_black);\n      ui.drawCircle(x, y, zz + 0.00001, planet.size, 0.99, planet.type.color);\n      drawElipse(xmid, ymid, z - 2, r, r * VSCALE, color_orbit);\n    }\n\n    // draw backdrop\n    let br0 = w/2;\n    let br1 = h/2*VSCALE;\n    ui.drawElipse(xmid - br0, ymid - br1, xmid + br0, ymid + br1, z - 2.1, 0, color_black);\n  }\n\n  let drag_temp = vec2();\n  function test(dt) {\n\n    gl.clearColor(0, 0, 0, 1);\n    let z = Z.UI;\n\n    let x = 4;\n    let button_spacing = ui.button_height + 6;\n    let y = 4;\n\n    let w = min(game_width, game_height);\n    let map_x0 = game_width - w;\n    let map_y0 = 0;\n\n    if (galaxy) {\n      galaxy.loading = false;\n    }\n\n    if (!deepEqual(params, gen_params)) {\n      gen_params = clone(params);\n      let first = true;\n      if (galaxy) {\n        first = false;\n        galaxy.dispose();\n      }\n      galaxy = createGalaxy(params);\n      galaxy.loading = first;\n      allocSprite();\n    }\n\n    if (ui.buttonText({ x, y, text: `View: ${view ? 'Pixely' : 'Raw'}`, w: ui.button_width * 0.75 }) ||\n      input.keyDownEdge(KEYS.V)\n    ) {\n      view = (view + 1) % 2;\n      local_storage.setJSON('view', view);\n      setTimeout(() => engine.setPixelyStrict(view === 1), 0);\n      //engine.reloadSafe();\n    }\n    y += button_spacing;\n\n    // if (view === 1) {\n    //   ui.print(style, x, y, z, `Dither: ${params.dither}`);\n    //   y += ui.font_height;\n    //   params.dither = round4(ui.slider(params.dither, { x, y, z, min: 0, max: 1 }));\n    //   y += button_spacing;\n    // }\n\n    ui.print(style, x, y, z, `Seed: ${params.seed}`);\n    y += ui.font_height;\n    params.seed = round(ui.slider(params.seed, { x, y, z, min: 1, max: 9999 }));\n    y += button_spacing;\n\n    if (zoom_level < 1.9) { // Galaxy\n      ui.print(style, x, y, z, `Arms: ${params.arms}`);\n      y += ui.font_height;\n      params.arms = round(ui.slider(params.arms, { x, y, z, min: 1, max: 16 }));\n      y += button_spacing;\n\n      ui.print(style, x, y, z, `Arm Mods: ${params.len_mods}`);\n      y += ui.font_height;\n      params.len_mods = round(ui.slider(params.len_mods, { x, y, z, min: 1, max: 32 }));\n      y += button_spacing;\n\n      ui.print(style, x, y, z, `Twirl: ${params.twirl}`);\n      y += ui.font_height;\n      params.twirl = round4(ui.slider(params.twirl, { x, y, z, min: 0, max: 8 }));\n      y += button_spacing;\n\n      ui.print(style, x, y, z, `Center: ${params.center}`);\n      y += ui.font_height;\n      params.center = round4(ui.slider(params.center, { x, y, z, min: 0, max: 0.3 }));\n      y += button_spacing;\n\n      ui.print(style, x, y, z, `Noise Freq: ${params.noise_freq}`);\n      y += ui.font_height;\n      params.noise_freq = round4(ui.slider(params.noise_freq, { x, y, z, min: 0.1, max: 10 }));\n      y += button_spacing;\n\n      ui.print(style, x, y, z, `Noise Weight: ${params.noise_weight}`);\n      y += ui.font_height;\n      params.noise_weight = round4(ui.slider(params.noise_weight, { x, y, z, min: 0, max: 4 }));\n      y += button_spacing;\n\n      ui.print(style, x, y, z, `Lone Clusters: ${params.poi_count}`);\n      y += ui.font_height;\n      params.poi_count = round(ui.slider(params.poi_count, { x, y, z, min: 0, max: 1000 }));\n      y += button_spacing;\n    } else {\n      let layer_idx = round(zoom_level / (LAYER_STEP / 2));\n      ui.print(style, x, y, z, `Layer #${layer_idx}:`);\n      y += ui.font_height + 2;\n      let key = `layer${layer_idx}`;\n      if (params[key]) {\n        ui.print(style, x, y, z, `Noise Freq: ${params[key].noise_freq}`);\n        y += ui.font_height;\n        params[key].noise_freq = round4(ui.slider(params[key].noise_freq,\n          { x, y, z, min: 0.1, max: 100 * pow(2, layer_idx) }));\n        y += button_spacing;\n\n        ui.print(style, x, y, z, `Noise Weight: ${params[key].noise_weight}`);\n        y += ui.font_height;\n        params[key].noise_weight = round4(ui.slider(params[key].noise_weight, { x, y, z, min: 0, max: 4 }));\n        y += button_spacing;\n      }\n    }\n\n    ui.panel({\n      x: x - 4, y: 0, w: ui.button_width + 8, h: y, z: z - 1,\n    });\n\n\n    x = game_width - w + 4;\n    y = w - ui.button_height;\n\n    if (ui.buttonText({ x, y, z, w: ui.button_height, text: '-' }) ||\n      input.keyDownEdge(KEYS.MINUS) || input.keyDownEdge(KEYS.Q)\n    ) {\n      use_mouse_pos = false;\n      doZoom(0.5, 0.5, -1);\n    }\n    x += ui.button_height + 2;\n    const SLIDER_W = 110;\n    let new_zoom = ui.slider(target_zoom_level, { x, y, z, w: SLIDER_W, min: 0, max: MAX_ZOOM });\n    if (abs(new_zoom - target_zoom_level) > 0.000001) {\n      doZoom(0.5, 0.5, new_zoom - target_zoom_level);\n    }\n    x += SLIDER_W + 2;\n    if (ui.buttonText({ x, y, z, w: ui.button_height, text: '+' }) ||\n      input.keyDownEdge(KEYS.EQUALS) ||\n      input.keyDownEdge(KEYS.E)\n    ) {\n      use_mouse_pos = false;\n      doZoom(0.5, 0.5, 1);\n    }\n    x += ui.button_height + 2;\n    let mouse_wheel = input.mouseWheel();\n    if (mouse_wheel) {\n      use_mouse_pos = true;\n      input.mousePos(mouse_pos);\n      doZoom((mouse_pos[0] - map_x0) / w, (mouse_pos[1] - map_y0) / w, mouse_wheel*0.25);\n    }\n\n    zoomTick();\n    let zoom = pow(2, zoom_level);\n    let zoom_text_y = floor(y + (ui.button_height - ui.font_height)/2);\n    let zoom_text_w = ui.print(null, x, zoom_text_y, z,\n      `${zoom.toFixed(0)}X`);\n    ui.drawRect(x - 2, zoom_text_y, x + zoom_text_w + 2, zoom_text_y + ui.font_height, z - 1, color_text_backdrop);\n\n    x = game_width - w;\n    // y -= ui.font_height;\n    // ui.print(null, x+2, y, z, `Offset: ${round4(zoom_offs[0])},${round4(zoom_offs[1])}`);\n\n    let legend_scale = 0.25;\n    let legend_x0 = game_width - w*legend_scale - 2;\n    let legend_x1 = game_width - 4;\n    y = w;\n    ui.drawLine(legend_x0 - 0.5, y - 4.5, legend_x1 + 0.5, y - 4.5, z, 1, 1, unit_vec);\n    ui.drawLine(legend_x0 - 0.5, y - 7, legend_x0 - 0.5, y - 2, z, 1, 1, unit_vec);\n    ui.drawLine(legend_x1 + 0.5, y - 7, legend_x1 + 0.5, y - 2, z, 1, 1, unit_vec);\n    let ly = legend_scale * params.width_ly / zoom;\n    let legend_y = y - 6 - ui.font_height;\n    font.drawSizedAligned(null, legend_x0, legend_y, z, ui.font_height, font.ALIGN.HCENTER, legend_x1 - legend_x0, 0,\n      `${format(ly)}ly`);\n    ui.drawRect(legend_x0 - 2, legend_y, legend_x1 + 2, y, z - 1, color_text_backdrop);\n\n    x = map_x0;\n    y = map_y0;\n\n    v2set(drag_temp, 0, 0);\n    let kb_scale = input.keyDown(KEYS.SHIFT) ? 0.5 : 0.125;\n    drag_temp[0] += input.keyDown(KEYS.A) * kb_scale;\n    drag_temp[0] -= input.keyDown(KEYS.D) * kb_scale;\n    drag_temp[1] += input.keyDown(KEYS.W) * kb_scale;\n    drag_temp[1] -= input.keyDown(KEYS.S) * kb_scale;\n    let drag = input.drag();\n    if (drag && drag.delta) {\n      v2add(drag_temp, drag_temp, drag.delta);\n      use_mouse_pos = true;\n    }\n    if (drag_temp[0] || drag_temp[1]) {\n      zoom_offs[0] -= drag_temp[0] / w / zoom;\n      zoom_offs[1] -= drag_temp[1] / w / zoom;\n      local_storage.setJSON('offsx', zoom_offs[0]);\n      local_storage.setJSON('offsy', zoom_offs[1]);\n    }\n    zoom_offs[0] = clamp(zoom_offs[0], -1/zoom, 1);\n    zoom_offs[1] = clamp(zoom_offs[1], -1/zoom, 1);\n\n    if (input.mouseMoved()) {\n      use_mouse_pos = true;\n    }\n    if (use_mouse_pos) {\n      input.mousePos(mouse_pos);\n    } else {\n      mouse_pos[0] = map_x0 + w/2;\n      mouse_pos[1] = map_y0 + w/2;\n    }\n    mouse_pos[0] = zoom_offs[0] + (mouse_pos[0] - map_x0) / w / zoom;\n    mouse_pos[1] = zoom_offs[1] + (mouse_pos[1] - map_y0) / w / zoom;\n\n    let overlay_y = 0;\n    let overlay_x = map_x0 + 2;\n    let overlay_w = 0;\n    function overlayText(line) {\n      let textw = ui.print(null, overlay_x, overlay_y, z, line);\n      overlay_w = max(overlay_w, textw);\n      overlay_y += ui.font_height;\n    }\n    if (0) {\n      overlayText(`${use_mouse_pos?'Mouse':'Target'}: ${mouse_pos[0].toFixed(9)},${mouse_pos[1].toFixed(9)}`);\n    }\n    function highlightCell(cell) {\n      let xp = x + (cell.x0 - zoom_offs[0]) * zoom * w;\n      let yp = y + (cell.y0 - zoom_offs[1]) * zoom * w;\n      let wp = w * zoom * cell.w;\n      let hp = w * zoom * cell.h;\n      if (view === 1) {\n        xp = round(xp);\n        yp = round(yp);\n        hp = round(hp);\n        wp = round(wp);\n      }\n      if (engine.defines.CELL) {\n        ui.drawHollowRect2({\n          x: xp - 0.5,\n          y: yp - 0.5,\n          w: wp + 1,\n          h: hp + 1,\n          z: Z.UI - 8,\n          color: color_highlight,\n        });\n        overlayText(`Layer ${cell.layer_idx}, Cell ${cell.cell_idx} (${cell.cx},${cell.cy})`);\n        overlayText(`Stars: ${format(cell.star_count)}`);\n        if (cell.pois.length) {\n          overlayText(`POIs: ${cell.pois.length}`);\n        }\n      }\n\n      if (engine.defines.CURSOR) {\n        let dx = floor((mouse_pos[0] - cell.x0) / cell.w * galaxy.buf_dim);\n        let dy = floor((mouse_pos[1] - cell.y0) / cell.w * galaxy.buf_dim);\n        let dd = cell.data[dy * galaxy.buf_dim + dx];\n        overlayText(`Value: ${dd.toFixed(5)}`);\n      }\n    }\n\n    let did_highlight = false;\n    function checkCellHighlight(cell) {\n      if (cell.ready && !did_highlight &&\n        mouse_pos[0] >= cell.x0 && mouse_pos[0] < cell.x0 + cell.w &&\n        mouse_pos[1] >= cell.y0 && mouse_pos[1] < cell.y0 + cell.h\n      ) {\n        did_highlight = true;\n        highlightCell(cell);\n      }\n    }\n\n    cells_drawn = 0;\n    function drawCell(alpha, parent, cell) {\n      ++cells_drawn;\n      let qx = cell.cx - parent.cx * LAYER_STEP;\n      let qy = cell.cy - parent.cy * LAYER_STEP;\n      let draw_param = {\n        x: x + (cell.x0 - zoom_offs[0]) * zoom * w,\n        y: y + (cell.y0 - zoom_offs[1]) * zoom * w,\n        w: w * zoom * cell.w,\n        h: w * zoom * cell.h,\n        z: Z.UI - 10,\n        nozoom: true,\n      };\n      let partial = false;\n      if (!parent.tex) {\n        if (!cell.tex) {\n          return;\n        }\n        alpha = 1;\n        partial = true;\n      } else if (!cell.tex) {\n        alpha = 0;\n        partial = true;\n      }\n      draw_param.shader = view === 1 ? shader_galaxy_pixel : shader_galaxy_blend;\n      draw_param.shader_params = {\n        params: [alpha ? buf_dim : buf_dim / LAYER_STEP, params.dither],\n        scale: [qx/LAYER_STEP, qy/LAYER_STEP, 1/LAYER_STEP, alpha],\n      };\n      let texs = cell.texs;\n      if (!texs) {\n        texs = [cell.tex || white_tex, parent.tex || white_tex, tex_palette];\n        if (!partial) {\n          cell.texs = texs;\n        }\n      }\n      debug_sprite.texs = texs;\n      debug_sprite.draw(draw_param);\n    }\n    function drawLevel(layer_idx, alpha, do_highlight) {\n      let gal_x0 = (camera2d.x0Real() - map_x0) / w / zoom + zoom_offs[0];\n      let gal_x1 = (camera2d.x1Real() - map_x0) / w / zoom + zoom_offs[0];\n      let gal_y0 = (camera2d.y0Real() - map_y0) / w / zoom + zoom_offs[1];\n      let gal_y1 = (camera2d.y1Real() - map_y0) / w / zoom + zoom_offs[1];\n      let layer_res = pow(LAYER_STEP, layer_idx);\n      let layer_x0 = max(0, floor(gal_x0 * layer_res));\n      let layer_x1 = min(layer_res - 1, floor(gal_x1 * layer_res));\n      let layer_y0 = max(0, floor(gal_y0 * layer_res));\n      let layer_y1 = min(layer_res - 1, floor(gal_y1 * layer_res));\n      let pres = pow(LAYER_STEP, layer_idx - 1);\n      for (let cy = layer_y0; cy <= layer_y1; ++cy) {\n        for (let cx = layer_x0; cx <= layer_x1; ++cx) {\n          let cell = galaxy.getCellTextured(layer_idx, cy * layer_res + cx);\n          let px = floor(cx / LAYER_STEP);\n          let py = floor(cy / LAYER_STEP);\n          let parent = galaxy.getCellTextured(layer_idx - 1, py * pres + px);\n\n          drawCell(alpha, parent, cell);\n\n          if (do_highlight) {\n            checkCellHighlight(cell);\n          } else {\n            checkCellHighlight(parent);\n          }\n        }\n      }\n    }\n    const blend_range = 1;\n    let draw_level = max(0, (zoom_level - 1) / (LAYER_STEP/2) + blend_range/2);\n    let level0 = floor(draw_level);\n    let extra = min((draw_level - level0) / blend_range, 1);\n    if (!extra && level0) {\n      level0--;\n      extra = 1;\n    }\n    drawLevel(level0 + 1, extra, Boolean(extra));\n\n    if (zoom_level >= 12) {\n      let star = galaxy.starsNear(mouse_pos[0], mouse_pos[1], 1);\n      star = star && star[0];\n      if (star && sqrt(distSq(star.x, star.y, mouse_pos[0], mouse_pos[1])) * zoom * w > 40) {\n        star = null;\n      }\n      if (star) {\n        overlayText(`Star #${star.id}, seed=${star.seed}`);\n        let max_zoom = pow(2, MAX_ZOOM);\n        let xp = floor(star.x * max_zoom * buf_dim);\n        let yp = floor(star.y * max_zoom * buf_dim);\n        xp = x + (xp*zoom/max_zoom/buf_dim - zoom_offs[0] * zoom) * w;\n        yp = y + (yp*zoom/max_zoom/buf_dim - zoom_offs[1] * zoom) * w;\n        if (view === 1) {\n          xp = round(xp);\n          yp = round(yp);\n        }\n        let r = 4 / (1 + MAX_ZOOM - zoom_level);\n        ui.drawHollowCircle(xp + 0.5, yp + 0.5, Z.UI - 5, r, 0.5, [1,1,0,1], BLEND_ADDITIVE);\n\n        galaxy.getStarData(star);\n        let solar_system = star.solar_system;\n        if (solar_system) {\n          let { planets, star_data } = solar_system;\n          overlayText(`  Star Type: ${star_data.label}`);\n          for (let ii = 0; ii < planets.length; ++ii) {\n            let planet = planets[ii];\n            overlayText(`    Planet #${ii+1}: Class ${planet.type.name}, R=${round(planet.size)}`);\n          }\n          if (zoom_level > 15.5) {\n            drawSolarSystem(solar_system, map_x0, map_y0, Z.UI - 1, w, w);\n          }\n        }\n      }\n    }\n\n    ui.drawRect(overlay_x - 2, 0, overlay_x + overlay_w + 2, overlay_y, z - 1, color_text_backdrop);\n  }\n\n  function testInit(dt) {\n    engine.setState(test);\n    test(dt);\n  }\n\n  engine.setState(testInit);\n}\n","/*eslint global-require:off*/\nconst local_storage = require('./glov/local_storage.js');\nlocal_storage.storage_prefix = 'glovjs-multiplayer'; // Before requiring anything else that might load from this\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./glov/cmds.js');\nconst engine = require('./glov/engine.js');\nconst glov_font = require('./glov/font.js');\nconst input = require('./glov/input.js');\nconst { atan2, random } = Math;\nconst net = require('./glov/net.js');\nconst net_position_manager = require('./glov/net_position_manager.js');\nconst particles = require('./glov/particles.js');\nconst shaders = require('./glov/shaders.js');\nconst { soundLoad, soundPlay } = require('./glov/sound.js');\nconst glov_sprites = require('./glov/sprites.js');\nconst sprite_animation = require('./glov/sprite_animation.js');\nconst ui = require('./glov/ui.js');\nconst { toNumber } = require('../common/util.js');\n\nconst particle_data = require('./particle_data.js');\nconst { vec2, vec3, v2sub, vec4, v4copy } = require('./glov/vmath.js');\n\nwindow.Z = window.Z || {};\nZ.BACKGROUND = 1;\nZ.SPRITES = 10;\nZ.PARTICLES = 20;\n\nlet app = exports;\nwindow.app = app; // for debugging\n\nconst pos_manager = net_position_manager.create({ n: 3, dim_pos: 2, dim_rot: 1 });\n\nconst ROOM_REQUIRES_LOGIN = true;\n\n// Virtual viewport for our game logic\nexport const game_width = 1280;\nexport const game_height = 960;\n\nexport let sprites = {};\n\ncmd_parse.register({\n  cmd: 'bin_get',\n  func: function (str, resp_func) {\n    app.chat_ui.channel.pak('bin_get').send(function (err, pak) {\n      if (err) {\n        return void resp_func(err);\n      }\n      resp_func(null, pak.readBuffer(false).join(','));\n    });\n  },\n});\n\ncmd_parse.register({\n  cmd: 'bin_set',\n  func: function (str, resp_func) {\n    let pak = app.chat_ui.channel.pak('bin_set');\n    pak.writeBuffer(new Uint8Array(str.split(' ').map(toNumber)));\n    pak.send(resp_func);\n  },\n});\n\nexport function main() {\n  net.init({\n    engine,\n    cmd_parse,\n    auto_create_user: false,\n  });\n\n  if (!engine.startup({\n    game_width,\n    game_height,\n    pixely: false,\n    font: {\n      info: require('./img/font/palanquin32.json'),\n      texture: 'font/palanquin32',\n    },\n    safearea_ignore_bottom: true, // We keep the chat button out of the bottom center safe area trouble spot\n    ui_sounds: {\n      msg_err: 'msg_err',\n      msg_in: 'msg_in',\n      msg_out: 'msg_out',\n      msg_out_err: 'msg_out_err',\n      user_join: 'user_join',\n      user_leave: 'user_leave',\n    },\n  })) {\n    return;\n  }\n\n  const test_shader = shaders.create('shaders/test.fp');\n\n  // const font = engine.font;\n\n\n  const createSprite = glov_sprites.create;\n  const createAnimation = sprite_animation.create;\n\n  app.account_ui = require('./account_ui.js').create();\n  app.chat_ui = require('./glov/chat_ui.js').create({ max_len: 1000 });\n\n  const color_white = vec4(1, 1, 1, 1);\n  const color_gray = vec4(0.5, 0.5, 0.5, 1);\n  const color_red = vec4(1, 0, 0, 1);\n  const color_yellow = vec4(1, 1, 0, 1);\n\n  // Cache KEYS\n  const KEYS = input.KEYS;\n  const PAD = input.PAD;\n\n  const sprite_size = 64;\n  function initGraphics() {\n    particles.preloadParticleData(particle_data);\n\n    soundLoad('test');\n\n    sprites.white = createSprite({ url: 'white' });\n\n    sprites.test = createSprite({\n      name: 'test',\n      size: vec2(sprite_size, sprite_size),\n      origin: vec2(0.5, 0.5),\n    });\n    sprites.test_tint = createSprite({\n      name: 'tinted',\n      ws: [16, 16, 16, 16],\n      hs: [16, 16, 16],\n      size: vec2(sprite_size, sprite_size),\n      layers: 2,\n      origin: vec2(0.5, 0.5),\n    });\n    sprites.animation = createAnimation({\n      idle_left: {\n        frames: [0,1],\n        times: [200, 500],\n      },\n      idle_right: {\n        frames: [3,2],\n        times: [200, 500],\n      },\n    });\n    sprites.animation.setState('idle_left');\n\n    sprites.game_bg = createSprite({\n      url: 'white',\n      size: vec2(game_width, game_height),\n    });\n  }\n\n\n  let test_room;\n  let test;\n\n  function playerMotion(dt) {\n    // Network send\n    if (pos_manager.checkNet((pos) => {\n      test.character.x = pos[0];\n      test.character.y = pos[1];\n      test.character.rot = pos[2];\n    })) {\n      return;\n    }\n\n    test.character.dx = 0;\n    test.character.dx -= input.keyDown(KEYS.LEFT) + input.keyDown(KEYS.A) + input.padButtonDown(PAD.LEFT);\n    test.character.dx += input.keyDown(KEYS.RIGHT) + input.keyDown(KEYS.D) + input.padButtonDown(PAD.RIGHT);\n    test.character.dy = 0;\n    test.character.dy -= input.keyDown(KEYS.UP) + input.keyDown(KEYS.W) + input.padButtonDown(PAD.UP);\n    test.character.dy += input.keyDown(KEYS.DOWN) + input.keyDown(KEYS.S) + input.padButtonDown(PAD.DOWN);\n    if (test.character.dx < 0) {\n      sprites.animation.setState('idle_left');\n    } else if (test.character.dx > 0) {\n      sprites.animation.setState('idle_right');\n    }\n\n    test.character.x += test.character.dx * 0.2;\n    test.character.y += test.character.dy * 0.2;\n    let bounds = {\n      x: test.character.x - sprite_size/2,\n      y: test.character.y - sprite_size/2,\n      w: sprite_size,\n      h: sprite_size,\n    };\n    if (input.mouseDown(bounds)) {\n      v4copy(test.color_sprite, color_yellow);\n    } else if (input.click(bounds)) {\n      v4copy(test.color_sprite, (test.color_sprite[2] === 0) ? color_white : color_red);\n      soundPlay('test');\n    } else if (input.mouseOver(bounds)) {\n      v4copy(test.color_sprite, color_white);\n      test.color_sprite[3] = 0.5;\n    } else {\n      v4copy(test.color_sprite, color_white);\n      test.color_sprite[3] = 1;\n    }\n\n    let aim = v2sub(vec2(), input.mousePos(), [test.character.x, test.character.y]);\n    test.character.rot = atan2(aim[0], -aim[1]);\n\n    // Network send\n    pos_manager.updateMyPos(new Float64Array([test.character.x, test.character.y, test.character.rot]), 'idle');\n  }\n\n  function getRoom() {\n    if (!test_room) {\n      test_room = net.subs.getChannel('test.test', true);\n      pos_manager.reinit({\n        channel: test_room,\n        default_pos: vec3(\n          (random() * (game_width - sprite_size) + (sprite_size * 0.5)),\n          (random() * (game_height - sprite_size) + (sprite_size * 0.5)),\n          0\n        ),\n      });\n      app.chat_ui.setChannel(test_room);\n    }\n  }\n\n  function preLogout() {\n    if (test_room) {\n      assert(test_room.subscriptions);\n      net.subs.unsubscribe(test_room.channel_id);\n      app.chat_ui.setChannel(null);\n      test_room = null;\n      if (!ROOM_REQUIRES_LOGIN) {\n        setTimeout(getRoom, 1);\n      }\n    }\n  }\n\n  test = function (dt) {\n    // Allow focusing the canvas, and before chat.\n    ui.focusCheck('canvas');\n\n    app.chat_ui.run(dt);\n    app.account_ui.showLogin({\n      x: 0, y: 0,\n      prelogout: preLogout, center: false,\n      style: glov_font.style(null, {\n        outline_width: 2,\n        outline_color: 0xFFFFFFff,\n        color: 0x000000ff,\n      }),\n    });\n\n    if (!test.color_sprite) {\n      test.color_sprite = v4copy(vec4(), color_white);\n      test.character = { x: 0, y: 0, rot: 0 };\n    }\n\n    if (test_room && test_room.subscriptions) {\n      playerMotion(dt);\n\n      sprites.game_bg.draw({\n        x: 0, y: 0, z: Z.BACKGROUND,\n        color: [0.5, 0.6, 0.7, 1],\n        shader: test_shader,\n        shader_params: {\n          params: [1.0, 1.0, 1.0, engine.getFrameTimestamp() * 0.0005 % 1000],\n        },\n      });\n\n      sprites.test_tint.drawDualTint({\n        x: test.character.x,\n        y: test.character.y,\n        z: Z.SPRITES,\n        rot: test.character.rot,\n        color: [1, 1, 0, 1],\n        color1: [1, 0, 1, 1],\n        size: [sprite_size, sprite_size],\n        frame: sprites.animation.getFrame(dt),\n      });\n\n      // Draw other users\n      let room_clients = test_room.getChannelData('public.clients', {});\n      for (let client_id in room_clients) {\n        let other_client = room_clients[client_id];\n        if (other_client.pos && other_client.ids) {\n          let pcd = pos_manager.updateOtherClient(client_id, dt);\n          if (pcd) {\n            let pos = pcd.pos;\n            sprites.test.draw({\n              x: pos[0], y: pos[1], z: Z.SPRITES - 1,\n              rot: pos[2],\n              color: color_gray,\n            });\n            ui.font.drawSizedAligned(glov_font.styleColored(null, 0x00000080),\n              pos[0], pos[1] - 64, Z.SPRITES - 1,\n              ui.font_height, glov_font.ALIGN.HCENTER, 0, 0,\n              other_client.ids.display_name || `client_${client_id}`);\n          }\n        }\n      }\n    }\n\n    app.chat_ui.runLate(dt);\n  };\n\n  function testInit(dt) {\n    engine.setState(test);\n    if (!ROOM_REQUIRES_LOGIN) {\n      getRoom();\n    }\n\n    net.subs.onLogin(getRoom);\n\n    test(dt);\n  }\n\n  initGraphics();\n  engine.setState(testInit);\n}\n","export let defs = {};\n\ndefs.explosion = {\n  particles: {\n    part0: {\n      blend: 'alpha',\n      texture: 'particles/circle64',\n      color: [1,1,1,1], // multiplied by animation track, default 1,1,1,1, can be omitted\n      color_track: [\n        // just values, NOT random range\n        { t: 0.0, v: [1,1,1,0] },\n        { t: 0.2, v: [1,1,1,1] },\n        { t: 0.4, v: [1,1,0.5,0.5] },\n        { t: 1.0, v: [1,0,0,0] },\n      ],\n      size: [[48,8], [48,8]], // multiplied by animation track\n      size_track: [\n        // just values, NOT random range\n        { t: 0.0, v: [1,1] },\n        { t: 0.2, v: [2,2] },\n        { t: 0.4, v: [1,1] },\n        { t: 1.0, v: [1.5,1.5] },\n      ],\n      accel: [0,0,0],\n      rot: [0,360], // degrees\n      rot_vel: [10,2], // degrees per second\n      lifespan: [2500,0], // milliseconds\n      kill_time_accel: 5,\n    },\n  },\n  emitters: {\n    part0: {\n      particle: 'part0',\n      // Random ranges affect each emitted particle:\n      pos: [[-16,32], [-16,32], 0],\n      vel: [0,0,0],\n      emit_rate: [15,0], // emissions per second\n      // Random ranges only calculated upon instantiation:\n      emit_time: [0,1000],\n      emit_initial: 10,\n      max_parts: Infinity,\n    },\n  },\n  system_lifespan: 2500,\n};\n","const { PI } = Math;\nconst { randCreate, mashString } = require('./glov/rand_alea.js');\nconst { starTypeData, starTypeFromID } = require('./star_types.js');\nconst { vec4 } = require('./glov/vmath.js');\n\nlet rand = [\n  randCreate(0),\n  randCreate(0),\n  randCreate(0),\n  randCreate(0),\n];\n\nlet planet_types = [\n  // Class D (planetoid or moon with little to no atmosphere)\n  { name: 'D', color: vec4(0.7,0.7,0.7,1) },\n  // Class H (generally uninhabitable)\n  { name: 'H', color: vec4(0.3,0.4,0.5,1) },\n  // Class J (gas giant)\n  { name: 'J', color: vec4(0.9,0.6,0,1) },\n  // Class K (habitable, as long as pressure domes are used)\n  { name: 'K', color: vec4(0.5,0.3,0.2,1) },\n  // Class L (marginally habitable, with vegetation but no animal life)\n  { name: 'L', color: vec4(0.3,0.7,0.3,1) },\n  // Class M (terrestrial)\n  { name: 'M', color: vec4(0,1,0,1) },\n  // Class N (sulfuric)\n  { name: 'N', color: vec4(0.6,0.6,0,1) },\n  // Class P (glacial)\n  { name: 'P', color: vec4(0.5,0.7,1,1) },\n  // Class R (a rogue planet, not as habitable as a terrestrial planet)\n  { name: 'R', color: vec4(0.2,0.3,0.2,1) },\n  // Class T (gas giant)\n  { name: 'T', color: vec4(0.6,0.9,0,1) },\n  // Class Y (toxic atmosphere, high temperatures)\n  { name: 'Y', color: vec4(1,0.3,0,1) },\n];\n\nfunction randExp(idx, min, max) {\n  let v = rand[idx].random();\n  v *= v;\n  return min + (max - min) * v;\n}\n\nfunction genPlanet() {\n  return {\n    type: planet_types[rand[2].range(planet_types.length)],\n    size: randExp(3, 4, 20),\n    orbit: rand[0].floatBetween(0, PI*2),\n    orbit_speed: randExp(1, 0.1, 1),\n  };\n}\n\nfunction cmpSize(a, b) {\n  return a.size - b.size;\n}\n\nfunction SolarSystem(global_seed, star) {\n  let { /*x, y,*/ id } = star;\n  let classif = starTypeFromID(id);\n  let star_data = starTypeData(classif);\n  this.star_data = star_data;\n  for (let ii = 0; ii < rand.length; ++ii) {\n    rand[ii].reseed(mashString(`${id}_${global_seed}_${ii}`));\n  }\n  let num_planets = rand[0].range(4);\n  let chance = 0.5;\n  let planets = [];\n  while (num_planets) {\n    planets.push(genPlanet());\n    --num_planets;\n    if (!num_planets) {\n      if (rand[1].random() < chance) {\n        ++num_planets;\n        chance *= 0.9;\n      }\n    }\n  }\n  // split in two, sort by size, put bigger in the middle\n  let p1 = [];\n  let p2 = [];\n  for (let ii = 0; ii < planets.length; ++ii) {\n    if (rand[0].range(2)) {\n      p1.push(planets[ii]);\n    } else {\n      p2.push(planets[ii]);\n    }\n  }\n  p1.sort(cmpSize);\n  p2.sort(cmpSize).reverse();\n  this.planets = p1.concat(p2);\n}\n\nexport function solarSystemCreate(global_seed, star) {\n  return new SolarSystem(global_seed, star);\n}\n","/* eslint no-multi-spaces:off, key-spacing:off */\nconst assert = require('assert');\nconst engine = require('./glov/engine.js');\nconst { mashI53 } = require('./glov/rand_alea.js');\nconst { vec4 } = require('./glov/vmath.js');\n\nconst colors = [\n  vec4(0.816,1,1,1),\n  vec4(0.98,0.204,0,1),\n  vec4(1,0.467,0,1),\n  vec4(1,1,0.408,1), // G\n  vec4(1,1,0.8,1),\n  vec4(0.922,1,1,1),\n  vec4(0.875,1,1,1),\n  vec4(0.816,1,1,1),\n];\n\n// From http://www.atlasoftheuniverse.com/startype.html\n// label, odds, color index, astro_radius, mass, luminosity, game_radius\nconst sg_scale = 0.001 / (0.001 + 0.1 + 0.7 + 2 + 3.5 + 8 + 80);\nconst star_types = (function () {\n  let raw = {\n    O:   ['O',            0.001,          7,    10,  50,  100000, 30],\n    B:   ['B',            0.1,            6,     5,  10,    1000, 25],\n    A:   ['A',            0.7,            5,   1.7,   2,      20, 23],\n    F:   ['F',            2,              4,   1.3, 1.5,       4, 22],\n    G:   ['G',            3.5,            3,     1,   1,       1, 21],\n    K:   ['K',            8,              2,   0.8, 0.7,     0.2, 20],\n    M:   ['M',            80,             1,   0.3, 0.2,    0.01, 18],\n    gG:  ['Giant G',      0.4*(4/92),     3,    50,   5,    1000, 36],\n    gK:  ['Giant K',      0.4*(8/92),     2,    20, 3.5,     400, 33],\n    gM:  ['Giant M',      0.4*(80/92),    1,    10,   1,      50, 30],\n    D:   ['White Dwarf',  5,              6,  0.01, 1.4,    0.01,  6],\n    sgO: ['Supergiant O', sg_scale * 0.001, 7, 500,  70, 1000000, 40],\n    sgB: ['Supergiant B', sg_scale * 0.1, 6,   300,  60,   82000, 37],\n    sgA: ['Supergiant A', sg_scale * 0.7, 5,   120,  50,   60000, 35],\n    sgF: ['Supergiant F', sg_scale * 2,   4,   100,  35,   50000, 34],\n    sgG: ['Supergiant G', sg_scale * 3.5, 3,    80,  16,   44000, 33],\n    sgK: ['Supergiant K', sg_scale * 8,   2,    72,  12,   38000, 32],\n    sgM: ['Supergiant M', sg_scale * 80,  1,    30,  10,   30000, 30],\n  };\n  let ret = {};\n  for (let key in raw) {\n    let rd = raw[key];\n    ret[key] = {\n      label: rd[0],\n      odds: rd[1],\n      hue: rd[2],\n      color: colors[rd[2]],\n      astro_radius: rd[3],\n      mass: rd[4],\n      lumin: rd[5],\n      game_radius: rd[6],\n    };\n  }\n  return ret;\n}());\nconst star_types_total = (function () {\n  let ret = 0;\n  for (let key in star_types) {\n    ret += star_types[key].odds;\n  }\n  return ret;\n}());\n\nfunction starType(choice) {\n  choice *= star_types_total;\n  for (let key in star_types) {\n    choice -= star_types[key].odds;\n    if (choice <= 0) {\n      return key;\n    }\n  }\n  assert(!engine.DEBUG);\n  return 'M';\n}\n\nexport function starTypeFromID(id) {\n  return starType(mashI53(id));\n}\n\nexport function hueFromID(id) {\n  return star_types[starType(mashI53(id))].hue\n}\n\nexport function starTypeData(key) {\n  return star_types[key];\n}\n\nexport function hueFromType(key) {\n  return star_types[key].hue;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\nconst assert = require('assert');\nconst { isPacket } = require('./packet.js');\n\nexport function ackInitReceiver(receiver) {\n  receiver.last_pak_id = 0;\n  receiver.resp_cbs = {};\n  receiver.responses_waiting = 0;\n}\n\nconst ERR_FAILALL_DISCONNECT = 'ERR_FAILALL_DISCONNECT';\n\nconst ACKFLAG_IS_RESP = 1<<3;\nconst ACKFLAG_ERR = 1<<4;\nconst ACKFLAG_DATA_JSON = 1<<5;\n// `receiver` is really the sender, here, but will receive any response\nexport function ackWrapPakStart(pak, receiver, msg) {\n  let flags = 0;\n\n  pak.ack_data = {\n    receiver,\n  };\n\n  if (typeof msg === 'number') {\n    flags |= ACKFLAG_IS_RESP;\n    pak.writeInt(msg);\n  } else {\n    pak.writeAnsiString(msg);\n  }\n  let resp_pak_id = receiver ? ++receiver.last_pak_id : 0;\n  pak.ack_data.resp_pak_id = resp_pak_id;\n  pak.ack_data.resp_pak_id_offs = pak.getOffset();\n  pak.writeInt(resp_pak_id);\n\n  pak.ack_data.data_offs = pak.getOffset();\n  pak.ack_data.flags = flags;\n}\n\nexport function ackWrapPakPayload(pak, data) {\n  if (isPacket(data)) {\n    pak.appendRemaining(data);\n  } else {\n    pak.ack_data.flags |= ACKFLAG_DATA_JSON;\n    pak.writeJSON(data);\n  }\n}\n\nexport function ackWrapPakFinish(pak, err, resp_func) {\n  let flags = pak.ack_data.flags;\n  let offs = pak.getOffset();\n  if (err) {\n    // Nothing else must have been written\n    assert.equal(pak.ack_data.data_offs, offs);\n    flags |= ACKFLAG_ERR;\n    pak.writeString(String(err));\n    offs = pak.getOffset();\n  }\n  pak.makeReadable();\n  let resp_pak_id = 0;\n  if (resp_func && resp_func.expecting_response !== false) {\n    resp_pak_id = pak.ack_data.resp_pak_id;\n    assert(resp_pak_id);\n    assert(pak.ack_data.receiver);\n    pak.ack_data.receiver.resp_cbs[resp_pak_id] = resp_func;\n  } else {\n    pak.seek(pak.ack_data.resp_pak_id_offs);\n    pak.zeroInt();\n    pak.seek(offs);\n  }\n  pak.updateFlags(flags);\n  delete pak.ack_data;\n  return resp_pak_id;\n}\n\nexport function ackReadHeader(pak) {\n  let flags = pak.getFlags();\n  let msg = (flags & ACKFLAG_IS_RESP) ? pak.readInt() : pak.readAnsiString();\n  let pak_id = pak.readInt();\n  let err = (flags & ACKFLAG_ERR) ? pak.readString() : undefined;\n  let data;\n  if (flags & ACKFLAG_DATA_JSON) {\n    data = pak.readJSON();\n  } else {\n    data = pak;\n  }\n  return {\n    msg,\n    err,\n    data,\n    pak_id,\n  };\n}\n\nexport function failAll(receiver, err) {\n  err = err || ERR_FAILALL_DISCONNECT;\n  let cbs = receiver.resp_cbs;\n  receiver.resp_cbs = {};\n  receiver.responses_waiting = 0;\n  for (let pak_id in cbs) {\n    cbs[pak_id](err);\n  }\n}\n\n// `source` is a string for debug/logging only\n// `receiver` needs initReceicver called on it, have .onError() in the prototype and optionally .log()\n// sendFunc(msg, err, data, resp_func)\n// handleFunc(msg, data, resp_func)\n// eslint-disable-next-line consistent-return\nexport function ackHandleMessage(receiver, source, net_data_or_pak, send_func, pak_func, handle_func, filter_func) {\n  if (receiver.logPacketDispatch) {\n    receiver.logPacketDispatch(source, net_data_or_pak);\n  }\n  let net_data = isPacket(net_data_or_pak) ? ackReadHeader(net_data_or_pak) : net_data_or_pak;\n  let { err, data, msg, pak_id } = net_data;\n  let now = Date.now();\n  let expecting_response = Boolean(pak_id);\n  let timeout_id;\n  if (expecting_response) {\n    timeout_id = 'pending';\n  }\n  let sent_response = false;\n  let start_time = now;\n\n  if (filter_func && !filter_func(receiver, msg, data)) {\n    // Simply discard this message\n    return;\n  }\n\n  function preSendResp(err) {\n    assert(!sent_response, 'Response function called twice');\n    sent_response = true;\n\n    if (expecting_response) {\n      if (timeout_id) {\n        if (timeout_id !== 'pending') {\n          clearTimeout(timeout_id);\n        }\n      } else {\n        if (err === ERR_FAILALL_DISCONNECT) {\n          // this is the result of a failAll() call, a response was not actually sent!\n        } else {\n          (receiver.log ? receiver : console).log(`Response finally sent for ${msg\n          } after ${((Date.now() - start_time) / 1000).toFixed(1)}s`);\n        }\n      }\n      receiver.responses_waiting--;\n    }\n  }\n\n  function respFunc(err, resp_data, resp_func) {\n    preSendResp(err);\n    // the callback wants to send a response, and possibly get a response from that!\n    if (!expecting_response) {\n      // But, the other end is not expecting a response from this packet, black-hole it\n      if (resp_func) {\n        // We better not be expecting a response to our response!\n        receiver.onError(`Sending a response to a packet (${msg}) that did not expect` +\n          ' one, but we are expecting a response');\n        return;\n      }\n      // however, if there was an error, let's forward that along as an error message\n      if (err) {\n        send_func('error', null, err, null);\n      }\n      return;\n    }\n    send_func(pak_id, err, resp_data, resp_func);\n  }\n  respFunc.expecting_response = expecting_response;\n  respFunc.pak = function (ref_pak) {\n    assert(expecting_response);\n    let pak = pak_func(pak_id, ref_pak);\n    let orig_send = pak.send;\n    pak.send = function (err, resp_func) {\n      preSendResp(err);\n      orig_send.call(pak, err, resp_func);\n    };\n    return pak;\n  };\n\n  if (typeof msg === 'number') {\n    let cb = receiver.resp_cbs[msg];\n    if (!cb) {\n      return void receiver.onError(`Received response to unknown packet with id ${msg} from ${source}`);\n    }\n    delete receiver.resp_cbs[msg];\n    cb(err, data, respFunc);\n  } else {\n    if (!msg) {\n      return void receiver.onError(`Received message with no .msg from ${source}`);\n    }\n    handle_func(msg, data, respFunc);\n  }\n  if (expecting_response) {\n    // Note, this may be -1 if respFunc has already been called\n    receiver.responses_waiting++;\n    if (!sent_response && !respFunc.suppress_timeout) {\n      // timeout warning for response\n      timeout_id = setTimeout(function () {\n        timeout_id = null;\n        if (!respFunc.suppress_timeout) {\n          (receiver.log ? receiver : console).log(`Response not sent for ${msg\n          } from ${source} after ${((Date.now() - start_time) / 1000).toFixed(1)}s`);\n        }\n      }, 15*1000);\n    }\n  }\n}\n","const assert = require('assert');\n\n// Various async functions\n\n// Do *not* nextTick upon empty request, this causes different behavior when empty!\n// let nextTick = typeof process !== 'undefined' ?\n//   process.nextTick :\n//   window.setImmediate ? window.setImmediate : (fn) => setTimeout(fn, 1);\n\n// Derived from https://github.com/hughsk/async-series - MIT Licensed\nfunction series(arr, done) {\n  let length = arr.length;\n\n  if (!length) {\n    return void done(); // void nextTick(done);\n  }\n\n  function handleItem(idx) {\n    arr[idx](function (err) {\n      if (err) {\n        return done(err);\n      }\n      if (idx < length - 1) {\n        return handleItem(idx + 1);\n      }\n      return done();\n    });\n  }\n\n  handleItem(0);\n}\nexports.series = series;\n\n// Originally derived from https://github.com/feross/run-parallel-limit - MIT licensed\nfunction eachLimit(arr, limit, proc, done) {\n  assert.equal(typeof limit, 'number');\n  assert(Array.isArray(arr));\n  assert.equal(typeof proc, 'function');\n  assert.equal(typeof done, 'function');\n  let len = arr.length;\n  let pending = len;\n  let is_errored;\n\n  let next;\n  let results = [];\n  function doNext(idx, err, result) {\n    results[idx] = result;\n    if (err) {\n      is_errored = true;\n    }\n    if (--pending === 0 || err) {\n      if (done) {\n        done(err, results);\n      }\n      done = null;\n    } else if (!is_errored && next < len) {\n      let key = next++;\n      proc(arr[key], doNext.bind(null, key));\n    }\n  }\n\n  if (!pending) {\n    // empty\n    return void done(null, results); // void nextTick(done.bind(null, null, results));\n  }\n  next = limit;\n  for (let ii = 0; ii < arr.length && ii < limit; ++ii) {\n    proc(arr[ii], doNext.bind(null, ii));\n  }\n}\nexports.eachLimit = eachLimit;\n\nfunction each(arr, proc, done) {\n  eachLimit(arr, Infinity, proc, done);\n}\nexports.each = each;\n\nfunction parallelLimit(tasks, limit, done) {\n  eachLimit(tasks, limit, function (task, next) {\n    task(next);\n  }, done);\n}\nexports.parallelLimit = parallelLimit;\n\nfunction parallel(tasks, done) {\n  parallelLimit(tasks, Infinity, done);\n}\nexports.parallel = parallel;\n\nfunction limiter(max_parallel) {\n  let avail = max_parallel;\n  let head = null;\n  let tail = null;\n  function onFinish() {\n    if (!head) {\n      ++avail;\n      return;\n    }\n    let next = head;\n    head = head.next;\n    if (!head) {\n      tail = null;\n    }\n    next(onFinish);\n  }\n  return function limiterRun(exec) {\n    if (!avail) {\n      if (!head) {\n        head = tail = exec;\n      } else {\n        tail.next = exec;\n        tail = exec;\n      }\n      return;\n    }\n    --avail;\n    exec(onFinish);\n  };\n}\nexports.limiter = limiter;\n\nObject.keys(exports).forEach((key) => {\n  exports[`async${key[0].toUpperCase()}${key.slice(1)}`] = exports[key];\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n/* globals atob */\n\n// Encoding is fastest with non-native calls: http://jsperf.com/base64-encode\n// Decoding is fastest using window.btoa: http://jsperf.com/base64-decode\n\nconst { floor } = Math;\n\nconst chr_table = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\nconst PAD = '=';\n\n// dv is a DataView with a .u8 property\nfunction encode(dv, offset, length) {\n  let data = dv.u8;\n  let result = '';\n  let i;\n  let effi;\n  // Convert every three bytes to 4 ascii characters.\n  for (i = 0; i < (length - 2); i += 3) {\n    effi = offset + i;\n    result += chr_table[data[effi] >> 2];\n    result += chr_table[((data[effi] & 0x03) << 4) + (data[effi + 1] >> 4)];\n    result += chr_table[((data[effi + 1] & 0x0f) << 2) + (data[effi + 2] >> 6)];\n    result += chr_table[data[effi + 2] & 0x3f];\n  }\n\n  // Convert the remaining 1 or 2 bytes, pad out to 4 characters.\n  if (length % 3) {\n    i = length - (length % 3);\n    effi = offset + i;\n    result += chr_table[data[effi] >> 2];\n    if ((length % 3) === 2) {\n      result += chr_table[((data[effi] & 0x03) << 4) + (data[effi + 1] >> 4)];\n      result += chr_table[(data[effi + 1] & 0x0f) << 2];\n      result += PAD;\n    } else {\n      result += chr_table[(data[effi] & 0x03) << 4];\n      result += PAD + PAD;\n    }\n  }\n\n  return result;\n}\n\nfunction decodeNativeBrowser(data, allocator) {\n  let str = atob(data);\n  let len = str.length;\n  let dv = allocator(len);\n  let u8 = dv.u8;\n  for (let ii = 0; ii < len; ++ii) {\n    u8[ii] = str.charCodeAt(ii);\n  }\n  dv.decode_size = len;\n  return dv;\n}\n\nfunction encodeNativeNode(dv, offset, length) {\n  // Allocates a Buffer() object each time - could have our allocDataView do that if needed for perf\n  return Buffer.from(dv.buffer).toString('base64', offset, offset + length);\n}\n// Faster, but uses an internal function that might break:\n// function encodeNativeNode(dv, offset, length) {\n//   return Buffer.prototype.base64Slice.call(dv.u8, offset, offset + length);\n// }\n\nfunction decodeNativeNode(data, allocator) {\n  let buffer_len = (data.length >> 2) * 3 + floor((data.length % 4) / 1.5);\n  let dv = allocator(buffer_len);\n  let buffer = Buffer.from(dv.buffer);\n  dv.decode_size = buffer.write(data, 'base64');\n  return dv;\n}\n\nconst BROWSER = typeof window !== 'undefined';\n\n// string -> Uint8Array or Buffer\nexports.base64Decode = BROWSER ? decodeNativeBrowser : decodeNativeNode;\n// Uint8Array or Buffer -> string\nexports.base64Encode = BROWSER ? encode : encodeNativeNode;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { isInteger } = require('./util.js');\n\nexport function canonical(cmd) {\n  return cmd.toLowerCase().replace(/[_.]/g, '');\n}\n\nexport const TYPE_INT = 0;\nexport const TYPE_FLOAT = 1;\nexport const TYPE_STRING = 2;\nconst TYPE_NAME = ['INTEGER', 'NUMBER', 'STRING'];\n\nexport function defaultHandler(err, resp) {\n  if (err) {\n    console.error(err, resp);\n  } else {\n    console.info(resp);\n  }\n}\n\nfunction checkAccess(access, list) {\n  if (list) {\n    for (let ii = 0; ii < list.length; ++ii) {\n      if (!access || !access[list[ii]]) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nfunction CmdParse(params) {\n  this.cmds = {};\n  this.cmds_for_complete = this.cmds;\n  this.was_not_found = false;\n  this.storage = params && params.storage; // expects .setJSON(), .getJSON()\n  this.default_handler = defaultHandler;\n  this.register({\n    cmd: 'cmd_list',\n    func: this.cmdList.bind(this),\n    access_show: ['hidden'],\n  });\n}\nCmdParse.prototype.cmdList = function (str, resp_func) {\n  if (!this.cmd_list) {\n    let list = this.cmd_list = {};\n    for (let cmd in this.cmds) {\n      let cmd_data = this.cmds[cmd];\n      let access = []; // combine for data compaction\n      if (cmd_data.access_show) {\n        access = access.concat(cmd_data.access_show);\n      }\n      if (cmd_data.access_run) {\n        access = access.concat(cmd_data.access_run);\n      }\n      if (access.indexOf('hidden') !== -1) {\n        continue;\n      }\n      let data = {\n        name: cmd_data.name,\n        help: cmd_data.help,\n      };\n      if (cmd_data.usage) {\n        data.usage = cmd_data.usage;\n      }\n      if (access.length) {\n        data.access_show = access;\n      }\n      list[cmd] = data;\n    }\n  }\n  resp_func(null, this.cmd_list);\n};\n\nCmdParse.prototype.setDefaultHandler = function (fn) {\n  assert(this.default_handler === defaultHandler); // Should only set this once\n  this.default_handler = fn;\n};\nCmdParse.prototype.handle = function (self, str, resp_func) {\n  resp_func = resp_func || this.default_handler;\n  this.was_not_found = false;\n  let m = str.match(/^([^\\s]+)(?:\\s+(.*))?$/);\n  if (!m) {\n    resp_func('Missing command');\n    return true;\n  }\n  let cmd = canonical(m[1]);\n  let cmd_data = this.cmds[cmd];\n  if (cmd_data && !checkAccess(self && self.access, cmd_data.access_run)) {\n    // this.was_not_found = true;\n    resp_func(`Access denied: \"${m[1]}\"`);\n    return false;\n  }\n  if (!cmd_data) {\n    this.was_not_found = true;\n    resp_func(`Unknown command: \"${m[1]}\"`);\n    this.was_not_found = false;\n    return false;\n  }\n  cmd_data.fn.call(self, m[2] || '', resp_func);\n  return true;\n};\n\nCmdParse.prototype.register = function (param) {\n  assert.equal(typeof param, 'object');\n  let { cmd, func, help, usage, access_show, access_run } = param;\n  assert(cmd && func);\n  this.cmds[canonical(cmd)] = {\n    name: cmd,\n    fn: func,\n    help: help || '',\n    usage: usage || undefined,\n    access_show,\n    access_run,\n  };\n};\n\nCmdParse.prototype.registerValue = function (cmd, param) {\n  assert(TYPE_NAME[param.type] || !param.set);\n  assert(param.set || param.get);\n  let label = param.label || cmd;\n  let store = param.store && this.storage || false;\n  let store_key = `cmd_parse_${canonical(cmd)}`;\n  if (param.ver) {\n    store_key += `_${param.ver}`;\n  }\n  if (store) {\n    assert(param.set);\n    let init_value = this.storage.getJSON(store_key);\n    if (init_value !== undefined) {\n      // enforce stored values within current range\n      if (param.range) {\n        init_value = Number(init_value);\n        if (!isFinite(init_value) || init_value < param.range[0] || init_value > param.range[1]) {\n          init_value = undefined;\n        }\n      }\n      if (init_value !== undefined) {\n        param.set(init_value);\n      }\n    }\n  }\n  let fn = (str, resp_func) => {\n    function value() {\n      resp_func(null, `${label} = ${param.get()}`);\n    }\n    function usage() {\n      resp_func(`Usage: /${cmd} ${TYPE_NAME[param.type]}`);\n    }\n    if (!str) {\n      if (param.get) {\n        return value();\n      } else {\n        return usage();\n      }\n    }\n    if (!param.set) {\n      return resp_func(`Usage: /${cmd}`);\n    }\n    let n = Number(str);\n    if (param.range) {\n      if (n < param.range[0]) {\n        n = param.range[0];\n      } else if (n > param.range[1]) {\n        n = param.range[1];\n      }\n    }\n    let store_value = n;\n    if (param.type === TYPE_INT) {\n      if (!isInteger(n)) {\n        return usage();\n      }\n      param.set(n);\n    } else if (param.type === TYPE_FLOAT) {\n      if (!isFinite(n)) {\n        return usage();\n      }\n      param.set(n);\n    } else {\n      store_value = str;\n      param.set(str);\n    }\n    if (store) {\n      this.storage.setJSON(store_key, store_value);\n    }\n    if (param.on_change) {\n      param.on_change();\n    }\n    if (param.get) {\n      return value();\n    } else {\n      return resp_func(null, `${label} udpated`);\n    }\n  };\n  this.register({\n    cmd,\n    func: fn,\n    help: param.help || ((param.get && param.set) ?\n      `Set or display \"${label}\" value` :\n      param.set ? `Set \"${label}\" value` : `Display \"${label}\" value`),\n    usage: param.usage || ((param.get ? `Display \"${label}\" value\\n  Usage: /${cmd}\\n` : '') +\n      (param.set ? `Set \"${label}\" value\\n  Usage: /${cmd} NewValue` : '')),\n    access_show: param.access_show,\n    access_run: param.access_run,\n  });\n};\n\nfunction cmpCmd(a, b) {\n  if (a.cname < b.cname) {\n    return -1;\n  }\n  return 1;\n}\n\n// for auto-complete\nCmdParse.prototype.addServerCommands = function (new_cmds) {\n  let cmds = this.cmds_for_complete;\n  if (this.cmds_for_complete === this.cmds) {\n    cmds = this.cmds_for_complete = {};\n    for (let cname in this.cmds) {\n      cmds[cname] = this.cmds[cname];\n    }\n  }\n  for (let cname in new_cmds) {\n    if (!cmds[cname]) {\n      cmds[cname] = new_cmds[cname];\n    }\n  }\n};\n\nCmdParse.prototype.autoComplete = function (str, access) {\n  let list = [];\n  str = str.split(' ');\n  let first_tok = canonical(str[0]);\n  for (let cname in this.cmds_for_complete) {\n    if (str.length === 1 && cname.slice(0, first_tok.length) === first_tok ||\n      str.length > 1 && cname === first_tok\n    ) {\n      let cmd_data = this.cmds_for_complete[cname];\n      if (checkAccess(access, cmd_data.access_show) && checkAccess(access, cmd_data.access_run)) {\n        list.push({\n          cname,\n          cmd: cmd_data.name,\n          help: cmd_data.help,\n          usage: cmd_data.usage,\n        });\n      }\n    }\n  }\n  list.sort(cmpCmd);\n  return list; // .slice(0, 20); Maybe?\n};\n\nCmdParse.prototype.canonical = canonical;\n\nCmdParse.prototype.TYPE_INT = TYPE_INT;\nCmdParse.prototype.TYPE_FLOAT = TYPE_FLOAT;\nCmdParse.prototype.TYPE_STRING = TYPE_STRING;\n\nexport function create(params) {\n  return new CmdParse(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport let FRIEND_ADDED = 1;\nexport let FRIEND_ADDED_AUTO = 2;\nexport let FRIEND_REMOVED = 3;\n\nexport let PRESENCE_OFFLINE = 0; // for invisible, etc\nexport let PRESENCE_ACTIVE = 1;\nexport let PRESENCE_INACTIVE = 2;\n","/**\n *\n *  MD5 (Message-Digest Algorithm)\n *  http://www.webtoolkit.info/\n *\n * Modified by railGun to handle node.js Buffer objects\n *\n **/\n\n/* eslint no-bitwise:off, new-cap:off*/\nconst assert = require('assert');\n\nfunction stringUtf8Encode(str) {\n  let c;\n  let n;\n  let utftext = [];\n  str = str.replace(/\\r\\n/g, '\\n');\n  for (n = 0; n < str.length; ++n) {\n    c = str.charCodeAt(n);\n    if (c < 128) {\n      utftext.push(String.fromCharCode(c));\n    } else if ((c > 127) && (c < 2048)) {\n      utftext.push(String.fromCharCode((c >> 6) | 192));\n      utftext.push(String.fromCharCode((c & 63) | 128));\n    } else {\n      utftext.push(String.fromCharCode((c >> 12) | 224));\n      utftext.push(String.fromCharCode(((c >> 6) & 63) | 128));\n      utftext.push(String.fromCharCode((c & 63) | 128));\n    }\n  }\n  return utftext.join('');\n}\n\n\nfunction rotateLeft(lValue, iShiftBits) {\n  return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));\n}\n\nfunction addUnsigned(lX,lY) {\n  let lX8 = (lX & 0x80000000);\n  let lY8 = (lY & 0x80000000);\n  let lX4 = (lX & 0x40000000);\n  let lY4 = (lY & 0x40000000);\n  let lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);\n  if (lX4 & lY4) {\n    return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n  }\n  if (lX4 | lY4) {\n    if (lResult & 0x40000000) {\n      return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n    } else {\n      return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n    }\n  } else {\n    return (lResult ^ lX8 ^ lY8);\n  }\n}\n\nfunction F(x,y,z) {\n  return (x & y) | ((~x) & z);\n}\nfunction G(x,y,z) {\n  return (x & z) | (y & (~z));\n}\nfunction H(x,y,z) {\n  return (x ^ y ^ z);\n}\nfunction I(x,y,z) {\n  return (y ^ (x | (~z)));\n}\n\nfunction FF(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction GG(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction HH(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction II(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction convertToWordArray(string) {\n  let lWordCount;\n  let lMessageLength = string.length;\n  let lNumberOfWords_temp1=lMessageLength + 8;\n  let lNumberOfWords_temp2=\n    (lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;\n  let lNumberOfWords = (lNumberOfWords_temp2+1)*16;\n  let lWordArray=new Array(lNumberOfWords-1);\n  let lBytePosition = 0;\n  let lByteCount = 0;\n  while (lByteCount < lMessageLength) {\n    lWordCount = (lByteCount-(lByteCount % 4))/4;\n    lBytePosition = (lByteCount % 4)*8;\n    lWordArray[lWordCount] |= string.charCodeAt(lByteCount) << lBytePosition;\n    lByteCount++;\n  }\n  lWordCount = (lByteCount-(lByteCount % 4))/4;\n  lBytePosition = (lByteCount % 4)*8;\n  lWordArray[lWordCount] |= (0x80<<lBytePosition);\n  lWordArray[lNumberOfWords-2] = lMessageLength<<3;\n  lWordArray[lNumberOfWords-1] = lMessageLength>>>29;\n  return lWordArray;\n}\n\n// function convertByteArraytoWordArray(arr) {\n//   let lWordCount;\n//   let lMessageLength = arr.length;\n//   let lNumberOfWords_temp1 = lMessageLength + 8;\n//   let lNumberOfWords_temp2 =\n//     (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;\n//   let lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\n//   let lWordArray = new Array(lNumberOfWords - 1);\n//   let lBytePosition = 0;\n//   let lByteCount = 0;\n//   while (lByteCount < lMessageLength) {\n//     lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n//     lBytePosition = (lByteCount % 4) * 8;\n//     lWordArray[lWordCount] |= arr[lByteCount] << lBytePosition;\n//     lByteCount++;\n//   }\n//   lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n//   lBytePosition = (lByteCount % 4) * 8;\n//   lWordArray[lWordCount] |= 0x80 << lBytePosition;\n//   lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n//   lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n//   return lWordArray;\n// }\n\nfunction wordToHex(lValue) {\n  let wordToHexValue='';\n\n\n  let wordToHexValue_temp='';\n\n\n  let lByte;\n  let lCount;\n  for (lCount = 0; lCount<=3; lCount++) {\n    lByte = (lValue>>>(lCount*8)) & 255;\n    wordToHexValue_temp = `0${lByte.toString(16)}`;\n    wordToHexValue +=\n      wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2);\n  }\n  return wordToHexValue;\n}\n\n// string can either be a string, node.js Buffer, array (of numbers < 256)\n// or a typed array\nmodule.exports = function md5(string) {\n  let AA;\n  let BB;\n  let CC;\n  let DD;\n  let a;\n  let b;\n  let c;\n  let d;\n  let k;\n  let S11=7;\n  let S12=12;\n  let S13=17;\n  let S14=22;\n  let S21=5;\n  let S22=9;\n  let S23=14;\n  let S24=20;\n  let S31=4;\n  let S32=11;\n  let S33=16;\n  let S34=23;\n  let S41=6;\n  let S42=10;\n  let S43=15;\n  let S44=21;\n\n  let x;\n  if (typeof string === 'string') {\n    string = stringUtf8Encode(string);\n    x = convertToWordArray(string);\n  } else {\n    assert(false); // disable due to not used\n    // node.js buffer or Array\n    // x = convertByteArraytoWordArray(string);\n  }\n\n  a = 0x67452301;\n  b = 0xEFCDAB89;\n  c = 0x98BADCFE;\n  d = 0x10325476;\n\n  for (k=0; k<x.length; k+=16) {\n    AA=a;\n    BB=b;\n    CC=c;\n    DD=d;\n    a=FF(a,b,c,d,x[k], S11,0xD76AA478);\n    d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);\n    c=FF(c,d,a,b,x[k+2], S13,0x242070DB);\n    b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);\n    a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);\n    d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);\n    c=FF(c,d,a,b,x[k+6], S13,0xA8304613);\n    b=FF(b,c,d,a,x[k+7], S14,0xFD469501);\n    a=FF(a,b,c,d,x[k+8], S11,0x698098D8);\n    d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);\n    c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);\n    b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);\n    a=FF(a,b,c,d,x[k+12],S11,0x6B901122);\n    d=FF(d,a,b,c,x[k+13],S12,0xFD987193);\n    c=FF(c,d,a,b,x[k+14],S13,0xA679438E);\n    b=FF(b,c,d,a,x[k+15],S14,0x49B40821);\n    a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);\n    d=GG(d,a,b,c,x[k+6], S22,0xC040B340);\n    c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);\n    b=GG(b,c,d,a,x[k], S24,0xE9B6C7AA);\n    a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);\n    d=GG(d,a,b,c,x[k+10],S22,0x2441453);\n    c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);\n    b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);\n    a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);\n    d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);\n    c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);\n    b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);\n    a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);\n    d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);\n    c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);\n    b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);\n    a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);\n    d=HH(d,a,b,c,x[k+8], S32,0x8771F681);\n    c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);\n    b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);\n    a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);\n    d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);\n    c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);\n    b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);\n    a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);\n    d=HH(d,a,b,c,x[k], S32,0xEAA127FA);\n    c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);\n    b=HH(b,c,d,a,x[k+6], S34,0x4881D05);\n    a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);\n    d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);\n    c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);\n    b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);\n    a=II(a,b,c,d,x[k], S41,0xF4292244);\n    d=II(d,a,b,c,x[k+7], S42,0x432AFF97);\n    c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);\n    b=II(b,c,d,a,x[k+5], S44,0xFC93A039);\n    a=II(a,b,c,d,x[k+12],S41,0x655B59C3);\n    d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);\n    c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);\n    b=II(b,c,d,a,x[k+1], S44,0x85845DD1);\n    a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);\n    d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);\n    c=II(c,d,a,b,x[k+6], S43,0xA3014314);\n    b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);\n    a=II(a,b,c,d,x[k+4], S41,0xF7537E82);\n    d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);\n    c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);\n    b=II(b,c,d,a,x[k+9], S44,0xEB86D391);\n    a=addUnsigned(a,AA);\n    b=addUnsigned(b,BB);\n    c=addUnsigned(c,CC);\n    d=addUnsigned(d,DD);\n  }\n\n  let temp = wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);\n  return temp.toLowerCase();\n};\n\n/* // Uncomment this and run \"node MD5.js file.ext\"\nvar FS = require('fs');\nvar data = FS.readFileSync(process.argv[2]);\nvar md5 = module.exports(data);\nconsole.log('MD5 = ' + md5);\n// */\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code derived from libGLOV (C++), also MIT Licensed\n\n/* eslint no-bitwise:off */\n\n// Upon read, throw an exception if there is any data read error (e.g. read off of end of packet)\n\n// TODO: Maybe: Have 2 offsets, one for writing (data_len?), one for reading (buf_offs?),\n//   then there should be many fewer ?pak.readable branches\n//   that return different values under different circumstances, and maybe fewer .makeReadable() calls needed.\n\n\n// 3 bits of flags reserved for internal use\nconst PACKET_DEBUG = exports.PACKET_DEBUG = 1<<0;\nconst PACKET_RESERVED1 = exports.PACKET_RESERVED1 = 1<<1;\nconst PACKET_RESERVED2 = exports.PACKET_RESERVED2 = 1<<2;\nconst FLAG_PACKET_INTERNAL = PACKET_DEBUG | PACKET_RESERVED1 | PACKET_RESERVED2;\n\n// Internal, runtime-only (not serialized) flags < 8 bits\nconst PACKET_UNOWNED_BUFFER = 1 << 8;\n\nexports.default_flags = 0;\n\nconst assert = require('assert');\nconst { max } = Math;\nconst { isInteger, log2 } = require('../common/util.js');\n// const { isInteger, log2 } = require('../../build.dev/common/util.js');\nconst { base64Encode, base64Decode } = require('../common/base64.js');\n\nconst FALSYS = [undefined, null, 0, false, '', NaN];\nconst PAK_BUF_DEFAULT_SIZE = 1024;\n\nconst UNDERRUN = 'PKTERR_UNDERRUN';\n\nconst POOL_PACKETS = 5000;\nconst POOL_TIMEOUT = 5000;\nconst POOL_BUF_BY_SIZE = [\n  0, // 2^0 : 1 - shouldn't be allocated ever?\n  10, // 2^1 : 2\n  10, // 2^2 : 4\n  20, // 2^3 : 8\n  20, // 2^4 : 16\n  20, // 2^5 : 32\n  20, // 2^6 : 64\n  20, // 2^7 : 128\n  20, // 2^8 : 256\n  20, // 2^9 : 512\n  5000, // 2^10 : 1024 - standard Packet size\n  20, // 2^11 : 2048\n  20, // 2^12 : 4096\n  20, // 2^13 : 8192\n  20, // 2^14 : 16384\n  20, // 2^15 : 32768\n  20, // 2^16 : 65536\n  10, // 2^17 : 131072\n  10, // 2^18 : 262144,\n];\n\nlet pak_pool = [];\nlet pak_debug_pool = [];\nlet buf_pool = POOL_BUF_BY_SIZE.map(() => []);\n\nfunction allocDataView(size) {\n  let pool_idx = log2(size);\n  assert(pool_idx);\n  if (pool_idx >= buf_pool.length) {\n    pool_idx = 0;\n  }\n  if (pool_idx) {\n    size = 1 << pool_idx;\n    if (buf_pool[pool_idx].length) {\n      // No reinit here, just a container\n      //console.log(`Buffer FROMPOOL:${size}/${pool_idx}`);\n      return buf_pool[pool_idx].pop();\n    }\n  } else {\n    // Enable this (and lower pool size) to track down big packets:\n    // console.log(`Allocating UNPOOLABLE buffer of size ${size} from ${new Error().stack}`);\n  }\n  //console.log(`Buffer ALLOC:${size}`);\n  let u8 = new Uint8Array(size);\n  let dv = new DataView(u8.buffer);\n  dv.u8 = u8;\n  if (pool_idx) {\n    dv.packet_pool_idx = pool_idx;\n  }\n  return dv;\n}\n\nfunction wrapU8AsDataView(u8) {\n  let dv = new DataView(u8.buffer, u8.byteOffset, u8.byteLength);\n  dv.u8 = u8;\n  return dv;\n}\n\nfunction utf8ByteLength(str) {\n  let len = str.length;\n  let ret = len;\n  for (let ii = 0; ii < len; ++ii) {\n    let c = str.charCodeAt(ii);\n    if (c > 0x7F) {\n      ++ret;\n      if (c > 0x07FF) {\n        ++ret;\n        if (c > 0xFFFF) {\n          ++ret;\n          if (c > 0x1FFFFF) {\n            ++ret;\n            if (c > 0x3FFFFFF) {\n              ++ret;\n            }\n          }\n        }\n      }\n    }\n  }\n  return ret;\n}\n\n// Assumes buffer will fit it\nfunction utf8WriteChar(buf, buf_offs, c) {\n  if (c <= 0x7F) {\n    buf.u8[buf_offs++] = c;\n  } else if (c <= 0x07FF) {\n    buf.u8[buf_offs++] = (c >> 6) | 0xC0;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0xFFFF) {\n    buf.u8[buf_offs++] = (c >> 12) | 0xE0;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x1FFFFF) {\n    buf.u8[buf_offs++] = (c >> 18) | 0xF0;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x3FFFFFF) {\n    buf.u8[buf_offs++] = (c >> 24) | 0xF8;\n    buf.u8[buf_offs++] = ((c >> 18) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x7FFFFFFF) {\n    buf.u8[buf_offs++] = (c >> 30) | 0xFC;\n    buf.u8[buf_offs++] = ((c >> 24) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 18) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  }\n  return buf_offs;\n}\n\nfunction poolBuf(dv) {\n  // if it's poolable (not part of another Buffer), pool it!\n  assert(dv);\n  assert(dv.u8);\n  let pool_idx = dv.packet_pool_idx;\n  if (pool_idx) {\n    let arr = buf_pool[pool_idx];\n    if (arr.length < POOL_BUF_BY_SIZE[pool_idx]) {\n      //console.log(`Buffer TOPOOL:${dv.byteLength}/${pool_idx}`);\n      arr.push(dv);\n    }\n  } else {\n    // console.log(`Buffer UNPOOLABLE:${dv.byteLength}`);\n  }\n}\n\nexport function packetBufPoolAlloc(size) {\n  return allocDataView(size);\n}\nexport function packetBufPoolFree(dv) {\n  poolBuf(dv);\n}\n\nfunction Packet(flags, init_size, pak_debug) {\n  this.reinit(flags, init_size, pak_debug);\n}\nPacket.prototype.reinit = function (flags, init_size, pak_debug) {\n  this.flags = flags || 0;\n  this.has_flags = false;\n  this.buf = null;\n  this.buf_len = 0;\n  this.buf_offs = 0;\n  this.bufs = null;\n  this.bsizes = null;\n  this.readable = false;\n  this.ref_count = 1;\n  this.pak_debug = pak_debug;\n  if (init_size) {\n    this.fit(init_size, true);\n    this.buf_len = init_size;\n  }\n};\nPacket.prototype.ref = function () {\n  assert(this.ref_count); // must not already be pooled!\n  ++this.ref_count;\n};\nPacket.prototype.pool = function () {\n  assert(this.ref_count);\n  if (--this.ref_count) {\n    return;\n  }\n  // Do not clear on pool(), callers (readInt()) may still momentarily reference .buf, etc\n  if (this.flags & PACKET_UNOWNED_BUFFER) {\n    // doing nothing with buffers, still pooling the packet\n  } else {\n    if (this.buf) {\n      poolBuf(this.buf);\n    }\n    if (this.bufs) {\n      for (let ii = 0; ii < this.bufs.length; ++ii) {\n        poolBuf(this.bufs[ii]);\n      }\n    }\n  }\n  if (pak_pool.length < POOL_PACKETS) {\n    pak_pool.push(this);\n  }\n  if (this.pak_debug) {\n    this.pak_debug.poolDebug();\n  }\n};\n\nPacket.prototype.totalSize = function () {\n  let ret = 0;\n  if (this.readable) {\n    return this.buf_len;\n  }\n  if (this.bsizes) {\n    for (let ii = 0; ii < this.bsizes.length; ++ii) {\n      ret += this.bsizes[ii];\n    }\n  }\n  ret += this.buf_offs;\n  return ret;\n};\n\nPacket.prototype.setReadable = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  assert(!this.readable);\n  this.readable = true;\n};\n\nPacket.prototype.makeReadable = function () {\n  assert(this.buf);\n  assert(!this.readable); // otherwise just reset offset? or do nothing?\n  let total = this.totalSize(); // before this.readable = true\n  this.readable = true;\n  if (!this.bufs) {\n    this.buf_len = total;\n    this.buf_offs = 0;\n    return;\n  }\n  let buf = allocDataView(total);\n  let u8 = buf.u8;\n  let offs = 0;\n  for (let ii = 0; ii < this.bufs.length; ++ii) {\n    let bsize = this.bsizes[ii];\n    let dv = this.bufs[ii];\n    if (offs + dv.u8.length > total) {\n      // unused portion would overrun\n      assert.equal(dv.byteOffset, 0);\n      u8.set(new Uint8Array(dv.buffer, 0, bsize), offs);\n    } else {\n      u8.set(dv.u8, offs);\n    }\n    offs += bsize;\n    poolBuf(dv);\n  }\n  assert.equal(this.buf.byteOffset, 0); // Would handle it, but should never happen here, these are our pooled buffers?\n  u8.set(new Uint8Array(this.buf.buffer, this.buf.byteOffset, this.buf_offs), offs);\n  poolBuf(this.buf);\n  assert.equal(offs + this.buf_offs, total);\n  this.bufs = this.bsizes = null;\n  this.buf = buf;\n  this.buf_offs = 0;\n  this.buf_len = total; // buffer is actually buf.buffer.byteLength, but we can't read past `total`\n};\n\nPacket.prototype.flush = function () {\n  let { buf, buf_offs } = this;\n  if (!this.bufs) {\n    this.bufs = [buf];\n    this.bsizes = [buf_offs];\n  } else {\n    this.bufs.push(buf);\n    this.bsizes.push(buf_offs);\n  }\n  this.buf = null;\n  this.buf_len = 0;\n  this.buf_offs = 0;\n};\nPacket.prototype.fit = function (extra_bytes, no_advance) {\n  let { buf, buf_len, buf_offs } = this;\n  let new_offs = buf_offs + extra_bytes;\n  if (new_offs <= buf_len) {\n    if (!no_advance) {\n      this.buf_offs = new_offs;\n    }\n    return buf_offs;\n  }\n  assert(!this.readable); // Shouldn't happen on concatenated buffers\n  if (buf) {\n    this.flush();\n  }\n  this.buf_len = buf_len = max(PAK_BUF_DEFAULT_SIZE, extra_bytes);\n  this.buf = allocDataView(buf_len);\n  this.buf_offs = no_advance ? 0 : extra_bytes;\n  return 0;\n};\nPacket.prototype.advance = function (bytes) {\n  let offs = this.buf_offs;\n  let new_offs = offs + bytes;\n  this.buf_offs = new_offs;\n  if (new_offs > this.buf_len) {\n    throw new Error(UNDERRUN);\n  }\n  if (new_offs === this.buf_len) {\n    this.pool();\n  }\n  return offs;\n};\nPacket.prototype.ended = function () {\n  return this.buf_offs === this.buf_len;\n};\n\n// low-level write/read functions\nPacket.prototype.writeU8 = function (v) {\n  assert(v >= 0 && v < 256);\n  let offs = this.fit(1);\n  this.buf.u8[offs] = v;\n};\nPacket.prototype.readU8 = function () {\n  return this.buf.u8[this.advance(1)];\n};\n// Packed int, first byte:\n// 0-247 byte\n// 248 positive 16-bit\n// 249 negative 16-bit\n// 250 positive 32-bit\n// 251 negative 32-bit\n// 252 positive 64-bit\n// 253 negative 64-bit\n// 254 unused\n// 255 negative byte\nPacket.prototype.writeInt = function (v) {\n  assert(isInteger(v));\n  let offs = this.fit(9, true); // 9 is max size of a packed int\n  let buf = this.buf;\n  let neg = (v < 0) ? 1 : 0;\n  if (neg) {\n    v = -v;\n  }\n  if (v < 248) { // || neg && v < 256 would also decode right\n    if (neg) {\n      buf.u8[offs++] = 255;\n    }\n    buf.u8[offs++] = v;\n  } else {\n    if (v < 65536) {\n      buf.u8[offs++] = 248 + neg;\n      buf.setUint16(offs, v, true);\n      offs += 2;\n    } else if (v < 4294967296) {\n      buf.u8[offs++] = 250 + neg;\n      buf.setUint32(offs, v, true);\n      offs += 4;\n    } else {\n      buf.u8[offs++] = 252 + neg;\n      let low_bits = v >>> 0;\n      buf.setUint32(offs, low_bits, true);\n      offs += 4;\n      buf.setUint32(offs, (v - low_bits) / 4294967296, true);\n      offs += 4;\n    }\n  }\n  this.buf_offs = offs;\n};\nPacket.prototype.zeroInt = function () {\n  // Overwrite an existing int with a zero, keeping the same packed size\n  let b1 = this.buf.u8[this.buf_offs];\n  if (b1 < 248) {\n    this.buf.u8[this.buf_offs++] = 0;\n    return;\n  }\n  // Otherwise, leave header bit\n  this.buf_offs++;\n  let zeroes = 1;\n  switch (b1) {\n    case 253:\n    case 252: // 8\n      zeroes += 4;\n    case 251:  // eslint-disable-line no-fallthrough\n    case 250: // 4\n      zeroes += 2;\n    case 249:  // eslint-disable-line no-fallthrough\n    case 248: // 2\n      zeroes++;\n    case 255:  // eslint-disable-line no-fallthrough\n      // 1\n      break;\n    default:\n      throw new Error('PKTERR_PACKED_INT');\n  }\n  while (zeroes) {\n    --zeroes;\n    this.buf.u8[this.buf_offs++] = 0;\n  }\n};\nPacket.prototype.readInt = function () {\n  let b1 = this.buf.u8[this.advance(1)];\n  if (b1 < 248) {\n    return b1;\n  }\n  let sign = 1;\n  switch (b1) {\n    case 249:\n      sign = -1;\n    case 248: // eslint-disable-line no-fallthrough\n      return sign * this.buf.getUint16(this.advance(2), true);\n    case 251:\n      sign = -1;\n    case 250: // eslint-disable-line no-fallthrough\n      return sign * this.buf.getUint32(this.advance(4), true);\n    case 253:\n      sign = -1;\n    case 252: { // eslint-disable-line no-fallthrough\n      let low_bits = this.buf.getUint32(this.advance(4), true);\n      let high_bits = this.buf.getUint32(this.advance(4), true);\n      return sign * (high_bits * 4294967296 + low_bits);\n    }\n    case 255:\n      return -this.buf.u8[this.advance(1)];\n    default:\n      throw new Error('PKTERR_PACKED_INT');\n  }\n};\nPacket.prototype.writeFloat = function (v) {\n  assert.equal(typeof v, 'number');\n  if (!v) {\n    this.buf.u8[this.fit(1)] = 0;\n    return;\n  }\n  let offs = this.fit(5, true);\n  this.buf.setFloat32(offs, v, true);\n  if (this.buf.u8[offs] <= 1) { // escape a 0 or 1 in the first byte\n    this.buf.u8[offs++] = 1;\n    this.buf.setFloat32(offs, v, true);\n  }\n  this.buf_offs = offs + 4;\n};\nPacket.prototype.readFloat = function () {\n  let offs = this.advance(1);\n  let b1 = this.buf.u8[offs];\n  if (!b1) {\n    return 0;\n  }\n  if (b1 === 1) {\n    return this.buf.getFloat32(this.advance(4), true);\n  }\n  this.advance(3);\n  return this.buf.getFloat32(offs, true);\n};\nPacket.prototype.writeU32 = function (v) {\n  assert.equal(typeof v, 'number');\n  this.buf.setUint32(this.fit(4), v, true);\n};\nPacket.prototype.readU32 = function () {\n  return this.buf.getUint32(this.advance(4), true);\n};\nPacket.prototype.writeString = function (v) {\n  assert.equal(typeof v, 'string'); // Could maybe do a toString() here if not\n  let byte_length = utf8ByteLength(v);\n  this.writeInt(byte_length); // Just 1 byte for small strings\n  if (!byte_length) {\n    return;\n  }\n  let offs = this.fit(byte_length);\n  let buf = this.buf;\n  for (let ii = 0; ii < v.length; ++ii) {\n    let c = v.charCodeAt(ii);\n    if (c <= 0x7F) {\n      buf.u8[offs++] = c;\n    } else {\n      offs = utf8WriteChar(buf, offs, c);\n    }\n  }\n};\n// Only called on multi-byte characters; Supplied the first byte for efficiency\nPacket.prototype.utf8ReadChar = function (c) {\n  let buf = this.buf;\n  if (c >= 0xC0 && c < 0xE0) {\n    return ((c & 0x1F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xE0 && c < 0xF0) {\n    return ((c & 0x0F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xF0 && c < 0xF8) {\n    return ((c & 0x0F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xF8 && c < 0xFC) {\n    return ((c & 0x0F) << 24) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else { //if (c >= 0xFC) {\n    return ((c & 0x0F) << 30) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 24) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  }\n};\n\nlet string_assembly = [];\nPacket.prototype.readString = function () {\n  let byte_length = this.readInt();\n  if (!byte_length) {\n    return '';\n  }\n  if (this.buf_offs + byte_length > this.buf_len) {\n    throw new Error(UNDERRUN);\n  }\n\n  let { buf } = this;\n  let end_offset = this.buf_offs + byte_length;\n  let ret;\n  if (byte_length > 8192) {\n    ret = '';\n    while (this.buf_offs < end_offset) {\n      let c = buf.u8[this.buf_offs++];\n      if (c > 0x7F) {\n        c = this.utf8ReadChar(c);\n      }\n      ret += String.fromCharCode(c);\n    }\n  } else {\n    string_assembly.length = byte_length;\n    let ii = 0;\n    while (this.buf_offs < end_offset) {\n      let c = buf.u8[this.buf_offs++];\n      if (c > 0x7F) {\n        c = this.utf8ReadChar(c);\n      }\n      string_assembly[ii++] = c;\n    }\n    if (string_assembly.length !== ii) {\n      // truncate if multi-byte UTF8 produced single characters\n      string_assembly.length = ii;\n    }\n    ret = String.fromCharCode.apply(undefined, string_assembly);\n  }\n  if (this.buf_offs === this.buf_len) {\n    this.pool();\n  }\n  return ret;\n};\n// Much more efficient than writeString if the input is known to be ANSI-ish (all characters <= 255)\nPacket.prototype.writeAnsiString = function (v) {\n  assert.equal(typeof v, 'string'); // Could maybe do a toString() here if not\n  let byte_length = v.length;\n  this.writeInt(byte_length);\n  let offs = this.fit(byte_length);\n  let { buf } = this;\n  for (let ii = 0; ii < byte_length; ++ii) {\n    buf.u8[offs++] = v.charCodeAt(ii);\n  }\n};\nPacket.prototype.readAnsiString = function () {\n  let len = this.readInt();\n  if (!len) {\n    return '';\n  }\n  let offs = this.advance(len);\n  let { buf } = this;\n  string_assembly.length = len;\n  for (let ii = 0; ii < len; ++ii) {\n    string_assembly[ii] = buf.u8[offs++];\n  }\n  return String.fromCharCode.apply(undefined, string_assembly);\n};\n\n// high-level write/read functions\nPacket.prototype.writeJSON = function (v) {\n  if (!v) {\n    let idx = FALSYS.indexOf(v);\n    assert(idx !== -1);\n    this.writeU8(idx + 1);\n    return;\n  }\n  this.writeU8(0);\n  this.writeString(JSON.stringify(v));\n};\nPacket.prototype.readJSON = function () {\n  let byte = this.readU8();\n  if (byte) {\n    if (byte - 1 >= FALSYS.length) {\n      throw new Error('PKTERR_JSON_HEADER');\n    }\n    return FALSYS[byte - 1];\n  }\n  let str = this.readString();\n  return JSON.parse(str);\n};\n// Uint8Array or Buffer object?\nPacket.prototype.writeBuffer = function (v) {\n  this.writeInt(v.length);\n  if (v.length) {\n    let offs = this.fit(v.length);\n    this.buf.u8.set(v, offs);\n  }\n};\nconst null_buf = new Uint8Array(0);\nPacket.prototype.readBuffer = function (do_copy) {\n  let len = this.readInt();\n  if (!len) {\n    return null_buf;\n  }\n  let offs = this.advance(len);\n  if (do_copy) {\n    return this.buf.u8.slice(offs, offs + len);\n  } else {\n    let { buf } = this;\n    return new Uint8Array(buf.buffer, buf.byteOffset + offs, len);\n  }\n};\nPacket.prototype.writeBool = function (v) {\n  this.writeU8(v?1:0);\n};\nPacket.prototype.readBool = function () {\n  return Boolean(this.readU8());\n};\n\nPacket.prototype.append = function (pak) {\n  assert.equal(this.flags & FLAG_PACKET_INTERNAL, pak.flags & FLAG_PACKET_INTERNAL);\n  if (pak.bufs) {\n    for (let ii = 0; ii < pak.bufs.length; ++ii) {\n      let buf = pak.bufs[ii];\n      let bsize = pak.bsizes[ii];\n      let offs = this.fit(bsize);\n      if (bsize !== buf.byteLength) {\n        this.buf.u8.set(new Uint8Array(buf.buffer, buf.byteOffset, bsize), offs);\n      } else {\n        this.buf.u8.set(buf.u8, offs);\n      }\n    }\n  }\n  if (pak.buf) {\n    let buf = pak.buf;\n    let bsize = pak.readable ? pak.buf_len : pak.buf_offs;\n    let offs = this.fit(bsize);\n    if (bsize !== buf.byteLength) {\n      this.buf.u8.set(new Uint8Array(buf.buffer, buf.byteOffset, bsize), offs);\n    } else {\n      this.buf.u8.set(buf.u8, offs);\n    }\n  }\n};\n\nPacket.prototype.appendRemaining = function (pak) {\n  assert.equal(this.flags & FLAG_PACKET_INTERNAL, pak.flags & FLAG_PACKET_INTERNAL);\n  assert(pak.readable);\n  assert(!pak.bufs);\n  assert(pak.buf);\n  assert(pak.buf_offs <= pak.buf_len);\n  let bsize = pak.buf_len - pak.buf_offs;\n  if (bsize) {\n    let offs = this.fit(bsize);\n    this.buf.u8.set(new Uint8Array(pak.buf.buffer, pak.buf.byteOffset + pak.buf_offs, bsize), offs);\n  }\n  // everything consumed, pool it\n  pak.pool();\n};\n\nPacket.prototype.toJSON = function () {\n  let ret = {\n    f: this.flags,\n  };\n\n  if (this.bufs) {\n    ret.b = [];\n    for (let ii = 0; ii < this.bufs.length; ++ii) {\n      ret.b.push(base64Encode(this.bufs[ii], 0, this.bsizes[ii]));\n    }\n  }\n  if (this.buf) {\n    if (this.readable) {\n      ret.d = base64Encode(this.buf, 0, this.buf_len);\n    } else {\n      ret.d = base64Encode(this.buf, 0, this.buf_offs);\n    }\n  }\n  return ret;\n};\n\nPacket.prototype.setBuffer = function (buf, buf_len) {\n  assert(!this.buf);\n  assert(!this.bufs);\n  assert(this.flags & PACKET_UNOWNED_BUFFER); // Probably okay if not?\n  assert(buf instanceof Uint8Array);\n  this.buf = wrapU8AsDataView(buf);\n  this.buf_len = buf_len;\n  this.readable = true;\n};\n\nPacket.prototype.getBuffer = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  return this.buf.u8;\n};\n\nPacket.prototype.getBufferLen = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  return this.readable ? this.buf_len : this.buf_offs;\n};\n\nPacket.prototype.getOffset = function () {\n  if (this.readable) {\n    return this.buf_offs;\n  }\n  return this.totalSize();\n};\n\nPacket.prototype.seek = function (pos) {\n  assert(this.readable); // .makeReadable should be called so that it is a single buffer\n  assert(pos >= 0 && pos <= this.buf_len);\n  this.buf_offs = pos;\n};\n\nPacket.prototype.writeFlags = function () {\n  assert(!this.has_flags);\n  assert.equal(this.buf_offs, 0);\n  this.writeU8(this.flags);\n  this.has_flags = true;\n};\n\nPacket.prototype.updateFlags = function (flags) {\n  assert(this.has_flags);\n  assert(!(flags & FLAG_PACKET_INTERNAL));\n  this.flags = this.flags & FLAG_PACKET_INTERNAL | flags;\n  let buf = this.bufs ? this.bufs[0] : this.buf;\n  buf.u8[0] = this.flags;\n};\n\nPacket.prototype.readFlags = function () {\n  let read = this.readU8();\n  assert.equal(read, this.flags & 0xFF);\n  this.has_flags = true;\n  return this.flags;\n};\n\nPacket.prototype.getFlags = function () {\n  return this.flags;\n};\n\nPacket.prototype.getInternalFlags = function () {\n  return this.flags & FLAG_PACKET_INTERNAL;\n};\n\nPacket.prototype.contents = function () {\n  return `pak(${this.totalSize()}b)`;\n};\n\nfunction PacketDebug(flags, init_size) {\n  this.reinit(flags, init_size);\n}\nPacketDebug.prototype.reinit = function (flags, init_size) {\n  this.in_pool = false;\n  if (pak_pool.length) {\n    this.pak = pak_pool.pop();\n    this.pak.reinit(flags, init_size, this);\n  } else {\n    this.pak = new Packet(flags, init_size, this);\n  }\n  this.warned = false;\n  this.pool_timer = setTimeout(() => {\n    console.warn(`Packet not pooled after 5s: ${this.contents()}`);\n    this.warned = true;\n  }, POOL_TIMEOUT);\n};\nPacketDebug.prototype.poolDebug = function () {\n  if (this.warned) {\n    console.warn('Packet pooled after timeout');\n  } else {\n    clearTimeout(this.pool_timer);\n  }\n  assert(!this.in_pool);\n  this.in_pool = true; // Set this, as if pooled, even if discarded\n  if (pak_debug_pool.length < POOL_PACKETS) {\n    pak_debug_pool.push(this);\n  }\n};\nconst types = [null, 'U8', 'U32', 'Int', 'Float', 'String', 'AnsiString', 'JSON', 'Bool', 'Buffer'];\n// Functions (types) that read and write a debug byte\ntypes.forEach((type, idx) => {\n  if (!type) { // don't use debug ID 0\n    return;\n  }\n  let write = `write${type}`;\n  let read = `read${type}`;\n  let write_fn = Packet.prototype[write];\n  let read_fn = Packet.prototype[read];\n  PacketDebug.prototype[write] = function (v) {\n    this.pak.writeU8(idx);\n    write_fn.call(this.pak, v);\n  };\n  PacketDebug.prototype[read] = function (param) {\n    let found_idx = this.pak.readU8();\n    if (found_idx !== idx) {\n      assert(false, `PacketDebug error: Expected ${type}(${idx}), found ${types[found_idx]}(${found_idx})`);\n    }\n    return read_fn.call(this.pak, param);\n  };\n});\nPacketDebug.prototype.zeroInt = function () {\n  this.pak.writeU8(3); // types.indexof('Int')\n  this.pak.zeroInt();\n};\n// Functions that simply fall through\n[\n  'ended',\n  'getBuffer',\n  'getBufferLen',\n  'getFlags',\n  'getInternalFlags',\n  'getOffset',\n  'makeReadable',\n  'pool',\n  'readFlags', // *not* wrapped in debug headers\n  'ref',\n  'seek',\n  'setBuffer',\n  'setReadable',\n  'toJSON',\n  'totalSize',\n  'updateFlags',\n  'writeFlags', // *not* wrapped in debug headers\n].forEach((fname) => {\n  let fn = Packet.prototype[fname];\n  PacketDebug.prototype[fname] = function () {\n    return fn.apply(this.pak, arguments); // eslint-disable-line prefer-rest-params\n  };\n});\nPacketDebug.prototype.append = function (pak) {\n  assert(pak instanceof PacketDebug);\n  this.pak.append(pak.pak);\n};\nPacketDebug.prototype.appendRemaining = function (pak) {\n  assert(pak instanceof PacketDebug);\n  this.pak.appendRemaining(pak.pak);\n};\nfunction format(v) {\n  switch (typeof v) {\n    case 'object':\n      if (v instanceof Uint8Array) {\n        return `u8<${v.length}>`;\n      }\n      return JSON.stringify(v);\n    default:\n      return v;\n  }\n}\nPacketDebug.prototype.contents = function () {\n  let { pak } = this;\n  let cur_offs = pak.getOffset();\n  let read_len = cur_offs;\n  let ret = [`buf:${pak.buf_offs}/${pak.buf_len}`];\n  if (pak.bufs) {\n    // write packet, just combine and reset location when done\n    pak.makeReadable();\n    ret.push('bufs');\n  } else if (pak.buf) {\n    // read packet, or write packet that is a single buf\n    if (pak.readable) {\n      read_len = pak.buf_len;\n    }\n    pak.buf_offs = 0;\n  } else {\n    ret.push('empty');\n    read_len = -1;\n  }\n  let saved_ref_count = pak.ref_count;\n  pak.ref_count = 2; // prevent auto pooling, don't assert on ref() if unref'd.\n  try {\n    if (!saved_ref_count) {\n      ret.push('!ref_count=0!');\n    }\n    if (pak.has_flags) {\n      ret.push(`flags:${pak.readU8()}`);\n    }\n    while (pak.buf_offs < read_len) {\n      let type_idx = pak.readU8();\n      let type = types[type_idx];\n      if (!type) {\n        ret.push(`UnknownType:${type_idx}`);\n        break;\n      }\n      let val = pak[`read${type}`]();\n      ret.push(`${type}:${format(val)}`);\n    }\n  } catch (e) {\n    ret.push(`Error dumping packet contents: ${e}`);\n  }\n  pak.ref_count = saved_ref_count;\n  pak.buf_offs = cur_offs;\n  return ret.join(',');\n};\n\nfunction packetCreate(flags, init_size) {\n  if (flags === undefined) {\n    flags = exports.default_flags;\n  }\n  let pool = (flags & PACKET_DEBUG) ? pak_debug_pool : pak_pool;\n  if (pool.length) {\n    let pak = pool.pop();\n    pak.reinit(flags, init_size);\n    return pak;\n  }\n  if (flags & PACKET_DEBUG) {\n    return new PacketDebug(flags, init_size);\n  }\n  return new Packet(flags, init_size);\n}\nexports.packetCreate = packetCreate;\n\nfunction packetFromBuffer(buf, buf_len, need_copy) {\n  let flags = buf[0];\n  assert.equal(typeof flags, 'number'); // `buf` should be a Buffer or Uint8Array, not a DataView like other funcs here\n  if (need_copy) {\n    assert(buf_len);\n    assert(buf.buffer instanceof ArrayBuffer);\n    let pak = packetCreate(flags, buf_len);\n    if (buf.byteLength !== buf_len) {\n      buf = Buffer.from(buf.buffer, 0, buf_len);\n    }\n    pak.getBuffer().set(buf);\n    pak.setReadable();\n    return pak;\n  } else {\n    // reference unowned/unpoolable buffer\n    assert(buf instanceof Uint8Array);\n    let pak = packetCreate(flags | PACKET_UNOWNED_BUFFER);\n    pak.setBuffer(buf, buf_len || buf.byteLength);\n    return pak;\n  }\n}\nexports.packetFromBuffer = packetFromBuffer;\n\nfunction packetFromJSON(js_obj) {\n  let pak = packetCreate(js_obj.f);\n\n  let payload = pak.pak || pak;\n\n  function decode(str) {\n    return base64Decode(str, allocDataView);\n  }\n  if (js_obj.b) {\n    payload.bsizes = [];\n    payload.bufs = [];\n    for (let ii = 0; ii < js_obj.b.length; ++ii) {\n      let buf = decode(js_obj.b[ii]);\n      payload.bufs.push(buf);\n      payload.bsizes.push(buf.decode_size);\n      delete buf.decode_size;\n    }\n  }\n  if (js_obj.d) {\n    payload.buf = decode(js_obj.d);\n    payload.buf_len = payload.buf.decode_size;\n    delete payload.buf.decode_size;\n    payload.buf_offs = 0;\n  }\n\n  return pak;\n}\nexports.packetFromJSON = packetFromJSON;\n\nfunction isPacket(thing) {\n  return thing instanceof Packet || thing instanceof PacketDebug;\n}\nexports.isPacket = isPacket;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint prefer-rest-params:off, no-underscore-dangle:off */\n\nconst assert = require('assert');\n\nfunction EventEmitter() {\n  this._listeners = {};\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.EventEmitter = EventEmitter;\n\nfunction addListener(ee, type, fn, once) {\n  assert(typeof fn === 'function');\n  let arr = ee._listeners[type];\n  if (!arr) {\n    arr = ee._listeners[type] = [];\n  }\n  arr.push({\n    once,\n    fn,\n  });\n}\n\nEventEmitter.prototype.hasListener = function (type, fn) {\n  let arr = this._listeners[type];\n  if (!arr) {\n    return false;\n  }\n  for (let ii = 0; ii < arr.length; ++ii) {\n    if (arr[ii].fn === fn) {\n      return true;\n    }\n  }\n  return false;\n};\n\nEventEmitter.prototype.on = function (type, fn) {\n  addListener(this, type, fn, 0);\n  return this;\n};\n\nEventEmitter.prototype.once = function (type, fn) {\n  addListener(this, type, fn, 1);\n  return this;\n};\n\nEventEmitter.prototype.removeListener = function (type, fn) {\n  let arr = this._listeners[type];\n  assert(arr);\n  for (let ii = 0; ii < arr.length; ++ii) {\n    if (arr[ii].fn === fn) {\n      arr.splice(ii, 1);\n      return this;\n    }\n  }\n  assert(false); // expected to find the listener!\n  return this;\n};\n\nfunction filterNotOnce(elem) {\n  return !elem.once;\n}\n\nEventEmitter.prototype.emit = function (type, ...args) {\n  let arr = this._listeners[type];\n  if (!arr) {\n    return false;\n  }\n\n  let any = false;\n  let any_once = false;\n  for (let ii = 0; ii < arr.length; ++ii) {\n    let elem = arr[ii];\n    any = true;\n    elem.fn(...args);\n    if (elem.once) {\n      any_once = true;\n    }\n  }\n  if (any_once) {\n    this._listeners[type] = arr.filter(filterNotOnce);\n  }\n\n  return any;\n};\n\n// Aliases\n// EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { abs, floor, min, max, random, round, pow, sqrt } = Math;\n\nexport function nop() {\n  // empty\n}\n\nexport function once(fn) {\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n    called = true;\n    fn(...args);\n  };\n}\n\nexport function empty(obj) {\n  for (let key in obj) {\n    return false;\n  }\n  return true;\n}\n\nexport function easeInOut(v, a) {\n  let va = pow(v, a);\n  return va / (va + pow(1 - v, a));\n}\n\nexport function easeIn(v, a) {\n  return 2 * easeInOut(0.5 * v, a);\n}\n\nexport function easeOut(v, a) {\n  return 2 * easeInOut(0.5 + 0.5 * v, a) - 1;\n}\n\nexport function clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function merge(dest, src) {\n  for (let f in src) {\n    dest[f] = src[f];\n  }\n  return dest;\n}\n\nexport function has(obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field);\n}\n\nexport function defaults(dest, src) {\n  for (let f in src) {\n    if (!has(dest, f)) {\n      dest[f] = src[f];\n    }\n  }\n  return dest;\n}\n\nexport function defaultsDeep(dest, src) {\n  for (let f in src) {\n    if (!has(dest, f)) {\n      dest[f] = src[f];\n    } else if (typeof dest[f] === 'object') {\n      defaultsDeep(dest[f], src[f]);\n    }\n  }\n  return dest;\n}\n\nexport function cloneShallow(src) {\n  return merge({}, src);\n}\n\nexport function deepEqual(a, b) {\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let ii = 0; ii < a.length; ++ii) {\n      if (!deepEqual(a[ii], b[ii])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (typeof a === 'object') {\n    if (typeof b !== 'object') {\n      return false;\n    }\n    if (!a || !b) { // at least one is null\n      return !a && !b; // equal if both are null\n    }\n    for (let key in a) {\n      // b must have key, or both a[key] and b[key] are undefined\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    for (let key in b) {\n      // if b has key and it's defined, a must also be defined (and would have checked equality above)\n      if (b[key] !== undefined && a[key] === undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a === b;\n}\n\nexport function clamp(v, mn, mx) {\n  return min(max(mn, v), mx);\n}\n\nexport function lerp(a, v0, v1) {\n  return (1 - a) * v0 + a * v1;\n}\n\nexport function mix(v0, v1, a) { // GLSL semantics\n  return (1 - a) * v0 + a * v1;\n}\n\nexport function sign(a) {\n  return a < 0 ? -1 : a > 0 ? 1 : 0;\n}\n\n// log2 rounded up to nearest integer\nexport function log2(val) {\n  for (let ii=1, jj=0; ; ii <<= 1, ++jj) { // eslint-disable-line no-bitwise\n    if (ii >= val) {\n      return jj;\n    }\n  }\n}\n\nexport function ridx(arr, idx) {\n  arr[idx] = arr[arr.length - 1];\n  arr.pop();\n}\n\nexport function round100(a) {\n  return round(a * 100) / 100;\n}\n\nexport function round1000(a) {\n  return round(a * 1000) / 1000;\n}\n\nexport function fract(a) {\n  return a - floor(a);\n}\n\nexport function nearSame(a, b, tol) {\n  return abs(b - a) <= tol;\n}\n\nexport function titleCase(str) {\n  return str.split(' ').map((word) => `${word[0].toUpperCase()}${word.slice(1)}`)\n    .join(' ');\n}\n\nconst EPSILON = 0.00001;\n\n// http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/\nexport function lineCircleIntersect(p1, p2, pCircle, radius) {\n  let dp = [\n    p2[0] - p1[0],\n    p2[1] - p1[1]\n  ];\n  let a = dp[0] * dp[0] + dp[1] * dp[1];\n  let b = 2 * (dp[0] * (p1[0] - pCircle[0]) + dp[1] * (p1[1] - pCircle[1]));\n  let c = pCircle[0] * pCircle[0] + pCircle[1] * pCircle[1];\n  c += p1[0] * p1[0] + p1[1] * p1[1];\n  c -= 2 * (pCircle[0] * p1[0] + pCircle[1] * p1[1]);\n  c -= radius * radius;\n  let bb4ac = b * b - 4 * a * c;\n  if (abs(a) < EPSILON || bb4ac < 0) {\n    return false;\n  }\n\n  let mu1 = (-b + sqrt(bb4ac)) / (2 * a);\n  let mu2 = (-b - sqrt(bb4ac)) / (2 * a);\n  if (mu1 >= 0 && mu1 <= 1 || mu2 >= 0 && mu2 <= 1) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function inherits(ctor, superCtor) {\n  // From Node.js\n  assert(typeof superCtor === 'function');\n  // not needed? ctor.super_ = superCtor; // eslint-disable-line no-underscore-dangle\n  // second parameter also not actually needed, just defines new Foo().constructor === Foo?\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nexport function isPowerOfTwo(n) {\n  return ((n & (n - 1)) === 0); // eslint-disable-line no-bitwise\n}\n\nexport function nextHighestPowerOfTwo(x) {\n  --x;\n  for (let i = 1; i < 32; i <<= 1) { // eslint-disable-line no-bitwise\n    x |= x >> i; // eslint-disable-line no-bitwise\n  }\n  return x + 1;\n}\n\nexport function logdata(data) {\n  if (data === undefined) {\n    return '';\n  }\n  let r = JSON.stringify(data);\n  if (r.length < 120) {\n    return r;\n  }\n  return `${r.slice(0, 120-3)}...`;\n}\n\nexport function isInteger(v) {\n  return typeof v === 'number' && isFinite(v) && floor(v) === v;\n}\n\nexport function toNumber(v) {\n  return Number(v);\n}\n\nexport function randomNot(not_value, max_value) {\n  let new_value;\n  do {\n    new_value = floor(random() * max_value);\n  } while (new_value === not_value);\n  return new_value;\n}\n\nexport function toArray(array_like) {\n  return Array.prototype.slice.call(array_like);\n}\n\nexport function matchAll(str, re) {\n  let ret = [];\n  let m;\n  do {\n    m = re.exec(str);\n    if (m) {\n      ret.push(m[1]);\n    }\n  } while (m);\n  return ret;\n}\n\nexport function callEach(arr, pre_clear, ...args) {\n  if (arr && arr.length) {\n    for (let ii = 0; ii < arr.length; ++ii) {\n      arr[ii](...args);\n    }\n  }\n}\n\n// The characters cause problems with lower level systems (Google Firestore)\n// that presumably try to convert to UTF-16.\nconst utf16_surrogates = /[\\uD800-\\uDFFF]/g;\nexport function sanitize(str) {\n  return (str || '').replace(utf16_surrogates, '');\n}\n\nexport function plural(number, label) {\n  return `${label}${number === 1 ? '' : 's'}`;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Originally from Splody, used with permission\n/* eslint no-multi-spaces:off, array-bracket-spacing:off */\n\nconst assert = require('assert');\nconst { max } = Math;\n\nconst trans_src = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+';\nconst trans_dst = '4bcd3fgh1jk1mn0pqr57uvwxy24bcd3fgh1jk1mn0pqr57uvwxy201234567897';\nconst trans_src_regex = /[a-zA-Z0-9+]+/g;\nlet trans_lookup = {};\nfunction canonize(str) {\n  return str.split('').map((c) => (trans_lookup[c] || c)).join('');\n}\n\nfunction rot13(str) {\n  return str.split('').map((c) => {\n    c = c.charCodeAt(0);\n    if (c >= 97/*a*/ && c <= 122/*z*/) {\n      c = 97 + (((c - 97) + 13) % 26);\n    } else if (c >= 65/*A*/ && c <= 90/*Z*/) {\n      c = 65 + (((c - 65) + 13) % 26);\n    }\n    return String.fromCharCode(c);\n  }).join('');\n}\n\nlet profanity = {};\n\n// shorter first, if substrings (just 's' and 'es'/'ers')\nlet suffixes =           [ '', 's',  's', 'in', 'ing', 'er', 'ers', 'ed', 'y' ];\nlet suffixes_canonized = [ '', '5', '35', '1n', '1ng', '3r', '3r5', '3d', 'y' ];\n\nlet max_len = 0;\nlet inited = false;\nexport function profanityCommonStartup(filter_gkg) {\n  assert(!inited);\n  inited = true;\n  for (let ii = 0; ii < trans_src.length; ++ii) {\n    trans_lookup[trans_src[ii]] = trans_dst[ii];\n  }\n  let data = filter_gkg.split('\\n').filter((a) => a);\n  for (let ii = 0; ii < data.length; ++ii) {\n    let s = rot13(data[ii]);\n    let start_len = s.length;\n    s = canonize(s);\n    assert.equal(start_len, s.length); // Otherwise got a bad character in the source data?\n    for (let jj = 0; jj < suffixes_canonized.length; ++jj) {\n      let str = s + suffixes_canonized[jj];\n      let existing = profanity[str];\n      if (!existing || existing > jj) {\n        max_len = max(max_len, str.length);\n        profanity[str] = jj + 1;\n      }\n    }\n  }\n}\n\nlet randWord;\nfunction filterWord(word_src) {\n  if (word_src.length >= max_len) {\n    return word_src;\n  }\n\n  let is_uppercase = word_src[0].toUpperCase() === word_src[0];\n  let word_canon = canonize(word_src);\n  let suffix_idx = profanity[word_canon];\n  // do lookup, replace\n  if (!suffix_idx) {\n    return word_src;\n  }\n  --suffix_idx;\n  let word = randWord();\n  if (is_uppercase) {\n    word = word[0].toUpperCase() + word.slice(1);\n  }\n  let suffix = suffixes[suffix_idx];\n  if (word[word.length - 1] === suffix[0]) { // e.g. replacement word ends in an 'e'\n    suffix = suffix.slice(1);\n  }\n  if (word.endsWith('e') && suffix[0] === 'i') {\n    word = word.slice(0, -1);\n  }\n  word += suffix;\n  return word;\n}\n\nlet is_profane;\nfunction checkWord(word_src) {\n  if (word_src.length >= max_len) {\n    return;\n  }\n\n  if (profanity[canonize(word_src)]) {\n    is_profane = true;\n  }\n}\n\nexport function profanityFilterCommon(user_str, rand_word_fn) {\n  assert(inited);\n  randWord = rand_word_fn;\n  return user_str.replace(trans_src_regex, filterWord);\n}\n\nexport function isProfane(user_str) {\n  assert(inited);\n  is_profane = false;\n  user_str.replace(trans_src_regex, checkWord);\n  return is_profane;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport let wsstats = { msgs: 0, bytes: 0 };\nexport let wsstats_out = { msgs: 0, bytes: 0 };\n\nconst ack = require('./ack.js');\nconst assert = require('assert');\nconst { ackHandleMessage, ackReadHeader, ackWrapPakStart, ackWrapPakPayload, ackWrapPakFinish } = ack;\nconst packet = require('./packet.js');\nconst { isPacket, packetCreate, packetFromBuffer } = packet;\n\nexport const CONNECTION_TIMEOUT = 60000;\nexport const PING_TIME = CONNECTION_TIMEOUT / 2;\nexports.PROTOCOL_VERSION = '1';\n\n// Rough estimate, if over, will prevent resizing the packet\nconst PAK_HEADER_SIZE = 1 + // flags\n  1+16 + // message id\n  1+9; // resp_pak_id\n\nexport function wsPakSendDest(client, pak) {\n  if (!client.connected || client.socket.readyState !== 1) {\n    // We only get to this particular location from wsserver.broadcast*, all\n    //   other paths will print the actual message and error earlier.\n    console.warn(`Attempting to send on a disconnected link (client_id:${client.id}), ignoring`);\n    pak.pool();\n    return;\n  }\n  let buf = pak.getBuffer(); // a Uint8Array\n  let buf_len = pak.getBufferLen();\n  if (buf_len !== buf.length) {\n    buf = new Uint8Array(buf.buffer, buf.byteOffset, buf_len);\n  }\n  wsstats_out.msgs++;\n  wsstats_out.bytes += buf.length;\n  if (client.ws_server) {\n    client.socket.send(buf, function () {\n      pak.pool();\n    });\n  } else {\n    client.socket.send(buf);\n    pak.pool();\n  }\n  client.last_send_time = Date.now();\n}\n\nfunction wsPakSendFinish(pak, err, resp_func) {\n  let { client, msg } = pak.ws_data;\n  delete pak.ws_data;\n  let ack_resp_pkt_id = ackWrapPakFinish(pak, err, resp_func);\n\n  if (!client.connected || client.socket.readyState !== 1) { // WebSocket.OPEN\n    if (msg === 'channel_msg') { // client -> server channel message, attach additional debugging info\n      pak.seek(0);\n      pak.readFlags();\n      let header = ackReadHeader(pak);\n      let is_packet = isPacket(header.data);\n      let channel_id;\n      let submsg;\n      if (is_packet) {\n        pak.ref(); // deal with auto-pool of an empty packet\n        channel_id = pak.readAnsiString();\n        submsg = pak.readAnsiString();\n        if (!pak.ended()) {\n          pak.pool();\n        }\n      } else {\n        channel_id = header.data.channel_id;\n        submsg = header.data.msg;\n      }\n      msg = `channel_msg:${channel_id}:${submsg}`;\n    }\n    if (typeof msg !== 'number') {\n      (client.log ? client : console).log(`Attempting to send msg=${msg} on a disconnected link, ignoring`);\n      if (!client.log && client.onError && msg) {\n        // On the client, if we try to send a new packet while disconnected, this is an application error\n        client.onError(`Attempting to send msg=${msg} on a disconnected link`);\n      }\n    }\n\n    if (ack_resp_pkt_id) {\n      // Callback will never be dispatched through ack.js, remove the callback here\n      delete client.resp_cbs[ack_resp_pkt_id];\n    }\n    pak.pool();\n    return;\n  }\n\n  assert.equal(Boolean(resp_func && resp_func.expecting_response !== false), Boolean(ack_resp_pkt_id));\n\n  wsPakSendDest(client, pak);\n}\n\nfunction wsPakSend(err, resp_func) {\n  let pak = this; //eslint-disable-line no-invalid-this\n  if (typeof err === 'function' && !resp_func) {\n    resp_func = err;\n    err = null;\n  }\n  wsPakSendFinish(pak, err, resp_func);\n}\n\nexport function wsPak(msg, ref_pak, client) {\n  assert(typeof msg === 'string' || typeof msg === 'number');\n\n  // Assume new packet needs to be comparable to old packet, in flags and size\n  let pak = packetCreate(ref_pak ? ref_pak.getInternalFlags() : packet.default_flags,\n    ref_pak ? ref_pak.totalSize() + PAK_HEADER_SIZE : 0);\n  pak.writeFlags();\n\n  ackWrapPakStart(pak, client, msg);\n\n  pak.ws_data = {\n    msg,\n    client,\n  };\n  pak.send = wsPakSend;\n  return pak;\n}\n\nfunction sendMessageInternal(client, msg, err, data, resp_func) {\n  let is_packet = isPacket(data);\n  let pak = wsPak(msg, is_packet ? data : null, client);\n\n  if (!err) {\n    ackWrapPakPayload(pak, data);\n  }\n\n  pak.send(err, resp_func);\n}\n\nexport function sendMessage(msg, data, resp_func) {\n  sendMessageInternal(this, msg, null, data, resp_func); // eslint-disable-line no-invalid-this\n}\n\nexport function wsHandleMessage(client, buf, filter) {\n  ++wsstats.msgs;\n  let now = Date.now();\n  let source = client.id ? `client ${client.id}` : 'server';\n  if (!(buf instanceof Uint8Array)) {\n    (client.log ? client : console).log(`Received incorrect WebSocket data type from ${source} (${typeof buf})`);\n    return client.onError('Invalid data received');\n  }\n  wsstats.bytes += buf.length;\n  let pak = packetFromBuffer(buf, buf.length, false);\n  pak.readFlags();\n  client.last_receive_time = now;\n  client.idle_counter = 0;\n\n  return ackHandleMessage(client, source, pak, function sendFunc(msg, err, data, resp_func) {\n    if (resp_func && !resp_func.expecting_response) {\n      resp_func = null;\n    }\n    sendMessageInternal(client, msg, err, data, resp_func);\n  }, function pakFunc(msg, ref_pak) {\n    return wsPak(msg, ref_pak, client);\n  }, function handleFunc(msg, data, resp_func) {\n    let handler = client.handlers[msg];\n    if (!handler) {\n      let error_msg = `No handler for message ${JSON.stringify(msg)} from ${source}`;\n      console.error(error_msg, isPacket(data) ? data.contents() : data);\n      if (client.onError) {\n        return client.onError(error_msg);\n      }\n      return resp_func(error_msg);\n    }\n    return handler(client, data, resp_func);\n  }, filter);\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvYWNjb3VudF91aS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9hcHAuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvZ2FsYXh5LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9ib290c3RyYXAuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2Jyb3dzZXIuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2NhbWVyYTJkLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9jaGF0X3VpLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9jbWRzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9lZGl0X2JveC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZWZmZWN0cy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZW5naW5lLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9lcnJvcl9yZXBvcnQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2ZiaW5zdGFudC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZmlsZXdhdGNoLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9mb250LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9mcmFtZWJ1ZmZlci5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZnJpZW5kcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZ2VvbS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvZ2xiL2NsaWVudC9nbG92L2dsYi9kZWNvZGUtdXRmOC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvZ2xiL2NsaWVudC9nbG92L2dsYi9nbHRmLXR5cGUtdXRpbHMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2dsYi9jbGllbnQvZ2xvdi9nbGIvcGFyc2VyLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9nbGIvY2xpZW50L2dsb3YvZ2xiL3VucGFjay1iaW5hcnktanNvbi5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvZ2xiL2NsaWVudC9nbG92L2dsYi91bnBhY2stZ2xiLWJ1ZmZlcnMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2luX2V2ZW50LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9pbnB1dC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvbGluay5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvbG9jYWxfc3RvcmFnZS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvbWF0NDMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L21vZGVscy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvbmV0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9uZXRfcG9zaXRpb25fbWFuYWdlci5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvcGFydGljbGVzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9wZXJmLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9wb2ludGVyX2xvY2suanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3BvbHlmaWxsLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9yYW5kX2FsZWEuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3JhbmRfZmFzdC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc2Nyb2xsX2FyZWEuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3NldHRpbmdzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zaGFkZXJzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zb3VuZC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc3ByaXRlX2FuaW1hdGlvbi5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc3ByaXRlcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc3Vic2NyaXB0aW9uX21hbmFnZXIuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3RleHR1cmVzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi90cmFuc2l0aW9uLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi91aS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvdXJsaGFzaC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvdm1hdGguanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3dhbGx0aW1lLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi93ZWJmcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3Yvd29yZHMvY2xpZW50L2dsb3Yvd29yZHMvcHJvZmFuaXR5LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi93c2NsaWVudC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2ltZy9mb250LzA0YjAzXzh4MS5qc29uIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvaW1nL2ZvbnQvMDRiMDNfOHgyLmpzb24iLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9pbWcvZm9udC9wYWxhbnF1aW4zMi5qc29uIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvY2xpZW50L21haW4uanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvbXVsdGlwbGF5ZXIuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvcGFydGljbGVfZGF0YS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9zb2xhcl9zeXN0ZW0uanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvc3Rhcl90eXBlcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi9hY2suanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vYXN5bmMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9kaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vYmFzZTY0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL2NtZF9wYXJzZS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi9lbnVtcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi9tZDUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9kaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vcGFja2V0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL3RpbnktZXZlbnRzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL3V0aWwuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi93b3Jkcy9jb21tb24vd29yZHMvcHJvZmFuaXR5X2NvbW1vbi5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi93c2NvbW1vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTt3SENHQSxJQUFNLE9BQVMsUUFBUSxVQUN2QixJQUFNLGNBQWdCLFFBQVEsMkJBQzlCLElBQU0sVUFBWSxRQUFRLGtCLGFBQ0ksUUFBUSxtQkFBOUIsSyxTQUFBLEtBQU0sWSxTQUFBLFksY0FDTyxRQUFRLGtCQUFyQixTLFVBQUEsU0FDUixJQUFNLElBQU0sUUFBUSxpQkFDcEIsSUFBTSxHQUFLLFFBQVEsZ0IsY0FDRixRQUFRLG1CQUFqQixLLFVBQUEsS0FFRCxJQUFJLFdBQWEsVUFBVSxNQUFNLEtBQU0sQ0FDNUMsTUFBTyxXQUNQLGNBQWUsRUFDZixjQUFlLEssOEJBRVYsSUFBSSxpQkFBbUIsVUFBVSxNQUFNLEtBQU0sQ0FDbEQsTUFBTyxNQUNQLGNBQWUsRUFDZixjQUFlLEssMENBR1YsU0FBUyxhQUFhLFFBQVMsY0FDcEMsSUFBSSxLQUFPLGNBQWdCLFFBQzNCLEdBQUksUUFBUSxnQkFBa0IsS0FBSyxjQUFlLENBQ2hELEtBQVUsYUFBVixLQUEyQixRQUEzQixJQUVGLE9BQU8sS0FHVCxTQUFTLFlBQ1AsS0FBSyxjQUFnQixHQUFHLGNBQWMsQ0FDcEMsWUFBYSxXQUNiLGNBQWUsS0FDZixLQUFNLGNBQWMsSUFBSSxTQUFXLEtB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LEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ1QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ1QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ1QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ1QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFDUixFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ1QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ1IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNSLEVBQUUsRUFBRSxFQUFF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ZCxTQUFTLFNBQVMsT0FBUSxFQUFHLE9BQ2xDLElBQUksT0FBUyxFQUFFLE9BQ2YsSUFBSSxHQUFLLENBQUMsT0FBTyxHQUFHLEdBQUssT0FBTyxFQUFHLEVBQUcsT0FBTyxHQUFHLEdBQUssT0FBTyxHQUM1RCxJQUFJLEVBQUksT0FBTyxFQUNmLEdBQUcsR0FBSyxJQUFJLEVBQUcsT0FBTyxFQUFJLEdBQUcsR0FBSyxHQUFHLElBQ3JDLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxHQUFHLFNBQVUsR0FBSSxDQUNyQyxJQUFJLEtBQU8sR0FBRyxJQUNkLEVBQUUsS0FBSyxDQUNMLEVBQUEsRUFDQSxFQUFHLE9BQU8sRUFDVixFQUFHLE9BQU8sRUFDVixNQUFBLE1BQ0EsRUFBRyxLQUNILEVBQUcsT0FBTyxFQUNWLElBQUssT0FBTyxNQUFNLE1BR3BCLEdBQUssTUFJRixTQUFTLFNBQVMsT0FBUSxFQUFHLE9BQ2xDLElBQUksT0FBUyxFQUFFLE9BQ2YsSUFBSSxHQUFLLENBQUMsT0FBTyxHQUFHLEdBQUssT0FBTyxFQUFHLEVBQUcsT0FBTyxHQUFHLEdBQUssT0FBTyxHQUM1RCxJQUFJLEVBQUksT0FBTyxFQUNmLEdBQUcsR0FBSyxJQUFJLEVBQUcsT0FBTyxFQUFJLEdBQUcsR0FBSyxHQUFHLElBQ3JDLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxHQUFHLFNBQVUsR0FBSSxDQUNyQyxJQUFJLEtBQU8sR0FBRyxJQUNkLEVBQUUsS0FBSyxDQUNMLEVBQUcsT0FBTyxFQUNWLEVBQUEsRUFDQSxFQUFHLE9BQU8sRUFDVixNQUFBLE1BQ0EsRUFBRyxPQUFPLEVBQ1YsRUFBRyxLQUNILElBQUssT0FBTyxNQUFNLE1BR3BCLEdBQUssTUFJRixTQUFTLFFBQVEsT0FBUSxFQUFHLFlBQWEsT0FDOUMsSUFBSSxPQUFTLEVBQUUsT0FDZixJQUFJLE1BQVEsWUFDWixJQUFJLEdBQUssQ0FBQyxPQUFPLE9BQU8sR0FBSyxNQUFPLEVBQUcsT0FBTyxPQUFPLEdBQUssT0FDMUQsR0FBRyxHQUFLLElBQUksRUFBRyxP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QzVCLElBQUksR0FBSyxFQUFFLEdBQUssRUFBRSxHQUNsQixJQUFJLEdBQUssRUFBRSxHQUFLLEVBQUUsR0FDbEIsSUFBSSxHQUFLLEVBQUUsR0FBSyxFQUFFLEdBQ2xCLE9BQU8sSUFHRixTQUFTLFNBQVMsRUFBRyxHQUMxQixFQUFFLElBQU0sRUFDUixFQUFFLElBQU0sRUFDUixFQUFFLElBQU0sRUFDUixPQUFPLEVBR0YsU0FBUyxPQUFPLEVBQUcsR0FDeEIsRUFBRSxJQUFNLEVBQUUsR0FDVixFQUFFLElBQU0sRUFBRSxHQUNWLEVBQUUsSUFBTSxFQUFFLEdBQ1YsT0FBTyxFQUdGLFNBQVMsT0FBTyxLQUNyQixJQUFJLEdBQUssSUFBSSxHQUFLLElBQUksR0FBSyxFQUMzQixPQUFPLElBR0YsU0FBUyxNQUFNLElBQUssRUFBRyxHQUM1QixJQUFJLEdBQUssRUFBRSxHQUFLLEVBQUUsR0FDbEIsSUFBSSxHQUFLLEVBQUUsR0FBSyxFQUFFLEdBQ2xCLElBQUksR0FBSyxFQUFFLEdBQUssRUFBRSxHQUNsQixJQUFJLEdBQUssRUFBRSxHQUFLLEVBQUUsR0FDbEIsT0FBTyxJQUdGLFNBQVMsUUFBUSxHQUN0QixPQUFPLEVBQUUsTUFBTSxHQUdWLFNBQVMsT0FBTyxJQUFLLEdBQzFCLElBQUksR0FBSyxFQUFFLEdBQ1gsSUFBSSxHQUFLLEVBQUUsR0FDWCxJQUFJLEdBQUssRUFBRSxHQUNYLElBQUksR0FBSyxFQUFFLEdBQ1gsT0FBTyxJQUdGLFNBQVMsT0FBTyxJQUFLLEVBQUcsRUFBRyxHQUNoQyxJQUFJLEdBQUssRUFBSSxFQUNiLElBQUksR0FBSyxHQUFLLEVBQUUsR0FBSyxFQUFJLEVBQUUsR0FDM0IsSUFBSSxHQUFLLEdBQUssRUFBRSxHQUFLLEVBQUksRUFBRSxHQUMzQixJQUFJLEdBQUssR0FBSyxFQUFFLEdBQUssRUFBSSxFQUFFLEdBQzNCLElBQUksR0FBSyxHQUFLLEVBQUUsR0FBSyxFQUFJLEVBQUUsR0FDM0IsT0FBTyxJQUdGLFNBQVMsTUFBTSxJQUFLLEVBQUcsR0FDNUIsSUFBSSxH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LEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3ZCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxVQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxXQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3ZCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxVQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxXQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3ZCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxXQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsWUFBWSxFQUFFLElBQ2hCLEVBQUUsWUFBWSxFQUFFLElBQ2hCLEVBQUUsWUFBWSxFQUFFLElBQ2hCLEVBQUUsWUFBWSxFQUFFLElBR2xCLElBQUksS0FBTyxVQUFVLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FBRyxVQUFVLEdBQzVELE9BQU8sS0FBSzs7Ozs7dUdDdlFkLElBQU0sYUFBZSxRQUFRLGFBQWUsR0FBRyxFQUMvQyxJQUFNLGlCQUFtQixRQUFRLGlCQUFtQixHQUFHLEVBQ3ZELElBQU0saUJBQW1CLFFBQVEsaUJBQW1CLEdBQUcsRUFDdkQsSUFBTSxxQkFBdUIsYUFBZSxpQkFBbUIsaUJBRy9ELElBQU0sc0JBQXdCLEdBQUssRUFFbkMsUUFBUSxjQUFnQixFQUV4QixJQUFNLE9BQVMsUUFBUSxVLElBQ2YsSUFBUSxLQUFSLEksYUFDb0IsUUFBUSxxQkFBNUIsVSxTQUFBLFVBQVcsSyxTQUFBLEssY0FFb0IsUUFBUSx1QkFBdkMsYSxVQUFBLGFBQWMsYSxVQUFBLGFBRXRCLElBQU0sT0FBUyxDQUFDLFVBQVcsS0FBTSxFQUFHLE1BQU8sR0FBSSxLQUMvQyxJQUFNLHFCQUF1QixLQUU3QixJQUFNLFNBQVcsa0JBRWpCLElBQU0sYUFBZSxJQUNyQixJQUFNLGFBQWUsSUFDckIsSUFBTSxpQkFBbUIsQ0FDdkIsRUFDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxJQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsSUFHRixJQUFJLFNBQVcsR0FDZixJQUFJLGVBQWlCLEdBQ3JCLElBQUksU0FBVyxpQkFBaUIsSUFBSSxXQUFBLE1BQU0sS0FFMUMsU0FBUyxjQUFjLE1BQ3JCLElBQUksU0FBVyxLQUFLLE1BQ3BCLE9BQU8sVUFDUCxHQUFJLFVBQVksU0FBUyxPQUFRLENBQy9CLFNBQVcsRUFFYixHQUFJLFNBQVUsQ0FDWixLQUFPLEdBQUssU0FDWixHQUFJLFNBQVMsVUFBVSxPQUFRLENBRzdCLE9BQU8sU0FBUyxVQUFVLFdBRXZCLEVBS1AsSUFBSSxHQUFLLElBQUksV0FBVyxNQUN4QixJQUFJLEdBQUssSUFBSSxTQUFTLEdBQUcsUUFDekIsR0FBRyxHQUFLLEdBQ1IsR0FBSSxTQUFVLENBQ1osR0FBRyxnQkFBa0IsU0FFdkIsT0FBTyxHQUdULFNBQVMsaUJBQWlCLElBQ3hCLElBQUksR0FBSyxJQUFJLFNBQVMsR0FBRyxPQUFRLEdBQUcsV0FBWSxHQUFHLFlBQ25ELEdBQUcsR0FBSyxHQUNSLE9BQU8sR0FHVCxTQUFTLGVBQWUsS0FDdEIsSUFBSSxJQUFNLElBQUksT0FDZCxJQUFJLElBQU0sSUFDVixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssTUFBTyxHQUFJLENBQy9CLElBQUksRUFBSSxJQUFJLFdBQVcsSUFDdkIsR0FBSSxFQUFJLElBQU0sR0FDVixJQUNGLEdBQUksRUFBSSxLQUFRLEdBQ1osSUFDRixHQUFJLEVBQUksTUFBUSxHQUNaLElBQ0YsR0FBSSxFQUFJLFFBQVUsR0FDZCxJQUNGLEdBQUksRUFBSSxTQUFXLEdBQ2YsU0FPZCxPQUFPLElBSVQsU0FBUyxjQUFjLElBQUssU0FBVSxHQUNwQyxHQUFJLEdBQUssSUFBTSxDQUNiLElBQUksR0FBRyxZQUFjLE9BQ2hCLEdBQUksR0FBSyxLQUFRLENBQ3RCLElBQUksR0FBRyxZQUFlLEdBQUssRUFBSyxJQUNoQyxJQUFJLEdBQUcsWUFBZSxFQUFJLEdBQVEsU0FDN0IsR0FBSSxHQUFLLE1BQVEsQ0FDdEIsSUFBSSxHQUFHLFlBQWUsR0FBSyxHQUFNLElBQ2pDLElBQUksR0FBRyxZQUFnQixHQUFLLEVBQUssR0FBUSxJQUN6QyxJQUFJLEdBQUcsWUFBZSxFQUFJLEdBQVEsU0FDN0IsR0FBSSxHQUFLLFFBQVUsQ0FDeEIsSUFBSSxHQUFHLFlBQWUsR0FBSyxHQUFNLElBQ2pDLElBQUksR0FBRyxZQUFnQixHQUFLLEdBQU0sR0FBUSxJQUMxQyxJQUFJLEdBQUcsWUFBZ0IsR0FBSyxFQUFLLEdBQVEsSUFDekMsSUFBSSxHQUFHLFlBQWUsRUFBSSxHQUFRLFNBQzdCLEdBQUksR0FBSyxTQUFXLENBQ3pCLElBQUksR0FBRyxZQUFlLEdBQUssR0FBTSxJQUNqQyxJQUFJLEdBQUcsWUFBZ0IsR0FBSyxHQUFNLEdBQVEsSUFDMUMsSUFBSSxHQUFHLFlBQWdCLEdBQUssR0FBTSxHQUFRLElBQzFDLElBQUksR0FBRyxZQUFnQixHQUFLLEVBQUssR0FBUSxJQUN6QyxJQUFJLEdBQUcsWUFBZSxFQUFJLEdBQVEsU0FDN0IsR0FBSSxHQUFLLFdBQVksQ0FDMUIsSUFBSSxHQUFHLFlBQWUsR0FBSyxHQUFNLElBQ2pDLElBQUksR0FBRyxZQUFnQixHQUFLLEdBQU0sR0FBUSxJQUMxQyxJQUFJLEdBQUcsWUFBZ0IsR0FBSyxHQUFNLEdBQVEsSUFDMUMsSUFBSSxHQUFHLFlBQWdCLEdBQUssR0FBTSxHQUFRLElBQzFDLElBQUksR0FBRyxZQUFnQixHQUFLLEVBQUssR0FBUSxJQUN6QyxJQUFJLEdBQUcsWUFBZSxFQUFJLEdBQVEsSUFFcEMsT0FBTyxTQUdULFNBQVMsUUFBUSxJQUVmLE9BQU8sSUFDUCxPQUFPLEdBQUcsSUFDVixJQUFJLFNBQVcsR0FBRyxnQkFDbEIsR0FBSSxTQUFVLENBQ1osSUFBSSxJQUFNLFNBQVMsVUFDbkIsR0FBSSxJQUFJLE9BQVMsaUJBQWlCLFVBQVcsQ0FFM0MsSUFBSSxLQUFLLFNBRU4sR0FLRixTQUFTLG1CQUFtQixNQUNqQyxPQUFPLGNBQWMsTUFFaEIsU0FBUyxrQkFBa0IsSUFDaEMsUUFBUSxJQUdWLFNBQVMsT0FBTyxNQUFPLFVBQVcsV0FDaEMsS0FBSyxPQUFPLE1BQU8sVUFBVyxXQUVoQyxPQUFPLFVBQVUsT0FBUyxTQUFVLE1BQU8sVUFBVyxXQUNwRCxLQUFLLE1BQVEsT0FBUyxFQUN0QixLQUFLLFVBQVksTUFDakIsS0FBSyxJQUFNLEtBQ1gsS0FBSyxRQUFVLEVBQ2YsS0FBSyxTQUFXLEVBQ2hCLEtBQUssS0FBTyxLQUNaLEtBQUssT0FBUyxLQUNkLEtBQUssU0FBVyxNQUNoQixLQUFLLFVBQVksRUFDakIsS0FBSyxVQUFZLFVBQ2pCLEdBQUksVUFBVyxDQUNiLEtBQUssSUFBSSxVQUFXLE1BQ3BCLEtBQUssUUFBVSxZQUduQixPQUFPLFVBQVUsSUFBTSxXQUNyQixPQUFPLEtBQUssYUFDVixLQUFLLFdBRVQsT0FBTyxVQUFVLEtBQU8sV0FDdEIsT0FBTyxLQUFLLFdBQ1osS0FBTSxLQUFLLFVBQVcsQ0FDcEIsT0FHRixHQUFJLEtBQUssTUFBUSxzQkFBdUIsTUFFakMsQ0FDTCxHQUFJLEtBQUssSUFBSyxDQUNaLFFBQVEsS0FBSyxLQUVmLEdBQUksS0FBSyxLQUFNLENBQ2IsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEtBQUssS0FBSyxTQUFVLEdBQUksQ0FDNUMsUUFBUSxLQUFLLEtBQUssT0FJeEIsR0FBSSxTQUFTLE9BQVMsYUFBYyxDQUNsQyxTQUFTLEtBQUssTUFFaEIsR0FBSSxLQUFLLFVBQVcsQ0FDbEIsS0FBSyxVQUFVLGNBSW5CLE9BQU8sVUFBVSxVQUFZLFdBQzNCLElBQUksSUFBTSxFQUNWLEdBQUksS0FBSyxTQUFVLENBQ2pCLE9BQU8sS0FBSyxRQUVkLEdBQUksS0FBSyxPQUFRLENBQ2YsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEtBQUssT0FBTyxTQUFVLEdBQUksQ0FDOUMsS0FBTyxLQUFLLE9BQU8sS0FHdkIsS0FBTyxLQUFLLFNBQ1osT0FBTyxLQUdULE9BQU8sVUFBVSxZQUFjLFdBQzdCLE9BQU8sS0FBSyxLQUNaLFFBQVEsS0FBSyxNQUNiLFFBQVEsS0FBSyxVQUNiLEtBQUssU0FBVyxNQUdsQixPQUFPLFVBQVUsYUFBZSxXQUM5QixPQUFPLEtBQUssS0FDWixRQUFRLEtBQUssVUFDYixJQUFJLE1BQVEsS0FBSyxZQUNqQixLQUFLLFNBQVcsS0FDaEIsSUFBSyxLQUFLLEtBQU0sQ0FDZCxLQUFLLFFBQVUsTUFDZixLQUFLLFNBQVcsRUFDaEIsT0FFRixJQUFJLElBQU0sY0FBYyxPQUN4QixJQUFJLEdBQUssSUFBSSxHQUNiLElBQUksS0FBTyxFQUNYLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxLQUFLLEtBQUssU0FBVSxHQUFJLENBQzVDLElBQUksTUFBUSxLQUFLLE9BQU8sSUFDeEIsSUFBSSxHQUFLLEtBQUssS0FBSyxJQUNuQixHQUFJLEtBQU8sR0FBRyxHQUFHLE9BQVMsTUFBTyxDQUUvQixPQUFPLE1BQU0sR0FBRyxXQUFZLEdBQzVCLEdBQUcsSUFBSSxJQUFJLFdBQVcsR0FBRyxPQUFRLEVBQUcsT0FBUSxVQUN2QyxDQUNMLEdBQUcsSUFBSSxHQUFHLEdBQUksTUFFaEIsTUFBUSxNQUNSLFFBQVEsSUFFVixPQUFPLE1BQU0sS0FBSyxJQUFJLFdBQVksR0FDbEMsR0FBRyxJQUFJLElBQUksV0FBVyxLQUFLLElBQUksT0FBUSxLQUFLLElBQUksV0FBWSxLQUFLLFVBQVcsTUFDNUUsUUFBUSxLQUFLLEtBQ2IsT0FBTyxNQUFNLEtBQU8sS0FBSyxTQUFVLE9BQ25DLEtBQUssS0FBTyxLQUFLLE9BQVMsS0FDMUIsS0FBSyxJQUFNLElBQ1gsS0FBSyxTQUFXLEVBQ2hCLEtBQUssUUFBVSxPQUdqQixPQUFPLFVBQVUsTUFBUSxXQUFZLElBQzdCLElBQWtCLEtBQWxCLElBQUssU0FBYSxLQUFiLFNBQ1gsSUFBSyxLQUFLLEtBQU0sQ0FDZCxLQUFLLEtBQU8sQ0FBQyxLQUNiLEtBQUssT0FBUyxDQUFDLGNBQ1YsQ0FDTCxLQUFLLEtBQUssS0FBSyxLQUNmLEtBQUssT0FBTyxLQUFLLFVBRW5CLEtBQUssSUFBTSxLQUNYLEtBQUssUUFBVSxFQUNmLEtBQUssU0FBVyxHQUVsQixPQUFPLFVBQVUsSUFBTSxTQUFVLFlBQWEsWUFBWSxJQUNsRCxJQUEyQixLQUEzQixJQUFLLFFBQXNCLEtBQXRCLFFBQVMsU0FBYSxLQUFiLFNBQ3BCLElBQUksU0FBVyxTQUFXLFlBQzFCLEdBQUksVUFBWSxRQUFTLENBQ3ZCLElBQUssV0FBWSxDQUNmLEtBQUssU0FBVyxTQUVsQixPQUFPLFNBRVQsUUFBUSxLQUFLLFVBQ2IsR0FBSSxJQUFLLENBQ1AsS0FBSyxRQUVQLEtBQUssUUFBVSxRQUFVLElBQUkscUJBQXNCLGFBQ25ELEtBQUssSUFBTSxjQUFjLFNBQ3pCLEtBQUssU0FBVyxXQUFhLEVBQUksWUFDakMsT0FBTyxHQUVULE9BQU8sVUFBVSxRQUFVLFNBQVUsT0FDbkMsSUFBSSxLQUFPLEtBQUssU0FDaEIsSUFBSSxTQUFXLEtBQU8sTUFDdEIsS0FBSyxTQUFXLFNBQ2hCLEdBQUksU0FBVyxLQUFLLFFBQVMsQ0FDM0IsTUFBTSxJQUFJLE1BQU0sVUFFbEIsR0FBSSxXQUFhLEtBQUssUUFBUyxDQUM3QixLQUFLLE9BRVAsT0FBTyxNQUVULE9BQU8sVUFBVSxNQUFRLFdBQ3ZCLE9BQU8sS0FBSyxXQUFhLEtBQUssU0FJaEMsT0FBTyxVQUFVLFFBQVUsU0FBVSxHQUNuQyxPQUFPLEdBQUssR0FBSyxFQUFJLEtBQ3JCLElBQUksS0FBTyxLQUFLLElBQUksR0FDcEIsS0FBSyxJQUFJLEdBQUcsTUFBUSxHQUV0QixPQUFPLFVBQVUsT0FBUyxXQUN4QixPQUFPLEtBQUssSUFBSSxHQUFHLEtBQUssUUFBUSxLQVlsQyxPQUFPLFVBQVUsU0FBVyxTQUFVLEdBQ3BDLE9BQU8sVUFBVSxJQUNqQixJQUFJLEtBQU8sS0FBSyxJQUFJLEVBQUcsTUFDdkIsSUFBSSxJQUFNLEtBQUssSUFDZixJQUFJLElBQU8sRUFBSSxFQUFLLEVBQUksRUFDeEIsR0FBSSxJQUFLLENBQ1AsR0FBSyxFQUVQLEdBQUksRUFBSSxJQUFLLENBQ1gsR0FBSSxJQUFLLENBQ1AsSUFBSSxHQUFHLFFBQVUsSUFFbkIsSUFBSSxHQUFHLFFBQVUsTUFDWixDQUNMLEdBQUksRUFBSSxNQUFPLENBQ2IsSUFBSSxHQUFHLFFBQVUsSUFBTSxJQUN2QixJQUFJLFVBQVUsS0FBTSxFQUFHLE1BQ3ZCLE1BQVEsT0FDSCxHQUFJLEVBQUksV0FBWSxDQUN6QixJQUFJLEdBQUcsUUFBVSxJQUFNLElBQ3ZCLElBQUksVUFBVSxLQUFNLEVBQUcsTUFDdkIsTUFBUSxNQUNILENBQ0wsSUFBSSxHQUFHLFFBQVUsSUFBTSxJQUN2QixJQUFJLFNBQVcsSUFBTSxFQUNyQixJQUFJLFVBQVUsS0FBTSxTQUFVLE1BQzlCLE1BQVEsRUFDUixJQUFJLFVBQVUsTUFBTyxFQUFJLFVBQVksV0FBWSxNQUNqRCxNQUFRLEdBR1osS0FBSyxTQUFXLE1BRWxCLE9BQU8sVUFBVSxRQUFVLFdBRXpCLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxLQUFLLFVBQzFCLEdBQUksR0FBSyxJQUFLLENBQ1osS0FBSyxJQUFJLEdBQUcsS0FBSyxZQUFjLEVBQy9CLE9BR0YsS0FBSyxXQUNMLElBQUksT0FBUyxFQUNiLE9BQVEsSUFDTixLQUFLLElBQ0wsS0FBSyxJQUNILFFBQVUsRUFDWixLQUFLLElBQ0wsS0FBSyxJQUNILFFBQVUsRUFDWixLQUFLLElBQ0wsS0FBSyxJQUNILFNBQ0YsS0FBSyxJQUVILE1BQ0YsUUFDRSxNQUFNLElBQUksTUFBTSxxQkFFcEIsTUFBTyxPQUFRLEdBQ1gsT0FDRixLQUFLLElBQUksR0FBRyxLQUFLLFlBQWMsSUFHbkMsT0FBTyxVQUFVLFFBQVUsV0FDekIsSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEtBQUssUUFBUSxJQUNsQyxHQUFJLEdBQUssSUFBSyxDQUNaLE9BQU8sR0FFVCxJQUFJLEtBQU8sRUFDWCxPQUFRLElBQ04sS0FBSyxJQUNILE1BQVEsRUFDVixLQUFLLElBQ0gsT0FBTyxLQUFPLEtBQUssSUFBSSxVQUFVLEtBQUssUUFBUSxHQUFJLE1BQ3BELEtBQUssSUFDSCxNQUFRLEVBQ1YsS0FBSyxJQUNILE9BQU8sS0FBTyxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsR0FBSSxNQUNwRCxLQUFLLElBQ0gsTUFBUSxFQUNWLEtBQUssSUFBSyxDQUNSLElBQUksU0FBVyxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsR0FBSSxNQUNuRCxJQUFJLFVBQVksS0FBSyxJQUFJLFVBQVUsS0FBSyxRQUFRLEdBQUksTUFDcEQsT0FBTyxNQUFRLFVBQVksV0FBYSxVQUUxQyxLQUFLLElBQ0gsT0FBUSxLQUFLLElBQUksR0FBRyxLQUFLLFFBQVEsSUFDbkMsUUFDRSxNQUFNLElBQUksTUFBTSx1QkFHdEIsT0FBTyxVQUFVLFdBQWEsU0FBVSxHQUN0QyxPQUFPLGFBQWEsRUFBRyxVQUN2QixJQUFLLEVBQUcsQ0FDTixLQUFLLElBQUksR0FBRyxLQUFLLElBQUksSUFBTSxFQUMzQixPQUVGLElBQUksS0FBTyxLQUFLLElBQUksRUFBRyxNQUN2QixLQUFLLElBQUksV0FBVyxLQUFNLEVBQUcsTUFDN0IsR0FBSSxLQUFLLElBQUksR0FBRyxPQUFTLEVBQUcsQ0FDMUIsS0FBSyxJQUFJLEdBQUcsUUFBVSxFQUN0QixLQUFLLElBQUksV0FBVyxLQUFNLEVBQUcsTUFFL0IsS0FBSyxTQUFXLEtBQU8sR0FFekIsT0FBTyxVQUFVLFVBQVksV0FDM0IsSUFBSSxLQUFPLEtBQUssUUFBUSxHQUN4QixJQUFJLEdBQUssS0FBSyxJQUFJLEdBQUcsTUFDckIsSUFBSyxHQUFJLENBQ1AsT0FBTyxFQUVULEdBQUksS0FBTyxFQUFHLENBQ1osT0FBTyxLQUFLLElBQUksV0FBVyxLQUFLLFFBQVEsR0FBSSxNQUU5QyxLQUFLLFFBQVEsR0FDYixPQUFPLEtBQUssSUFBSSxXQUFXLEtBQU0sT0FFbkMsT0FBTyxVQUFVLFNBQVcsU0FBVSxHQUNwQyxPQUFPLGFBQWEsRUFBRyxVQUN2QixLQUFLLElBQUksVUFBVSxLQUFLLElBQUksR0FBSSxFQUFHLE9BRXJDLE9BQU8sVUFBVSxRQUFVLFdBQ3pCLE9BQU8sS0FBSyxJQUFJLFVBQVUsS0FBSyxRQUFRLEdBQUksT0FFN0MsT0FBTyxVQUFVLFlBQWMsU0FBVSxHQUN2QyxPQUFPLGFBQWEsRUFBRyxVQUN2QixJQUFJLFlBQWMsZUFBZSxHQUNqQyxLQUFLLFNBQVMsYUFDZCxJQUFLLFlBQWEsQ0FDaEIsT0FFRixJQUFJLEtBQU8sS0FBSyxJQUFJLGFBQ3BCLElBQUksSUFBTSxLQUFLLElBQ2YsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEVBQUUsU0FBVSxHQUFJLENBQ3BDLElBQUksRUFBSSxFQUFFLFdBQVcsSUFDckIsR0FBSSxHQUFLLElBQU0sQ0FDYixJQUFJLEdBQUcsUUFBVSxNQUNaLENBQ0wsS0FBTyxjQUFjLElBQUssS0FBTSxNQUt0QyxPQUFPLFVBQVUsYUFBZSxTQUFVLEdBQ3hDLElBQUksSUFBTSxLQUFLLElBQ2YsR0FBSSxHQUFLLEtBQVEsRUFBSSxJQUFNLENBQ3pCLE9BQVMsRUFBSSxLQUFTLEVBQ25CLElBQUksR0FBRyxLQUFLLFlBQWMsUUFDeEIsR0FBSSxHQUFLLEtBQVEsRUFBSSxJQUFNLENBQ2hDLE9BQVMsRUFBSSxLQUFTLElBQ2xCLElBQUksR0FBRyxLQUFLLFlBQWMsS0FBUyxFQUNwQyxJQUFJLEdBQUcsS0FBSyxZQUFjLFFBQ3hCLEdBQUksR0FBSyxLQUFRLEVBQUksSUFBTSxDQUNoQyxPQUFTLEVBQUksS0FBUyxJQUNsQixJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsSUFDbkMsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLEVBQ3BDLElBQUksR0FBRyxLQUFLLFlBQWMsUUFDeEIsR0FBSSxHQUFLLEtBQVEsRUFBSSxJQUFNLENBQ2hDLE9BQVMsRUFBSSxLQUFTLElBQ2xCLElBQUksR0FBRyxLQUFLLFlBQWMsS0FBUyxJQUNuQyxJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsSUFDbkMsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLEVBQ3BDLElBQUksR0FBRyxLQUFLLFlBQWMsT0FDeEIsQ0FDTCxPQUFTLEVBQUksS0FBUyxJQUNsQixJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsSUFDbkMsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLElBQ25DLElBQUksR0FBRyxLQUFLLFlBQWMsS0FBUyxJQUNuQyxJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsRUFDcEMsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUlqQyxJQUFJLGdCQUFrQixHQUN0QixPQUFPLFVBQVUsV0FBYSxXQUM1QixJQUFJLFlBQWMsS0FBSyxVQUN2QixJQUFLLFlBQWEsQ0FDaEIsTUFBTyxHQUVULEdBQUksS0FBSyxTQUFXLFlBQWMsS0FBSyxRQUFTLENBQzlDLE1BQU0sSUFBSSxNQUFNLFVBTnNCLElBU2xDLElBQVEsS0FBUixJQUNOLElBQUksV0FBYSxLQUFLLFNBQVcsWUFDakMsSUFBSSxJQUNKLEdBQUksWUFBYyxLQUFNLENBQ3RCLElBQU0sR0FDTixNQUFPLEtBQUssU0FBVyxXQUFZLENBQ2pDLElBQUksRUFBSSxJQUFJLEdBQUcsS0FBSyxZQUNwQixHQUFJLEVBQUksSUFBTSxDQUNaLEVBQUksS0FBSyxhQUFhLEdBRXhCLEtBQU8sT0FBTyxhQUFhLFFBRXhCLENBQ0wsZ0JBQWdCLE9BQVMsWUFDekIsSUFBSSxHQUFLLEVBQ1QsTUFBTyxLQUFLLFNBQVcsV0FBWSxDQUNqQyxJQUFJLEdBQUksSUFBSSxHQUFHLEtBQUssWUFDcEIsR0FBSSxHQUFJLElBQU0sQ0FDWixHQUFJLEtBQUssYUFBYSxJQUV4QixnQkFBZ0IsTUFBUSxHQUUxQixHQUFJLGdCQUFnQixTQUFXLEdBQUksQ0FFakMsZ0JBQWdCLE9BQVMsR0FFM0IsSUFBTSxPQUFPLGFBQWEsTUFBTSxVQUFXLGlCQUU3QyxHQUFJLEtBQUssV0FBYSxLQUFLLFFBQVMsQ0FDbEMsS0FBSyxPQUVQLE9BQU8sS0FHVCxPQUFPLFVBQVUsZ0JBQWtCLFNBQVUsR0FDM0MsT0FBTyxhQUFhLEVBQUcsVUFDdkIsSUFBSSxZQUFjLEVBQUUsT0FDcEIsS0FBSyxTQUFTLGFBQ2QsSUFBSSxLQUFPLEtBQUssSUFBSSxhQUowQixJQUt4QyxJQUFRLEtBQVIsSUFDTixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssY0FBZSxHQUFJLENBQ3ZDLElBQUksR0FBRyxRQUFVLEVBQUUsV0FBVyxNQUdsQyxPQUFPLFVBQVUsZUFBaUIsV0FDaEMsSUFBSSxJQUFNLEtBQUssVUFDZixJQUFLLElBQUssQ0FDUixNQUFPLEdBRVQsSUFBSSxLQUFPLEtBQUssUUFBUSxLQUxvQixJQU10QyxJQUFRLEtBQVIsSUFDTixnQkFBZ0IsT0FBUyxJQUN6QixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssTUFBTyxHQUFJLENBQy9CLGdCQUFnQixJQUFNLElBQUksR0FBRyxRQUUvQixPQUFPLE9BQU8sYUFBYSxNQUFNLFVBQVcsa0JBSTlDLE9BQU8sVUFBVSxVQUFZLFNBQVUsR0FDckMsSUFBSyxFQUFHLENBQ04sSUFBSSxJQUFNLE9BQU8sUUFBUSxHQUN6QixPQUFPLE9BQVMsR0FDaEIsS0FBSyxRQUFRLElBQU0sR0FDbkIsT0FFRixLQUFLLFFBQVEsR0FDYixLQUFLLFlBQVksS0FBSyxVQUFVLEtBRWxDLE9BQU8sVUFBVSxTQUFXLFdBQzFCLElBQUksS0FBTyxLQUFLLFNBQ2hCLEdBQUksS0FBTSxDQUNSLEdBQUksS0FBTyxHQUFLLE9BQU8sT0FBUSxDQUM3QixNQUFNLElBQUksTUFBTSxzQkFFbEIsT0FBTyxPQUFPLEtBQU8sR0FFdkIsSUFBSSxJQUFNLEtBQUssYUFDZixPQUFPLEtBQUssTUFBTSxNQUdwQixPQUFPLFVBQVUsWUFBYyxTQUFVLEdBQ3ZDLEtBQUssU0FBUyxFQUFFLFFBQ2hCLEdBQUksRUFBRSxPQUFRLENBQ1osSUFBSSxLQUFPLEtBQUssSUFBSSxFQUFFLFFBQ3RCLEtBQUssSUFBSSxHQUFHLElBQUksRUFBRyxRQUd2QixJQUFNLFNBQVcsSUFBSSxXQUFXLEdBQ2hDLE9BQU8sVUFBVSxXQUFhLFNBQVUsU0FDdEMsSUFBSSxJQUFNLEtBQUssVUFDZixJQUFLLElBQUssQ0FDUixPQUFPLFNBRVQsSUFBSSxLQUFPLEtBQUssUUFBUSxLQUN4QixHQUFJLFFBQVMsQ0FDWCxPQUFPLEtBQUssSUFBSSxHQUFHLE1BQU0sS0FBTSxLQUFPLFNBQ2pDLENBQUEsSUFDQyxJQUFRLEtBQVIsSUFDTixPQUFPLElBQUksV0FBVyxJQUFJLE9BQVEsSUFBSSxXQUFhLEtBQU0sT0FHN0QsT0FBTyxVQUFVLFVBQVksU0FBVSxHQUNyQyxLQUFLLFFBQVEsRUFBRSxFQUFFLElBRW5CLE9BQU8sVUFBVSxTQUFXLFdBQzFCLE9BQU8sUUFBUSxLQUFLLFdBR3RCLE9BQU8sVUFBVSxPQUFTLFNBQVUsS0FDbEMsT0FBTyxNQUFNLEtBQUssTUFBUSxxQkFBc0IsSUFBSSxNQUFRLHNCQUM1RCxHQUFJLElBQUksS0FBTSxDQUNaLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxJQUFJLEtBQUssU0FBVSxHQUFJLENBQzNDLElBQUksSUFBTSxJQUFJLEtBQUssSUFDbkIsSUFBSSxNQUFRLElBQUksT0FBTyxJQUN2QixJQUFJLEtBQU8sS0FBSyxJQUFJLE9BQ3BCLEdBQUksUUFBVSxJQUFJLFdBQVksQ0FDNUIsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLFdBQVcsSUFBSSxPQUFRLElBQUksV0FBWSxPQUFRLFVBQzlELENBQ0wsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUksUUFJOUIsR0FBSSxJQUFJLElBQUssQ0FDWCxJQUFJLEtBQU0sSUFBSSxJQUNkLElBQUksT0FBUSxJQUFJLFNBQVcsSUFBSSxRQUFVLElBQUksU0FDN0MsSUFBSSxNQUFPLEtBQUssSUFBSSxRQUNwQixHQUFJLFNBQVUsS0FBSSxXQUFZLENBQzVCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxXQUFXLEtBQUksT0FBUSxLQUFJLFdBQVksUUFBUSxXQUM5RCxDQUNMLEtBQUssSUFBSSxHQUFHLElBQUksS0FBSSxHQUFJLFVBSzlCLE9BQU8sVUFBVSxnQkFBa0IsU0FBVSxLQUMzQyxPQUFPLE1BQU0sS0FBSyxNQUFRLHFCQUFzQixJQUFJLE1BQVEsc0JBQzVELE9BQU8sSUFBSSxVQUNYLFFBQVEsSUFBSSxNQUNaLE9BQU8sSUFBSSxLQUNYLE9BQU8sSUFBSSxVQUFZLElBQUksU0FDM0IsSUFBSSxNQUFRLElBQUksUUFBVSxJQUFJLFNBQzlCLEdBQUksTUFBTyxDQUNULElBQUksS0FBTyxLQUFLLElBQUksT0FDcEIsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLFdBQVcsSUFBSSxJQUFJLE9BQVEsSUFBSSxJQUFJLFdBQWEsSUFBSSxTQUFVLE9BQVEsTUFHNUYsSUFBSSxRQUdOLE9BQU8sVUFBVSxPQUFTLFdBQ3hCLElBQUksSUFBTSxDQUNSLEVBQUcsS0FBSyxPQUdWLEdBQUksS0FBSyxLQUFNLENBQ2IsSUFBSSxFQUFJLEdBQ1IsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEtBQUssS0FBSyxTQUFVLEdBQUksQ0FDNUMsSUFBSSxFQUFFLEtBQUssYUFBYSxLQUFLLEtBQUssSUFBSyxFQUFHLEtBQUssT0FBTyxPQUcxRCxHQUFJLEtBQUssSUFBSyxDQUNaLEdBQUksS0FBSyxTQUFVLENBQ2pCLElBQUksRUFBSSxhQUFhLEtBQUssSUFBSyxFQUFHLEtBQUssYUFDbEMsQ0FDTCxJQUFJLEVBQUksYUFBYSxLQUFLLElBQUssRUFBRyxLQUFLLFdBRzNDLE9BQU8sS0FHVCxPQUFPLFVBQVUsVUFBWSxTQUFVLElBQUssU0FDMUMsUUFBUSxLQUFLLEtBQ2IsUUFBUSxLQUFLLE1BQ2IsT0FBTyxLQUFLLE1BQVEsdUJBQ3BCLE9BQU8sZUFBZSxZQUN0QixLQUFLLElBQU0saUJBQWlCLEtBQzVCLEtBQUssUUFBVSxRQUNmLEtBQUssU0FBVyxNQUdsQixPQUFPLFVBQVUsVUFBWSxXQUMzQixPQUFPLEtBQUssS0FDWixRQUFRLEtBQUssTUFDYixPQUFPLEtBQUssSUFBSSxJQUdsQixPQUFPLFVBQVUsYUFBZSxXQUM5QixPQUFPLEtBQUssS0FDWixRQUFRLEtBQUssTUFDYixPQUFPLEtBQUssU0FBVyxLQUFLLFFBQVUsS0FBSyxVQUc3QyxPQUFPLFVBQVUsVUFBWSxXQUMzQixHQUFJLEtBQUssU0FBVSxDQUNqQixPQUFPLEtBQUssU0FFZCxPQUFPLEtBQUssYUFHZCxPQUFPLFVBQVUsS0FBTyxTQUFVLEtBQ2hDLE9BQU8sS0FBSyxVQUNaLE9BQU8sS0FBTyxHQUFLLEtBQU8sS0FBSyxTQUMvQixLQUFLLFNBQVcsS0FHbEIsT0FBTyxVQUFVLFdBQWEsV0FDNUIsUUFBUSxLQUFLLFdBQ2IsT0FBTyxNQUFNLEtBQUssU0FBVSxHQUM1QixLQUFLLFFBQVEsS0FBSyxPQUNsQixLQUFLLFVBQVksTUFHbkIsT0FBTyxVQUFVLFlBQWMsU0FBVSxPQUN2QyxPQUFPLEtBQUssV0FDWixTQUFTLE1BQVEsdUJBQ2pCLEtBQUssTUFBUSxLQUFLLE1BQVEscUJBQXVCLE1BQ2pELElBQUksSUFBTSxLQUFLLEtBQU8sS0FBSyxLQUFLLEdBQUssS0FBSyxJQUMxQyxJQUFJLEdBQUcsR0FBSyxLQUFLLE9BR25CLE9BQU8sVUFBVSxVQUFZLFdBQzNCLElBQUksS0FBTyxLQUFLLFNBQ2hCLE9BQU8sTUFBTSxLQUFNLEtBQUssTUFBUSxLQUNoQyxLQUFLLFVBQVksS0FDakIsT0FBTyxLQUFLLE9BR2QsT0FBTyxVQUFVLFNBQVcsV0FDMUIsT0FBTyxLQUFLLE9BR2QsT0FBTyxVQUFVLGlCQUFtQixXQUNsQyxPQUFPLEtBQUssTUFBUSxzQkFHdEIsT0FBTyxVQUFVLFNBQVcsV0FDMUIsTUFBQSxPQUFjLEtBQUssWUFBbkIsTUFHRixTQUFTLFlBQVksTUFBTyxXQUMxQixLQUFLLE9BQU8sTUFBTyxXQUVyQixZQUFZLFVBQVUsT0FBUyxTQUFVLE1BQU8sV0FBVyxJQUFBLE1BQUEsS0FDekQsS0FBSyxRQUFVLE1BQ2YsR0FBSSxTQUFTLE9BQVEsQ0FDbkIsS0FBSyxJQUFNLFNBQVMsTUFDcEIsS0FBSyxJQUFJLE9BQU8sTUFBTyxVQUFXLFVBQzdCLENBQ0wsS0FBSyxJQUFNLElBQUksT0FBTyxNQUFPLFVBQVcsTUFFMUMsS0FBSyxPQUFTLE1BQ2QsS0FBSyxXQUFhLFdBQVcsV0FDM0IsUUFBUSxLQUFSLCtCQUE0QyxNQUFLLFlBQ2pELE1BQUssT0FBUyxNQUNiLGVBRUwsWUFBWSxVQUFVLFVBQVksV0FDaEMsR0FBSSxLQUFLLE9BQVEsQ0FDZixRQUFRLEtBQUssbUNBQ1IsQ0FDTCxhQUFhLEtBQUssWUFFcEIsUUFBUSxLQUFLLFNBQ2IsS0FBSyxRQUFVLEtBQ2YsR0FBSSxlQUFlLE9BQVMsYUFBYyxDQUN4QyxlQUFlLEtBQUssUUFHeEIsSUFBTSxNQUFRLENBQUMsS0FBTSxLQUFNLE1BQU8sTUFBTyxRQUFTLFNBQVUsYUFBYyxPQUFRLE9BQVEsVUFFMUYsTUFBTSxRQUFRLFNBQUMsS0FBTSxLQUNuQixJQUFLLEtBQU0sQ0FDVCxPQUVGLElBQUksTUFBQSxRQUFnQixLQUNwQixJQUFJLEtBQUEsT0FBYyxLQUNsQixJQUFJLFNBQVcsT0FBTyxVQUFVLE9BQ2hDLElBQUksUUFBVSxPQUFPLFVBQVUsTUFDL0IsWUFBWSxVQUFVLE9BQVMsU0FBVSxHQUN2QyxLQUFLLElBQUksUUFBUSxLQUNqQixTQUFTLEtBQUssS0FBSyxJQUFLLElBRTFCLFlBQVksVUFBVSxNQUFRLFNBQVUsT0FDdEMsSUFBSSxVQUFZLEtBQUssSUFBSSxTQUN6QixHQUFJLFlBQWMsSUFBSyxDQUNyQixPQUFPLE1BQUQsK0JBQXVDLEtBQXZDLElBQStDLElBQS9DLFlBQThELE1BQU0sV0FBcEUsSUFBa0YsVUFBbEYsS0FFUixPQUFPLFFBQVEsS0FBSyxLQUFLLElBQUssVUFHbEMsWUFBWSxVQUFVLFFBQVUsV0FDOUIsS0FBSyxJQUFJLFFBQVEsR0FDakIsS0FBSyxJQUFJLFdBR1gsQ0FDRSxRQUNBLFlBQ0EsZUFDQSxXQUNBLG1CQUNBLFlBQ0EsZUFDQSxPQUNBLFlBQ0EsTUFDQSxPQUNBLFlBQ0EsY0FDQSxTQUNBLFlBQ0EsY0FDQSxjQUNBLFFBQVEsU0FBQyxPQUNULElBQUksR0FBSyxPQUFPLFVBQVUsT0FDMUIsWUFBWSxVQUFVLE9BQVMsV0FDN0IsT0FBTyxHQUFHLE1BQU0sS0FBSyxJQUFLLGNBRzlCLFlBQVksVUFBVSxPQUFTLFNBQVUsS0FDdkMsT0FBTyxlQUFlLGFBQ3RCLEtBQUssSUFBSSxPQUFPLElBQUksTUFFdEIsWUFBWSxVQUFVLGdCQUFrQixTQUFVLEtBQ2hELE9BQU8sZUFBZSxhQUN0QixLQUFLLElBQUksZ0JBQWdCLElBQUksTUFFL0IsU0FBUyxPQUFPLEdBQ2QsY0FBZSxHQUNiLElBQUssU0FDSCxHQUFJLGFBQWEsV0FBWSxDQUMzQixNQUFBLE1BQWEsRUFBRSxPQUFmLElBRUYsT0FBTyxLQUFLLFVBQVUsR0FDeEIsUUFDRSxPQUFPLEdBR2IsWUFBWSxVQUFVLFNBQVcsV0FBWSxJQUNyQyxJQUFRLEtBQVIsSUFDTixJQUFJLFNBQVcsSUFBSSxZQUNuQixJQUFJLFNBQVcsU0FDZixJQUFJLElBQU0sQ0FBQSxPQUFRLElBQUksU0FBWixJQUF3QixJQUFJLFNBQ3RDLEdBQUksSUFBSSxLQUFNLENBRVosSUFBSSxlQUNKLElBQUksS0FBSyxhQUNKLEdBQUksSUFBSSxJQUFLLENBRWxCLEdBQUksSUFBSSxTQUFVLENBQ2hCLFNBQVcsSUFBSSxRQUVqQixJQUFJLFNBQVcsTUFDVixDQUNMLElBQUksS0FBSyxTQUNULFVBQVksRUFFZCxJQUFJLGdCQUFrQixJQUFJLFVBQzFCLElBQUksVUFBWSxFQUNoQixJQUNFLElBQUssZ0JBQWlCLENBQ3BCLElBQUksS0FBSyxpQkFFWCxHQUFJLElBQUksVUFBVyxDQUNqQixJQUFJLEtBQUosU0FBa0IsSUFBSSxVQUV4QixNQUFPLElBQUksU0FBVyxTQUFVLENBQzlCLElBQUksU0FBVyxJQUFJLFNBQ25CLElBQUksS0FBTyxNQUFNLFVBQ2pCLElBQUssS0FBTSxDQUNULElBQUksS0FBSixlQUF3QixVQUN4QixNQUVGLElBQUksSUFBTSxJQUFHLE9BQVEsUUFDckIsSUFBSSxLQUFRLEtBQVosSUFBb0IsT0FBTyxPQUU3QixNQUFPLEdBQ1AsSUFBSSxLQUFKLGtDQUEyQyxHQUU3QyxJQUFJLFVBQVksZ0JBQ2hCLElBQUksU0FBVyxTQUNmLE9BQU8sSUFBSSxLQUFLLE1BR2xCLFNBQVMsYUFBYSxNQUFPLFdBQzNCLEdBQUksUUFBVSxVQUFXLENBQ3ZCLE1BQVEsUUFBUSxjQUVsQixJQUFJLEtBQVEsTUFBUSxhQUFnQixlQUFpQixTQUNyRCxHQUFJLEtBQUssT0FBUSxDQUNmLElBQUksSUFBTSxLQUFLLE1BQ2YsSUFBSSxPQUFPLE1BQU8sV0FDbEIsT0FBTyxJQUVULEdBQUksTUFBUSxhQUFjLENBQ3hCLE9BQU8sSUFBSSxZQUFZLE1BQU8sV0FFaEMsT0FBTyxJQUFJLE9BQU8sTUFBTyxXQUUzQixRQUFRLGFBQWUsYUFFdkIsU0FBUyxpQkFBaUIsSUFBSyxRQUFTLFdBQ3RDLElBQUksTUFBUSxJQUFJLEdBQ2hCLE9BQU8sYUFBYSxNQUFPLFVBQzNCLEdBQUksVUFBVyxDQUNiLE9BQU8sU0FDUCxPQUFPLElBQUksa0JBQWtCLGFBQzdCLElBQUksSUFBTSxhQUFhLE1BQU8sU0FDOUIsR0FBSSxJQUFJLGFBQWUsUUFBUyxDQUM5QixJQUFNLE9BQU8sS0FBSyxJQUFJLE9BQVEsRUFBRyxTQUVuQyxJQUFJLFlBQVksSUFBSSxLQUNwQixJQUFJLGNBQ0osT0FBTyxRQUNGLENBRUwsT0FBTyxlQUFlLFlBQ3RCLElBQUksS0FBTSxhQUFhLE1BQVEsdUJBQy9CLEtBQUksVUFBVSxJQUFLLFNBQVcsSUFBSSxZQUNsQyxPQUFPLE1BR1gsUUFBUSxpQkFBbUIsaUJBRTNCLFNBQVMsZUFBZSxRQUN0QixJQUFJLElBQU0sYUFBYSxPQUFPLEdBRTlCLElBQUksUUFBVSxJQUFJLEtBQU8sSUFFekIsU0FBUyxPQUFPLEtBQ2QsT0FBTyxhQUFhLElBQUssZUFFM0IsR0FBSSxPQUFPLEVBQUcsQ0FDWixRQUFRLE9BQVMsR0FDakIsUUFBUSxLQUFPLEdBQ2YsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLE9BQU8sRUFBRSxTQUFVLEdBQUksQ0FDM0MsSUFBSSxJQUFNLE9BQU8sT0FBTyxFQUFFLEtBQzFCLFFBQVEsS0FBSyxLQUFLLEtBQ2xCLFFBQVEsT0FBTyxLQUFLLElBQUksb0JBQ2pCLElBQUksYUFHZixHQUFJLE9BQU8sRUFBRyxDQUNaLFFBQVEsSUFBTSxPQUFPLE9BQU8sR0FDNUIsUUFBUSxRQUFVLFFBQVEsSUFBSSxtQkFDdkIsUUFBUSxJQUFJLFlBQ25CLFFBQVEsU0FBVyxFQUdyQixPQUFPLElBRVQsUUFBUSxlQUFpQixlQUV6QixTQUFTLFNBQVMsT0FDaEIsT0FBTyxpQkFBaUIsUUFBVSxpQkFBaUIsWUFFckQsUUFBUSxTQUFXOzs7Ozs7YUN6OUJuQixJQUFNLE9BQVMsUUFBUSxVQUV2QixTQUFTLGVBQ1AsS0FBSyxXQUFhLEdBR3BCLE9BQU8sUUFBVSxhQUNqQixPQUFPLFFBQVEsYUFBZSxhQUU5QixTQUFTLFlBQVksR0FBSSxLQUFNLEdBQUksTUFDakMsY0FBYyxLQUFPLFlBQ3JCLElBQUksSUFBTSxHQUFHLFdBQVcsTUFDeEIsSUFBSyxJQUFLLENBQ1IsSUFBTSxHQUFHLFdBQVcsTUFBUSxHQUU5QixJQUFJLEtBQUssQ0FDUCxLQUFBLEtBQ0EsR0FBQSxLQUlKLGFBQWEsVUFBVSxZQUFjLFNBQVUsS0FBTSxJQUNuRCxJQUFJLElBQU0sS0FBSyxXQUFXLE1BQzFCLElBQUssSUFBSyxDQUNSLE9BQU8sTUFFVCxJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssSUFBSSxTQUFVLEdBQUksQ0FDdEMsR0FBSSxJQUFJLElBQUksS0FBTyxHQUFJLENBQ3JCLE9BQU8sTUFHWCxPQUFPLE9BR1QsYUFBYSxVQUFVLEdBQUssU0FBVSxLQUFNLElBQzFDLFlBQVksS0FBTSxLQUFNLEdBQUksR0FDNUIsT0FBTyxNQUdULGFBQWEsVUFBVSxLQUFPLFNBQVUsS0FBTSxJQUM1QyxZQUFZLEtBQU0sS0FBTSxHQUFJLEdBQzVCLE9BQU8sTUFHVCxhQUFhLFVBQVUsZUFBaUIsU0FBVSxLQUFNLElBQ3RELElBQUksSUFBTSxLQUFLLFdBQVcsTUFDMUIsT0FBTyxLQUNQLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxJQUFJLFNBQVUsR0FBSSxDQUN0QyxHQUFJLElBQUksSUFBSSxLQUFPLEdBQUksQ0FDckIsSUFBSSxPQUFPLEdBQUksR0FDZixPQUFPLE1BR1gsT0FBTyxPQUNQLE9BQU8sTUFHVCxTQUFTLGNBQWMsTUFDckIsT0FBUSxLQUFLLEtBR2YsYUFBYSxVQUFVLEtBQU8sU0FBVSxNQUN0QyxJQUFJLElBQU0sS0FBSyxXQUFXLE1BQzFCLElBQUssSUFBSyxDQUNSLE9BQU8sTUFHVCxJQUFJLElBQU0sTUFDVixJQUFJLFNBQVcsTUFQc0MsSUFBQSxJQUFBLEtBQUEsVUFBQSxPQUFOLEtBQU0sSUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsQ0FBTixLQUFNLEtBQUEsR0FBQSxVQUFBLE1BUXJELElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxJQUFJLFNBQVUsR0FBSSxDQUN0QyxJQUFJLEtBQU8sSUFBSSxJQUNmLElBQU0sS0FDTixLQUFLLEdBQUwsTUFBQSxLQUFXLE1BQ1gsR0FBSSxLQUFLLEtBQU0sQ0FDYixTQUFXLE1BR2YsR0FBSSxTQUFVLENBQ1osS0FBSyxXQUFXLE1BQVEsSUFBSSxPQUFPLGVBR3JDLE9BQU87Ozs7aTdCQ2xGVCxJQUFNLE9BQVMsUUFBUSxVLElBQ2YsSUFBbUQsS0FBbkQsSUFBSyxNQUE4QyxLQUE5QyxNQUFPLElBQXVDLEtBQXZDLElBQUssSUFBa0MsS0FBbEMsSUFBSyxPQUE2QixLQUE3QixPQUFRLE1BQXFCLEtBQXJCLE1BQU8sSUFBYyxLQUFkLElBQUssS0FBUyxLQUFULEtBRTNDLFNBQVMsT0FJVCxTQUFTLEtBQUssSUFDbkIsSUFBSSxPQUFTLE1BQ2IsT0FBTyxXQUNMLEdBQUksT0FBUSxDQUNWLE9BRUYsT0FBUyxLQUNULEdBQUUsV0FBRixFQUFBLFlBSUcsU0FBUyxNQUFNLEtBQ3BCLElBQUssSUFBSSxPQUFPLElBQUssQ0FDbkIsT0FBTyxNQUVULE9BQU8sS0FHRixTQUFTLFVBQVUsRUFBRyxHQUMzQixJQUFJLEdBQUssSUFBSSxFQUFHLEdBQ2hCLE9BQU8sSUFBTSxHQUFLLElBQUksRUFBSSxFQUFHLElBR3hCLFNBQVMsT0FBTyxFQUFHLEdBQ3hCLE9BQU8sRUFBSSxVQUFVLEdBQU0sRUFBRyxHQUd6QixTQUFTLFFBQVEsRUFBRyxHQUN6QixPQUFPLEVBQUksVUFBVSxHQUFNLEdBQU0sRUFBRyxHQUFLLEVBR3BDLFNBQVMsTUFBTSxLQUNwQixPQUFPLEtBQUssTUFBTSxLQUFLLFVBQVUsTUFHNUIsU0FBUyxNQUFNLEtBQU0sS0FDMUIsSUFBSyxJQUFJLEtBQUssSUFBSyxDQUNqQixLQUFLLEdBQUssSUFBSSxHQUVoQixPQUFPLEtBR0YsU0FBUyxJQUFJLElBQUssT0FDdkIsT0FBTyxPQUFPLFVBQVUsZUFBZSxLQUFLLElBQUssT0FHNUMsU0FBUyxTQUFTLEtBQU0sS0FDN0IsSUFBSyxJQUFJLEtBQUssSUFBSyxDQUNqQixJQUFLLElBQUksS0FBTSxHQUFJLENBQ2pCLEtBQUssR0FBSyxJQUFJLElBR2xCLE9BQU8sS0FHRixTQUFTLGFBQWEsS0FBTSxLQUNqQyxJQUFLLElBQUksS0FBSyxJQUFLLENBQ2pCLElBQUssSUFBSSxLQUFNLEdBQUksQ0FDakIsS0FBSyxHQUFLLElBQUksUUFDVCxVQUFXLEtBQUssS0FBTyxTQUFVLENBQ3RDLGFBQWEsS0FBSyxHQUFJLElBQUksS0FHOUIsT0FBTyxLQUdGLFNBQVMsYUFBYSxLQUMzQixPQUFPLE1BQU0sR0FBSSxLQUdaLFNBQVMsVUFBVSxFQUFHLEdBQzNCLEdBQUksTUFBTSxRQUFRLEdBQUksQ0FDcEIsSUFBSyxNQUFNLFFBQVEsR0FBSSxDQUNyQixPQUFPLE1BRVQsR0FBSSxFQUFFLFNBQVcsRUFBRSxPQUFRLENBQ3pCLE9BQU8sTUFFVCxJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssRUFBRSxTQUFVLEdBQUksQ0FDcEMsSUFBSyxVQUFVLEVBQUUsSUFBSyxFQUFFLEtBQU0sQ0FDNUIsT0FBTyxPQUdYLE9BQU8sVUFDRixVQUFXLElBQU0sU0FBVSxDQUNoQyxVQUFXLElBQU0sU0FBVSxDQUN6QixPQUFPLE1BRVQsSUFBSyxJQUFNLEVBQUcsQ0FDWixPQUFRLElBQU0sRUFFaEIsSUFBSyxJQUFJLE9BQU8sRUFBRyxDQUVqQixJQUFLLFVBQVUsRUFBRSxLQUFNLEVBQUUsTUFBTyxDQUM5QixPQUFPLE9BR1gsSUFBSyxJQUFJLFFBQU8sRUFBRyxDQUVqQixHQUFJLEVBQUUsUUFBUyxXQUFhLEVBQUUsUUFBUyxVQUFXLENBQ2hELE9BQU8sT0FHWCxPQUFPLEtBRVQsT0FBTyxJQUFNLEVBR1IsU0FBUyxNQUFNLEVBQUcsR0FBSSxJQUMzQixPQUFPLElBQUksSUFBSSxHQUFJLEdBQUksSUFHbEIsU0FBUyxLQUFLLEVBQUcsR0FBSSxJQUMxQixPQUFRLEVBQUksR0FBSyxHQUFLLEVBQUksR0FHckIsU0FBUyxJQUFJLEdBQUksR0FBSSxHQUMxQixPQUFRLEVBQUksR0FBSyxHQUFLLEVBQUksR0FHckIsU0FBUyxLQUFLLEdBQ25CLE9BQU8sRUFBSSxHQUFLLEVBQUksRUFBSSxFQUFJLEVBQUksRUFJM0IsU0FBUyxLQUFLLEtBQ25CLElBQUssSUFBSSxHQUFHLEVBQUcsR0FBRyxHQUFLLEtBQU8sSUFBSyxHQUFJLENBQ3JDLEdBQUksSUFBTSxJQUFLLENBQ2IsT0FBTyxLQUtOLFNBQVMsS0FBSyxJQUFLLEtBQ3hCLElBQUksS0FBTyxJQUFJLElBQUksT0FBUyxHQUM1QixJQUFJLE1BR0MsU0FBUyxTQUFTLEdBQ3ZCLE9BQU8sTUFBTSxFQUFJLEtBQU8sSUFHbkIsU0FBUyxVQUFVLEdBQ3hCLE9BQU8sTUFBTSxFQUFJLEtBQVEsSUFHcEIsU0FBUyxNQUFNLEdBQ3BCLE9BQU8sRUFBSSxNQUFNLEdBR1osU0FBUyxTQUFTLEVBQUcsRUFBRyxLQUM3QixPQUFPLElBQUksRUFBSSxJQUFNLElBR2hCLFNBQVMsVUFBVSxLQUN4QixPQUFPLElBQUksTUFBTSxLQUFLLElBQUksU0FBQyxNQUFELE1BQUEsR0FBYSxLQUFLLEdBQUcsY0FBZ0IsS0FBSyxNQUFNLEtBQ3ZFLEtBQUssS0FHVixJQUFNLFFBQVUsS0FHVCxTQUFTLG9CQUFvQixHQUFJLEdBQUksUUFBUyxRQUNuRCxJQUFJLEdBQUssQ0FDUCxHQUFHLEdBQUssR0FBRyxHQUNYLEdBQUcsR0FBSyxHQUFHLElBRWIsSUFBSSxFQUFJLEdBQUcsR0FBSyxHQUFHLEdBQUssR0FBRyxHQUFLLEdBQUcsR0FDbkMsSUFBSSxFQUFJLEdBQUssR0FBRyxJQUFNLEdBQUcsR0FBSyxRQUFRLElBQU0sR0FBRyxJQUFNLEdBQUcsR0FBSyxRQUFRLEtBQ3JFLElBQUksRUFBSSxRQUFRLEdBQUssUUFBUSxHQUFLLFFBQVEsR0FBSyxRQUFRLEdBQ3ZELEdBQUssR0FBRyxHQUFLLEdBQUcsR0FBSyxHQUFHLEdBQUssR0FBRyxHQUNoQyxHQUFLLEdBQUssUUFBUSxHQUFLLEdBQUcsR0FBSyxRQUFRLEdBQUssR0FBRyxJQUMvQyxHQUFLLE9BQVMsT0FDZCxJQUFJLE1BQVEsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUM1QixHQUFJLElBQUksR0FBSyxTQUFXLE1BQVEsRUFBRyxDQUNqQyxPQUFPLE1BR1QsSUFBSSxNQUFRLEVBQUksS0FBSyxTQUFXLEVBQUksR0FDcEMsSUFBSSxNQUFRLEVBQUksS0FBSyxTQUFXLEVBQUksR0FDcEMsR0FBSSxLQUFPLEdBQUssS0FBTyxHQUFLLEtBQU8sR0FBSyxLQUFPLEVBQUcsQ0FDaEQsT0FBTyxLQUdULE9BQU8sTUFHRixTQUFTLFNBQVMsS0FBTSxXQUU3QixjQUFjLFlBQWMsWUFHNUIsS0FBSyxVQUFZLE9BQU8sT0FBTyxVQUFVLFVBQVcsQ0FDbEQsWUFBYSxDQUNYLE1BQU8sS0FDUCxXQUFZLE1BQ1osU0FBVSxLQUNWLGFBQWMsUUFLYixTQUFTLGFBQWEsR0FDM0IsT0FBUyxFQUFLLEVBQUksS0FBUSxFQUdyQixTQUFTLHNCQUFzQixLQUNsQyxFQUNGLElBQUssSUFBSSxFQUFJLEVBQUcsRUFBSSxHQUFJLElBQU0sRUFBRyxDQUMvQixHQUFLLEdBQUssRUFFWixPQUFPLEVBQUksRUFHTixTQUFTLFFBQVEsTUFDdEIsR0FBSSxPQUFTLFVBQVcsQ0FDdEIsTUFBTyxHQUVULElBQUksRUFBSSxLQUFLLFVBQVUsTUFDdkIsR0FBSSxFQUFFLE9BQVMsSUFBSyxDQUNsQixPQUFPLEVBRVQsT0FBVSxFQUFFLE1BQU0sRUFBRyxJQUFJLEdBQXpCLE1BR0ssU0FBUyxVQUFVLEdBQ3hCLGNBQWMsSUFBTSxVQUFZLFNBQVMsSUFBTSxNQUFNLEtBQU8sRUFHdkQsU0FBUyxTQUFTLEdBQ3ZCLE9BQU8sT0FBTyxHQUdULFNBQVMsVUFBVSxVQUFXLFdBQ25DLElBQUksVUFDSixFQUFHLENBQ0QsVUFBWSxNQUFNLFNBQVcsaUJBQ3RCLFlBQWMsV0FDdkIsT0FBTyxVQUdGLFNBQVMsUUFBUSxZQUN0QixPQUFPLE1BQU0sVUFBVSxNQUFNLEtBQUssWUFHN0IsU0FBUyxTQUFTLElBQUssSUFDNUIsSUFBSSxJQUFNLEdBQ1YsSUFBSSxFQUNKLEVBQUcsQ0FDRCxFQUFJLEdBQUcsS0FBSyxLQUNaLEdBQUksRUFBRyxDQUNMLElBQUksS0FBSyxFQUFFLFdBRU4sR0FDVCxPQUFPLElBR0YsU0FBUyxTQUFTLElBQUssV0FDNUIsR0FBSSxLQUFPLElBQUksT0FBUSxDQUFBLElBQUEsSUFBQSxLQUFBLFVBQUEsT0FEbUIsS0FDbkIsSUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsTUFBQSxLQUFBLFFBQUEsQ0FEbUIsS0FDbkIsTUFBQSxHQUFBLFVBQUEsT0FDckIsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLElBQUksU0FBVSxHQUFJLENBQ3RDLElBQUksSUFBSixNQUFBLElBQVcsUUFPakIsSUFBTSxpQkFBbUIsbUJBQ2xCLFNBQVMsU0FBUyxLQUN2QixPQUFRLEtBQU8sSUFBSSxRQUFRLGlCQUFrQixJQUd4QyxTQUFTLE9BQU8sT0FBUSxPQUM3QixNQUFBLEdBQVUsT0FBUSxTQUFXLEVBQUksR0FBSzs7OzttSkN0UnhDLElBQU0sT0FBUyxRQUFRLFUsSUFDZixJQUFRLEtBQVIsSUFFUixJQUFNLFVBQVksa0VBQ2xCLElBQU0sVUFBWSxrRUFDbEIsSUFBTSxnQkFBa0IsaUJBQ3hCLElBQUksYUFBZSxHQUNuQixTQUFTLFNBQVMsS0FDaEIsT0FBTyxJQUFJLE1BQU0sSUFBSSxJQUFJLFNBQUMsR0FBRCxPQUFRLGFBQWEsSUFBTSxJQUFJLEtBQUssSUFHL0QsU0FBUyxNQUFNLEtBQ2IsT0FBTyxJQUFJLE1BQU0sSUFBSSxJQUFJLFNBQUMsR0FDeEIsRUFBSSxFQUFFLFdBQVcsR0FDakIsR0FBSSxHQUFLLElBQVcsR0FBSyxJQUFVLENBQ2pDLEVBQUksSUFBUSxFQUFJLEdBQU0sSUFBTSxRQUN2QixHQUFJLEdBQUssSUFBVyxHQUFLLEdBQVMsQ0FDdkMsRUFBSSxJQUFRLEVBQUksR0FBTSxJQUFNLEdBRTlCLE9BQU8sT0FBTyxhQUFhLEtBQzFCLEtBQUssSUFHVixJQUFJLFVBQVksR0FHaEIsSUFBSSxTQUFxQixDQUFFLEdBQUksSUFBTSxJQUFLLEtBQU0sTUFBTyxLQUFNLE1BQU8sS0FBTSxLQUMxRSxJQUFJLG1CQUFxQixDQUFFLEdBQUksSUFBSyxLQUFNLEtBQU0sTUFBTyxLQUFNLE1BQU8sS0FBTSxLQUUxRSxJQUFJLFFBQVUsRUFDZCxJQUFJLE9BQVMsTUFDTixTQUFTLHVCQUF1QixZQUNyQyxRQUFRLFFBQ1IsT0FBUyxLQUNULElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxVQUFVLFNBQVUsR0FBSSxDQUM1QyxhQUFhLFVBQVUsS0FBTyxVQUFVLElBRTFDLElBQUksS0FBTyxXQUFXLE1BQU0sTUFBTSxPQUFPLFNBQUMsR0FBRCxPQUFPLElBQ2hELElBQUssSUFBSSxJQUFLLEVBQUcsSUFBSyxLQUFLLFNBQVUsSUFBSSxDQUN2QyxJQUFJLEVBQUksTUFBTSxLQUFLLE1BQ25CLElBQUksVUFBWSxFQUFFLE9BQ2xCLEVBQUksU0FBUyxHQUNiLE9BQU8sTUFBTSxVQUFXLEVBQUUsUUFDMUIsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLG1CQUFtQixTQUFVLEdBQUksQ0FDckQsSUFBSSxJQUFNLEVBQUksbUJBQW1CLElBQ2pDLElBQUksU0FBVyxVQUFVLEtBQ3pCLElBQUssVUFBWSxTQUFXLEdBQUksQ0FDOUIsUUFBVSxJQUFJLFFBQVMsSUFBSSxRQUMzQixVQUFVLEtBQU8sR0FBSyxLQU05QixJQUFJLFNBQ0osU0FBUyxXQUFXLFVBQ2xCLEdBQUksU0FBUyxRQUFVLFFBQVMsQ0FDOUIsT0FBTyxTQUdULElBQUksYUFBZSxTQUFTLEdBQUcsZ0JBQWtCLFNBQVMsR0FDMUQsSUFBSSxXQUFhLFNBQVMsVUFDMUIsSUFBSSxXQUFhLFVBQVUsWUFFM0IsSUFBSyxXQUFZLENBQ2YsT0FBTyxXQUVQLFdBQ0YsSUFBSSxLQUFPLFdBQ1gsR0FBSSxhQUFjLENBQ2hCLEtBQU8sS0FBSyxHQUFHLGNBQWdCLEtBQUssTUFBTSxHQUU1QyxJQUFJLE9BQVMsU0FBUyxZQUN0QixHQUFJLEtBQUssS0FBSyxPQUFTLEtBQU8sT0FBTyxHQUFJLENBQ3ZDLE9BQVMsT0FBTyxNQUFNLEdBRXhCLEdBQUksS0FBSyxTQUFTLE1BQVEsT0FBTyxLQUFPLElBQUssQ0FDM0MsS0FBTyxLQUFLLE1BQU0sR0FBSSxHQUV4QixNQUFRLE9BQ1IsT0FBTyxLQUdULElBQUksV0FDSixTQUFTLFVBQVUsVUFDakIsR0FBSSxTQUFTLFFBQVUsUUFBUyxDQUM5QixPQUdGLEdBQUksVUFBVSxTQUFTLFdBQVksQ0FDakMsV0FBYSxNQUlWLFNBQVMsc0JBQXNCLFNBQVUsY0FDOUMsT0FBTyxRQUNQLFNBQVcsYUFDWCxPQUFPLFNBQVMsUUFBUSxnQkFBaUIsWUFHcEMsU0FBUyxVQUFVLFVBQ3hCLE9BQU8sUUFDUCxXQUFhLE1BQ2IsU0FBUyxRQUFRLGdCQUFpQixXQUNsQyxPQUFPOzs7O3FPQzFHRixJQUFJLFFBQVUsQ0FBRSxLQUFNLEVBQUcsTUFBTyxHLHdCQUNoQyxJQUFJLFlBQWMsQ0FBRSxLQUFNLEVBQUcsTUFBTyxHLGdDQUUzQyxJQUFNLElBQU0sUUFBUSxZQUNwQixJQUFNLE9BQVMsUUFBUSxVLElBQ2YsaUJBQTBGLElBQTFGLGlCQUFrQixjQUF3RSxJQUF4RSxjQUFlLGdCQUF5RCxJQUF6RCxnQkFBaUIsa0JBQXdDLElBQXhDLGtCQUFtQixpQkFBcUIsSUFBckIsaUJBQzdFLElBQU0sT0FBUyxRQUFRLGUsSUFDZixTQUE2QyxPQUE3QyxTQUFVLGFBQW1DLE9BQW5DLGFBQWMsaUJBQXFCLE9BQXJCLGlCQUV6QixJQUFNLG1CQUFxQixJLDhDQUMzQixJQUFNLFVBQVksbUJBQXFCLEUsNEJBQzlDLFFBQVEsaUJBQW1CLElBRzNCLElBQU0sZ0JBQWtCLEVBQ3RCLEVBQUUsR0FDRixFQUFFLEVBRUcsU0FBUyxjQUFjLE9BQVEsS0FDcEMsSUFBSyxPQUFPLFdBQWEsT0FBTyxPQUFPLGFBQWUsRUFBRyxDQUd2RCxRQUFRLEtBQVIsd0RBQXFFLE9BQU8sR0FBNUUsZUFDQSxJQUFJLE9BQ0osT0FFRixJQUFJLElBQU0sSUFBSSxZQUNkLElBQUksUUFBVSxJQUFJLGVBQ2xCLEdBQUksVUFBWSxJQUFJLE9BQVEsQ0FDMUIsSUFBTSxJQUFJLFdBQVcsSUFBSSxPQUFRLElBQUksV0FBWSxTQUVuRCxZQUFZLE9BQ1osWUFBWSxPQUFTLElBQUksT0FDekIsR0FBSSxPQUFPLFVBQVcsQ0FDcEIsT0FBTyxPQUFPLEtBQUssSUFBSyxXQUN0QixJQUFJLGFBRUQsQ0FDTCxPQUFPLE9BQU8sS0FBSyxLQUNuQixJQUFJLE9BRU4sT0FBTyxlQUFpQixLQUFLLE1BRy9CLFNBQVMsZ0JBQWdCLElBQUssSUFBSyxXQUFXLElBQUEsYUFDdEIsSUFBSSxRQUFwQixPQURzQyxhQUN0QyxPQUFRLElBRDhCLGFBQzlCLFdBQ1AsSUFBSSxRQUNYLElBQUksZ0JBQWtCLGlCQUFpQixJQUFLLElBQUssV0FFakQsSUFBSyxPQUFPLFdBQWEsT0FBTyxPQUFPLGFBQWUsRUFBRyxDQUN2RCxHQUFJLE1BQVEsY0FBZSxDQUN6QixJQUFJLEtBQUssR0FDVCxJQUFJLFlBQ0osSUFBSSxPQUFTLGNBQWMsS0FDM0IsSUFBSSxVQUFZLFNBQVMsT0FBTyxNQUNoQyxJQUFJLFdBQ0osSUFBSSxPQUNKLEdBQUksVUFBVyxDQUNiLElBQUksTUFDSixXQUFhLElBQUksaUJBQ2pCLE9BQVMsSUFBSSxpQkFDYixJQUFLLElBQUksUUFBUyxDQUNoQixJQUFJLFlBRUQsQ0FDTCxXQUFhLE9BQU8sS0FBSyxXQUN6QixPQUFTLE9BQU8sS0FBSyxJQUV2QixJQUFBLGVBQXFCLFdBQXJCLElBQW1DLE9BRXJDLFVBQVcsTUFBUSxTQUFVLEVBQzFCLE9BQU8sSUFBTSxPQUFTLFNBQVMsSUFBaEMsMEJBQThELElBQTlELHFDQUNBLElBQUssT0FBTyxLQUFPLE9BQU8sU0FBVyxJQUFLLENBRXhDLE9BQU8sUUFBUCwwQkFBeUMsSUFBekMsNEJBSUosR0FBSSxnQkFBaUIsUUFFWixPQUFPLFNBQVMsaUJBRXpCLElBQUksT0FDSixPQUdGLE9BQU8sTUFBTSxRQUFRLFdBQWEsVUFBVSxxQkFBdUIsT0FBUSxRQUFRLGtCQUVuRixjQUFjLE9BQVEsS0FHeEIsU0FBUyxVQUFVLElBQUssV0FDdEIsSUFBSSxJQUFNLEtBQ1YsVUFBVyxNQUFRLGFBQWUsVUFBVyxDQUMzQyxVQUFZLElBQ1osSUFBTSxLQUVSLGdCQUFnQixJQUFLLElBQUssV0FHckIsU0FBUyxNQUFNLElBQUssUUFBUyxRQUNsQyxjQUFjLE1BQVEsaUJBQW1CLE1BQVEsVUFHakQsSUFBSSxJQUFNLGFBQWEsUUFBVSxRQUFRLG1CQUFxQixPQUFPLGNBQ25FLFFBQVUsUUFBUSxZQUFjLGdCQUFrQixHQUNwRCxJQUFJLGFBRUosZ0JBQWdCLElBQUssT0FBUSxLQUU3QixJQUFJLFFBQVUsQ0FDWixJQUFBLElBQ0EsT0FBQSxRQUVGLElBQUksS0FBTyxVQUNYLE9BQU8sSUFHVCxTQUFTLG9CQUFvQixPQUFRLElBQUssSUFBSyxLQUFNLFdBQ25ELElBQUksVUFBWSxTQUFTLE1BQ3pCLElBQUksSUFBTSxNQUFNLElBQUssVUFBWSxLQUFPLEtBQU0sUUFFOUMsSUFBSyxJQUFLLENBQ1Isa0JBQWtCLElBQUssTUFHekIsSUFBSSxLQUFLLElBQUssV0FHVCxTQUFTLFlBQVksSUFBSyxLQUFNLFdBQ3JDLG9CQUFvQixLQUFNLElBQUssS0FBTSxLQUFNLFdBR3RDLFNBQVMsZ0JBQWdCLE9BQVEsSUFBSyxVQUN6QyxRQUFRLEtBQ1YsSUFBSSxJQUFNLEtBQUssTUFDZixJQUFJLE9BQVMsT0FBTyxHQUFQLFVBQXNCLE9BQU8sR0FBTyxTQUNqRCxLQUFNLGVBQWUsWUFBYSxFQUMvQixPQUFPLElBQU0sT0FBUyxTQUFTLElBQWhDLCtDQUFtRixPQUFuRixZQUFxRyxJQUFyRyxLQUNBLE9BQU8sT0FBTyxRQUFRLHlCQUV4QixRQUFRLE9BQVMsSUFBSSxPQUNyQixJQUFJLElBQU0saUJBQWlCLElBQUssSUFBSSxPQUFRLE9BQzVDLElBQUksWUFDSixPQUFPLGtCQUFvQixJQUMzQixPQUFPLGFBQWUsRUFFdEIsT0FBTyxpQkFBaUIsT0FBUSxPQUFRLElBQUssU0FBUyxTQUFTLElBQUssSUFBSyxLQUFNLFdBQzdFLEdBQUksWUFBYyxVQUFVLG1CQUFvQixDQUM5QyxVQUFZLEtBRWQsb0JBQW9CLE9BQVEsSUFBSyxJQUFLLEtBQU0sWUFDM0MsU0FBUyxRQUFRLElBQUssU0FDdkIsT0FBTyxNQUFNLElBQUssUUFBUyxTQUMxQixTQUFTLFdBQVcsSUFBSyxLQUFNLFdBQ2hDLElBQUksUUFBVSxPQUFPLFNBQVMsS0FDOUIsSUFBSyxRQUFTLENBQ1osSUFBSSxVQUFBLDBCQUFzQyxLQUFLLFVBQVUsS0FBckQsU0FBa0UsT0FDdEUsUUFBUSxNQUFNLFVBQVcsU0FBUyxNQUFRLEtBQUssV0FBYSxNQUM1RCxHQUFJLE9BQU8sUUFBUyxDQUNsQixPQUFPLE9BQU8sUUFBUSxXQUV4QixPQUFPLFVBQVUsV0FFbkIsT0FBTyxRQUFRLE9BQVEsS0FBTSxZQUM1QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYgKi9cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vZ2xvdi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2dsb3YvZm9udC5qcycpO1xuY29uc3QgeyBLRVlTLCBrZXlEb3duRWRnZSB9ID0gcmVxdWlyZSgnLi9nbG92L2lucHV0LmpzJyk7XG5jb25zdCB7IGxpbmtUZXh0IH0gPSByZXF1aXJlKCcuL2dsb3YvbGluay5qcycpO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnLi9nbG92L25ldC5qcycpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL2dsb3YvdWkuanMnKTtcbmNvbnN0IHsgdmVjNCB9ID0gcmVxdWlyZSgnLi9nbG92L3ZtYXRoLmpzJyk7XG5cbmV4cG9ydCBsZXQgc3R5bGVfbGluayA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweDUwNDBGRmZmLFxuICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMjAsXG59KTtcbmV4cG9ydCBsZXQgc3R5bGVfbGlua19ob3ZlciA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweDAwMDBGRmZmLFxuICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMjAsXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFVzZXJJRCh1c2VyX2lkLCBkaXNwbGF5X25hbWUpIHtcbiAgbGV0IG5hbWUgPSBkaXNwbGF5X25hbWUgfHwgdXNlcl9pZDtcbiAgaWYgKHVzZXJfaWQudG9Mb3dlckNhc2UoKSAhPT0gbmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgbmFtZSA9IGAke2Rpc3BsYXlfbmFtZX0gKCR7dXNlcl9pZH0pYDtcbiAgfVxuICByZXR1cm4gbmFtZTtcbn1cblxuZnVuY3Rpb24gQWNjb3VudFVJKCkge1xuICB0aGlzLmVkaXRfYm94X25hbWUgPSB1aS5jcmVhdGVFZGl0Qm94KHtcbiAgICBwbGFjZWhvbGRlcjogJ1VzZXJuYW1lJyxcbiAgICBpbml0aWFsX2ZvY3VzOiB0cnVlLFxuICAgIHRleHQ6IGxvY2FsX3N0b3JhZ2UuZ2V0KCduYW1lJykgfHwgJycsXG4gIH0pO1xuICB0aGlzLmVkaXRfYm94X3Bhc3N3b3JkID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCcsXG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICB0ZXh0OiBsb2NhbF9zdG9yYWdlLmdldCgnbmFtZScpICYmIGxvY2FsX3N0b3JhZ2UuZ2V0KCdwYXNzd29yZCcpIHx8ICcnLFxuICB9KTtcbiAgdGhpcy5lZGl0X2JveF9wYXNzd29yZF9jb25maXJtID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgaW5pdGlhbF9mb2N1czogdHJ1ZSxcbiAgICBwbGFjZWhvbGRlcjogJ0NvbmZpcm0nLFxuICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgdGV4dDogJycsXG4gIH0pO1xuICB0aGlzLmVkaXRfYm94X2VtYWlsID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgcGxhY2Vob2xkZXI6ICdFbWFpbCcsXG4gICAgdGV4dDogJycsXG4gIH0pO1xuICB0aGlzLmVkaXRfYm94X2Rpc3BsYXlfbmFtZSA9IHVpLmNyZWF0ZUVkaXRCb3goe1xuICAgIHBsYWNlaG9sZGVyOiAnRGlzcGxheScsXG4gICAgdGV4dDogJycsXG4gIH0pO1xuICB0aGlzLmNyZWF0aW9uX21vZGUgPSBmYWxzZTtcbn1cblxuQWNjb3VudFVJLnByb3RvdHlwZS5zaG93TG9naW4gPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgbGV0IHsgeCwgeSwgc3R5bGUsIGJ1dHRvbl9oZWlnaHQsIGJ1dHRvbl93aWR0aCwgcHJlbG9nb3V0LCBjZW50ZXIsIHVybF90b3MsIHVybF9wcml2LCB0ZXh0X3csIGZvbnRfaGVpZ2h0IH0gPSBwYXJhbTtcbiAgZm9udF9oZWlnaHQgPSBmb250X2hlaWdodCB8fCB1aS5mb250X2hlaWdodDtcbiAgYnV0dG9uX2hlaWdodCA9IGJ1dHRvbl9oZWlnaHQgfHwgdWkuYnV0dG9uX2hlaWdodDtcbiAgYnV0dG9uX3dpZHRoID0gYnV0dG9uX3dpZHRoIHx8IDI0MDtcbiAgdGV4dF93ID0gdGV4dF93IHx8IDQwMDtcbiAgbGV0IHsgZWRpdF9ib3hfbmFtZSwgZWRpdF9ib3hfcGFzc3dvcmQsIGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0sIGVkaXRfYm94X2VtYWlsLCBlZGl0X2JveF9kaXNwbGF5X25hbWUgfSA9IHRoaXM7XG4gIGxldCBsb2dpbl9tZXNzYWdlO1xuICBjb25zdCBCT1hfSCA9IGZvbnRfaGVpZ2h0O1xuICBsZXQgcGFkID0gMTA7XG4gIGxldCBtaW5faCA9IEJPWF9IICogMiArIHBhZCAqIDMgKyBidXR0b25faGVpZ2h0O1xuICBsZXQgY2FsaWduID0gY2VudGVyID8gZ2xvdl9mb250LkFMSUdOLkhSSUdIVCA6IGdsb3ZfZm9udC5BTElHTi5ITEVGVCB8IGdsb3ZfZm9udC5BTElHTi5IRklUO1xuXG4gIGZ1bmN0aW9uIHNob3dUT1MoaXNfY3JlYXRlKSB7XG4gICAgaWYgKHVybF90b3MpIHtcbiAgICAgIGFzc2VydCh1cmxfcHJpdik7XG4gICAgICBsZXQgdGVybXNfaGVpZ2h0ID0gZm9udF9oZWlnaHQgKiAwLjc1O1xuICAgICAgdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCB4LCB5LCBaLlVJLCB0ZXJtc19oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSLCAwLCAwLFxuICAgICAgICBgQnkgJHtpc19jcmVhdGUgPyAnY3JlYXRpbmcgYW4gYWNjb3VudCcgOiAnbG9nZ2luZyBpbid9IHlvdSBhZ3JlZSB0byBvdXJgKTtcbiAgICAgIHkgKz0gdGVybXNfaGVpZ2h0O1xuICAgICAgbGV0IGFuZF93ID0gdWkuZm9udC5nZXRTdHJpbmdXaWR0aChzdHlsZSwgdGVybXNfaGVpZ2h0LCAnIGFuZCAnKTtcbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCwgeSwgWi5VSSwgdGVybXNfaGVpZ2h0LCBnbG92X2ZvbnQuQUxJR04uSENFTlRFUiwgMCwgMCxcbiAgICAgICAgJ2FuZCcpO1xuICAgICAgbGlua1RleHQoe1xuICAgICAgICBzdHlsZV9saW5rLCBzdHlsZV9saW5rX2hvdmVyLFxuICAgICAgICB4OiB4IC0gYW5kX3cgLyAyIC0gdWkuZm9udC5nZXRTdHJpbmdXaWR0aChzdHlsZV9saW5rLCB0ZXJtc19oZWlnaHQsICdUZXJtcyBvZiBTZXJ2aWNlJyksXG4gICAgICAgIHksXG4gICAgICAgIHo6IFouVUksXG4gICAgICAgIGZvbnRfc2l6ZTogdGVybXNfaGVpZ2h0LFxuICAgICAgICB1cmw6IHVybF90b3MsXG4gICAgICAgIHRleHQ6ICdUZXJtcyBvZiBTZXJ2aWNlJyxcbiAgICAgIH0pO1xuICAgICAgbGlua1RleHQoe1xuICAgICAgICBzdHlsZV9saW5rLCBzdHlsZV9saW5rX2hvdmVyLFxuICAgICAgICB4OiB4ICsgYW5kX3cgLyAyLFxuICAgICAgICB5LFxuICAgICAgICB6OiBaLlVJLFxuICAgICAgICBmb250X3NpemU6IHRlcm1zX2hlaWdodCxcbiAgICAgICAgdXJsOiB1cmxfcHJpdixcbiAgICAgICAgdGV4dDogJ1ByaXZhY3kgUG9saWN5JyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB5ICs9IEJPWF9IICsgcGFkO1xuICB9XG5cbiAgaWYgKCFuZXQuY2xpZW50LmNvbm5lY3RlZCkge1xuICAgIGxvZ2luX21lc3NhZ2UgPSAnRXN0YWJsaXNoaW5nIGNvbm5lY3Rpb24uLi4nO1xuICB9IGVsc2UgaWYgKG5ldC5zdWJzLmxvZ2dpbmdfaW4pIHtcbiAgICBsb2dpbl9tZXNzYWdlID0gJ0xvZ2dpbmcgaW4uLi4nO1xuICB9IGVsc2UgaWYgKG5ldC5zdWJzLmxvZ2dpbmdfb3V0KSB7XG4gICAgbG9naW5fbWVzc2FnZSA9ICdMb2dnaW5nIG91dC4uLic7XG4gIH0gZWxzZSBpZiAoIW5ldC5zdWJzLmxvZ2dlZEluKCkgJiYgd2luZG93LkZCSW5zdGFudCkge1xuICAgIG5ldC5zdWJzLmxvZ2luRmFjZWJvb2soZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB1aS5tb2RhbERpYWxvZyh7XG4gICAgICAgICAgdGl0bGU6ICdGYWNlYm9vayBsb2dpbiBGYWlsZWQnLFxuICAgICAgICAgIHRleHQ6IGVycixcbiAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAnQ2FuY2VsJzogbnVsbCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmICghbmV0LnN1YnMubG9nZ2VkSW4oKSAmJiBuZXQuc3Vicy5hdXRvX2NyZWF0ZV91c2VyICYmXG4gICAgIWxvY2FsX3N0b3JhZ2UuZ2V0KCdkaWRfYXV0b19hbm9uJykgJiYgIWxvY2FsX3N0b3JhZ2UuZ2V0KCduYW1lJylcbiAgKSB7XG4gICAgbG9naW5fbWVzc2FnZSA9ICdBdXRvIGxvZ2dpbmcgaW4uLi4nO1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCdkaWRfYXV0b19hbm9uJywgJ3llcycpO1xuICAgIGxldCBuYW1lID0gYGFub24ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyLCA4KX1gO1xuICAgIGxldCBwYXNzID0gJ3Rlc3QnO1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCduYW1lJywgbmFtZSk7XG4gICAgbmV0LnN1YnMubG9naW4obmFtZSwgcGFzcywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB1aS5tb2RhbERpYWxvZyh7XG4gICAgICAgICAgdGl0bGU6ICdBdXRvLWxvZ2luIEZhaWxlZCcsXG4gICAgICAgICAgdGV4dDogZXJyLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICdSZXRyeSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgbG9jYWxfc3RvcmFnZS5zZXQoJ2RpZF9hdXRvX2Fub24nLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICBsb2NhbF9zdG9yYWdlLnNldCgnbmFtZScsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ0NhbmNlbCc6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXQuc3Vicy5zZW5kQ21kUGFyc2UoJ3JlbmFtZV9yYW5kb20nLCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCFuZXQuc3Vicy5sb2dnZWRJbigpKSB7XG4gICAgbGV0IHN1Ym1pdCA9IGZhbHNlO1xuICAgIGxldCB3ID0gdGV4dF93IC8gMjtcbiAgICBsZXQgaW5kZW50ID0gY2VudGVyID8gMCA6IDE0MDtcbiAgICBsZXQgdGV4dF94ID0gY2VudGVyID8geCAtIDggOiB4O1xuICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgdGV4dF94LCB5LCBaLlVJLCBmb250X2hlaWdodCwgY2FsaWduLCBpbmRlbnQgLSBwYWQsIDAsICdVc2VybmFtZTonKTtcbiAgICBzdWJtaXQgPSBlZGl0X2JveF9uYW1lLnJ1bih7IHg6IHggKyBpbmRlbnQsIHksIHcsIGZvbnRfaGVpZ2h0IH0pID09PSBlZGl0X2JveF9uYW1lLlNVQk1JVCB8fCBzdWJtaXQ7XG4gICAgeSArPSBCT1hfSCArIHBhZDtcbiAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHRleHRfeCwgeSwgWi5VSSwgZm9udF9oZWlnaHQsIGNhbGlnbiwgaW5kZW50IC0gcGFkLCAwLCAnUGFzc3dvcmQ6Jyk7XG4gICAgc3VibWl0ID0gZWRpdF9ib3hfcGFzc3dvcmQucnVuKHsgeDogeCArIGluZGVudCwgeSwgdywgZm9udF9oZWlnaHQgfSkgPT09IGVkaXRfYm94X3Bhc3N3b3JkLlNVQk1JVCB8fCBzdWJtaXQ7XG4gICAgeSArPSBCT1hfSCArIHBhZDtcblxuICAgIGlmICh0aGlzLmNyZWF0aW9uX21vZGUpIHtcbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgdGV4dF94LCB5LCBaLlVJLCBmb250X2hlaWdodCwgY2FsaWduLCBpbmRlbnQgLSBwYWQsIDAsICdDb25maXJtIFBhc3N3b3JkOicpO1xuICAgICAgc3VibWl0ID0gZWRpdF9ib3hfcGFzc3dvcmRfY29uZmlybS5ydW4oeyB4OiB4ICsgaW5kZW50LCB5LCB3LCBmb250X2hlaWdodCB9KSA9PT0gZWRpdF9ib3hfcGFzc3dvcmQuU1VCTUlUIHx8XG4gICAgICAgIHN1Ym1pdDtcbiAgICAgIHkgKz0gQk9YX0ggKyBwYWQ7XG5cbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgdGV4dF94LCB5LCBaLlVJLCBmb250X2hlaWdodCwgY2FsaWduLCBpbmRlbnQgLSBwYWQsIDAsICdFbWFpbCBBZGRyZXNzOicpO1xuICAgICAgc3VibWl0ID0gZWRpdF9ib3hfZW1haWwucnVuKHsgeDogeCArIGluZGVudCwgeSwgdywgZm9udF9oZWlnaHQgfSkgPT09IGVkaXRfYm94X3Bhc3N3b3JkLlNVQk1JVCB8fCBzdWJtaXQ7XG4gICAgICB5ICs9IEJPWF9IICsgcGFkO1xuXG4gICAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHRleHRfeCwgeSwgWi5VSSwgZm9udF9oZWlnaHQsIGNhbGlnbiwgaW5kZW50IC0gcGFkLCAwLCAnRGlzcGxheSBOYW1lOicpO1xuICAgICAgc3VibWl0ID0gZWRpdF9ib3hfZGlzcGxheV9uYW1lLnJ1bih7IHg6IHggKyBpbmRlbnQsIHksIHcsIGZvbnRfaGVpZ2h0IH0pID09PSBlZGl0X2JveF9wYXNzd29yZC5TVUJNSVQgfHxcbiAgICAgICAgc3VibWl0O1xuXG4gICAgICBpZiAodWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHg6IHggKyB3ICsgKGNlbnRlciA/IDAgOiAxNDApICsgcGFkLCB5LCB3OiBidXR0b25fd2lkdGggKiAwLjUsIGg6IEJPWF9IICsgcGFkIC0gNCxcbiAgICAgICAgZm9udF9oZWlnaHQ6IGZvbnRfaGVpZ2h0ICogMC43NSxcbiAgICAgICAgdGV4dDogJ1JhbmRvbScsXG4gICAgICB9KSkge1xuICAgICAgICBuZXQuY2xpZW50LnNlbmQoJ3JhbmRvbV9uYW1lJywgbnVsbCwgZnVuY3Rpb24gKGlnbm9yZWQsIGRhdGEpIHtcbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgZWRpdF9ib3hfZGlzcGxheV9uYW1lLnNldFRleHQoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgeSArPSBCT1hfSCArIHBhZDtcblxuICAgICAgc2hvd1RPUyh0cnVlKTtcblxuICAgICAgc3VibWl0ID0gdWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHgsIHksIHc6IGJ1dHRvbl93aWR0aCwgaDogYnV0dG9uX2hlaWdodCxcbiAgICAgICAgZm9udF9oZWlnaHQsXG4gICAgICAgIHRleHQ6ICdDcmVhdGUgVXNlcicsXG4gICAgICB9KSB8fCBzdWJtaXQ7XG4gICAgICBpZiAodWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHg6IHggKyBidXR0b25fd2lkdGggKyBwYWQsIHksIHc6IGJ1dHRvbl93aWR0aCwgaDogYnV0dG9uX2hlaWdodCxcbiAgICAgICAgZm9udF9oZWlnaHQsXG4gICAgICAgIHRleHQ6ICdDYW5jZWwnLFxuICAgICAgfSkgfHwga2V5RG93bkVkZ2UoS0VZUy5FU0MpKSB7XG4gICAgICAgIHRoaXMuY3JlYXRpb25fbW9kZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgeSArPSBidXR0b25faGVpZ2h0ICsgcGFkO1xuXG4gICAgICBpZiAoc3VibWl0KSB7XG4gICAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCduYW1lJywgZWRpdF9ib3hfbmFtZS50ZXh0KTtcbiAgICAgICAgLy8gZG8gY3JlYXRpb24gYW5kIGxvZyBpbiFcbiAgICAgICAgbmV0LnN1YnMudXNlckNyZWF0ZSh7XG4gICAgICAgICAgdXNlcl9pZDogZWRpdF9ib3hfbmFtZS50ZXh0LFxuICAgICAgICAgIGVtYWlsOiBlZGl0X2JveF9lbWFpbC50ZXh0LFxuICAgICAgICAgIHBhc3N3b3JkOiBlZGl0X2JveF9wYXNzd29yZC50ZXh0LFxuICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm06IGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0udGV4dCxcbiAgICAgICAgICBkaXNwbGF5X25hbWU6IGVkaXRfYm94X2Rpc3BsYXlfbmFtZS50ZXh0LFxuICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdWkubW9kYWxEaWFsb2coe1xuICAgICAgICAgICAgICB0aXRsZTogJ0xvZ2luIEVycm9yJyxcbiAgICAgICAgICAgICAgdGV4dDogZXJyLFxuICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgJ09LJzogbnVsbCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0aW9uX21vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0uc2V0VGV4dCgnJyk7XG4gICAgICAgICAgICBlZGl0X2JveF9lbWFpbC5zZXRUZXh0KCcnKTtcbiAgICAgICAgICAgIGVkaXRfYm94X2Rpc3BsYXlfbmFtZS5zZXRUZXh0KCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgc2hvd1RPUyhmYWxzZSk7XG5cbiAgICAgIHN1Ym1pdCA9IHVpLmJ1dHRvblRleHQoe1xuICAgICAgICB4OiB4LCB5LCB3OiBidXR0b25fd2lkdGgsIGg6IGJ1dHRvbl9oZWlnaHQsXG4gICAgICAgIGZvbnRfaGVpZ2h0LFxuICAgICAgICB0ZXh0OiAnTG9nIGluJyxcbiAgICAgIH0pIHx8IHN1Ym1pdDtcbiAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgeSArPSBidXR0b25faGVpZ2h0ICsgcGFkO1xuICAgICAgfVxuICAgICAgaWYgKHVpLmJ1dHRvblRleHQoe1xuICAgICAgICB4OiBjZW50ZXIgPyB4IDogeCArIGJ1dHRvbl93aWR0aCArIHBhZCwgeSwgdzogYnV0dG9uX3dpZHRoLCBoOiBidXR0b25faGVpZ2h0LFxuICAgICAgICBmb250X2hlaWdodCxcbiAgICAgICAgdGV4dDogJ05ldyBVc2VyJyxcbiAgICAgIH0pKSB7XG4gICAgICAgIHRoaXMuY3JlYXRpb25fbW9kZSA9IHRydWU7XG4gICAgICAgIGVkaXRfYm94X2Rpc3BsYXlfbmFtZS5zZXRUZXh0KGVkaXRfYm94X25hbWUudGV4dCk7XG4gICAgICAgIGlmIChlZGl0X2JveF9uYW1lLnRleHQgJiYgZWRpdF9ib3hfcGFzc3dvcmQudGV4dCkge1xuICAgICAgICAgIGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0uaW5pdGlhbF9mb2N1cyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWRpdF9ib3hfcGFzc3dvcmRfY29uZmlybS5pbml0aWFsX2ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgZWRpdF9ib3hfbmFtZS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB5ICs9IGJ1dHRvbl9oZWlnaHQgKyBwYWQ7XG5cbiAgICAgIGlmIChzdWJtaXQpIHtcbiAgICAgICAgbG9jYWxfc3RvcmFnZS5zZXQoJ25hbWUnLCBlZGl0X2JveF9uYW1lLnRleHQpO1xuICAgICAgICAvLyBkbyBsb2cgaW4hXG4gICAgICAgIG5ldC5zdWJzLmxvZ2luKGVkaXRfYm94X25hbWUudGV4dCwgZWRpdF9ib3hfcGFzc3dvcmQudGV4dCwgKGVycikgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHVpLm1vZGFsRGlhbG9nKHtcbiAgICAgICAgICAgICAgdGl0bGU6ICdMb2dpbiBFcnJvcicsXG4gICAgICAgICAgICAgIHRleHQ6IGVycixcbiAgICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgICdPSyc6IG51bGwsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBGQiBVc2VycyBjYW4ndCBsb2dvdXRcbiAgICBsZXQgc2hvd19sb2dvdXQgPSAhd2luZG93LkZCSW5zdGFudDtcbiAgICBsZXQgdXNlcl9pZCA9IG5ldC5zdWJzLmxvZ2dlZEluKCk7XG4gICAgbGV0IHVzZXJfY2hhbm5lbCA9IG5ldC5zdWJzLmdldENoYW5uZWwoYHVzZXIuJHt1c2VyX2lkfWApO1xuICAgIGxldCBkaXNwbGF5X25hbWUgPSB1c2VyX2NoYW5uZWwuZ2V0Q2hhbm5lbERhdGEoJ3B1YmxpYy5kaXNwbGF5X25hbWUnKSB8fCB1c2VyX2lkO1xuICAgIGxldCBuYW1lID0gZm9ybWF0VXNlcklEKHVzZXJfaWQsIGRpc3BsYXlfbmFtZSk7XG5cbiAgICBpZiAoc2hvd19sb2dvdXQpIHtcbiAgICAgIGxldCBsb2dnZWRfaW5fZm9udF9oZWlnaHQgPSBmb250X2hlaWdodCAqIDAuNzU7XG4gICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgY2VudGVyID8geCAtIHRleHRfdyAvIDIgOiB4ICsgYnV0dG9uX3dpZHRoICsgOCwgeSxcbiAgICAgICAgICBaLlVJLCBsb2dnZWRfaW5fZm9udF9oZWlnaHQsXG4gICAgICAgICAgKGNlbnRlciA/IGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSIDogY2FsaWduKSB8IGdsb3ZfZm9udC5BTElHTi5IRklULFxuICAgICAgICAgIHRleHRfdywgYnV0dG9uX2hlaWdodCxcbiAgICAgICAgICBgTG9nZ2VkIGluIGFzOiAke25hbWV9YCk7XG4gICAgICAgIHkgKz0gbG9nZ2VkX2luX2ZvbnRfaGVpZ2h0ICsgODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCArIGJ1dHRvbl93aWR0aCArIDgsXG4gICAgICAgICAgeSArIGxvZ2dlZF9pbl9mb250X2hlaWdodCAqIC0wLjI1LFxuICAgICAgICAgIFouVUksIGxvZ2dlZF9pbl9mb250X2hlaWdodCwgY2FsaWduIHwgZ2xvdl9mb250LkFMSUdOLlZDRU5URVIgfCBnbG92X2ZvbnQuQUxJR04uSEZJVCwgdGV4dF93LCBidXR0b25faGVpZ2h0LFxuICAgICAgICAgICdMb2dnZWQgaW4gYXM6Jyk7XG4gICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCArIGJ1dHRvbl93aWR0aCArIDgsXG4gICAgICAgICAgeSArIGxvZ2dlZF9pbl9mb250X2hlaWdodCAqIDAuNzUsXG4gICAgICAgICAgWi5VSSwgbG9nZ2VkX2luX2ZvbnRfaGVpZ2h0LCBjYWxpZ24gfCBnbG92X2ZvbnQuQUxJR04uVkNFTlRFUiB8IGdsb3ZfZm9udC5BTElHTi5IRklULCB0ZXh0X3csIGJ1dHRvbl9oZWlnaHQsXG4gICAgICAgICAgbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh1aS5idXR0b25UZXh0KHtcbiAgICAgICAgeDogY2VudGVyID8geCAtIGJ1dHRvbl93aWR0aCAvIDIgOiB4LFxuICAgICAgICB5LCB3OiBidXR0b25fd2lkdGgsIGg6IGJ1dHRvbl9oZWlnaHQsXG4gICAgICAgIGZvbnRfaGVpZ2h0LFxuICAgICAgICB0ZXh0OiAnTG9nIG91dCcsXG4gICAgICB9KSkge1xuICAgICAgICBlZGl0X2JveF9wYXNzd29yZC5zZXRUZXh0KCcnKTtcbiAgICAgICAgaWYgKHByZWxvZ291dCkge1xuICAgICAgICAgIHByZWxvZ291dCgpO1xuICAgICAgICB9XG4gICAgICAgIG5ldC5zdWJzLmxvZ291dCgpO1xuICAgICAgfVxuICAgICAgeSArPSBidXR0b25faGVpZ2h0ICsgODtcbiAgICB9IGVsc2Uge1xuICAgICAgdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCBjZW50ZXIgPyB4IC0gdGV4dF93IC8gMiA6IHggKyBidXR0b25fd2lkdGggKyA4LCB5LFxuICAgICAgICBaLlVJLCBmb250X2hlaWdodCxcbiAgICAgICAgKGNlbnRlciA/IGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSIDogY2FsaWduKSB8IGdsb3ZfZm9udC5BTElHTi5WQ0VOVEVSIHwgZ2xvdl9mb250LkFMSUdOLkhGSVQsXG4gICAgICAgIHRleHRfdywgYnV0dG9uX2hlaWdodCxcbiAgICAgICAgYExvZ2dlZCBpbiBhczogJHtuYW1lfWApO1xuICAgIH1cbiAgfVxuICBpZiAobG9naW5fbWVzc2FnZSkge1xuICAgIGxldCB3ID0gdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCBjZW50ZXIgPyB4IC0gNDAwIDogeCwgeSwgWi5VSSwgZm9udF9oZWlnaHQgKiAxLjUsXG4gICAgICBnbG92X2ZvbnQuQUxJR04uSFZDRU5URVJGSVQsXG4gICAgICBjZW50ZXIgPyA4MDAgOiA0MDAsIG1pbl9oLCBsb2dpbl9tZXNzYWdlKTtcbiAgICB3ICs9IDEwMDtcbiAgICB1aS5kcmF3UmVjdCh4IC0gKGNlbnRlciA/IHcgLyAyIDogNTApLCB5LCB4ICsgKGNlbnRlciA/IHcgLyAyIDogdyAtIDUwKSwgeSArIG1pbl9oLCBaLlVJIC0gMC41LCB2ZWM0KDAsMCwwLDAuMjUpKTtcbiAgICB5ICs9IG1pbl9oO1xuICB9XG4gIHJldHVybiB5O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgcmV0dXJuIG5ldyBBY2NvdW50VUkoKTtcbn1cbiIsIi8qIGVzbGludCBnbG9iYWwtcmVxdWlyZTpvZmYgKi9cblxuLy8gU3RhcnR1cCBjb2RlLlxuXG5sZXQgY2FsbGVkX29uY2UgPSBmYWxzZTtcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChjYWxsZWRfb25jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjYWxsZWRfb25jZSA9IHRydWU7XG4gIC8vIHJlcXVpcmUoJy4vZ2xvdi93b3JrZXJfY29tbS5qcycpLnN0YXJ0dXAoKTsgLy8gRmlyc3QsIHNvIGl0IGdldHMgbG9hZGluZyBxdWlja2x5IChpZiB3b3JrZXJzIHJlcXVpcmVkKVxuICByZXF1aXJlKCcuL2dsb3YvYm9vdHN0cmFwLmpzJyk7XG4gIGlmICh3aW5kb3cuZ2xvdl9lbnYgPT09ICdtdWx0aXBsYXllcicpIHtcbiAgICByZXF1aXJlKCcuL211bHRpcGxheWVyLmpzJykubWFpbigpO1xuICB9IGVsc2Uge1xuICAgIHJlcXVpcmUoJy4vbWFpbi5qcycpLm1haW4oKTtcbiAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBMQVlFUl9TVEVQID0gNDtcbmV4cG9ydCBjb25zdCBTVEFSX0xBWUVSID0gNjtcbmV4cG9ydCBjb25zdCBNQVhfTEFZRVIgPSA4O1xuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2dsb3YvZW5naW5lLmpzJyk7XG5jb25zdCB7IGFicywgYXRhbjIsIGNlaWwsIGZsb29yLCBtYXgsIG1pbiwgc3FydCwgcG93LCBQSSwgcm91bmQgfSA9IE1hdGg7XG5jb25zdCB7IHJhbmRDcmVhdGUsIG1hc2hTdHJpbmcgfSA9IHJlcXVpcmUoJy4vZ2xvdi9yYW5kX2FsZWEuanMnKTtcbmNvbnN0IFNpbXBsZXhOb2lzZSA9IHJlcXVpcmUoJ3NpbXBsZXgtbm9pc2UnKTtcbmNvbnN0IHsgaHVlRnJvbUlEIH0gPSByZXF1aXJlKCcuL3N0YXJfdHlwZXMuanMnKTtcbmNvbnN0IHsgc29sYXJTeXN0ZW1DcmVhdGUgfSA9IHJlcXVpcmUoJy4vc29sYXJfc3lzdGVtLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vZ2xvdi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyBjbGFtcCwgbGVycCwgZWFzZU91dCwgZWFzZUluT3V0LCByaWR4IH0gPSByZXF1aXJlKCcuLi9jb21tb24vdXRpbC5qcycpO1xuXG5jb25zdCBTVU1TUSA9IDAuNzU7XG5cbmNvbnN0IFBPSV9UWVBFX09GRlMgPSBbXG4gIFsxLCAwLDAsXG4gICAwLjUsIDAsLTEsIDAuNSwgLTEsMCwgMC41LCAwLDEsIDAuNSwgMSwwXSwgLy8gNCBuZWlnaGJvcnNcbiAgWzEsIDAsMCxcbiAgIDAuNSwgMCwtMSwgMC41LCAwLC0yLCAwLjUsIC0xLDAsIDAuNSwgLTIsMCwgMC41LCAxLDAsIDAuNSwgMiwwLCAwLjUsIDAsMSwgMC41LCAwLDIsIC8vIHBsdXMgcGF0dGVyblxuICAgMC4yLCAtMSwtMSwgMC4yLCAxLC0xLCAwLjIsIC0xLDEsIDAuMiwgMSwxXSwgLy8gZGlhZ29uYWxzXG4gIFsxLCAwLDAsXG4gICAwLjIsIDAsLTEsIDAuMiwgMCwtMiwgMC4yLCAtMSwwLCAwLjIsIC0yLDAsIDAuMiwgMSwwLCAwLjIsIDIsMCwgMC4yLCAwLDEsIDAuMiwgMCwyLFxuICAgMC4yLCAtMSwtMSwgMC4yLCAxLC0xLCAwLjIsIC0xLDEsIDAuMiwgMSwxXSxcbl07XG5cbmxldCBjb3VudHMgPSB7XG4gIGJpY3ViaWM6IDAsXG4gIGdldFNhbXBsZUJ1ZjogMCxcbiAgcmVhbGl6ZVN0YXJzOiAwLFxuICByZWFsaXplU3RhcnNGaW5pc2g6IDAsXG4gIHBlcnR1cmI6IDAsXG4gIGFzc2lnbkNoaWxkU3RhcnM6IDAsXG4gIGRhdGE6IDAsXG4gIHN0YXJfYnVmOiAwLFxuICBodWVfYnVmOiAwLFxuICBnZXRDZWxsVGV4dHVyZWQ6IDAsXG4gIHRleDogMCxcbiAgY2VsbDogMCxcbiAgc3RhcjogMCxcbiAgcmVuZGVyU3RhcnM6IDAsXG59O1xuXG5sZXQgc3Rhcl9idWZfcG9vbCA9IFtdO1xubGV0IGh1ZV9idWZfcG9vbCA9IFtdO1xuXG5sZXQgbm9pc2UgPSBuZXcgQXJyYXkoMik7XG5sZXQgcmFuZCA9IHJhbmRDcmVhdGUoMCk7XG5mdW5jdGlvbiBnZW5HYWxheHkocGFyYW1zKSB7XG4gIGxldCB7XG4gICAgc2VlZCwgYXJtcywgYnVmX2RpbSwgdHdpcmwsIGNlbnRlciwgcG9pX2NvdW50LCBsZW5fbW9kcywgbm9pc2VfZnJlcSwgbm9pc2Vfd2VpZ2h0LFxuICAgIHN0YXJfY291bnQsIG1heF96b29tLFxuICB9ID0gcGFyYW1zO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbm9pc2UubGVuZ3RoOyArK2lpKSB7XG4gICAgbm9pc2VbaWldID0gbmV3IFNpbXBsZXhOb2lzZShgJHtzZWVkfW4ke2lpfWApO1xuICB9XG4gIHJhbmQucmVzZWVkKHNlZWQpO1xuICBsZXQgYXJtX2xlbiA9IG5ldyBBcnJheShsZW5fbW9kcyk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcm1fbGVuLmxlbmd0aDsgKytpaSkge1xuICAgIGFybV9sZW5baWldID0gcmFuZC5yYW5kb20oKTtcbiAgfVxuXG4gIGxldCBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShidWZfZGltICogYnVmX2RpbSk7XG4gIGZvciAobGV0IGlkeCA9IDAsIHl5ID0gMDsgeXkgPCBidWZfZGltOyArK3l5KSB7XG4gICAgbGV0IHkgPSB5eSAvIGJ1Zl9kaW0gKiAyIC0gMTsgLy8gLTEgLi4uIDFcbiAgICBmb3IgKGxldCB4eCA9IDA7IHh4IDwgYnVmX2RpbTsgKyt4eCwgKytpZHgpIHtcbiAgICAgIGxldCB4ID0geHggLyBidWZfZGltICogMiAtIDE7IC8vIC0xIC4uLiAxXG4gICAgICBsZXQgZCA9IHNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgICBsZXQgcmF3ZCA9IGQ7XG4gICAgICBsZXQgdGhldGEgPSBhdGFuMih4LCB5KTtcbiAgICAgIGxldCByYXd0aGV0YSA9IHRoZXRhO1xuICAgICAgdGhldGEgKz0gZCp0d2lybDtcbiAgICAgIC8vbGV0IGRlbnNlID0gc2luKHRoZXRhICogNykgKiAwLjUgKyAwLjU7XG4gICAgICBsZXQgZGVuc2UgPSB0aGV0YSAvICgyKlBJKTsgLy8gMC4uLjFcbiAgICAgIHdoaWxlIChkZW5zZSA8IDApIHtcbiAgICAgICAgZGVuc2UgKz0gMTtcbiAgICAgIH1cbiAgICAgIGxldCBhcm1pZHggPSAoZGVuc2UgKiAyICUgMSkgKiBhcm1fbGVuLmxlbmd0aDtcbiAgICAgIGxldCBhcm1pID0gZmxvb3IoYXJtaWR4KTtcbiAgICAgIGxldCBhcm1mID0gYXJtaWR4IC0gYXJtaTtcbiAgICAgIGxldCBpbnRlcnBfYXJtX2xlbiA9IGxlcnAoZWFzZUluT3V0KGFybWYsIDIpLCBhcm1fbGVuW2FybWldLCBhcm1fbGVuWyhhcm1pICsgMSkgJSBhcm1fbGVuLmxlbmd0aF0pO1xuICAgICAgZCAqPSAxICsgaW50ZXJwX2FybV9sZW47XG5cbiAgICAgIGRlbnNlICo9IGFybXM7IC8vIDAuLmFybXNcbiAgICAgIGRlbnNlICU9IDE7XG4gICAgICBkZW5zZSA9IGFicyhkZW5zZSAqMiAtIDEpO1xuICAgICAgZGVuc2UgKj0gZGVuc2U7XG4gICAgICBsZXQgaW52ZCA9IG1heCgwLCAxIC0gZCk7XG4gICAgICAvLyBDaGFuZ2UgZmFsbG9mZiB0byBiZSB0aWdodGVyIGZhcnRoZXIgb3V0XG4gICAgICBsZXQgaWQyID0gbWF4KDAsIG1pbigxLCBpbnZkICogMikpO1xuICAgICAgaWYgKGlkMiA9PT0gMCkge1xuICAgICAgICBkZW5zZSA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZW5zZSA9IG1heCgwLCBtaW4oMSwgZGVuc2UgLyBpZDIgLSAoMSAvIGlkMiAtIDEpKSk7XG4gICAgICB9XG4gICAgICBkZW5zZSA9IGVhc2VPdXQoZGVuc2UsIDIpO1xuICAgICAgLy9kZW5zZSA9IGFybV9zb2Z0ICsgKDEgLSBhcm1fc29mdCkgKiBkZW5zZTtcbiAgICAgIGxldCB2O1xuICAgICAgZGVuc2UgPSBsZXJwKG1pbihkLCAxKSwgaW52ZCwgZGVuc2UpO1xuICAgICAgdiA9IGRlbnNlO1xuICAgICAgLy92ID0gZGVuc2UgLSBkO1xuICAgICAgbGV0IGN2ID0gY2xhbXAoKGNlbnRlciAtIHJhd2QpICogMjAsIDAsIDEpO1xuICAgICAgdiArPSBlYXNlSW5PdXQoY3YsIDIpO1xuXG4gICAgICBsZXQgbm9pc2VfdjEgPSBub2lzZVswXS5ub2lzZTJEKHJhd2QgKiBub2lzZV9mcmVxLCB0aGV0YSAqIGQpICogMC41ICsgMC41O1xuICAgICAgbGV0IHRoZXRhX3JvdCA9ICgocmF3dGhldGEgKyBQSSoyKSAlIChQSSoyKSArIGQqdHdpcmwpO1xuICAgICAgbGV0IG5vaXNlX3YyID0gbm9pc2VbMF0ubm9pc2UyRChyYXdkICogbm9pc2VfZnJlcSwgdGhldGFfcm90ICogZCkgKiAwLjUgKyAwLjU7XG4gICAgICBsZXQgdGhldGEwMSA9IChyYXd0aGV0YS8oUEkqMikrMSklMTtcbiAgICAgIGxldCBub2lzZV92ID0gbGVycChhYnModGhldGEwMSAqIDIgLSAxKSwgbm9pc2VfdjIsIG5vaXNlX3YxKTtcbiAgICAgIG5vaXNlX3YgPSAobm9pc2VfdiAqIDIpIC0gMTtcbiAgICAgIC8vIGFzIHYgZ29lcyBmcm9tIDAgdG8gMC4xLCBmYWRlIG5vaXNlX3YgZnJvbSAwLjA1IHRvIDFcbiAgICAgIG5vaXNlX3YgKj0gbGVycChjbGFtcCh2ICogMTAsIDAsIDEpLCAwLjA1LCAxKTtcbiAgICAgIC8vIGFzIHYgZ29lcyBhYm92ZSBhIHRocmVzaG9sZCwgZmFkZSBub2lzZV92IGZyb20gMSB0byAwXG4gICAgICBub2lzZV92ICo9IGxlcnAoY2xhbXAoKHYgLSAwLjcpLzAuMSwgMCwgMSksIDEsIDApO1xuICAgICAgLy8gYXMgZCBnb2VzIHRvIDEsIGZhZGUgb3V0IG5vaXNlX3ZcbiAgICAgIG5vaXNlX3YgKj0gbGVycChjbGFtcCgocmF3ZC0wLjcpLzAuMywgMCwgMSksIDEsIDApO1xuICAgICAgdiArPSBub2lzZV92ICogbm9pc2Vfd2VpZ2h0O1xuICAgICAgLy8gbm9pc2VfdiA9IG1heCgwLCAxIC0gKDEgLSBub2lzZV92KSAqIGQgKiBub2lzZV93ZWlnaHQpO1xuICAgICAgLy8gdiAqPSBub2lzZV92O1xuICAgICAgZGF0YVtpZHhdID0gbWF4KHYsIDApOyAvLyBjbGFtcCh2LCAwLCAxKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBQT0lfQk9SREVSID0gNTtcbiAgbGV0IHBvaXMgPSBbXTtcbiAgbGV0IHBvaV9vZmZzID0gMC41IC8gcG93KDIsIG1heF96b29tKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBvaV9jb3VudDsgKytpaSkge1xuICAgIGxldCB4ID0gUE9JX0JPUkRFUiArIHJhbmQucmFuZ2UoYnVmX2RpbSAtIFBPSV9CT1JERVIgKiAyKTtcbiAgICBsZXQgeSA9IFBPSV9CT1JERVIgKyByYW5kLnJhbmdlKGJ1Zl9kaW0gLSBQT0lfQk9SREVSICogMik7XG4gICAgbGV0IHYgPSByYW5kLmZsb2F0QmV0d2VlbigwLjIsIDEpO1xuICAgIC8vIEFsc28gYWRkIGEgbGl0dGxlIGRlbnNpdHkgYXJvdW5kIHRoZSBQT0lcbiAgICBsZXQgaWR4ID0geCArIHkgKiBidWZfZGltO1xuICAgIGRhdGFbaWR4XSA9IG1heChkYXRhW2lkeF0sIHYgKiAwLjUpO1xuICAgIHggPSB4L2J1Zl9kaW0gKyBwb2lfb2ZmczsgLy8gY2VudGVyIGluIGEgZmluYWwgem9vbWVkIGluIGNlbGxcbiAgICB5ID0geS9idWZfZGltICsgcG9pX29mZnM7IC8vIGNlbnRlciBpbiBhIGZpbmFsIHpvb21lZCBpbiBjZWxsXG4gICAgbGV0IHR5cGUgPSByYW5kLnJhbmdlKFBPSV9UWVBFX09GRlMubGVuZ3RoKTtcbiAgICBwb2lzLnB1c2goe1xuICAgICAgeCwgeSxcbiAgICAgIHR5cGUsIHYsXG4gICAgfSk7XG4gIH1cblxuICBsZXQgc3VtID0gMDtcbiAgbGV0IHN1bXNxID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRhdGEubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHYgPSBkYXRhW2lpXTtcbiAgICBzdW0gKz0gdjtcbiAgICBzdW1zcSArPSB2KnY7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgc3VtLFxuICAgIHN1bXNxLFxuICAgIHN0YXJfY291bnQsXG4gICAgcG9pcyxcbiAgfTtcbn1cblxubGV0IHRleF9wb29sID0gW107XG5sZXQgdGV4X2lkX2lkeCA9IDA7XG5cbmZ1bmN0aW9uIEdhbGF4eShwYXJhbXMpIHtcbiAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gIGxldCBidWZfZGltID0gdGhpcy5idWZfZGltID0gcGFyYW1zLmJ1Zl9kaW07XG4gIGxldCB0ZXhfdG90YWxfc2l6ZSA9IHRoaXMudGV4X3RvdGFsX3NpemUgPSBidWZfZGltICogYnVmX2RpbTtcbiAgdGhpcy50ZXhfZGF0YSA9IG5ldyBVaW50OEFycmF5KHRleF90b3RhbF9zaXplICogNCk7XG4gIHRoaXMubGF5ZXJzID0gW107XG4gIHRoaXMud29ya19mcmFtZSA9IDA7XG4gIHRoaXMubG9hZGluZyA9IGZhbHNlO1xufVxuXG5jb25zdCBTQU1QTEVfUEFEID0gNDtcbi8vIGZ1bmN0aW9uIGV4cGFuZExpbmVhcjE2WChkYXRhLCBidWZfZGltLCB4cSwgeXEpIHtcbi8vICAgbGV0IHNhbXBsZV9kaW0gPSBidWZfZGltICsgU0FNUExFX1BBRCAqIDI7XG4vLyAgIGxldCByZXQgPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zl9kaW0gKiBidWZfZGltKTtcbi8vICAgbGV0IHFzID0gYnVmX2RpbSAvIDQ7XG4vLyAgIGZvciAobGV0IHl5ID0gMDsgeXkgPCBidWZfZGltOyArK3l5KSB7XG4vLyAgICAgZm9yIChsZXQgeHggPSAwOyB4eCA8IGJ1Zl9kaW07ICsreHgpIHtcbi8vICAgICAgIGxldCB4X2luID0gZmxvb3IoeHggLyA0KTtcbi8vICAgICAgIGxldCBkeCA9IHh4LzQgLSB4X2luO1xuLy8gICAgICAgbGV0IHlfaW4gPSBmbG9vcih5eSAvIDQpO1xuLy8gICAgICAgbGV0IGR5ID0geXkvNCAtIHlfaW47XG4vLyAgICAgICBsZXQgaW5faWR4ID0gKHlfaW4gKyB5cSAqIHFzICsgU0FNUExFX1BBRCkgKiBzYW1wbGVfZGltICsgeF9pbiArIHhxICogcXMgKyBTQU1QTEVfUEFEO1xuLy8gICAgICAgbGV0IHYwMCA9IGRhdGFbaW5faWR4XTtcbi8vICAgICAgIGxldCB2MTAgPSBkYXRhW2luX2lkeCArIDFdO1xuLy8gICAgICAgbGV0IHYwMSA9IGRhdGFbaW5faWR4ICsgc2FtcGxlX2RpbV07XG4vLyAgICAgICBsZXQgdjExID0gZGF0YVtpbl9pZHggKyBzYW1wbGVfZGltICsgMV07XG4vLyAgICAgICBsZXQgdjAgPSBsZXJwKGR5LCB2MDAsIHYwMSk7XG4vLyAgICAgICBsZXQgdjEgPSBsZXJwKGR5LCB2MTAsIHYxMSk7XG4vLyAgICAgICByZXRbeHggKyB5eSAqIGJ1Zl9kaW1dID0gbGVycChkeCwgdjAsIHYxKTtcbi8vICAgICB9XG4vLyAgIH1cbi8vICAgcmV0dXJuIHJldDtcbi8vIH1cblxuLy8gZnJvbSBodHRwOi8vcGF1bGJvdXJrZS5uZXQvbWlzY2VsbGFuZW91cy9pbWFnZXByb2Nlc3MvXG5sZXQgY3ViaWNfd2VpZ2h0cyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGN1Yih2KSB7XG4gICAgcmV0dXJuIHYqdip2O1xuICB9XG4gIGZ1bmN0aW9uIHAodikge1xuICAgIHJldHVybiBtYXgoMCwgdik7XG4gIH1cbiAgZnVuY3Rpb24gcih4KSB7XG4gICAgbGV0IHY9IDEvNiAqIChjdWIocCh4KzIpKSAtIDQgKiBjdWIocCh4KzEpKSArIDYqY3ViKHAoeCkpIC0gNCAqIGN1YihwKHgtMSkpKTtcbiAgICByZXR1cm4gdjtcbiAgfVxuICBmdW5jdGlvbiB3ZWlnaHQoaWksIGpqLCBkeCwgZHkpIHtcbiAgICByZXR1cm4gcihpaSAtIGR4LzQpICogcihqaiAtIGR5LzQpO1xuICB9XG4gIGxldCByZXQgPSBbXTtcbiAgZm9yIChsZXQgZHkgPSAwOyBkeSA8IDQ7ICsrZHkpIHtcbiAgICBsZXQgcm93ID0gW107XG4gICAgcmV0LnB1c2gocm93KTtcbiAgICBmb3IgKGxldCBkeCA9IDA7IGR4IDwgNDsgKytkeCkge1xuICAgICAgbGV0IHcgPSBbXTtcbiAgICAgIGZvciAobGV0IGlpID0gLTE7IGlpIDw9IDI7ICsraWkpIHtcbiAgICAgICAgZm9yIChsZXQgamogPSAtMTsgamogPD0gMjsgKytqaikge1xuICAgICAgICAgIHcucHVzaCh3ZWlnaHQoaWksIGpqLCBkeCwgZHkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcm93LnB1c2godyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59KCkpO1xuZnVuY3Rpb24gZXhwYW5kQmljdWJpYzE2WChkYXRhLCBidWZfZGltLCB4cSwgeXEpIHtcbiAgKytjb3VudHMuYmljdWJpYztcbiAgbGV0IHNhbXBsZV9kaW0gPSBidWZfZGltICsgU0FNUExFX1BBRCAqIDI7XG4gIGxldCByZXQgPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zl9kaW0gKiBidWZfZGltKTtcbiAgKytjb3VudHMuZGF0YTtcbiAgbGV0IHFzID0gYnVmX2RpbSAvIDQ7XG4gIGxldCBpZHhfYWRkID0gKHlxICogcXMgKyBTQU1QTEVfUEFEKSAqIHNhbXBsZV9kaW0gKyB4cSAqIHFzICsgU0FNUExFX1BBRDtcbiAgZm9yIChsZXQgeXkgPSAwOyB5eSA8IGJ1Zl9kaW07ICsreXkpIHtcbiAgICBsZXQgeV9pbiA9IGZsb29yKHl5IC8gNCk7XG4gICAgbGV0IGR5ID0geXkgLSB5X2luICogNDtcbiAgICBsZXQgaW5faWR4X3kgPSB5X2luICogc2FtcGxlX2RpbSArIGlkeF9hZGQ7XG4gICAgbGV0IHdfcm93ID0gY3ViaWNfd2VpZ2h0c1tkeV07XG4gICAgZm9yIChsZXQgeHggPSAwOyB4eCA8IGJ1Zl9kaW07ICsreHgpIHtcbiAgICAgIGxldCB4X2luID0gZmxvb3IoeHggLyA0KTtcbiAgICAgIGxldCBkeCA9IHh4IC0geF9pbiAqIDQ7XG4gICAgICBsZXQgaW5faWR4ID0gaW5faWR4X3kgKyB4X2luO1xuICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICBsZXQgd2VpZ2h0cyA9IHdfcm93W2R4XTtcbiAgICAgIGZvciAobGV0IGlpID0gLTEsIHdpZHg9MDsgaWkgPD0gMjsgKytpaSkge1xuICAgICAgICBmb3IgKGxldCBqaiA9IC0xOyBqaiA8PSAyOyArK2pqLCArK3dpZHgpIHtcbiAgICAgICAgICBzdW0gKz0gZGF0YVtpbl9pZHggKyBpaSArIGpqICogc2FtcGxlX2RpbV0gKiB3ZWlnaHRzW3dpZHhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXRbeHggKyB5eSAqIGJ1Zl9kaW1dID0gc3VtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5cbi8vIEdldHMgYSBwYWRkZWQgYnVmZmVyIGZyb20gdGhlIHNwZWNpZmllZCBjZWxsIGFuZCBhbGwgbmVpZ2hib3JzXG5HYWxheHkucHJvdG90eXBlLmdldFNhbXBsZUJ1ZiA9IGZ1bmN0aW9uIChsYXllcl9pZHgsIGN4LCBjeSkge1xuICBsZXQgeyBzYW1wbGVfYnVmLCBidWZfZGltIH0gPSB0aGlzO1xuICBsZXQga2V5ID0gW2xheWVyX2lkeCwgY3gsIGN5XS5qb2luKCk7XG4gIGlmICh0aGlzLmxhc3Rfc2FtcGxlX2J1ZiA9PT0ga2V5KSB7XG4gICAgcmV0dXJuIHNhbXBsZV9idWY7XG4gIH1cbiAgbGV0IGxheWVyX3JlcyA9IHBvdyhMQVlFUl9TVEVQLCBsYXllcl9pZHgpO1xuICBsZXQgc2FtcGxlX2RpbSA9IGJ1Zl9kaW0gKyBTQU1QTEVfUEFEICogMjtcbiAgaWYgKCFzYW1wbGVfYnVmKSB7XG4gICAgc2FtcGxlX2J1ZiA9IHRoaXMuc2FtcGxlX2J1ZiA9IG5ldyBGbG9hdDMyQXJyYXkoc2FtcGxlX2RpbSpzYW1wbGVfZGltKTtcbiAgfVxuICAvLyBDYWxsIGdldENlbGwoKSBvbiBhbGwgcmVxdWlyZW1lbnRzIChtYXkgcmVjdXJzZSBpbnRvIGhlcmUpXG4gIGxldCBidWZzID0gW107XG4gIGZvciAobGV0IGR5ID0gLTE7IGR5IDw9IDE7ICsrZHkpIHtcbiAgICBsZXQgcHkgPSBjeSArIGR5O1xuICAgIGJ1ZnNbZHldID0gW107XG4gICAgZm9yIChsZXQgZHggPSAtMTsgZHggPD0gMTsgKytkeCkge1xuICAgICAgbGV0IHB4ID0gY3ggKyBkeDtcbiAgICAgIGxldCBidWY7XG4gICAgICBpZiAocHggPCAwIHx8IHB4ID49IGxheWVyX3JlcyB8fCBweSA8IDAgfHwgcHkgPj0gbGF5ZXJfcmVzKSB7XG4gICAgICAgIGJ1ZiA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2V0Q2VsbChsYXllcl9pZHgsIHB4ICsgcHkgKiBsYXllcl9yZXMpO1xuICAgICAgICBpZiAoIWNlbGwucmVhZHkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBidWYgPSBjZWxsLmRhdGE7XG4gICAgICB9XG4gICAgICBidWZzW2R5XVtkeF0gPSBidWY7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVuZ2luZS5mcmFtZV9pbmRleCA9PT0gdGhpcy53b3JrX2ZyYW1lICYmICF0aGlzLmxvYWRpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gICsrY291bnRzLmdldFNhbXBsZUJ1ZjtcbiAgZm9yIChsZXQgZHkgPSAtMTsgZHkgPD0gMTsgKytkeSkge1xuICAgIGZvciAobGV0IGR4ID0gLTE7IGR4IDw9IDE7ICsrZHgpIHtcbiAgICAgIGxldCBidWYgPSBidWZzW2R5XVtkeF07XG4gICAgICBsZXQgb3ggPSBTQU1QTEVfUEFEICsgZHggKiBidWZfZGltO1xuICAgICAgbGV0IG95ID0gU0FNUExFX1BBRCArIGR5ICogYnVmX2RpbTtcbiAgICAgIGxldCB4MCA9IG1heCgwLCAtb3gpO1xuICAgICAgbGV0IHkwID0gbWF4KDAsIC1veSk7XG4gICAgICBsZXQgeDEgPSBtaW4oYnVmX2RpbSwgc2FtcGxlX2RpbSAtIG94KTtcbiAgICAgIGxldCB5MSA9IG1pbihidWZfZGltLCBzYW1wbGVfZGltIC0gb3kpO1xuICAgICAgZm9yIChsZXQgeHggPSB4MDsgeHggPCB4MTsgKyt4eCkge1xuICAgICAgICBmb3IgKGxldCB5eSA9IHkwOyB5eSA8IHkxOyArK3l5KSB7XG4gICAgICAgICAgc2FtcGxlX2J1ZltveCArIHh4ICsgKG95ICsgeXkpICogc2FtcGxlX2RpbV0gPSBidWYgPyBidWZbeHggKyB5eSAqIGJ1Zl9kaW1dIDogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLmxhc3Rfc2FtcGxlX2J1ZiA9IGtleTtcbiAgcmV0dXJuIHNhbXBsZV9idWY7XG59O1xuXG5jb25zdCBTVEFSX0xBUkdFX0NPVU5UID0gMjAwMDA7IC8vIDIwayA9IGFib3V0IDEwbXNcbmNvbnN0IFNUQVJfUVVPVEEgPSAxNDsgLy8gbXNcbkdhbGF4eS5wcm90b3R5cGUucmVhbGl6ZVN0YXJzID0gZnVuY3Rpb24gKGNlbGwpIHtcbiAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgbGV0IHsgbGF5ZXJfaWR4LCBjZWxsX2lkeCwgc3Rhcl9jb3VudCwgZGF0YSwgc3VtLCBzdW1zcSwgeDAsIHkwLCB3LCBwb2lzLCBzdGFycywgc3Rhcl9wcm9ncmVzcywgc3Rhcl9pZHggfSA9IGNlbGw7XG4gIGxldCBzY2FsZSA9IHN0YXJfY291bnQgLyBsZXJwKFNVTVNRLCBzdW0sIHN1bXNxKSAqIDEuMDM7XG4gIGxldCB2YWx1ZV9zY2FsZSA9IDAuNzU7IC8vIFdhczogKHN1bSAvIHN0YXJfY291bnQpLCB3aGljaCB3YXMgfjAuNzUgYmVmb3JlIFNVTVNRXG4gIGFzc2VydC5lcXVhbChsYXllcl9pZHgsIFNUQVJfTEFZRVIpOyAvLyBjb25zaXN0ZW50IElEcyBvbmx5IG9uIHRoaXMgbGF5ZXJcbiAgbGV0IHsgYnVmX2RpbSwgcGFyYW1zIH0gPSB0aGlzO1xuICBsZXQgeyBzZWVkIH0gPSBwYXJhbXM7XG4gIGxldCB5eTA7XG4gICsrY291bnRzLnJlYWxpemVTdGFycztcbiAgaWYgKCFzdGFyX3Byb2dyZXNzKSB7XG4gICAgc3RhcnMgPSBjZWxsLnN0YXJzID0gW107XG4gICAgcmFuZC5yZXNlZWQobWFzaFN0cmluZyhgJHtzZWVkfV8ke2xheWVyX2lkeH1fJHtjZWxsX2lkeH1gKSk7XG4gICAgeXkwID0gMDtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3Rhcl9wcm9ncmVzcy5zdGF0ZSkge1xuICAgICAgcmFuZC5pbXBvcnRTdGF0ZShzdGFyX3Byb2dyZXNzLnN0YXRlKTtcbiAgICB9XG4gICAgeXkwID0gc3Rhcl9wcm9ncmVzcy55O1xuICB9XG4gIGZ1bmN0aW9uIGFkZFN0YXIoeHgsIHl5KSB7XG4gICAgKytjb3VudHMuc3RhcjtcbiAgICBsZXQgc3RhciA9IHtcbiAgICAgIHR5cGU6IHJhbmQucmFuZ2UoUE9JX1RZUEVfT0ZGUy5sZW5ndGgpLCAgLy8gVE9ETzogbWFrZSB0aGlzIGNob2ljZSBpbXBsaWNpdCBmcm9tIHBlci1jZWxsIGEgc2VlZCBvciB0aGUgSURcbiAgICAgIHg6IHgwICsgeHgvYnVmX2RpbSAqIHcsXG4gICAgICB5OiB5MCArIHl5L2J1Zl9kaW0gKiB3LFxuICAgICAgdjogKDAuNSArIHJhbmQucmFuZG9tKCkpICogdmFsdWVfc2NhbGUsIC8vIFRPRE86IG1ha2UgdGhpcyBjaG9pY2UgaW1wbGljaXQgZnJvbSBwZXItY2VsbCBhIHNlZWQgb3IgdGhlIElEXG4gICAgfTtcbiAgICBzdGFycy5wdXNoKHN0YXIpO1xuICB9XG4gIGxldCBkb19zdGFycyA9IChzdGFyX2NvdW50IHx8IHBvaXMubGVuZ3RoKSAmJiB5eTAgIT09IGJ1Zl9kaW07XG4gIGlmIChkb19zdGFycykge1xuICAgIGxldCBleHBpcmUgPSBzdGFydCArIFNUQVJfUVVPVEE7XG4gICAgZm9yIChsZXQgaWR4PXl5MCpidWZfZGltLCB5eSA9IHl5MDsgeXkgPCBidWZfZGltOyArK3l5KSB7XG4gICAgICBmb3IgKGxldCB4eCA9IDA7IHh4IDwgYnVmX2RpbTsgKyt4eCwgKytpZHgpIHtcbiAgICAgICAgbGV0IHYgPSBkYXRhW2lkeF07XG4gICAgICAgIHYgKj0gMSArIFNVTVNRICogKHYgLSAxKTsgLy8gdiA9IGxlcnAoU1VNU1EsIHYsIHYqdik7XG4gICAgICAgIGxldCBleHBlY3RlZF9zdGFycyA9IHYgKiBzY2FsZTtcbiAgICAgICAgLy8gYXNzZXJ0KGV4cGVjdGVkX3N0YXJzIDwgMTApOyAvLyBzb21ldGltZXMgbW9yZSB0aGFuIDY1XG4gICAgICAgIC8vIGFzc2VydChleHBlY3RlZF9zdGFycyA8IDUwKTtcbiAgICAgICAgbGV0IGFjdHVhbF9zdGFycyA9IGZsb29yKHJhbmQucmFuZG9tKCkgKiAoZXhwZWN0ZWRfc3RhcnMgKyAxKSArIGV4cGVjdGVkX3N0YXJzICogMC41KTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFjdHVhbF9zdGFyczsgKytpaSkge1xuICAgICAgICAgIC8vIHVuaWZvcm0gd2l0aGluIHN1Yi1jZWxsXG4gICAgICAgICAgYWRkU3Rhcih4eCArIHJhbmQucmFuZG9tKCksIHl5ICsgcmFuZC5yYW5kb20oKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChEYXRlLm5vdygpID4gZXhwaXJlICYmIHl5ICE9PSBidWZfZGltIC0gMSAmJiAhdGhpcy5sb2FkaW5nKSB7XG4gICAgICAgIGNlbGwuc3Rhcl9wcm9ncmVzcyA9IHtcbiAgICAgICAgICB5OiB5eSArIDEsXG4gICAgICAgICAgc3RhdGU6IHJhbmQuZXhwb3J0U3RhdGUoKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy9sZXQgZW5kID0gRGF0ZS5ub3coKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgcmVhbGl6ZVN0YXJzKCR7c3Rhcl9jb3VudH0pOiAke2VuZCAtIHN0YXJ0fW1zIHBsYWNlIChwYXJ0aWFsICR7eXkgLSB5eTAgKyAxfSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygoc3RhcnMubGVuZ3RoLXN0YXJfY291bnQpL3N0YXJfY291bnQsIHN0YXJzLmxlbmd0aCwgc3Rhcl9jb3VudCk7IC8vIGFib3V0IDUlIHVuZGVyIHRvIDMwJSBvdmVyXG4gICAgd2hpbGUgKHN0YXJzLmxlbmd0aCA8IHN0YXJfY291bnQpIHtcbiAgICAgIGFkZFN0YXIocmFuZC5mbG9hdEJldHdlZW4oMCwgYnVmX2RpbSksIHJhbmQuZmxvYXRCZXR3ZWVuKDAsIGJ1Zl9kaW0pKTtcbiAgICB9XG4gICAgd2hpbGUgKHN0YXJzLmxlbmd0aCA+IHN0YXJfY291bnQpIHtcbiAgICAgIHJpZHgoc3RhcnMsIHJhbmQucmFuZ2Uoc3RhcnMubGVuZ3RoKSk7XG4gICAgfVxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwb2lzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IHBvaSA9IHBvaXNbaWldO1xuICAgICAgc3RhcnMucHVzaChwb2kpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc3RhcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgc3RhciA9IHN0YXJzW2lpXTtcbiAgICAgIC8vIGlkID0gfjM3Yml0IChhdCAxMDBCIHN0YXJzKSB1aWQ7IGFsc28gdXNlZCB0byBnZW5lcmF0ZSBhIHNlZWRcbiAgICAgIHN0YXIuaWQgPSBzdGFyX2lkeCArIGlpO1xuICAgIH1cbiAgfVxuICAvLyBsZXQgZW5kX3BsYWNlID0gRGF0ZS5ub3coKTtcbiAgLy8gVE9ETzogcmVsYXhhdGlvbiBzdGVwIHRvIHNlcGFyYXRlIHJlYWxseSBjbG9zZSBzdGFycyAoMS8xMDAwIGx5PyA8PTJweCBpbiBoaWdoZXN0IHJlcyBidWZmZXI/KVxuICBpZiAoZG9fc3RhcnMgJiYgc3Rhcl9jb3VudCA+IFNUQVJfTEFSR0VfQ09VTlQgJiYgIXRoaXMubG9hZGluZykge1xuICAgIC8vIHNwZW5kIGNvbnNpZGVyYWJsZSB0aW1lXG4gICAgY2VsbC5zdGFyX3Byb2dyZXNzID0ge1xuICAgICAgeTogYnVmX2RpbSxcbiAgICAgIHN0YXRlOiBudWxsLCAvLyBubyByYW5kb20gYWZ0ZXIgdGhpcyFcbiAgICB9O1xuICAgIC8vIGxldCBlbmQgPSBEYXRlLm5vdygpO1xuICAgIC8vIGNvbnNvbGUubG9nKGByZWFsaXplU3RhcnMoJHtzdGFyX2NvdW50fSk6ICR7ZW5kIC0gc3RhcnR9bXMgcGxhY2UgKGZpbmlzaGVkKWApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBkZWxldGUgY2VsbC5zdGFyX3Byb2dyZXNzO1xuICAvLyBsZXQgZW5kID0gRGF0ZS5ub3coKTtcbiAgLy8gY29uc29sZS5sb2coYHJlYWxpemVTdGFycygke3N0YXJfY291bnR9KTogJHtlbmRfcGxhY2UgLSBzdGFydH1tcyBwbGFjZSwgJHtlbmQgLSBlbmRfcGxhY2V9bXMgcmVuZGVyYCk7XG4gICsrY291bnRzLnJlYWxpemVTdGFyc0ZpbmlzaDtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vLyByZW5kZXIgaW50byBgZGF0YWAgYXBwcm9wcmlhdGVseSBmb3IgdGhlIGN1cnJlbnQgem9vbVxue1xuICBjb25zdCBibHVyX3dlaWdodHMgPSBbXG4gICAgMS8xNiwgMS84LCAxLzE2LFxuICAgIDEvOCwgMS80LCAxLzgsXG4gICAgMS8xNiwgMS84LCAxLzE2LFxuICBdO1xuICAvLyBOb3RlOiB0aGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIHJlY3Vyc2l2ZWx5XG4gIEdhbGF4eS5wcm90b3R5cGUucmVuZGVyU3RhcnMgPSBmdW5jdGlvbiAoY2VsbCkge1xuICAgIGxldCB7IGxheWVyX2lkeCwgeDAsIHkwLCB3LCBzdGFycywgY3gsIGN5IH0gPSBjZWxsO1xuICAgIGxldCB7IGJ1Zl9kaW0gfSA9IHRoaXM7XG4gICAgbGV0IHNjYWxlID0gYnVmX2RpbSAvIHc7XG5cbiAgICBsZXQgbGF5ZXJfcmVzID0gcG93KExBWUVSX1NURVAsIGxheWVyX2lkeCk7XG4gICAgbGV0IG5kYXRhID0gW107XG4gICAgbGV0IG5odWUgPSBbXTtcbiAgICBmb3IgKGxldCB5eSA9IC0xOyB5eSA8PSAxOyArK3l5KSB7XG4gICAgICBsZXQgbmN5ID0gY3kgKyB5eTtcbiAgICAgIGZvciAobGV0IHh4ID0gLTE7IHh4IDw9IDE7ICsreHgpIHtcbiAgICAgICAgbGV0IG5jeCA9IGN4ICsgeHg7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBpZiAobmN5IDwgMCB8fCBuY3kgPj0gbGF5ZXJfcmVzIHx8IG5jeCA8IDAgfHwgbmN4ID49IGxheWVyX3Jlcykge1xuICAgICAgICAgIG4gPSBjZWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG4gPSB0aGlzLmdldENlbGwobGF5ZXJfaWR4LCBuY3ggKyBuY3kgKiBsYXllcl9yZXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydCghbi50ZXgpOyAvLyBqdXN0IGZvciBkZWJ1ZywgbWFrZSBzdXJlIHRoaXMgbmVpZ2hib3Igd2UncmUgd3JpdGluZyBpbnRvIGhhc24ndCBhbHJlYWR5IG1hZGUgYSB0ZXh0dXJlXG4gICAgICAgIGlmICghbi5zdGFyX2J1Zikge1xuICAgICAgICAgIGlmIChzdGFyX2J1Zl9wb29sLmxlbmd0aCkge1xuICAgICAgICAgICAgbi5zdGFyX2J1ZiA9IHN0YXJfYnVmX3Bvb2wucG9wKCk7XG4gICAgICAgICAgICBuLnN0YXJfYnVmLmZpbGwoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4uc3Rhcl9idWYgPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zl9kaW0gKiBidWZfZGltKTtcbiAgICAgICAgICAgICsrY291bnRzLnN0YXJfYnVmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZGF0YS5wdXNoKG4uc3Rhcl9idWYpO1xuICAgICAgICBpZiAoIW4uaHVlX2J1Zikge1xuICAgICAgICAgIGlmIChodWVfYnVmX3Bvb2wubGVuZ3RoKSB7XG4gICAgICAgICAgICBuLmh1ZV9idWYgPSBodWVfYnVmX3Bvb2wucG9wKCk7XG4gICAgICAgICAgICBuLmh1ZV9idWYuZmlsbCgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbi5odWVfYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnVmX2RpbSAqIGJ1Zl9kaW0pO1xuICAgICAgICAgICAgKytjb3VudHMuaHVlX2J1ZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmh1ZS5wdXNoKG4uaHVlX2J1Zik7XG4gICAgICB9XG4gICAgfVxuICAgIGFzc2VydChuZGF0YVs0XSA9PT0gY2VsbC5zdGFyX2J1Zik7XG4gICAgKytjb3VudHMucmVuZGVyU3RhcnM7XG5cbiAgICBsZXQgd2VpZ2h0cyA9IFtdO1xuICAgIGxldCB4cG9zID0gW107XG4gICAgbGV0IHlwb3MgPSBbXTtcbiAgICAvLyBsZXQgeyBtYXhfem9vbSB9ID0gdGhpcy5wYXJhbXM7XG4gICAgLy8gbGV0IG1heF9yZXMgPSBwb3coMiwgbWF4X3pvb20pO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBzdGFycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBzdGFyID0gc3RhcnNbaWldO1xuICAgICAgbGV0IHsgeCwgeSwgdiwgaWQgfSA9IHN0YXI7XG4gICAgICB4ID0gKHggLSB4MCkgKiBzY2FsZTtcbiAgICAgIHkgPSAoeSAtIHkwKSAqIHNjYWxlO1xuICAgICAgaWYgKGxheWVyX2lkeCA9PT0gNyB8fCBsYXllcl9pZHggPT09IDYpIHtcbiAgICAgICAgbGV0IGh1ZSA9IGh1ZUZyb21JRChpZCk7XG4gICAgICAgIGNvbnN0IHIgPSBsYXllcl9pZHggPT09IDcgPyAyIDogMS41O1xuICAgICAgICBjb25zdCB2c2NhbGUgPSBsYXllcl9pZHggPT09IDcgPyA0IDogMjtcbiAgICAgICAgY29uc3QgcnNxID0gciAqIHI7XG4gICAgICAgIGxldCB3dG90ID0gMDtcbiAgICAgICAgbGV0IHdpZHggPSAwO1xuICAgICAgICAvLyBzY29vdCBpbiBzbyB3ZSBkb24ndCBuZWVkIHRvIGdvIGludG8gbmVpZ2hib3JpbmcgZGF0YVxuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhdXNlcyB2aXNpYmxlIHNlYW1zLCBidXQgd2l0aG91dCBpdCB3ZSBnZXQgZGlzY29udGludWl0aWVzIC0gbmVlZCB0byByZW5kZXIgbmVpZ2hib3Igc3RhcnMgdG9vIVxuICAgICAgICAvLyB4ID0gbWF4KHIvMiArIDAuNSwgbWluKGJ1Zl9kaW0gLSByLzIgLSAwLjUsIHgpKTtcbiAgICAgICAgLy8geSA9IG1heChyLzIgKyAwLjUsIG1pbihidWZfZGltIC0gci8yIC0gMC41LCB5KSk7XG4gICAgICAgIGxldCBpeCA9IGZsb29yKHgpO1xuICAgICAgICBsZXQgaXkgPSBmbG9vcih5KTtcbiAgICAgICAgaWYgKGxheWVyX2lkeCA9PT0gNykge1xuICAgICAgICAgIC8vIGRpc3RhbmNlIHNxdWFyZWQgZmFsbG9mZiBibHVycmVkIHN0YXJcbiAgICAgICAgICBmb3IgKGxldCB5eSA9IGZsb29yKC1yKTsgeXkgPD0gY2VpbChyKTsgKyt5eSkge1xuICAgICAgICAgICAgbGV0IGR5ID0gaXkgKyB5eSAtIHkgKyAwLjU7XG4gICAgICAgICAgICBpZiAoYWJzKGR5KSA+PSByKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgeHggPSBmbG9vcigtcik7IHh4IDw9IGNlaWwocik7ICsreHgpIHtcbiAgICAgICAgICAgICAgbGV0IGR4ID0gaXggKyB4eCAtIHggKyAwLjU7XG4gICAgICAgICAgICAgIGxldCBkc3EgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgaWYgKGRzcSA+PSByc3EpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgZCA9c3FydChkc3EpO1xuICAgICAgICAgICAgICBsZXQgd3QgPSAoMS1kL3IpKigxLWQvcik7XG4gICAgICAgICAgICAgIC8vIGxldCB3dCA9IDEgLSBkc3EgLyByc3E7XG4gICAgICAgICAgICAgIHd0b3QgKz0gd3Q7XG4gICAgICAgICAgICAgIHdlaWdodHNbd2lkeF0gPSB3dDtcbiAgICAgICAgICAgICAgeHBvc1t3aWR4XSA9IGl4ICsgeHg7XG4gICAgICAgICAgICAgIHlwb3Nbd2lkeCsrXSA9IGl5ICsgeXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxheWVyX2lkeCA9PT0gNikge1xuICAgICAgICAgIHdlaWdodHMgPSBibHVyX3dlaWdodHM7XG4gICAgICAgICAgd3RvdCA9IDE7XG4gICAgICAgICAgZm9yIChsZXQgeXkgPSAtMTsgeXkgPD0gMTsgKyt5eSkge1xuICAgICAgICAgICAgZm9yIChsZXQgeHggPSAtMTsgeHggPD0gMTsgKyt4eCkge1xuICAgICAgICAgICAgICB4cG9zW3dpZHhdID0gaXggKyB4eDtcbiAgICAgICAgICAgICAgeXBvc1t3aWR4KytdID0gaXkgKyB5eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHdpZHg7ICsramopIHtcbiAgICAgICAgICBsZXQgd3QgPSB3ZWlnaHRzW2pqXTtcbiAgICAgICAgICBsZXQgeHggPSB4cG9zW2pqXTtcbiAgICAgICAgICBsZXQgeXkgPSB5cG9zW2pqXTtcbiAgICAgICAgICBsZXQgbmlkID0gNDtcbiAgICAgICAgICBpZiAoeHggPCAwKSB7XG4gICAgICAgICAgICBuaWQtLTtcbiAgICAgICAgICAgIHh4Kz1idWZfZGltO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeHggPj0gYnVmX2RpbSkge1xuICAgICAgICAgICAgbmlkKys7XG4gICAgICAgICAgICB4eC09YnVmX2RpbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHl5IDwgMCkge1xuICAgICAgICAgICAgbmlkLT0zO1xuICAgICAgICAgICAgeXkrPWJ1Zl9kaW07XG4gICAgICAgICAgfSBlbHNlIGlmICh5eSA+PSBidWZfZGltKSB7XG4gICAgICAgICAgICBuaWQrPTM7XG4gICAgICAgICAgICB5eS09YnVmX2RpbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGRhdGEgPSBuZGF0YVtuaWRdO1xuICAgICAgICAgIGxldCBodWVfYnVmID0gbmh1ZVtuaWRdO1xuICAgICAgICAgIGxldCBpZHggPSB4eCArIHl5ICogYnVmX2RpbTtcbiAgICAgICAgICBsZXQgb2xkX3cgPSBkYXRhW2lkeF07XG4gICAgICAgICAgbGV0IG5ld193ID0gd3QgLyB3dG90O1xuICAgICAgICAgIGRhdGFbaWR4XSArPSB2ICogdnNjYWxlICogbmV3X3c7XG4gICAgICAgICAgaHVlX2J1ZltpZHhdID0gcm91bmQoKG9sZF93ICogaHVlX2J1ZltpZHhdICsgaHVlICogbmV3X3cpIC8gKG5ld193ICsgb2xkX3cpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbGF5ZXIgOCwgYmFzaWNhbGx5IGlnbm9yZWQ/ICBNb3ZlIHBvaS1zdHlsZSBzdGFyIHJlbmRlcmluZyBoZXJlIHRvIGRlYWwgd2l0aCB3cmFwLWFyb3VuZD9cbiAgICAgICAgLy8gbGV0IGl4ID0gZmxvb3IoeCk7XG4gICAgICAgIC8vIGxldCBpeSA9IGZsb29yKHkpO1xuICAgICAgICAvLyBsZXQgaWR4ID0gaXggKyBpeSAqIGJ1Zl9kaW07XG4gICAgICAgIC8vIC8vIGp1c3QgYWRkXG4gICAgICAgIC8vIGNlbGwuZGF0YVtpZHhdICs9IHY7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuXG5HYWxheHkucHJvdG90eXBlLmFzc2lnbkNoaWxkU3RhcnMgPSBmdW5jdGlvbiAoY2VsbCkge1xuICBsZXQgeyBidWZfZGltIH0gPSB0aGlzO1xuICBsZXQgeyBwb2lzLCBzdGFyX2NvdW50LCBzdGFycywgc3VtLCBzdW1zcSwgZGF0YSwgc3Rhcl9pZHggfSA9IGNlbGw7XG4gIGxldCBjaGlsZF9kYXRhID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBMQVlFUl9TVEVQICogTEFZRVJfU1RFUDsgKytpaSkge1xuICAgIGNoaWxkX2RhdGEucHVzaCh7IHBvaXM6IFtdIH0pO1xuICB9XG4gIGlmICghc3RhcnMpIHtcbiAgICBsZXQgcXMgPSBidWZfZGltIC8gTEFZRVJfU1RFUDtcbiAgICBsZXQgcnVubmluZ19zdW0gPSAwO1xuICAgIGxldCBydW5uaW5nX3N1bXNxID0gMDtcbiAgICBsZXQgbGFzdF9zdGFyX2NvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpZHg9MCwgeXkgPSAwOyB5eSA8IExBWUVSX1NURVA7ICsreXkpIHtcbiAgICAgIGZvciAobGV0IHh4ID0gMDsgeHggPCBMQVlFUl9TVEVQOyArK3h4LCArK2lkeCkge1xuICAgICAgICBpZiAoc3VtKSB7XG4gICAgICAgICAgbGV0IGlkeGJhc2UgPSB4eCAqIHFzICsgeXkgKiBxcyAqIGJ1Zl9kaW07XG4gICAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHFzOyArK2pqKSB7XG4gICAgICAgICAgICBsZXQgaWR4X2luID0gaWR4YmFzZSArIGpqICogYnVmX2RpbTtcbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBxczsgKytpaSwgKytpZHhfaW4pIHtcbiAgICAgICAgICAgICAgbGV0IHYgPSBkYXRhW2lkeF9pbl07XG4gICAgICAgICAgICAgIHJ1bm5pbmdfc3VtICs9IHY7XG4gICAgICAgICAgICAgIHJ1bm5pbmdfc3Vtc3EgKz0gdip2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc2MgPSBzdW0gPyByb3VuZChsZXJwKFNVTVNRLCBydW5uaW5nX3N1bSAvIHN1bSwgcnVubmluZ19zdW1zcSAvIHN1bXNxKSAqIHN0YXJfY291bnQpIDogMDtcbiAgICAgICAgY2hpbGRfZGF0YVtpZHhdLnN0YXJfY291bnQgPSBzYyAtIGxhc3Rfc3Rhcl9jb3VudDtcbiAgICAgICAgY2hpbGRfZGF0YVtpZHhdLnN0YXJfaWR4ID0gc3Rhcl9pZHggKyBsYXN0X3N0YXJfY291bnQ7XG4gICAgICAgIGxhc3Rfc3Rhcl9jb3VudCA9IHNjO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3NlcnQuZXF1YWwobGFzdF9zdGFyX2NvdW50LCBzdGFyX2NvdW50KTtcbiAgfVxuICBsZXQgbXVsID0gTEFZRVJfU1RFUCAvIGNlbGwudztcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBvaXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHBvaSA9IHBvaXNbaWldO1xuICAgIGxldCBxeCA9IGZsb29yKChwb2kueCAtIGNlbGwueDApICogbXVsKTtcbiAgICBsZXQgcXkgPSBmbG9vcigocG9pLnkgLSBjZWxsLnkwKSAqIG11bCk7XG4gICAgYXNzZXJ0KHF4ID49IDAgJiYgcXggPCBMQVlFUl9TVEVQKTtcbiAgICBhc3NlcnQocXkgPj0gMCAmJiBxeSA8IExBWUVSX1NURVApO1xuICAgIGxldCBpZHggPSBxeSAqIExBWUVSX1NURVAgKyBxeDtcbiAgICBjaGlsZF9kYXRhW2lkeF0ucG9pcy5wdXNoKHBvaSk7XG4gIH1cbiAgaWYgKHN0YXJzKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGNoaWxkX2RhdGEubGVuZ3RoOyArK2lpKSB7XG4gICAgICBjaGlsZF9kYXRhW2lpXS5zdGFycyA9IFtdO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc3RhcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcG9pID0gc3RhcnNbaWldO1xuICAgICAgbGV0IHF4ID0gZmxvb3IoKHBvaS54IC0gY2VsbC54MCkgKiBtdWwpO1xuICAgICAgbGV0IHF5ID0gZmxvb3IoKHBvaS55IC0gY2VsbC55MCkgKiBtdWwpO1xuICAgICAgYXNzZXJ0KHF4ID49IDAgJiYgcXggPCBMQVlFUl9TVEVQKTtcbiAgICAgIGFzc2VydChxeSA+PSAwICYmIHF5IDwgTEFZRVJfU1RFUCk7XG4gICAgICBsZXQgaWR4ID0gcXkgKiBMQVlFUl9TVEVQICsgcXg7XG4gICAgICBjaGlsZF9kYXRhW2lkeF0uc3RhcnMucHVzaChwb2kpO1xuICAgIH1cbiAgfVxuICBjZWxsLmNoaWxkX2RhdGEgPSBjaGlsZF9kYXRhO1xuICArK2NvdW50cy5hc3NpZ25DaGlsZFN0YXJzO1xufTtcblxuR2FsYXh5LnByb3RvdHlwZS5wZXJ0dXJiID0gZnVuY3Rpb24gKGNlbGwsIHBhcmFtcykge1xuICBsZXQgeyBidWZfZGltIH0gPSB0aGlzO1xuICBsZXQgeyBub2lzZV9mcmVxLCBub2lzZV93ZWlnaHQgfSA9IHBhcmFtcztcbiAgbGV0IHsgZGF0YSwgeDAsIHkwLCB3IH0gPSBjZWxsO1xuICBsZXQgbXVsID0gdyAvIGJ1Zl9kaW07XG4gIGZvciAobGV0IGlkeD0wLCB5eSA9IDA7IHl5IDwgYnVmX2RpbTsgKyt5eSkge1xuICAgIGxldCB3b3JsZF95ID0geTAgKyB5eSAqIG11bDtcbiAgICBmb3IgKGxldCB4eCA9IDA7IHh4IDwgYnVmX2RpbTsgKyt4eCwgKytpZHgpIHtcbiAgICAgIGxldCB3b3JsZF94ID0geDAgKyB4eCAqIG11bDtcbiAgICAgIGxldCBub2lzZXYgPSBub2lzZVsxXS5ub2lzZTJEKHdvcmxkX3ggKiBub2lzZV9mcmVxLCB3b3JsZF95ICogbm9pc2VfZnJlcSk7XG4gICAgICAvL2RhdGFbaWR4XSAqPSAxICsgbm9pc2Vfd2VpZ2h0ICogbm9pc2V2OyAvLyB1bmlmb3JtIHNjYWxlIGFyb3VuZCAxLjBcbiAgICAgIC8vIGluc3RlYWQsIG9ubHkgZGVjcmVhc2UsIG1ha2VzIHJlbmRlcmVkIG1hcHMgbG9vayBiZXR0ZXIsIGRhcmtlbiBhcyB5b3Ugem9vbSBpblxuICAgICAgbGV0IHYgPSBkYXRhW2lkeF0gKiAoMSArIG5vaXNlX3dlaWdodCAqIChub2lzZXYgKiAwLjUgLSAwLjUpKTtcbiAgICAgIC8vIGFzc2VydCh2ID49IDApOyAvLyBub3QgaWYgbm9pc2Vfd2VpZ2h0ID4gMVxuICAgICAgdiA9IG1heCgwLCB2KTtcbiAgICAgIGRhdGFbaWR4XSA9IHY7XG4gICAgfVxuICB9XG4gICsrY291bnRzLnBlcnR1cmI7XG59O1xuXG5HYWxheHkucHJvdG90eXBlLmdldENlbGwgPSBmdW5jdGlvbiAobGF5ZXJfaWR4LCBjZWxsX2lkeCwganVzdF9hbGxvYykge1xuICBpZiAobGF5ZXJfaWR4ID4gTUFYX0xBWUVSKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGxldCB7IGxheWVycywgYnVmX2RpbSwgcGFyYW1zIH0gPSB0aGlzO1xuICBsZXQgbGF5ZXIgPSBsYXllcnNbbGF5ZXJfaWR4XTtcbiAgaWYgKCFsYXllcikge1xuICAgIGxheWVyID0gbGF5ZXJzW2xheWVyX2lkeF0gPSBbXTtcbiAgfVxuICBsZXQgY2VsbCA9IGxheWVyW2NlbGxfaWR4XTtcbiAgaWYgKGNlbGwgJiYgY2VsbC5yZWFkeSkge1xuICAgIHJldHVybiBjZWxsO1xuICB9XG5cbiAgbGV0IGxheWVyX3JlcyA9IHBvdyhMQVlFUl9TVEVQLCBsYXllcl9pZHgpO1xuICBsZXQgY3ggPSBjZWxsX2lkeCAlIGxheWVyX3JlcztcbiAgbGV0IGN5ID0gZmxvb3IoY2VsbF9pZHggLyBsYXllcl9yZXMpO1xuICBsZXQgeDAgPSBjeCAvIGxheWVyX3JlcztcbiAgbGV0IHkwID0gY3kgLyBsYXllcl9yZXM7XG4gIGxldCB3ID0gMS9sYXllcl9yZXM7XG4gIGlmICghY2VsbCkge1xuICAgICsrY291bnRzLmNlbGw7XG4gICAgY2VsbCA9IHtcbiAgICAgIC8vIHJlbGF0aXZlIHBvc2l0aW9uIGFuZCBzaXplIHRvIGVudGlyZSBnYWxheHlcbiAgICAgIHgwLCB5MCwgdywgaDogdyxcbiAgICAgIGxheWVyX2lkeCwgY2VsbF9pZHgsIGN4LCBjeSxcbiAgICAgIHJlYWR5OiBmYWxzZSxcbiAgICB9O1xuICAgIGxheWVyW2NlbGxfaWR4XSA9IGNlbGw7XG4gIH1cblxuICBpZiAoanVzdF9hbGxvYykge1xuICAgIHJldHVybiBjZWxsO1xuICB9XG5cbiAgLy8gRmlsbCBpdFxuICBpZiAobGF5ZXJfaWR4ID09PSAwKSB7XG4gICAgYXNzZXJ0KGNlbGxfaWR4ID09PSAwKTtcbiAgICBsZXQgcmV0ID0gZ2VuR2FsYXh5KHBhcmFtcyk7XG4gICAgY2VsbC5zdW0gPSByZXQuc3VtO1xuICAgIGNlbGwuc3Vtc3EgPSByZXQuc3Vtc3E7XG4gICAgY2VsbC5kYXRhID0gcmV0LmRhdGE7XG4gICAgY2VsbC5zdGFyX2NvdW50ID0gcmV0LnN0YXJfY291bnQ7XG4gICAgY2VsbC5zdGFyX2lkeCA9IDA7XG4gICAgY2VsbC5wb2lzID0gcmV0LnBvaXM7XG4gIH0gZWxzZSB7XG4gICAgLy8gSG93IG1hbnkgY2VsbHMgd2lkZSBpcyB0aGlzIGxheWVyP1xuICAgIGxldCBweCA9IGZsb29yKGN4IC8gTEFZRVJfU1RFUCk7XG4gICAgbGV0IHB5ID0gZmxvb3IoY3kgLyBMQVlFUl9TVEVQKTtcbiAgICBsZXQgcHJlcyA9IHBvdyhMQVlFUl9TVEVQLCBsYXllcl9pZHggLSAxKTtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5nZXRDZWxsKGxheWVyX2lkeCAtIDEsIHB5ICogcHJlcyArIHB4KTtcbiAgICBpZiAoIXBhcmVudC5yZWFkeSkge1xuICAgICAgcmV0dXJuIGNlbGw7XG4gICAgfVxuXG4gICAgaWYgKGVuZ2luZS5mcmFtZV9pbmRleCA9PT0gdGhpcy53b3JrX2ZyYW1lICYmICF0aGlzLmxvYWRpbmcpIHtcbiAgICAgIC8vIEFscmVhZHkgZGlkIG9uZSB0aGlzIGZyYW1lIChwcmVzdW1hYmx5IGEgcGFyZW50KVxuICAgICAgcmV0dXJuIGNlbGw7XG4gICAgfVxuXG4gICAgbGV0IHF4ID0gY3ggLSBweCAqIExBWUVSX1NURVA7XG4gICAgbGV0IHF5ID0gY3kgLSBweSAqIExBWUVSX1NURVA7XG4gICAgbGV0IHFpZHggPSBxeCArIHF5ICogTEFZRVJfU1RFUDtcblxuICAgIGlmICghY2VsbC5wb2lzKSB7XG4gICAgICBjZWxsLnBvaXMgPSBwYXJlbnQuY2hpbGRfZGF0YVtxaWR4XS5wb2lzO1xuICAgICAgLy8gcG9pcy5maWx0ZXIoKHBvaSkgPT4gcG9pLnggPj0geDAgJiYgcG9pLnggPCB4MCArIHcgJiYgcG9pLnkgPj0geTAgJiYgcG9pLnkgPCB5MCArIHcpO1xuICAgIH1cblxuICAgIGlmICghY2VsbC5kYXRhKSB7XG4gICAgICBpZiAobGF5ZXJfaWR4ID4gU1RBUl9MQVlFUikge1xuICAgICAgICAvLyBqdXN0IHJlbmRlcmVkIHN0YXJzLCBkb24ndCBuZWVkIGludGVycG9sYXRpb24gaGVyZVxuICAgICAgICBjZWxsLmRhdGEgPSBudWxsO1xuICAgICAgICAvLyBjZWxsLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudGV4X3RvdGFsX3NpemUpO1xuICAgICAgICAvLyArK2NvdW50cy5kYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHNhbXBsZV9idWYgPSB0aGlzLmdldFNhbXBsZUJ1ZihsYXllcl9pZHggLSAxLCBweCwgcHkpO1xuICAgICAgICBpZiAoIXNhbXBsZV9idWYpIHtcbiAgICAgICAgICAvLyBBbHJlYWR5IGRpZCBvbmUgdGhpcyBmcmFtZVxuICAgICAgICAgIHJldHVybiBjZWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdvaW5nIHRvIGRvIHdvcmssIHRha2UgdGhlIGZyYW1lJ3MgYWxsb3RtZW50XG4gICAgICAgIHRoaXMud29ya19mcmFtZSA9IGVuZ2luZS5mcmFtZV9pbmRleDtcblxuICAgICAgICAvLyBIYXZlIHRoZSBwYXJlbnQgc2FtcGxlIGJ1ZiwgZ2VuZXJhdGUgdXNcbiAgICAgICAgbGV0IGRhdGEgPSBjZWxsLmRhdGEgPSBleHBhbmRCaWN1YmljMTZYKHNhbXBsZV9idWYsIGJ1Zl9kaW0sIHF4LCBxeSk7XG4gICAgICAgIGxldCBrZXkgPSBgbGF5ZXIke2xheWVyX2lkeH1gO1xuICAgICAgICBpZiAocGFyYW1zW2tleV0pIHtcbiAgICAgICAgICB0aGlzLnBlcnR1cmIoY2VsbCwgcGFyYW1zW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBsZXQgc3Vtc3EgPSAwO1xuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGF0YS5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICBsZXQgdiA9IGRhdGFbaWldO1xuICAgICAgICAgIHN1bSArPSB2O1xuICAgICAgICAgIHN1bXNxICs9IHYqdjtcbiAgICAgICAgfVxuICAgICAgICBjZWxsLnN1bSA9IHN1bTtcbiAgICAgICAgY2VsbC5zdW1zcSA9IHN1bXNxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2VsbC5zdGFyc19yZWFkeSkge1xuICAgICAgaWYgKHBhcmVudC5zdGFycykge1xuICAgICAgICAvLyBmaWx0ZXIgZXhpc3Rpbmcgc3RhcnNcbiAgICAgICAgY2VsbC5zdGFycyA9IHBhcmVudC5jaGlsZF9kYXRhW3FpZHhdLnN0YXJzO1xuICAgICAgICAvLyBwYXJlbnQuc3RhcnMuZmlsdGVyKChwb2kpID0+IHBvaS54ID49IHgwICYmIHBvaS54IDwgeDAgKyB3ICYmIHBvaS55ID49IHkwICYmIHBvaS55IDwgeTAgKyB3KTtcbiAgICAgICAgY2VsbC5zdGFyX2NvdW50ID0gY2VsbC5zdGFycy5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb3VudCBvciBnZW5lcmF0ZSBzdGFyc1xuICAgICAgICBjZWxsLnN0YXJfY291bnQgPSBwYXJlbnQuY2hpbGRfZGF0YVtxaWR4XS5zdGFyX2NvdW50O1xuICAgICAgICBjZWxsLnN0YXJfaWR4ID0gcGFyZW50LmNoaWxkX2RhdGFbcWlkeF0uc3Rhcl9pZHg7XG5cbiAgICAgICAgLy8gZGlkIG9yIHdpbGwgZG8gd29yayB0aGlzIGZyYW1lXG4gICAgICAgIHRoaXMud29ya19mcmFtZSA9IGVuZ2luZS5mcmFtZV9pbmRleDtcblxuICAgICAgICBpZiAobGF5ZXJfaWR4ID09PSBTVEFSX0xBWUVSKSB7IC8vIHx8IGNlbGwuc3Rhcl9jb3VudCA8IDEwMDAwMCkge1xuICAgICAgICAgIC8vIHJlYWxpemUgc3RhcnNcbiAgICAgICAgICBpZiAoIXRoaXMucmVhbGl6ZVN0YXJzKGNlbGwpKSB7XG4gICAgICAgICAgICAvLyBkaWRuJ3QgY29tcGxldGVcbiAgICAgICAgICAgIHJldHVybiBjZWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2VsbC5zdGFyc19yZWFkeSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChsYXllcl9pZHggPj0gU1RBUl9MQVlFUikge1xuICAgICAgaWYgKCF0aGlzLnJlbmRlclN0YXJzKGNlbGwpKSB7XG4gICAgICAgIHJldHVybiBjZWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLmFzc2lnbkNoaWxkU3RhcnMoY2VsbCk7XG4gIGNlbGwucmVhZHkgPSB0cnVlO1xuXG4gIHJldHVybiBjZWxsO1xufTtcblxue1xuICBjb25zdCBkZWJ1Z19waXggPSBbXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwwLDEsMCwwLFxuICAgICAwLDEsMCwxLDAsXG4gICAgIDAsMSwwLDEsMCxcbiAgICAgMCwxLDAsMSwwLFxuICAgICAwLDAsMSwwLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwwLDEsMCwwLFxuICAgICAwLDEsMSwwLDAsXG4gICAgIDAsMCwxLDAsMCxcbiAgICAgMCwwLDEsMCwwLFxuICAgICAwLDEsMSwxLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwwLDEsMCwwLFxuICAgICAwLDEsMCwxLDAsXG4gICAgIDAsMCwwLDEsMCxcbiAgICAgMCwwLDEsMCwwLFxuICAgICAwLDEsMSwxLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwxLDEsMCwwLFxuICAgICAwLDAsMCwxLDAsXG4gICAgIDAsMSwxLDAsMCxcbiAgICAgMCwwLDAsMSwwLFxuICAgICAwLDEsMSwwLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwxLDAsMSwwLFxuICAgICAwLDEsMCwxLDAsXG4gICAgIDAsMSwxLDEsMCxcbiAgICAgMCwwLDAsMSwwLFxuICAgICAwLDAsMCwxLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwxLDEsMSwwLFxuICAgICAwLDEsMCwwLDAsXG4gICAgIDAsMSwxLDAsMCxcbiAgICAgMCwwLDAsMSwwLFxuICAgICAwLDEsMSwwLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwwLDEsMSwwLFxuICAgICAwLDEsMCwwLDAsXG4gICAgIDAsMSwxLDEsMCxcbiAgICAgMCwxLDAsMSwwLFxuICAgICAwLDEsMSwxLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwxLDEsMSwwLFxuICAgICAwLDAsMCwxLDAsXG4gICAgIDAsMCwwLDEsMCxcbiAgICAgMCwwLDEsMCwwLFxuICAgICAwLDAsMSwwLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gICAgWzAsMCwwLDAsMCxcbiAgICAgMCwxLDEsMSwwLFxuICAgICAwLDEsMCwxLDAsXG4gICAgIDAsMSwxLDEsMCxcbiAgICAgMCwxLDAsMSwwLFxuICAgICAwLDEsMSwxLDAsXG4gICAgIDAsMCwwLDAsMF0sXG4gIF07XG4gIEdhbGF4eS5wcm90b3R5cGUuZ2V0Q2VsbFRleHR1cmVkID0gZnVuY3Rpb24gKGxheWVyX2lkeCwgY2VsbF9pZHgpIHtcbiAgICBsZXQgeyBidWZfZGltLCB0ZXhfZGF0YSwgdGV4X3RvdGFsX3NpemUgfSA9IHRoaXM7XG4gICAgbGV0IGNlbGwgPSB0aGlzLmdldENlbGwobGF5ZXJfaWR4LCBjZWxsX2lkeCk7XG4gICAgaWYgKGNlbGwudGV4KSB7XG4gICAgICByZXR1cm4gY2VsbDtcbiAgICB9XG4gICAgbGV0IHsgZGF0YSwgcG9pcywgeDAsIHkwLCB3LCBzdGFycywgcmVhZHksIGN4LCBjeSB9ID0gY2VsbDtcbiAgICBpZiAoIXJlYWR5KSB7XG4gICAgICAvLyBzdGlsbCBsb2FkaW5nXG4gICAgICByZXR1cm4gY2VsbDtcbiAgICB9XG4gICAgbGV0IGxheWVyX3JlcyA9IHBvdyhMQVlFUl9TVEVQLCBsYXllcl9pZHgpO1xuICAgIGlmIChsYXllcl9pZHggPj0gU1RBUl9MQVlFUikge1xuICAgICAgZGF0YSA9IGNlbGwuc3Rhcl9idWY7XG4gICAgICAvLyBuZWlnaGJvcnMgbXVzdCBhbHNvIGJlIHJlYWR5IC8gaGF2ZSByZW5kZXJlZCBzdGFyc1xuICAgICAgZm9yIChsZXQgeXkgPSAtMTsgeXkgPD0gMTsgKyt5eSkge1xuICAgICAgICBsZXQgbnkgPSBjeSArIHl5O1xuICAgICAgICBpZiAobnkgPCAwIHx8IG55ID49IGxheWVyX3Jlcykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHh4ID0gLTE7IHh4IDw9IDE7ICsreHgpIHtcbiAgICAgICAgICBsZXQgbnggPSBjeCArIHh4O1xuICAgICAgICAgIGlmICghbnggJiYgIW55IHx8IG54IDwgMCB8fCBueCA+PSBsYXllcl9yZXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgbiA9IHRoaXMuZ2V0Q2VsbChsYXllcl9pZHgsIG54ICsgbnkgKiBsYXllcl9yZXMpO1xuICAgICAgICAgIGlmICghbi5yZWFkeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNlbGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgICsrY291bnRzLmdldENlbGxUZXh0dXJlZDtcblxuICAgIGxldCBtYXhfcmVzID0gcG93KDIsIHRoaXMucGFyYW1zLm1heF96b29tKTtcbiAgICBpZiAobGF5ZXJfcmVzID09PSBtYXhfcmVzKSB7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4X3RvdGFsX3NpemU7ICsraWkpIHtcbiAgICAgICAgdGV4X2RhdGFbaWkgKiA0ICsgMF0gPSAwOyAvLyBicmlnaHRuZXNzXG4gICAgICAgIHRleF9kYXRhW2lpICogNCArIDFdID0gMDsgLy8gaHVlXG4gICAgICAgIHRleF9kYXRhW2lpICogNCArIDJdID0gMDsgLy8gaWdub3JlZFxuICAgICAgICB0ZXhfZGF0YVtpaSAqIDQgKyAzXSA9IDI1NTsgLy8gaWdub3JlZFxuICAgICAgfVxuICAgICAgLy8gUmVuZGVyIGluIHN0YXJzXG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc3RhcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBzdGFyID0gc3RhcnNbaWldO1xuICAgICAgICBsZXQgeyB4LCB5LCB0eXBlLCB2LCBpZCB9ID0gc3RhcjtcbiAgICAgICAgbGV0IGh1ZSA9IGh1ZUZyb21JRChpZCk7XG4gICAgICAgIHggPSBmbG9vcigoeCAtIHgwKSAvIHcgKiBidWZfZGltKTtcbiAgICAgICAgeSA9IGZsb29yKCh5IC0geTApIC8gdyAqIGJ1Zl9kaW0pO1xuICAgICAgICB4ID0gbWF4KDIsIG1pbihidWZfZGltIC0gMiAtIDEsIHgpKTtcbiAgICAgICAgeSA9IG1heCgyLCBtaW4oYnVmX2RpbSAtIDIgLSAxLCB5KSk7XG4gICAgICAgIGxldCBpZHggPSAoeCArIHkgKiBidWZfZGltKSAqIDQ7XG4gICAgICAgIGxldCBvZmZzID0gUE9JX1RZUEVfT0ZGU1t0eXBlXTtcbiAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG9mZnMubGVuZ3RoOyBqais9Mykge1xuICAgICAgICAgIGxldCB2MiA9IGNsYW1wKGZsb29yKHYgKiBvZmZzW2pqXSAqIDI1NSksIDAsIDI1NSk7XG4gICAgICAgICAgbGV0IGR4ID0gb2Zmc1tqaisxXTtcbiAgICAgICAgICBsZXQgZHkgPSBvZmZzW2pqKzJdO1xuICAgICAgICAgIGxldCB4eCA9IHggKyBkeDtcbiAgICAgICAgICBsZXQgeXkgPSB5ICsgZHk7XG4gICAgICAgICAgaWYgKHh4IDwgMCB8fCB4eCA+PSBidWZfZGltIHx8IHl5IDwgMCB8fCB5eSA+PSBidWZfZGltKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGQgPSAoZHggKyBkeSAqIGJ1Zl9kaW0pICogNDtcbiAgICAgICAgICB0ZXhfZGF0YVtpZHggKyBkXSA9IG1heCh0ZXhfZGF0YVtpZHggKyBkXSwgdjIpO1xuICAgICAgICAgIHRleF9kYXRhW2lkeCArIGQgKyAxXSA9IG1heCh0ZXhfZGF0YVtpZHggKyBkICsgMV0sIGh1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHsgaHVlX2J1ZiB9ID0gY2VsbDtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXhfdG90YWxfc2l6ZTsgKytpaSkge1xuICAgICAgICBsZXQgZCA9IGRhdGFbaWldO1xuICAgICAgICB0ZXhfZGF0YVtpaSAqIDQgKyAwXSA9IGNsYW1wKGZsb29yKGQgKiAyNTUpLCAwLCAyNTUpO1xuICAgICAgICB0ZXhfZGF0YVtpaSAqIDQgKyAxXSA9IGh1ZV9idWYgPyBodWVfYnVmW2lpXSA6IDA7XG4gICAgICAgIHRleF9kYXRhW2lpICogNCArIDNdID0gMjU1O1xuICAgICAgfVxuXG4gICAgICAvLyBSZW5kZXIgaW4gUE9Jc1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBvaXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBwb2kgPSBwb2lzW2lpXTtcbiAgICAgICAgbGV0IHsgeCwgeSwgdHlwZSwgdiB9ID0gcG9pO1xuICAgICAgICB4ID0gZmxvb3IoKHggLSB4MCkgLyB3ICogYnVmX2RpbSk7XG4gICAgICAgIHkgPSBmbG9vcigoeSAtIHkwKSAvIHcgKiBidWZfZGltKTtcbiAgICAgICAgbGV0IGlkeCA9ICh4ICsgeSAqIGJ1Zl9kaW0pICogNDtcbiAgICAgICAgbGV0IG9mZnMgPSBQT0lfVFlQRV9PRkZTW3R5cGVdO1xuICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgb2Zmcy5sZW5ndGg7IGpqKz0zKSB7XG4gICAgICAgICAgbGV0IHYyID0gY2xhbXAoZmxvb3IodiAqIG9mZnNbampdICogMjU1KSwgMCwgMjU1KTtcbiAgICAgICAgICBsZXQgZHggPSBvZmZzW2pqKzFdO1xuICAgICAgICAgIGxldCBkeSA9IG9mZnNbamorMl07XG4gICAgICAgICAgbGV0IHh4ID0geCArIGR4O1xuICAgICAgICAgIGxldCB5eSA9IHkgKyBkeTtcbiAgICAgICAgICBpZiAoeHggPCAwIHx8IHh4ID49IGJ1Zl9kaW0gfHwgeXkgPCAwIHx8IHl5ID49IGJ1Zl9kaW0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZCA9IChkeCArIGR5ICogYnVmX2RpbSkgKiA0O1xuICAgICAgICAgIHRleF9kYXRhW2lkeCArIGQgKyAwXSA9IG1heCh0ZXhfZGF0YVtpZHggKyBkICsgMF0sIHYyKTtcbiAgICAgICAgICB0ZXhfZGF0YVtpZHggKyBkICsgMV0gPSBtYXgodGV4X2RhdGFbaWR4ICsgZCArIDFdLCAwKTsgLy8gdG9kbzogdXNlIHJlYWwgaHVlP1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVuZ2luZS5ERUJVRyAmJiBmYWxzZSkge1xuICAgICAgbGV0IGRiZyA9IGRlYnVnX3BpeFtsYXllcl9pZHhdO1xuICAgICAgaWYgKGRiZykge1xuICAgICAgICBmb3IgKGxldCBpZHg9MCwgeXkgPSAwOyB5eSA8IDc7ICsreXkpIHtcbiAgICAgICAgICBmb3IgKGxldCB4eCA9IDA7IHh4IDwgNTsgKyt4eCwrK2lkeCkge1xuICAgICAgICAgICAgbGV0IGlkeDIgPSAoeXkgKiBidWZfZGltICsgeHgpICogNDtcbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCAzOyArK2lpKSB7XG4gICAgICAgICAgICAgIHRleF9kYXRhW2lkeDIgKyBpaV0gPSBkYmdbaWR4XSA/IDI1NSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRleF9wb29sLmxlbmd0aCkge1xuICAgICAgY2VsbC50ZXggPSB0ZXhfcG9vbC5wb3AoKTtcbiAgICAgIGNlbGwudGV4LnVwZGF0ZURhdGEoYnVmX2RpbSwgYnVmX2RpbSwgdGV4X2RhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICArK2NvdW50cy50ZXg7XG4gICAgICBjZWxsLnRleCA9IHRleHR1cmVzLmxvYWQoe1xuICAgICAgICBuYW1lOiBgZ2FsYXh5XyR7Kyt0ZXhfaWRfaWR4fWAsXG4gICAgICAgIGZvcm1hdDogdGV4dHVyZXMuZm9ybWF0LlJHQkE4LFxuICAgICAgICB3aWR0aDogYnVmX2RpbSxcbiAgICAgICAgaGVpZ2h0OiBidWZfZGltLFxuICAgICAgICBkYXRhOiB0ZXhfZGF0YSxcbiAgICAgICAgZmlsdGVyX21pbjogZ2wuTkVBUkVTVCxcbiAgICAgICAgZmlsdGVyX21hZzogZ2wuTkVBUkVTVCxcbiAgICAgICAgd3JhcF9zOiBnbC5DTEFNUF9UT19FREdFLFxuICAgICAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2VsbC5zdGFyX2J1Zikge1xuICAgICAgc3Rhcl9idWZfcG9vbC5wdXNoKGNlbGwuc3Rhcl9idWYpO1xuICAgICAgY2VsbC5zdGFyX2J1ZiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjZWxsLmh1ZV9idWYpIHtcbiAgICAgIGh1ZV9idWZfcG9vbC5wdXNoKGNlbGwuaHVlX2J1Zik7XG4gICAgICBjZWxsLmh1ZV9idWYgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY2VsbDtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RTcSh4MSwgeTEsIHgyLCB5Mikge1xuICBsZXQgZHggPSB4MiAtIHgxO1xuICBsZXQgZHkgPSB5MiAtIHkxO1xuICByZXR1cm4gZHgqZHggKyBkeSpkeTtcbn1cblxue1xuICBjb25zdCBkeSA9IFswLCAxLCAtMV07XG4gIGNvbnN0IGR4ID0gWzAsIDEsIC0xXTtcbiAgR2FsYXh5LnByb3RvdHlwZS5zdGFyc05lYXIgPSBmdW5jdGlvbiAoeCwgeSwgbnVtKSB7XG4gICAgbGV0IHsgbGF5ZXJzIH0gPSB0aGlzO1xuICAgIGxldCBsYXllcl9pZHggPSBNQVhfTEFZRVIgLSAxO1xuICAgIGxldCBsYXllciA9IGxheWVyc1tsYXllcl9pZHhdO1xuICAgIGlmICghbGF5ZXIpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IGxheWVyX3JlcyA9IHBvdyhMQVlFUl9TVEVQLCBsYXllcl9pZHgpO1xuICAgIGxldCBjeCA9IGZsb29yKHggKiBsYXllcl9yZXMpO1xuICAgIGxldCBjeSA9IGZsb29yKHkgKiBsYXllcl9yZXMpO1xuICAgIGxldCBjbG9zZXN0ID0gbmV3IEFycmF5KG51bSk7XG4gICAgZm9yIChsZXQgZGR5ID0gMDsgZGR5IDw9IDM7ICsrZGR5KSB7XG4gICAgICBsZXQgeXkgPSBjeSArIGR5W2RkeV07XG4gICAgICBpZiAoeXkgPCAwIHx8IHl5ID49IGxheWVyX3Jlcykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGRkeCA9IDA7IGRkeCA8PSAzOyArK2RkeCkge1xuICAgICAgICBsZXQgeHggPSBjeCArIGR4W2RkeF07XG4gICAgICAgIGlmICh4eCA8IDAgfHwgeHggPj0gbGF5ZXJfcmVzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNlbGxfaWR4ID0geXkgKiBsYXllcl9yZXMgKyB4eDtcbiAgICAgICAgbGV0IGNlbGwgPSBsYXllcltjZWxsX2lkeF07XG4gICAgICAgIGlmICghY2VsbCB8fCAhY2VsbC5zdGFycykge1xuICAgICAgICAgIC8vIGluY29tcGxldGUgZGF0YSBsb2FkZWQsIGR5bmFtaWMgbG9hZCBoZXJlPyBqdXN0IGZvciBzdGFycz9cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBzdGFycyB9ID0gY2VsbDtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHN0YXJzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICAgIGxldCBzdGFyID0gc3RhcnNbaWldO1xuICAgICAgICAgIHN0YXIuZGlzdF90ZW1wID0gZGlzdFNxKHgsIHksIHN0YXIueCwgc3Rhci55KTtcbiAgICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgY2xvc2VzdC5sZW5ndGg7ICsramopIHtcbiAgICAgICAgICAgIGxldCBvdGhlciA9IGNsb3Nlc3RbampdO1xuICAgICAgICAgICAgaWYgKCFvdGhlcikge1xuICAgICAgICAgICAgICBjbG9zZXN0W2pqXSA9IHN0YXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXIuZGlzdF90ZW1wIDwgb3RoZXIuZGlzdF90ZW1wKSB7XG4gICAgICAgICAgICAgIGNsb3Nlc3RbampdID0gc3RhcjtcbiAgICAgICAgICAgICAgc3RhciA9IG90aGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xvc2VzdDtcbiAgfTtcbn1cblxuR2FsYXh5LnByb3RvdHlwZS5nZXRTdGFyRGF0YSA9IGZ1bmN0aW9uIChzdGFyKSB7XG4gIGlmICghc3Rhci5zb2xhcl9zeXN0ZW0pIHtcbiAgICBzdGFyLnNvbGFyX3N5c3RlbSA9IHNvbGFyU3lzdGVtQ3JlYXRlKHRoaXMucGFyYW1zLnNlZWQsIHN0YXIpO1xuICB9XG4gIHJldHVybiBzdGFyO1xufTtcblxuR2FsYXh5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICBsZXQgeyBsYXllcnMgfSA9IHRoaXM7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsYXllcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGxheWVyID0gbGF5ZXJzW2lpXTtcbiAgICBmb3IgKGxldCBrZXkgaW4gbGF5ZXIpIHtcbiAgICAgIGxldCBjZWxsID0gbGF5ZXJba2V5XTtcbiAgICAgIGlmIChjZWxsLnRleCkge1xuICAgICAgICB0ZXhfcG9vbC5wdXNoKGNlbGwudGV4KTtcbiAgICAgICAgY2VsbC50ZXggPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxubGV0IGRlYnVnX2J1ZiA9IEpTT04uc3RyaW5naWZ5KGNvdW50cywgdW5kZWZpbmVkLCAyKTtcbnNldEludGVydmFsKCgpID0+IHtcbiAgbGV0IGJ1ZiA9IEpTT04uc3RyaW5naWZ5KGNvdW50cywgdW5kZWZpbmVkLCAyKTtcbiAgaWYgKGRlYnVnX2J1ZiAhPT0gYnVmKSB7XG4gICAgZGVidWdfYnVmID0gYnVmO1xuICAgIGNvbnNvbGUubG9nKGJ1Zik7XG4gIH1cbn0sIDUwMDApO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHYWxheHkocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgR2FsYXh5KHBhcmFtcyk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG4vLyBUaGluZ3MgdGhhdCBzaG91bGQgYmUgZG9uZSBiZWZvcmUgcmVxdWlyaW5nIG9yIHJ1bm5pbmcgYW55IHVzZXItbGV2ZWwgY29kZSBvciBvdGhlciBlbmdpbmUgY29kZVxuXG5yZXF1aXJlKCcuL3BvbHlmaWxsLmpzJyk7XG5cbmxldCBkZWJ1ZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWJ1ZycpO1xud2luZG93Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZSwgZmlsZSwgbGluZSwgY29sLCBlcnJvcm9iaikge1xuICBsZXQgbXNnID0gYCR7ZX1cXG4gIGF0ICR7ZmlsZX0oJHtsaW5lfToke2NvbH0pYDtcbiAgaWYgKGVycm9yb2JqICYmIGVycm9yb2JqLnN0YWNrKSB7XG4gICAgbXNnID0gYCR7ZXJyb3JvYmouc3RhY2t9YDtcbiAgICBpZiAoZXJyb3JvYmoubWVzc2FnZSkge1xuICAgICAgaWYgKG1zZy5pbmRleE9mKGVycm9yb2JqLm1lc3NhZ2UpID09PSAtMSkge1xuICAgICAgICBtc2cgPSBgJHtlcnJvcm9iai5tZXNzYWdlfVxcbiR7bXNnfWA7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBvcmlnaW4gPSBkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4gfHwgJyc7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgaWYgKG9yaWdpbi5zbGljZSgtMSkgIT09ICcvJykge1xuICAgICAgICBvcmlnaW4gKz0gJy8nO1xuICAgICAgfVxuICAgICAgbXNnID0gbXNnLnNwbGl0KG9yaWdpbikuam9pbignJyk7IC8vIHJlcGxhY2VcbiAgICB9XG4gICAgLy8gZml4dXAgd2VpcmQgRmlyZWZveCB3ZWlyZG5lc3NcbiAgICBtc2cgPSBtc2cucmVwbGFjZSgvXFxbXFxkK1xcXTwvZywgJycpIC8vIHJlbW92ZSBmdW5ueSBbMTIzXSBhdCBzdGFydCBvZiBzdGFjayBsaW5lc1xuICAgICAgLnJlcGxhY2UoLzw/XFwvPD8vZywgJy8nKSAvLyByZW1vdmUgZnVubnkgPHMsIHRoZXkgbWVzcyB1cCBwZW9wbGUncyBjb3B5IGFuZCBwYXN0ZVxuICAgICAgLnJlcGxhY2UoL1xcbihbXiBdKS9nLCAnXFxuICAkMScpOyAvLyBhZGQgaW5kZW50YXRpb24gaWYgbWlzc2luZ1xuICB9XG4gIGxldCBzaG93ID0gdHJ1ZTtcbiAgaWYgKHdpbmRvdy5nbG92X2Vycm9yX3JlcG9ydCkge1xuICAgIHNob3cgPSB3aW5kb3cuZ2xvdl9lcnJvcl9yZXBvcnQobXNnLCBmaWxlLCBsaW5lLCBjb2wpO1xuICB9XG4gIGlmIChzaG93KSB7XG4gICAgZGVidWcuaW5uZXJUZXh0ID0gYCR7bXNnfVxcblxcblBsZWFzZSByZXBvcnQgdGhpcyBlcnJvciB0byB0aGUgZGV2ZWxvcGVyLCBhbmQgdGhlbiByZWxvYWQgdGhpcyBwYWdlLmA7XG4gIH1cbn07XG53aW5kb3cuZGVidWdtc2cgPSBmdW5jdGlvbiAobXNnLCBjbGVhcikge1xuICBpZiAoY2xlYXIpIHtcbiAgICBkZWJ1Zy5pbm5lclRleHQgPSBtc2c7XG4gIH0gZWxzZSB7XG4gICAgZGVidWcuaW5uZXJUZXh0ICs9IGAke21zZ31cXG5gO1xuICB9XG59O1xuIiwibGV0IHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5leHBvcnQgbGV0IGlzX2lvcyA9ICF3aW5kb3cuTVNTdHJlYW0gJiYgdWEubWF0Y2goL2lQYWR8aVBob25lfGlQb2QvKTtcbmV4cG9ydCBsZXQgaXNfd2luZG93c19waG9uZSA9IHVhLm1hdGNoKC93aW5kb3dzIHBob25lL2kpO1xuZXhwb3J0IGxldCBpc19hbmRyb2lkID0gIWlzX3dpbmRvd3NfcGhvbmUgJiYgdWEubWF0Y2goL2FuZHJvaWQvaSk7XG5leHBvcnQgbGV0IGlzX3dlYmtpdCA9IHVhLm1hdGNoKC9XZWJLaXQvaSk7XG5leHBvcnQgbGV0IGlzX2lvc19zYWZhcmkgPSBpc19pb3MgJiYgaXNfd2Via2l0ICYmICF1YS5tYXRjaCgvQ3JpT1MvaSk7XG5cbmV4cG9ydCBsZXQgaXNfZGlzY3JldGVfZ3B1ID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgY2FudmFzLndpZHRoID0gNDtcbiAgY2FudmFzLmhlaWdodCA9IDQ7XG4gIGxldCBnbHRlc3QgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKTtcbiAgbGV0IGRlYnVnX2luZm8gPSBnbHRlc3QuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7XG4gIGlmIChkZWJ1Z19pbmZvKSB7XG4gICAgbGV0IHJlbmRlcmVyX3VubWFza2VkID0gZ2x0ZXN0LmdldFBhcmFtZXRlcihkZWJ1Z19pbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKTtcbiAgICBpc19kaXNjcmV0ZV9ncHUgPSBCb29sZWFuKHJlbmRlcmVyX3VubWFza2VkICYmIHJlbmRlcmVyX3VubWFza2VkLm1hdGNoKC9udmlkaWF8cmFkZW9uL2kpKTtcbiAgfVxufVxuaW5pdCgpO1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby1zaGFkb3c6b2ZmICovXG5cbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5cbmNvbnN0IHsgbWF4LCByb3VuZCB9ID0gTWF0aDtcblxuY29uc3Qgc2FmZWFyZWFfcGFkID0gbmV3IEZsb2F0MzJBcnJheSg0KTsgLy8gbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tXG4vLyAwOiB4MF9yZWFsXG4vLyAxOiB5MF9yZWFsXG4vLyAyOiB4MV9yZWFsXG4vLyAzOiB5MV9yZWFsXG4vLyA0OiB4X3NjYWxlXG4vLyA1OiB5X3NjYWxlXG4vLyA2OiBkb21fdG9fY2FudmFzX3JhdGlvXG4vLyA3OiBpbnZlcnNlIHZpZXdwb3J0IHhfc2NhbGVcbi8vIDg6IGludmVyc2Ugdmlld3BvcnQgeV9zY2FsZVxuLy8gOTogeDBcbi8vIDEwOiB5MFxuLy8gMTE6IHgxXG4vLyAxMjogeTFcbmV4cG9ydCBjb25zdCBkYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxMyk7XG5cbmxldCBzY3JlZW5fd2lkdGg7XG5sZXQgc2NyZWVuX2hlaWdodDtcbi8vIE5vdGU6IHJlbmRlcl8qIG5vdCB1c2VkIGJ5IEZSVlIgYXQgdGhpcyB0aW1lXG5sZXQgcmVuZGVyX3dpZHRoO1xubGV0IHJlbmRlcl9oZWlnaHQ7XG5leHBvcnQgbGV0IHJlbmRlcl92aWV3cG9ydF93O1xuZXhwb3J0IGxldCByZW5kZXJfdmlld3BvcnRfaDtcbmV4cG9ydCBsZXQgcmVuZGVyX29mZnNldF94O1xubGV0IHJlbmRlcl9vZmZzZXRfeV90b3A7XG5leHBvcnQgbGV0IHJlbmRlcl9vZmZzZXRfeV9ib3R0b207XG5cbmZ1bmN0aW9uIHJlYXBwbHkoKSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBkYXRhWzRdID0gcmVuZGVyX3dpZHRoIC8gKGRhdGFbMl0gLSBkYXRhWzBdKTtcbiAgICBkYXRhWzVdID0gcmVuZGVyX2hlaWdodCAvIChkYXRhWzNdIC0gZGF0YVsxXSk7XG4gICAgZGF0YVs3XSA9IChkYXRhWzJdIC0gZGF0YVswXSkgLyByZW5kZXJfdmlld3BvcnRfdztcbiAgICBkYXRhWzhdID0gKGRhdGFbM10gLSBkYXRhWzFdKSAvIHJlbmRlcl92aWV3cG9ydF9oO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbNF0gPSBzY3JlZW5fd2lkdGggLyAoZGF0YVsyXSAtIGRhdGFbMF0pO1xuICAgIGRhdGFbNV0gPSBzY3JlZW5faGVpZ2h0IC8gKGRhdGFbM10gLSBkYXRhWzFdKTtcbiAgfVxufVxuXG4vLyBUbyBnZXQgdG8gY29vcmRpbmF0ZXMgdXNlZCBieSBPcGVuR0wgLyBjYW52YXNcbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsVG9DYW52YXMoZHN0LCBzcmMpIHtcbiAgZHN0WzBdID0gKHNyY1swXSAtIGRhdGFbMF0pICogZGF0YVs0XTtcbiAgZHN0WzFdID0gKHNyY1sxXSAtIGRhdGFbMV0pICogZGF0YVs1XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbnZhc1RvVmlydHVhbChkc3QsIHNyYykge1xuICBkc3RbMF0gPSBzcmNbMF0gLyBkYXRhWzRdICsgZGF0YVswXTtcbiAgZHN0WzFdID0gc3JjWzFdIC8gZGF0YVs1XSArIGRhdGFbMV07XG59XG5cbmZ1bmN0aW9uIHNhZmVTY3JlZW5XaWR0aCgpIHtcbiAgcmV0dXJuIG1heCgxLCBzY3JlZW5fd2lkdGggLSBzYWZlYXJlYV9wYWRbMF0gLSBzYWZlYXJlYV9wYWRbMV0pO1xufVxuXG5mdW5jdGlvbiBzYWZlU2NyZWVuSGVpZ2h0KCkge1xuICByZXR1cm4gbWF4KDEsIHNjcmVlbl9oZWlnaHQgLSBzYWZlYXJlYV9wYWRbMl0gLSBzYWZlYXJlYV9wYWRbM10pO1xufVxuXG4vLyBTZXRzIHRoZSAyRCBcImNhbWVyYVwiIHVzZWQgdG8gdHJhbnNsYXRlIHNwcml0ZSBwb3NpdGlvbnMgdG8gc2NyZWVuIHNwYWNlLiAgQWZmZWN0cyBzcHJpdGVzIHF1ZXVlZFxuLy8gIGFmdGVyIHRoaXMgY2FsbFxuZXhwb3J0IGZ1bmN0aW9uIHNldCh4MCwgeTAsIHgxLCB5MSwgaWdub3JlX3NhZmVfYXJlYSkge1xuICBpZiAoaWdub3JlX3NhZmVfYXJlYSB8fCByZW5kZXJfd2lkdGgpIHtcbiAgICBkYXRhWzldID0gZGF0YVswXSA9IHgwO1xuICAgIGRhdGFbMTBdID0gZGF0YVsxXSA9IHkwO1xuICAgIGRhdGFbMTFdID0gZGF0YVsyXSA9IHgxO1xuICAgIGRhdGFbMTJdID0gZGF0YVszXSA9IHkxO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbOV0gPSB4MDtcbiAgICBkYXRhWzEwXSA9IHkwO1xuICAgIGRhdGFbMTFdID0geDE7XG4gICAgZGF0YVsxMl0gPSB5MTtcbiAgICBsZXQgd3NjYWxlID0gKHgxIC0geDApIC8gc2FmZVNjcmVlbldpZHRoKCk7XG4gICAgbGV0IGhzY2FsZSA9ICh5MSAtIHkwKSAvIHNhZmVTY3JlZW5IZWlnaHQoKTtcbiAgICBkYXRhWzBdID0geDAgLSBzYWZlYXJlYV9wYWRbMF0gKiB3c2NhbGU7XG4gICAgZGF0YVsxXSA9IHkwIC0gc2FmZWFyZWFfcGFkWzJdICogaHNjYWxlO1xuICAgIGRhdGFbMl0gPSB4MSArIHNhZmVhcmVhX3BhZFsxXSAqIHdzY2FsZTtcbiAgICBkYXRhWzNdID0geTEgKyBzYWZlYXJlYV9wYWRbM10gKiBoc2NhbGU7XG4gIH1cblxuICByZWFwcGx5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTYWZlQXJlYVBhZGRpbmcobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKSB7XG4gIHNhZmVhcmVhX3BhZFswXSA9IHJvdW5kKGxlZnQpO1xuICBzYWZlYXJlYV9wYWRbMV0gPSByb3VuZChyaWdodCk7XG4gIHNhZmVhcmVhX3BhZFsyXSA9IHJvdW5kKHRvcCk7XG4gIHNhZmVhcmVhX3BhZFszXSA9IHJvdW5kKGJvdHRvbSk7XG4gIC8vIENhbGxlZCB3aGlsZSB1cGRhdGluZyBzY3JlZW4gd2lkdGgvaGVpZ2h0LCByZWFwcGx5KCkgc2hvdWxkIGdldCBjYWxsZWQgbGF0ZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVBcmVhUGFkZGluZygpIHtcbiAgcmV0dXJuIHNhZmVhcmVhX3BhZDtcbn1cblxuY29uc3Qgc3RhY2sgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBwdXNoKCkge1xuICBzdGFjay5wdXNoKGRhdGEuc2xpY2UoMCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcCgpIHtcbiAgbGV0IG9sZCA9IHN0YWNrLnBvcCgpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgb2xkLmxlbmd0aDsgKytpaSkge1xuICAgIGRhdGFbaWldID0gb2xkW2lpXTtcbiAgfVxuICByZWFwcGx5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb21Ub0NhbnZhc1JhdGlvKCkge1xuICByZXR1cm4gZGF0YVs2XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcmVlbkFzcGVjdCgpIHtcbiAgcmV0dXJuIHNhZmVTY3JlZW5XaWR0aCgpIC9cbiAgICBzYWZlU2NyZWVuSGVpZ2h0KCk7XG59XG5cbi8vIERyYXdpbmcgYXJlYSAwLDAtdyxoXG4vLyBCdXQga2VlcCB0aGUgYXNwZWN0IHJhdGlvIG9mIHRob3NlIHRoaW5ncyBkcmF3biB0byBiZSBjb3JyZWN0XG4vLyBUaGlzIG1heSBjcmVhdGUgYSBwYWRkaW5nIG9yIG1hcmdpbiBvbiBlaXRoZXIgdG9wIGFuZCBib3R0b20gb3Igc2lkZXMgb2YgdGhlIHNjcmVlblxuLy8gVXNlciB1c2VycyBjb25zdGFudCB2YWx1ZXMgaW4gdGhpcyByYW5nZSBmb3IgY29uc2lzdGVudCBVSSBvbiBhbGwgZGV2aWNlc1xuZXhwb3J0IGZ1bmN0aW9uIHNldEFzcGVjdEZpeGVkKHcsIGgpIHtcbiAgbGV0IHBhID0gcmVuZGVyX3dpZHRoID8gMSA6IGVuZ2luZS5waXhlbF9hc3BlY3Q7XG4gIGxldCBpbnZfYXNwZWN0ID0gaCAvIHBhIC8gdztcbiAgbGV0IGludl9kZXNpcmVkX2FzcGVjdDtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGludl9kZXNpcmVkX2FzcGVjdCA9IHJlbmRlcl9oZWlnaHQgLyByZW5kZXJfd2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgaW52X2Rlc2lyZWRfYXNwZWN0ID0gMSAvIHNjcmVlbkFzcGVjdCgpO1xuICB9XG4gIGlmIChpbnZfYXNwZWN0ID4gaW52X2Rlc2lyZWRfYXNwZWN0KSB7XG4gICAgbGV0IG1hcmdpbiA9IChoIC8gcGEgLyBpbnZfZGVzaXJlZF9hc3BlY3QgLSB3KSAvIDI7XG4gICAgc2V0KC1tYXJnaW4sIDAsIHcgKyBtYXJnaW4sIGgsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbWFyZ2luID0gKHcgKiBwYSAqIGludl9kZXNpcmVkX2FzcGVjdCAtIGgpIC8gMjtcbiAgICBzZXQoMCwgLW1hcmdpbiwgdywgaCArIG1hcmdpbiwgZmFsc2UpO1xuICB9XG59XG5cbi8vIFByaW1hcnkgZHJhd2luZyBhcmVhIGF0IGxlYXN0IFcgeCBIXG4vLyBCdXQga2VlcCB0aGUgYXNwZWN0IHJhdGlvIG9mIHRob3NlIHRoaW5ncyBkcmF3biB0byBiZSBjb3JyZWN0XG4vLyBTaW1pbGFyIHRvIHNldEFzcGVjdEZpeGVkKCkgYnV0IGtlZXBzICgwLDApIGluIHRoZSB1cHBlciBsZWZ0IChhbGwgcGFkZGluZ1xuLy8gICBpcyBhZGRlZCB0byByaWdodCBhbmQgYm90dG9tKVxuLy8gUmVxdWlyZXMgdXNlcnMgdG8gdXNlIGNhbWVyYTJkLncoKS8gYW5kIGNhbWVyYTJkLmgoKSB0byBkZXRlcm1pbmUgcmVhc29uYWJsZVxuLy8gICBVSSBwb3NpdGlvbmluZ1xuZXhwb3J0IGZ1bmN0aW9uIHNldEFzcGVjdEZpeGVkMih3LCBoKSB7XG4gIGxldCBwYSA9IHJlbmRlcl93aWR0aCA/IDEgOiBlbmdpbmUucGl4ZWxfYXNwZWN0O1xuICBsZXQgaW52X2FzcGVjdCA9IGggLyBwYSAvIHc7XG4gIGxldCBpbnZfZGVzaXJlZF9hc3BlY3Q7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBpbnZfZGVzaXJlZF9hc3BlY3QgPSByZW5kZXJfaGVpZ2h0IC8gcmVuZGVyX3dpZHRoO1xuICB9IGVsc2Uge1xuICAgIGludl9kZXNpcmVkX2FzcGVjdCA9IDEgLyBzY3JlZW5Bc3BlY3QoKTtcbiAgfVxuICBpZiAoaW52X2FzcGVjdCA+IGludl9kZXNpcmVkX2FzcGVjdCkge1xuICAgIGxldCBtYXJnaW4gPSAoaCAvIHBhIC8gaW52X2Rlc2lyZWRfYXNwZWN0IC0gdyk7XG4gICAgc2V0KDAsIDAsIHcgKyBtYXJnaW4sIGgsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbWFyZ2luID0gKHcgKiBwYSAqIGludl9kZXNpcmVkX2FzcGVjdCAtIGgpO1xuICAgIHNldCgwLCAwLCB3LCBoICsgbWFyZ2luLCBmYWxzZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHpvb20oeCwgeSwgZmFjdG9yKSB7XG4gIGxldCBpbnZfZmFjdG9yID0gMS4wIC8gZmFjdG9yO1xuICBzZXQoXG4gICAgeCAtICh4IC0gZGF0YVswXSkgKiBpbnZfZmFjdG9yLFxuICAgIHkgLSAoeSAtIGRhdGFbMV0pICogaW52X2ZhY3RvcixcbiAgICB4ICsgKGRhdGFbMl0gLSB4KSAqIGludl9mYWN0b3IsXG4gICAgeSArIChkYXRhWzNdIC0geSkgKiBpbnZfZmFjdG9yLCB0cnVlKTtcbn1cblxuLy8gcmV0dXJucyBbeDAseTAseDEseTFdIHRvIHVzZSBhcyBwYXJhbWV0ZXJzIHNldCgpIHN1Y2ggdGhhdCBzcmNfcmVjdCBpbiB0aGVcbi8vIGN1cnJlbnQgdmlldyBpcyBub3cgYWRkcmVzc2FibGUgYnkgZGVzdF9yZWN0IChwcmVzdW1hYmx5IHNvbWV0aGluZyBsaWtlXG4vLyBbMCwwLHZ3LHZoXSlcbmV4cG9ydCBmdW5jdGlvbiBjYWxjTWFwKG91dCwgc3JjX3JlY3QsIGRlc3RfcmVjdCkge1xuICBsZXQgY3VyX3cgPSBkYXRhWzExXSAtIGRhdGFbOV07XG4gIGxldCBjdXJfaCA9IGRhdGFbMTJdIC0gZGF0YVsxMF07XG4gIGxldCB2eDAgPSBzcmNfcmVjdFswXSAvIGN1cl93O1xuICBsZXQgdnkwID0gc3JjX3JlY3RbMV0gLyBjdXJfaDtcbiAgbGV0IHZ4MSA9IHNyY19yZWN0WzJdIC8gY3VyX3c7XG4gIGxldCB2eTEgPSBzcmNfcmVjdFszXSAvIGN1cl9oO1xuICBsZXQgdncgPSB2eDEgLSB2eDA7XG4gIGxldCB2aCA9IHZ5MSAtIHZ5MDtcbiAgbGV0IGRlc3RfdncgPSBkZXN0X3JlY3RbMl0gLSBkZXN0X3JlY3RbMF07XG4gIGxldCBkZXN0X3ZoID0gZGVzdF9yZWN0WzNdIC0gZGVzdF9yZWN0WzFdO1xuICBvdXRbMF0gPSBkZXN0X3JlY3RbMF0gLSBkZXN0X3Z3IC8gdncgKiB2eDA7XG4gIG91dFsxXSA9IGRlc3RfcmVjdFsxXSAtIGRlc3RfdmggLyB2aCAqIHZ5MDtcbiAgb3V0WzJdID0gZGVzdF9yZWN0WzJdICsgZGVzdF92dyAvIHZ3ICogKDEgLSB2eDEpO1xuICBvdXRbM10gPSBkZXN0X3JlY3RbM10gKyBkZXN0X3ZoIC8gdmggKiAoMSAtIHZ5MSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXROb3JtYWxpemVkKCkge1xuICBzZXQoMCwgMCwgMSwgMSwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB4MFJlYWwoKSB7XG4gIHJldHVybiBkYXRhWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHkwUmVhbCgpIHtcbiAgcmV0dXJuIGRhdGFbMV07XG59XG5leHBvcnQgZnVuY3Rpb24geDFSZWFsKCkge1xuICByZXR1cm4gZGF0YVsyXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB5MVJlYWwoKSB7XG4gIHJldHVybiBkYXRhWzNdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdSZWFsKCkge1xuICByZXR1cm4gZGF0YVsyXSAtIGRhdGFbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gaFJlYWwoKSB7XG4gIHJldHVybiBkYXRhWzNdIC0gZGF0YVsxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB4MCgpIHtcbiAgcmV0dXJuIGRhdGFbOV07XG59XG5leHBvcnQgZnVuY3Rpb24geTAoKSB7XG4gIHJldHVybiBkYXRhWzEwXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB4MSgpIHtcbiAgcmV0dXJuIGRhdGFbMTFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHkxKCkge1xuICByZXR1cm4gZGF0YVsxMl07XG59XG5leHBvcnQgZnVuY3Rpb24gdygpIHtcbiAgcmV0dXJuIGRhdGFbMTFdIC0gZGF0YVs5XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoKCkge1xuICByZXR1cm4gZGF0YVsxMl0gLSBkYXRhWzEwXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB4U2NhbGUoKSB7XG4gIHJldHVybiBkYXRhWzRdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHlTY2FsZSgpIHtcbiAgcmV0dXJuIGRhdGFbNV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBodG1sUG9zKHgsIHkpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIHJldHVybiBbXG4gICAgICAxMDAgKiAoKCh4IC0gZGF0YVswXSkgLyBkYXRhWzddICsgcmVuZGVyX29mZnNldF94KSAvIHNjcmVlbl93aWR0aCksXG4gICAgICAxMDAgKiAoKCh5IC0gZGF0YVsxXSkgLyBkYXRhWzhdICsgcmVuZGVyX29mZnNldF95X3RvcCkgLyBzY3JlZW5faGVpZ2h0KSxcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXG4gICAgICAxMDAgKiAoeCAtIGRhdGFbMF0pIC8gKGRhdGFbMl0gLSBkYXRhWzBdKSxcbiAgICAgIDEwMCAqICh5IC0gZGF0YVsxXSkgLyAoZGF0YVszXSAtIGRhdGFbMV0pLFxuICAgIF07XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBodG1sU2l6ZSh3LCBoKSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgMTAwICogdyAvIGRhdGFbN10gLyBzY3JlZW5fd2lkdGgsXG4gICAgICAxMDAgKiBoIC8gZGF0YVs4XSAvIHNjcmVlbl9oZWlnaHQsXG4gICAgXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gWzEwMCAqIHcgLyAoZGF0YVsyXSAtIGRhdGFbMF0pLCAxMDAgKiBoIC8gKGRhdGFbM10gLSBkYXRhWzFdKV07XG4gIH1cbn1cblxubGV0IGlucHV0X2NsaXBwaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIHNldElucHV0Q2xpcHBpbmcoeHl3aCkge1xuICBpbnB1dF9jbGlwcGluZyA9IHh5d2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb21Ub1ZpcnR1YWwoZHN0LCBzcmMpIHtcbiAgbGV0IHJldCA9IHRydWU7XG4gIGlmIChpbnB1dF9jbGlwcGluZykge1xuICAgIGlmIChzcmNbMF0gPCBpbnB1dF9jbGlwcGluZ1swXSB8fCBzcmNbMF0gPiBpbnB1dF9jbGlwcGluZ1swXSArIGlucHV0X2NsaXBwaW5nWzJdIHx8XG4gICAgICBzcmNbMV0gPCBpbnB1dF9jbGlwcGluZ1sxXSB8fCBzcmNbMV0gPiBpbnB1dF9jbGlwcGluZ1sxXSArIGlucHV0X2NsaXBwaW5nWzNdXG4gICAgKSB7XG4gICAgICByZXQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGRzdFswXSA9IChzcmNbMF0gKiBkYXRhWzZdIC0gcmVuZGVyX29mZnNldF94KSAqIGRhdGFbN10gKyBkYXRhWzBdO1xuICAgIGRzdFsxXSA9IChzcmNbMV0gKiBkYXRhWzZdIC0gcmVuZGVyX29mZnNldF95X3RvcCkgKiBkYXRhWzhdICsgZGF0YVsxXTtcbiAgfSBlbHNlIHtcbiAgICBkc3RbMF0gPSBzcmNbMF0gKiBkYXRhWzZdIC8gZGF0YVs0XSArIGRhdGFbMF07XG4gICAgZHN0WzFdID0gc3JjWzFdICogZGF0YVs2XSAvIGRhdGFbNV0gKyBkYXRhWzFdO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb21EZWx0YVRvVmlydHVhbChkc3QsIHNyYykge1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgZHN0WzBdID0gc3JjWzBdICogZGF0YVs2XSAqIGRhdGFbN107XG4gICAgZHN0WzFdID0gc3JjWzFdICogZGF0YVs2XSAqIGRhdGFbOF07XG4gIH0gZWxzZSB7XG4gICAgZHN0WzBdID0gc3JjWzBdICogZGF0YVs2XSAvIGRhdGFbNF07XG4gICAgZHN0WzFdID0gc3JjWzFdICogZGF0YVs2XSAvIGRhdGFbNV07XG4gIH1cbn1cblxubGV0IGlucHV0X2NsaXBwaW5nX3ZpcnR1YWwgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuZnVuY3Rpb24gdXBkYXRlVmlydHVhbElucHV0Q2xpcHBpbmcoKSB7XG4gIGRvbVRvVmlydHVhbChpbnB1dF9jbGlwcGluZ192aXJ0dWFsLCBpbnB1dF9jbGlwcGluZyk7XG4gIC8vZG9tRGVsdGFUb1ZpcnR1YWwoaW5wdXRfY2xpcHBpbmdfdmlydHVhbC5zbGljZSgyKSwgaW5wdXRfY2xpcHBpbmcuc2xpY2UoMikpIDpcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGlucHV0X2NsaXBwaW5nX3ZpcnR1YWxbMl0gPSBpbnB1dF9jbGlwcGluZ1syXSAqIGRhdGFbNl0gKiBkYXRhWzddO1xuICAgIGlucHV0X2NsaXBwaW5nX3ZpcnR1YWxbM10gPSBpbnB1dF9jbGlwcGluZ1szXSAqIGRhdGFbNl0gKiBkYXRhWzhdO1xuICB9IGVsc2Uge1xuICAgIGlucHV0X2NsaXBwaW5nX3ZpcnR1YWxbMl0gPSBpbnB1dF9jbGlwcGluZ1syXSAqIGRhdGFbNl0gLyBkYXRhWzRdO1xuICAgIGlucHV0X2NsaXBwaW5nX3ZpcnR1YWxbM10gPSBpbnB1dF9jbGlwcGluZ1szXSAqIGRhdGFbNl0gLyBkYXRhWzVdO1xuICB9XG59XG5cblxuLy8gVG8gZ2V0IHRvIGNvb3JkaW5hdGVzIHVzZWQgYnkgbW91c2UgZXZlbnRzXG5leHBvcnQgZnVuY3Rpb24gdmlydHVhbFRvRG9tKGRzdCwgc3JjKSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBkc3RbMF0gPSAocmVuZGVyX29mZnNldF94ICsgKHNyY1swXSAtIGRhdGFbMF0pIC8gZGF0YVs3XSkgLyBkYXRhWzZdO1xuICAgIGRzdFsxXSA9IChyZW5kZXJfb2Zmc2V0X3lfdG9wICsgKHNyY1sxXSAtIGRhdGFbMV0pIC8gZGF0YVs4XSkgLyBkYXRhWzZdO1xuICB9IGVsc2Uge1xuICAgIGRzdFswXSA9IChzcmNbMF0gLSBkYXRhWzBdKSAqIGRhdGFbNF0gLyBkYXRhWzZdO1xuICAgIGRzdFsxXSA9IChzcmNbMV0gLSBkYXRhWzFdKSAqIGRhdGFbNV0gLyBkYXRhWzZdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsVG9Gb250U2l6ZShoZWlnaHQpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIHJldHVybiBoZWlnaHQgLyAoZGF0YVs2XSAqIGRhdGFbOF0pICogMC44NDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaGVpZ2h0ICogZGF0YVs1XSAvIGRhdGFbNl0gKiAwLjg0O1xuICB9XG59XG5cbi8vIGRzdC9zcmMgYXJlIHgveS93L2ggb2JqZWN0cyAoZS5nLiBmcm9tIGlucHV0IHN5c3RlbSlcbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsVG9Eb21Qb3NQYXJhbShkc3QsIHNyYykge1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgZHN0LnggPSAocmVuZGVyX29mZnNldF94ICsgKHNyYy54IC0gZGF0YVswXSkgLyBkYXRhWzddKSAvIGRhdGFbNl07XG4gICAgZHN0LncgPSBzcmMudyAvIGRhdGFbN10gLyBkYXRhWzZdO1xuICAgIGRzdC55ID0gKHJlbmRlcl9vZmZzZXRfeV90b3AgKyAoc3JjLnkgLSBkYXRhWzFdKSAvIGRhdGFbOF0pIC8gZGF0YVs2XTtcbiAgICBkc3QuaCA9IHNyYy5oIC8gZGF0YVs4XSAvIGRhdGFbNl07XG4gIH0gZWxzZSB7XG4gICAgZHN0LnggPSAoc3JjLnggLSBkYXRhWzBdKSAqIGRhdGFbNF0gLyBkYXRhWzZdO1xuICAgIGRzdC53ID0gc3JjLncgKiBkYXRhWzRdIC8gZGF0YVs2XTtcbiAgICBkc3QueSA9IChzcmMueSAtIGRhdGFbMV0pICogZGF0YVs1XSAvIGRhdGFbNl07XG4gICAgZHN0LmggPSBzcmMuaCAqIGRhdGFbNV0gLyBkYXRhWzZdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwVGVzdFJlY3QocmVjdCkge1xuICBpZiAoIWlucHV0X2NsaXBwaW5nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdXBkYXRlVmlydHVhbElucHV0Q2xpcHBpbmcoKTtcbiAgbGV0IGljdiA9IGlucHV0X2NsaXBwaW5nX3ZpcnR1YWw7XG4gIGlmIChyZWN0LnggPiBpY3ZbMF0gKyBpY3ZbMl0gfHxcbiAgICByZWN0LnggKyByZWN0LncgPCBpY3ZbMF0gfHxcbiAgICByZWN0LnkgPiBpY3ZbMV0gKyBpY3ZbM10gfHxcbiAgICByZWN0LnkgKyByZWN0LmggPCBpY3ZbMV1cbiAgKSB7XG4gICAgLy8gZnVsbHkgY2xpcHBlZFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocmVjdC54IDwgaWN2WzBdKSB7XG4gICAgcmVjdC53IC09IGljdlswXSAtIHJlY3QueDtcbiAgICByZWN0LnggPSBpY3ZbMF07XG4gIH1cbiAgaWYgKHJlY3QueSA8IGljdlsxXSkge1xuICAgIHJlY3QuaCAtPSBpY3ZbMV0gLSByZWN0Lnk7XG4gICAgcmVjdC55ID0gaWN2WzFdO1xuICB9XG4gIGlmIChyZWN0LnggKyByZWN0LncgPiBpY3ZbMF0gKyBpY3ZbMl0pIHtcbiAgICByZWN0LncgPSBpY3ZbMF0gKyBpY3ZbMl0gLSByZWN0Lng7XG4gIH1cbiAgaWYgKHJlY3QueSArIHJlY3QuaCA+IGljdlsxXSArIGljdlszXSkge1xuICAgIHJlY3QuaCA9IGljdlsxXSArIGljdlszXSAtIHJlY3QueTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpY2tDYW1lcmEyRCgpIHtcbiAgZGF0YVs2XSA9IGVuZ2luZS5kb21fdG9fY2FudmFzX3JhdGlvOyAvKiBkb21fdG9fY2FudmFzX3JhdGlvICovXG4gIHNjcmVlbl93aWR0aCA9IGVuZ2luZS53aWR0aDtcbiAgc2NyZWVuX2hlaWdodCA9IGVuZ2luZS5oZWlnaHQ7XG4gIGxldCB2aWV3cG9ydCA9IFswLCAwLCBzY3JlZW5fd2lkdGgsIHNjcmVlbl9oZWlnaHRdO1xuICBpZiAoZW5naW5lLnJlbmRlcl93aWR0aCkgeyAvLyBOb3RlOiByZW5kZXJfKiBub3QgdXNlZCBieSBGUlZSIGF0IHRoaXMgdGltZVxuICAgIHJlbmRlcl93aWR0aCA9IGVuZ2luZS5yZW5kZXJfd2lkdGg7XG4gICAgcmVuZGVyX2hlaWdodCA9IGVuZ2luZS5yZW5kZXJfaGVpZ2h0O1xuICAgIC8vIEZpbmQgYW4gb2Zmc2V0IHNvIHRoaXMgcmVuZGVyZWQgdmlld3BvcnQgaXMgY2VudGVyZWQgd2hpbGUgcHJlc2VydmluZyBhc3BlY3QgcmF0aW8sIGp1c3QgbGlrZSBzZXRBc3BlY3RGaXhlZFxuICAgIGxldCBwYSA9IGVuZ2luZS5waXhlbF9hc3BlY3Q7XG4gICAgbGV0IGludl9hc3BlY3QgPSByZW5kZXJfaGVpZ2h0IC8gcGEgLyByZW5kZXJfd2lkdGg7XG4gICAgbGV0IGVmZl9zY3JlZW5fd2lkdGggPSBzYWZlU2NyZWVuV2lkdGgoKTtcbiAgICBsZXQgZWZmX3NjcmVlbl9oZWlnaHQgPSBzYWZlU2NyZWVuSGVpZ2h0KCk7XG4gICAgbGV0IGludl9kZXNpcmVkX2FzcGVjdCA9IGVmZl9zY3JlZW5faGVpZ2h0IC8gZWZmX3NjcmVlbl93aWR0aDtcbiAgICBpZiAoaW52X2FzcGVjdCA+IGludl9kZXNpcmVkX2FzcGVjdCkge1xuICAgICAgbGV0IG1hcmdpbiA9IChyZW5kZXJfaGVpZ2h0IC8gaW52X2Rlc2lyZWRfYXNwZWN0IC0gcmVuZGVyX3dpZHRoICogcGEpIC8gMiAqXG4gICAgICAgIGVmZl9zY3JlZW5faGVpZ2h0IC8gcmVuZGVyX2hlaWdodDtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeCA9IHNhZmVhcmVhX3BhZFswXSArIHJvdW5kKG1hcmdpbik7XG4gICAgICByZW5kZXJfb2Zmc2V0X3lfdG9wID0gc2FmZWFyZWFfcGFkWzJdO1xuICAgICAgcmVuZGVyX29mZnNldF95X2JvdHRvbSA9IHNhZmVhcmVhX3BhZFszXTtcbiAgICAgIHJlbmRlcl92aWV3cG9ydF93ID0gcm91bmQoZWZmX3NjcmVlbl93aWR0aCAtIG1hcmdpbiAqIDIpO1xuICAgICAgcmVuZGVyX3ZpZXdwb3J0X2ggPSBlZmZfc2NyZWVuX2hlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1hcmdpbiA9IChyZW5kZXJfd2lkdGggKiBpbnZfZGVzaXJlZF9hc3BlY3QgLSByZW5kZXJfaGVpZ2h0IC8gcGEpIC8gMiAqXG4gICAgICAgIGVmZl9zY3JlZW5fd2lkdGggLyByZW5kZXJfd2lkdGg7XG4gICAgICByZW5kZXJfb2Zmc2V0X3ggPSBzYWZlYXJlYV9wYWRbMF07XG4gICAgICByZW5kZXJfb2Zmc2V0X3lfdG9wID0gc2FmZWFyZWFfcGFkWzJdICsgcm91bmQobWFyZ2luKTtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeV9ib3R0b20gPSBzYWZlYXJlYV9wYWRbM10gKyByb3VuZChtYXJnaW4pO1xuICAgICAgcmVuZGVyX3ZpZXdwb3J0X3cgPSBlZmZfc2NyZWVuX3dpZHRoO1xuICAgICAgcmVuZGVyX3ZpZXdwb3J0X2ggPSByb3VuZChlZmZfc2NyZWVuX2hlaWdodCAtIG1hcmdpbiAqIDIpO1xuICAgIH1cbiAgICB2aWV3cG9ydFsyXSA9IHJlbmRlcl93aWR0aDtcbiAgICB2aWV3cG9ydFszXSA9IHJlbmRlcl9oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyX3dpZHRoID0gcmVuZGVyX2hlaWdodCA9IDA7XG4gICAgcmVuZGVyX29mZnNldF94ID0gMDtcbiAgICByZW5kZXJfb2Zmc2V0X3lfdG9wID0gMDtcbiAgICByZW5kZXJfb2Zmc2V0X3lfYm90dG9tID0gMDtcbiAgfVxuXG4gIHJlYXBwbHkoKTtcblxuICAvLyBsZXQgc2NyZWVuX3dpZHRoID0gZW5naW5lLndpZHRoO1xuICAvLyBsZXQgc2NyZWVuX2hlaWdodCA9IGVuZ2luZS5oZWlnaHQ7XG4gIC8vIGxldCBzY3JlZW5fYXNwZWN0ID0gc2NyZWVuX3dpZHRoIC8gc2NyZWVuX2hlaWdodDtcbiAgLy8gbGV0IHZpZXdfYXNwZWN0ID0gZ2FtZV93aWR0aCAvIGdhbWVfaGVpZ2h0O1xuICAvLyBpZiAoc2NyZWVuX2FzcGVjdCA+IHZpZXdfYXNwZWN0KSB7XG4gIC8vICAgbGV0IHZpZXdwb3J0X3dpZHRoID0gZ2FtZV9oZWlnaHQgKiBzY3JlZW5fYXNwZWN0O1xuICAvLyAgIGxldCBoYWxmX2RpZmYgPSAodmlld3BvcnRfd2lkdGggLSBnYW1lX3dpZHRoKSAvIDI7XG4gIC8vICAgdmlld3BvcnRSZWN0YW5nbGUgPSBbLWhhbGZfZGlmZiwgMCwgZ2FtZV93aWR0aCArIGhhbGZfZGlmZiwgZ2FtZV9oZWlnaHRdO1xuICAvLyB9IGVsc2Uge1xuICAvLyAgIGxldCB2aWV3cG9ydF9oZWlnaHQgPSBnYW1lX3dpZHRoIC8gc2NyZWVuX2FzcGVjdDtcbiAgLy8gICBsZXQgaGFsZl9kaWZmID0gKHZpZXdwb3J0X2hlaWdodCAtIGdhbWVfaGVpZ2h0KSAvIDI7XG4gIC8vICAgdmlld3BvcnRSZWN0YW5nbGUgPSBbMCwgLWhhbGZfZGlmZiwgZ2FtZV93aWR0aCwgZ2FtZV9oZWlnaHQgKyBoYWxmX2RpZmZdO1xuICAvLyB9XG5cbiAgZW5naW5lLnNldFZpZXdwb3J0KHZpZXdwb3J0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gIHNldCgwLCAwLCBlbmdpbmUud2lkdGgsIGVuZ2luZS5oZWlnaHQpO1xuICB0aWNrQ2FtZXJhMkQoKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDIwIEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgYXN5bmNQYXJhbGxlbCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL2FzeW5jLmpzJyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2ZvbnQuanMnKTtcbmNvbnN0IHsgaXNGcmllbmQgfSA9IHJlcXVpcmUoJy4vZnJpZW5kcy5qcycpO1xuY29uc3QgaW5wdXQgPSByZXF1aXJlKCcuL2lucHV0LmpzJyk7XG5jb25zdCB7IGxpbmsgfSA9IHJlcXVpcmUoJy4vbGluay5qcycpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vbG9jYWxfc3RvcmFnZS5qcycpO1xuY29uc3QgeyBjZWlsLCBmbG9vciwgbWF4LCBtaW4gfSA9IE1hdGg7XG5jb25zdCBuZXQgPSByZXF1aXJlKCcuL25ldC5qcycpO1xuY29uc3QgeyBwcm9mYW5pdHlGaWx0ZXIsIHByb2Zhbml0eVN0YXJ0dXAgfSA9IHJlcXVpcmUoJy4vd29yZHMvcHJvZmFuaXR5LmpzJyk7XG5jb25zdCB7IHNjcm9sbEFyZWFDcmVhdGUgfSA9IHJlcXVpcmUoJy4vc2Nyb2xsX2FyZWEuanMnKTtcbmNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5jb25zdCB7IGNsYW1wLCBtYXRjaEFsbCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgdmVjNCwgdjNjb3B5IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmNvbnN0IEZBREVfU1RBUlRfVElNRSA9IFsxMDAwMCwgMTAwMF07XG5jb25zdCBGQURFX1RJTUUgPSBbMTAwMCwgNTAwXTtcblxuY29uc3QgSU5ERU5UID0gNDA7XG5cbmNvbnN0IEZMQUdfRU1PVEUgPSAxO1xuY29uc3QgRkxBR19VU0VSQ0hBVCA9IDI7XG5cblouQ0hBVCA9IFouQ0hBVCB8fCA1MDA7XG5aLkNIQVRfRk9DVVNFRCA9IFouQ0hBVF9GT0NVU0VEIHx8IFouQ0hBVDtcblxuY29uc3QgY29sb3JfdXNlcl9yb2xsb3ZlciA9IHZlYzQoMSwxLDEsMC41KTtcblxuY29uc3QgTUFYX1BFUl9TVFlMRSA9IHtcbiAgam9pbl9sZWF2ZTogMyxcbn07XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgY2hhdF9hdXRvX3VuZm9jdXM6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgaGVscDogJ0F1dG9tYXRpY2FsbHkgdW5mb2N1cyBjaGF0IGFmdGVyIHNlbmRpbmcgYSBtZXNzYWdlJyxcbiAgfSxcbn0pO1xuXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHByb2Zhbml0eV9maWx0ZXI6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgaGVscDogJ0ZpbHRlciBwcm9mYW5pdHkgaW4gY2hhdCcsXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gQ21kSGlzdG9yeSgpIHtcbiAgYXNzZXJ0KGxvY2FsX3N0b3JhZ2Uuc3RvcmFnZV9wcmVmaXggIT09ICdkZW1vJyk7IC8vIHdyb25nIGluaXRpYWxpemF0aW9uIG9yZGVyXG4gIHRoaXMuZW50cmllcyA9IG5ldyBBcnJheSg1MCk7XG4gIHRoaXMuaWR4ID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKCdjb25zb2xlX2lkeCcpOyAvLyB3aGVyZSB3ZSB3aWxsIG5leHQgaW5zZXJ0XG4gIGlmICh0eXBlb2YgdGhpcy5pZHggIT09ICdudW1iZXInIHx8IHRoaXMuaWR4IDwgMCB8fCB0aGlzLmlkeCA+PSB0aGlzLmVudHJpZXMubGVuZ3RoKSB7XG4gICAgdGhpcy5pZHggPSAwO1xuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmVudHJpZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICB0aGlzLmVudHJpZXNbaWldID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKGBjb25zb2xlX2Uke2lpfWApO1xuICAgIH1cbiAgfVxuICB0aGlzLnJlc2V0UG9zKCk7XG59XG5DbWRIaXN0b3J5LnByb3RvdHlwZS5zZXRIaXN0ID0gZnVuY3Rpb24gKGlkeCwgdGV4dCkge1xuICB0aGlzLmVudHJpZXNbaWR4XSA9IHRleHQ7XG4gIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTihgY29uc29sZV9lJHtpZHh9YCwgdGV4dCk7XG59O1xuQ21kSGlzdG9yeS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgaWYgKCF0ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBpZHggPSB0aGlzLmVudHJpZXMuaW5kZXhPZih0ZXh0KTtcbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAvLyBhbHJlYWR5IGluIHRoZXJlLCBqdXN0IHJlLW9yZGVyXG4gICAgbGV0IHRhcmdldCA9ICh0aGlzLmlkeCAtIDEgKyB0aGlzLmVudHJpZXMubGVuZ3RoKSAlIHRoaXMuZW50cmllcy5sZW5ndGg7XG4gICAgd2hpbGUgKGlkeCAhPT0gdGFyZ2V0KSB7XG4gICAgICBsZXQgbmV4dCA9IChpZHggKyAxKSAlIHRoaXMuZW50cmllcy5sZW5ndGg7XG4gICAgICB0aGlzLnNldEhpc3QoaWR4LCB0aGlzLmVudHJpZXNbbmV4dF0pO1xuICAgICAgaWR4ID0gbmV4dDtcbiAgICB9XG4gICAgdGhpcy5zZXRIaXN0KHRhcmdldCwgdGV4dCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuc2V0SGlzdCh0aGlzLmlkeCwgdGV4dCk7XG4gIHRoaXMuaWR4ID0gKHRoaXMuaWR4ICsgMSkgJSB0aGlzLmVudHJpZXMubGVuZ3RoO1xuICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ2NvbnNvbGVfaWR4JywgdGhpcy5pZHgpO1xuICB0aGlzLnJlc2V0UG9zKCk7XG59O1xuQ21kSGlzdG9yeS5wcm90b3R5cGUudW5hZGQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAvLyB1cG9uIGVycm9yLCBkbyBub3Qgc3RvcmUgdGhpcyBzdHJpbmcgaW4gb3VyIGhpc3RvcnlcbiAgbGV0IGlkeCA9ICh0aGlzLmlkeCAtIDEgKyB0aGlzLmVudHJpZXMubGVuZ3RoKSAlIHRoaXMuZW50cmllcy5sZW5ndGg7XG4gIGlmICh0aGlzLmVudHJpZXNbaWR4XSAhPT0gdGV4dCkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmlkeCA9IGlkeDtcbiAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCdjb25zb2xlX2lkeCcsIHRoaXMuaWR4KTtcbiAgdGhpcy5yZXNldFBvcygpO1xufTtcbkNtZEhpc3RvcnkucHJvdG90eXBlLnJlc2V0UG9zID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmhpc3RfaWR4ID0gdGhpcy5pZHg7XG4gIHRoaXMuZWRpdF9saW5lID0gJyc7XG59O1xuQ21kSGlzdG9yeS5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uIChjdXJfdGV4dCkge1xuICBpZiAodGhpcy5oaXN0X2lkeCA9PT0gdGhpcy5pZHgpIHtcbiAgICAvLyBpZiBmaXJzdCB0aW1lIGdvaW5lIGJhY2t3YXJkcywgc3Rhc2ggdGhlIGN1cnJlbnQgZWRpdCBsaW5lXG4gICAgdGhpcy5lZGl0X2xpbmUgPSBjdXJfdGV4dDtcbiAgfVxuICBsZXQgaWR4ID0gKHRoaXMuaGlzdF9pZHggLSAxICsgdGhpcy5lbnRyaWVzLmxlbmd0aCkgJSB0aGlzLmVudHJpZXMubGVuZ3RoO1xuICBsZXQgdGV4dCA9IHRoaXMuZW50cmllc1tpZHhdO1xuICBpZiAoaWR4ID09PSB0aGlzLmlkeCB8fCAhdGV4dCkge1xuICAgIC8vIHdyYXBwZWQgYXJvdW5kLCBvciBnb3QgdG8gZW1wdHlcbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzW3RoaXMuaGlzdF9pZHhdIHx8ICcnO1xuICB9XG4gIHRoaXMuaGlzdF9pZHggPSBpZHg7XG4gIHJldHVybiB0ZXh0IHx8ICcnO1xufTtcbkNtZEhpc3RvcnkucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoY3VyX3RleHQpIHtcbiAgaWYgKHRoaXMuaGlzdF9pZHggPT09IHRoaXMuaWR4KSB7XG4gICAgcmV0dXJuIGN1cl90ZXh0IHx8ICcnO1xuICB9XG4gIGxldCBpZHggPSAodGhpcy5oaXN0X2lkeCArIDEpICUgdGhpcy5lbnRyaWVzLmxlbmd0aDtcbiAgdGhpcy5oaXN0X2lkeCA9IGlkeDtcbiAgaWYgKHRoaXMuaGlzdF9pZHggPT09IHRoaXMuaWR4KSB7XG4gICAgLy8ganVzdCBnb3QgYmFjayB0byBoZWFkXG4gICAgbGV0IHJldCA9IHRoaXMuZWRpdF9saW5lO1xuICAgIHRoaXMuZWRpdF9saW5lID0gJyc7XG4gICAgcmV0dXJuIHJldCB8fCAnJztcbiAgfVxuICByZXR1cm4gdGhpcy5lbnRyaWVzW2lkeF0gfHwgJyc7XG59O1xuXG5mdW5jdGlvbiBDaGF0VUkocGFyYW1zKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgcGFyYW1zLCAnb2JqZWN0Jyk7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgcGFyYW1zLm1heF9sZW4sICdudW1iZXInKTtcbiAgdGhpcy5lZGl0X3RleHRfZW50cnkgPSB1aS5jcmVhdGVFZGl0Qm94KHtcbiAgICBwbGFjZWhvbGRlcjogJ0NoYXQnLFxuICAgIGluaXRpYWxfZm9jdXM6IGZhbHNlLFxuICAgIGF1dG9fdW5mb2N1czogdHJ1ZSxcbiAgICBtYXhfbGVuOiBwYXJhbXMubWF4X2xlbixcbiAgICB0ZXh0OiAnJyxcbiAgfSk7XG4gIHRoaXMuY2hhbm5lbCA9IG51bGw7XG5cbiAgdGhpcy5vbl9qb2luID0gdGhpcy5vbk1zZ0pvaW4uYmluZCh0aGlzKTtcbiAgdGhpcy5vbl9sZWF2ZSA9IHRoaXMub25Nc2dMZWF2ZS5iaW5kKHRoaXMpO1xuICB0aGlzLm9uX2NoYXQgPSB0aGlzLm9uTXNnQ2hhdC5iaW5kKHRoaXMpO1xuICB0aGlzLmhhbmRsZV9jbWRfcGFyc2UgPSB0aGlzLmhhbmRsZUNtZFBhcnNlLmJpbmQodGhpcyk7XG4gIHRoaXMuaGFuZGxlX2NtZF9wYXJzZV9lcnJvciA9IHRoaXMuaGFuZGxlQ21kUGFyc2VFcnJvci5iaW5kKHRoaXMpO1xuICBjbWRfcGFyc2Uuc2V0RGVmYXVsdEhhbmRsZXIodGhpcy5oYW5kbGVfY21kX3BhcnNlX2Vycm9yKTtcbiAgdGhpcy5jbGVhckNoYXQoKTtcbiAgdGhpcy5tYXhfbGluZXMgPSBwYXJhbXMubWF4X2xpbmVzIHx8IDg7IC8vIE1heCBzaG93biB3aGVuIGNoYXQgbm90IGFjdGl2ZVxuICB0aGlzLm1heF9tZXNzYWdlcyA9IHBhcmFtcy5tYXhfbWVzc2FnZXMgfHwgMTAwMDsgLy8gU2l6ZSBvZiBoaXN0b3J5IGtlcHRcbiAgdGhpcy5tYXhfbGVuID0gcGFyYW1zLm1heF9sZW47XG4gIHRoaXMuZm9udF9oZWlnaHQgPSBwYXJhbXMuZm9udF9oZWlnaHQgfHwgdWkuZm9udF9oZWlnaHQ7XG4gIHRoaXMuaGlkZV9kaXNjb25uZWN0ZWRfbWVzc2FnZSA9IHBhcmFtcy5oaWRlX2Rpc2Nvbm5lY3RlZF9tZXNzYWdlIHx8IGZhbHNlO1xuICB0aGlzLnNjcm9sbF9hcmVhID0gc2Nyb2xsQXJlYUNyZWF0ZSh7XG4gICAgYmFja2dyb3VuZF9jb2xvcjogbnVsbCxcbiAgICBhdXRvX3Njcm9sbDogdHJ1ZSxcbiAgfSk7XG4gIHRoaXMudyA9IHBhcmFtcy53IHx8IGVuZ2luZS5nYW1lX3dpZHRoIC8gMjtcbiAgdGhpcy5oID0gcGFyYW1zLmggfHwgZW5naW5lLmdhbWVfaGVpZ2h0IC8gMjsgLy8gZXhjbHVkaW5nIHRleHQgZW50cnlcbiAgdGhpcy52b2x1bWVfam9pbl9sZWF2ZSA9IHBhcmFtcy52b2x1bWVfam9pbl9sZWF2ZSB8fCAxO1xuICB0aGlzLnZvbHVtZV9pbiA9IHBhcmFtcy52b2x1bWVfaW4gfHwgMTtcbiAgdGhpcy52b2x1bWVfb3V0ID0gcGFyYW1zLnZvbHVtZV9vdXQgfHwgMTtcbiAgdGhpcy5oaXN0b3J5ID0gbmV3IENtZEhpc3RvcnkoKTtcbiAgdGhpcy5nZXRfcm9sZXMgPSBudWxsOyAvLyByZXR1cm5zIG9iamVjdCBmb3IgdGVzdGluZyBjbWQgYWNjZXNzIHBlcm1pc3Npb25zXG4gIHRoaXMudXJsX21hdGNoID0gcGFyYW1zLnVybF9tYXRjaDsgLy8gcnVucyBgL3VybCBtYXRjaFsxXWAgaWYgY2xpY2tlZFxuICB0aGlzLnVybF9pbmZvID0gcGFyYW1zLnVybF9pbmZvOyAvLyBPcHRpb25hbCBmb3IgZ3JhYmJpbmcgdGhlIGludGVyZXN0aW5nIHBvcnRpb24gb2YgdGhlIFVSTCBmb3IgdG9vbHRpcCBhbmQgL3VybFxuICB0aGlzLnVzZXJfY29udGV4dF9jYiA9IHBhcmFtcy51c2VyX2NvbnRleHRfY2I7IC8vIENiIGNhbGxlZCB3aXRoIHsgdXNlcl9pZCB9IG9uIGNsaWNrXG4gIHRoaXMuc2V0QWN0aXZlU2l6ZSh0aGlzLmZvbnRfaGVpZ2h0LCB0aGlzLncpO1xuXG4gIHRoaXMuc3R5bGVzID0ge1xuICAgIGRlZjogZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICAgIGNvbG9yOiAweEVFRUVFRWZmLFxuICAgICAgb3V0bGluZV93aWR0aDogMS4wLFxuICAgICAgb3V0bGluZV9jb2xvcjogMHgwMDAwMDBmZixcbiAgICB9KSxcbiAgICBzeXN0ZW06IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICBjb2xvcjogMHhBQUFBQUFmZixcbiAgICAgIG91dGxpbmVfd2lkdGg6IDEuMCxcbiAgICAgIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwZmYsXG4gICAgfSksXG4gICAgZXJyb3I6IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICBjb2xvcjogMHhERDAwMDBmZixcbiAgICAgIG91dGxpbmVfd2lkdGg6IDEuMCxcbiAgICAgIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwZmYsXG4gICAgfSksXG4gICAgbGluazogZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICAgIGNvbG9yOiAweDUwNDBGRmZmLFxuICAgICAgb3V0bGluZV93aWR0aDogMS4wLFxuICAgICAgb3V0bGluZV9jb2xvcjogMHgwMDAwMDBmZixcbiAgICB9KSxcbiAgICBsaW5rX2hvdmVyOiBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICAgICAgY29sb3I6IDB4MDAwMEZGZmYsXG4gICAgICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gICAgICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMGZmLFxuICAgIH0pLFxuICB9O1xuICB0aGlzLnN0eWxlcy5qb2luX2xlYXZlID0gdGhpcy5zdHlsZXMuc3lzdGVtO1xuXG4gIG5ldC5zdWJzLm9uKCdjaGF0X2Jyb2FkY2FzdCcsIHRoaXMub25DaGF0QnJvYWRjYXN0LmJpbmQodGhpcykpO1xufVxuXG5DaGF0VUkucHJvdG90eXBlLnNldEFjdGl2ZVNpemUgPSBmdW5jdGlvbiAoZm9udF9oZWlnaHQsIHcpIHtcbiAgbGV0IHdyYXBfdyA9IHcgLSB0aGlzLnNjcm9sbF9hcmVhLmJhcldpZHRoKCk7XG4gIGlmICh0aGlzLmFjdGl2ZV9mb250X2hlaWdodCAhPT0gZm9udF9oZWlnaHQgfHwgdGhpcy53cmFwX3cgIT09IHdyYXBfdykge1xuICAgIHRoaXMuYWN0aXZlX2ZvbnRfaGVpZ2h0ID0gZm9udF9oZWlnaHQ7XG4gICAgdGhpcy53cmFwX3cgPSB3cmFwX3c7XG4gICAgLy8gcmVjYWxjIG51bWxpbmVzXG4gICAgdGhpcy50b3RhbF9saW5lcyA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubXNncy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBlbGVtID0gdGhpcy5tc2dzW2lpXTtcbiAgICAgIGVsZW0ubnVtbGluZXMgPSB1aS5mb250Lm51bUxpbmVzKHRoaXMuc3R5bGVzW2VsZW0uc3R5bGVdIHx8IHRoaXMuc3R5bGVzLmRlZixcbiAgICAgICAgdGhpcy53cmFwX3csIElOREVOVCwgdGhpcy5hY3RpdmVfZm9udF9oZWlnaHQsIGVsZW0ubXNnX3RleHQpO1xuICAgICAgdGhpcy50b3RhbF9saW5lcyArPSBlbGVtLm51bWxpbmVzO1xuICAgIH1cbiAgfVxufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5jbGVhckNoYXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubXNncyA9IFtdO1xuICB0aGlzLnRvdGFsX2xpbmVzID0gMDtcbn07XG5cbmZ1bmN0aW9uIG5vdEhpZGRlbihtc2cpIHtcbiAgcmV0dXJuICFtc2cuaGlkZGVuO1xufVxuXG5DaGF0VUkucHJvdG90eXBlLmFkZE1zZ0ludGVybmFsID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgZWxlbS50aW1lc3RhbXAgPSBlbGVtLnRpbWVzdGFtcCB8fCBEYXRlLm5vdygpO1xuICBpZiAoZWxlbS5mbGFncyAmIEZMQUdfVVNFUkNIQVQpIHtcbiAgICBpZiAoZWxlbS5mbGFncyAmIEZMQUdfRU1PVEUpIHtcbiAgICAgIGVsZW0ubXNnX3RleHQgPSBgJHtlbGVtLmRpc3BsYXlfbmFtZX0gJHtlbGVtLm1zZ31gO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtLm1zZ190ZXh0ID0gYFske2VsZW0uZGlzcGxheV9uYW1lfV0gJHtlbGVtLm1zZ31gO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBlbGVtLm1zZ190ZXh0ID0gZWxlbS5tc2c7XG4gIH1cbiAgZWxlbS5udW1saW5lcyA9IHVpLmZvbnQubnVtTGluZXModGhpcy5zdHlsZXNbZWxlbS5zdHlsZV0gfHwgdGhpcy5zdHlsZXMuZGVmLFxuICAgIHRoaXMud3JhcF93LCBJTkRFTlQsIHRoaXMuYWN0aXZlX2ZvbnRfaGVpZ2h0LCBlbGVtLm1zZ190ZXh0KTtcbiAgdGhpcy50b3RhbF9saW5lcyArPSBlbGVtLm51bWxpbmVzO1xuICB0aGlzLm1zZ3MucHVzaChlbGVtKTtcbiAgbGV0IG1heF9tc2dzID0gTUFYX1BFUl9TVFlMRVtlbGVtLnN0eWxlXTtcbiAgaWYgKG1heF9tc2dzKSB7XG4gICAgLy8gUmVtb3ZlIGFueSBtb3JlIHRoYW4gbWF4XG4gICAgLy8gQWxzbyByZW1vdmUgYW55IGZvciB0aGUgc2FtZSBJRCAod2FudCBmb3IgJ2pvaW5fbGVhdmUnLCBtYXliZSBub3Qgb3RoZXJzPylcbiAgICBmb3IgKGxldCBpaSA9IHRoaXMubXNncy5sZW5ndGggLSAyOyBpaSA+PSAwOyAtLWlpKSB7XG4gICAgICBsZXQgZWxlbTIgPSB0aGlzLm1zZ3NbaWldO1xuICAgICAgaWYgKGVsZW0yLnN0eWxlID09PSBlbGVtLnN0eWxlICYmICFlbGVtMi5oaWRkZW4pIHtcbiAgICAgICAgaWYgKGVsZW0uaWQgJiYgZWxlbTIuaWQgPT09IGVsZW0uaWQpIHtcbiAgICAgICAgICBlbGVtMi5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgIHRoaXMudG90YWxfbGluZXMgLT0gZWxlbTIubnVtbGluZXM7XG4gICAgICAgICAgZWxlbTIubnVtbGluZXMgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC0tbWF4X21zZ3M7XG4gICAgICAgICAgaWYgKG1heF9tc2dzIDw9IDApIHtcbiAgICAgICAgICAgIGVsZW0yLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRvdGFsX2xpbmVzIC09IGVsZW0yLm51bWxpbmVzO1xuICAgICAgICAgICAgZWxlbTIubnVtbGluZXMgPSAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh0aGlzLm1zZ3MubGVuZ3RoID4gdGhpcy5tYXhfbWVzc2FnZXMgKiAxLjI1KSB7XG4gICAgdGhpcy5tc2dzID0gdGhpcy5tc2dzLmZpbHRlcihub3RIaWRkZW4pO1xuICAgIGlmICh0aGlzLm1zZ3MubGVuZ3RoID4gdGhpcy5tYXhfbWVzc2FnZXMgKiAxLjI1KSB7XG4gICAgICB0aGlzLm1zZ3Muc3BsaWNlKDAsIHRoaXMubXNncy5sZW5ndGggLSB0aGlzLm1heF9tZXNzYWdlcyk7XG4gICAgICB0aGlzLnRvdGFsX2xpbmVzID0gMDtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm1zZ3MubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIHRoaXMudG90YWxfbGluZXMgKz0gdGhpcy5tc2dzW2lpXS5udW1saW5lcztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkNoYXRVSS5wcm90b3R5cGUuYWRkQ2hhdCA9IGZ1bmN0aW9uIChtc2csIHN0eWxlKSB7XG4gIGNvbnNvbGUubG9nKG1zZyk7XG4gIHRoaXMuYWRkTXNnSW50ZXJuYWwoeyBtc2csIHN0eWxlIH0pO1xufTtcbkNoYXRVSS5wcm90b3R5cGUuYWRkQ2hhdEZpbHRlcmVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc29sZS5sb2coYENoYXQgZnJvbSAke2RhdGEuaWR9OiAke2RhdGEubXNnfWApO1xuICBpZiAoc2V0dGluZ3MucHJvZmFuaXR5X2ZpbHRlcikge1xuICAgIGRhdGEubXNnID0gcHJvZmFuaXR5RmlsdGVyKGRhdGEubXNnKTtcbiAgfVxuICB0aGlzLmFkZE1zZ0ludGVybmFsKGRhdGEpO1xufTtcbkNoYXRVSS5wcm90b3R5cGUub25Nc2dKb2luID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgaWYgKGRhdGEuY2xpZW50X2lkICE9PSBuZXQuY2xpZW50LmlkKSB7XG4gICAgaWYgKHRoaXMudm9sdW1lX2pvaW5fbGVhdmUpIHtcbiAgICAgIHVpLnBsYXlVSVNvdW5kKCd1c2VyX2pvaW4nLCB0aGlzLnZvbHVtZV9qb2luX2xlYXZlKTtcbiAgICB9XG4gICAgdGhpcy5hZGRDaGF0RmlsdGVyZWQoe1xuICAgICAgaWQ6IGRhdGEudXNlcl9pZCB8fCBkYXRhLmNsaWVudF9pZCxcbiAgICAgIGRpc3BsYXlfbmFtZTogZGF0YS5kaXNwbGF5X25hbWUgfHwgZGF0YS5jbGllbnRfaWQsXG4gICAgICBmbGFnczogRkxBR19FTU9URXxGTEFHX1VTRVJDSEFULFxuICAgICAgbXNnOiAnam9pbmVkIHRoZSBjaGFubmVsJyxcbiAgICAgIHN0eWxlOiAnam9pbl9sZWF2ZScsXG4gICAgfSk7XG4gIH1cbn07XG5DaGF0VUkucHJvdG90eXBlLm9uTXNnTGVhdmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBpZiAodGhpcy52b2x1bWVfam9pbl9sZWF2ZSkge1xuICAgIHVpLnBsYXlVSVNvdW5kKCd1c2VyX2xlYXZlJywgdGhpcy52b2x1bWVfam9pbl9sZWF2ZSk7XG4gIH1cbiAgdGhpcy5hZGRDaGF0RmlsdGVyZWQoe1xuICAgIGlkOiBkYXRhLnVzZXJfaWQgfHwgZGF0YS5jbGllbnRfaWQsXG4gICAgZGlzcGxheV9uYW1lOiBkYXRhLmRpc3BsYXlfbmFtZSB8fCBkYXRhLmNsaWVudF9pZCxcbiAgICBmbGFnczogRkxBR19FTU9URXxGTEFHX1VTRVJDSEFULFxuICAgIG1zZzogJ2xlZnQgdGhlIGNoYW5uZWwnLFxuICAgIHN0eWxlOiAnam9pbl9sZWF2ZScsXG4gIH0pO1xufTtcbkNoYXRVSS5wcm90b3R5cGUub25Nc2dDaGF0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgbGV0IHsgbXNnLCBpZCwgY2xpZW50X2lkLCBkaXNwbGF5X25hbWUsIGZsYWdzLCB0cywgcXVpZXQgfSA9IGRhdGE7XG4gIGlmICghcXVpZXQgJiYgY2xpZW50X2lkICE9PSBuZXQuY2xpZW50LmlkKSB7XG4gICAgaWYgKHRoaXMudm9sdW1lX2luKSB7XG4gICAgICB1aS5wbGF5VUlTb3VuZCgnbXNnX2luJywgdGhpcy52b2x1bWVfaW4pO1xuICAgIH1cbiAgfVxuICBkaXNwbGF5X25hbWUgPSBkaXNwbGF5X25hbWUgfHwgaWQ7XG4gIGZsYWdzID0gKGZsYWdzIHx8IDApIHwgRkxBR19VU0VSQ0hBVDtcbiAgdGhpcy5hZGRDaGF0RmlsdGVyZWQoe1xuICAgIGlkLFxuICAgIGRpc3BsYXlfbmFtZSxcbiAgICBtc2csXG4gICAgZmxhZ3MsXG4gICAgdGltZXN0YW1wOiB0cyxcbiAgICBxdWlldCxcbiAgfSk7XG59O1xuQ2hhdFVJLnByb3RvdHlwZS5vbkNoYXRCcm9hZGNhc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBsZXQgeyBtc2csIHNyYyB9ID0gZGF0YTtcbiAgdWkucGxheVVJU291bmQoJ21zZ19lcnInKTtcbiAgdGhpcy5hZGRDaGF0RmlsdGVyZWQoe1xuICAgIG1zZzogYFske3NyY31dICR7bXNnfWAsXG4gICAgc3R5bGU6ICdlcnJvcicsXG4gIH0pO1xufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5ydW5MYXRlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmRpZF9ydW5fbGF0ZSA9IHRydWU7XG4gIGlmIChpbnB1dC5rZXlEb3duRWRnZShpbnB1dC5LRVlTLlJFVFVSTikpIHtcbiAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5mb2N1cygpO1xuICB9XG4gIGlmIChpbnB1dC5rZXlEb3duRWRnZShpbnB1dC5LRVlTLlNMQVNIKSB8fFxuICAgIGlucHV0LmtleURvd25FZGdlKGlucHV0LktFWVMuTlVNUEFEX0RJVklERSlcbiAgKSB7XG4gICAgdGhpcy5lZGl0X3RleHRfZW50cnkuZm9jdXMoKTtcbiAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5zZXRUZXh0KCcvJyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGVyclN0cihlcnIpIHtcbiAgaWYgKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycik7XG4gIH1cbiAgcmV0dXJuIGVycjtcbn1cblxuQ2hhdFVJLnByb3RvdHlwZS5oYW5kbGVDbWRQYXJzZUVycm9yID0gZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICBpZiAoZXJyKSB7XG4gICAgdGhpcy5hZGRDaGF0KGBbZXJyb3JdICR7ZXJyU3RyKGVycil9YCwgJ2Vycm9yJyk7XG4gIH1cbn07XG5cbkNoYXRVSS5wcm90b3R5cGUuaGFuZGxlQ21kUGFyc2UgPSBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gIGlmIChlcnIpIHtcbiAgICB0aGlzLmFkZENoYXQoYFtlcnJvcl0gJHtlcnJTdHIoZXJyKX1gLCAnZXJyb3InKTtcbiAgfSBlbHNlIGlmIChyZXNwKSB7XG4gICAgdGhpcy5hZGRDaGF0KGBbc3lzdGVtXSAkeyh0eXBlb2YgcmVzcCA9PT0gJ3N0cmluZycpID8gcmVzcCA6IEpTT04uc3RyaW5naWZ5KHJlc3ApfWAsICdzeXN0ZW0nKTtcbiAgfVxufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5zZXRHZXRSb2xlcyA9IGZ1bmN0aW9uIChmbikge1xuICB0aGlzLmdldF9yb2xlcyA9IGZuO1xufTtcblxubGV0IGFjY2Vzc19kdW1teSA9IHsgYWNjZXNzOiBudWxsIH07XG5DaGF0VUkucHJvdG90eXBlLmdldEFjY2Vzc09iaiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmdldF9yb2xlcykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBhY2Nlc3NfZHVtbXkuYWNjZXNzID0gdGhpcy5nZXRfcm9sZXMoKTtcbiAgcmV0dXJuIGFjY2Vzc19kdW1teTtcbn07XG5cbkNoYXRVSS5wcm90b3R5cGUuY21kUGFyc2UgPSBmdW5jdGlvbiAoc3RyLCBvbl9lcnJvcikge1xuICBsZXQgaGFuZGxlUmVzdWx0ID0gb25fZXJyb3IgP1xuICAgIChlcnIsIHJlc3ApID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlX2NtZF9wYXJzZShlcnIsIHJlc3ApO1xuICAgICAgaWYgKG9uX2Vycm9yICYmIGVycikge1xuICAgICAgICBvbl9lcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH0gOlxuICAgIHRoaXMuaGFuZGxlX2NtZF9wYXJzZTtcbiAgY21kX3BhcnNlLmhhbmRsZSh0aGlzLmdldEFjY2Vzc09iaigpLCBzdHIsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICBpZiAoZXJyICYmIGNtZF9wYXJzZS53YXNfbm90X2ZvdW5kKSB7XG4gICAgICAvLyBmb3J3YXJkIHRvIHNlcnZlclxuICAgICAgbmV0LnN1YnMuc2VuZENtZFBhcnNlKHN0ciwgaGFuZGxlUmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlUmVzdWx0KGVyciwgcmVzcCk7XG4gICAgfVxuICB9KTtcbn07XG5cbkNoYXRVSS5wcm90b3R5cGUuY21kUGFyc2VJbnRlcm5hbCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgY21kX3BhcnNlLmhhbmRsZSh0aGlzLmdldEFjY2Vzc09iaigpLCBzdHIsIHRoaXMuaGFuZGxlX2NtZF9wYXJzZV9lcnJvcik7XG59O1xuXG5mdW5jdGlvbiBwYWQyKHN0cikge1xuICByZXR1cm4gYDAke3N0cn1gLnNsaWNlKC0yKTtcbn1cbmZ1bmN0aW9uIGNvbmNpc2VEYXRlKGR0KSB7XG4gIHJldHVybiBgJHtwYWQyKGR0LmdldE1vbnRoKCkgKyAxKX0tJHtwYWQyKGR0LmdldERhdGUoKSl9ICR7cGFkMihkdC5nZXRIb3VycygpKVxuICB9OiR7cGFkMihkdC5nZXRNaW51dGVzKCkpfToke3BhZDIoZHQuZ2V0U2Vjb25kcygpKX1gO1xufVxubGV0IGhlbHBfZm9udF9zdHlsZSA9IGdsb3ZfZm9udC5zdHlsZUNvbG9yZWQobnVsbCwgMHgwMDAwMDBmZik7XG5sZXQgaGVscF9mb250X3N0eWxlX2NtZCA9IGdsb3ZfZm9udC5zdHlsZShoZWxwX2ZvbnRfc3R5bGUsIHtcbiAgb3V0bGluZV93aWR0aDogMC41LFxuICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMEZGLFxufSk7XG5sZXQgaGVscF9yb2xsb3Zlcl9jb2xvciA9IHZlYzQoMCwgMCwgMCwgMC4yNSk7XG5sZXQgaGVscF9yb2xsb3Zlcl9jb2xvcjIgPSB2ZWM0KDAsIDAsIDAsIDAuMTI1KTtcbmNvbnN0IFRPT0xUSVBfTUlOX1BBR0VfU0laRSA9IDIwO1xubGV0IHRvb2x0aXBfcGFnZSA9IDA7XG5sZXQgdG9vbHRpcF9sYXN0ID0gJyc7XG5sZXQgdG9vbHRpcF9wYW5lbF9jb2xvciA9IHZlYzQoKTtcbmZ1bmN0aW9uIGRyYXdIZWxwVG9vbHRpcChwYXJhbSkge1xuICBhc3NlcnQoQXJyYXkuaXNBcnJheShwYXJhbS50b29sdGlwKSk7XG4gIGxldCB0b29sdGlwID0gcGFyYW0udG9vbHRpcDtcbiAgbGV0IG51bV9wYWdlcyA9IDE7XG4gIGxldCBoID0gcGFyYW0uZm9udF9oZWlnaHQ7XG4gIGxldCBlZmZfdG9vbHRpcF9wYWQgPSB1aS50b29sdGlwX3BhZCAqIDAuNTtcbiAgbGV0IG51bV9wZXJfcGFnZSA9IG1pbihUT09MVElQX01JTl9QQUdFX1NJWkUsIG1heCgxLCBmbG9vcigocGFyYW0ueSAtIGNhbWVyYTJkLnkwKCkgLSBlZmZfdG9vbHRpcF9wYWQpIC8gaCkgLSAxKSk7XG4gIGlmICh0b29sdGlwLmxlbmd0aCA+IDIwKSB7XG4gICAgbGV0IHRleHQgPSB0b29sdGlwLmpvaW4oJ1xcbicpO1xuICAgIGlmICh0ZXh0ICE9PSB0b29sdGlwX2xhc3QpIHtcbiAgICAgIHRvb2x0aXBfcGFnZSA9IDA7XG4gICAgICB0b29sdGlwX2xhc3QgPSB0ZXh0O1xuICAgIH1cbiAgICBudW1fcGFnZXMgPSBjZWlsKHRvb2x0aXAubGVuZ3RoIC8gbnVtX3Blcl9wYWdlKTtcbiAgICB0b29sdGlwID0gdG9vbHRpcC5zbGljZSh0b29sdGlwX3BhZ2UgKiBudW1fcGVyX3BhZ2UsICh0b29sdGlwX3BhZ2UgKyAxKSAqIG51bV9wZXJfcGFnZSk7XG4gIH0gZWxzZSB7XG4gICAgdG9vbHRpcF9wYWdlID0gMDtcbiAgICB0b29sdGlwX2xhc3QgPSAnJztcbiAgfVxuICBsZXQgdyA9IHBhcmFtLnRvb2x0aXBfd2lkdGg7XG4gIGxldCB4ID0gcGFyYW0ueDtcbiAgbGV0IHogPSBwYXJhbS56IHx8IChaLlRPT0xUSVAgKyA1KTtcbiAgbGV0IHRleHRfeCA9IHggKyBlZmZfdG9vbHRpcF9wYWQ7XG4gIGxldCB0ZXh0X3cgPSB3IC0gZWZmX3Rvb2x0aXBfcGFkICogMjtcbiAgbGV0IHRvb2x0aXBfeTEgPSBwYXJhbS55O1xuXG4gIGxldCBhbHBoYSA9IDE7XG4gIGxldCB2aXNfaCA9IGVmZl90b29sdGlwX3BhZCAqIDIgKyBoICogdG9vbHRpcC5sZW5ndGg7XG4gIGlmICghcGFyYW0uZG9fc2VsZWN0aW9uICYmIG51bV9wYWdlcyA9PT0gMSAmJiBpbnB1dC5tb3VzZU92ZXIoe1xuICAgIHgsXG4gICAgeTogdG9vbHRpcF95MSAtIHZpc19oLFxuICAgIHcsXG4gICAgaDogdmlzX2gsXG4gIH0pKSB7XG4gICAgYWxwaGEgPSAwLjE1O1xuICB9XG4gIGxldCBzdHlsZSA9IGhlbHBfZm9udF9zdHlsZTtcbiAgaWYgKGFscGhhICE9PSAxKSB7XG4gICAgc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGVBbHBoYShzdHlsZSwgYWxwaGEpO1xuICB9XG5cbiAgbGV0IHkgPSB0b29sdGlwX3kxIC0gZWZmX3Rvb2x0aXBfcGFkO1xuICBsZXQgcmV0ID0gbnVsbDtcbiAgaWYgKG51bV9wYWdlcyA+IDEpIHtcbiAgICB5IC09IGg7XG4gICAgdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKGhlbHBfZm9udF9zdHlsZSxcbiAgICAgIHRleHRfeCwgeSwgeisxLCBoLCBnbG92X2ZvbnQuQUxJR04uSENFTlRFUixcbiAgICAgIHRleHRfdywgMCxcbiAgICAgIGBQYWdlICR7dG9vbHRpcF9wYWdlICsgMX0gLyAke251bV9wYWdlc31gKTtcbiAgICBsZXQgcG9zID0geyB4LCB5LCB3LCBoIH07XG4gICAgaWYgKGlucHV0Lm1vdXNlVXBFZGdlKHBvcykpIHsgLy8gdXAgaW5zdGVhZCBvZiBkb3duIHRvIHByZXZlbnQgY2FudmFzIGNhcHR1cmluZyBmb2N1c1xuICAgICAgdG9vbHRpcF9wYWdlID0gKHRvb2x0aXBfcGFnZSArIDEpICUgbnVtX3BhZ2VzO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQubW91c2VPdmVyKHBvcykpIHtcbiAgICAgIHVpLmRyYXdSZWN0KHgsIHksIHggKyB3LCB5ICsgaCwgeiArIDAuNSwgaGVscF9yb2xsb3Zlcl9jb2xvcik7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGlpID0gdG9vbHRpcC5sZW5ndGggLSAxOyBpaSA+PSAwOyAtLWlpKSB7XG4gICAgbGV0IGxpbmUgPSB0b29sdGlwW2lpXTtcbiAgICB5IC09IGg7XG4gICAgbGV0IGlkeCA9IGxpbmUuaW5kZXhPZignICcpO1xuICAgIGlmIChsaW5lWzBdID09PSAnLycgJiYgaWR4ICE9PSAtMSAmJiBwYXJhbS5kb19zZWxlY3Rpb24pIHtcbiAgICAgIC8vIGlzIGEgY29tbWFuZFxuICAgICAgbGV0IGNtZCA9IGxpbmUuc2xpY2UoMCwgaWR4KTtcbiAgICAgIGxldCBoZWxwID0gbGluZS5zbGljZShpZHgpO1xuICAgICAgbGV0IGNtZF93ID0gdWkuZm9udC5kcmF3U2l6ZWQoaGVscF9mb250X3N0eWxlX2NtZCxcbiAgICAgICAgdGV4dF94LCB5LCB6KzEsIGgsIGNtZCk7XG4gICAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoaGVscF9mb250X3N0eWxlLFxuICAgICAgICB0ZXh0X3ggKyBjbWRfdywgeSwgeisxLCBoLCBnbG92X2ZvbnQuQUxJR04uSEZJVCxcbiAgICAgICAgdGV4dF93IC0gY21kX3csIDAsXG4gICAgICAgIGhlbHApO1xuICAgICAgbGV0IHBvcyA9IHsgeCwgeSwgdywgaCB9O1xuICAgICAgaWYgKGlucHV0Lm1vdXNlVXBFZGdlKHBvcykpIHsgLy8gdXAgaW5zdGVhZCBvZiBkb3duIHRvIHByZXZlbnQgY2FudmFzIGNhcHR1cmluZyBmb2N1c1xuICAgICAgICByZXQgPSBjbWQuc2xpY2UoMSk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0Lm1vdXNlT3Zlcihwb3MpKSB7XG4gICAgICAgIHVpLmRyYXdSZWN0KHgsIHksIHRleHRfeCArIGNtZF93ICsgNCwgeSArIGgsIHogKyAwLjUsIGhlbHBfcm9sbG92ZXJfY29sb3IpO1xuICAgICAgICB1aS5kcmF3UmVjdCh0ZXh0X3ggKyBjbWRfdyArIDQsIHksIHggKyB3LCB5ICsgaCwgeiArIDAuNSwgaGVscF9yb2xsb3Zlcl9jb2xvcjIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsXG4gICAgICAgIHRleHRfeCwgeSwgeisxLCBoLCBnbG92X2ZvbnQuQUxJR04uSEZJVCxcbiAgICAgICAgdGV4dF93LCAwLFxuICAgICAgICBsaW5lKTtcbiAgICB9XG4gIH1cbiAgeSAtPSBlZmZfdG9vbHRpcF9wYWQ7XG4gIGxldCBwaXhlbF9zY2FsZSA9IHVpLnRvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGUgKiAwLjU7XG5cbiAgdjNjb3B5KHRvb2x0aXBfcGFuZWxfY29sb3IsIHVpLmNvbG9yX3BhbmVsKTtcbiAgdG9vbHRpcF9wYW5lbF9jb2xvclszXSA9IGFscGhhO1xuICB1aS5wYW5lbCh7XG4gICAgeCwgeSwgeiwgdyxcbiAgICBoOiB0b29sdGlwX3kxIC0geSxcbiAgICBwaXhlbF9zY2FsZSxcbiAgICBjb2xvcjogdG9vbHRpcF9wYW5lbF9jb2xvcixcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbkNoYXRVSS5wcm90b3R5cGUuaXNGb2N1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5lZGl0X3RleHRfZW50cnkgJiYgdGhpcy5lZGl0X3RleHRfZW50cnkuaXNGb2N1c2VkKCkgfHxcbiAgICB0aGlzLnNjcm9sbF9hcmVhICYmIHRoaXMuc2Nyb2xsX2FyZWEuaXNGb2N1c2VkKCk7XG59O1xuXG5DaGF0VUkucHJvdG90eXBlLnNlbmRDaGF0ID0gZnVuY3Rpb24gKGZsYWdzLCB0ZXh0KSB7XG4gIGlmICghbmV0LmNsaWVudC5jb25uZWN0ZWQpIHtcbiAgICB0aGlzLmFkZENoYXQoJ1tlcnJvcl0gQ2Fubm90IGNoYXQ6IERpc2Nvbm5lY3RlZCcsICdlcnJvcicpO1xuICB9IGVsc2UgaWYgKCF0aGlzLmNoYW5uZWwgfHwgIW5ldC5zdWJzLmxvZ2dlZEluKCkpIHtcbiAgICB0aGlzLmFkZENoYXQoJ1tlcnJvcl0gQ2Fubm90IGNoYXQ6IE11c3QgYmUgbG9nZ2VkIGluJywgJ2Vycm9yJyk7XG4gIH0gZWxzZSBpZiAodGV4dC5sZW5ndGggPiB0aGlzLm1heF9sZW4pIHtcbiAgICB0aGlzLmFkZENoYXQoJ1tlcnJvcl0gQ2hhdCBtZXNzYWdlIHRvbyBsb25nJywgJ2Vycm9yJyk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHBhayA9IHRoaXMuY2hhbm5lbC5wYWsoJ2NoYXQnKTtcbiAgICBwYWsud3JpdGVJbnQoZmxhZ3MpO1xuICAgIHBhay53cml0ZVN0cmluZyh0ZXh0KTtcbiAgICBwYWsuc2VuZCgoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRoaXMuYWRkQ2hhdChgW2Vycm9yXSAke2VyclN0cihlcnIpfWAsICdlcnJvcicpO1xuICAgICAgICAvLyBpZiAoIXRoaXMuZWRpdF90ZXh0X2VudHJ5LmdldFRleHQoKSkge1xuICAgICAgICAvLyAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQodGV4dCk7XG4gICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgU1BBQ0VfQUJPVkVfRU5UUlkgPSA4O1xuQ2hhdFVJLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAob3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgaWYgKG5ldC5jbGllbnQuZGlzY29ubmVjdGVkICYmICF0aGlzLmhpZGVfZGlzY29ubmVjdGVkX21lc3NhZ2UpIHtcbiAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoXG4gICAgICBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICAgICAgICBvdXRsaW5lX3dpZHRoOiAyLFxuICAgICAgICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMGZmLFxuICAgICAgICBjb2xvcjogMHhERDIwMjBmZlxuICAgICAgfSksXG4gICAgICBjYW1lcmEyZC54MCgpLCBjYW1lcmEyZC55MCgpLCBaLkRFQlVHLFxuICAgICAgdWkuZm9udF9oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IVkNFTlRFUiwgY2FtZXJhMmQudygpLCBjYW1lcmEyZC5oKCkgKiAwLjIwLFxuICAgICAgYENvbm5lY3Rpb24gbG9zdCwgYXR0ZW1wdGluZyB0byByZWNvbm5lY3QgKCR7KG5ldC5jbGllbnQudGltZVNpbmNlRGlzY29ubmVjdCgpLzEwMDApLnRvRml4ZWQoMCl9KS4uLmApO1xuICB9XG5cbiAgaWYgKCF0aGlzLmRpZF9ydW5fbGF0ZSkge1xuICAgIHRoaXMucnVuTGF0ZSgpO1xuICB9XG4gIHRoaXMuZGlkX3J1bl9sYXRlID0gZmFsc2U7XG4gIGxldCB4ID0gY2FtZXJhMmQueDAoKSArIDEwO1xuICBsZXQgeTAgPSBjYW1lcmEyZC55MSgpO1xuICBsZXQgeSA9IHkwO1xuICBsZXQgdyA9IHRoaXMudztcbiAgbGV0IHdhc19mb2N1c2VkID0gdGhpcy5pc0ZvY3VzZWQoKTtcbiAgbGV0IHogPSB3YXNfZm9jdXNlZCA/IFouQ0hBVF9GT0NVU0VEIDogWi5DSEFUO1xuICBsZXQgaXNfZm9jdXNlZCA9IGZhbHNlO1xuICBsZXQgZm9udF9oZWlnaHQgPSB0aGlzLmZvbnRfaGVpZ2h0O1xuICBsZXQgYW55dGhpbmdfdmlzaWJsZSA9IGZhbHNlO1xuICBsZXQgaGlkZV9saWdodCA9IChvcHRzLmhpZGUgfHwgZW5naW5lLmRlZmluZXMuTk9VSSB8fCAhbmV0LnN1YnMubG9nZ2VkSW4oKSkgJiZcbiAgICAhd2FzX2ZvY3VzZWQgP1xuICAgIDEgOiAvLyBtdXN0IGJlIG51bWVyaWNhbCwgdXNlZCB0byBpbmRleCBmYWRlIHZhbHVlc1xuICAgIDA7XG4gIGxldCBoaWRlX3RleHRfaW5wdXQgPSB1aS5tb2RhbF9kaWFsb2cgfHwgdWkubWVudV91cCB8fCBoaWRlX2xpZ2h0O1xuICBpZiAoIWhpZGVfdGV4dF9pbnB1dCAmJiB3YXNfZm9jdXNlZCAmJiBpbnB1dC50b3VjaF9tb2RlKSB7XG4gICAgLy8gZXhwYW5kIGNoYXQgd2hlbiBmb2N1c2VkIG9uIHRvdWNoIGRldmljZXNcbiAgICB3ID0gY2FtZXJhMmQueDEoKSAtIHggLSAyNDtcbiAgICBsZXQgZm9udF9zY2FsZSA9IDQ7XG4gICAgbGV0IGFzcGVjdCA9IGNhbWVyYTJkLnNjcmVlbkFzcGVjdCgpO1xuICAgIGlmIChhc3BlY3QgPiAyKSB7IC8vIHNjYWxlIHVwIHRvIGZvbnQgc2NhbGUgb2YgOFxuICAgICAgZm9udF9zY2FsZSA9IDQgKyA0ICogbWluKChhc3BlY3QgLSAyKSAvIDgsIDEpO1xuICAgIH1cbiAgICBmb250X2hlaWdodCAqPSBmb250X3NjYWxlO1xuICB9XG4gIHRoaXMuc2V0QWN0aXZlU2l6ZShmb250X2hlaWdodCwgdyk7IC8vIG1heSByZWNhbGMgbnVtbGluZXMgb24gZWFjaCBlbGVtOyB1cGRhdGVzIHdyYXBfd1xuICBpZiAoIWhpZGVfdGV4dF9pbnB1dCkge1xuICAgIGFueXRoaW5nX3Zpc2libGUgPSB0cnVlO1xuICAgIHkgLT0gMTYgKyBmb250X2hlaWdodDtcbiAgICBpZiAoIXdhc19mb2N1c2VkICYmIG9wdHMucG9pbnRlcmxvY2sgJiYgaW5wdXQucG9pbnRlckxvY2tlZCgpKSB7XG4gICAgICAvLyBkbyBub3Qgc2hvdyBlZGl0IGJveFxuICAgICAgdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHRoaXMuc3R5bGVzLmRlZiwgeCwgeSwgeiArIDEsIGZvbnRfaGVpZ2h0LCBnbG92X2ZvbnQuQUxJR04uSEZJVCwgdywgMCxcbiAgICAgICAgJzxQcmVzcyBFbnRlciB0byBjaGF0PicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAod2FzX2ZvY3VzZWQpIHtcbiAgICAgICAgLy8gRG8gYXV0by1jb21wbGV0ZSBsb2dpYyAqYmVmb3JlKiBlZGl0IGJveCwgc28gd2UgY2FuIGVhdCBUQUIgd2l0aG91dCBjaGFuZ2luZyBmb2N1c1xuICAgICAgICAvLyBFYXQgdGFiIGV2ZW4gaWYgdGhlcmUncyBub3RoaW5nIHRvIGNvbXBsZXRlLCBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgbGV0IHByZXNzZWRfdGFiID0gaW5wdXQua2V5RG93bkVkZ2UoaW5wdXQuS0VZUy5UQUIpO1xuICAgICAgICBpZiAocHJlc3NlZF90YWIpIHtcbiAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJfdGV4dCA9IHRoaXMuZWRpdF90ZXh0X2VudHJ5LmdldFRleHQoKTtcbiAgICAgICAgaWYgKGN1cl90ZXh0KSB7XG4gICAgICAgICAgaWYgKGN1cl90ZXh0WzBdID09PSAnLycpIHtcbiAgICAgICAgICAgIC8vIGRvIGF1dG8tY29tcGxldGVcbiAgICAgICAgICAgIGxldCBhdXRvY29tcGxldGUgPSBjbWRfcGFyc2UuYXV0b0NvbXBsZXRlKGN1cl90ZXh0LnNsaWNlKDEpLCB0aGlzLmdldEFjY2Vzc09iaigpLmFjY2Vzcyk7XG4gICAgICAgICAgICBpZiAoYXV0b2NvbXBsZXRlICYmIGF1dG9jb21wbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbGV0IGZpcnN0ID0gYXV0b2NvbXBsZXRlWzBdO1xuICAgICAgICAgICAgICBsZXQgYXV0b190ZXh0ID0gW107XG4gICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhdXRvY29tcGxldGUubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW0gPSBhdXRvY29tcGxldGVbaWldO1xuICAgICAgICAgICAgICAgIGF1dG9fdGV4dC5wdXNoKGAvJHtlbGVtLmNtZH0gLSAke2VsZW0uaGVscH1gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgZG9fc2VsZWN0aW9uID0gZmFsc2U7IC8vIHNob3VsZCB3ZSBhbGxvdyBjbGlja2luZyBpbiB0aGUgdG9vbHRpcD9cbiAgICAgICAgICAgICAgaWYgKGF1dG9jb21wbGV0ZS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICBmaXJzdC5jbmFtZSAmJlxuICAgICAgICAgICAgICAgIGNtZF9wYXJzZS5jYW5vbmljYWwoY3VyX3RleHQuc2xpY2UoMSkpLnNsaWNlKDAsIGZpcnN0LmNuYW1lLmxlbmd0aCkgPT09IGZpcnN0LmNuYW1lXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIHR5cGVkIHNvbWV0aGluZyB0aGF0IG1hdGNoZXMgdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdC51c2FnZSkge1xuICAgICAgICAgICAgICAgICAgYXV0b190ZXh0ID0gZmlyc3QudXNhZ2Uuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhdXRvX3RleHQgPSBbZmlyc3QuaGVscF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvX3NlbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IHRvb2x0aXBfeSA9IHk7XG4gICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGxhc3QgbWVzc2FnZSBpcyBhbiBlcnJvciwgaWYgc28sIHRvb2x0aXAgYWJvdmUgdGhhdC5cbiAgICAgICAgICAgICAgbGV0IGxhc3RfbXNnID0gdGhpcy5tc2dzW3RoaXMubXNncy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgaWYgKGxhc3RfbXNnKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1zZyA9IGxhc3RfbXNnLm1zZztcbiAgICAgICAgICAgICAgICBpZiAobXNnICYmICEobXNnLmZsYWdzICYgRkxBR19VU0VSQ0hBVCkgJiYgbXNnLnNsaWNlKDAsIDcpID09PSAnW2Vycm9yXScpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBudW1saW5lcyA9IGxhc3RfbXNnLm51bWxpbmVzO1xuICAgICAgICAgICAgICAgICAgdG9vbHRpcF95IC09IGZvbnRfaGVpZ2h0ICogbnVtbGluZXMgKyBTUEFDRV9BQk9WRV9FTlRSWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSBkcmF3SGVscFRvb2x0aXAoe1xuICAgICAgICAgICAgICAgIHgsIHk6IHRvb2x0aXBfeSxcbiAgICAgICAgICAgICAgICB0b29sdGlwX3dpZHRoOiBtYXgodywgZW5naW5lLmdhbWVfd2lkdGggKiAwLjgpLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6IGF1dG9fdGV4dCxcbiAgICAgICAgICAgICAgICBkb19zZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgZm9udF9oZWlnaHQ6IG1pbihmb250X2hlaWdodCwgY2FtZXJhMmQudygpIC8gMzApLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGRvX3NlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIGF1dG8tY29tcGxldGVzIHRvIHNvbWV0aGluZyBkaWZmZXJlbnQgdGhhbiB3ZSBoYXZlIHR5cGVkXG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IHVzZSBFTlRFUiBhcyB3ZWxsLCBiZWNhdXNlIHNvbWV0aW1lcyBhIGhpZGRlbiBjb21tYW5kIGlzIGEgc3ViLXN0cmluZyBvZiBhIHNob3duIGNvbW1hbmQ/XG4gICAgICAgICAgICAgICAgaWYgKHByZXNzZWRfdGFiIHx8IHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5zZXRUZXh0KGAvJHtzZWxlY3RlZCB8fCBmaXJzdC5jbWR9IGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmhpc3RvcnkucmVzZXRQb3MoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQua2V5RG93bkVkZ2UoaW5wdXQuS0VZUy5VUCkpIHtcbiAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5zZXRUZXh0KHRoaXMuaGlzdG9yeS5wcmV2KGN1cl90ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LmtleURvd25FZGdlKGlucHV0LktFWVMuRE9XTikpIHtcbiAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5zZXRUZXh0KHRoaXMuaGlzdG9yeS5uZXh0KGN1cl90ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JvbGxfYXJlYS5rZXlib2FyZFNjcm9sbCgpO1xuICAgICAgfVxuICAgICAgbGV0IGlucHV0X2hlaWdodCA9IGZvbnRfaGVpZ2h0O1xuICAgICAgbGV0IGlucHV0X3dpZHRoID0gdztcbiAgICAgIGlmIChpbnB1dC50b3VjaF9tb2RlICYmICF3YXNfZm9jdXNlZCkge1xuICAgICAgICB5IC09IGZvbnRfaGVpZ2h0ICogMjtcbiAgICAgICAgaW5wdXRfaGVpZ2h0ID0gZm9udF9oZWlnaHQgKiAzO1xuICAgICAgICBpbnB1dF93aWR0aCA9IGZvbnRfaGVpZ2h0ICogNjtcbiAgICAgIH1cbiAgICAgIGxldCByZXMgPSB0aGlzLmVkaXRfdGV4dF9lbnRyeS5ydW4oe1xuICAgICAgICB4LCB5LCB3OiBpbnB1dF93aWR0aCwgZm9udF9oZWlnaHQ6IGlucHV0X2hlaWdodCwgcG9pbnRlcl9sb2NrOiBvcHRzLnBvaW50ZXJsb2NrXG4gICAgICB9KTtcbiAgICAgIGlzX2ZvY3VzZWQgPSB0aGlzLmlzRm9jdXNlZCgpO1xuICAgICAgaWYgKHJlcyA9PT0gdGhpcy5lZGl0X3RleHRfZW50cnkuU1VCTUlUKSB7XG4gICAgICAgIGxldCB0ZXh0ID0gdGhpcy5lZGl0X3RleHRfZW50cnkuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5zZXRUZXh0KCcnKTtcbiAgICAgICAgICBpZiAodGV4dFswXSA9PT0gJy8nKSB7XG4gICAgICAgICAgICBpZiAodGV4dFsxXSA9PT0gJy8nKSB7IC8vIGNvbW1vbiBlcnJvciBvZiBzdGFydGluZyB3aXRoIC8vZm9vIGJlY2F1c2UgY2hhdCB3YXMgYWxyZWFkeSBmb2N1c2VkXG4gICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LmFkZCh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuY21kUGFyc2UodGV4dC5zbGljZSgxKSwgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAodGhpcy52b2x1bWVfb3V0KSB7XG4gICAgICAgICAgICAgICAgdWkucGxheVVJU291bmQoJ21zZ19vdXRfZXJyJywgdGhpcy52b2x1bWVfb3V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIXRoaXMuZWRpdF90ZXh0X2VudHJ5LmdldFRleHQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeS51bmFkZCh0ZXh0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5zZXRUZXh0KHRleHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaXNfZm9jdXNlZCkgeyAvLyB3YXMgYXV0by11bmZvY3VzZWRcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5mb2N1cygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kQ2hhdCgwLCB0ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMudm9sdW1lX291dCkge1xuICAgICAgICAgICAgdWkucGxheVVJU291bmQoJ21zZ19vdXQnLCB0aGlzLnZvbHVtZV9vdXQpOyAvLyBhZnRlciBjbWRQYXJzZSBtYXkgaGF2ZSBhZGp1c3Qgdm9sdW1lXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZXR0aW5ncy5jaGF0X2F1dG9fdW5mb2N1cykge1xuICAgICAgICAgICAgaXNfZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdWkuZm9jdXNDYW52YXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNfZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgIHVpLmZvY3VzQ2FudmFzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgeSAtPSBTUEFDRV9BQk9WRV9FTlRSWTtcblxuICBsZXQgeyB1cmxfbWF0Y2gsIHVybF9pbmZvLCBzdHlsZXMsIHdyYXBfdywgdXNlcl9jb250ZXh0X2NiIH0gPSB0aGlzO1xuICBsZXQgc2VsZiA9IHRoaXM7XG4gIGxldCBkb19zY3JvbGxfYXJlYSA9IGlzX2ZvY3VzZWQ7XG4gIGxldCBicmFja2V0X3dpZHRoID0gMDtcbiAgbGV0IG5hbWVfd2lkdGggPSB7fTtcbiAgLy8gU2xpZ2h0bHkgaGFja3k6IHVzZXMgYHhgIGFuZCBgeWAgZnJvbSB0aGUgaGlnaGVyIHNjb3BlXG4gIGZ1bmN0aW9uIGRyYXdDaGF0TGluZShtc2csIGFscGhhKSB7XG4gICAgaWYgKG1zZy5oaWRkZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxpbmUgPSBtc2cubXNnX3RleHQ7XG4gICAgbGV0IG51bWxpbmVzID0gbXNnLm51bWxpbmVzO1xuICAgIGxldCBpc191cmwgPSBkb19zY3JvbGxfYXJlYSAmJiB1cmxfbWF0Y2ggJiYgbWF0Y2hBbGwobGluZSwgdXJsX21hdGNoKTtcbiAgICBpc191cmwgPSBpc191cmwgJiYgaXNfdXJsLmxlbmd0aCA9PT0gMSAmJiBpc191cmxbMF07XG4gICAgbGV0IHVybF9sYWJlbCA9IGlzX3VybDtcbiAgICBpZiAoaXNfdXJsICYmIHVybF9pbmZvKSB7XG4gICAgICBsZXQgbSA9IGlzX3VybC5tYXRjaCh1cmxfaW5mbyk7XG4gICAgICBpZiAobSkge1xuICAgICAgICB1cmxfbGFiZWwgPSBtWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaCA9IGZvbnRfaGVpZ2h0ICogbnVtbGluZXM7XG4gICAgbGV0IGRvX21vdXNlb3ZlciA9IGRvX3Njcm9sbF9hcmVhICYmICFpbnB1dC5tb3VzZVBvc0lzVG91Y2goKSAmJiAoIW1zZy5zdHlsZSB8fCBtc2cuc3R5bGUgPT09ICdkZWYnIHx8IGlzX3VybCk7XG4gICAgbGV0IHRleHRfdztcbiAgICBsZXQgbW91c2VvdmVyID0gZmFsc2U7XG4gICAgaWYgKGRvX21vdXNlb3Zlcikge1xuICAgICAgdGV4dF93ID0gdWkuZm9udC5nZXRTdHJpbmdXaWR0aChzdHlsZXMuZGVmLCBmb250X2hlaWdodCwgbGluZSk7XG4gICAgICAvLyBtb3VzZU92ZXIgcGVlayBiZWNhdXNlIHdlJ3JlIGRvaW5nIGl0IGJlZm9yZSBjaGVja2luZyBmb3IgY2xpY2tzXG4gICAgICBtb3VzZW92ZXIgPSBpbnB1dC5tb3VzZU92ZXIoeyB4LCB5LCB3OiBtaW4odGV4dF93LCB3cmFwX3cpLCBoLCBwZWVrOiB0cnVlIH0pO1xuICAgIH1cbiAgICBsZXQgdXNlcl9tb3VzZW92ZXIgPSBmYWxzZTtcbiAgICBsZXQgdXNlcl9pbmRlbnQgPSAwO1xuICAgIGxldCBkaWRfdXNlcl9jb250ZXh0ID0gZmFsc2U7XG4gICAgaWYgKChtc2cuZmxhZ3MgJiBGTEFHX1VTRVJDSEFUKSAmJiB1c2VyX2NvbnRleHRfY2IgJiYgbXNnLmlkICYmIGRvX3Njcm9sbF9hcmVhKSB7XG4gICAgICBsZXQgbncgPSBuYW1lX3dpZHRoW21zZy5kaXNwbGF5X25hbWVdO1xuICAgICAgaWYgKCFudykge1xuICAgICAgICBudyA9IG5hbWVfd2lkdGhbbXNnLmRpc3BsYXlfbmFtZV0gPSB1aS5mb250LmdldFN0cmluZ1dpZHRoKHN0eWxlcy5kZWYsIGZvbnRfaGVpZ2h0LCBtc2cuZGlzcGxheV9uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICghKG1zZy5mbGFncyAmIEZMQUdfRU1PVEUpKSB7XG4gICAgICAgIGlmICghYnJhY2tldF93aWR0aCkge1xuICAgICAgICAgIGJyYWNrZXRfd2lkdGggPSB1aS5mb250LmdldFN0cmluZ1dpZHRoKHN0eWxlcy5kZWYsIGZvbnRfaGVpZ2h0LCAnW10nKTtcbiAgICAgICAgfVxuICAgICAgICBudyArPSBicmFja2V0X3dpZHRoO1xuICAgICAgfVxuICAgICAgdXNlcl9pbmRlbnQgPSBudztcbiAgICAgIGxldCBwb3NfcGFyYW0gPSB7XG4gICAgICAgIHgsIHksIHc6IG1pbihudywgd3JhcF93KSwgaDogZm9udF9oZWlnaHQsIGJ1dHRvbjogMCwgcGVlazogdHJ1ZSxcbiAgICAgICAgejogeiArIDAuNSxcbiAgICAgICAgY29sb3I6IGNvbG9yX3VzZXJfcm9sbG92ZXIsXG4gICAgICB9O1xuICAgICAgaWYgKGlucHV0LmNsaWNrKHBvc19wYXJhbSkpIHtcbiAgICAgICAgZGlkX3VzZXJfY29udGV4dCA9IHRydWU7XG4gICAgICAgIHVzZXJfY29udGV4dF9jYih7XG4gICAgICAgICAgdXNlcl9pZDogbXNnLmlkLCAvLyBOZWVkIGFueSBvdGhlciBtc2cuIHBhcmFtcz9cbiAgICAgICAgICAvLyB4OiBwb3NfcGFyYW0ueCArIHBvc19wYXJhbS53LFxuICAgICAgICAgIC8vIHk6IHBvc19wYXJhbS55LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfbW91c2VvdmVyID0gaW5wdXQubW91c2VPdmVyKHBvc19wYXJhbSk7XG4gICAgICAgIGlmICh1c2VyX21vdXNlb3Zlcikge1xuICAgICAgICAgIHVpLmRyYXdSZWN0Mihwb3NfcGFyYW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjbGljaztcbiAgICBpZiAoaXNfdXJsKSB7XG4gICAgICBjbGljayA9IGxpbmsoeyB4OiB4ICsgdXNlcl9pbmRlbnQsIHksIHc6IHdyYXBfdyAtIHVzZXJfaW5kZW50LCBoLCB1cmw6IGlzX3VybCwgaW50ZXJuYWw6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgbGV0IHN0eWxlID0gc3R5bGVzW21zZy5zdHlsZSB8fCAoaXNfdXJsID8gbW91c2VvdmVyICYmICF1c2VyX21vdXNlb3ZlciA/ICdsaW5rX2hvdmVyJyA6ICdsaW5rJyA6ICdkZWYnKV07XG5cbiAgICAvLyBEcmF3IHRoZSBhY3R1YWwgdGV4dFxuICAgIHVpLmZvbnQuZHJhd1NpemVkV3JhcHBlZChnbG92X2ZvbnQuc3R5bGVBbHBoYShzdHlsZSwgYWxwaGEpLCB4LCB5LCB6ICsgMSwgd3JhcF93LCBJTkRFTlQsIGZvbnRfaGVpZ2h0LCBsaW5lKTtcblxuICAgIGlmIChtb3VzZW92ZXIgJiYgKCFkb19zY3JvbGxfYXJlYSB8fCB5ID4gc2VsZi5zY3JvbGxfYXJlYS5zY3JvbGxfcG9zIC0gZm9udF9oZWlnaHQpICYmXG4gICAgICAvLyBPbmx5IHNob3cgdG9vbHRpcCBmb3IgdXNlciBtZXNzYWdlcyBvciBsaW5rc1xuICAgICAgKCFtc2cuc3R5bGUgfHwgbXNnLnN0eWxlID09PSAnZGVmJyB8fCBpc191cmwpXG4gICAgKSB7XG4gICAgICB1aS5kcmF3VG9vbHRpcCh7XG4gICAgICAgIHgsIHksIHo6IFouVE9PTFRJUCxcbiAgICAgICAgdG9vbHRpcF9hYm92ZTogdHJ1ZSxcbiAgICAgICAgdG9vbHRpcF93aWR0aDogNDUwLFxuICAgICAgICB0b29sdGlwX3BhZDogdWkudG9vbHRpcF9wYWQgKiAwLjUsXG4gICAgICAgIHRvb2x0aXA6IGlzX3VybCAmJiAhdXNlcl9tb3VzZW92ZXIgP1xuICAgICAgICAgIGBDbGljayB0byBvcGVuICR7dXJsX2xhYmVsfWAgOlxuICAgICAgICAgIGBSZWNlaXZlZCR7bXNnLmlkID8gYCBmcm9tIFwiJHttc2cuaWR9XCJgIDogJyd9IGF0ICR7Y29uY2lzZURhdGUobmV3IERhdGUobXNnLnRpbWVzdGFtcCkpfVxcbmAgK1xuICAgICAgICAgICdSaWdodC1jbGljayB0byBjb3B5IG1lc3NhZ2UnICtcbiAgICAgICAgICBgJHsodXNlcl9tb3VzZW92ZXIgPyAnXFxuQ2xpY2sgdG8gdmlldyB1c2VyIGluZm8nIDogJycpfWAsXG4gICAgICAgIHBpeGVsX3NjYWxlOiB1aS50b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlICogMC41LFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByZXZpb3VzbHk6IG1vdXNlRG93bkVkZ2UgYmVjYXVzZSBieSB0aGUgdGltZSB0aGUgVXAgaGFwcGVucywgdGhlIGNoYXQgdGV4dCBtaWdodCBub3QgYmUgaGVyZSBhbnltb3JlXG4gICAgY2xpY2sgPSBjbGljayB8fCBpbnB1dC5jbGljayh7IHgsIHksIHc6IHdyYXBfdywgaCB9KTtcbiAgICBpZiAoZGlkX3VzZXJfY29udGV4dCkge1xuICAgICAgY2xpY2sgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY2xpY2spIHtcbiAgICAgIGlmIChjbGljay5idXR0b24gPT09IDIpIHtcbiAgICAgICAgdWkucHJvdmlkZVVzZXJTdHJpbmcoJ0NoYXQgVGV4dCcsIGlzX3VybCA/ICdVUkwnIDogJ1RleHQnLCBpc191cmwgfHwgbGluZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzX3VybCkge1xuICAgICAgICBzZWxmLmNtZFBhcnNlSW50ZXJuYWwoYHVybCAke3VybF9sYWJlbH1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYW55dGhpbmdfdmlzaWJsZSA9IHRydWU7XG4gIH1cblxuXG4gIGxldCBib3JkZXIgPSA4O1xuICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgaWYgKGRvX3Njcm9sbF9hcmVhKSB7XG4gICAgLy8gd2l0aGluIHNjcm9sbCBhcmVhLCBqdXN0IGRyYXcgdmlzaWJsZSBwYXJ0c1xuICAgIGxldCBzY3JvbGxfaW50ZXJuYWxfaCA9IHRoaXMudG90YWxfbGluZXMgKiBmb250X2hlaWdodDtcbiAgICBsZXQgc2Nyb2xsX2V4dGVybmFsX2ggPSBtaW4odGhpcy5oLCBzY3JvbGxfaW50ZXJuYWxfaCk7XG4gICAgdGhpcy5zY3JvbGxfYXJlYS5iZWdpbih7XG4gICAgICB4LCB5OiB5IC0gc2Nyb2xsX2V4dGVybmFsX2gsIHosXG4gICAgICB3OiB3ICsgOCxcbiAgICAgIGg6IHNjcm9sbF9leHRlcm5hbF9oLFxuICAgICAgZm9jdXNhYmxlX2VsZW06IHRoaXMuZWRpdF90ZXh0X2VudHJ5LFxuICAgICAgYXV0b19oaWRlOiB0aGlzLnRvdGFsX2xpbmVzIDw9IDIsXG4gICAgfSk7XG4gICAgbGV0IHhfc2F2ZSA9IHg7XG4gICAgbGV0IHlfc2F2ZSA9IHk7XG4gICAgeCA9IDA7XG4gICAgeSA9IDA7XG4gICAgbGV0IHlfbWluID0gdGhpcy5zY3JvbGxfYXJlYS5zY3JvbGxfcG9zO1xuICAgIGxldCB5X21heCA9IHlfbWluICsgc2Nyb2xsX2V4dGVybmFsX2g7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubXNncy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBtc2cgPSB0aGlzLm1zZ3NbaWldO1xuICAgICAgbGV0IGggPSBmb250X2hlaWdodCAqIG1zZy5udW1saW5lcztcbiAgICAgIGlmICh5IDw9IHlfbWF4ICYmIHkgKyBoID49IHlfbWluKSB7XG4gICAgICAgIGRyYXdDaGF0TGluZShtc2csIDEpO1xuICAgICAgfVxuICAgICAgeSArPSBoO1xuICAgIH1cbiAgICB0aGlzLnNjcm9sbF9hcmVhLmVuZChzY3JvbGxfaW50ZXJuYWxfaCk7XG4gICAgeCA9IHhfc2F2ZTtcbiAgICB5ID0geV9zYXZlIC0gc2Nyb2xsX2V4dGVybmFsX2g7XG4gICAgLy8gRWF0IG1vdXNlIGV2ZW50cyAobm90IGhhbmRsZWQgYnkgYWJvdmUpIGluIHRoZSBzY3JvbGwgYXJlYSB0byBwcmV2ZW50IHVuZm9jdXNpbmdcbiAgICBpbnB1dC5tb3VzZURvd25FZGdlKHsgeDogY2FtZXJhMmQueDAoKSwgeTogeSAtIGJvcmRlciwgdzogdyArIGJvcmRlciArIDgsIGg6IHkwIC0geSArIGJvcmRlciB9KTtcbiAgICAvLyBCdXQgYSBjbGljayBzaG91bGQgZGlzbWlzcyBpdCAoaW1wb3J0YW50IG9uIGZ1bGxzY3JlZW4gdG91Y2ggVUkhKVxuICAgIGlmIChpbnB1dC5tb3VzZVVwRWRnZSh7IHg6IGNhbWVyYTJkLngwKCksIHk6IHkgLSBib3JkZXIsIHc6IHcgKyBib3JkZXIgKyA4LCBoOiB5MCAtIHkgKyBib3JkZXIsXG4gICAgICBpbl9ldmVudF9jYjogb3B0cy5wb2ludGVybG9jayA/IGlucHV0LnBvaW50ZXJMb2NrRW50ZXIgOiBudWxsIH0pXG4gICAgKSB7XG4gICAgICB1aS5mb2N1c0NhbnZhcygpO1xuICAgICAgaXNfZm9jdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBBbHNvIHByZXZlbnQgbW91c2VvdmVyIGZyb20gZ29pbmcgdG8gYW55dGhpbmcgYmVuZWF0IGl0XG4gICAgaW5wdXQubW91c2VPdmVyKHsgeDogY2FtZXJhMmQueDAoKSwgeTogeSAtIGJvcmRlciwgdzogdyArIGJvcmRlciArIDgsIGg6IHkwIC0geSArIGJvcmRlciB9KTtcbiAgICAvLyBBbHNvIGEgbW91c2UgZG93biBhbnl3aGVyZSBvdXRzaWRlIG9mIHRoZSBjaGF0IFVJIHNob3VsZCBkaXNtaXNzIGl0XG4gICAgaWYgKGlucHV0Lm1vdXNlRG93bkVkZ2UoeyBwZWVrOiB0cnVlIH0pKSB7XG4gICAgICAvLyBPbiB0b3VjaCwgdGFwcGluZyBkb2Vzbid0IGFsd2F5cyByZW1vdmUgZm9jdXMgZnJvbSB0aGUgZWRpdCBib3ghXG4gICAgICAvLyBNYXliZSB0aGlzIGxvZ2ljIHNob3VsZCBiZSBpbiB0aGUgZWRpdGJveCBsb2dpYz9cbiAgICAgIHVpLmZvY3VzQ2FudmFzKCk7XG4gICAgICBpc19mb2N1c2VkID0gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEp1c3QgcmVjZW50IGVudHJpZXMsIGZhZGUgdGhlbSBvdXQgb3ZlciB0aW1lXG4gICAgbGV0IHsgbWF4X2xpbmVzIH0gPSB0aGlzO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm1zZ3MubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgbXNnID0gdGhpcy5tc2dzW3RoaXMubXNncy5sZW5ndGggLSBpaSAtIDFdO1xuICAgICAgbGV0IGFnZSA9IG5vdyAtIG1zZy50aW1lc3RhbXA7XG4gICAgICBsZXQgYWxwaGEgPSAxIC0gY2xhbXAoKGFnZSAtIEZBREVfU1RBUlRfVElNRVtoaWRlX2xpZ2h0XSkgLyBGQURFX1RJTUVbaGlkZV9saWdodF0sIDAsIDEpO1xuICAgICAgaWYgKCFhbHBoYSB8fCBtc2cucXVpZXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsZXQgbnVtbGluZXMgPSBtc2cubnVtbGluZXM7XG4gICAgICBpZiAobnVtbGluZXMgPiBtYXhfbGluZXMgJiYgaWkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBtYXhfbGluZXMgLT0gbnVtbGluZXM7XG4gICAgICBsZXQgaCA9IGZvbnRfaGVpZ2h0ICogbnVtbGluZXM7XG4gICAgICB5IC09IGg7XG4gICAgICBkcmF3Q2hhdExpbmUobXNnLCBhbHBoYSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdHMucG9pbnRlcmxvY2sgJiYgaXNfZm9jdXNlZCAmJiBpbnB1dC5wb2ludGVyTG9ja2VkKCkpIHtcbiAgICAvLyBHYWluZWQgZm9jdXMgdW5kbyBwb2ludGVybG9ja1xuICAgIGlucHV0LnBvaW50ZXJMb2NrRXhpdCgpO1xuICB9XG5cbiAgaWYgKCFhbnl0aGluZ192aXNpYmxlICYmICh1aS5tb2RhbF9kaWFsb2cgfHwgdWkubWVudV91cCB8fCBoaWRlX2xpZ2h0KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB1aS5kcmF3UmVjdChjYW1lcmEyZC54MCgpLCB5IC0gYm9yZGVyLCB4ICsgdyArIGJvcmRlciArIDgsIHkwLCB6LCBbMC4zLDAuMywwLjMsMC43NV0pO1xufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5zZXRDaGFubmVsID0gZnVuY3Rpb24gKGNoYW5uZWwpIHtcbiAgaWYgKGNoYW5uZWwgPT09IHRoaXMuY2hhbm5lbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGhpcy5jaGFubmVsKSB7XG4gICAgaWYgKCFjaGFubmVsKSB7XG4gICAgICB0aGlzLmFkZENoYXQoYExlZnQgY2hhbm5lbCAke3RoaXMuY2hhbm5lbC5jaGFubmVsX2lkfWApO1xuICAgIH1cbiAgICB0aGlzLmNoYW5uZWwucmVtb3ZlTXNnSGFuZGxlcignY2hhdCcsIHRoaXMub25fY2hhdCk7XG4gICAgdGhpcy5jaGFubmVsLnJlbW92ZU1zZ0hhbmRsZXIoJ2pvaW4nLCB0aGlzLm9uX2pvaW4pO1xuICAgIHRoaXMuY2hhbm5lbC5yZW1vdmVNc2dIYW5kbGVyKCdsZWF2ZScsIHRoaXMub25fbGVhdmUpO1xuICB9XG4gIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gIGlmICghdGhpcy5jaGFubmVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGpvaW5pbmcgYSBuZXcgb25lLCBjbGVhciBmaXJzdFxuICB0aGlzLmNsZWFyQ2hhdCgpO1xuICBjaGFubmVsLm9uTXNnKCdjaGF0JywgdGhpcy5vbl9jaGF0KTtcbiAgY2hhbm5lbC5vbk1zZygnam9pbicsIHRoaXMub25fam9pbik7XG4gIGNoYW5uZWwub25Nc2coJ2xlYXZlJywgdGhpcy5vbl9sZWF2ZSk7XG4gIGxldCBjaGF0X2hpc3Rvcnk7XG4gIGxldCBoZXJlO1xuICBsZXQgaGVyZV9tYXAgPSB7fTtcbiAgbGV0IGZyaWVuZHM7XG4gIGFzeW5jUGFyYWxsZWwoW1xuICAgIChuZXh0KSA9PiB7XG4gICAgICBjaGFubmVsLnNlbmQoJ2NoYXRfZ2V0JywgbnVsbCwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIWVyciAmJiBkYXRhICYmIGRhdGEubXNncyAmJiBkYXRhLm1zZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2hhdF9oaXN0b3J5ID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChuZXh0KSA9PiB7XG4gICAgICBjaGFubmVsLm9uY2VTdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IGNsaWVudHMgPSBkYXRhICYmIGRhdGEucHVibGljICYmIGRhdGEucHVibGljLmNsaWVudHM7XG4gICAgICAgIGlmIChjbGllbnRzKSB7XG4gICAgICAgICAgaGVyZSA9IFtdO1xuICAgICAgICAgIGZyaWVuZHMgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBjbGllbnRfaWQgaW4gY2xpZW50cykge1xuICAgICAgICAgICAgbGV0IGNsaWVudCA9IGNsaWVudHNbY2xpZW50X2lkXTtcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gY2xpZW50LmlkcyAmJiBjbGllbnQuaWRzLnVzZXJfaWQ7XG4gICAgICAgICAgICBsZXQgYWxyZWFkeV9pbl9saXN0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodXNlcl9pZCAmJiBjbGllbnQuaWRzLmRpc3BsYXlfbmFtZSkge1xuICAgICAgICAgICAgICBpZiAoaGVyZV9tYXBbdXNlcl9pZF0pIHtcbiAgICAgICAgICAgICAgICBhbHJlYWR5X2luX2xpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlcmVfbWFwW3VzZXJfaWRdID0gY2xpZW50Lmlkcy5kaXNwbGF5X25hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbGllbnRfaWQgPT09IG5ldC5jbGllbnQuaWQgfHwgYWxyZWFkeV9pbl9saXN0KSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaWVudC5pZHMpIHtcbiAgICAgICAgICAgICAgaWYgKHVzZXJfaWQgJiYgaXNGcmllbmQodXNlcl9pZCkpIHtcbiAgICAgICAgICAgICAgICBmcmllbmRzLnB1c2goY2xpZW50Lmlkcy5kaXNwbGF5X25hbWUgfHwgdXNlcl9pZCB8fCBjbGllbnRfaWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlcmUucHVzaChjbGllbnQuaWRzLmRpc3BsYXlfbmFtZSB8fCB1c2VyX2lkIHx8IGNsaWVudF9pZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgXSwgKCkgPT4ge1xuICAgIGlmICghdGhpcy5jaGFubmVsKSB7XG4gICAgICAvLyBkaXNjb25uZWN0ZWQvbGVmdCBhbHJlYWR5XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEZpcnN0IGRpc3BsYXkgY2hhdCBoaXN0b3J5XG4gICAgaWYgKGNoYXRfaGlzdG9yeSkge1xuICAgICAgbGV0IG1lc3NhZ2VzX3ByZSA9IHRoaXMubXNncy5zbGljZSgwKTtcbiAgICAgIGlmIChtZXNzYWdlc19wcmUubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubXNncyA9IFtdO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGNoYXRfaGlzdG9yeS5tc2dzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgaWR4ID0gKGNoYXRfaGlzdG9yeS5pZHggKyBpaSkgJSBjaGF0X2hpc3RvcnkubXNncy5sZW5ndGg7XG4gICAgICAgIGxldCBlbGVtID0gY2hhdF9oaXN0b3J5Lm1zZ3NbaWR4XTtcbiAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5tc2cpIHtcbiAgICAgICAgICBlbGVtLnF1aWV0ID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoaGVyZV9tYXBbZWxlbS5pZF0pIHtcbiAgICAgICAgICAgIGVsZW0uZGlzcGxheV9uYW1lID0gaGVyZV9tYXBbZWxlbS5pZF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub25Nc2dDaGF0KGVsZW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVzc2FnZXNfcHJlLmxlbmd0aCkge1xuICAgICAgICAvLyBTb3J0IHRoZSBoaXN0b3J5IHNvIGl0IGlzIGJlZm9yZSBhbnkgb3RoZXIgbWVzc2FnZXMgcmVjZWl2ZWQgaW4gdGhlIG1lYW50aW1lXG4gICAgICAgIHRoaXMubXNncyA9IHRoaXMubXNncy5jb25jYXQobWVzc2FnZXNfcHJlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGVuIGpvaW4gbWVzc2FnZVxuICAgIHRoaXMuYWRkQ2hhdChgSm9pbmVkIGNoYW5uZWwgJHt0aGlzLmNoYW5uZWwuY2hhbm5lbF9pZH1gLCAnam9pbl9sZWF2ZScpO1xuICAgIC8vIFRoZW4gd2hvJ3MgaGVyZSBub3dcbiAgICBpZiAoaGVyZSAmJiBoZXJlLmxlbmd0aCB8fCBmcmllbmRzICYmIGZyaWVuZHMubGVuZ3RoKSB7XG4gICAgICBsZXQgbXNnID0gW107XG4gICAgICBpZiAoaGVyZS5sZW5ndGgpIHtcbiAgICAgICAgbXNnLnB1c2goYE90aGVyIHVzZXJzIGFscmVhZHkgaGVyZTogJHtoZXJlLmpvaW4oJywgJyl9YCk7XG4gICAgICB9XG4gICAgICBpZiAoZnJpZW5kcy5sZW5ndGgpIHtcbiAgICAgICAgbXNnLnB1c2goYEZyaWVuZHMgYWxyZWFkeSBoZXJlOiAke2ZyaWVuZHMuam9pbignLCAnKX1gKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRkQ2hhdEZpbHRlcmVkKHtcbiAgICAgICAgbXNnOiBtc2cuam9pbignXFxuJyksXG4gICAgICAgIHN0eWxlOiAnam9pbl9sZWF2ZScsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwYXJhbXMpIHtcbiAgcHJvZmFuaXR5U3RhcnR1cCgpO1xuICBsZXQgY2hhdF91aSA9IG5ldyBDaGF0VUkocGFyYW1zKTtcbiAgZnVuY3Rpb24gZW1vdGUoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBpZiAoIXN0cikge1xuICAgICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKG51bGwsICdVc2FnZTogL21lIGRvZXMgc29tZXRoaW5nLicpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuZW1vdGVfY2IpIHtcbiAgICAgIHBhcmFtcy5lbW90ZV9jYihzdHIpO1xuICAgIH1cblxuICAgIGNoYXRfdWkuc2VuZENoYXQoRkxBR19FTU9URSwgc3RyKTtcbiAgfVxuICBjbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZSgndm9sdW1lX2NoYXRfam9pbmxlYXZlJywge1xuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0ZMT0FULFxuICAgIGxhYmVsOiAnSm9pbi9MZWF2ZSBjaGF0IG1lc3NhZ2Ugdm9sdW1lJyxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgZ2V0OiAoKSA9PiBjaGF0X3VpLnZvbHVtZV9qb2luX2xlYXZlLFxuICAgIHNldDogKHYpID0+IChjaGF0X3VpLnZvbHVtZV9qb2luX2xlYXZlID0gdiksXG4gICAgc3RvcmU6IHRydWUsXG4gIH0pO1xuICBjbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZSgndm9sdW1lX2NoYXRfaW4nLCB7XG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgbGFiZWw6ICdJbmNvbWluZyBjaGF0IG1lc3NhZ2Ugdm9sdW1lJyxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgZ2V0OiAoKSA9PiBjaGF0X3VpLnZvbHVtZV9pbixcbiAgICBzZXQ6ICh2KSA9PiAoY2hhdF91aS52b2x1bWVfaW4gPSB2KSxcbiAgICBzdG9yZTogdHJ1ZSxcbiAgfSk7XG4gIGNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCd2b2x1bWVfY2hhdF9vdXQnLCB7XG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgbGFiZWw6ICdPdXRnb2luZyBjaGF0IG1lc3NhZ2Ugdm9sdW1lJyxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgZ2V0OiAoKSA9PiBjaGF0X3VpLnZvbHVtZV9vdXQsXG4gICAgc2V0OiAodikgPT4gKGNoYXRfdWkudm9sdW1lX291dCA9IHYpLFxuICAgIHN0b3JlOiB0cnVlLFxuICB9KTtcbiAgY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgICBjbWQ6ICdtZScsXG4gICAgaGVscDogJ0Vtb3RlJyxcbiAgICB1c2FnZTogJ0Vtb3RlXFxuICBFeGFtcGxlOiAvbWUganVtcHMgdXAgYW5kIGRvd24hJyxcbiAgICBmdW5jOiBlbW90ZSxcbiAgfSk7XG4gIC8vIEFsc28gYWxpYXMgL2VtXG4gIGNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gICAgYWNjZXNzX3Nob3c6IFsnaGlkZGVuJ10sXG4gICAgY21kOiAnZW0nLFxuICAgIGZ1bmM6IGVtb3RlLFxuICB9KTtcbiAgY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgICBjbWQ6ICdlY2hvJyxcbiAgICBoZWxwOiAnRWNobyB0ZXh0IGxvY2FsbHknLFxuICAgIGZ1bmM6IChzdHIsIHJlc3BfZnVuYykgPT4ge1xuICAgICAgY2hhdF91aS5hZGRDaGF0RmlsdGVyZWQoeyBtc2c6IHN0ciB9KTtcbiAgICAgIHJlc3BfZnVuYygpO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gY2hhdF91aTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGNtZF9wYXJzZV9tb2QgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vY21kX3BhcnNlLmpzJyk7XG5jb25zdCBsb2NhbF9zdG9yYWdlID0gcmVxdWlyZSgnLi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5leHBvcnQgbGV0IGNtZF9wYXJzZSA9IGNtZF9wYXJzZV9tb2QuY3JlYXRlKHsgc3RvcmFnZTogbG9jYWxfc3RvcmFnZSB9KTtcblxuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJy4vbmV0LmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcblxud2luZG93LmNtZCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgY21kX3BhcnNlLmhhbmRsZShudWxsLCBzdHIsIGNtZF9wYXJzZV9tb2QuZGVmYXVsdEhhbmRsZXIpO1xufTtcblxuZnVuY3Rpb24gYnl0ZUZvcm1hdChieXRlcykge1xuICBpZiAoYnl0ZXMgPiA4NTAwMDApIHtcbiAgICByZXR1cm4gYCR7KGJ5dGVzLygxMDI0KjEwMjQpKS50b0ZpeGVkKDIpfU1CYDtcbiAgfVxuICBpZiAoYnl0ZXMgPiA4NTApIHtcbiAgICByZXR1cm4gYCR7KGJ5dGVzLzEwMjQpLnRvRml4ZWQoMil9S0JgO1xuICB9XG4gIHJldHVybiBgJHtieXRlc31CYDtcbn1cblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAndGV4bWVtJyxcbiAgaGVscDogJ0Rpc3BsYXlzIHRleHR1cmUgbWVtb3J5IHVzYWdlJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh0ZXh0dXJlcy50ZXh0dXJlcyk7XG4gICAga2V5cyA9IGtleXMuZmlsdGVyKChhKSA9PiB0ZXh0dXJlcy50ZXh0dXJlc1thXS5ncHVfbWVtID4gMTAyNCk7XG4gICAga2V5cy5zb3J0KChhLCBiKSA9PiB0ZXh0dXJlcy50ZXh0dXJlc1thXS5ncHVfbWVtIC0gdGV4dHVyZXMudGV4dHVyZXNbYl0uZ3B1X21lbSk7XG4gICAgcmVzcF9mdW5jKG51bGwsIGtleXMubWFwKChhKSA9PiBgJHtieXRlRm9ybWF0KHRleHR1cmVzLnRleHR1cmVzW2FdLmdwdV9tZW0pfSAke2F9YCkuam9pbignXFxuJykpO1xuICB9XG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZ3B1bWVtJyxcbiAgaGVscDogJ0Rpc3BsYXlzIEdQVSBtZW1vcnkgdXNhZ2Ugc3VtbWFyeScsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIGxldCB7IGdwdV9tZW0gfSA9IGVuZ2luZS5wZXJmX3N0YXRlO1xuICAgIHJlc3BfZnVuYyhudWxsLCBgJHtieXRlRm9ybWF0KGdwdV9tZW0uZ2VvbSl9IEdlb1xcbiR7Ynl0ZUZvcm1hdChncHVfbWVtLnRleCl9IFRleFxcbiR7XG4gICAgICBieXRlRm9ybWF0KGdwdV9tZW0uZ2VvbSArIGdwdV9tZW0udGV4KX0gVG90YWxgKTtcbiAgfVxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2QnLFxuICBoZWxwOiAnVG9nZ2xlcyBhIGRlYnVnIGRlZmluZScsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIGVuZ2luZS5kZWZpbmVzW3N0cl0gPSAhZW5naW5lLmRlZmluZXNbc3RyXTtcbiAgICByZXNwX2Z1bmMobnVsbCwgYEQ9JHtzdHJ9IG5vdyAke2VuZ2luZS5kZWZpbmVzW3N0cl0/J1NFVCc6J3Vuc2V0J31gKTtcbiAgICBlbmdpbmUuZGVmaW5lc0NoYW5nZWQoKTtcbiAgfVxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ3JlbmRlcmVyJyxcbiAgaGVscDogJ0Rpc3BsYXlzIGN1cnJlbnQgcmVuZGVyZXInLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICByZXNwX2Z1bmMobnVsbCwgYFJlbmRlcmVyPVdlYkdMJHtlbmdpbmUud2ViZ2wyPzI6MX1gKTtcbiAgfVxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2NzcicsXG4gIGFjY2Vzc19ydW46IFsnc3lzYWRtaW4nXSxcbiAgaGVscDogJyhBZG1pbikgUnVuIGEgY29tbWFuZCBhcyBhbm90aGVyIHVzZXInLFxuICB1c2FnZTogJy9jc3IgVXNlcklEIGNvbW1hbmRcXG4nICtcbiAgICAnRXhhbXBsZTogL2NzciBqaW1ibHkgZ2VtcyAtMTAwJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgbGV0IGlkeCA9IHN0ci5pbmRleE9mKCcgJyk7XG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB2b2lkIHJlc3BfZnVuYygnSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzJyk7XG4gICAgfVxuICAgIGxldCB1c2VyX2lkID0gc3RyLnNsaWNlKDAsIGlkeCk7XG4gICAgbGV0IGNtZCA9IHN0ci5zbGljZShpZHggKyAxKTtcbiAgICBsZXQgcGFrID0gbmV0LnN1YnMuZ2V0Q2hhbm5lbEltbWVkaWF0ZShgdXNlci4ke3VzZXJfaWR9YCkucGFrKCdjc3JfYWRtaW5fdG9fdXNlcicpO1xuICAgIHBhay53cml0ZVN0cmluZyhjbWQpO1xuICAgIHBhay5zZW5kKHJlc3BfZnVuYyk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjbWREZXNjKGNtZF9kYXRhKSB7XG4gIHJldHVybiBgLyR7Y21kX2RhdGEuY21kfSAtICR7Y21kX2RhdGEuaGVscH1gO1xufVxuXG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICdoZWxwJyxcbiAgaGVscDogJ1NlYXJjaGVzIGNvbW1hbmRzJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgbGV0IGxpc3QgPSBjbWRfcGFyc2UuYXV0b0NvbXBsZXRlKCcnLCB0aGlzICYmIHRoaXMuYWNjZXNzKTtcbiAgICBpZiAoc3RyKSB7XG4gICAgICBsZXQgc3RyX2NuYW1lID0gY21kX3BhcnNlLmNhbm9uaWNhbChzdHIpO1xuICAgICAgbGV0IHN0cl9sYyA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGlzdCA9IGxpc3QuZmlsdGVyKChjbWRfZGF0YSkgPT4gY21kX2RhdGEuY25hbWUuaW5kZXhPZihzdHJfY25hbWUpICE9PSAtMSB8fFxuICAgICAgICAgIGNtZF9kYXRhLmhlbHAudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cl9sYykgIT09IC0xKTtcbiAgICB9XG4gICAgaWYgKCFsaXN0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKG51bGwsIGBObyBjb21tYW5kcyBmb3VuZCBtYXRjaGluZyBcIiR7c3RyfVwiYCk7XG4gICAgfVxuICAgIHJlc3BfZnVuYyhudWxsLCBsaXN0Lm1hcChjbWREZXNjKS5qb2luKCdcXG4nKSk7XG4gIH1cbn0pO1xuXG5leHBvcnQgbGV0IHNhZmVhcmVhID0gWy0xLC0xLC0xLC0xXTtcbmNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCdzYWZlX2FyZWEnLCB7XG4gIGxhYmVsOiAnU2FmZSBBcmVhJyxcbiAgdHlwZTogY21kX3BhcnNlLlRZUEVfU1RSSU5HLFxuICB1c2FnZTogJ1NhZmUgQXJlYSB2YWx1ZTogVXNlIC0xIGZvciBhdXRvIGJhc2VkIG9uIGJyb3dzZXIgZW52aXJvbm1lbnQsXFxuJyArXG4gICAgJ29yIDAtMjUgZm9yIHBlcmNlbnRhZ2Ugb2Ygc2NyZWVuIHNpemVcXG4nICtcbiAgICAnICBVc2FnZTogL3NhZmVfYXJlYSBbdmFsdWVdXFxuJyArXG4gICAgJyAgVXNhZ2U6IC9zYWZlX2FyZWEgaG9yaXpvbnRhbCx2ZXJ0aWNhbFxcbicgK1xuICAgICcgIFVzYWdlOiAvc2FmZV9hcmVhIGxlZnQscmlnaHQsdG9wLGJvdHRvbScsXG4gIGRlZmF1bHRfdmFsdWU6ICctMScsXG4gIGdldDogKCkgPT4gKHNhZmVhcmVhWzBdID09PSAtMSA/ICctMSAoYXV0byknIDogc2FmZWFyZWEuam9pbignLCcpKSxcbiAgc2V0OiAodikgPT4ge1xuICAgIHYgPSBTdHJpbmcodik7XG4gICAgbGV0IGtleXMgPSB2LnNwbGl0KCcsJyk7XG4gICAgaWYgKHYgJiYga2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHNhZmVhcmVhWzBdID0gc2FmZWFyZWFbMV0gPSBzYWZlYXJlYVsyXSA9IHNhZmVhcmVhWzNdID0gTnVtYmVyKHYpO1xuICAgIH0gZWxzZSBpZiAoa2V5cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHNhZmVhcmVhWzBdID0gc2FmZWFyZWFbMV0gPSBOdW1iZXIoa2V5c1swXSk7XG4gICAgICBzYWZlYXJlYVsyXSA9IHNhZmVhcmVhWzNdID0gTnVtYmVyKGtleXNbMV0pO1xuICAgIH0gZWxzZSBpZiAoa2V5cy5sZW5ndGggPT09IDQpIHtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCA0OyArK2lpKSB7XG4gICAgICAgIHNhZmVhcmVhW2lpXSA9IE51bWJlcihrZXlzW2lpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVycm9yLCBpZ25vcmU/XG4gICAgfVxuICB9LFxuICBzdG9yZTogdHJ1ZSxcbn0pO1xuXG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICd3ZWJnbDJfYXV0bycsXG4gIGhlbHA6ICdSZXNldHMgV2ViR0wyIGF1dG8tZGV0ZWN0aW9uJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgbGV0IGRpc2FibGVfZGF0YSA9IGxvY2FsX3N0b3JhZ2UuZ2V0SlNPTignd2ViZ2wyX2Rpc2FibGUnKTtcbiAgICBpZiAoIWRpc2FibGVfZGF0YSkge1xuICAgICAgcmV0dXJuIHJlc3BfZnVuYyhudWxsLCAnV2ViR0wyIGlzIGFscmVhZHkgYmVpbmcgYXV0by1kZXRlY3RlZCcpO1xuICAgIH1cbiAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3dlYmdsMl9kaXNhYmxlJywgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gcmVzcF9mdW5jKG51bGwsICdXZWJHTDIgd2FzIGRpc2FibGVkLCB3aWxsIGF0dGVtcHQgdG8gdXNlIGl0IGFnYWluIG9uIHRoZSBuZXh0IGxvYWQnKTtcbiAgfSxcbn0pO1xuXG5jbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZSgncG9zdHByb2Nlc3NpbmcnLCB7XG4gIGxhYmVsOiAnUG9zdHByb2Nlc3NpbmcnLFxuICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gIGhlbHA6ICdFbmFibGVzL2Rpc2FibGVzIHBvc3Rwcm9jZXNzaW5nJyxcbiAgZ2V0OiAoKSA9PiAoZW5naW5lLnBvc3Rwcm9jZXNzaW5nID8gMSA6IDApLFxuICBzZXQ6ICh2KSA9PiBlbmdpbmUucG9zdHByb2Nlc3NpbmdBbGxvdyh2KSxcbn0pO1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgZ2xvdl9pbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IGdsb3ZfdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5cbmNvbnN0IHsgZm9jdXNsb2cgfSA9IGdsb3ZfdWk7XG5cbmNsYXNzIEdsb3ZVSUVkaXRCb3gge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICB0aGlzLnggPSAwO1xuICAgIHRoaXMueSA9IDA7XG4gICAgdGhpcy56ID0gWi5VSTsgLy8gYWN0dWFsbHkgaW4gRE9NLCBzbyBhYm92ZSBldmVyeXRoaW5nIVxuICAgIHRoaXMudyA9IGdsb3ZfdWkuYnV0dG9uX3dpZHRoO1xuICAgIHRoaXMudHlwZSA9ICd0ZXh0JztcbiAgICB0aGlzLmFsbG93X21vZGFsID0gZmFsc2U7XG4gICAgLy8gdGhpcy5oID0gZ2xvdl91aS5idXR0b25faGVpZ2h0O1xuICAgIHRoaXMuZm9udF9oZWlnaHQgPSBnbG92X3VpLmZvbnRfaGVpZ2h0O1xuICAgIHRoaXMudGV4dCA9ICcnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIgPSAnJztcbiAgICB0aGlzLm1heF9sZW4gPSAwO1xuICAgIHRoaXMuemluZGV4ID0gbnVsbDtcbiAgICB0aGlzLmluaXRpYWxfZm9jdXMgPSBmYWxzZTtcbiAgICB0aGlzLm9uZXRpbWVfZm9jdXMgPSBmYWxzZTtcbiAgICB0aGlzLmF1dG9fdW5mb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuaW5pdGlhbF9zZWxlY3QgPSBmYWxzZTtcbiAgICB0aGlzLnNwZWxsY2hlY2sgPSB0cnVlO1xuICAgIHRoaXMuZXNjX2NsZWFycyA9IHRydWU7XG4gICAgdGhpcy5tdWx0aWxpbmUgPSAwO1xuICAgIHRoaXMuYXBwbHlQYXJhbXMocGFyYW1zKTtcblxuICAgIHRoaXMuaXNfZm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZWxlbSA9IG51bGw7XG4gICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnBvaW50ZXJfbG9jayA9IGZhbHNlO1xuICAgIHRoaXMubGFzdF9mcmFtZSA9IDA7XG4gIH1cbiAgYXBwbHlQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgZiBpbiBwYXJhbXMpIHtcbiAgICAgIHRoaXNbZl0gPSBwYXJhbXNbZl07XG4gICAgfVxuICB9XG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgfVxuICBzZXRUZXh0KG5ld190ZXh0KSB7XG4gICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBuZXdfdGV4dDtcbiAgICB9XG4gICAgdGhpcy50ZXh0ID0gbmV3X3RleHQ7XG4gIH1cbiAgZm9jdXMoKSB7XG4gICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbmV0aW1lX2ZvY3VzID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2xvdl91aS5mb2N1c1N0ZWFsKHRoaXMpO1xuICAgIHRoaXMuaXNfZm9jdXNlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMucG9pbnRlcl9sb2NrICYmIGdsb3ZfaW5wdXQucG9pbnRlckxvY2tlZCgpKSB7XG4gICAgICBnbG92X2lucHV0LnBvaW50ZXJMb2NrRXhpdCgpO1xuICAgIH1cbiAgfVxuICB1bmZvY3VzKCkge1xuICAgIGdsb3ZfdWkuZm9jdXNOZXh0KHRoaXMpO1xuICB9XG4gIGlzRm9jdXNlZCgpIHsgLy8gY2FsbCBhZnRlciAucnVuKClcbiAgICByZXR1cm4gdGhpcy5pc19mb2N1c2VkO1xuICB9XG5cbiAgdXBkYXRlRm9jdXMoKSB7XG4gICAgbGV0IHdhc19nbG92X2ZvY3VzZWQgPSB0aGlzLmlzX2ZvY3VzZWQ7XG4gICAgbGV0IGdsb3ZfZm9jdXNlZCA9IGdsb3ZfdWkuZm9jdXNDaGVjayh0aGlzKTtcbiAgICBsZXQgZG9tX2ZvY3VzZWQgPSB0aGlzLmlucHV0ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuaW5wdXQ7XG4gICAgaWYgKHdhc19nbG92X2ZvY3VzZWQgIT09IGdsb3ZfZm9jdXNlZCkge1xuICAgICAgLy8gc29tZXRoaW5nIGV4dGVybmFsIChmcm9tIGNsaWNrcy9rZXlzIGluIEdMT1YpIGNoYW5nZWQsIGFwcGx5IGl0IGlmIGl0IGRvZXNuJ3QgbWF0Y2hcbiAgICAgIGlmIChnbG92X2ZvY3VzZWQgJiYgIWRvbV9mb2N1c2VkICYmIHRoaXMuaW5wdXQpIHtcbiAgICAgICAgZm9jdXNsb2coJ0dMT1YgZm9jdXNlZCwgRE9NIG5vdCwgZm9jdXNpbmcnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKCFnbG92X2ZvY3VzZWQgJiYgZG9tX2ZvY3VzZWQpIHtcbiAgICAgICAgZm9jdXNsb2coJ0RPTSBmb2N1c2VkLCBHTE9WIG5vdCwgYW5kIGNoYW5nZWQsIGJsdXJyaW5nJywgdGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9tX2ZvY3VzZWQgJiYgIWdsb3ZfZm9jdXNlZCkge1xuICAgICAgZm9jdXNsb2coJ0RPTSBmb2N1c2VkLCBHTE9WIG5vdCwgc3RlYWxpbmcnLCB0aGlzKTtcbiAgICAgIGdsb3ZfdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgIGdsb3ZfZm9jdXNlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghZG9tX2ZvY3VzZWQgJiYgZ2xvdl9mb2N1c2VkKSB7XG4gICAgICAvLyBMZWF2ZSBpdCBhbG9uZSwgaXQgbWF5IGJlIGEgYnJvd3NlciBwb3AtdXAgc3VjaCBhcyBmb3IgcGFzc3dvcmRzXG4gICAgfVxuICAgIGxldCBmb2N1c2VkID0gZ2xvdl9mb2N1c2VkO1xuXG4gICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgIGxldCBrZXlfb3B0ID0gKHRoaXMucG9pbnRlcl9sb2NrICYmICF0aGlzLnRleHQpID8geyBpbl9ldmVudF9jYjogZ2xvdl9pbnB1dC5wb2ludGVyTG9ja0VudGVyIH0gOiBudWxsO1xuICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5VXBFZGdlKGdsb3ZfaW5wdXQuS0VZUy5FU0MsIGtleV9vcHQpKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHQgJiYgdGhpcy5lc2NfY2xlYXJzKSB7XG4gICAgICAgICAgdGhpcy5zZXRUZXh0KCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnbG92X3VpLmZvY3VzQ2FudmFzKCk7XG4gICAgICAgICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5jYW5jZWxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pc19mb2N1c2VkID0gZm9jdXNlZDtcbiAgICByZXR1cm4gZm9jdXNlZDtcbiAgfVxuXG4gIHJ1bihwYXJhbXMpIHtcbiAgICB0aGlzLmFwcGx5UGFyYW1zKHBhcmFtcyk7XG5cbiAgICBpZiAodGhpcy5sYXN0X2ZyYW1lICE9PSBlbmdpbmUuZnJhbWVfaW5kZXggLSAxKSB7XG4gICAgICAvLyBpdCdzIGJlZW4gbW9yZSB0aGFuIGEgZnJhbWUsIHdlIG11c3QgaGF2ZSBub3QgYmVlbiBydW5uaW5nLCBkaXNjYXJkIGFzeW5jIGV2ZW50c1xuICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5sYXN0X2ZyYW1lID0gZW5naW5lLmZyYW1lX2luZGV4O1xuXG4gICAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlO1xuICAgIGxldCBmb2N1c2VkID0gdGhpcy51cGRhdGVGb2N1cygpO1xuXG4gICAgZ2xvdl91aS50aGlzX2ZyYW1lX2VkaXRfYm94ZXMucHVzaCh0aGlzKTtcbiAgICBsZXQgZWxlbSA9IGdsb3ZfdWkuZ2V0RWxlbSh0aGlzLmFsbG93X21vZGFsLCB0aGlzLmVsZW0pO1xuICAgIGlmIChlbGVtICE9PSB0aGlzLmVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIC8vIG5ldyBET00gZWxlbWVudCwgaW5pdGlhbGl6ZVxuICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMubXVsdGlsaW5lID8gJ3RleHRhcmVhJyA6ICdpbnB1dCcpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsIGBhdXRvX29mZl8ke01hdGgucmFuZG9tKCl9YCk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHRoaXMudHlwZSk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB0aGlzLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgaWYgKHRoaXMubWF4X2xlbikge1xuICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbWF4TGVuZ3RoJywgdGhpcy5tYXhfbGVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tdWx0aWxpbmUpIHtcbiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3Jvd3MnLCB0aGlzLm11bHRpbGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDIpO1xuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldikgPT4ge1xuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMudGV4dCA9IHRoaXMuaW5wdXQudmFsdWU7XG4gICAgICAgICAgaWYgKHRoaXMucG9pbnRlcl9sb2NrICYmICF0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIGdsb3ZfaW5wdXQucG9pbnRlckxvY2tFbnRlcignZWRpdF9ib3hfc3VibWl0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAzKTtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbF9mb2N1cyB8fCB0aGlzLm9uZXRpbWVfZm9jdXMpIHtcbiAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgIHRoaXMub25ldGltZV9mb2N1cyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxfc2VsZWN0KSB7XG4gICAgICAgICAgaW5wdXQuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWxlbSA9IGVsZW07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmlucHV0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMuaW5wdXQudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbGVtKSB7XG4gICAgICBsZXQgcG9zID0gY2FtZXJhMmQuaHRtbFBvcyh0aGlzLngsIHRoaXMueSk7XG4gICAgICBpZiAoIXRoaXMuc3BlbGxjaGVjaykge1xuICAgICAgICBlbGVtLnNwZWxsY2hlY2sgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsZW0uc3R5bGUubGVmdCA9IGAke3Bvc1swXX0lYDtcbiAgICAgIGVsZW0uc3R5bGUudG9wID0gYCR7cG9zWzFdfSVgO1xuICAgICAgbGV0IHNpemUgPSBjYW1lcmEyZC5odG1sU2l6ZSh0aGlzLncsIDApO1xuICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IGAke3NpemVbMF19JWA7XG4gICAgICBsZXQgb2xkX2ZvbnRzaXplID0gZWxlbS5zdHlsZS5mb250U2l6ZSB8fCAnP3B4JztcbiAgICAgIGxldCBuZXdfZm9udHNpemUgPSBgJHtjYW1lcmEyZC52aXJ0dWFsVG9Gb250U2l6ZSh0aGlzLmZvbnRfaGVpZ2h0KS50b0ZpeGVkKDApfXB4YDtcbiAgICAgIGlmIChuZXdfZm9udHNpemUgIT09IG9sZF9mb250c2l6ZSkge1xuICAgICAgICBlbGVtLnN0eWxlLmZvbnRTaXplID0gbmV3X2ZvbnRzaXplO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuemluZGV4KSB7XG4gICAgICAgIGVsZW0uc3R5bGVbJ3otaW5kZXgnXSA9IHRoaXMuemluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmb2N1c2VkKSB7XG4gICAgICBpZiAodGhpcy5hdXRvX3VuZm9jdXMpIHtcbiAgICAgICAgaWYgKGdsb3ZfaW5wdXQuY2xpY2soeyBwZWVrOiB0cnVlIH0pKSB7XG4gICAgICAgICAgZ2xvdl91aS5mb2N1c1N0ZWFsKCdjYW52YXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8ga2V5Ym9hcmQgaW5wdXQgaXMgaGFuZGxlZCBieSB0aGUgSU5QVVQgZWxlbWVudCwgYnV0IGFsbG93IG1vdXNlIGV2ZW50cyB0byB0cmlja2xlXG4gICAgICBnbG92X2lucHV0LmVhdEFsbEtleWJvYXJkSW5wdXQoKTtcbiAgICB9XG4gICAgLy8gRWF0IG1vdXNlIGV2ZW50cyBnb2luZyB0byB0aGUgZWRpdCBib3hcbiAgICBnbG92X2lucHV0Lm1vdXNlQ29uc3VtZUNsaWNrcyh7IHg6IHRoaXMueCwgeTogdGhpcy55LCB3OiB0aGlzLncsIGg6IHRoaXMuZm9udF9oZWlnaHQgfSk7XG5cbiAgICBpZiAodGhpcy5zdWJtaXR0ZWQpIHtcbiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5TVUJNSVQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbmNlbGVkKSB7XG4gICAgICB0aGlzLmNhbmNlbGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5DQU5DRUw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHVucnVuKCkge1xuICAgIC8vIHJlbW92ZSBmcm9tIERPTSBvciBoaWRlXG4gICAgdGhpcy5lbGVtID0gbnVsbDtcbiAgICB0aGlzLmlucHV0ID0gbnVsbDtcbiAgfVxufVxuR2xvdlVJRWRpdEJveC5wcm90b3R5cGUuU1VCTUlUID0gJ3N1Ym1pdCc7XG5HbG92VUlFZGl0Qm94LnByb3RvdHlwZS5DQU5DRUwgPSAnY2FuY2VsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBHbG92VUlFZGl0Qm94KHBhcmFtcyk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gU29tZSBjb2RlIGZyb20gVHVyYnVsZW56OiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMyBUdXJidWxlbnogTGltaXRlZFxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgcmVuZGVyV2lkdGgsIHJlbmRlckhlaWdodCB9ID0gZW5naW5lO1xuY29uc3QgeyBmcmFtZWJ1ZmZlckVuZCwgZnJhbWVidWZmZXJTdGFydCwgZnJhbWVidWZmZXJUb3BPZkZyYW1lIH0gPSByZXF1aXJlKCcuL2ZyYW1lYnVmZmVyLmpzJyk7XG5jb25zdCBnZW9tID0gcmVxdWlyZSgnLi9nZW9tLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgdmVjMiwgdmVjMywgdmVjNCwgdjRzZXQgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3Qgc2hhZGVyX2RhdGEgPSB7XG4gIHZwX2NvcHk6IHtcbiAgICB2cDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2NvcHkudnAnLFxuICB9LFxuICBjb3B5OiB7XG4gICAgZnA6ICdnbG92L3NoYWRlcnMvZWZmZWN0c19jb3B5LmZwJyxcbiAgfSxcbiAgcGl4ZWx5X2V4cGFuZDoge1xuICAgIGZwOiAnZ2xvdi9zaGFkZXJzL3BpeGVseV9leHBhbmQuZnAnLFxuICB9LFxuICBnYXVzc2lhbl9ibHVyOiB7XG4gICAgZnA6ICdnbG92L3NoYWRlcnMvZWZmZWN0c19nYXVzc2lhbl9ibHVyLmZwJyxcbiAgfSxcbiAgLy8gYmxvb21fbWVyZ2U6IHtcbiAgLy8gICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2Jsb29tX21lcmdlLmZwJyxcbiAgLy8gfSxcbiAgLy8gYmxvb21fdGhyZXNob2xkOiB7XG4gIC8vICAgZnA6ICdnbG92L3NoYWRlcnMvZWZmZWN0c19ibG9vbV90aHJlc2hvbGQuZnAnLFxuICAvLyB9LFxuICBjb2xvcl9tYXRyaXg6IHtcbiAgICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2NvbG9yX21hdHJpeC5mcCcsXG4gIH0sXG4gIC8vIGRpc3RvcnQ6IHtcbiAgLy8gICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2Rpc3RvcnQuZnAnLFxuICAvLyB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyU2hhZGVyKGtleSwgb2JqKSB7XG4gIHNoYWRlcl9kYXRhW2tleV0gPSBvYmo7XG59XG5cbmZ1bmN0aW9uIGdldFNoYWRlcihrZXkpIHtcbiAgbGV0IGVsZW0gPSBzaGFkZXJfZGF0YVtrZXldO1xuICBpZiAoIWVsZW0uc2hhZGVyKSB7XG4gICAgaWYgKGVsZW0uZnApIHtcbiAgICAgIGVsZW0uc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoZWxlbS5mcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoZWxlbS52cCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbGVtLnNoYWRlcjtcbn1cblxuXG5sZXQgaW5pdGVkID0gZmFsc2U7XG5sZXQgY2xpcF9zcGFjZSA9IHZlYzQoMiwgMiwgLTEsIC0xKTtcbmxldCBjb3B5X3V2X3NjYWxlID0gdmVjMigxLCAxKTtcbmxldCBzaGFkZXJfcGFyYW1zX2RlZmF1bHQgPSB7XG4gIGNsaXBfc3BhY2UsXG4gIGNvcHlfdXZfc2NhbGUsXG59O1xuLy8gbGV0IHNoYWRlcl9wYXJhbXNfZGlzdG9ydDtcbmxldCBzaGFkZXJfcGFyYW1zX2NvbG9yX21hdHJpeDtcbi8vIGxldCBzaGFkZXJfcGFyYW1zX2Jsb29tO1xuLy8gbGV0IHNoYWRlcl9wYXJhbXNfYmxvb21fbWVyZ2U7XG5sZXQgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyO1xubGV0IHNoYWRlcl9wYXJhbXNfcGl4ZWx5X2V4cGFuZDtcbmxldCBxdWFkX2dlb207XG5mdW5jdGlvbiBzdGFydHVwKCkge1xuICBpbml0ZWQgPSB0cnVlO1xuXG4gIHF1YWRfZ2VvbSA9IGdlb20uY3JlYXRlKFxuICAgIFtbc2hhZGVycy5zZW1hbnRpYy5QT1NJVElPTiwgZ2wuRkxPQVQsIDIsIGZhbHNlXV0sXG4gICAgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAwLCAwLFxuICAgICAgMSwgMCxcbiAgICAgIDEsIDEsXG4gICAgICAwLCAxLFxuICAgIF0pLCBudWxsLCBnZW9tLlFVQURTKTsgLy8gVE9ETzogdXNlIGdsLlRSSUFOR0xFX1NUUklQIGluc3RlYWQsIHNhdmUgaW5kZXggYnVmZmVyIGJpbmRpbmdcblxuICAvLyBzaGFkZXJfcGFyYW1zX2Rpc3RvcnQgPSB7XG4gIC8vICAgY2xpcF9zcGFjZSxcbiAgLy8gICBjb3B5X3V2X3NjYWxlLFxuICAvLyAgIHN0cmVuZ3RoOiB2ZWMyKDAsIDApLFxuICAvLyAgIHRyYW5zZm9ybTogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMCwgMCwgMF0pLFxuICAvLyAgIGludlRyYW5zZm9ybTogdmVjNCgwLCAwLCAwLCAwKSxcbiAgLy8gfTtcblxuICBzaGFkZXJfcGFyYW1zX2NvbG9yX21hdHJpeCA9IHtcbiAgICBjbGlwX3NwYWNlLFxuICAgIGNvcHlfdXZfc2NhbGUsXG4gICAgY29sb3JNYXRyaXg6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKSxcbiAgfTtcblxuICAvLyBzaGFkZXJfcGFyYW1zX2Jsb29tID0ge1xuICAvLyAgIGNsaXBfc3BhY2UsXG4gIC8vICAgY29weV91dl9zY2FsZSxcbiAgLy8gICBibG9vbVRocmVzaG9sZDogMCxcbiAgLy8gICB0aHJlc2hvbGRDdXR0b2ZmOiAwLFxuICAvLyB9O1xuXG4gIC8vIHNoYWRlcl9wYXJhbXNfYmxvb21fbWVyZ2UgPSB7XG4gIC8vICAgY2xpcF9zcGFjZSxcbiAgLy8gICBjb3B5X3V2X3NjYWxlLFxuICAvLyAgIGJsb29tSW50ZW5zaXR5OiAwLFxuICAvLyAgIGJsb29tU2F0dXJhdGlvbjogMCxcbiAgLy8gICBvcmlnaW5hbEludGVuc2l0eTogMCxcbiAgLy8gICBvcmlnaW5hbFNhdHVyYXRpb246IDAsXG4gIC8vIH07XG5cbiAgLy8gR2F1c3NpYW4gQmx1ciBlZmZlY3QgKGFsc28gdXNlZCBieSBibG9vbSlcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyID0ge1xuICAgIGNsaXBfc3BhY2UsXG4gICAgY29weV91dl9zY2FsZSxcbiAgICBzYW1wbGVSYWRpdXM6IHZlYzMoMSwgMSwgMSksXG4gICAgR2F1c3M6IG5ldyBGbG9hdDMyQXJyYXkoWzAuOTMsIDAuOCwgMC43LCAwLjYsIDAuNSwgMC40LCAwLjMsIDAuMiwgMC4xXSksXG4gIH07XG5cbiAgc2hhZGVyX3BhcmFtc19waXhlbHlfZXhwYW5kID0ge1xuICAgIGNsaXBfc3BhY2UsXG4gICAgY29weV91dl9zY2FsZSxcbiAgICBvcmlnX3BpeGVsX3NpemU6IHZlYzQoKSxcbiAgfTtcbn1cblxubGV0IG51bV9wYXNzZXMgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdHNQYXNzQWRkKCkge1xuICArK251bV9wYXNzZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0c1Bhc3NDb25zdW1lKCkge1xuICAtLW51bV9wYXNzZXM7XG59XG5cbmZ1bmN0aW9uIGRvRWZmZWN0KGZuKSB7XG4gIGVmZmVjdHNQYXNzQ29uc3VtZSgpO1xuICBmbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0c1F1ZXVlKHosIGZuKSB7XG4gIGVmZmVjdHNQYXNzQWRkKCk7XG4gIHNwcml0ZXMucXVldWVmbih6LCBkb0VmZmVjdC5iaW5kKG51bGwsIGZuKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RzVG9wT2ZGcmFtZSgpIHtcbiAgLy8gSW4gY2FzZSBvZiBjcmFzaCBvbiBwcmV2aW91cyBmcmFtZVxuICBudW1fcGFzc2VzID0gMDtcbiAgZnJhbWVidWZmZXJUb3BPZkZyYW1lKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RzUmVzZXQoKSB7XG4gIGFzc2VydC5lcXVhbChudW1fcGFzc2VzLCAwKTsgLy8gb3RoZXJ3aXNlIHByb2JhYmx5IHN0aWxsIGhhdmUgYSBmcmFtZWJ1ZmZlciBib3VuZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0c0lzRmluYWwoKSB7XG4gIHJldHVybiAhbnVtX3Bhc3Nlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyYXlTY2FsZU1hdHJpeChkc3QpIHtcbiAgZHN0WzBdID0gMC4yMTI2O1xuICBkc3RbMV0gPSAwLjIxMjY7XG4gIGRzdFsyXSA9IDAuMjEyNjtcbiAgZHN0WzNdID0gMC43MTUyO1xuICBkc3RbNF0gPSAwLjcxNTI7XG4gIGRzdFs1XSA9IDAuNzE1MjtcbiAgZHN0WzZdID0gMC4wNzIyO1xuICBkc3RbN10gPSAwLjA3MjI7XG4gIGRzdFs4XSA9IDAuMDcyMjtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VwaWFNYXRyaXgoZHN0KSB7XG4gIGRzdFswXSA9IDAuMzkzO1xuICBkc3RbMV0gPSAwLjM0OTtcbiAgZHN0WzJdID0gMC4yNzI7XG4gIGRzdFszXSA9IDAuNzY5O1xuICBkc3RbNF0gPSAwLjY4NjtcbiAgZHN0WzVdID0gMC41MzQ7XG4gIGRzdFs2XSA9IDAuMTg5O1xuICBkc3RbN10gPSAwLjE2ODtcbiAgZHN0WzhdID0gMC4xMzE7XG4gIGRzdFs5XSA9IGRzdFsxMF0gPSBkc3RbMTFdID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0aXZlTWF0cml4KGRzdCkge1xuICBkc3RbMF0gPSBkc3RbNF0gPSBkc3RbOF0gPSAtMTtcbiAgZHN0WzFdID0gZHN0WzJdID0gZHN0WzNdID0gZHN0WzVdID0gZHN0WzZdID0gZHN0WzddID0gMDtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F0dXJhdGlvbk1hdHJpeChkc3QsIHNhdHVyYXRpb25TY2FsZSkge1xuICBsZXQgaXMgPSAoMSAtIHNhdHVyYXRpb25TY2FsZSk7XG4gIGRzdFswXSA9IChpcyAqIDAuMjEyNikgKyBzYXR1cmF0aW9uU2NhbGU7XG4gIGRzdFsxXSA9IChpcyAqIDAuMjEyNik7XG4gIGRzdFsyXSA9IChpcyAqIDAuMjEyNik7XG4gIGRzdFszXSA9IChpcyAqIDAuNzE1Mik7XG4gIGRzdFs0XSA9IChpcyAqIDAuNzE1MikgKyBzYXR1cmF0aW9uU2NhbGU7XG4gIGRzdFs1XSA9IChpcyAqIDAuNzE1Mik7XG4gIGRzdFs2XSA9IChpcyAqIDAuMDcyMik7XG4gIGRzdFs3XSA9IChpcyAqIDAuMDcyMik7XG4gIGRzdFs4XSA9IChpcyAqIDAuMDcyMikgKyBzYXR1cmF0aW9uU2NhbGU7XG4gIGRzdFs5XSA9IGRzdFsxMF0gPSBkc3RbMTFdID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZU1hdHJpeChkc3QsIGFuZ2xlKSB7XG4gIC8vLy9cbiAgLy8vLyBVbmNvbW1lbnQgdG8gY2FsY3VsYXRlIG5ldyBjb2VmZmVjaWVudHMgc2hvdWxkIGx1bWluYW5jZVxuICAvLy8vIHZhbHVlcyAwLjIxMjYgMC43MTUyIDAuMDcyMiBjaGFuZ2UuXG4gIC8vbGV0IGx1bVIgPSAwLjIxMjY7XG4gIC8vbGV0IGx1bUcgPSAwLjcxNTI7XG4gIC8vbGV0IGx1bUIgPSAwLjA3MjI7XG4gIC8vLy9cbiAgLy9sZXQgcjIzID0gTWF0aC5zcXJ0KDIgLyAzKTtcbiAgLy9sZXQgcjEyID0gMSAvIE1hdGguc3FydCgyKTtcbiAgLy9sZXQgcjEzID0gMSAvIE1hdGguc3FydCgzKTtcbiAgLy9sZXQgcjE2ID0gMSAvIE1hdGguc3FydCg2KTtcbiAgLy9sZXQgTSA9IFtyMjMsIDAsIHIxMywgLXIxNiwgcjEyLCByMTMsIC1yMTYsIC1yMTIsIHIxMywgMCwgMCwgMF07XG4gIC8vbGV0IHp4ID0gKHIyMyAqIGx1bVIpIC0gKHIxNiAqIGx1bUcpIC0gKHIxNiAqIGx1bUIpO1xuICAvL2xldCB6eSA9ICAgICAgICAgICAgICAgIChyMTIgKiBsdW1HKSAtIChyMTIgKiBsdW1CKTtcbiAgLy9sZXQgenogPSAocjEzICogbHVtUikgKyAocjEzICogbHVtRykgKyAocjEzICogbHVtQik7XG4gIC8vbGV0IHggPSB6eCAvIHp6O1xuICAvL2xldCB5ID0genkgLyB6ejtcbiAgLy9sZXQgQyA9IFsxLCAwLCB4LCAwLCAxLCB5LCAwLCAwLCAxLCAwLCAwLCAwXTtcbiAgLy9tNDNtdWwoTSwgTSwgQyk7XG4gIC8vY29uc29sZS5sb2coXCJQcmUgdHJhbnNmb3JtID0gXCIsIE0pO1xuICAvL2xldCBFID0gWzEsIDAsIC14LCAwLCAxLCAteSwgMCwgMCwgMSwgMCwgMCwgMF07XG4gIC8vbGV0IE4gPSBbcjIzLCAtcjE2LCAtcjE2LCAwLCByMTIsIC1yMTIsIHIxMywgcjEzLCByMTMsIDAsIDAsIDBdO1xuICAvL200M211bChOLCBFLCBOKTtcbiAgLy9jb25zb2xlLmxvZyhcIlBvc3QgdHJhbnNmb3JtID0gXCIsIE4pO1xuICAvLy8vXG4gIC8vLy8gRmluYWwgbWF0cml4IGlzIHRoZW46IG00M011bChQcmUsIFtjLCBzLCAwLCAtcywgYywgMCwgMCwgMCwgMSwgMCwgMCwgMCwgXSwgUG9zdCk7XG4gIC8vLy8gZm9yIGMgPSBjb3MoYW5nbGUpLCBzID0gc2luKGFuZ2xlKVxuICAvLy8vXG4gIC8vbGV0IG91dCA9IFwiXCI7XG4gIC8vb3V0ICs9IFwibGV0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XFxuXCI7XG4gIC8vb3V0ICs9IFwibGV0IHMgPSBNYXRoLnNpbihhbmdsZSk7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzBdID0gKFwiICsgKE5bMF0qTVswXStOWzNdKk1bMV0pICsgXCIgKiBjKSArIChcIiArIChOWzNdKk1bMF0tTlswXSpNWzFdKSArIFwiICogcykgKyBcIiArIGx1bVIrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzFdID0gKFwiICsgKC1sdW1SKSAgICAgICAgICAgICAgICsgXCIgKiBjKSArIChcIiArIChOWzRdKk1bMF0tTlsxXSpNWzFdKSArIFwiICogcykgKyBcIiArIGx1bVIrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzJdID0gKFwiICsgKC1sdW1SKSAgICAgICAgICAgICAgICsgXCIgKiBjKSArIChcIiArIChOWzVdKk1bMF0tTlsyXSpNWzFdKSArIFwiICogcykgKyBcIiArIGx1bVIrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzNdID0gKFwiICsgKC1sdW1HKSAgICAgICAgICAgICAgICsgXCIgKiBjKSArIChcIiArIChOWzNdKk1bM10tTlswXSpNWzRdKSArIFwiICogcykgKyBcIiArIGx1bUcrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzRdID0gKFwiICsgKE5bMV0qTVszXStOWzRdKk1bNF0pICsgXCIgKiBjKSArIChcIiArIChOWzRdKk1bM10tTlsxXSpNWzRdKSArIFwiICogcykgKyBcIiArIGx1bUcrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzVdID0gKFwiICsgKC1sdW1HKSAgICAgICAgICAgICAgICsgXCIgKiBjKSArIChcIiArIChOWzVdKk1bM10tTlsyXSpNWzRdKSArIFwiICogcykgKyBcIiArIGx1bUcrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzZdID0gKFwiICsgKC1sdW1CKSAgICAgICAgICAgICAgICsgXCIgKiBjKSArIChcIiArIChOWzNdKk1bNl0tTlswXSpNWzddKSArIFwiICogcykgKyBcIiArIGx1bUIrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzddID0gKFwiICsgKC1sdW1CKSAgICAgICAgICAgICAgICsgXCIgKiBjKSArIChcIiArIChOWzRdKk1bNl0tTlsxXSpNWzddKSArIFwiICogcykgKyBcIiArIGx1bUIrXCI7XFxuXCI7XG4gIC8vb3V0ICs9IFwiZHN0WzhdID0gKFwiICsgKE5bMl0qTVs2XStOWzVdKk1bN10pICsgXCIgKiBjKSArIChcIiArIChOWzVdKk1bNl0tTlsyXSpNWzddKSArIFwiICogcykgKyBcIiArIGx1bUIrXCI7XFxuXCI7XG4gIC8vY29uc29sZS5sb2cob3V0KTtcbiAgbGV0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gIGxldCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICBkc3RbMF0gPSAoMC43ODc0ICogYykgKyAoLTAuMzcxMjM2MjIzMDg4OTI5MyAqIHMpICsgMC4yMTI2O1xuICBkc3RbMV0gPSAoLTAuMjEyNiAqIGMpICsgKDAuMjA2MTE0MDQ2MTAwNjk2NDIgKiBzKSArIDAuMjEyNjtcbiAgZHN0WzJdID0gKC0wLjIxMjYgKiBjKSArICgtMC45NDg1ODY0OTIyNzg1NTUxICogcykgKyAwLjIxMjY7XG4gIGRzdFszXSA9ICgtMC43MTUyICogYykgKyAoLTAuNDk2MjkwMjkxMzk1NDAyMyAqIHMpICsgMC43MTUyO1xuICBkc3RbNF0gPSAoMC4yODQ4ICogYykgKyAoMC4wODEwNTk5Nzc3OTQyMjM0MSAqIHMpICsgMC43MTUyO1xuICBkc3RbNV0gPSAoLTAuNzE1MiAqIGMpICsgKDAuNjU4NDEwMjQ2OTgzODQ5MiAqIHMpICsgMC43MTUyO1xuICBkc3RbNl0gPSAoLTAuMDcyMiAqIGMpICsgKDAuODY3NTI2NTE0NDg0MzMxNiAqIHMpICsgMC4wNzIyO1xuICBkc3RbN10gPSAoLTAuMDcyMiAqIGMpICsgKC0wLjI4NzE3NDAyMzg5NDkxOTg2ICogcykgKyAwLjA3MjI7XG4gIGRzdFs4XSA9ICgwLjkyNzggKiBjKSArICgwLjI5MDE3NjI0NTI5NDcwNiAqIHMpICsgMC4wNzIyO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicmlnaHRuZXNzQWRkTWF0cml4KGRzdCwgYnJpZ2h0bmVzc09mZnNldCkge1xuICBkc3RbMF0gPSBkc3RbNF0gPSBkc3RbOF0gPSAxO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IGJyaWdodG5lc3NPZmZzZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicmlnaHRuZXNzU2NhbGVNYXRyaXgoZHN0LCBzY2FsZSkge1xuICBkc3RbMF0gPSBkc3RbNF0gPSBkc3RbOF0gPSBzY2FsZTtcbiAgZHN0WzFdID0gZHN0WzJdID0gZHN0WzNdID0gZHN0WzVdID0gZHN0WzZdID0gZHN0WzddID0gMDtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkaXRpdmVNYXRyaXgoZHN0LCBhZGRpdGl2ZVJHQikge1xuICBkc3RbMF0gPSBkc3RbNF0gPSBkc3RbOF0gPSAxO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBhZGRpdGl2ZVJHQlswXTtcbiAgZHN0WzEwXSA9IGFkZGl0aXZlUkdCWzFdO1xuICBkc3RbMTFdID0gYWRkaXRpdmVSR0JbMl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250cmFzdE1hdHJpeChkc3QsIGNvbnRyYXN0U2NhbGUpIHtcbiAgZHN0WzBdID0gZHN0WzRdID0gZHN0WzhdID0gY29udHJhc3RTY2FsZTtcbiAgZHN0WzFdID0gZHN0WzJdID0gZHN0WzNdID0gZHN0WzVdID0gZHN0WzZdID0gZHN0WzddID0gMDtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwLjUgKiAoMSAtIGNvbnRyYXN0U2NhbGUpO1xufVxuXG4vLyBlZmZlY3Q6IHsgc2hhZGVyLCBwYXJhbXMsIHRleHMsIGZpbmFsIH1cbmZ1bmN0aW9uIGFwcGx5RWZmZWN0KGVmZmVjdCwgdmlld193LCB2aWV3X2gpIHtcbiAgbGV0IGZpbmFsID0gZWZmZWN0LmZpbmFsICE9PSBmYWxzZSAmJiBlZmZlY3RzSXNGaW5hbCgpIHx8IGVmZmVjdC5maW5hbDtcbiAgaWYgKGVmZmVjdC5ub19mcmFtZWJ1ZmZlcikge1xuICAgIC8vIG5laXRoZXIgc3RhcnRpbmcgbm9yIGVuZGluZyBhIGZyYW1lYnVmZmVyLCBwcmVzdW1hYmx5IHNvbWV0aGluZyBlZmZlY3RpdmVseSBhZGRpdGl2ZVxuICAgIGxldCB2aWV3cG9ydCA9IGVuZ2luZS52aWV3cG9ydDtcbiAgICBsZXQgdGFyZ2V0X3cgPSB2aWV3cG9ydFsyXTtcbiAgICBsZXQgdGFyZ2V0X2ggPSB2aWV3cG9ydFszXTtcbiAgICB2aWV3X3cgPSB2aWV3X3cgfHwgdGFyZ2V0X3c7XG4gICAgdmlld19oID0gdmlld19oIHx8IHRhcmdldF9oO1xuICAgIGNsaXBfc3BhY2VbMF0gPSAyLjAgKiB2aWV3X3cgLyB0YXJnZXRfdztcbiAgICBjbGlwX3NwYWNlWzFdID0gMi4wICogdmlld19oIC8gdGFyZ2V0X2g7XG4gIH0gZWxzZSBpZiAoZWZmZWN0LnZpZXdwb3J0KSB7XG4gICAgYXNzZXJ0KGZpbmFsKTtcbiAgICBsZXQgeyB2aWV3cG9ydCB9ID0gZWZmZWN0O1xuICAgIGxldCB0YXJnZXRfdyA9IHZpZXdwb3J0WzJdO1xuICAgIGxldCB0YXJnZXRfaCA9IHZpZXdwb3J0WzNdO1xuICAgIHZpZXdfdyA9IHZpZXdfdyB8fCB0YXJnZXRfdztcbiAgICB2aWV3X2ggPSB2aWV3X2ggfHwgdGFyZ2V0X2g7XG5cbiAgICBjbGlwX3NwYWNlWzBdID0gMi4wICogdmlld193IC8gdGFyZ2V0X3c7XG4gICAgY2xpcF9zcGFjZVsxXSA9IDIuMCAqIHZpZXdfaCAvIHRhcmdldF9oO1xuXG4gICAgZnJhbWVidWZmZXJTdGFydCh7XG4gICAgICBjbGVhcjogZWZmZWN0LmNsZWFyLFxuICAgICAgY2xlYXJfYWxsOiBlZmZlY3QuY2xlYXJfYWxsLFxuICAgICAgY2xlYXJfY29sb3I6IGVmZmVjdC5jbGVhcl9jb2xvcixcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgZmluYWwsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2xpcF9zcGFjZVswXSA9IDIuMDtcbiAgICBjbGlwX3NwYWNlWzFdID0gMi4wO1xuICAgIHZpZXdfdyA9IHZpZXdfdyB8fCByZW5kZXJXaWR0aCgpO1xuICAgIHZpZXdfaCA9IHZpZXdfaCB8fCByZW5kZXJIZWlnaHQoKTtcblxuICAgIGZyYW1lYnVmZmVyU3RhcnQoe1xuICAgICAgd2lkdGg6IHZpZXdfdywgaGVpZ2h0OiB2aWV3X2gsXG4gICAgICBmaW5hbCxcbiAgICB9KTtcbiAgfVxuICAvLyBjbGlwX3NwYWNlWzJdID0gLTEuMDtcbiAgLy8gY2xpcF9zcGFjZVszXSA9IC0xLjA7XG4gIC8vIGNvcHlfdXZfc2NhbGVbMF0gPSB0YXJnZXRfdyAvIGVmZmVjdC5jb29yZF9zb3VyY2Uud2lkdGg7XG4gIC8vIGNvcHlfdXZfc2NhbGVbMV0gPSB0YXJnZXRfaCAvIGVmZmVjdC5jb29yZF9zb3VyY2UuaGVpZ2h0O1xuXG4gIHNoYWRlcnMuYmluZChnZXRTaGFkZXIoJ3ZwX2NvcHknKSwgZ2V0U2hhZGVyKGVmZmVjdC5zaGFkZXIpLCBlZmZlY3QucGFyYW1zKTtcbiAgdGV4dHVyZXMuYmluZEFycmF5KGVmZmVjdC50ZXhzKTtcbiAgcXVhZF9nZW9tLmRyYXcoKTtcbn1cblxuLy8gLy8gVE9ETzogVXBkYXRlIGZvciBSVEJCQ1RUIGFuZCBwb3J0IHRvIG5ldyBHTE9WLmpzXG4vLyBmdW5jdGlvbiBhcHBseUJsb29tVE9ETyhwYXJhbXMpIHtcbi8vICAgbGV0IHNvdXJjZSA9IHBhcmFtcy5zb3VyY2U7XG4vLyAgIGxldCBibHVyMSA9IHBhcmFtcy5ibHVyVGFyZ2V0MTtcbi8vICAgbGV0IGJsdXIyID0gcGFyYW1zLmJsdXJUYXJnZXQyO1xuLy8gICBsZXQgZGVzdCA9IHBhcmFtcy5kZXN0aW5hdGlvbjtcbi8vICAgaWYgKCFzb3VyY2UgfHwgIWRlc3QgfHwgIWJsdXIxIHx8ICFibHVyMiB8fCAhYmx1cjEuY29sb3JUZXh0dXJlMCB8fFxuLy8gICAgICFibHVyMi5jb2xvclRleHR1cmUwIHx8IGJsdXIxID09PSBibHVyMiB8fCBibHVyMSA9PT0gZGVzdCB8fFxuLy8gICAgIHNvdXJjZSA9PT0gYmx1cjEuY29sb3JUZXh0dXJlMCB8fCBzb3VyY2UgPT09IGRlc3QuY29sb3JUZXh0dXJlMCkge1xuLy8gICAgIHJldHVybiBmYWxzZTtcbi8vICAgfVxuLy9cbi8vICAgbGV0IGVmZmVjdFBhcmFtcyA9IHRoaXMuZWZmZWN0UGFyYW1zO1xuLy8gICBsZXQgdGVjaHBhcmFtcztcbi8vXG4vLyAgIC8vIFRocmVzaG9sZCBjb3B5LlxuLy8gICB0ZWNocGFyYW1zID0gdGhpcy5ibG9vbVRocmVzaG9sZFBhcmFtZXRlcnM7XG4vLyAgIGVmZmVjdFBhcmFtcy50ZWNobmlxdWUgPSB0aGlzLmJsb29tVGhyZXNob2xkVGVjaG5pcXVlO1xuLy8gICBlZmZlY3RQYXJhbXMucGFyYW1zID0gdGVjaHBhcmFtcztcbi8vXG4vLyAgIHRlY2hwYXJhbXMuYmxvb21UaHJlc2hvbGQgPSAocGFyYW1zLmJsb29tVGhyZXNob2xkICE9PSB1bmRlZmluZWQpID8gcGFyYW1zLmJsb29tVGhyZXNob2xkIDogMC42NTtcbi8vICAgdGVjaHBhcmFtcy50aHJlc2hvbGRDdXRvZmYgPSBNYXRoLmV4cCgocGFyYW1zLnRocmVzaG9sZEN1dG9mZiAhPT0gdW5kZWZpbmVkKSA/IHBhcmFtcy50aHJlc2hvbGRDdXRvZmYgOiAzKTtcbi8vICAgdGVjaHBhcmFtcy5pbnB1dFRleHR1cmUwID0gc291cmNlO1xuLy8gICBlZmZlY3RQYXJhbXMuZGVzdGluYXRpb24gPSBibHVyMTtcbi8vICAgdGhpcy5hcHBseUVmZmVjdChlZmZlY3RQYXJhbXMpO1xuLy9cbi8vICAgLy8gR2F1c3NpYW4gYmx1ci5cbi8vICAgdGVjaHBhcmFtcyA9IHRoaXMuZ2F1c3NpYW5CbHVyUGFyYW1ldGVycztcbi8vICAgZWZmZWN0UGFyYW1zLnRlY2huaXF1ZSA9IHRoaXMuZ2F1c3NpYW5CbHVyVGVjaG5pcXVlO1xuLy8gICBlZmZlY3RQYXJhbXMucGFyYW1zID0gdGVjaHBhcmFtcztcbi8vXG4vLyAgIGxldCBzYW1wbGVSYWRpdXMgPSAocGFyYW1zLmJsdXJSYWRpdXMgfHwgMjApO1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1swXSA9IHNhbXBsZVJhZGl1cyAvIHNvdXJjZS53aWR0aDtcbi8vICAgdGVjaHBhcmFtcy5zYW1wbGVSYWRpdXNbMV0gPSAwO1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1syXSA9IDE7XG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMCA9IGJsdXIxLmNvbG9yVGV4dHVyZTA7XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGJsdXIyO1xuLy8gICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdFBhcmFtcyk7XG4vL1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1swXSA9IDA7XG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzFdID0gc2FtcGxlUmFkaXVzIC8gc291cmNlLmhlaWdodDtcbi8vICAgdGVjaHBhcmFtcy5zYW1wbGVSYWRpdXNbMl0gPSAxO1xuLy8gICB0ZWNocGFyYW1zLmlucHV0VGV4dHVyZTAgPSBibHVyMi5jb2xvclRleHR1cmUwO1xuLy8gICBlZmZlY3RQYXJhbXMuZGVzdGluYXRpb24gPSBibHVyMTtcbi8vICAgdGhpcy5hcHBseUVmZmVjdChlZmZlY3RQYXJhbXMpO1xuLy9cbi8vICAgLy8gTWVyZ2UuXG4vLyAgIHRlY2hwYXJhbXMgPSB0aGlzLmJsb29tTWVyZ2VQYXJhbWV0ZXJzO1xuLy8gICBlZmZlY3RQYXJhbXMudGVjaG5pcXVlID0gdGhpcy5ibG9vbU1lcmdlVGVjaG5pcXVlO1xuLy8gICBlZmZlY3RQYXJhbXMucGFyYW1zID0gdGVjaHBhcmFtcztcbi8vXG4vLyAgIHRlY2hwYXJhbXMuYmxvb21JbnRlbnNpdHkgPSAocGFyYW1zLmJsb29tSW50ZW5zaXR5ICE9PSB1bmRlZmluZWQpID8gcGFyYW1zLmJsb29tSW50ZW5zaXR5IDogMS4yO1xuLy8gICB0ZWNocGFyYW1zLmJsb29tU2F0dXJhdGlvbiA9IChwYXJhbXMuYmxvb21TYXR1cmF0aW9uICE9PSB1bmRlZmluZWQpID8gcGFyYW1zLmJsb29tU2F0dXJhdGlvbiA6IDEuMjtcbi8vICAgdGVjaHBhcmFtcy5vcmlnaW5hbEludGVuc2l0eSA9IChwYXJhbXMub3JpZ2luYWxJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMub3JpZ2luYWxJbnRlbnNpdHkgOiAxLjA7XG4vLyAgIHRlY2hwYXJhbXMub3JpZ2luYWxTYXR1cmF0aW9uID0gKHBhcmFtcy5vcmlnaW5hbFNhdHVyYXRpb24gIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMub3JpZ2luYWxTYXR1cmF0aW9uIDogMS4wO1xuLy8gICB0ZWNocGFyYW1zLmlucHV0VGV4dHVyZTAgPSBzb3VyY2U7XG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMSA9IGJsdXIxLmNvbG9yVGV4dHVyZTA7XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGRlc3Q7XG4vLyAgIHRoaXMuYXBwbHlFZmZlY3QoZWZmZWN0UGFyYW1zKTtcbi8vXG4vLyAgIHJldHVybiB0cnVlO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlDb3B5KHBhcmFtcykge1xuICBpZiAoIWluaXRlZCkge1xuICAgIHN0YXJ0dXAoKTtcbiAgfVxuICBsZXQgc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbiAgaWYgKCFzb3VyY2UpIHtcbiAgICBzb3VyY2UgPSBmcmFtZWJ1ZmZlckVuZCh7IGZpbHRlcl9saW5lYXI6IHBhcmFtcy5maWx0ZXJfbGluZWFyIH0pO1xuICB9XG4gIHBhcmFtcy5zaGFkZXIgPSBwYXJhbXMuc2hhZGVyIHx8ICdjb3B5JztcbiAgcGFyYW1zLnBhcmFtcyA9IHNoYWRlcl9wYXJhbXNfZGVmYXVsdDtcbiAgcGFyYW1zLnRleHMgPSBbc291cmNlXTtcbiAgYXBwbHlFZmZlY3QocGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UGl4ZWx5RXhwYW5kKHBhcmFtcykge1xuICBpZiAoIWluaXRlZCkge1xuICAgIHN0YXJ0dXAoKTtcbiAgfVxuICBsZXQgc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbiAgYXNzZXJ0KCFzb3VyY2UpOyAvLyB3b3VsZCBuZWVkIGxpbmVhci9ub24td3JhcCBzYW1wbGVyIHN0YXRlIHNldFxuICBpZiAoIXNvdXJjZSkge1xuICAgIHNvdXJjZSA9IGZyYW1lYnVmZmVyRW5kKHsgZmlsdGVyX2xpbmVhcjogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8vIGRvIGhvcml6b250YWwgYmx1ciBmb3IgcHJpbWFyeSBsaW5lc1xuICBsZXQgcmVzeCA9IHNvdXJjZS53aWR0aDtcbiAgbGV0IHJlc3kgPSBzb3VyY2UuaGVpZ2h0O1xuICBsZXQgc2FtcGxlUmFkaXVzID0gKHBhcmFtcy5oYmx1ciB8fCAwLjI1KSAvIHJlc3g7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMF0gPSBzYW1wbGVSYWRpdXM7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMV0gPSAwO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzJdID0gMTtcbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ2dhdXNzaWFuX2JsdXInLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLFxuICAgIHRleHM6IFtzb3VyY2VdLFxuICAgIGZpbmFsOiBmYWxzZSxcbiAgfSwgcmVzeCwgcmVzeSk7XG4gIGxldCBoYmx1ciA9IGZyYW1lYnVmZmVyRW5kKHsgZmlsdGVyX2xpbmVhcjogdHJ1ZSB9KTtcblxuICAvLyBkbyBzZXBlcmFibGUgZ2F1c3NpYW4gYmx1ciBmb3Igc2NhbmxpbmVzICh1c2luZyBob3Jpem9udGFsIGJsdXIgZnJvbSBhYm92ZSlcbiAgc2FtcGxlUmFkaXVzID0gKHBhcmFtcy52Ymx1ciB8fCAwLjc1KSAvIHJlc3k7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMF0gPSAwO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzFdID0gc2FtcGxlUmFkaXVzO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzJdID0gMTtcbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ2dhdXNzaWFuX2JsdXInLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLFxuICAgIHRleHM6IFtoYmx1cl0sXG4gICAgZmluYWw6IGZhbHNlLFxuICB9LCByZXN4LCByZXN5KTtcbiAgbGV0IHZibHVyID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuXG4gIC8vIGNvbWJpbmUgYXQgZnVsbCByZXNcbiAgdjRzZXQoc2hhZGVyX3BhcmFtc19waXhlbHlfZXhwYW5kLm9yaWdfcGl4ZWxfc2l6ZSxcbiAgICBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIDEvc291cmNlLndpZHRoLCAxL3NvdXJjZS5oZWlnaHQpO1xuXG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6ICdwaXhlbHlfZXhwYW5kJyxcbiAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfcGl4ZWx5X2V4cGFuZCxcbiAgICB0ZXhzOiBbc291cmNlLCBoYmx1ciwgdmJsdXJdLFxuXG4gICAgY2xlYXI6IHBhcmFtcy5jbGVhcixcbiAgICBjbGVhcl9hbGw6IHBhcmFtcy5jbGVhcl9hbGwsXG4gICAgY2xlYXJfY29sb3I6IHBhcmFtcy5jbGVhcl9jb2xvcixcbiAgICB2aWV3cG9ydDogcGFyYW1zLnZpZXdwb3J0LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5R2F1c3NpYW5CbHVyKHBhcmFtcykge1xuICBpZiAoIWluaXRlZCkge1xuICAgIHN0YXJ0dXAoKTtcbiAgfVxuICBsZXQgc291cmNlID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuICBsZXQgbWF4X3NpemUgPSBwYXJhbXMubWF4X3NpemUgfHwgNTEyO1xuICBsZXQgbWluX3NpemUgPSBwYXJhbXMubWluX3NpemUgfHwgMTI4O1xuXG4gIC8vIFF1aWNrIHNocmluayBkb3duIHRvIDUxMi0+MjU2LT4xMjggKG9yIG90aGVyIHNwZWNpZmllZCBtaW4vbWF4IHNpemUpXG4gIGxldCBpbnB1dFRleHR1cmUwID0gc291cmNlO1xuXG4gIGxldCB2aWV3cG9ydCA9IGVuZ2luZS52aWV3cG9ydDtcbiAgbGV0IHJlcyA9IG1heF9zaXplO1xuICB3aGlsZSAocmVzID4gdmlld3BvcnRbMl0gfHwgcmVzID4gdmlld3BvcnRbM10pIHtcbiAgICByZXMgLz0gMjtcbiAgfVxuXG4gIHdoaWxlIChyZXMgPiBtaW5fc2l6ZSkge1xuICAgIGFwcGx5RWZmZWN0KHtcbiAgICAgIHNoYWRlcjogcGFyYW1zLnNoYWRlcl9jb3B5IHx8ICdjb3B5JyxcbiAgICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19kZWZhdWx0LFxuICAgICAgdGV4czogW2lucHV0VGV4dHVyZTBdLFxuICAgICAgZmluYWw6IGZhbHNlLFxuICAgIH0sIHJlcywgcmVzKTtcbiAgICBpbnB1dFRleHR1cmUwID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuICAgIHJlcyAvPSAyO1xuICB9XG5cbiAgLy8gRG8gc2VwZXJhYmxlIGJsdXJcbiAgbGV0IHNhbXBsZVJhZGl1cyA9IChwYXJhbXMuYmx1ciB8fCAxKSAvIHJlcztcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1swXSA9IHNhbXBsZVJhZGl1cztcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1sxXSA9IDA7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMl0gPSBwYXJhbXMuZ2xvdyB8fCAxO1xuICBhcHBseUVmZmVjdCh7XG4gICAgc2hhZGVyOiAnZ2F1c3NpYW5fYmx1cicsXG4gICAgcGFyYW1zOiBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIsXG4gICAgdGV4czogW2lucHV0VGV4dHVyZTBdLFxuICAgIGZpbmFsOiBmYWxzZSxcbiAgfSwgcmVzLCByZXMpO1xuICBsZXQgYmx1ciA9IGZyYW1lYnVmZmVyRW5kKHsgZmlsdGVyX2xpbmVhcjogdHJ1ZSB9KTtcblxuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzBdID0gMDtcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1sxXSA9IHNhbXBsZVJhZGl1cztcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1syXSA9IHBhcmFtcy5nbG93IHx8IDE7XG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6ICdnYXVzc2lhbl9ibHVyJyxcbiAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1cixcbiAgICB0ZXhzOiBbYmx1cl0sXG4gIH0pO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlDb2xvck1hdHJpeChwYXJhbXMpIHtcbiAgaWYgKCFpbml0ZWQpIHtcbiAgICBzdGFydHVwKCk7XG4gIH1cbiAgbGV0IHNvdXJjZSA9IGZyYW1lYnVmZmVyRW5kKHsgZmlsdGVyX2xpbmVhcjogdHJ1ZSB9KTtcblxuICBsZXQgbWF0cml4ID0gcGFyYW1zLmNvbG9yTWF0cml4O1xuICBsZXQgbW91dCA9IHNoYWRlcl9wYXJhbXNfY29sb3JfbWF0cml4LmNvbG9yTWF0cml4O1xuXG4gIG1vdXRbMF0gPSBtYXRyaXhbMF07XG4gIG1vdXRbMV0gPSBtYXRyaXhbM107XG4gIG1vdXRbMl0gPSBtYXRyaXhbNl07XG4gIG1vdXRbM10gPSBtYXRyaXhbOV07XG4gIG1vdXRbNF0gPSBtYXRyaXhbMV07XG4gIG1vdXRbNV0gPSBtYXRyaXhbNF07XG4gIG1vdXRbNl0gPSBtYXRyaXhbN107XG4gIG1vdXRbN10gPSBtYXRyaXhbMTBdO1xuICBtb3V0WzhdID0gbWF0cml4WzJdO1xuICBtb3V0WzldID0gbWF0cml4WzVdO1xuICBtb3V0WzEwXSA9IG1hdHJpeFs4XTtcbiAgbW91dFsxMV0gPSBtYXRyaXhbMTFdO1xuXG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6ICdjb2xvcl9tYXRyaXgnLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19jb2xvcl9tYXRyaXgsXG4gICAgdGV4czogW3NvdXJjZV0sXG4gIH0pO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyAvLyBUT0RPOiBVcGRhdGUgZm9yIFJUQkJDVFQgYW5kIHBvcnQgdG8gbmV3IEdMT1YuanNcbi8vIGV4cG9ydCBmdW5jdGlvbiBhcHBseURpc3RvcnRUT0RPKHBhcmFtcykge1xuLy8gICBsZXQgc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbi8vICAgbGV0IGRlc3QgPSBwYXJhbXMuZGVzdGluYXRpb247XG4vLyAgIGxldCBkaXN0b3J0ID0gcGFyYW1zLmRpc3RvcnRpb247XG4vLyAgIGlmICghc291cmNlIHx8ICFkZXN0IHx8ICFkaXN0b3J0IHx8ICFkZXN0LmNvbG9yVGV4dHVyZTAgfHxcbi8vICAgICBzb3VyY2UgPT09IGRlc3QuY29sb3JUZXh0dXJlMCB8fCBkaXN0b3J0ID09PSBkZXN0LmNvbG9yVGV4dHVyZTApIHtcbi8vICAgICByZXR1cm4gZmFsc2U7XG4vLyAgIH1cbi8vXG4vLyAgIC8vIGlucHV0IHRyYW5zZm9ybS5cbi8vICAgLy8gIGEgYiB0eFxuLy8gICAvLyAgYyBkIHR5XG4vLyAgIGxldCBhO1xuLy8gICBsZXQgYjtcbi8vICAgbGV0IGM7XG4vLyAgIGxldCBkO1xuLy8gICBsZXQgdHg7XG4vLyAgIGxldCB0eTtcbi8vXG4vLyAgIGxldCB0cmFuc2Zvcm0gPSBwYXJhbXMudHJhbnNmb3JtO1xuLy8gICBpZiAodHJhbnNmb3JtKSB7XG4vLyAgICAgLy8gdHJhbnNmb3JtIGNvbC1tYWpvci5cbi8vICAgICBhID0gdHJhbnNmb3JtWzBdO1xuLy8gICAgIGIgPSB0cmFuc2Zvcm1bMl07XG4vLyAgICAgdHggPSB0cmFuc2Zvcm1bNF07XG4vLyAgICAgYyA9IHRyYW5zZm9ybVsxXTtcbi8vICAgICBkID0gdHJhbnNmb3JtWzNdO1xuLy8gICAgIHR5ID0gdHJhbnNmb3JtWzVdO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIGEgPSBkID0gMTtcbi8vICAgICBiID0gYyA9IDA7XG4vLyAgICAgdHggPSB0eSA9IDA7XG4vLyAgIH1cbi8vXG4vLyAgIGxldCBlZmZlY3RQYXJhbXMgPSB0aGlzLmVmZmVjdFBhcmFtcztcbi8vICAgbGV0IHRlY2hwYXJhbXMgPSB0aGlzLmRpc3RvcnRQYXJhbWV0ZXJzO1xuLy8gICBlZmZlY3RQYXJhbXMudGVjaG5pcXVlID0gdGhpcy5kaXN0b3J0VGVjaG5pcXVlO1xuLy8gICBlZmZlY3RQYXJhbXMucGFyYW1zID0gdGVjaHBhcmFtcztcbi8vXG4vLyAgIC8vIFRPRE86IENhY2hlICd0cmFuc2Zvcm0nLCAnaW52VHJhbnNmb3JtJywgZXRjIGluIHRoZSBjb2RlIGJlbG93XG4vLyAgIHRlY2hwYXJhbXMudHJhbnNmb3JtWzBdID0gYTtcbi8vICAgdGVjaHBhcmFtcy50cmFuc2Zvcm1bMV0gPSBiO1xuLy8gICB0ZWNocGFyYW1zLnRyYW5zZm9ybVsyXSA9IHR4O1xuLy8gICB0ZWNocGFyYW1zLnRyYW5zZm9ybVszXSA9IGM7XG4vLyAgIHRlY2hwYXJhbXMudHJhbnNmb3JtWzRdID0gZDtcbi8vICAgdGVjaHBhcmFtcy50cmFuc2Zvcm1bNV0gPSB0eTtcbi8vXG4vLyAgIC8vIENvbXB1dGUgaW52ZXJzZSB0cmFuc2Zvcm0gdG8gdXNlIGluIGRpc3RvcnQgdGV4dHVyZSBkaXNwbGFjZW1lbnQuLlxuLy8gICBsZXQgaWRldCA9IDEgLyAoYSAqIGQgLSBiICogYyk7XG4vLyAgIGxldCBpYSA9IHRlY2hwYXJhbXMuaW52VHJhbnNmb3JtWzBdID0gKGlkZXQgKiBkKTtcbi8vICAgbGV0IGliID0gdGVjaHBhcmFtcy5pbnZUcmFuc2Zvcm1bMV0gPSAoaWRldCAqIC1iKTtcbi8vICAgbGV0IGljID0gdGVjaHBhcmFtcy5pbnZUcmFuc2Zvcm1bMl0gPSAoaWRldCAqIC1jKTtcbi8vICAgbGV0IGlkID0gdGVjaHBhcmFtcy5pbnZUcmFuc2Zvcm1bM10gPSAoaWRldCAqIGEpO1xuLy9cbi8vICAgLy8gQ29tcHV0ZSBtYXggcGl4ZWwgb2Zmc2V0IGFmdGVyIHRyYW5zZm9ybSBmb3Igbm9ybWFsaXNhdGlvbi5cbi8vICAgbGV0IHgxID0gKChpYSArIGliKSAqIChpYSArIGliKSkgKyAoKGljICsgaWQpICogKGljICsgaWQpKTtcbi8vICAgbGV0IHgyID0gKChpYSAtIGliKSAqIChpYSAtIGliKSkgKyAoKGljIC0gaWQpICogKGljIC0gaWQpKTtcbi8vICAgbGV0IHgzID0gKCgtaWEgKyBpYikgKiAoLWlhICsgaWIpKSArICgoLWljICsgaWQpICogKC1pYyArIGlkKSk7XG4vLyAgIGxldCB4NCA9ICgoLWlhIC0gaWIpICogKC1pYSAtIGliKSkgKyAoKC1pYyAtIGlkKSAqICgtaWMgLSBpZCkpO1xuLy8gICBsZXQgeG1heCA9IDAuNSAqIE1hdGguc3FydChNYXRoLm1heCh4MSwgeDIsIHgzLCB4NCkpO1xuLy9cbi8vICAgbGV0IHN0cmVuZ3RoID0gKHBhcmFtcy5zdHJlbmd0aCB8fCAxMCk7XG4vLyAgIHRlY2hwYXJhbXMuc3RyZW5ndGhbMF0gPSBzdHJlbmd0aCAvIChzb3VyY2Uud2lkdGggKiB4bWF4KTtcbi8vICAgdGVjaHBhcmFtcy5zdHJlbmd0aFsxXSA9IHN0cmVuZ3RoIC8gKHNvdXJjZS5oZWlnaHQgKiB4bWF4KTtcbi8vXG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMCA9IHNvdXJjZTtcbi8vICAgdGVjaHBhcmFtcy5kaXN0b3J0VGV4dHVyZSA9IGRpc3RvcnQ7IC8vIGxpbmVhciAvIHJlcGVhdFxuLy8gICBlZmZlY3RQYXJhbXMuZGVzdGluYXRpb24gPSBkZXN0O1xuLy8gICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdFBhcmFtcyk7XG4vL1xuLy8gICByZXR1cm4gdHJ1ZTtcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxwaGEoKSB7XG4gIGxldCBvbGRfZHQgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuREVQVEhfVEVTVCk7XG4gIGlmIChvbGRfZHQpIHtcbiAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICB9XG4gIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgYXBwbHlDb3B5KHsgc291cmNlOiB0ZXh0dXJlcy50ZXh0dXJlcy53aGl0ZSwgbm9fZnJhbWVidWZmZXI6IHRydWUgfSk7XG4gIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgaWYgKG9sZF9kdCkge1xuICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5yZXF1aXJlKCcuL2Jvb3RzdHJhcC5qcycpOyAvLyBKdXN0IGluIGNhc2UgaXQncyBub3QgaW4gYXBwLmpzXG5cbmV4cG9ydCBsZXQgREVCVUcgPSBTdHJpbmcoZG9jdW1lbnQubG9jYXRpb24pLm1hdGNoKC9eaHR0cHM/OlxcL1xcL2xvY2FsaG9zdC8pO1xuXG5yZXF1aXJlKCdub3Rfd29ya2VyJyk7IC8vIFRoaXMgbW9kdWxlIGNhbm5vdCBiZSByZXF1aXJlZCBmcm9tIGEgd29ya2VyIGJ1bmRsZVxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgaXNfaW9zX3NhZmFyaSB9ID0gcmVxdWlyZSgnLi9icm93c2VyLmpzJyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGNtZHMgPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGVmZmVjdHMgPSByZXF1aXJlKCcuL2VmZmVjdHMuanMnKTtcbmNvbnN0IHsgZWZmZWN0c1Jlc2V0LCBlZmZlY3RzVG9wT2ZGcmFtZSwgZWZmZWN0c0lzRmluYWwsIGVmZmVjdHNQYXNzQWRkLCBlZmZlY3RzUGFzc0NvbnN1bWUgfSA9IGVmZmVjdHM7XG5jb25zdCB7IGVycm9yUmVwb3J0RGlzYWJsZSwgZXJyb3JSZXBvcnRTZXRQYXRoLCBnbG92RXJyb3JSZXBvcnQgfSA9IHJlcXVpcmUoJy4vZXJyb3JfcmVwb3J0LmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2ZvbnQuanMnKTtcbmNvbnN0IHsgZnJhbWVidWZmZXJTdGFydCwgZnJhbWVidWZmZXJFbmRPZkZyYW1lIH0gPSByZXF1aXJlKCcuL2ZyYW1lYnVmZmVyLmpzJyk7XG5jb25zdCBnZW9tID0gcmVxdWlyZSgnLi9nZW9tLmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IG1hdDNGcm9tTWF0NCA9IHJlcXVpcmUoJ2dsLW1hdDMvZnJvbU1hdDQnKTtcbmNvbnN0IG1hdDRDb3B5ID0gcmVxdWlyZSgnZ2wtbWF0NC9jb3B5Jyk7XG5jb25zdCBtYXQ0SW52ZXJ0ID0gcmVxdWlyZSgnZ2wtbWF0NC9pbnZlcnQnKTtcbmNvbnN0IG1hdDRNdWwgPSByZXF1aXJlKCdnbC1tYXQ0L211bHRpcGx5Jyk7XG5jb25zdCBtYXQ0VHJhbnNwb3NlID0gcmVxdWlyZSgnZ2wtbWF0NC90cmFuc3Bvc2UnKTtcbmNvbnN0IG1hdDRQZXJzcGVjdGl2ZSA9IHJlcXVpcmUoJ2dsLW1hdDQvcGVyc3BlY3RpdmUnKTtcbmNvbnN0IHsgYXNpbiwgY29zLCBmbG9vciwgbWluLCBtYXgsIFBJLCByb3VuZCwgc2luLCBzcXJ0IH0gPSBNYXRoO1xuY29uc3QgbW9kZWxzID0gcmVxdWlyZSgnLi9tb2RlbHMuanMnKTtcbmNvbnN0IHBlcmYgPSByZXF1aXJlKCcuL3BlcmYuanMnKTtcbmNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3Qgc2hhZGVycyA9IHJlcXVpcmUoJy4vc2hhZGVycy5qcycpO1xuY29uc3QgeyBzb3VuZExvYWRpbmcsIHNvdW5kU3RhcnR1cCwgc291bmRUaWNrIH0gPSByZXF1aXJlKCcuL3NvdW5kLmpzJyk7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgdGV4dHVyZXNUaWNrIH0gPSB0ZXh0dXJlcztcbmNvbnN0IGdsb3ZfdHJhbnNpdGlvbiA9IHJlcXVpcmUoJy4vdHJhbnNpdGlvbi5qcycpO1xuY29uc3QgZ2xvdl91aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHsgY2xhbXAsIGRlZmF1bHRzLCBuZWFyU2FtZSwgcmlkeCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgbWF0MywgbWF0NCwgdmVjMywgdmVjNCwgdjNtdWxNYXQ0LCB2M2lOb3JtYWxpemUsIHY0Y29weSwgdjRzYW1lLCB2NHNldCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5leHBvcnQgbGV0IGNhbnZhcztcbmV4cG9ydCBsZXQgd2ViZ2wyO1xuZXhwb3J0IGxldCBnbG92X3BhcnRpY2xlcztcblxuZXhwb3J0IGxldCB3aWR0aDtcbmV4cG9ydCBsZXQgaGVpZ2h0O1xubGV0IHdpZHRoXzNkO1xubGV0IGhlaWdodF8zZDtcbmV4cG9ydCBsZXQgcGl4ZWxfYXNwZWN0ID0gMTtcbmV4cG9ydCBsZXQgZG9tX3RvX2NhbnZhc19yYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5leHBvcnQgbGV0IGFudGlhbGlhcztcbmV4cG9ydCBsZXQgYW50aWFsaWFzX3VuYXZhaWxhYmxlO1xuXG5leHBvcnQgbGV0IGdhbWVfd2lkdGg7XG5leHBvcnQgbGV0IGdhbWVfaGVpZ2h0O1xubGV0IGdhbWVfYXNwZWN0O1xuXG5leHBvcnQgbGV0IHJlbmRlcl93aWR0aDtcbmV4cG9ydCBsZXQgcmVuZGVyX2hlaWdodDtcblxuLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbmV4cG9ydCBsZXQgZGVmaW5lcyA9IHVybGhhc2gucmVnaXN0ZXIoeyBrZXk6ICdEJywgdHlwZTogdXJsaGFzaC5UWVBFX1NFVCwgY2hhbmdlOiBkZWZpbmVzQ2hhbmdlZCB9KTtcblxuZXhwb3J0IGxldCBaRkFSO1xuZXhwb3J0IGxldCBaTkVBUjtcbmV4cG9ydCBsZXQgZm92X3kgPSAxO1xuZXhwb3J0IGxldCBmb3ZfeCA9IDE7XG5cbmV4cG9ydCBsZXQgbWF0X3Byb2plY3Rpb24gPSBtYXQ0KCk7XG5leHBvcnQgbGV0IG1hdF92aWV3ID0gbWF0NCgpO1xubGV0IG1hdF9tID0gbWF0NCgpO1xuZXhwb3J0IGxldCBtYXRfdnAgPSBtYXQ0KCk7XG5sZXQgbWF0X212ID0gbWF0NCgpO1xubGV0IG1hdF9tdl9ub19za2V3ID0gbWF0NCgpO1xubGV0IG1hdF9tdnAgPSBtYXQ0KCk7XG5sZXQgbWF0X212X2ludl90cmFuc2Zvcm0gPSBtYXQzKCk7XG5sZXQgbWF0X2ludl92aWV3ID0gbWF0MygpO1xubGV0IHByb2plY3Rpb25faW52ZXJzZSA9IHZlYzQoKTtcblxuZXhwb3J0IGxldCBsaWdodF9kaWZmdXNlID0gdmVjMygwLjc1LCAwLjc1LCAwLjc1KTtcbmxldCBsaWdodF9kaXJfdnMgPSB2ZWMzKDAsIDAsIDApO1xuZXhwb3J0IGxldCBsaWdodF9hbWJpZW50ID0gdmVjMygwLjI1LCAwLjI1LCAwLjI1KTtcbmV4cG9ydCBsZXQgbGlnaHRfZGlyX3dzID0gdmVjMygtMSwgLTIsIC0zKTtcblxuZXhwb3J0IGxldCBmb250O1xuZXhwb3J0IGxldCBhcHBfc3RhdGUgPSBudWxsO1xuZXhwb3J0IGNvbnN0IGJvcmRlcl9jb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XG5cbmxldCBub19yZW5kZXIgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVSZW5kZXIobmV3X3ZhbHVlKSB7XG4gIG5vX3JlbmRlciA9IG5ld192YWx1ZTtcbiAgaWYgKG5vX3JlbmRlcikge1xuICAgIGdsb3ZfdWkuY2xlYW51cERPTUVsZW1zKCk7XG4gIH1cbn1cblxubGV0IG1hdF90ZW1wID0gbWF0NCgpO1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdsb2JhbE1hdHJpY2VzKF9tYXRfdmlldykge1xuICBtYXQ0Q29weShtYXRfdmlldywgX21hdF92aWV3KTtcbiAgbWF0NE11bChtYXRfdnAsIG1hdF9wcm9qZWN0aW9uLCBtYXRfdmlldyk7XG4gIHYzaU5vcm1hbGl6ZShsaWdodF9kaXJfd3MpO1xuICB2M211bE1hdDQobGlnaHRfZGlyX3ZzLCBsaWdodF9kaXJfd3MsIG1hdF92aWV3KTtcbiAgbWF0NEludmVydChtYXRfdGVtcCwgbWF0X3ZpZXcpO1xuICBtYXQzRnJvbU1hdDQobWF0X2ludl92aWV3LCBtYXRfdGVtcCk7XG59XG5cbi8vIEp1c3Qgc2V0IHVwIG1hdF92cCBhbmQgbWF0X3Byb2plY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRWUChfbWF0X3ZpZXcpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIHNldHVwUHJvamVjdGlvbihmb3ZfeSwgd2lkdGgsIGhlaWdodCwgWk5FQVIsIFpGQVIpO1xuICBtYXQ0Q29weShtYXRfdmlldywgX21hdF92aWV3KTtcbiAgbWF0NE11bChtYXRfdnAsIG1hdF9wcm9qZWN0aW9uLCBtYXRfdmlldyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRGT1YoZm92X21pbikge1xuICBsZXQgdyA9IHJlbmRlcl93aWR0aCB8fCB3aWR0aDtcbiAgbGV0IGggPSByZW5kZXJfaGVpZ2h0IHx8IGhlaWdodDtcbiAgbGV0IGFzcGVjdCA9IHcgLyBoO1xuICBpZiAoYXNwZWN0ID4gZ2FtZV9hc3BlY3QpIHtcbiAgICBmb3ZfeSA9IGZvdl9taW47XG4gICAgbGV0IHJpc2UgPSBzaW4oZm92X3kgLyAyKSAvIGNvcyhmb3ZfeSAvIDIpICogYXNwZWN0O1xuICAgIGZvdl94ID0gMiAqIGFzaW4ocmlzZSAvIHNxcnQocmlzZSAqIHJpc2UgKyAxKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2FsY3VsYXRlIHdoYXQgZm92X3ggd291bGQgYmUgaWYgdGhlIHNjcmVlbiB3YXMgZ2FtZV9hc3BlY3QsIHRoZW4gZGVyaXZlIGZvdl95IGZyb20gdGhhdFxuICAgIGxldCByaXNlID0gc2luKGZvdl9taW4gLyAyKSAvIGNvcyhmb3ZfbWluIC8gMikgKiBnYW1lX2FzcGVjdDtcbiAgICBmb3ZfeCA9IDIgKiBhc2luKHJpc2UgLyBzcXJ0KHJpc2UgKiByaXNlICsgMSkpO1xuICAgIC8vIE9sZCBtZXRob2QsIGp1c3QgYXBwbHkgZm92IHRvIHggKGl0J3MgdGhlIHNhbWUgdGhpbmcsIGlmIGdhbWVfYXNwZWN0IGlzIDEuMClcbiAgICAvLyBmb3ZfeCA9IGZvdl9taW47XG4gICAgbGV0IHJpc2UyID0gc2luKGZvdl94IC8gMikgLyBjb3MoZm92X3ggLyAyKSAvIGFzcGVjdDtcbiAgICBmb3ZfeSA9IDIgKiBhc2luKHJpc2UyIC8gc3FydChyaXNlMiAqIHJpc2UyICsgMSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRHYW1lRGltcyh3LCBoKSB7XG4gIGdhbWVfd2lkdGggPSB3O1xuICBnYW1lX2hlaWdodCA9IGg7XG4gIGdhbWVfYXNwZWN0ID0gZ2FtZV93aWR0aCAvIGdhbWVfaGVpZ2h0O1xufVxuXG4vLyBEaWRuJ3QgbmVlZCB0aGlzIGZvciBhIHdoaWxlLCBidXQgZ290IHNsb3cgb24gaU9TIHJlY2VudGx5IDooXG4vLyBCZXR0ZXIgd2hlbiB1c2luZyBGQk9zIGZvciBwb3N0cHJvY2Vzc2luZyBub3csIHRob3VnaCFcbmNvbnN0IHBvc3Rwcm9jZXNzaW5nX3Jlc2V0X3ZlcnNpb24gPSAnNSc7XG5leHBvcnQgbGV0IHBvc3Rwcm9jZXNzaW5nID0gbG9jYWxfc3RvcmFnZS5nZXQoJ2dsb3Zfbm9fcG9zdHByb2Nlc3NpbmcnKSAhPT0gcG9zdHByb2Nlc3NpbmdfcmVzZXRfdmVyc2lvbjtcbmV4cG9ydCBmdW5jdGlvbiBwb3N0cHJvY2Vzc2luZ0FsbG93KGFsbG93KSB7XG4gIGxvY2FsX3N0b3JhZ2Uuc2V0KCdnbG92X25vX3Bvc3Rwcm9jZXNzaW5nJywgYWxsb3cgPyB1bmRlZmluZWQgOiBwb3N0cHJvY2Vzc2luZ19yZXNldF92ZXJzaW9uKTtcbiAgcG9zdHByb2Nlc3NpbmcgPSBhbGxvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdsQ2hlY2tFcnJvcigpIHtcbiAgbGV0IGdsX2VyciA9IGdsLmdldEVycm9yKCk7XG4gIGlmIChnbF9lcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGdsX2Vycik7XG4gICAgdGhyb3cgbmV3IEVycm9yKGdsX2Vycik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2VDYW52YXMoKSB7XG4gIHRyeSB7XG4gICAgaWYgKGdsKSB7XG4gICAgICBsZXQgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcbiAgICAgIGlmIChleHQpIHtcbiAgICAgICAgZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgLy8gbm90aGluZywgaXQncyBmaW5lXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbG9hZFNhZmUoKSB7XG4gIC8vIERvIG5vdCByZXBvcnQgYW55IGVycm9ycyBhZnRlciB0aGlzIHBvaW50XG4gIGVycm9yUmVwb3J0RGlzYWJsZSgpO1xuICAvLyBSZWxlYXNlIGNhbnZhcyB0byBub3QgbGVhayBtZW1vcnkgb24gRmlyZWZveFxuICByZWxlYXNlQ2FudmFzKCk7XG4gIGlmICh3aW5kb3cuRkJJbnN0YW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy50b3AubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gTm90IGdvb2QsIGJ1dCBiZXR0ZXIgdGhhbiB0aGUgYWx0ZXJuYXRpdmVzLCBJIGd1ZXNzXG4gICAgICB3aW5kb3cuRkJJbnN0YW50LnF1aXQoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cbn1cbndpbmRvdy5yZWxvYWRTYWZlID0gcmVsb2FkU2FmZTtcblxubGV0IHJlbG9hZGluZ19kZWZpbmVzID0ge307XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lQ2F1c2VzUmVsb2FkKGRlZmluZSkge1xuICByZWxvYWRpbmdfZGVmaW5lc1tkZWZpbmVdID0gZGVmaW5lc1tkZWZpbmVdO1xufVxuZGVmaW5lQ2F1c2VzUmVsb2FkKCdGT1JDRVdFQkdMMicpO1xuZGVmaW5lQ2F1c2VzUmVsb2FkKCdOT1dFQkdMMicpO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZXNDaGFuZ2VkKCkge1xuICBmb3IgKGxldCBrZXkgaW4gcmVsb2FkaW5nX2RlZmluZXMpIHtcbiAgICBpZiAoZGVmaW5lc1trZXldICE9PSByZWxvYWRpbmdfZGVmaW5lc1trZXldKSB7XG4gICAgICB1cmxoYXNoLm9uVVJMQ2hhbmdlKHJlbG9hZFNhZmUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHNoYWRlcnMuaGFuZGxlRGVmaW5lc0NoYW5nZWQoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUm93KG0sIGlkeCkge1xuICBsZXQgbGVuID0gbVtpZHhdKm1baWR4XSArIG1baWR4KzFdKm1baWR4KzFdICsgbVtpZHgrMl0qbVtpZHgrMl07XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIHNxcnQobGVuKTtcbiAgICBtW2lkeF0gKj0gbGVuO1xuICAgIG1baWR4KzFdICo9IGxlbjtcbiAgICBtW2lkeCsyXSAqPSBsZW47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1hdHJpY2VzKG1hdF9tb2RlbCkge1xuICAvLyBQRVJGVE9ETzogZGVwZW5kaW5nIG9uIHJlbmRlcmluZyBwYXRoLCBvbmx5IHNvbWUgb2YgdGhlc2UgYXJlIG5lZWRlZCAobSArIHZwIG9yIGp1c3QgbXZwKVxuICBtYXQ0Q29weShtYXRfbSwgbWF0X21vZGVsKTtcblxuICBtYXQ0TXVsKG1hdF9tdiwgbWF0X3ZpZXcsIG1hdF9tb2RlbCk7XG4gIG1hdDRNdWwobWF0X212cCwgbWF0X3Byb2plY3Rpb24sIG1hdF9tdik7XG4gIC8vIFRPRE86IENhbiBleHBhbmQgYW5kIHNpbXBsaWZ5IGFsbCBvZiB0aGlzLCBlc3BlY2lhbGx5IGJlbG93XG4gIC8vIENvbXB1dGUgdGhlIGludmVyc2UgdHJhbnNmb3JtIG9mIHRoZWUgbW9kZWxfdmlldyBtYXRyaXgsIGRpc2NhcmRpbmcgc2NhbGUsXG4gIC8vIHRvIGJlIHVzZWQgZm9yIGdldHRpbmcgbm9ybWFscyBpbnRvIHZpZXcgc3BhY2VcbiAgbWF0NENvcHkobWF0X3RlbXAsIG1hdF9tb2RlbCk7XG4gIG5vcm1hbGl6ZVJvdyhtYXRfdGVtcCwgMCk7XG4gIG5vcm1hbGl6ZVJvdyhtYXRfdGVtcCwgNCk7XG4gIG5vcm1hbGl6ZVJvdyhtYXRfdGVtcCwgOCk7XG4gIG1hdDRNdWwobWF0X212X25vX3NrZXcsIG1hdF92aWV3LCBtYXRfdGVtcCk7XG4gIG1hdDRJbnZlcnQobWF0X3RlbXAsIG1hdF9tdl9ub19za2V3KTtcbiAgbWF0NFRyYW5zcG9zZShtYXRfdGVtcCwgbWF0X3RlbXApO1xuICBtYXQzRnJvbU1hdDQobWF0X212X2ludl90cmFuc2Zvcm0sIG1hdF90ZW1wKTtcbn1cbmV4cG9ydCBsZXQgZnJhbWVfdGltZXN0YW1wID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFtZVRpbWVzdGFtcCgpIHtcbiAgcmV0dXJuIGZyYW1lX3RpbWVzdGFtcDtcbn1cblxuZXhwb3J0IGxldCBmcmFtZV9pbmRleCA9IDA7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RnJhbWVJbmRleCgpIHtcbiAgcmV0dXJuIGZyYW1lX2luZGV4O1xufVxuXG5leHBvcnQgbGV0IGZyYW1lX2R0ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFtZUR0KCkge1xuICByZXR1cm4gZnJhbWVfZHQ7XG59XG5cbmV4cG9ydCBsZXQgaHJ0aW1lID0gMDtcblxuLy8gV2FsbCB0aW1lLCBtYXkgY29udGFpbiBsYXJnZSBqdW1wcywgbWF5IGJlIDAgb3IgbmVnYXRpdmVcbmxldCB0aGlzX2ZyYW1lX3RpbWVfYWN0dWFsID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFtZUR0QWN0dWFsKCkge1xuICByZXR1cm4gdGhpc19mcmFtZV90aW1lX2FjdHVhbDtcbn1cblxubGV0IGFmdGVyX2xvYWRpbmdfc3RhdGUgPSBudWxsO1xuZXhwb3J0IGxldCBpc19sb2FkaW5nID0gdHJ1ZTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdGF0ZShuZXdfc3RhdGUpIHtcbiAgaWYgKGlzX2xvYWRpbmcpIHtcbiAgICBhZnRlcl9sb2FkaW5nX3N0YXRlID0gbmV3X3N0YXRlO1xuICB9IGVsc2Uge1xuICAgIGFwcF9zdGF0ZSA9IG5ld19zdGF0ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVBY3RpdmUodGVzdF9zdGF0ZSkge1xuICBpZiAoaXNfbG9hZGluZykge1xuICAgIHJldHVybiBhZnRlcl9sb2FkaW5nX3N0YXRlID09PSB0ZXN0X3N0YXRlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcHBfc3RhdGUgPT09IHRlc3Rfc3RhdGU7XG4gIH1cbn1cblxubGV0IG1zcGYgPSAxMDAwO1xubGV0IG1zcGZfdXBkYXRlX3RpbWUgPSAwO1xubGV0IG1zcGZfZnJhbWVfY291bnQgPSAwO1xubGV0IGxhc3RfdGlja19jcHUgPSAwO1xubGV0IG1zcGZfdGljayA9IDEwMDA7XG4vLyBsZXQgbmV0X3RpbWUgPSAxMDAwO1xubGV0IG1zcGZfdGlja19hY2N1bSA9IDA7XG4vLyBsZXQgbmV0X3RpbWVfYWNjdW0gPSAwO1xuZXhwb3J0IGNvbnN0IFBFUkZfSElTVE9SWV9TSVpFID0gMTI4O1xuZXhwb3J0IGxldCBwZXJmX3N0YXRlID0gd2luZG93Lmdsb3ZfcGVyZl9zdGF0ZSA9IHtcbiAgZnBzZ3JhcGg6IHtcbiAgICBpbmRleDogMCxcbiAgICBoaXN0b3J5OiBuZXcgRmxvYXQzMkFycmF5KFBFUkZfSElTVE9SWV9TSVpFICogMiksXG4gIH0sXG4gIGdwdV9tZW06IHtcbiAgICB0ZXg6IDAsXG4gICAgZ2VvbTogMCxcbiAgfSxcbn07XG5sZXQgZnBzZ3JhcGggPSBwZXJmX3N0YXRlLmZwc2dyYXBoO1xuXG5wZXJmLmFkZE1ldHJpYyh7XG4gIG5hbWU6ICdmcHMnLFxuICBzaG93X3N0YXQ6ICdzaG93X2ZwcycsIC8vIGFsd2F5cywgaWYgd2UncmUgc2hvd2luZyBhbnkgbWV0cmljc1xuICBzaG93X2dyYXBoOiAnZnBzX2dyYXBoJyxcbiAgbGFiZWxzOiB7XG4gICAgJ2ZwczogJzogKCkgPT4gKDEwMDAgLyBtc3BmKS50b0ZpeGVkKDEpLFxuICAgICdtcy9mOiAnOiAoKSA9PiBtc3BmLnRvRml4ZWQoMCksXG4gICAgJ2NwdTogJzogKCkgPT4gbXNwZl90aWNrLnRvRml4ZWQoMCksXG4gICAgLy8gJ25ldDogJzogKCkgPT4gbmV0X3RpbWUudG9GaXhlZCgwKSxcbiAgfSxcbiAgZGF0YTogZnBzZ3JhcGgsIC8vIGNvbnRhaW4gLmluZGV4IGFuZCAuaGlzdG9yeSAoc3RyaWRlIG9mIGNvbG9ycy5sZW5ndGgpXG4gIGxpbmVfc2NhbGVfdG9wOiA1MCxcbiAgY29sb3JzOiBbXG4gICAgLy8gdmVjNCgwLjE2MSwgMC42NzgsIDEsIDEpLCAvLyBuZXQgdGltZVxuICAgIHZlYzQoMSwgMC45MjUsIDAuMTUzLCAxKSwgLy8gY3B1L3RpY2sgdGltZVxuICAgIHZlYzQoMCwgMC44OTQsIDAuMjEyLCAxKSwgLy8gdG90YWwgdGltZSAoR1BVKVxuICBdLFxufSk7XG5cbmxldCBkb19ib3JkZXJzID0gdHJ1ZTtcbmxldCBkb192aWV3cG9ydF9wb3N0cHJvY2VzcyA9IGZhbHNlO1xubGV0IG5lZWRfcmVwb3MgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXppbmcoKSB7XG4gIHJldHVybiBuZWVkX3JlcG9zO1xufVxuXG5sZXQgYXBwX3RpY2tfZnVuY3Rpb25zID0gW107XG5leHBvcnQgZnVuY3Rpb24gYWRkVGlja0Z1bmMoY2IpIHtcbiAgYXBwX3RpY2tfZnVuY3Rpb25zLnB1c2goY2IpO1xufVxuXG5sZXQgcG9zdF90aWNrID0gW107XG5leHBvcnQgZnVuY3Rpb24gcG9zdFRpY2sob3B0cykge1xuICBvcHRzLnRpY2tzID0gb3B0cy50aWNrcyB8fCAxOyAvLyBydW4gaW4gaG93IG1hbnkgdGlja3M/XG4gIG9wdHMuaW5hY3RpdmUgPSBvcHRzLmluYWN0aXZlIHx8IGZhbHNlOyAvLyBydW4gZXZlbiBpZiBpbmFjdGl2ZT9cbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBvcHRzLmZuLCAnZnVuY3Rpb24nKTtcbiAgcG9zdF90aWNrLnB1c2gob3B0cyk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0RWZmZWN0cygpIHtcbiAgZWZmZWN0c1Jlc2V0KCk7XG4gIGZyYW1lYnVmZmVyRW5kT2ZGcmFtZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyV2lkdGgoKSB7XG4gIHJldHVybiByZW5kZXJfd2lkdGggfHwgd2lkdGg7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySGVpZ2h0KCkge1xuICByZXR1cm4gcmVuZGVyX2hlaWdodCB8fCBoZWlnaHQ7XG59XG5cbmNvbnN0IFNBRkFSSV9GVUxMU0NSRUVOX0FTUEVDVCA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCBzY3JlZW4gPSB3aW5kb3cuc2NyZWVuO1xuICBpZiAoIWlzX2lvc19zYWZhcmkgfHwgIXNjcmVlbikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IFNBRkFSSV9ESU1TID0geyAvLyB3eGggOiBbZnVsbHNjcmVlbiBhc3BlY3RdXG4gICAgLy8gaVBob25lIFhSXG4gICAgLy8gaVBob25lIDExIFBybyBNYXhcbiAgICAvLyBpUGhvbmUgWFMgTWF4XG4gICAgLy8gaVBob25lIDExXG4gICAgJzg5Niw0MTQnOiA4OTYvNDE0LFxuICAgIC8vIGlQaG9uZSAxMSBQcm9cbiAgICAvLyBpUGhvbmUgWCAocHJvYmFibHkpXG4gICAgJzgxMiwzNzUnOiA4MTIvMzc1LFxuICAgIC8vIGlQaG9uZSA4IFBsdXNcbiAgICAnNzM2LDQxNCc6IDczNi80MTQsXG4gICAgLy8gaVBob25lIDZzK1xuICAgIC8vIGlQaG9uZSA2K1xuICAgICc3MTYsNDE0JzogNzM2LzQxNCwgLy8gKHNjcmVlbi5hdmFpbFdpZHRoIHJlcG9ydHMgMjAgbGVzcylcbiAgICAvLyBpUGhvbmUgOFxuICAgIC8vIGlQaG9uZSA3ICgxMC4xKVxuICAgIC8vIGlQaG9uZSA3ICgxMS40KVxuICAgICc2NjcsMzc1JzogNjY3LzM3NSxcbiAgICAvLyBpUGhvbmUgNnNcbiAgICAvLyBpUGhvbmUgNlxuICAgICc2NDcsMzc1JzogNjY3LzM3NSwgLy8gKHNjcmVlbi5hdmFpbFdpZHRoIHJlcG9ydHMgMjAgbGVzcylcbiAgICAvLyBpUGhvbmUgNXNcbiAgICAnNTQ4LDMyMCc6IDU2OC8zMjAsIC8vIChzY3JlZW4uYXZhaWxXaWR0aCByZXBvcnRzIDIwIGxlc3MpXG4gIH07XG4gIGxldCBrZXkgPSBgJHttYXgoc2NyZWVuLmF2YWlsV2lkdGgsIHNjcmVlbi5hdmFpbEhlaWdodCl9LCR7bWluKHNjcmVlbi5hdmFpbFdpZHRoLCBzY3JlZW4uYXZhaWxIZWlnaHQpfWA7XG4gIHJldHVybiBTQUZBUklfRElNU1trZXldIHx8IDA7XG59KCkpO1xuZnVuY3Rpb24gc2FmYXJpVG9wU2FmZUFyZWEodmlld193LCB2aWV3X2gpIHtcbiAgLy8gRGV0ZWN0IGlmIHRoZSBVUkwgYmFyIGlzIGhpZGRlbiwgYnV0IHNob3VsZCBiZSBhIHNhZmUgYXJlYVxuICBpZiAoU0FGQVJJX0ZVTExTQ1JFRU5fQVNQRUNUICYmIG5lYXJTYW1lKHZpZXdfdy92aWV3X2gsIFNBRkFSSV9GVUxMU0NSRUVOX0FTUEVDVCwgMC4wMDEpKSB7XG4gICAgLy8gTm90ZTogaWYgdXNlciBoYXMgc2NhbGluZyBlbmFibGVkLCB0aGUgcGFkZGluZyByZXF1aXJlZCBtaWdodCBiZSBkaWZmZXJlbnRcbiAgICAvLyAgIGJ1dCB0aGUgc2FtZSBob2xkcyB0cnVlIGZvciB0aGUgc2FmZSBhcmVhIHBhZGRpbmcgZGV0ZWN0ZWQgdmlhIENTUyFcbiAgICByZXR1cm4gNTAgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7IC8vIHNlZW1zIHRvIGJlIDUwcHRzIG9uIGFsbCBkZXZpY2VzXG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cblxubGV0IGxhc3RfY2FudmFzX3dpZHRoO1xubGV0IGxhc3RfY2FudmFzX2hlaWdodDtcbmxldCBsYXN0X2JvZHlfaGVpZ2h0O1xubGV0IHNhZmVhcmVhX2VsZW07XG5sZXQgc2FmZWFyZWFfaWdub3JlX2JvdHRvbSA9IGZhbHNlO1xubGV0IHNhZmVhcmVhX3ZhbHVlcyA9IFswLDAsMCwwXTtcbmxldCBsYXN0X3NhZmVhcmVhX3ZhbHVlcyA9IFswLDAsMCwwXTtcbmZ1bmN0aW9uIGNoZWNrUmVzaXplKCkge1xuICAvLyB1c2UgVmlzdWFsVmlld3BvcnQgb24gYXQgbGVhc3QgaU9TIFNhZmFyaSAtIGRlYWwgd2l0aCB0YWJzIGFuZCBrZXlib2FyZFxuICAvLyAgIHNocmlua2luZyB0aGUgdmlld3BvcnQgd2l0aG91dCBjaGFuZ2luZyB0aGUgd2luZG93IGhlaWdodFxuICBsZXQgdnYgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQgfHwge307XG4gIGRvbV90b19jYW52YXNfcmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICBkb21fdG9fY2FudmFzX3JhdGlvICo9IHNldHRpbmdzLnJlbmRlcl9zY2FsZV9hbGw7XG4gIGxldCB2aWV3X3cgPSAodnYud2lkdGggfHwgd2luZG93LmlubmVyV2lkdGgpO1xuICBsZXQgdmlld19oID0gKHZ2LmhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBpZiAodmlld19oICE9PSBsYXN0X2JvZHlfaGVpZ2h0KSB7XG4gICAgLy8gc2V0IHRoaXMgKmJlZm9yZSogZ2V0dGluZyBjYW52YXMgYW5kIHNhZmVhcmVhX2VsZW0gZGltcyBiZWxvd1xuICAgIGxhc3RfYm9keV9oZWlnaHQgPSB2aWV3X2g7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBgJHt2aWV3X2h9cHhgO1xuICB9XG4gIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQgbmV3X3dpZHRoID0gcm91bmQocmVjdC53aWR0aCAqIGRvbV90b19jYW52YXNfcmF0aW8pIHx8IDE7XG4gIGxldCBuZXdfaGVpZ2h0ID0gcm91bmQocmVjdC5oZWlnaHQgKiBkb21fdG9fY2FudmFzX3JhdGlvKSB8fCAxO1xuXG4gIGlmIChjbWRzLnNhZmVhcmVhWzBdID09PSAtMSkge1xuICAgIGlmIChzYWZlYXJlYV9lbGVtKSB7XG4gICAgICBsZXQgc2Ffd2lkdGggPSBzYWZlYXJlYV9lbGVtLm9mZnNldFdpZHRoO1xuICAgICAgbGV0IHNhX2hlaWdodCA9IHNhZmVhcmVhX2VsZW0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKHNhX3dpZHRoICYmIHNhX2hlaWdodCkge1xuICAgICAgICB2NHNldChzYWZlYXJlYV92YWx1ZXMsXG4gICAgICAgICAgc2FmZWFyZWFfZWxlbS5vZmZzZXRMZWZ0ICogZG9tX3RvX2NhbnZhc19yYXRpbyxcbiAgICAgICAgICBuZXdfd2lkdGggLSAoc2Ffd2lkdGggKyBzYWZlYXJlYV9lbGVtLm9mZnNldExlZnQpICogZG9tX3RvX2NhbnZhc19yYXRpbyxcbiAgICAgICAgICBtYXgoc2FmZWFyZWFfZWxlbS5vZmZzZXRUb3AgKiBkb21fdG9fY2FudmFzX3JhdGlvLFxuICAgICAgICAgICAgc2FmYXJpVG9wU2FmZUFyZWEodmlld193LCB2aWV3X2gpICogc2V0dGluZ3MucmVuZGVyX3NjYWxlX2FsbCksXG4gICAgICAgICAgLy8gTm90ZTogUG9zc2libHkgaWdub3JpbmcgYm90dG9tIHNhZmUgYXJlYSwgaXQgc2VlbXMgbm90IHVzZWZ1bCBvbiBpUGhvbmVzIChkb2VzIG5vdFxuICAgICAgICAgIC8vICBhZGp1c3Qgd2hlbiBrZXlib2FyZCBpcyB1cCwgb25seSBvYnNjdXJlZCBpbiB0aGUgbWlkZGxlLCBpZiBvYmV5aW5nIGxlZnQvcmlnaHQgc2FmZSBhcmVhKVxuICAgICAgICAgIHNhZmVhcmVhX2lnbm9yZV9ib3R0b20gPyAwIDogbmV3X2hlaWdodCAtIChzYV9oZWlnaHQgKyBzYWZlYXJlYV9lbGVtLm9mZnNldFRvcCkgKiBkb21fdG9fY2FudmFzX3JhdGlvKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdjRzZXQoc2FmZWFyZWFfdmFsdWVzLFxuICAgICAgbmV3X3dpZHRoICogY2xhbXAoY21kcy5zYWZlYXJlYVswXSwgMCwgMjUpLzEwMCxcbiAgICAgIG5ld193aWR0aCAqIGNsYW1wKGNtZHMuc2FmZWFyZWFbMV0sIDAsIDI1KS8xMDAsXG4gICAgICBuZXdfaGVpZ2h0ICogY2xhbXAoY21kcy5zYWZlYXJlYVsyXSwgMCwgMjUpLzEwMCxcbiAgICAgIG5ld19oZWlnaHQgKiBjbGFtcChjbWRzLnNhZmVhcmVhWzNdLCAwLCAyNSkvMTAwKTtcbiAgfVxuICBpZiAoIXY0c2FtZShzYWZlYXJlYV92YWx1ZXMsIGxhc3Rfc2FmZWFyZWFfdmFsdWVzKSkge1xuICAgIHY0Y29weShsYXN0X3NhZmVhcmVhX3ZhbHVlcywgc2FmZWFyZWFfdmFsdWVzKTtcbiAgICBjYW1lcmEyZC5zZXRTYWZlQXJlYVBhZGRpbmcoc2FmZWFyZWFfdmFsdWVzWzBdLCBzYWZlYXJlYV92YWx1ZXNbMV0sIHNhZmVhcmVhX3ZhbHVlc1syXSwgc2FmZWFyZWFfdmFsdWVzWzNdKTtcbiAgICBuZWVkX3JlcG9zID0gbWF4KG5lZWRfcmVwb3MsIDEpO1xuICB9XG5cbiAgaWYgKG5ld193aWR0aCAhPT0gbGFzdF9jYW52YXNfd2lkdGggfHwgbmV3X2hlaWdodCAhPT0gbGFzdF9jYW52YXNfaGVpZ2h0KSB7XG4gICAgd2luZG93LnBpeGVsX3NjYWxlID0gZG9tX3RvX2NhbnZhc19yYXRpbzsgLy8gZm9yIGRlYnVnXG4gICAgbGFzdF9jYW52YXNfd2lkdGggPSBjYW52YXMud2lkdGggPSBuZXdfd2lkdGggfHwgMTtcbiAgICBsYXN0X2NhbnZhc19oZWlnaHQgPSBjYW52YXMuaGVpZ2h0ID0gbmV3X2hlaWdodCB8fCAxO1xuXG4gICAgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICBzZXRGT1Yoc2V0dGluZ3MuZm92ICogUEkgLyAxODApO1xuXG4gICAgLy8gRm9yIHRoZSBuZXh0IDEwIGZyYW1lcywgbWFrZSBzdXJlIGZvbnQgc2l6ZSBpcyBjb3JyZWN0XG4gICAgbmVlZF9yZXBvcyA9IDEwO1xuICB9XG4gIGlmIChpc19pb3Nfc2FmYXJpICYmICh3aW5kb3cudmlzdWFsVmlld3BvcnQgfHwgbmVlZF9yZXBvcykpIHtcbiAgICAvLyB3ZSBoYXZlIGFjY3VyYXRlIHZpZXcgaW5mb3JtYXRpb24sIG9yIHNjcmVlbiB3YXMganVzdCByb3RhdGVkIC8gcmVzaXplZFxuICAgIC8vIGZvcmNlIHNjcm9sbCB0byB0b3BcbiAgICB3aW5kb3cuc2Nyb2xsKDAsMCk7XG4gIH1cbn1cblxuZXhwb3J0IGxldCB2aWV3cG9ydCA9IHZlYzQoMCwwLDEsMSk7XG5leHBvcnQgZnVuY3Rpb24gc2V0Vmlld3BvcnQoeHl3aCkge1xuICB2NGNvcHkodmlld3BvcnQsIHh5d2gpO1xuICBnbC52aWV3cG9ydCh4eXdoWzBdLCB4eXdoWzFdLCB4eXdoWzJdLCB4eXdoWzNdKTtcbn1cblxubGV0IGZyYW1lX3JlcXVlc3RlZCA9IGZhbHNlO1xuZnVuY3Rpb24gcmVxdWVzdEZyYW1lKCkge1xuICBpZiAoZnJhbWVfcmVxdWVzdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZyYW1lX3JlcXVlc3RlZCA9IHRydWU7XG4gIGxldCBtYXhfZnBzID0gc2V0dGluZ3MubWF4X2ZwcztcbiAgaWYgKGRlZmluZXMuU0xPV0xPQUQgJiYgaXNfbG9hZGluZykge1xuICAgIC8vIFNhZmFyaSBvbiBDcm9zc0Jyb3dzZXJUZXN0aW5nIG5lZWRzIHRoaXMgaW4gb3JkZXIgdG8gaGF2ZSBzb21lIHRpbWUgdG8gbG9hZC9kZWNvZGUgYXVkaW8gZGF0YVxuICAgIC8vIFRPRE86IEluc3RlYWQsIGdlbmVyYWxseSwgaWYgbG9hZGluZywgY29tcGFyZSBsYXN0X3RpY2tfY3B1IHZzIGR0LCBhbmQgaWZcbiAgICAvLyAgIHdlJ3JlIG5vdCBpZGxlIGZvciBhdCBsZWFzdCBoYWxmIG9mIHRoZSB0aW1lIGFuZCB3ZSBoYXZlICppbnRlcm5hbCpcbiAgICAvLyAgIGxvYWRzICh0ZXh0dXJlcywgc291bmRzLCBtb2RlbHMsIE5PVCB1c2VyIGNvZGUpLCBkZWxheSBzbyB0aGF0IHdlIGFyZS5cbiAgICBtYXhfZnBzID0gMjtcbiAgfVxuICBpZiAobWF4X2Zwcykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHNldFRpbWVvdXQodGljaywgcm91bmQoMTAwMCAvIG1heF9mcHMpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gIH1cbn1cblxubGV0IG1hdF9wcm9qZWN0aW9uXzEwO1xuZXhwb3J0IGxldCBoYWRfM2RfdGhpc19mcmFtZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwUHJvamVjdGlvbih1c2VfZm92X3ksIHVzZV93aWR0aCwgdXNlX2hlaWdodCwgem5lYXIsIHpmYXIpIHtcbiAgbWF0NFBlcnNwZWN0aXZlKG1hdF9wcm9qZWN0aW9uLCB1c2VfZm92X3ksIHVzZV93aWR0aC91c2VfaGVpZ2h0LCB6bmVhciwgemZhcik7XG4gIG1hdF9wcm9qZWN0aW9uXzEwID0gbWF0X3Byb2plY3Rpb25bMTBdO1xuICB2NHNldChwcm9qZWN0aW9uX2ludmVyc2UsXG4gICAgMiAvICh1c2Vfd2lkdGggKiBtYXRfcHJvamVjdGlvblswXSksIC8vIHByb2plY3Rpb25fbWF0cml4Lm0wMCksXG4gICAgMiAvICh1c2VfaGVpZ2h0ICogbWF0X3Byb2plY3Rpb25bNV0pLCAvLyBwcm9qZWN0aW9uX21hdHJpeC5tMTEpLFxuICAgIC0oMSArIG1hdF9wcm9qZWN0aW9uWzhdKSAvIG1hdF9wcm9qZWN0aW9uWzBdLCAvLyBwcm9qZWN0aW9uX21hdHJpeC5tMjApIC8gcHJvamVjdGlvbl9tYXRyaXgubTAwLFxuICAgIC0oMSArIG1hdF9wcm9qZWN0aW9uWzldKSAvIG1hdF9wcm9qZWN0aW9uWzVdIC8vIHByb2plY3Rpb25fbWF0cml4Lm0yMSkgLyBwcm9qZWN0aW9uX21hdHJpeC5tMTFcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFpSYW5nZSh6bmVhciwgemZhcikge1xuICBaTkVBUiA9IHpuZWFyO1xuICBaRkFSID0gemZhcjtcbiAgaWYgKGhhZF8zZF90aGlzX2ZyYW1lKSB7XG4gICAgc2V0dXBQcm9qZWN0aW9uKGZvdl95LCB3aWR0aCwgaGVpZ2h0LCBaTkVBUiwgWkZBUik7XG4gIH1cbn1cblxubGV0IHJlbmRlcl9zY2FsZV8zZF90aGlzX2ZyYW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0M0RSZW5kZXJpbmcoKSB7XG4gIGhhZF8zZF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgaWYgKHJlbmRlcl9zY2FsZV8zZF90aGlzX2ZyYW1lICYmICFkZWZpbmVzLk5PQ09QWSkge1xuICAgIGVmZmVjdHNQYXNzQWRkKCk7XG4gIH1cbiAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgZ2wuZGVwdGhNYXNrKHRydWUpO1xuICBmcmFtZWJ1ZmZlclN0YXJ0KHtcbiAgICB3aWR0aDogd2lkdGhfM2QsXG4gICAgaGVpZ2h0OiBoZWlnaHRfM2QsXG4gICAgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCksXG4gICAgbmVlZF9kZXB0aDogdHJ1ZSxcbiAgICBjbGVhcjogdHJ1ZSxcbiAgICBjbGVhcl9hbGw6IHNldHRpbmdzLnJlbmRlcl9zY2FsZV9jbGVhcixcbiAgfSk7XG5cbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIHNldHVwUHJvamVjdGlvbihmb3ZfeSwgcmVuZGVyX3dpZHRoLCByZW5kZXJfaGVpZ2h0LCBaTkVBUiwgWkZBUik7XG4gIH0gZWxzZSB7XG4gICAgc2V0dXBQcm9qZWN0aW9uKGZvdl95LCB3aWR0aCwgaGVpZ2h0LCBaTkVBUiwgWkZBUik7XG4gIH1cblxuICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2NhbGVGaW5pc2goKSB7XG4gIGlmIChkZWZpbmVzLk5PQ09QWSkge1xuICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB2NHNldCh2aWV3cG9ydCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgZ2wudmlld3BvcnQodmlld3BvcnRbMF0sIHZpZXdwb3J0WzFdLCB2aWV3cG9ydFsyXSwgdmlld3BvcnRbM10pO1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdHNQYXNzQ29uc3VtZSgpO1xuICAgIGlmIChzZXR0aW5ncy5yZW5kZXJfc2NhbGVfbW9kZSA9PT0gMikge1xuICAgICAgZWZmZWN0cy5hcHBseVBpeGVseUV4cGFuZCh7IGZpbmFsOiBlZmZlY3RzSXNGaW5hbCgpLCBjbGVhcjogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVmZmVjdHMuYXBwbHlDb3B5KHsgZmlsdGVyX2xpbmVhcjogc2V0dGluZ3MucmVuZGVyX3NjYWxlX21vZGUgPT09IDAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNwcml0ZVJlbmRlcmluZygpIHtcbiAgZ2wuZGlzYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgZ2wuZGVwdGhNYXNrKGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3Rpb25aQmlhcyhkaXN0LCBhdF96KSB7XG4gIGlmICghZGlzdCkge1xuICAgIG1hdF9wcm9qZWN0aW9uWzEwXSA9IG1hdF9wcm9qZWN0aW9uXzEwO1xuICAgIHJldHVybjtcbiAgfVxuICAvL2xldCBlID0gMiAqIFpGQVIgKiBaTkVBUiAvIChaRkFSIC0gWk5FQVIpICogKGRpc3QgLyAoYXRfeiAqIChhdF96ICsgZGlzdCkpKTtcbiAgbGV0IGUgPSAwLjIgKiAoZGlzdCAvIChhdF96ICogKGF0X3ogKyBkaXN0KSkpO1xuICBlID0gbWF4KGUsIDJlLTcpO1xuICBtYXRfcHJvamVjdGlvblsxMF0gPSBtYXRfcHJvamVjdGlvbl8xMCArIGU7XG59XG5cbmZ1bmN0aW9uIGZpeE5hdGl2ZXMoaXNfc3RhcnR1cCkge1xuICAvLyBJZiBhbnkgYnJvd3NlciBleHRlbnNpb25zIGhhdmUgYWRkZWQgdGhpbmdzIHRvIHRoZSBBcnJheSBwcm90b3R5cGUsIHJlbW92ZSB0aGVtIVxuICBsZXQgYiA9IFtdO1xuICBmb3IgKGxldCBhIGluIGIpIHtcbiAgICBjb25zb2xlW2lzX3N0YXJ0dXAgPyAnbG9nJyA6ICdlcnJvciddKGBGb3VuZCBpbnZhc2l2ZSBlbnVtZXJhYmxlIHByb3BlcnR5IFwiJHthfVwiIG9uIEFycmF5LnByb3RvdHlwZSwgcmVtb3ZpbmcuLi5gKTtcbiAgICBsZXQgb2xkX3ZhbCA9IGJbYV07XG4gICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVthXTtcbiAgICAvLyBJZiB0aGlzIGZhaWxzIHRvIHdvcmssIHBlcmhhcHMgdHJ5IHVzaW5nIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyhBcnJheS5wcm90b3R5cGUpIGluIGFuIGlubGluZSBoZWFkZXIgc2NyaXB0P1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRlbmQtbmF0aXZlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgYSwgeyB2YWx1ZTogb2xkX3ZhbCwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG4gIH1cbiAgZm9yIChsZXQgYSBpbiBiKSB7XG4gICAgLy8gRmFpbGVkOiBjb2RlIHRoYXQgaXRlcmF0ZXMgYXJyYXlzIHdpbGwgZmFpbFxuICAgIGFzc2VydChmYWxzZSwgYEFycmF5LnByb3RvdHlwZSBoYXMgdW5yZW1vdmFibGUgbWVtYmVyICR7YX1gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXNldFN0YXRlKCkge1xuICAvLyBPbmx5IGdlb20uZ2VvbVJlc2V0U3RhdGUgYXBwZWFycyB0byBoYXZlIGJlZW4gc3RyaWN0bHkgbmVlZGVkIHRvIHdvcmsgYXJvdW5kXG4gIC8vICBhIGJ1ZyBvbiBDaHJvbWUgNzEsIGJ1dCBkb2luZyB0aGUgcmVzdCBvZiB0aGlzIHRvIGJlIHNhZmUuXG4gIHRleHR1cmVzLnRleHR1cmVzUmVzZXRTdGF0ZSgpO1xuICBzaGFkZXJzLnNoYWRlcnNSZXNldFN0YXRlKCk7XG4gIGdlb20uZ2VvbVJlc2V0U3RhdGUoKTtcblxuICAvLyBUaGVzZSBzaG91bGQgYWxyZWFkeSBiZSB0cnVlOlxuICAvLyBnbC5ibGVuZEZ1bmMoZ2wuT05FLCBnbC5PTkUpO1xuICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgLy8gZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gIC8vIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgLy8gZ2wuZGVwdGhNYXNrKGZhbHNlKTtcbiAgZ2wuZGVwdGhNYXNrKHRydWUpO1xuICAvLyBnbC5kaXNhYmxlKGdsLkNVTExfRkFDRSk7XG4gIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICAvLyBnbC5kZXB0aEZ1bmMoZ2wuR0VRVUFMKTtcbiAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XG4gIC8vIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIC8vIGdsLmN1bGxGYWNlKGdsLkZST05UKTtcbiAgZ2wuY3VsbEZhY2UoZ2wuQkFDSyk7XG4gIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufVxuXG5leHBvcnQgY29uc3QgaHJub3cgPSB3aW5kb3cucGVyZm9ybWFuY2UgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKSA6IERhdGUubm93LmJpbmQoRGF0ZSk7XG5cbmxldCBsYXN0X3RpY2sgPSAwO1xuZnVuY3Rpb24gdGljayh0aW1lc3RhbXApIHtcbiAgZnJhbWVfcmVxdWVzdGVkID0gZmFsc2U7XG4gIC8vIGlmICh0aW1lc3RhbXAgPCAxZTEyKSB7IC8vIGhpZ2ggcmVzb2x1dGlvbiB0aW1lclxuICAvLyAgIHRoaXMgZW5kcyB1cCBiZWluZyBhIHZhbHVlIHdheSBiYWNrIGluIHRpbWUsIHJlbGF0aXZlIHRvIHdoYXQgaHJub3coKSByZXR1cm5zLFxuICAvLyAgIGFuZCBldmVuIGJhY2sgaW4gdGltZSByZWxhdGl2ZSB0byBpbnB1dCBldmVudHMgYWxyZWFkeSBkaXNwYXRjaGVkLFxuICAvLyAgIGNhdXNpbmcgdGltaW5nIGNvbmZ1c2lvbiwgc28gaWdub3JlIGl0LCBqdXN0IGNhbGwgaHJub3coKVxuICAvLyAgIGhydGltZSA9IHRpbWVzdGFtcDtcbiAgLy8gfSBlbHNlIHsgLy8gcHJvYmFibHkgaW50ZWdlciBtaWxsaXNlY29uZHMgc2luY2UgZXBvY2gsIG9yIG5vdGhpbmdcbiAgaHJ0aW1lID0gaHJub3coKTtcbiAgLy8gfVxuICBsZXQgbm93ID0gcm91bmQoaHJ0aW1lKTsgLy8gQ29kZSBhc3N1bWVzIGludGVnZXIgbWlsbGlzZWNvbmRzXG4gIGlmICghbGFzdF90aWNrKSB7XG4gICAgbGFzdF90aWNrID0gbm93O1xuICB9XG4gIHRoaXNfZnJhbWVfdGltZV9hY3R1YWwgPSBub3cgLSBsYXN0X3RpY2s7XG4gIGxldCBkdCA9IG1pbihtYXgodGhpc19mcmFtZV90aW1lX2FjdHVhbCwgMSksIDI1MCk7XG4gIGZyYW1lX2R0ID0gZHQ7XG4gIGxhc3RfdGljayA9IG5vdztcbiAgZnJhbWVfdGltZXN0YW1wICs9IGR0O1xuICArK2ZyYW1lX2luZGV4O1xuXG4gIGZpeE5hdGl2ZXMoZmFsc2UpO1xuXG4gIC8vIGxldCB0aGlzX25ldF90aW1lID0gd3NjbGllbnQuZ2V0TmV0VGltZSgpO1xuICAvLyBmcHNncmFwaC5oaXN0b3J5WyhmcHNncmFwaC5pbmRleCAlIFBFUkZfSElTVE9SWV9TSVpFKSAqIDMgKyAwXSA9IHRoaXNfbmV0X3RpbWU7XG4gIGZwc2dyYXBoLmhpc3RvcnlbKGZwc2dyYXBoLmluZGV4ICUgUEVSRl9ISVNUT1JZX1NJWkUpICogMiArIDFdID0gdGhpc19mcmFtZV90aW1lX2FjdHVhbDtcbiAgZnBzZ3JhcGguaW5kZXgrKztcbiAgZnBzZ3JhcGguaGlzdG9yeVsoZnBzZ3JhcGguaW5kZXggJSBQRVJGX0hJU1RPUllfU0laRSkgKiAyICsgMF0gPSAwO1xuXG4gICsrbXNwZl9mcmFtZV9jb3VudDtcbiAgbXNwZl90aWNrX2FjY3VtICs9IGxhc3RfdGlja19jcHU7XG4gIC8vIG5ldF90aW1lX2FjY3VtICs9IHRoaXNfbmV0X3RpbWU7XG4gIGlmIChub3cgLSBtc3BmX3VwZGF0ZV90aW1lID4gc2V0dGluZ3MuZnBzX3dpbmRvdyAqIDEwMDApIHtcbiAgICBpZiAoIW1zcGZfdXBkYXRlX3RpbWUpIHtcbiAgICAgIG1zcGZfdXBkYXRlX3RpbWUgPSBub3c7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zcGYgPSAobm93IC0gbXNwZl91cGRhdGVfdGltZSkgLyBtc3BmX2ZyYW1lX2NvdW50O1xuICAgICAgbXNwZl90aWNrID0gbXNwZl90aWNrX2FjY3VtIC8gbXNwZl9mcmFtZV9jb3VudDtcbiAgICAgIG1zcGZfdGlja19hY2N1bSA9IDA7XG4gICAgICAvLyBuZXRfdGltZSA9IG5ldF90aW1lX2FjY3VtIC8gbXNwZl9mcmFtZV9jb3VudDtcbiAgICAgIC8vIG5ldF90aW1lX2FjY3VtID0gMDtcbiAgICAgIG1zcGZfZnJhbWVfY291bnQgPSAwO1xuICAgICAgbXNwZl91cGRhdGVfdGltZSA9IG5vdztcbiAgICB9XG4gIH1cblxuICBlZmZlY3RzVG9wT2ZGcmFtZSgpO1xuXG4gIGlmIChkb2N1bWVudC5oaWRkZW4gfHwgZG9jdW1lbnQud2Via2l0SGlkZGVuIHx8IG5vX3JlbmRlcikge1xuICAgIHJlc2V0RWZmZWN0cygpO1xuICAgIGlucHV0LnRpY2tJbnB1dEluYWN0aXZlKCk7XG4gICAgbGFzdF90aWNrX2NwdSA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSBwb3N0X3RpY2subGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgICAgaWYgKHBvc3RfdGlja1tpaV0uaW5hY3RpdmUgJiYgIS0tcG9zdF90aWNrW2lpXS50aWNrcykge1xuICAgICAgICBwb3N0X3RpY2tbaWldLmZuKCk7XG4gICAgICAgIHJpZHgocG9zdF90aWNrLCBpaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlcXVlc3RGcmFtZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNoZWNrUmVzaXplKCk7XG4gIGhhZF8zZF90aGlzX2ZyYW1lID0gZmFsc2U7XG4gIHJlbmRlcl9zY2FsZV8zZF90aGlzX2ZyYW1lID0gZmFsc2U7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICAvLyByZW5kZXJfc2NhbGUgbm90IHN1cHBvcnRlZCB3aXRoIHJlbmRlcl93aWR0aCwgZG9lc24ndCBtYWtlIG11Y2ggc2Vuc2UsIGp1c3QgdXNlIHJlbmRlcl93aWR0aFxuICAgIHdpZHRoXzNkID0gcmVuZGVyX3dpZHRoO1xuICAgIGhlaWdodF8zZCA9IHJlbmRlcl9oZWlnaHQ7XG4gICAgZWZmZWN0c1Bhc3NBZGQoKTtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aF8zZCA9IHJvdW5kKHdpZHRoICogc2V0dGluZ3MucmVuZGVyX3NjYWxlKTtcbiAgICBoZWlnaHRfM2QgPSByb3VuZChoZWlnaHQgKiBzZXR0aW5ncy5yZW5kZXJfc2NhbGUpO1xuICAgIGlmICh3aWR0aF8zZCAhPT0gd2lkdGgpIHtcbiAgICAgIHJlbmRlcl9zY2FsZV8zZF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXNldFN0YXRlKCk7XG5cbiAgdGV4dHVyZXMuYmluZCgwLCB0ZXh0dXJlcy50ZXh0dXJlcy5lcnJvcik7XG5cbiAgY2FtZXJhMmQudGlja0NhbWVyYTJEKCk7XG4gIGdsb3ZfdHJhbnNpdGlvbi5yZW5kZXIoZHQpO1xuICBjYW1lcmEyZC5zZXRBc3BlY3RGaXhlZChnYW1lX3dpZHRoLCBnYW1lX2hlaWdodCk7XG5cbiAgc291bmRUaWNrKGR0KTtcbiAgaW5wdXQudGlja0lucHV0KCk7XG4gIGdsb3ZfdWkudGlja1VJKGR0KTtcblxuICBpZiAobmVlZF9yZXBvcykge1xuICAgIC0tbmVlZF9yZXBvcztcbiAgICBsZXQgdWwgPSBbXTtcbiAgICBjYW1lcmEyZC52aXJ0dWFsVG9Eb20odWwsIFswLDBdKTtcbiAgICBsZXQgbHIgPSBbXTtcbiAgICBjYW1lcmEyZC52aXJ0dWFsVG9Eb20obHIsIFtnYW1lX3dpZHRoLTEsZ2FtZV9oZWlnaHQtMV0pO1xuICAgIGxldCB2aWV3cG9ydDIgPSBbdWxbMF0sIHVsWzFdLCBsclswXSwgbHJbMV1dO1xuICAgIGxldCB2aWV3X2hlaWdodCA9IHZpZXdwb3J0MlszXSAtIHZpZXdwb3J0MlsxXTtcbiAgICAvLyBkZWZhdWx0IGZvbnQgc2l6ZSBvZiAxNiB3aGVuIGF0IGhlaWdodCBvZiBnYW1lX2hlaWdodFxuICAgIGxldCBmb250X3NpemUgPSBtaW4oMjU2LCBtYXgoMiwgZmxvb3Iodmlld19oZWlnaHQvODAwICogMTYpKSk7XG4gICAgbGV0IGVsZW1fZnVsbHNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdWxsc2NyZWVuJyk7XG4gICAgaWYgKGVsZW1fZnVsbHNjcmVlbikge1xuICAgICAgZWxlbV9mdWxsc2NyZWVuLnN0eWxlWydmb250LXNpemUnXSA9IGAke2ZvbnRfc2l6ZX1weGA7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvX2JvcmRlcnMpIHtcbiAgICAvLyBCb3JkZXJzXG4gICAgZ2xvdl91aS5kcmF3UmVjdChjYW1lcmEyZC54MFJlYWwoKSwgY2FtZXJhMmQueTBSZWFsKCksIGNhbWVyYTJkLngxUmVhbCgpLCAwLCBaLkJPUkRFUlMsIGJvcmRlcl9jb2xvcik7XG4gICAgZ2xvdl91aS5kcmF3UmVjdChjYW1lcmEyZC54MFJlYWwoKSwgZ2FtZV9oZWlnaHQsIGNhbWVyYTJkLngxUmVhbCgpLCBjYW1lcmEyZC55MVJlYWwoKSwgWi5CT1JERVJTLCBib3JkZXJfY29sb3IpO1xuICAgIGdsb3ZfdWkuZHJhd1JlY3QoY2FtZXJhMmQueDBSZWFsKCksIDAsIDAsIGdhbWVfaGVpZ2h0LCBaLkJPUkRFUlMsIGJvcmRlcl9jb2xvcik7XG4gICAgZ2xvdl91aS5kcmF3UmVjdChnYW1lX3dpZHRoLCAwLCBjYW1lcmEyZC54MVJlYWwoKSwgZ2FtZV9oZWlnaHQsIFouQk9SREVSUywgYm9yZGVyX2NvbG9yKTtcbiAgfVxuXG4gIGlmIChzZXR0aW5ncy5zaG93X21ldHJpY3MpIHtcbiAgICBwZXJmLmRyYXcoKTtcbiAgfVxuXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcHBfdGlja19mdW5jdGlvbnMubGVuZ3RoOyArK2lpKSB7XG4gICAgYXBwX3RpY2tfZnVuY3Rpb25zW2lpXShkdCk7XG4gIH1cbiAgaWYgKGFwcF9zdGF0ZSkge1xuICAgIGFwcF9zdGF0ZShkdCk7XG4gIH1cblxuICBnbG92X3BhcnRpY2xlcy50aWNrKGR0KTsgLy8gKmFmdGVyKiBhcHBfdGljaywgc28gbmV3bHkgYWRkZWQva2lsbGVkIHBhcnRpY2xlcyBjYW4gYmUgcXVldWVkIGludG8gdGhlIGRyYXcgbGlzdFxuXG4gIGlmIChoYWRfM2RfdGhpc19mcmFtZSkge1xuICAgIGlmIChyZW5kZXJfc2NhbGVfM2RfdGhpc19mcmFtZSkge1xuICAgICAgcmVuZGVyU2NhbGVGaW5pc2goKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZGVsYXllZCBjbGVhciAoYW5kIGdlbmVyYWwgR0wgaW5pdCkgdW50aWwgYWZ0ZXIgYXBwX3N0YXRlLCBhcHAgbWlnaHQgY2hhbmdlIGNsZWFyIGNvbG9yXG4gICAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgICAgLy8gYXNzZXJ0KCFlZmZlY3RzSXNGaW5hbCgpKTtcbiAgICAgIGZyYW1lYnVmZmVyU3RhcnQoe1xuICAgICAgICB3aWR0aDogcmVuZGVyX3dpZHRoLFxuICAgICAgICBoZWlnaHQ6IHJlbmRlcl9oZWlnaHQsXG4gICAgICAgIGNsZWFyOiB0cnVlLFxuICAgICAgICBjbGVhcl9hbGw6IHNldHRpbmdzLnJlbmRlcl9zY2FsZV9jbGVhciwgLy8gTm90IHN1cmUgaWYgdGhpcyBpcyBldmVyIGZhc3RlciBpbiB0aGlzIGNhc2U/XG4gICAgICAgIGZpbmFsOiBlZmZlY3RzSXNGaW5hbCgpLFxuICAgICAgICBuZWVkX2RlcHRoOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZWJ1ZmZlclN0YXJ0KHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgY2xlYXI6IHRydWUsXG4gICAgICAgIGZpbmFsOiBlZmZlY3RzSXNGaW5hbCgpLFxuICAgICAgICBuZWVkX2RlcHRoOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0U3ByaXRlUmVuZGVyaW5nKCk7XG4gIHNwcml0ZXMuZHJhdygpO1xuXG4gIGdsb3ZfdWkuZW5kRnJhbWUoKTtcblxuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgZWZmZWN0c1Bhc3NDb25zdW1lKCk7XG4gICAgbGV0IGNsZWFyX2NvbG9yID0gWzAsIDAsIDAsIDFdO1xuICAgIGxldCBmaW5hbF92aWV3cG9ydCA9IFtcbiAgICAgIGNhbWVyYTJkLnJlbmRlcl9vZmZzZXRfeCwgY2FtZXJhMmQucmVuZGVyX29mZnNldF95X2JvdHRvbSxcbiAgICAgIGNhbWVyYTJkLnJlbmRlcl92aWV3cG9ydF93LCBjYW1lcmEyZC5yZW5kZXJfdmlld3BvcnRfaFxuICAgIF07XG4gICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgIGNsZWFyOiB0cnVlLFxuICAgICAgY2xlYXJfYWxsOiB0cnVlLFxuICAgICAgY2xlYXJfY29sb3I6IGNsZWFyX2NvbG9yLFxuICAgICAgdmlld3BvcnQ6IGZpbmFsX3ZpZXdwb3J0LFxuICAgIH07XG4gICAgaWYgKGRvX3ZpZXdwb3J0X3Bvc3Rwcm9jZXNzKSB7XG4gICAgICBlZmZlY3RzLmFwcGx5UGl4ZWx5RXhwYW5kKHBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVmZmVjdHMuYXBwbHlDb3B5KHBhcmFtcyk7XG4gICAgfVxuICB9XG5cbiAgaW5wdXQuZW5kRnJhbWUoKTtcbiAgcmVzZXRFZmZlY3RzKCk7XG4gIHRleHR1cmVzVGljaygpO1xuXG4gIGZvciAobGV0IGlpID0gcG9zdF90aWNrLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICBpZiAoIS0tcG9zdF90aWNrW2lpXS50aWNrcykge1xuICAgICAgcG9zdF90aWNrW2lpXS5mbigpO1xuICAgICAgcmlkeChwb3N0X3RpY2ssIGlpKTtcbiAgICB9XG4gIH1cblxuICBsYXN0X3RpY2tfY3B1ID0gaHJub3coKSAtIG5vdztcbiAgZnBzZ3JhcGguaGlzdG9yeVsoZnBzZ3JhcGguaW5kZXggJSBQRVJGX0hJU1RPUllfU0laRSkgKiAyICsgMF0gPSBsYXN0X3RpY2tfY3B1O1xuICByZXF1ZXN0RnJhbWUoKTtcbn1cblxuZnVuY3Rpb24gcGVyaW9kaWNseVJlcXVlc3RGcmFtZSgpIHtcbiAgcmVxdWVzdEZyYW1lKCk7XG4gIHNldFRpbWVvdXQocGVyaW9kaWNseVJlcXVlc3RGcmFtZSwgNTAwMCk7XG59XG5cbi8vIE11c3QgYmUgY2FsbGVkIG91dC1vZi1mcmFtZSAodXNlIHNldFRpbWVvdXQpIGlmIG5vdCBhdCBzdGFydHVwXG5leHBvcnQgZnVuY3Rpb24gc2V0UGl4ZWx5U3RyaWN0KG9uKSB7XG4gIGlmIChvbikge1xuICAgIHJlbmRlcl93aWR0aCA9IGdhbWVfd2lkdGg7XG4gICAgcmVuZGVyX2hlaWdodCA9IGdhbWVfaGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIHJlbmRlcl93aWR0aCA9IHVuZGVmaW5lZDtcbiAgICByZW5kZXJfaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKHBhcmFtcykge1xuICBmaXhOYXRpdmVzKHRydWUpO1xuXG4gIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgc2FmZWFyZWFfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYWZlYXJlYScpO1xuXG4gIGlmIChwYXJhbXMuZXJyb3JfcmVwb3J0ICE9PSBmYWxzZSkge1xuICAgIGVycm9yUmVwb3J0U2V0UGF0aCh1cmxoYXNoLmdldEFQSVBhdGgoKSk7XG4gICAgd2luZG93Lmdsb3ZfZXJyb3JfcmVwb3J0ID0gKG1zZywgZmlsZSwgbGluZSwgY29sKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KHJlcXVlc3RGcmFtZSwgMSk7XG4gICAgICByZXR1cm4gZ2xvdkVycm9yUmVwb3J0KHRydWUsIG1zZywgZmlsZSwgbGluZSwgY29sKTtcbiAgICB9O1xuICB9XG5cbiAgc2FmZWFyZWFfaWdub3JlX2JvdHRvbSA9IHBhcmFtcy5zYWZlYXJlYV9pZ25vcmVfYm90dG9tIHx8IGZhbHNlO1xuXG4gIC8vIHJlc2l6ZSB0aGUgY2FudmFzIHRvIGZpbGwgYnJvd3NlciB3aW5kb3cgZHluYW1pY2FsbHlcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNoZWNrUmVzaXplLCBmYWxzZSk7XG4gIGNoZWNrUmVzaXplKCk7XG5cbiAgbGV0IGlzX3BpeGVseSA9IHBhcmFtcy5waXhlbHkgJiYgcGFyYW1zLnBpeGVseSAhPT0gJ29mZic7XG4gIGFudGlhbGlhcyA9IHBhcmFtcy5hbnRpYWxpYXMgfHwgIWlzX3BpeGVseSAmJiBwYXJhbXMuYW50aWFsaWFzICE9PSBmYWxzZTtcbiAgbGV0IHBvd2VyUHJlZmVyZW5jZSA9IHBhcmFtcy5oaWdoID8gJ2hpZ2gtcGVyZm9ybWFuY2UnIDogJ2RlZmF1bHQnO1xuICBsZXQgY29udGV4dF9uYW1lcyA9IFsnd2ViZ2wyJywgJ3dlYmdsJywgJ2V4cGVyaW1lbnRhbC13ZWJnbCddO1xuICBsZXQgZm9yY2Vfd2ViZ2wxID0gZGVmaW5lcy5OT1dFQkdMMjtcbiAgbGV0IGRpc2FibGVfZGF0YSA9IGxvY2FsX3N0b3JhZ2UuZ2V0SlNPTignd2ViZ2wyX2Rpc2FibGUnKTtcbiAgLy8gQ2hlY2sgaWYgYSBwcmV2aW91cywgcmVjZW50IHJ1biBoYWQgYW4gZXJyb3IgdGhhdCBoaW50ZWQgd2Ugc2hvdWxkIGRpc2FibGUgV2ViR0wyXG4gIGlmIChkaXNhYmxlX2RhdGEgJiYgZGlzYWJsZV9kYXRhLnVhID09PSBuYXZpZ2F0b3IudXNlckFnZW50ICYmIGRpc2FibGVfZGF0YS50cyA+IERhdGUubm93KCkgLSA3KjI0KjYwKjYwKjEwMDApIHtcbiAgICBjb25zb2xlLmxvZygnRGlzYWJsaW5nIFdlYkdMMiBiZWNhdXNlIGEgcHJldmlvdXMgcnVuIGVuY291bnRlcmVkIGEgcmVsYXRlZCBlcnJvcicpO1xuICAgIGZvcmNlX3dlYmdsMSA9IHRydWU7XG4gIH1cbiAgaWYgKERFQlVHICYmICFkZWZpbmVzLkZPUkNFV0VCR0wyKSB7XG4gICAgbGV0IHJjID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKCdydW5fY291bnQnLCAwKSArIDE7XG4gICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCdydW5fY291bnQnLCByYyk7XG4gICAgaWYgKHJjICUgMikge1xuICAgICAgZm9yY2Vfd2ViZ2wxID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGZvcmNlX3dlYmdsMSkge1xuICAgIGNvbnRleHRfbmFtZXMuc3BsaWNlKDAsIDEpO1xuICB9XG4gIGxldCBjb250ZXh0X29wdHMgPSBbXG4gICAgeyBhbnRpYWxpYXMsIHBvd2VyUHJlZmVyZW5jZSwgYWxwaGE6IGZhbHNlIH0sXG4gICAgeyBwb3dlclByZWZlcmVuY2UsIGFscGhhOiBmYWxzZSB9LFxuICAgIHsgYW50aWFsaWFzLCBhbHBoYTogZmFsc2UgfSxcbiAgICB7IGFscGhhOiBmYWxzZSB9LFxuICAgIHt9LFxuICBdO1xuICBsZXQgZ29vZCA9IGZhbHNlO1xuICB3ZWJnbDIgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7ICFnb29kICYmIGkgPCBjb250ZXh0X25hbWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgamogPSAwOyAhZ29vZCAmJiBqaiA8IGNvbnRleHRfb3B0cy5sZW5ndGg7ICsramopIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5nbCA9IGNhbnZhcy5nZXRDb250ZXh0KGNvbnRleHRfbmFtZXNbaV0sIGNvbnRleHRfb3B0c1tqal0pO1xuICAgICAgICBpZiAod2luZG93LmdsKSB7XG4gICAgICAgICAgaWYgKGNvbnRleHRfbmFtZXNbaV0gPT09ICd3ZWJnbDInKSB7XG4gICAgICAgICAgICB3ZWJnbDIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYW50aWFsaWFzICYmICFjb250ZXh0X29wdHNbampdLmFudGlhbGlhcykge1xuICAgICAgICAgICAgYW50aWFsaWFzX3VuYXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGFudGlhbGlhcyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnb29kID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFnb29kKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgd2luZG93LmFsZXJ0KCdTb3JyeSwgYnV0IHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMIG9yIGRvZXMgbm90IGhhdmUgaXQgZW5hYmxlZC4nKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm93ZWJnbCcpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnNvbGUubG9nKGBVc2luZyBXZWJHTCR7d2ViZ2wyPzI6MX1gKTtcblxuICBhc3NlcnQoZ2wpO1xuICBjYW52YXMuZm9jdXMoKTtcbiAgc2V0R2FtZURpbXMocGFyYW1zLmdhbWVfd2lkdGggfHwgMTI4MCwgcGFyYW1zLmdhbWVfaGVpZ2h0IHx8IDk2MCk7XG4gIFpORUFSID0gcGFyYW1zLnpuZWFyIHx8IDAuNztcbiAgWkZBUiA9IHBhcmFtcy56ZmFyIHx8IDEwMDAwO1xuICBzZXRQaXhlbHlTdHJpY3QocGFyYW1zLnBpeGVseSA9PT0gJ3N0cmljdCcpO1xuICBpZiAocGFyYW1zLnZpZXdwb3J0X3Bvc3Rwcm9jZXNzICYmIHBhcmFtcy5waXhlbHkgPT09ICdzdHJpY3QnKSB7XG4gICAgZG9fdmlld3BvcnRfcG9zdHByb2Nlc3MgPSB0cnVlO1xuICB9XG4gIHBpeGVsX2FzcGVjdCA9IHBhcmFtcy5waXhlbF9hc3BlY3QgfHwgMTtcbiAgc2V0Rk9WKHNldHRpbmdzLmZvdiAqIFBJIC8gMTgwKTtcblxuICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcbiAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIGdsLmN1bGxGYWNlKGdsLkJBQ0spO1xuICBnbC5jbGVhckNvbG9yKDAsIDAuMSwgMC4yLCAxKTtcbiAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgMSk7IC8vIEFsbG93IFJHQiB0ZXh0dXJlIGRhdGEgd2l0aCBub24tbXVsdC00IHdpZHRoc1xuXG4gIHRleHR1cmVzLnN0YXJ0dXAoKTtcbiAgZ2VvbS5zdGFydHVwKCk7XG4gIHNoYWRlcnMuc3RhcnR1cCh7XG4gICAgbGlnaHRfZGlmZnVzZSxcbiAgICBsaWdodF9kaXJfdnMsXG4gICAgYW1iaWVudDogbGlnaHRfYW1iaWVudCxcbiAgICBtYXRfbTogbWF0X20sXG4gICAgbWF0X212OiBtYXRfbXYsXG4gICAgbWF0X3ZwOiBtYXRfdnAsXG4gICAgbXZwOiBtYXRfbXZwLFxuICAgIG12X2ludl90cmFuczogbWF0X212X2ludl90cmFuc2Zvcm0sXG4gICAgbWF0X2ludl92aWV3OiBtYXRfaW52X3ZpZXcsXG4gICAgdmlldzogbWF0X3ZpZXcsXG4gICAgcHJvamVjdGlvbjogbWF0X3Byb2plY3Rpb24sXG4gICAgcHJvamVjdGlvbl9pbnZlcnNlLFxuICB9KTtcbiAgY2FtZXJhMmQuc3RhcnR1cCgpO1xuICBzcHJpdGVzLnN0YXJ0dXAoKTtcbiAgaW5wdXQuc3RhcnR1cChjYW52YXMsIHBhcmFtcyk7XG4gIG1vZGVscy5zdGFydHVwKCk7XG5cbiAgLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cbiAgZ2xvdl9wYXJ0aWNsZXMgPSByZXF1aXJlKCcuL3BhcnRpY2xlcy5qcycpLmNyZWF0ZSgpO1xuXG4gIGlmIChpc19waXhlbHkpIHtcbiAgICB0ZXh0dXJlcy5kZWZhdWx0RmlsdGVycyhnbC5ORUFSRVNULCBnbC5ORUFSRVNUKTtcbiAgICBzZXR0aW5ncy5ydW5UaW1lRGVmYXVsdCgncmVuZGVyX3NjYWxlX21vZGUnLCAxKTtcbiAgfSBlbHNlIHtcbiAgICB0ZXh0dXJlcy5kZWZhdWx0RmlsdGVycyhnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiwgZ2wuTElORUFSKTtcbiAgfVxuXG4gIGFzc2VydChwYXJhbXMuZm9udCk7XG4gIC8vIElmIG5vdCwgc29tZXRoaW5nIGxpa2U6XG4gIC8vIGNvbnN0IGZvbnRfaW5mb18wNGIwM3gyID0gcmVxdWlyZSgnLi4vaW1nL2ZvbnQvMDRiMDNfOHgyLmpzb24nKTtcbiAgLy8gY29uc3QgZm9udF9pbmZvXzA0YjAzeDEgPSByZXF1aXJlKCcuLi9pbWcvZm9udC8wNGIwM184eDEuanNvbicpO1xuICAvLyBjb25zdCBmb250X2luZm9fcGFsYW5xdWluMzIgPSByZXF1aXJlKCcuLi9pbWcvZm9udC9wYWxhbnF1aW4zMi5qc29uJyk7XG4gIC8vIGlmIChwYXJhbXMucGl4ZWx5ID09PSAnc3RyaWN0Jykge1xuICAvLyAgIGZvbnQgPSBnbG92X2ZvbnQuY3JlYXRlKGZvbnRfaW5mb18wNGIwM3gxLCAnZm9udC8wNGIwM184eDEnKTtcbiAgLy8gfSBlbHNlIGlmIChpc19waXhlbHkpIHtcbiAgLy8gICBmb250ID0gZ2xvdl9mb250LmNyZWF0ZShmb250X2luZm9fMDRiMDN4MiwgJ2ZvbnQvMDRiMDNfOHgyJyk7XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgZm9udCA9IGdsb3ZfZm9udC5jcmVhdGUoZm9udF9pbmZvX3BhbGFucXVpbjMyLCAnZm9udC9wYWxhbnF1aW4zMicpO1xuICAvLyB9XG4gIHBhcmFtcy5mb250ID0gZm9udCA9IGdsb3ZfZm9udC5jcmVhdGUocGFyYW1zLmZvbnQuaW5mbywgcGFyYW1zLmZvbnQudGV4dHVyZSk7XG4gIGlmIChwYXJhbXMudGl0bGVfZm9udCkge1xuICAgIHBhcmFtcy50aXRsZV9mb250ID0gZ2xvdl9mb250LmNyZWF0ZShwYXJhbXMudGl0bGVfZm9udC5pbmZvLCBwYXJhbXMudGl0bGVfZm9udC50ZXh0dXJlKTtcbiAgfVxuICBnbG92X3VpLnN0YXJ0dXAocGFyYW1zKTtcblxuICBzb3VuZFN0YXJ0dXAocGFyYW1zLnNvdW5kKTtcbiAgZ2xvdl91aS5iaW5kU291bmRzKGRlZmF1bHRzKHBhcmFtcy51aV9zb3VuZHMgfHwge30sIHtcbiAgICBidXR0b25fY2xpY2s6ICdidXR0b25fY2xpY2snLFxuICAgIHJvbGxvdmVyOiAncm9sbG92ZXInLFxuICB9KSk7XG5cbiAgY2FtZXJhMmQuc2V0QXNwZWN0Rml4ZWQoZ2FtZV93aWR0aCwgZ2FtZV9oZWlnaHQpO1xuXG4gIGlmIChwYXJhbXMuc3RhdGUpIHtcbiAgICBzZXRTdGF0ZShwYXJhbXMuc3RhdGUpO1xuICB9XG4gIGlmIChwYXJhbXMuZG9fYm9yZGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZG9fYm9yZGVycyA9IHBhcmFtcy5kb19ib3JkZXJzO1xuICB9XG4gIGlmIChwYXJhbXMuc2hvd19mcHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHNldHRpbmdzLnNob3dfZnBzID0gcGFyYW1zLnNob3dfZnBzO1xuICB9XG5cbiAgcGVyaW9kaWNseVJlcXVlc3RGcmFtZSgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRzUGVuZGluZygpIHtcbiAgcmV0dXJuIHRleHR1cmVzLmxvYWRfY291bnQgKyBzb3VuZExvYWRpbmcoKSArIG1vZGVscy5sb2FkX2NvdW50O1xufVxuXG5mdW5jdGlvbiBsb2FkaW5nKCkge1xuICBsZXQgbG9hZF9jb3VudCA9IGxvYWRzUGVuZGluZygpO1xuICBsZXQgZWxlbV9sb2FkaW5nX3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZ190ZXh0Jyk7XG4gIGlmIChlbGVtX2xvYWRpbmdfdGV4dCkge1xuICAgIGVsZW1fbG9hZGluZ190ZXh0LmlubmVyVGV4dCA9IGBMb2FkaW5nICgke2xvYWRfY291bnR9KS4uLmA7XG4gIH1cbiAgaWYgKCFsb2FkX2NvdW50KSB7XG4gICAgaXNfbG9hZGluZyA9IGZhbHNlO1xuICAgIGFwcF9zdGF0ZSA9IGFmdGVyX2xvYWRpbmdfc3RhdGU7XG4gICAgLy8gQ2xlYXIgYWZ0ZXIgbmV4dCBmcmFtZSwgc28gc29tZXRoaW5nIGlzIHJlbmRlcmVkIHRvIHRoZSBjYW52YXNcbiAgICBwb3N0VGljayh7XG4gICAgICB0aWNrczogMixcbiAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBsb2FkaW5nX2VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpO1xuICAgICAgICBpZiAobG9hZGluZ19lbGVtKSB7XG4gICAgICAgICAgbG9hZGluZ19lbGVtLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5hcHBfc3RhdGUgPSBsb2FkaW5nO1xuXG53aW5kb3cuZ2xvdl9lbmdpbmUgPSBleHBvcnRzO1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmxldCBlcnJvcl9yZXBvcnRfZGlzYWJsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUmVwb3J0RGlzYWJsZSgpIHtcbiAgZXJyb3JfcmVwb3J0X2Rpc2FibGVkID0gdHJ1ZTtcbn1cblxubGV0IGFwaV9wYXRoID0gJy8nO1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUmVwb3J0U2V0UGF0aChwYXRoKSB7XG4gIGFwaV9wYXRoID0gcGF0aDtcbn1cblxubGV0IGVycm9yX3JlcG9ydF9kZXRhaWxzID0ge307XG5sZXQgZXJyb3JfcmVwb3J0X2RldGFpbHNfc3RyID0gJyc7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JSZXBvcnRTZXREZXRhaWxzKGtleSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlKSB7XG4gICAgZXJyb3JfcmVwb3J0X2RldGFpbHNba2V5XSA9IGVzY2FwZShTdHJpbmcodmFsdWUpKTtcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgZXJyb3JfcmVwb3J0X2RldGFpbHNba2V5XTtcbiAgfVxuICBlcnJvcl9yZXBvcnRfZGV0YWlsc19zdHIgPSBgJiR7T2JqZWN0LmtleXMoZXJyb3JfcmVwb3J0X2RldGFpbHMpXG4gICAgLm1hcCgoaykgPT4gYCR7a309JHtlcnJvcl9yZXBvcnRfZGV0YWlsc1trXX1gKVxuICAgIC5qb2luKCcmJyl9YDtcbn1cbmVycm9yUmVwb3J0U2V0RGV0YWlscygndmVyJywgQlVJTERfVElNRVNUQU1QKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUmVwb3J0R2V0RGV0YWlscygpIHtcbiAgcmV0dXJuIGVycm9yX3JlcG9ydF9kZXRhaWxzO1xufVxuXG5sZXQgbGFzdF9lcnJvcl90aW1lID0gMDtcbmxldCBjcmFzaF9pZHggPSAwO1xuLy8gRXJyb3JzIGZyb20gcGx1Z2lucyB0aGF0IHdlIGRvbid0IHdhbnQgdG8gZ2V0IHJlcG9ydGVkIHRvIHVzLCBvciBzaG93IHRoZSB1c2VyIVxuLy8gVGhlIGV4YWN0IHBocmFzZSBcIlNjcmlwdCBlcnJvci5cXG4gIGF0ICgwOjApXCIgY29tZXMgZnJvbSBvdXIgYm9vdHN0YXAuanMgd2hlbiB3ZVxuLy8gICByZWNlaXZlIHRoZSBtZXNzYWdlICdTY3JpcHQgRXJyb3IuJyBhbmQgbm8gc3RhY2suICBUaGlzIGhhcHBlbnMgb24gdGhlIE1pIEJyb3dzZXIgb24gUmVkbWkgcGhvbmVzXG4vLyAgIGFuZCBkb2Vzbid0IHNlZW0gdG8gYmUgaW5kaWNhdGl2ZSBvZiBhbnkgYWN0dWFsIHByb2JsZW0uXG4vLyBJZ25vcmluZyBudWxsIGF0IG51bGwgZm9yIHNpbWlsYXIgcmVhc29ucyBhbmQgYmVjYXVzZSB3ZSBnZXQgbm90aGluZyB1c2VmdWwgZnJvbSB0aGUgcmVwb3J0cy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWdleC1zcGFjZXNcbmxldCBmaWx0ZXJlZF9lcnJvcnMgPSAvYXZhc3Rfc3VibWl0fHZjX3JlcXVlc3RfYWN0aW9ufF5TY3JpcHQgZXJyb3JcXC5cXG4gIGF0IFxcKDA6MFxcKSR8Xm51bGxcXG4gIGF0IG51bGwobnVsbDpudWxsKSQvO1xuZXhwb3J0IGZ1bmN0aW9uIGdsb3ZFcnJvclJlcG9ydChpc19mYXRhbCwgbXNnLCBmaWxlLCBsaW5lLCBjb2wpIHtcbiAgY29uc29sZS5lcnJvcihtc2cpO1xuICBpZiAoaXNfZmF0YWwpIHtcbiAgICAvLyBPbmx5IGRvaW5nIGZpbHRlcmluZyBhbmQgc3VjaCBvbiBmYXRhbCBlcnJvcnMsIGFzIG5vbi1mYXRhbCBlcnJvcnMgYXJlXG4gICAgLy8ganVzdCBsb2dnZWQgYW5kIHNob3VsZCBub3QgY29ycnVwdCBzdGF0ZS5cbiAgICArK2NyYXNoX2lkeDtcbiAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgZHQgPSBub3cgLSBsYXN0X2Vycm9yX3RpbWU7XG4gICAgbGFzdF9lcnJvcl90aW1lID0gbm93O1xuICAgIGlmIChlcnJvcl9yZXBvcnRfZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGR0IDwgMzAqMTAwMCkge1xuICAgICAgLy8gTGVzcyB0aGFuIDMwIHNlY29uZHMgc2luY2UgdGhlIGxhc3QgZXJyb3IsIGVpdGhlciB3ZSdyZSBlcnJvcmluZyBldmVyeVxuICAgICAgLy8gZnJhbWUsIG9yIHRoaXMgaXMgYSBzZWNvbmRhcnkgZXJyb3IgY2F1c2VkIGJ5IHRoZSBmaXJzdCwgZG8gbm90IHJlcG9ydCBpdC5cbiAgICAgIC8vIENvdWxkIG1heWJlIGhhc2ggdGhlIGVycm9yIG1lc3NhZ2UgYW5kIGp1c3QgcmVwb3J0IGVhY2ggbWVzc2FnZSBvbmNlLCBhbmRcbiAgICAgIC8vIGZsYWcgZXJyb3JzIGFzIHByaW1hcnkgb3Igc2Vjb25kYXJ5LlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobXNnLm1hdGNoKGZpbHRlcmVkX2Vycm9ycykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gUG9zdCB0byBhbiBlcnJvciByZXBvcnRpbmcgZW5kcG9pbnQgdGhhdCAocHJvYmFibHkpIGRvZXNuJ3QgZXhpc3QgLSBpdCdsbCBnZXQgaW4gdGhlIGxvZ3MgYW55d2F5IVxuICBsZXQgdXJsID0gYXBpX3BhdGg7IC8vIGJhc2UgbGlrZSBodHRwOi8vZm9vLmNvbS9iYXIvICh3aXRob3V0IGluZGV4Lmh0bWwpXG4gIHVybCArPSBgJHtpc19mYXRhbCA/ICdlcnJvclJlcG9ydCcgOiAnZXJyb3JMb2cnfT9jaWR4PSR7Y3Jhc2hfaWR4fSZmaWxlPSR7ZXNjYXBlKGZpbGUpfWAgK1xuICAgIGAmbGluZT0ke2xpbmV8fDB9JmNvbD0ke2NvbHx8MH0mdXJsPSR7ZXNjYXBlKGxvY2F0aW9uLmhyZWYpfWAgK1xuICAgIGAmbXNnPSR7ZXNjYXBlKG1zZyl9JHtlcnJvcl9yZXBvcnRfZGV0YWlsc19zdHJ9YDtcbiAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gIHhoci5zZW5kKG51bGwpO1xuICByZXR1cm4gdHJ1ZTtcbn1cbiIsIi8qIGdsb2JhbHMgRkJJbnN0YW50ICovXG5jb25zdCB1cmxoYXNoID0gcmVxdWlyZSgnLi91cmxoYXNoLmpzJyk7XG5jb25zdCBsb2NhbF9zdG9yYWdlID0gcmVxdWlyZSgnLi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5jb25zdCB7IHNvdW5kUGF1c2UgfSA9IHJlcXVpcmUoJy4vc291bmQuanMnKTtcblxuZXhwb3J0IGxldCByZWFkeSA9IGZhbHNlO1xubGV0IG9ucmVhZHljYWxsYmFja3MgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBvbnJlYWR5KGNhbGxiYWNrKSB7XG4gIGlmIChyZWFkeSkge1xuICAgIHJldHVybiB2b2lkIGNhbGxiYWNrKCk7XG4gIH1cbiAgb25yZWFkeWNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbn1cblxubGV0IGhhc1N1YnNjcmliZWRBbHJlYWR5ID0gZmFsc2U7XG5mdW5jdGlvbiBpbml0U3Vic2NyaWJlKGNhbGxiYWNrLCBza2lwU2hvcnRjdXQpIHtcblxuICBza2lwU2hvcnRjdXQgPSBza2lwU2hvcnRjdXR8fGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1YnNjcmliZVRvQm90Q29tcGxldGUoKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvL1ByZXZlbnRzIHRoZSBoYW5kbGVTdWJzY3JpYmVUb0JvdENvbXBsZXRlIHByb21pc2UgZnJvbSBlYXRpbmcgdW5mcmVlemUgZXZlbnQgZXJyb3JzXG4gICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLDEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1YnNjcmliZVRvQm90RmFpbHVyZShlKSB7XG4gICAgaWYgKGUgJiYgZS5jb2RlICE9PSAnVVNFUl9JTlBVVCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2hhbmRsZVN1YnNjcmliZVRvQm90RmFpbHVyZScsIGUpO1xuICAgIH1cbiAgICBGQkluc3RhbnQubG9nRXZlbnQoXG4gICAgICAnYm90X3N1YnNjcmliZV9mYWlsdXJlJ1xuICAgICk7XG4gICAgaGFuZGxlU3Vic2NyaWJlVG9Cb3RDb21wbGV0ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlVG9Cb3QoKSB7XG4gICAgY29uc29sZS53YXJuKCdXaW5kb3cgc29jaWFsIHRyeWluZyB0byBib3Qgc3Vic2NyaWJlJyk7XG4gICAgaWYgKEZCSW5zdGFudC5nZXRTdXBwb3J0ZWRBUElzKCkuaW5kZXhPZigncGxheWVyLmNhblN1YnNjcmliZUJvdEFzeW5jJykgIT09IC0xKSB7XG4gICAgICBGQkluc3RhbnQucGxheWVyLmNhblN1YnNjcmliZUJvdEFzeW5jKCkudGhlbihmdW5jdGlvbiAoY2FuU3Vic2NyaWJlKSB7XG4gICAgICAgIGlmIChjYW5TdWJzY3JpYmUpIHtcbiAgICAgICAgICBGQkluc3RhbnQubG9nRXZlbnQoXG4gICAgICAgICAgICAnYm90X3N1YnNjcmliZV9zaG93J1xuICAgICAgICAgICk7XG4gICAgICAgICAgRkJJbnN0YW50LnBsYXllci5zdWJzY3JpYmVCb3RBc3luYygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgRkJJbnN0YW50LmxvZ0V2ZW50KFxuICAgICAgICAgICAgICAnYm90X3N1YnNjcmliZV9zdWNjZXNzJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGhhbmRsZVN1YnNjcmliZVRvQm90Q29tcGxldGUoKTtcbiAgICAgICAgICB9LGhhbmRsZVN1YnNjcmliZVRvQm90RmFpbHVyZSkuY2F0Y2goaGFuZGxlU3Vic2NyaWJlVG9Cb3RGYWlsdXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVTdWJzY3JpYmVUb0JvdENvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGhhbmRsZVN1YnNjcmliZVRvQm90RmFpbHVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVN1YnNjcmliZVRvQm90Q29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVIb21lc2NyZWVuQ29tcGxldGUoKSB7XG4gICAgc3Vic2NyaWJlVG9Cb3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZVNob3J0Y3V0RmFpbHVyZShlKSB7XG4gICAgY29uc29sZS5lcnJvcignaGFuZGxlQ3JlYXRlU2hvcnRjdXRGYWlsdXJlJywgZSk7XG4gICAgRkJJbnN0YW50LmxvZ0V2ZW50KFxuICAgICAgJ2hvbWVzY3JlZW5faW5zdGFsbF9mYWlsdXJlJ1xuICAgICk7XG4gICAgaGFuZGxlSG9tZXNjcmVlbkNvbXBsZXRlKCk7XG4gIH1cblxuICBsZXQgaGFzQWRkZWRUb0hvbWVzY3JlZW4gPSBsb2NhbF9zdG9yYWdlLmdldCgnaW5zdGFudC5oYXNJbnN0YWxsZWRTaG9ydGN1dC52MicpO1xuICBmdW5jdGlvbiBjcmVhdGVTaG9ydGN1dCgpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dpbmRvdyBzb2NpYWwgdHJ5aW5nIHRvIGNyZWF0ZSBzaG9ydGN1dCcpO1xuICAgIGlmIChGQkluc3RhbnQuZ2V0U3VwcG9ydGVkQVBJcygpLmluZGV4T2YoJ2NhbkNyZWF0ZVNob3J0Y3V0QXN5bmMnKSAhPT0gLTEgJiZcbiAgICAgICFoYXNBZGRlZFRvSG9tZXNjcmVlbiAmJlxuICAgICAgIWhhc1N1YnNjcmliZWRBbHJlYWR5XG4gICAgKSB7XG4gICAgICBoYXNTdWJzY3JpYmVkQWxyZWFkeSA9IHRydWU7XG4gICAgICBGQkluc3RhbnQuY2FuQ3JlYXRlU2hvcnRjdXRBc3luYygpLnRoZW4oZnVuY3Rpb24gKGNhbkNyZWF0ZVNob3J0Y3V0KSB7XG4gICAgICAgIGlmIChjYW5DcmVhdGVTaG9ydGN1dCkge1xuICAgICAgICAgIEZCSW5zdGFudC5sb2dFdmVudChcbiAgICAgICAgICAgICdob21lc2NyZWVuX2luc3RhbGxfc2hvdydcbiAgICAgICAgICApO1xuICAgICAgICAgIEZCSW5zdGFudC5jcmVhdGVTaG9ydGN1dEFzeW5jKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2NhbF9zdG9yYWdlLnNldCgnaW5zdGFudC5oYXNJbnN0YWxsZWRTaG9ydGN1dC52MicsdHJ1ZSk7XG4gICAgICAgICAgICBGQkluc3RhbnQubG9nRXZlbnQoXG4gICAgICAgICAgICAgICdob21lc2NyZWVuX2luc3RhbGxfc3VjY2VzcydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBoYW5kbGVIb21lc2NyZWVuQ29tcGxldGUoKTtcbiAgICAgICAgICB9LGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEZCSW5zdGFudC5sb2dFdmVudChcbiAgICAgICAgICAgICAgJ2hvbWVzY3JlZW5faW5zdGFsbF91c2VyYWJvcnRlZCdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBoYW5kbGVIb21lc2NyZWVuQ29tcGxldGUoKTtcbiAgICAgICAgICB9KS5jYXRjaChoYW5kbGVDcmVhdGVTaG9ydGN1dEZhaWx1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZUhvbWVzY3JlZW5Db21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChoYW5kbGVDcmVhdGVTaG9ydGN1dEZhaWx1cmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVIb21lc2NyZWVuQ29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoc2tpcFNob3J0Y3V0KSB7XG4gICAgc3Vic2NyaWJlVG9Cb3QoKTtcbiAgfSBlbHNlIHtcbiAgICBjcmVhdGVTaG9ydGN1dCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBpZiAoIXdpbmRvdy5GQkluc3RhbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgbGVmdCA9IDE7XG4gIGxldCBmYWtlX2xvYWRfaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgbGVmdCAqPSAwLjk7XG4gICAgRkJJbnN0YW50LnNldExvYWRpbmdQcm9ncmVzcygxMDAtKGxlZnQqMTAwKT4+MCk7XG4gIH0sMTAwKTtcblxuICBGQkluc3RhbnQuaW5pdGlhbGl6ZUFzeW5jKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGVudHJ5UG9pbnREYXRhID0gRkJJbnN0YW50LmdldEVudHJ5UG9pbnREYXRhKCl8fHt9O1xuICAgIC8vIGxldCBlbnRyeVBvaW50RGF0YSA9IHsgcXVlcnlzdHJpbmc6IHsgdzogJzQ2NzUnLCB3ZzogJzEnIH0gfTsgLy8gRlJWUlxuICAgIC8vIGxldCBlbnRyeVBvaW50RGF0YSA9IHsgcXVlcnlzdHJpbmc6IHsgYmx1ZXByaW50OiAnUktXVkFFMjZYUzI0WicgfSB9OyAvLyBGUlZSXG4gICAgbGV0IHF1ZXJ5c3RyaW5nID0gZW50cnlQb2ludERhdGEucXVlcnlzdHJpbmd8fHt9O1xuICAgIGZvciAobGV0IHggaW4gcXVlcnlzdHJpbmcpIHtcbiAgICAgIHVybGhhc2guc2V0KHgsIHF1ZXJ5c3RyaW5nW3hdKTtcbiAgICB9XG5cbiAgICBjbGVhckludGVydmFsKGZha2VfbG9hZF9pbnRlcnZhbCk7XG4gICAgcmVhZHkgPSB0cnVlO1xuICAgIEZCSW5zdGFudC5zdGFydEdhbWVBc3luYygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgb25yZWFkeWNhbGxiYWNrcy5mb3JFYWNoKChlKSA9PiBlKCkpO1xuICAgICAgb25yZWFkeWNhbGxiYWNrcyA9IFtdO1xuXG4gICAgICBjb25zb2xlLndhcm4oJ291dHNpZGUgaW5pdCBmYicpO1xuICAgICAgaW5pdFN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQWxsIGRvbmUgaW5pdGluZyBGQicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc29sZS53YXJuKCdpbml0aWFsaXplQXN5bmMgZmFpbGVkJywgZSk7XG4gIH0pO1xuXG4gIEZCSW5zdGFudC5vblBhdXNlKCgpID0+IHtcbiAgICBzb3VuZFBhdXNlKCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmJHZXRMb2dpbkluZm8oY2IpIHtcbiAgb25yZWFkeSgoKSA9PiB7XG4gICAgd2luZG93LkZCSW5zdGFudC5wbGF5ZXIuZ2V0U2lnbmVkUGxheWVySW5mb0FzeW5jKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgY2IobnVsbCwge1xuICAgICAgICAgIHNpZ25hdHVyZTogcmVzdWx0LmdldFNpZ25hdHVyZSgpLFxuICAgICAgICAgIGRpc3BsYXlfbmFtZTogd2luZG93LkZCSW5zdGFudC5wbGF5ZXIuZ2V0TmFtZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgY2IgPSBudWxsO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYihlcnIpO1xuICAgICAgICBjYiA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5sZXQgZmJfZnJpZW5kcyA9IHt9O1xuLy8gUmV0dXJucyBhIGRpc3BsYXkgbmFtZSBpZiB0aGUgdXNlcl9pZCBpcyBhIEZhY2Vib29rIGZyaWVuZFxuZXhwb3J0IGZ1bmN0aW9uIGZiRnJpZW5kTmFtZSh1c2VyX2lkKSB7XG4gIHJldHVybiBmYl9mcmllbmRzW3VzZXJfaWRdO1xufVxuXG4vLyBFeHBlY3RzIGFuIGFycmF5IG9mIHZhbGlkIHVzZXIgSURzOlxuLy8gY2IobnVsbCwgWydmYiQxMjM0JywgJ2ZiJDQ1NjcnXSk7XG5leHBvcnQgZnVuY3Rpb24gZmJHZXRGcmllbmRzKGNiKSB7XG4gIG9ucmVhZHkoKCkgPT4ge1xuICAgIHdpbmRvdy5GQkluc3RhbnQucGxheWVyLmdldENvbm5lY3RlZFBsYXllcnNBc3luYygpLnRoZW4oKHBsYXllcnMpID0+IHtcbiAgICAgIGxldCBsaXN0ID0gcGxheWVycy5tYXAoKHBsYXllcikgPT4ge1xuICAgICAgICBsZXQgdXNlcl9pZCA9IGBmYiQke3BsYXllci5nZXRJRCgpfWA7XG4gICAgICAgIGZiX2ZyaWVuZHNbdXNlcl9pZF0gPSBwbGF5ZXIuZ2V0TmFtZSgpO1xuICAgICAgICByZXR1cm4gdXNlcl9pZDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIGNiKG51bGwsIGxpc3QpO1xuICAgICAgICBjYiA9IG51bGw7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIGNiKGVycik7XG4gICAgICAgIGNiID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCJjb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxubGV0IGJ5X2V4dCA9IHt9O1xubGV0IGJ5X21hdGNoID0gW107XG5cbi8vIGNiKGZpbGVuYW1lKVxuZXhwb3J0IGZ1bmN0aW9uIGZpbGV3YXRjaE9uKGV4dF9vcl9zZWFyY2gsIGNiKSB7XG4gIGlmIChleHRfb3Jfc2VhcmNoWzBdID09PSAnLicpIHtcbiAgICBhc3NlcnQoIWJ5X2V4dFtleHRfb3Jfc2VhcmNoXSk7XG4gICAgYnlfZXh0W2V4dF9vcl9zZWFyY2hdID0gY2I7XG4gIH0gZWxzZSB7XG4gICAgYnlfbWF0Y2gucHVzaChbZXh0X29yX3NlYXJjaCwgY2JdKTtcbiAgfVxufVxuXG5sZXQgbWVzc2FnZV9jYjtcbi8vIGNiKG1lc3NhZ2UpXG5leHBvcnQgZnVuY3Rpb24gZmlsZXdhdGNoTWVzc2FnZUhhbmRsZXIoY2IpIHtcbiAgbWVzc2FnZV9jYiA9IGNiO1xufVxuXG5mdW5jdGlvbiBvbkZpbGVDaGFuZ2UoZmlsZW5hbWUpIHtcbiAgY29uc29sZS5sb2coYEZpbGVXYXRjaCBjaGFuZ2U6ICR7ZmlsZW5hbWV9YCk7XG4gIGxldCBleHRfaWR4ID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTtcbiAgbGV0IGRpZF9yZWxvYWQgPSBmYWxzZTtcbiAgaWYgKGV4dF9pZHggIT09IC0xKSB7XG4gICAgbGV0IGV4dCA9IGZpbGVuYW1lLnNsaWNlKGV4dF9pZHgpO1xuICAgIGlmIChieV9leHRbZXh0XSkge1xuICAgICAgaWYgKGJ5X2V4dFtleHRdKGZpbGVuYW1lKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgZGlkX3JlbG9hZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBieV9tYXRjaC5sZW5ndGg7ICsraWkpIHtcbiAgICBpZiAoZmlsZW5hbWUubWF0Y2goYnlfbWF0Y2hbaWldWzBdKSkge1xuICAgICAgaWYgKGJ5X21hdGNoW2lpXVsxXShmaWxlbmFtZSkgIT09IGZhbHNlKSB7XG4gICAgICAgIGRpZF9yZWxvYWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobWVzc2FnZV9jYiAmJiBkaWRfcmVsb2FkKSB7XG4gICAgbWVzc2FnZV9jYihgUmVsb2FkaW5nOiAke2ZpbGVuYW1lfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxld2F0Y2hUcmlnZ2VyQ2hhbmdlKGZpbGVuYW1lKSB7XG4gIG9uRmlsZUNoYW5nZShmaWxlbmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxld2F0Y2hTdGFydHVwKGNsaWVudCkge1xuICBjbGllbnQub25Nc2coJ2ZpbGV3YXRjaCcsIG9uRmlsZUNoYW5nZSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmLCBjb21wbGV4aXR5Om9mZiwgbm8tc2hhZG93Om9mZiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgeyBmbG9vciwgbWF4LCByb3VuZCB9ID0gTWF0aDtcbi8vIGNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3Qgc2hhZGVycyA9IHJlcXVpcmUoJy4vc2hhZGVycy5qcycpO1xuY29uc3Qgc3ByaXRlcyA9IHJlcXVpcmUoJy4vc3ByaXRlcy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCB7IGNsYW1wIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyB2ZWM0LCB2NGNsb25lLCB2NHNjYWxlIH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbi8qXG5cbmZvbnRfc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICBjb2xvcjogMHhGRkZGRkZmZixcbiAgb3V0bGluZV93aWR0aDogMCxcbiAgb3V0bGluZV9jb2xvcjogMHgwMDAwMDAwMCxcbiAgZ2xvd194b2ZmczogMCxcbiAgZ2xvd195b2ZmczogMCxcbiAgZ2xvd19pbm5lcjogMCxcbiAgZ2xvd19vdXRlcjogMCxcbiAgZ2xvd19jb2xvcjogMHgwMDAwMDBmZixcbn0pO1xuXG4gKi9cblxuLy8gdHlwZWRlZiBzdHJ1Y3QgRm9udENoYXJJbmZvIHtcbi8vICAgaW50IGM7XG4vLyAgIGZsb2F0IHgwO1xuLy8gICBmbG9hdCB5MDtcbi8vICAgaW50IHc7XG4vLyAgIGludCBoO1xuLy8gICBpbnQgaW1nSWR4O1xuLy8gfSBGb250Q2hhckluZm87XG5cbi8vIHR5cGVkZWYgc3RydWN0IEZvbnRJbmZvIHtcbi8vICAgQVNfTkFNRShDaGFySW5mbykgRm9udENoYXJJbmZvICoqY2hhcl9pbmZvcztcbi8vICAgaW50IGZvbnRfc2l6ZTtcbi8vICAgZmxvYXQgeDA7XG4vLyAgIGZsb2F0IHkwO1xuLy8gICBpbnQgaW1hZ2VXO1xuLy8gICBpbnQgaW1hZ2VIO1xuLy8gICBpbnQgc3ByZWFkO1xuLy8gfSBGb250SW5mbztcblxuZXhwb3J0IGNvbnN0IENPTE9SX01PREUgPSB7XG4gIFNJTkdMRTogMCxcbiAgR1JBRElFTlQ6IDEsXG59O1xuXG5leHBvcnQgY29uc3QgQUxJR04gPSB7XG4gIEhMRUZUOiAwLFxuICBIQ0VOVEVSOiAxLFxuICBIUklHSFQ6IDIsXG4gIEhNQVNLOiAzLFxuXG4gIFZUT1A6IDAgPDwgMixcbiAgVkNFTlRFUjogMSA8PCAyLFxuICBWQk9UVE9NOiAyIDw8IDIsXG4gIFZNQVNLOiAzIDw8IDIsXG5cbiAgSEZJVDogMSA8PCA0LFxuICBIV1JBUDogMSA8PCA1LCAvLyBvbmx5IGZvciBnbG92TWFya3VwKiwgbm90IGRyYXdTaXplZEFsaWduZWQgYmVsb3csIHVzZSBkcmF3U2l6ZWRXcmFwcGVkIGJlbG93IGluc3RlYWRcblxuICBIQ0VOVEVSRklUOiAxIHwgKDEgPDwgNCksXG4gIEhWQ0VOVEVSOiAxIHwgKDEgPDwgMiksIC8vIHRvIGF2b2lkIGRvaW5nIGJpdHdpc2Ugb3BzIGVsc2V3aGVyZVxuICBIVkNFTlRFUkZJVDogMSB8ICgxIDw8IDIpIHwgKDEgPDwgNCksIC8vIHRvIGF2b2lkIGRvaW5nIGJpdHdpc2Ugb3BzIGVsc2V3aGVyZVxufTtcblxuXG4vLyB0eXBlZGVmIHN0cnVjdCBHbG92Rm9udFN0eWxlXG4vLyB7XG4vLyAgIC8vIFRoZXNlIG1lbWJlcnMgd2lsbCBuZXZlciBiZSBjaGFuZ2VkIChzYWZlIHRvIGluaXRpYWxpemUgd2l0aCBHbG92Rm9udFN0eWxlIGZvbyA9IHsxLjAsIDB4ZmZmLCBldGN9O1xuLy8gICBmbG9hdCBvdXRsaW5lX3dpZHRoO1xuLy8gICBVMzIgb3V0bGluZV9jb2xvcjtcbi8vICAgLy8gR2xvdzogY2FuIGJlIHVzZWQgZm9yIGEgZHJvcHNoYWRvdyBhcyB3ZWxsXG4vLyAgIC8vICAgaW5uZXIgY2FuIGJlIG5lZ2F0aXZlIHRvIGhhdmUgdGhlIGdsb3cgYmUgbGVzcyBvcGFxdWUgKGNhbiBhbHNvIGp1c3QgY2hhbmdlIHRoZSBhbHBoYSBvZiB0aGUgZ2xvdyBjb2xvcilcbi8vICAgLy8gICBhIGdsb3cgd291bGQgYmUgZS5nLiAoMCwgMCwgLTEsIDUpXG4vLyAgIC8vICAgYSBkcm9wc2hhZG93IHdvdWxkIGJlIGUuZy4gKDMuMjUsIDMuMjUsIC0yLjUsIDUpXG4vLyAgIGZsb2F0IGdsb3dfeG9mZnM7XG4vLyAgIGZsb2F0IGdsb3dfeW9mZnM7XG4vLyAgIGZsb2F0IGdsb3dfaW5uZXI7XG4vLyAgIGZsb2F0IGdsb3dfb3V0ZXI7XG4vLyAgIFUzMiBnbG93X2NvbG9yO1xuLy8gICBVMzIgY29sb3I7IC8vIHVwcGVyIGxlZnQsIG9yIHNpbmdsZSBjb2xvclxuLy8gICBVMzIgY29sb3JVUjsgLy8gdXBwZXIgcmlnaHRcbi8vICAgVTMyIGNvbG9yTFI7IC8vIGxvd2VyIHJpZ2h0XG4vLyAgIFUzMiBjb2xvckxMOyAvLyBsb3dlciBsZWZ0XG4vLyAgIEdsb3ZGb250Q29sb3JNb2RlIGNvbG9yX21vZGU7XG4vLyB9IEdsb3ZGb250U3R5bGU7XG5cbi8qIERlZmF1bHQgR2xvdkZvbnRTdHlsZTpcbiAgZm9udF9zdHlsZSA9IHtcbiAgICBvdXRsaW5lX3dpZHRoOiAwLCBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMDAwLFxuICAgIGdsb3dfeG9mZnM6IDAsIGdsb3dfeW9mZnM6IDAsIGdsb3dfaW5uZXI6IDAsIGdsb3dfb3V0ZXI6IDAsIGdsb3dfY29sb3I6IDB4MDAwMDAwMDAsXG4gICAgY29sb3I6IDB4RkZGRkZGZmZcbiAgfTtcblxuICBmb250X3N0eWxlID0ge1xuICAgIG91dGxpbmVfd2lkdGg6IDAsIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMDAsXG4gICAgZ2xvd194b2ZmczogMCwgZ2xvd195b2ZmczogMCwgZ2xvd19pbm5lcjogMCwgZ2xvd19vdXRlcjogMCwgZ2xvd19jb2xvcjogMHgwMDAwMDAwMCxcbiAgICAvLyBDb2xvciBncmFkaWVudDogVUwsIFVSLCBMUiwgTExcbiAgICBjb2xvcjogMHhGRkZGRkZmZiwgY29sb3JVUjogMHhGRkZGRkZmZiwgY29sb3JMUjogMHgwMDAwMDBmZiwgY29sb3JMTDogMHgwMDAwMDBmZixcbiAgICBjb2xvcl9tb2RlOiBnbG92X2ZvbnQuQ09MT1JfTU9ERS5HUkFESUVOVCxcbiAgfTtcbiovXG5cbmZ1bmN0aW9uIEdsb3ZGb250U3R5bGUoKSB7XG4gIHRoaXMuY29sb3JfdmVjNCA9IHZlYzQoMSwxLDEsMSk7IC8vIE1hdGNoZXMgR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuY29sb3IgYmVsb3dcbn1cbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLm91dGxpbmVfd2lkdGggPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUub3V0bGluZV9jb2xvciA9IDB4MDAwMDAwMDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5nbG93X3hvZmZzID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmdsb3dfeW9mZnMgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuZ2xvd19pbm5lciA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5nbG93X291dGVyID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmdsb3dfY29sb3IgPSAweDAwMDAwMDAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuY29sb3IgPSAweEZGRkZGRmZmO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuY29sb3JVUiA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5jb2xvckxSID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmNvbG9yTEwgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuY29sb3JfbW9kZSA9IENPTE9SX01PREUuU0lOR0xFO1xuXG5leHBvcnQgY29uc3QgZm9udF9zaGFkZXJzID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRDb2xvckZyb21WZWM0Q29sb3Iodikge1xuICByZXR1cm4gKCh2WzBdICogMjU1IHwgMCkgPDwgMjQpIHxcbiAgICAoKHZbMV0gKiAyNTUgfCAwKSA8PCAxNikgfFxuICAgICgodlsyXSAqIDI1NSB8IDApIDw8IDgpIHxcbiAgICAoKHZbM10gKiAyNTUgfCAwKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWM0Q29sb3JGcm9tSW50Q29sb3IodiwgYykge1xuICB2WzBdID0gKChjID4+IDI0KSAmIDB4RkYpIC8gMjU1O1xuICB2WzFdID0gKChjID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICB2WzJdID0gKChjID4+IDgpICYgMHhGRikgLyAyNTU7XG4gIHZbM10gPSAoYyAmIDB4RkYpIC8gMjU1O1xufVxuXG5leHBvcnQgY29uc3QgZ2xvdl9mb250X2RlZmF1bHRfc3R5bGUgPSBuZXcgR2xvdkZvbnRTdHlsZSgpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGUoZm9udF9zdHlsZSwgZmllbGRzKSB7XG4gIGxldCByZXQgPSBuZXcgR2xvdkZvbnRTdHlsZSgpO1xuICBsZXQgeyBjb2xvcl92ZWM0IH0gPSByZXQ7XG4gIGlmIChmb250X3N0eWxlKSB7XG4gICAgZm9yIChsZXQgZiBpbiBmb250X3N0eWxlKSB7XG4gICAgICByZXRbZl0gPSBmb250X3N0eWxlW2ZdO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBmIGluIGZpZWxkcykge1xuICAgIHJldFtmXSA9IGZpZWxkc1tmXTtcbiAgfVxuICByZXQuY29sb3JfdmVjNCA9IGNvbG9yX3ZlYzQ7IC8vIFJlc3RvcmVcbiAgdmVjNENvbG9yRnJvbUludENvbG9yKHJldC5jb2xvcl92ZWM0LCByZXQuY29sb3IpO1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVDb2xvcmVkKGZvbnRfc3R5bGUsIGNvbG9yKSB7XG4gIHJldHVybiBzdHlsZShmb250X3N0eWxlLCB7XG4gICAgY29sb3JcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yQWxwaGEoY29sb3IsIGFscGhhKSB7XG4gIGFscGhhID0gY2xhbXAocm91bmQoKGNvbG9yICYgMHhGRikgKiBhbHBoYSksIDAsIDI1NSk7XG4gIHJldHVybiBjb2xvciAmIDB4RkZGRkZGMDAgfCBhbHBoYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlQWxwaGEoZm9udF9zdHlsZSwgYWxwaGEpIHtcbiAgcmV0dXJuIHN0eWxlKGZvbnRfc3R5bGUsIHtcbiAgICBjb2xvcjogY29sb3JBbHBoYSgoZm9udF9zdHlsZSB8fCBnbG92X2ZvbnRfZGVmYXVsdF9zdHlsZSkuY29sb3IsIGFscGhhKSxcbiAgICBvdXRsaW5lX2NvbG9yOiBjb2xvckFscGhhKChmb250X3N0eWxlIHx8IGdsb3ZfZm9udF9kZWZhdWx0X3N0eWxlKS5vdXRsaW5lX2NvbG9yLCBhbHBoYSksXG4gICAgZ2xvd19jb2xvcjogY29sb3JBbHBoYSgoZm9udF9zdHlsZSB8fCBnbG92X2ZvbnRfZGVmYXVsdF9zdHlsZSkuZ2xvd19jb2xvciwgYWxwaGEpLFxuICB9KTtcbn1cblxubGV0IHRlY2hfcGFyYW1zID0gbnVsbDtcbmxldCB0ZWNoX3BhcmFtc19kaXJ0eSA9IGZhbHNlO1xubGV0IHRlbXBfY29sb3IgPSBudWxsO1xuXG5mdW5jdGlvbiBjcmVhdGVUZWNobmlxdWVQYXJhbWV0ZXJzKCkge1xuICBpZiAodGVjaF9wYXJhbXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0ZWNoX3BhcmFtcyA9IHtcbiAgICBwYXJhbTA6IHZlYzQoKSxcbiAgICBvdXRsaW5lQ29sb3I6IHZlYzQoKSxcbiAgICBnbG93Q29sb3I6IHZlYzQoKSxcbiAgICBnbG93UGFyYW1zOiB2ZWM0KCksXG4gICAgdGV4MDogbnVsbFxuICB9O1xuICBpZiAoIXRlbXBfY29sb3IpIHtcbiAgICB0ZW1wX2NvbG9yID0gdmVjNCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRlY2hQYXJhbXNTZXQocGFyYW0sIHZhbHVlKSB7XG4gIGxldCB0cHYgPSB0ZWNoX3BhcmFtc1twYXJhbV07XG4gIC8vIG5vdCBkaXJ0eSwgaWYgYW55dGhpbmcgY2hhbmdlcywgd2UgbmVlZCBhIG5ldyBvYmplY3QhXG4gIGlmICghdGVjaF9wYXJhbXNfZGlydHkpIHtcbiAgICBpZiAodHB2WzBdICE9PSB2YWx1ZVswXSB8fCB0cHZbMV0gIT09IHZhbHVlWzFdIHx8IHRwdlsyXSAhPT0gdmFsdWVbMl0gfHwgdHB2WzNdICE9PSB2YWx1ZVszXSkge1xuICAgICAgLy8gY2xvbmVcbiAgICAgIHRlY2hfcGFyYW1zID0ge1xuICAgICAgICBwYXJhbTA6IHY0Y2xvbmUodGVjaF9wYXJhbXMucGFyYW0wKSxcbiAgICAgICAgb3V0bGluZUNvbG9yOiB2NGNsb25lKHRlY2hfcGFyYW1zLm91dGxpbmVDb2xvciksXG4gICAgICAgIGdsb3dDb2xvcjogdjRjbG9uZSh0ZWNoX3BhcmFtcy5nbG93Q29sb3IpLFxuICAgICAgICBnbG93UGFyYW1zOiB2NGNsb25lKHRlY2hfcGFyYW1zLmdsb3dQYXJhbXMpLFxuICAgICAgfTtcbiAgICAgIHRlY2hfcGFyYW1zX2RpcnR5ID0gdHJ1ZTtcbiAgICAgIHRwdiA9IHRlY2hfcGFyYW1zW3BhcmFtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWRlbnRpY2FsLCBkbyBub3RoaW5nXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICh0ZWNoX3BhcmFtc19kaXJ0eSkge1xuICAgIC8vIGp1c3Qgc2V0XG4gICAgdHB2WzBdID0gdmFsdWVbMF07XG4gICAgdHB2WzFdID0gdmFsdWVbMV07XG4gICAgdHB2WzJdID0gdmFsdWVbMl07XG4gICAgdHB2WzNdID0gdmFsdWVbM107XG4gICAgLy8gcmV0dXJuO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRlY2hQYXJhbXNHZXQoKSB7XG4gIHRlY2hfcGFyYW1zX2RpcnR5ID0gZmFsc2U7XG4gIHJldHVybiB0ZWNoX3BhcmFtcztcbn1cblxuZnVuY3Rpb24gR2xvdkZvbnQoZm9udF9pbmZvLCB0ZXh0dXJlX25hbWUpIHtcbiAgYXNzZXJ0KGZvbnRfaW5mby5mb250X3NpemUgIT09IDApOyAvLyBHb3QgbG9zdCBzb21ld2hlcmVcblxuICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlcy5sb2FkKHtcbiAgICB1cmw6IGBpbWcvJHt0ZXh0dXJlX25hbWV9LnBuZ2AsXG4gICAgZmlsdGVyX21pbjogZm9udF9pbmZvLm5vRmlsdGVyID8gZ2wuTkVBUkVTVCA6IGdsLkxJTkVBUixcbiAgICBmaWx0ZXJfbWFnOiBmb250X2luZm8ubm9GaWx0ZXIgPyBnbC5ORUFSRVNUIDogZ2wuTElORUFSLFxuICAgIHdyYXBfczogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gIH0pO1xuICB0aGlzLnRleHR1cmVzID0gW3RoaXMudGV4dHVyZV07XG5cbiAgdGhpcy5mb250X2luZm8gPSBmb250X2luZm87XG4gIHRoaXMuc2hhZGVyID0gZm9udF9zaGFkZXJzLmZvbnRfYWE7XG4gIHRoaXMudGV4X3cgPSBmb250X2luZm8uaW1hZ2VXO1xuICB0aGlzLnRleF9oID0gZm9udF9pbmZvLmltYWdlSDtcblxuICAvLyBDYWxjdWxhdGUgaW52ZXJzZSBzY2FsZSwgZml4dXAgMHNcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGZvbnRfaW5mby5jaGFyX2luZm9zLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBjaGFyX2luZm8gPSBmb250X2luZm8uY2hhcl9pbmZvc1tpaV07XG4gICAgY2hhcl9pbmZvLnNjYWxlID0gMSAvIChjaGFyX2luZm8uc2MgfHwgMSk7XG4gICAgY2hhcl9pbmZvLncgPSBjaGFyX2luZm8udyB8fCAwO1xuICB9XG5cbiAgLy8gYnVpbGQgbG9va3VwXG4gIHRoaXMuY2hhcl9pbmZvcyA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZm9udF9pbmZvLmNoYXJfaW5mb3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGNoYXJfaW5mbyA9IGZvbnRfaW5mby5jaGFyX2luZm9zW2lpXTtcbiAgICB0aGlzLmNoYXJfaW5mb3NbZm9udF9pbmZvLmNoYXJfaW5mb3NbaWldLmNdID0gY2hhcl9pbmZvO1xuICAgIGNoYXJfaW5mby54cGFkID0gY2hhcl9pbmZvLnhwYWQgfHwgMDtcbiAgICBjaGFyX2luZm8ueW9mZnMgPSBjaGFyX2luZm8ueW9mZnMgfHwgMDtcbiAgfVxuICB0aGlzLnJlcGxhY2VtZW50X2NoYXJhY3RlciA9IHRoaXMuaW5mb0Zyb21DaGFyKDB4RkZGRCk7XG4gIGlmICghdGhpcy5yZXBsYWNlbWVudF9jaGFyYWN0ZXIpIHtcbiAgICB0aGlzLnJlcGxhY2VtZW50X2NoYXJhY3RlciA9IHRoaXMuaW5mb0Zyb21DaGFyKDYzKTsgLy8gJz8nXG4gIH1cblxuICB0aGlzLmRlZmF1bHRfc3R5bGUgPSBuZXcgR2xvdkZvbnRTdHlsZSgpO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUgPSBuZXcgR2xvdkZvbnRTdHlsZSgpO1xuXG4gIGNyZWF0ZVRlY2huaXF1ZVBhcmFtZXRlcnMoKTtcbn1cblxuLy8gR2VuZXJhbCBkcmF3IGZ1bmN0aW9ucyByZXR1cm4gd2lkdGhcbi8vIFBhc3MgTlVMTCBmb3Igc3R5bGUgdG8gdXNlIGRlZmF1bHQgc3R5bGVcbi8vIElmIHRoZSBmdW5jdGlvbiB0YWtlcyBhIGNvbG9yLCB0aGlzIG92ZXJyaWRlcyB0aGUgY29sb3Igb24gdGhlIHN0eWxlXG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NpemVkQ29sb3IgPSBmdW5jdGlvbiAoc3R5bGUsIHgsIHksIHosIHNpemUsIGNvbG9yLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmRyYXdTaXplZChzdHlsZUNvbG9yZWQoc3R5bGUsIGNvbG9yKSwgeCwgeSwgeiwgc2l6ZSwgdGV4dCk7XG59O1xuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTaXplZCA9IGZ1bmN0aW9uIChzdHlsZSwgeCwgeSwgeiwgc2l6ZSwgdGV4dCkge1xuICByZXR1cm4gdGhpcy5kcmF3U2NhbGVkKHN0eWxlLCB4LCB5LCB6LCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB0ZXh0KTtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2l6ZWRBbGlnbmVkID0gZnVuY3Rpb24gKHN0eWxlLCBfeCwgX3ksIHosIHNpemUsIGFsaWduLCB3LCBoLCB0ZXh0KSB7XG4gIGxldCB4X3NpemUgPSBzaXplO1xuICBsZXQgeV9zaXplID0gc2l6ZTtcbiAgbGV0IHdpZHRoID0gdGhpcy5nZXRTdHJpbmdXaWR0aChzdHlsZSwgeF9zaXplLCB0ZXh0KTtcbiAgaWYgKChhbGlnbiAmIEFMSUdOLkhGSVQpICYmIHdpZHRoID4gdykge1xuICAgIGxldCBzY2FsZSA9IHcgLyB3aWR0aDtcbiAgICB4X3NpemUgKj0gc2NhbGU7XG4gICAgd2lkdGggPSB3O1xuICAgIC8vIEFkZGl0aW9uYWxseSwgaWYgd2UncmUgcmVhbGx5IHNxdWlzaGluZyB0aGluZ3MgaG9yaXpvbnRhbGx5LCBzaHJpbmsgdGhlIGZvbnQgc2l6ZVxuICAgIC8vIGFuZCBvZmZzZXQgdG8gYmUgY2VudGVyZWQuXG4gICAgaWYgKHNjYWxlIDwgMC41KSB7XG4gICAgICBpZiAoKGFsaWduICYgQUxJR04uVk1BU0spICE9PSBBTElHTi5WQ0VOVEVSICYmIChhbGlnbiAmIEFMSUdOLlZNQVNLKSAhPT0gQUxJR04uVkJPVFRPTSkge1xuICAgICAgICAvLyBPZmZzZXQgdG8gYmUgcm91Z2hseSBjZW50ZXJlZCBpbiB0aGUgb3JpZ2luYWwgbGluZSBib3VuZHNcbiAgICAgICAgX3kgKz0gKHlfc2l6ZSAtICh5X3NpemUgKiBzY2FsZSAqIDIpKSAvIDI7XG4gICAgICB9XG4gICAgICB5X3NpemUgKj0gc2NhbGUgKiAyO1xuICAgIH1cbiAgfVxuICBsZXQgaGVpZ2h0ID0geV9zaXplO1xuICBsZXQgeDtcbiAgbGV0IHk7XG4gIHN3aXRjaCAoYWxpZ24gJiBBTElHTi5ITUFTSykge1xuICAgIGNhc2UgQUxJR04uSENFTlRFUjpcbiAgICAgIHggPSBfeCArICh3IC0gd2lkdGgpIC8gMjtcbiAgICAgIGlmICh0aGlzLmZvbnRfaW5mby5ub0ZpbHRlcikge1xuICAgICAgICB4IHw9IDA7IC8vIGVuc3VyZSBpbnRlZ3JhbFxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBTElHTi5IUklHSFQ6XG4gICAgICB4ID0gX3ggKyB3IC0gd2lkdGg7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFMSUdOLkhMRUZUOlxuICAgICAgeCA9IF94O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHggPSBfeDtcbiAgfVxuICBzd2l0Y2ggKGFsaWduICYgQUxJR04uVk1BU0spIHtcbiAgICBjYXNlIEFMSUdOLlZDRU5URVI6XG4gICAgICB5ID0gX3kgKyAoaCAtIGhlaWdodCkgLyAyO1xuICAgICAgaWYgKHRoaXMuZm9udF9pbmZvLm5vRmlsdGVyKSB7XG4gICAgICAgIHkgfD0gMDsgLy8gZW5zdXJlIGludGVncmFsXG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFMSUdOLlZCT1RUT006XG4gICAgICB5ID0gX3kgKyBoIC0gaGVpZ2h0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBTElHTi5WVE9QOlxuICAgICAgeSA9IF95O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHkgPSBfeTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmRyYXdTY2FsZWQoc3R5bGUsIHgsIHksIHosIHhfc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgeV9zaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB0ZXh0KTtcbn07XG5cbi8vIHJldHVybnMgaGVpZ2h0XG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NpemVkQ29sb3JXcmFwcGVkID0gZnVuY3Rpb24gKHN0eWxlLCB4LCB5LCB6LCB3LCBpbmRlbnQsIHNpemUsIGNvbG9yLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmRyYXdTY2FsZWRXcmFwcGVkKHN0eWxlQ29sb3JlZChzdHlsZSwgY29sb3IpLCB4LCB5LCB6LCB3LFxuICAgIGluZGVudCwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgdGV4dCk7XG59O1xuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTaXplZFdyYXBwZWQgPSBmdW5jdGlvbiAoc3R5bGUsIHgsIHksIHosIHcsIGluZGVudCwgc2l6ZSwgdGV4dCkge1xuICByZXR1cm4gdGhpcy5kcmF3U2NhbGVkV3JhcHBlZChzdHlsZSwgeCwgeSwgeiwgdyxcbiAgICBpbmRlbnQsIHNpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHNpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHRleHQpO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLndyYXBMaW5lcyA9IGZ1bmN0aW9uICh3LCBpbmRlbnQsIHNpemUsIHRleHQsIHdvcmRfY2IgLyooeCwgaW50IGxpbmVudW0sIGNvbnN0IGNoYXIgKndvcmQpKi8pIHtcbiAgcmV0dXJuIHRoaXMud3JhcExpbmVzU2NhbGVkKHcsIGluZGVudCwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgdGV4dCwgd29yZF9jYik7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUubnVtTGluZXMgPSBmdW5jdGlvbiAoc3R5bGUsIHcsIGluZGVudCwgc2l6ZSwgdGV4dCkge1xuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuICBsZXQgbnVtbGluZXMgPSAwO1xuICBmdW5jdGlvbiB3b3JkQ2FsbGJhY2soaWdub3JlZCwgbGluZW51bSwgd29yZCkge1xuICAgIG51bWxpbmVzID0gbWF4KG51bWxpbmVzLCBsaW5lbnVtKTtcbiAgfVxuICB0aGlzLndyYXBMaW5lcyh3LCBpbmRlbnQsIHNpemUsIHRleHQsIHdvcmRDYWxsYmFjayk7XG4gIHJldHVybiBudW1saW5lcyArIDE7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUuaW5mb0Zyb21DaGFyID0gZnVuY3Rpb24gKGMpIHtcbiAgbGV0IHJldCA9IHRoaXMuY2hhcl9pbmZvc1tjXTtcbiAgaWYgKHJldCkge1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgaWYgKGMgPiAxMjcpIHtcbiAgICAvLyBubyBjaGFyIGluZm8sIGFuZCBub24tYXNjaWksIG5vbi1jb250cm9sIGNvZGVcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlbWVudF9jaGFyYWN0ZXI7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyV2lkdGggPSBmdW5jdGlvbiAoc3R5bGUsIHhfc2l6ZSwgYykge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIGMsICdudW1iZXInKTtcbiAgdGhpcy5hcHBseVN0eWxlKHN0eWxlKTtcbiAgbGV0IGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKGMpO1xuICBsZXQgeHNjID0geF9zaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplO1xuICBsZXQgeF9hZHZhbmNlID0gdGhpcy5jYWxjWEFkdmFuY2UoeHNjKTtcbiAgaWYgKGNoYXJfaW5mbykge1xuICAgIHJldHVybiAoY2hhcl9pbmZvLncgKyBjaGFyX2luZm8ueHBhZCkgKiB4c2MgKiBjaGFyX2luZm8uc2NhbGUgKyB4X2FkdmFuY2U7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUuZ2V0U3RyaW5nV2lkdGggPSBmdW5jdGlvbiAoc3R5bGUsIHhfc2l6ZSwgdGV4dCkge1xuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuICBsZXQgcmV0PTA7XG4gIGxldCB4c2MgPSB4X3NpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemU7XG4gIGxldCB4X2FkdmFuY2UgPSB0aGlzLmNhbGNYQWR2YW5jZSh4c2MpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4dC5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgYyA9IHRleHQuY2hhckNvZGVBdChpaSk7XG4gICAgbGV0IGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKGMpO1xuICAgIGlmICghY2hhcl9pbmZvKSB7XG4gICAgICBjaGFyX2luZm8gPSB0aGlzLmluZm9Gcm9tQ2hhcigxMyk7XG4gICAgfVxuICAgIGlmIChjaGFyX2luZm8pIHtcbiAgICAgIHJldCArPSAoY2hhcl9pbmZvLncgKyBjaGFyX2luZm8ueHBhZCkgKiB4c2MgKiBjaGFyX2luZm8uc2NhbGUgKyB4X2FkdmFuY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG4vLyB3b3JkX2NiKHgsIGludCBsaW5lbnVtLCBjb25zdCBjaGFyICp3b3JkKVxuR2xvdkZvbnQucHJvdG90eXBlLndyYXBMaW5lc1NjYWxlZCA9IGZ1bmN0aW9uICh3LCBpbmRlbnQsIHhzYywgdGV4dCwgd29yZF9jYikge1xuICBsZXQgbGVuID0gdGV4dC5sZW5ndGg7XG4gIGxldCBzID0gMDtcbiAgbGV0IHdvcmRfc3RhcnQgPSAwO1xuICBsZXQgd29yZF94MCA9IDA7XG4gIGxldCB4ID0gd29yZF94MDtcbiAgbGV0IGxpbmVudW0gPSAwO1xuICBsZXQgc3BhY2VfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKDMyKTsgLy8gJyAnXG4gIGxldCBzcGFjZV9zaXplID0gKHNwYWNlX2luZm8gPyBzcGFjZV9pbmZvLncgKyBzcGFjZV9pbmZvLnhwYWQgOiB0aGlzLmZvbnRfaW5mby5mb250X3NpemUpICogeHNjO1xuICBsZXQgaGFyZF93cmFwID0gZmFsc2U7XG4gIGxldCB4X2FkdmFuY2UgPSB0aGlzLmNhbGNYQWR2YW5jZSh4c2MpO1xuXG4gIGRvIHtcbiAgICBsZXQgYyA9IHMgPCBsZW4gPyB0ZXh0LmNoYXJDb2RlQXQocykgfHwgMHhGRkZEIDogMDtcbiAgICBsZXQgbmV3eCA9IHg7XG4gICAgbGV0IGNoYXJfdztcbiAgICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gICAgaWYgKCFjaGFyX2luZm8pIHtcbiAgICAgIGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKDEwKTtcbiAgICB9XG4gICAgaWYgKGNoYXJfaW5mbykge1xuICAgICAgY2hhcl93ID0gKGNoYXJfaW5mby53ICsgY2hhcl9pbmZvLnhwYWQpICogeHNjICogY2hhcl9pbmZvLnNjYWxlICsgeF9hZHZhbmNlO1xuICAgICAgbmV3eCA9IHggKyBjaGFyX3c7XG4gICAgfVxuICAgIGlmIChuZXd4ID49IHcgJiYgaGFyZF93cmFwKSB7XG4gICAgICAvLyBmbHVzaCB0aGUgd29yZCBzbyBmYXIhXG4gICAgICBpZiAod29yZF9jYikge1xuICAgICAgICB3b3JkX2NiKHdvcmRfeDAsIGxpbmVudW0sIHRleHQuc2xpY2Uod29yZF9zdGFydCwgcykpO1xuICAgICAgfVxuICAgICAgd29yZF9zdGFydCA9IHM7XG4gICAgICB3b3JkX3gwID0gaW5kZW50O1xuICAgICAgeCA9IHdvcmRfeDAgKyBjaGFyX3c7XG4gICAgICBsaW5lbnVtKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSBuZXd4O1xuICAgIH1cbiAgICBpZiAoIShjID09PSAzMiAvKicgJyovIHx8IGMgPT09IDAgfHwgYyA9PT0gMTAgLyonXFxuJyovIHx8IGMgPT09IDkpKSB7XG4gICAgICBzKys7XG4gICAgICBjID0gcyA8IGxlbiA/IHRleHQuY2hhckNvZGVBdChzKSB8fCAweEZGRkQgOiAwO1xuICAgIH1cbiAgICBpZiAoYyA9PT0gMzIgLyonICcqLyB8fCBjID09PSAwIHx8IGMgPT09IDEwIC8qJ1xcbicqLyB8fCBjID09PSA5KSB7XG4gICAgICBoYXJkX3dyYXAgPSBmYWxzZTtcbiAgICAgIC8vIGRyYXcgd29yZCB1bnRpbCBzXG4gICAgICBpZiAoeCA+IHcpIHtcbiAgICAgICAgLy8gbWF5YmUgd3JhcFxuICAgICAgICBsZXQgd29yZF93aWR0aCA9IHggLSB3b3JkX3gwO1xuICAgICAgICBpZiAod29yZF93aWR0aCA+IHcgLSBpbmRlbnQpIHtcbiAgICAgICAgICAvLyBub3QgZ29pbmcgdG8gZml0LCBzcGxpdCBpdCB1cCFcbiAgICAgICAgICBoYXJkX3dyYXAgPSB0cnVlO1xuICAgICAgICAgIC8vIHJlY292ZXIgYW5kIHJlc3RhcnQgYXQgd29yZCBzdGFydFxuICAgICAgICAgIHMgPSB3b3JkX3N0YXJ0O1xuICAgICAgICAgIHggPSB3b3JkX3gwO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdvcmRfeDAgPSBpbmRlbnQ7XG4gICAgICAgICAgeCA9IHdvcmRfeDAgKyB3b3JkX3dpZHRoO1xuICAgICAgICAgIGxpbmVudW0rKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdvcmRfY2IpIHtcbiAgICAgICAgd29yZF9jYih3b3JkX3gwLCBsaW5lbnVtLCB0ZXh0LnNsaWNlKHdvcmRfc3RhcnQsIHMpKTtcbiAgICAgIH1cbiAgICAgIHdvcmRfc3RhcnQgPSBzKzE7XG4gICAgICBpZiAoYyA9PT0gMTAgLyonXFxuJyovKSB7XG4gICAgICAgIHggPSBpbmRlbnQ7XG4gICAgICAgIGxpbmVudW0rKztcbiAgICAgIH0gZWxzZSBpZiAoYyA9PT0gOSAvKidcXHQnKi8pIHtcbiAgICAgICAgbGV0IHRhYnNpemUgPSB4c2MgKiB0aGlzLmZvbnRfaW5mby5mb250X3NpemUgKiAyO1xuICAgICAgICB4ID0gKGZsb29yKHggLyB0YWJzaXplKSArIDEpICogdGFic2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggKz0gc3BhY2Vfc2l6ZTtcbiAgICAgIH1cbiAgICAgIHdvcmRfeDAgPSB4O1xuICAgICAgaWYgKGMgPT09IDMyIC8qJyAnKi8gfHwgYyA9PT0gMTAgLyonXFxuJyovIHx8IGMgPT09IDkpIHtcbiAgICAgICAgcysrOyAvLyBhZHZhbmNlIHBhc3Qgc3BhY2VcbiAgICAgIH1cbiAgICB9XG4gIH0gd2hpbGUgKHMgPCBsZW4pO1xuICArK2xpbmVudW07XG4gIHJldHVybiBsaW5lbnVtO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTY2FsZWRXcmFwcGVkID0gZnVuY3Rpb24gKHN0eWxlLCB4LCB5LCB6LCB3LCBpbmRlbnQsIHhzYywgeXNjLCB0ZXh0KSB7XG4gIGlmICh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRleHQgPSAnKG51bGwpJztcbiAgfVxuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuICB0aGlzLmxhc3Rfd2lkdGggPSAwO1xuICBsZXQgbnVtX2xpbmVzID0gdGhpcy53cmFwTGluZXNTY2FsZWQodywgaW5kZW50LCB4c2MsIHRleHQsICh4b2ZmcywgbGluZW51bSwgd29yZCkgPT4ge1xuICAgIGxldCB5MiA9IHkgKyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUgKiB5c2MgKiBsaW5lbnVtO1xuICAgIGxldCB4MiA9IHggKyB4b2ZmcztcbiAgICBsZXQgd29yZF93ID0gdGhpcy5kcmF3U2NhbGVkKHN0eWxlLCB4MiwgeTIsIHosIHhzYywgeXNjLCB3b3JkKTtcbiAgICB0aGlzLmxhc3Rfd2lkdGggPSBtYXgodGhpcy5sYXN0X3dpZHRoLCB4b2ZmcyArIHdvcmRfdyk7XG4gIH0pO1xuICByZXR1cm4gbnVtX2xpbmVzICogdGhpcy5mb250X2luZm8uZm9udF9zaXplICogeXNjO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmNhbGNYQWR2YW5jZSA9IGZ1bmN0aW9uICh4c2MpIHtcbiAgLy8gQXNzdW1lIGNhbGxlZDogYXBwbHlTdHlsZShzdHlsZSk7XG5cbiAgLy8gc2NhbGUgYWxsIHN1cHBsaWVkIHZhbHVlcyBieSB0aGlzIHNvIHRoYXQgaWYgd2Ugc3dhcCBpbiBhIGZvbnQgd2l0aCB0d2ljZSB0aGUgcmVzb2x1dGlvbiAoYW5kIHR3aWNlIHRoZSBzcHJlYWQpXG4gIC8vICAgdGhpbmdzIGxvb2sgYWxtb3N0IGlkZW50aWNhbCwganVzdCBjcmlzcGVyXG4gIGxldCBmb250X3RleGVsX3NjYWxlID0gdGhpcy5mb250X2luZm8uZm9udF9zaXplIC8gMzI7XG4gIC8vIEFzIGEgY29tcHJvbWlzZSwgLTIgYmlhcyBoZXJlIHNlZW1zIHRvIHdvcmsgd2VsbFxuICBsZXQgeF9hZHZhbmNlID0geHNjICogZm9udF90ZXhlbF9zY2FsZSAqIG1heCh0aGlzLmFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCAtIDIsIDApO1xuICAvLyBBcyBhIGNvbXByb21pc2UsIHRoZXJlJ3MgYSAtMyBiaWFzIGluIHRoZXJlLCBzbyBpdCBvbmx5IGtpY2tzIGluIHVuZGVyIGV4dHJlbWUgY2lyY3Vtc3RhbmNlc1xuICB4X2FkdmFuY2UgPSBtYXgoeF9hZHZhbmNlLCB4c2MgKiBmb250X3RleGVsX3NjYWxlICpcbiAgICBtYXgodGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIgLSB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyAtIDMsIDApKTtcbiAgcmV0dXJuIHhfYWR2YW5jZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBNYWluIGltcGxlbWVudGF0aW9uXG5cbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2NhbGVkID0gZnVuY3Rpb24gKHN0eWxlLCBfeCwgeSwgeiwgeHNjLCB5c2MsIHRleHQpIHtcbiAgbGV0IHggPSBfeDtcbiAgYXNzZXJ0KGlzRmluaXRlKHgpKTtcbiAgYXNzZXJ0KGlzRmluaXRlKHkpKTtcbiAgYXNzZXJ0KGlzRmluaXRlKHopKTtcbiAgbGV0IGZvbnRfaW5mbyA9IHRoaXMuZm9udF9pbmZvO1xuICAvLyBEZWJ1Zzogc2hvdyBleHBlY3QgYXJlYSBvZiBnbHlwaHNcbiAgLy8gcmVxdWlyZSgnLi91aS5qcycpLmRyYXdSZWN0KF94LCB5LFxuICAvLyAgIF94ICsgeHNjICogZm9udF9pbmZvLmZvbnRfc2l6ZSAqIDIwLCB5ICsgeXNjICogZm9udF9pbmZvLmZvbnRfc2l6ZSxcbiAgLy8gICAxMDAwLCBbMSwgMCwgMSwgMC41XSk7XG4gIHkgKz0gKGZvbnRfaW5mby55X29mZnNldCB8fCAwKSAqIHlzYztcbiAgbGV0IHRleHMgPSB0aGlzLnRleHR1cmVzO1xuICBpZiAodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZXh0ID0gJyhudWxsKSc7XG4gIH1cbiAgY29uc3QgbGVuID0gdGV4dC5sZW5ndGg7XG4gIGlmICh4c2MgPT09IDAgfHwgeXNjID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuXG4gIGNvbnN0IGF2Z19zY2FsZV9mb250ID0gKHhzYyArIHlzYykgKiAwLjU7XG4gIGNvbnN0IGNhbWVyYV94c2NhbGUgPSBjYW1lcmEyZC5kYXRhWzRdO1xuICBjb25zdCBjYW1lcmFfeXNjYWxlID0gY2FtZXJhMmQuZGF0YVs1XTtcbiAgbGV0IGF2Z19zY2FsZV9jb21iaW5lZCA9ICh4c2MgKiBjYW1lcmFfeHNjYWxlICsgeXNjICogY2FtZXJhX3lzY2FsZSkgKiAwLjU7XG4gIC8vIE5vdCBkb2luZyB0aGlzIGhlcmUsIGJlY2F1c2UgcmVuZGVyX3NjYWxlX2FsbCBpcyBub3QgY3VycmVudGx5IHJlZmxlY3RlZCBpbiBjYW1lcmFfeC95c2NhbGVcbiAgLy8gYXZnX3NjYWxlX2NvbWJpbmVkICo9IHNldHRpbmdzLnJlbmRlcl9zY2FsZV9hbGw7XG5cbiAgLy8gc2NhbGUgYWxsIHN1cHBsaWVkIHZhbHVlcyBieSB0aGlzIHNvIHRoYXQgaWYgd2Ugc3dhcCBpbiBhIGZvbnQgd2l0aCB0d2ljZSB0aGUgcmVzb2x1dGlvbiAoYW5kIHR3aWNlIHRoZSBzcHJlYWQpXG4gIC8vICAgdGhpbmdzIGxvb2sgYWxtb3N0IGlkZW50aWNhbCwganVzdCBjcmlzcGVyXG4gIGxldCB4X2FkdmFuY2UgPSB0aGlzLmNhbGNYQWR2YW5jZSh4c2MpO1xuICBsZXQgZm9udF90ZXhlbF9zY2FsZSA9IGZvbnRfaW5mby5mb250X3NpemUgLyAzMjtcbiAgbGV0IHRpbGVfc3RhdGUgPSAwO1xuXG4gIGxldCBhcHBsaWVkX3N0eWxlID0gdGhpcy5hcHBsaWVkX3N0eWxlO1xuXG4gIC8vIENhbGN1bGF0ZSBhbnRpLWFsaWFzaW5nIHZhbHVlc1xuICBsZXQgZGVsdGFfcGVyX3NvdXJjZV9waXhlbCA9IDAuNSAvIGZvbnRfaW5mby5zcHJlYWQ7XG4gIGxldCBkZWx0YV9wZXJfZGVzdF9waXhlbCA9IGRlbHRhX3Blcl9zb3VyY2VfcGl4ZWwgLyBhdmdfc2NhbGVfY29tYmluZWQ7XG4gIGxldCB2YWx1ZSA9IHZlYzQoXG4gICAgMSAvIGRlbHRhX3Blcl9kZXN0X3BpeGVsLCAvLyBBQSBNdWx0IGFuZCBPdXRsaW5lIE11bHRcbiAgICAtMC41IC8gZGVsdGFfcGVyX2Rlc3RfcGl4ZWwgKyAwLjUsIC8vIEFBIEFkZFxuICAgIC8vIE91dGxpbmUgQWRkXG4gICAgLTAuNSAvIGRlbHRhX3Blcl9kZXN0X3BpeGVsICsgMC41ICsgYXBwbGllZF9zdHlsZS5vdXRsaW5lX3dpZHRoKmZvbnRfdGV4ZWxfc2NhbGUqYXZnX3NjYWxlX2NvbWJpbmVkLFxuICAgIDAsIC8vIFVudXNlZFxuICApO1xuICBpZiAodmFsdWVbMl0gPiAwKSB7XG4gICAgdmFsdWVbMl0gPSAwO1xuICB9XG4gIGxldCBwYWRkaW5nMSA9IG1heCgwLCBhcHBsaWVkX3N0eWxlLm91dGxpbmVfd2lkdGgqZm9udF90ZXhlbF9zY2FsZSphdmdfc2NhbGVfZm9udCk7XG4gIGxldCBwYWRkaW5nNCA9IHZlYzQoKTtcbiAgY29uc3Qgb3V0ZXJfc2NhbGVkID0gYXBwbGllZF9zdHlsZS5nbG93X291dGVyKmZvbnRfdGV4ZWxfc2NhbGU7XG4gIHBhZGRpbmc0WzBdID0gbWF4KG91dGVyX3NjYWxlZCp4c2MgLSBhcHBsaWVkX3N0eWxlLmdsb3dfeG9mZnMqZm9udF90ZXhlbF9zY2FsZSp4c2MsIHBhZGRpbmcxKTtcbiAgcGFkZGluZzRbMl0gPSBtYXgob3V0ZXJfc2NhbGVkKnhzYyArIGFwcGxpZWRfc3R5bGUuZ2xvd194b2Zmcypmb250X3RleGVsX3NjYWxlKnhzYywgcGFkZGluZzEpO1xuICBwYWRkaW5nNFsxXSA9IG1heChvdXRlcl9zY2FsZWQqeXNjIC0gYXBwbGllZF9zdHlsZS5nbG93X3lvZmZzKmZvbnRfdGV4ZWxfc2NhbGUqeXNjLCBwYWRkaW5nMSk7XG4gIHBhZGRpbmc0WzNdID0gbWF4KG91dGVyX3NjYWxlZCp5c2MgKyBhcHBsaWVkX3N0eWxlLmdsb3dfeW9mZnMqZm9udF90ZXhlbF9zY2FsZSp5c2MsIHBhZGRpbmcxKTtcblxuICB0ZWNoUGFyYW1zU2V0KCdwYXJhbTAnLCB2YWx1ZSk7XG4gIGxldCB2YWx1ZTIgPSB2ZWM0KFxuICAgIDAsIC8vIGZpbGxlZCBsYXRlclxuICAgIDAsIC8vIGZpbGxlZCBsYXRlclxuICAgIC8vIEdsb3cgbXVsdFxuICAgIDEgLyAoKGFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciAtIGFwcGxpZWRfc3R5bGUuZ2xvd19pbm5lcikgKiBkZWx0YV9wZXJfc291cmNlX3BpeGVsICogZm9udF90ZXhlbF9zY2FsZSksXG4gICAgLSgwLjUgLSBhcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIgKiBkZWx0YV9wZXJfc291cmNlX3BpeGVsICogZm9udF90ZXhlbF9zY2FsZSkgLyAoKGFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciAtXG4gICAgICBhcHBsaWVkX3N0eWxlLmdsb3dfaW5uZXIpICogZGVsdGFfcGVyX3NvdXJjZV9waXhlbCAqIGZvbnRfdGV4ZWxfc2NhbGUpXG4gICk7XG4gIGlmICh2YWx1ZTJbM10gPiAwKSB7XG4gICAgdmFsdWUyWzNdID0gMDtcbiAgfVxuXG4gIGxldCBwYWRkaW5nX2luX2ZvbnRfc3BhY2UgPSB2ZWM0KCk7XG4gIHY0c2NhbGUocGFkZGluZ19pbl9mb250X3NwYWNlLCBwYWRkaW5nNCwgMSAvIGF2Z19zY2FsZV9mb250KTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDQ7ICsraWkpIHtcbiAgICBpZiAocGFkZGluZ19pbl9mb250X3NwYWNlW2lpXSA+IGZvbnRfaW5mby5zcHJlYWQpIHtcbiAgICAgIC8vIE5vdCBlbm91Z2ggYnVmZmVyXG4gICAgICBsZXQgc2MgPSBmb250X2luZm8uc3ByZWFkIC8gcGFkZGluZ19pbl9mb250X3NwYWNlW2lpXTtcbiAgICAgIHBhZGRpbmc0W2lpXSAqPSBzYztcbiAgICAgIHBhZGRpbmdfaW5fZm9udF9zcGFjZVtpaV0gKj0gc2M7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hvb3NlIGFwcHJvcHJpYXRlIHogYWR2YW5jZSBzbyB0aGF0IGNoYXJhY3RlciBhcmUgZHJhd24gbGVmdCB0byByaWdodCAob3IgUlRMIGlmIHRoZSBnbG93IGlzIG9uIHRoZSBvdGhlciBzaWRlKVxuICBjb25zdCB6X2FkdmFuY2UgPSBhcHBsaWVkX3N0eWxlLmdsb3dfeG9mZnMgPCAwID8gLTAuMDAwMSA6IDAuMDAwMTtcblxuXG4gIC8vIEZvciBub24tMToxIGFzcGVjdCByYXRpb24gcmVuZGVyaW5nLCBuZWVkIHRvIHNjYWxlIG91ciBjb29yZGluYXRlcycgcGFkZGluZyBkaWZmZXJlbnRseSBpbiBlYWNoIGF4aXNcbiAgbGV0IHJlbF94X3NjYWxlID0geHNjIC8gYXZnX3NjYWxlX2ZvbnQ7XG4gIGxldCByZWxfeV9zY2FsZSA9IHlzYyAvIGF2Z19zY2FsZV9mb250O1xuXG4gIGZvciAobGV0IGk9MDsgaTxsZW47IGkrKykge1xuICAgIGNvbnN0IGMgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGMgPT09IDkpIHsgLy8gJ1xcdCcuY2hhckNvZGVBdCgwKSkge1xuICAgICAgbGV0IHRhYnNpemUgPSB4c2MgKiBmb250X2luZm8uZm9udF9zaXplICogNDtcbiAgICAgIHggPSAoKCgoeCAtIF94KSAvIHRhYnNpemUpIHwgMCkgKyAxKSAqIHRhYnNpemUgKyBfeDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKGMpO1xuICAgICAgaWYgKCFjaGFyX2luZm8pIHtcbiAgICAgICAgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoMTMpO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXJfaW5mbykge1xuICAgICAgICBsZXQgY2hhcl9zY2FsZSA9IGNoYXJfaW5mby5zY2FsZTtcbiAgICAgICAgbGV0IHhzYzIgPSB4c2MgKiBjaGFyX3NjYWxlO1xuICAgICAgICBpZiAoY2hhcl9pbmZvLncpIHtcbiAgICAgICAgICBsZXQgeXNjMiA9IHlzYyAqIGNoYXJfc2NhbGU7XG4gICAgICAgICAgbGV0IHBhZF9zY2FsZSA9IDEgLyBjaGFyX3NjYWxlO1xuICAgICAgICAgIGxldCB0aWxlX3dpZHRoID0gdGhpcy50ZXhfdztcbiAgICAgICAgICBsZXQgdGlsZV9oZWlnaHQgPSB0aGlzLnRleF9oO1xuICAgICAgICAgIC8vIExhenkgdXBkYXRlIHBhcmFtcyBoZXJlXG4gICAgICAgICAgaWYgKGNoYXJfc2NhbGUgIT09IHRpbGVfc3RhdGUpIHtcbiAgICAgICAgICAgIHZhbHVlMlswXSA9IC1hcHBsaWVkX3N0eWxlLmdsb3dfeG9mZnMgKiBmb250X3RleGVsX3NjYWxlICogcGFkX3NjYWxlIC8gdGlsZV93aWR0aDtcbiAgICAgICAgICAgIHZhbHVlMlsxXSA9IC1hcHBsaWVkX3N0eWxlLmdsb3dfeW9mZnMgKiBmb250X3RleGVsX3NjYWxlICogcGFkX3NjYWxlIC8gdGlsZV9oZWlnaHQ7XG4gICAgICAgICAgICB0ZWNoUGFyYW1zU2V0KCdnbG93UGFyYW1zJywgdmFsdWUyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgdTAgPSAoY2hhcl9pbmZvLngwIC0gcGFkZGluZ19pbl9mb250X3NwYWNlWzBdICogcGFkX3NjYWxlKSAvIHRpbGVfd2lkdGg7XG4gICAgICAgICAgbGV0IHUxID0gKGNoYXJfaW5mby54MCArIGNoYXJfaW5mby53ICsgcGFkZGluZ19pbl9mb250X3NwYWNlWzJdICogcGFkX3NjYWxlKSAvIHRpbGVfd2lkdGg7XG4gICAgICAgICAgbGV0IHYwID0gKGNoYXJfaW5mby55MCAtIHBhZGRpbmdfaW5fZm9udF9zcGFjZVsxXSAqIHBhZF9zY2FsZSkgLyB0aWxlX2hlaWdodDtcbiAgICAgICAgICBsZXQgdjEgPSAoY2hhcl9pbmZvLnkwICsgY2hhcl9pbmZvLmggKyBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbM10gKiBwYWRfc2NhbGUpIC8gdGlsZV9oZWlnaHQ7XG5cbiAgICAgICAgICBsZXQgdyA9IGNoYXJfaW5mby53ICogeHNjMiArIChwYWRkaW5nNFswXSArIHBhZGRpbmc0WzJdKSAqIHJlbF94X3NjYWxlO1xuICAgICAgICAgIGxldCBoID0gY2hhcl9pbmZvLmggKiB5c2MyICsgKHBhZGRpbmc0WzFdICsgcGFkZGluZzRbM10pICogcmVsX3lfc2NhbGU7XG5cbiAgICAgICAgICBzcHJpdGVzLnF1ZXVlcmF3KFxuICAgICAgICAgICAgdGV4cyxcbiAgICAgICAgICAgIHggLSByZWxfeF9zY2FsZSAqIHBhZGRpbmc0WzBdLCB5IC0gcmVsX3lfc2NhbGUgKiBwYWRkaW5nNFsyXSArIGNoYXJfaW5mby55b2ZmcyAqIHlzYzIsXG4gICAgICAgICAgICB6ICsgel9hZHZhbmNlICogaSwgdywgaCxcbiAgICAgICAgICAgIHUwLCB2MCwgdTEsIHYxLFxuICAgICAgICAgICAgYXBwbGllZF9zdHlsZS5jb2xvcl92ZWM0LFxuICAgICAgICAgICAgdGhpcy5zaGFkZXIsIHRlY2hQYXJhbXNHZXQoKSk7XG5cbiAgICAgICAgICAvLyByZXF1aXJlKCcuL3VpLmpzJykuZHJhd1JlY3QoeCAtIHJlbF94X3NjYWxlICogcGFkZGluZzRbMF0sXG4gICAgICAgICAgLy8gICB5IC0gcmVsX3lfc2NhbGUgKiBwYWRkaW5nNFsyXSArIGNoYXJfaW5mby55b2ZmcyAqIHlzYzIsXG4gICAgICAgICAgLy8gICB3ICsgeCAtIHJlbF94X3NjYWxlICogcGFkZGluZzRbMF0sXG4gICAgICAgICAgLy8gICBoICsgeSAtIHJlbF95X3NjYWxlICogcGFkZGluZzRbMl0gKyBjaGFyX2luZm8ueW9mZnMgKiB5c2MyLFxuICAgICAgICAgIC8vICAgMTAwMCwgW2kgJiAxLCAoaSAmIDIpPj4xLCAoaSAmIDQpPj4yLCAwLjVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHggKz0gKGNoYXJfaW5mby53ICsgY2hhcl9pbmZvLnhwYWQpICogeHNjMiArIHhfYWR2YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHggLSBfeDtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5kZXRlcm1pbmVTaGFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvdXRsaW5lID0gdGhpcy5hcHBsaWVkX3N0eWxlLm91dGxpbmVfd2lkdGggJiYgKHRoaXMuYXBwbGllZF9zdHlsZS5vdXRsaW5lX2NvbG9yICYgMHhmZik7XG4gIGxldCBnbG93ID0gdGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIgPiAwICYmICh0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19jb2xvciAmIDB4ZmYpO1xuICBpZiAob3V0bGluZSkge1xuICAgIGlmIChnbG93KSB7XG4gICAgICB0aGlzLnNoYWRlciA9IGZvbnRfc2hhZGVycy5mb250X2FhX291dGxpbmVfZ2xvdztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaGFkZXIgPSBmb250X3NoYWRlcnMuZm9udF9hYV9vdXRsaW5lO1xuICAgIH1cbiAgfSBlbHNlIGlmIChnbG93KSB7XG4gICAgdGhpcy5zaGFkZXIgPSBmb250X3NoYWRlcnMuZm9udF9hYV9nbG93O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2hhZGVyID0gZm9udF9zaGFkZXJzLmZvbnRfYWE7XG4gIH1cbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5hcHBseVN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7XG4gIGlmICghc3R5bGUpIHtcbiAgICBzdHlsZSA9IHRoaXMuZGVmYXVsdF9zdHlsZTtcbiAgfVxuICAvLyBvdXRsaW5lXG4gIHZlYzRDb2xvckZyb21JbnRDb2xvcih0ZW1wX2NvbG9yLCBzdHlsZS5vdXRsaW5lX2NvbG9yKTtcbiAgdGVjaFBhcmFtc1NldCgnb3V0bGluZUNvbG9yJywgdGVtcF9jb2xvcik7XG5cbiAgLy8gZ2xvd1xuICB2ZWM0Q29sb3JGcm9tSW50Q29sb3IodGVtcF9jb2xvciwgc3R5bGUuZ2xvd19jb2xvcik7XG4gIHRlY2hQYXJhbXNTZXQoJ2dsb3dDb2xvcicsIHRlbXBfY29sb3IpO1xuXG4gIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICB0aGlzLmFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCA9IHN0eWxlLm91dGxpbmVfd2lkdGg7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5vdXRsaW5lX2NvbG9yID0gc3R5bGUub3V0bGluZV9jb2xvcjtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfeG9mZnMgPSBzdHlsZS5nbG93X3hvZmZzO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd195b2ZmcyA9IHN0eWxlLmdsb3dfeW9mZnM7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X2lubmVyID0gc3R5bGUuZ2xvd19pbm5lcjtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIgPSBzdHlsZS5nbG93X291dGVyO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19jb2xvciA9IHN0eWxlLmdsb3dfY29sb3I7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvciA9IHN0eWxlLmNvbG9yO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JfdmVjNCA9IHN0eWxlLmNvbG9yX3ZlYzQ7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvclVSID0gc3R5bGUuY29sb3JVUjtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yTFIgPSBzdHlsZS5jb2xvckxSO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JMTCA9IHN0eWxlLmNvbG9yTEw7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvcl9tb2RlID0gc3R5bGUuY29sb3JfbW9kZTtcblxuICBpZiAodGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yX21vZGUgPT09IENPTE9SX01PREUuU0lOR0xFKSB7XG4gICAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yVVIgPSB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JMTCA9IHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvckxSID0gdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yO1xuICB9XG5cbiAgdGhpcy5kZXRlcm1pbmVTaGFkZXIoKTtcbn07XG5cbi8vIFJlcGxpY2F0ZSBjb25zdGFudHMgYW5kIHV0aWxpdHkgZnVuY3Rpb25zIG9uIGFsbCBmb250IGluc3RhbmNlcyBhcyB3ZWxsXG5HbG92Rm9udC5wcm90b3R5cGUuQ09MT1JfTU9ERSA9IENPTE9SX01PREU7XG5HbG92Rm9udC5wcm90b3R5cGUuQUxJR04gPSBBTElHTjtcbkdsb3ZGb250LnByb3RvdHlwZS5zdHlsZSA9IHN0eWxlO1xuR2xvdkZvbnQucHJvdG90eXBlLnN0eWxlQWxwaGEgPSBzdHlsZUFscGhhO1xuR2xvdkZvbnQucHJvdG90eXBlLnN0eWxlQ29sb3JlZCA9IHN0eWxlQ29sb3JlZDtcblxuZnVuY3Rpb24gZm9udFNoYWRlcnNJbml0KCkge1xuICBpZiAoZm9udF9zaGFkZXJzLmZvbnRfYWEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9udF9zaGFkZXJzLmZvbnRfYWEgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2ZvbnRfYWEuZnAnKTtcbiAgZm9udF9zaGFkZXJzLmZvbnRfYWFfZ2xvdyA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYV9nbG93LmZwJyk7XG4gIGZvbnRfc2hhZGVycy5mb250X2FhX291dGxpbmUgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2ZvbnRfYWFfb3V0bGluZS5mcCcpO1xuICBmb250X3NoYWRlcnMuZm9udF9hYV9vdXRsaW5lX2dsb3cgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2ZvbnRfYWFfb3V0bGluZV9nbG93LmZwJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZm9udF9pbmZvLCB0ZXh0dXJlX25hbWUpIHtcbiAgZm9udFNoYWRlcnNJbml0KCk7XG4gIHJldHVybiBuZXcgR2xvdkZvbnQoZm9udF9pbmZvLCB0ZXh0dXJlX25hbWUpO1xufVxuIiwiY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGlzX2lvcyB9ID0gcmVxdWlyZSgnLi9icm93c2VyLmpzJyk7XG5jb25zdCB7IGNtZF9wYXJzZSB9ID0gcmVxdWlyZSgnLi9jbWRzLmpzJyk7XG5jb25zdCB7IGFwcGx5Q29weSB9ID0gcmVxdWlyZSgnLi9lZmZlY3RzLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgeyByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0IH0gPSBlbmdpbmU7XG5jb25zdCBwZXJmID0gcmVxdWlyZSgnLi9wZXJmLmpzJyk7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuXG5sZXQgbGFzdF9udW1fcGFzc2VzID0gMDtcbmxldCBudW1fcGFzc2VzID0gMDtcblxubGV0IHRlbXBvcmFyeV90ZXh0dXJlcyA9IHt9O1xubGV0IHRlbXBvcmFyeV9kZXB0aGJ1ZmZlcnMgPSB7fTtcblxubGV0IHJlc2V0X2Zib3MgPSBmYWxzZTtcbmZ1bmN0aW9uIHJlc2V0RkJPcygpIHtcbiAgcmVzZXRfZmJvcyA9IHRydWU7XG59XG5cbmxldCBsYXN0X3RlbXBfaWR4ID0gMDtcbmZ1bmN0aW9uIGdldFRlbXBvcmFyeVRleHR1cmUodywgaCwgcG9zc2libHlfZmJvKSB7XG4gIGxldCBrZXkgPSBgJHt3fV8ke2h9YDtcbiAgbGV0IGlzX2ZibyA9IHBvc3NpYmx5X2ZibyAmJiBzZXR0aW5ncy51c2VfZmJvcztcbiAgaWYgKGlzX2Zibykge1xuICAgIGtleSArPSAnX2Zibyc7XG4gIH1cbiAgbGV0IHRlbXAgPSB0ZW1wb3JhcnlfdGV4dHVyZXNba2V5XTtcbiAgaWYgKCF0ZW1wKSB7XG4gICAgdGVtcCA9IHRlbXBvcmFyeV90ZXh0dXJlc1trZXldID0geyBsaXN0OiBbXSwgaWR4OiAwIH07XG4gIH1cbiAgaWYgKHRlbXAuaWR4ID49IHRlbXAubGlzdC5sZW5ndGgpIHtcbiAgICBsZXQgdGV4ID0gdGV4dHVyZXMuY3JlYXRlRm9yQ2FwdHVyZShgdGVtcF8ke2tleX1fJHsrK2xhc3RfdGVtcF9pZHh9YCk7XG4gICAgaWYgKGlzX2Zibykge1xuICAgICAgdGV4LmFsbG9jRkJPKHcsIGgpO1xuICAgIH1cbiAgICB0ZW1wLmxpc3QucHVzaCh0ZXgpO1xuICB9XG4gIGxldCB0ZXggPSB0ZW1wLmxpc3RbdGVtcC5pZHgrK107XG4gIHJldHVybiB0ZXg7XG59XG5cbmZ1bmN0aW9uIGJpbmRUZW1wb3JhcnlEZXB0aGJ1ZmZlcih3LCBoKSB7XG4gIGxldCBrZXkgPSBgJHt3fV8ke2h9YDtcbiAgbGV0IHRlbXAgPSB0ZW1wb3JhcnlfZGVwdGhidWZmZXJzW2tleV07XG4gIGlmICghdGVtcCkge1xuICAgIHRlbXAgPSB0ZW1wb3JhcnlfZGVwdGhidWZmZXJzW2tleV0gPSB7IGxpc3Q6IFtdLCBpZHg6IDAgfTtcbiAgfVxuICBpZiAodGVtcC5pZHggPj0gdGVtcC5saXN0Lmxlbmd0aCkge1xuICAgIGxldCBkZXB0aF9idWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZGVwdGhfYnVmZmVyKTtcbiAgICBsZXQgYXR0YWNobWVudDtcbiAgICBpZiAoc2V0dGluZ3MuZmJvX2RlcHRoMTYpIHtcbiAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgdywgaCk7XG4gICAgICBhdHRhY2htZW50ID0gZ2wuREVQVEhfQVRUQUNITUVOVDtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIHcsIGgpO1xuICAgICAgYXR0YWNobWVudCA9IGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVDtcbiAgICB9XG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xuICAgIHRlbXAubGlzdC5wdXNoKHsgZGVwdGhfYnVmZmVyLCBhdHRhY2htZW50IH0pO1xuICB9XG4gIGxldCB7IGRlcHRoX2J1ZmZlciwgYXR0YWNobWVudCB9ID0gdGVtcC5saXN0W3RlbXAuaWR4KytdO1xuICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgYXR0YWNobWVudCwgZ2wuUkVOREVSQlVGRkVSLCBkZXB0aF9idWZmZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVtcG9yYXJ5VGV4dHVyZUNsYWltKHRleCkge1xuICBmb3IgKGxldCBrZXkgaW4gdGVtcG9yYXJ5X3RleHR1cmVzKSB7XG4gICAgbGV0IHRlbXAgPSB0ZW1wb3JhcnlfdGV4dHVyZXNba2V5XTtcbiAgICBsZXQgaWR4ID0gdGVtcC5saXN0LmluZGV4T2YodGV4KTtcbiAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgdGVtcC5saXN0LnNwbGljZShpZHgsIDEpO1xuICAgICAgaWYgKHRlbXAuaWR4ID4gaWR4KSB7XG4gICAgICAgIC0tdGVtcC5pZHg7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGFzc2VydChmYWxzZSk7XG59XG5cbi8vIENhbGwgdGV4LmNhcHR1cmVFbmQgd2hlbiBkb25lXG5mdW5jdGlvbiBmcmFtZWJ1ZmZlckNhcHR1cmVTdGFydCh0ZXgsIHcsIGgsIHBvc3NpYmx5X2Zibykge1xuICBhc3NlcnQuZXF1YWwoZW5naW5lLnZpZXdwb3J0WzBdLCAwKTsgLy8gbWF5YmUgYWxsb3cvcmVxdWlyZSBzZXR0aW5nIHZpZXdwb3J0ICphZnRlciogc3RhcnRpbmcgY2FwdHVyZSBpbnN0ZWFkP1xuICBhc3NlcnQuZXF1YWwoZW5naW5lLnZpZXdwb3J0WzFdLCAwKTtcbiAgaWYgKCF3KSB7XG4gICAgdyA9IHJlbmRlcldpZHRoKCk7XG4gICAgaCA9IHJlbmRlckhlaWdodCgpO1xuICB9XG4gIGlmICghdGV4KSB7XG4gICAgdGV4ID0gZ2V0VGVtcG9yYXJ5VGV4dHVyZSh3LCBoLCBwb3NzaWJseV9mYm8pO1xuICB9XG4gIHRleC5jYXB0dXJlU3RhcnQodywgaCk7XG4gIHJldHVybiB0ZXg7XG59XG5cbi8vIERvZXMgYSBjYXB0dXJlIGRpcmVjdGx5IGZyb20gdGhlIGZyYW1lYnVmZmVyIHJlZ2FyZGxlc3Mgb2YgY3VycmVudCB1c2VfZmJvcyBzZXR0aW5nXG4vLyBXYXJuaW5nOiBTbG93IG9uIGlPU1xuZXhwb3J0IGZ1bmN0aW9uIGZyYW1lYnVmZmVyQ2FwdHVyZSh0ZXgsIHcsIGgsIGZpbHRlcl9saW5lYXIsIHdyYXApIHtcbiAgdGV4ID0gZnJhbWVidWZmZXJDYXB0dXJlU3RhcnQodGV4LCB3LCBoLCBmYWxzZSk7XG4gIHRleC5jYXB0dXJlRW5kKGZpbHRlcl9saW5lYXIsIHdyYXApO1xuICByZXR1cm4gdGV4O1xufVxuXG5cbmxldCBjdXJfdGV4O1xuZXhwb3J0IGZ1bmN0aW9uIGZyYW1lYnVmZmVyU3RhcnQob3B0cykge1xuICBhc3NlcnQoIWN1cl90ZXgpO1xuICBsZXQgeyB3aWR0aCwgaGVpZ2h0LCB2aWV3cG9ydCwgZmluYWwsIGNsZWFyLCBuZWVkX2RlcHRoLCBjbGVhcl9hbGwsIGNsZWFyX2NvbG9yLCBmb3JjZV90ZXggfSA9IG9wdHM7XG4gICsrbnVtX3Bhc3NlcztcbiAgaWYgKGZvcmNlX3RleCkge1xuICAgIGFzc2VydCh2aWV3cG9ydCk7XG4gICAgY3VyX3RleCA9IGZvcmNlX3RleDtcbiAgICBjdXJfdGV4LmNhcHR1cmVTdGFydCgpO1xuICB9IGVsc2UgaWYgKCFmaW5hbCkge1xuICAgIGN1cl90ZXggPSBmcmFtZWJ1ZmZlckNhcHR1cmVTdGFydChudWxsLCB3aWR0aCwgaGVpZ2h0LCB0cnVlKTtcbiAgICBpZiAoc2V0dGluZ3MudXNlX2Zib3MpIHtcbiAgICAgIGlmIChuZWVkX2RlcHRoKSB7XG4gICAgICAgIGJpbmRUZW1wb3JhcnlEZXB0aGJ1ZmZlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRlc3Rpbmc6IGZvcmNlIHVuYmluZCwgaW4gY2FzZSBvbmUgd2FzIGxlZnQgYm91bmRcbiAgICAgICAgLy8gZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHNldHRpbmdzLmZib19kZXB0aDE2ID9cbiAgICAgICAgLy8gICBnbC5ERVBUSF9BVFRBQ0hNRU5UIDogZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoY2xlYXJfY29sb3IpIHtcbiAgICBnbC5jbGVhckNvbG9yKGNsZWFyX2NvbG9yWzBdLCBjbGVhcl9jb2xvclsxXSwgY2xlYXJfY29sb3JbMl0sIGNsZWFyX2NvbG9yWzNdKTtcbiAgfVxuICBpZiAoY2xlYXIgJiYgY2xlYXJfYWxsKSB7XG4gICAgLy8gZnVsbCBjbGVhciwgYmVmb3JlIHNldHRpbmcgdmlld3BvcnRcbiAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IChuZWVkX2RlcHRoID8gZ2wuREVQVEhfQlVGRkVSX0JJVCA6IDApKTtcbiAgfVxuICBsZXQgbmVlZF9zY2lzc29yO1xuICBpZiAodmlld3BvcnQpIHtcbiAgICBlbmdpbmUuc2V0Vmlld3BvcnQodmlld3BvcnQpO1xuICAgIG5lZWRfc2Npc3NvciA9IHZpZXdwb3J0WzBdIHx8IHZpZXdwb3J0WzFdIHx8IHZpZXdwb3J0WzJdICE9PSBlbmdpbmUud2lkdGggfHwgdmlld3BvcnRbM10gIT09IGVuZ2luZS5oZWlnaHQ7XG4gICAgaWYgKGNsZWFyX2FsbCkgeyAvLyBub3Qgc3VyZSB0aGlzIGxvZ2ljYWxseSBmb2xsb3dzLCBidXQgd2Ugd2FudCB0aGlzIGFueXdoZXJlIHdlJ3JlIGNsZWFyaW5nIGFsbCBjdXJyZW50bHlcbiAgICAgIG5lZWRfc2Npc3NvciA9IGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBlbmdpbmUuc2V0Vmlld3BvcnQoWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcbiAgICBuZWVkX3NjaXNzb3IgPSB3aWR0aCAhPT0gZW5naW5lLndpZHRoO1xuICB9XG4gIGlmIChuZWVkX3NjaXNzb3IgJiYgIXNldHRpbmdzLnVzZV9mYm9zKSB7XG4gICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgaWYgKHZpZXdwb3J0KSB7XG4gICAgICBnbC5zY2lzc29yKHZpZXdwb3J0WzBdLCB2aWV3cG9ydFsxXSwgdmlld3BvcnRbMl0sIHZpZXdwb3J0WzNdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuc2Npc3NvcigwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICB9XG4gIGlmIChjbGVhciAmJiAhY2xlYXJfYWxsKSB7XG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IChuZWVkX2RlcHRoID8gZ2wuREVQVEhfQlVGRkVSX0JJVCA6IDApKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJhbWVidWZmZXJFbmQob3B0cykge1xuICBhc3NlcnQoY3VyX3RleCk7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBsZXQgeyBmaWx0ZXJfbGluZWFyLCB3cmFwIH0gPSBvcHRzO1xuXG4gIGN1cl90ZXguY2FwdHVyZUVuZChmaWx0ZXJfbGluZWFyLCB3cmFwKTtcblxuICBsZXQgcmV0ID0gY3VyX3RleDtcbiAgY3VyX3RleCA9IG51bGw7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFtZWJ1ZmZlclRvcE9mRnJhbWUoKSB7XG4gIC8vIEluIGNhc2Ugb2YgY3Jhc2ggb24gcHJldmlvdXMgZnJhbWVcbiAgY3VyX3RleCA9IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFtZWJ1ZmZlckVuZE9mRnJhbWUoKSB7XG4gIGFzc2VydCghY3VyX3RleCk7XG4gIGxhc3RfbnVtX3Bhc3NlcyA9IG51bV9wYXNzZXM7XG4gIG51bV9wYXNzZXMgPSAwO1xuXG4gIGZvciAobGV0IGtleSBpbiB0ZW1wb3JhcnlfdGV4dHVyZXMpIHtcbiAgICBsZXQgdGVtcCA9IHRlbXBvcmFyeV90ZXh0dXJlc1trZXldO1xuICAgIGlmIChyZXNldF9mYm9zKSB7XG4gICAgICAvLyBSZWxlYXNlIGFsbCB0ZXh0dXJlc1xuICAgICAgdGVtcC5pZHggPSAwO1xuICAgIH1cbiAgICAvLyBSZWxlYXNlIHVudXNlZCB0ZXh0dXJlc1xuICAgIHdoaWxlICh0ZW1wLmxpc3QubGVuZ3RoID4gdGVtcC5pZHgpIHtcbiAgICAgIHRlbXAubGlzdC5wb3AoKS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGlmICghdGVtcC5pZHgpIHtcbiAgICAgIGRlbGV0ZSB0ZW1wb3JhcnlfdGV4dHVyZXNba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcC5pZHggPSAwO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBrZXkgaW4gdGVtcG9yYXJ5X2RlcHRoYnVmZmVycykge1xuICAgIGxldCB0ZW1wID0gdGVtcG9yYXJ5X2RlcHRoYnVmZmVyc1trZXldO1xuICAgIGlmIChyZXNldF9mYm9zKSB7XG4gICAgICAvLyBSZWxlYXNlIGFsbCByZW5kZXJidWZmZXJzXG4gICAgICB0ZW1wLmlkeCA9IDA7XG4gICAgfVxuICAgIC8vIFJlbGVhc2UgdW51c2VkIHJlbmRlcmJ1ZmZlcnNcbiAgICB3aGlsZSAodGVtcC5saXN0Lmxlbmd0aCA+IHRlbXAuaWR4KSB7XG4gICAgICBsZXQgeyBkZXB0aF9idWZmZXIgfSA9IHRlbXAubGlzdC5wb3AoKTtcbiAgICAgIC8vIFRPRE86IGNhbiB0aGlzIHN0aWxsIGJlIGJvdW5kIHRvIGEgZnJhbWVidWZmZXI/IHVubGlrZWx5LCBidXQgcG9zc2libGU/XG4gICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZGVwdGhfYnVmZmVyKTtcbiAgICB9XG4gICAgaWYgKCF0ZW1wLmlkeCkge1xuICAgICAgZGVsZXRlIHRlbXBvcmFyeV9kZXB0aGJ1ZmZlcnNba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcC5pZHggPSAwO1xuICAgIH1cbiAgfVxuICByZXNldF9mYm9zID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFtZWJ1ZmZlclVwZGF0ZUNhbnZhc0ZvckNhcHR1cmUoKSB7XG4gIGlmIChjdXJfdGV4ICYmIHNldHRpbmdzLnVzZV9mYm9zKSB7XG4gICAgbGV0IHNhdmVkX3RleCA9IGN1cl90ZXg7XG4gICAgbGV0IHNhdmVkX3ZpZXdwb3J0ID0gZW5naW5lLnZpZXdwb3J0LnNsaWNlKDApO1xuICAgIC8vIGNvcHkgdG8gY2FudmFzXG4gICAgZnJhbWVidWZmZXJFbmQoKTtcbiAgICBhcHBseUNvcHkoe1xuICAgICAgc291cmNlOiBzYXZlZF90ZXgsXG4gICAgICBmaW5hbDogdHJ1ZSxcbiAgICAgIHZpZXdwb3J0OiBzYXZlZF92aWV3cG9ydCxcbiAgICB9KTtcbiAgICAvLyByZXN1bWUgcmVuZGVyaW5nIHRvIGZyYW1lYnVmZmVyXG4gICAgZnJhbWVidWZmZXJTdGFydCh7XG4gICAgICBmb3JjZV90ZXg6IHNhdmVkX3RleCxcbiAgICAgIHZpZXdwb3J0OiBzYXZlZF92aWV3cG9ydCxcbiAgICB9KTtcbiAgICByZXR1cm4gc2F2ZWRfdGV4OyAvLyBqdXN0IGZvciAud2lkdGgvaGVpZ2h0XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IGVuZ2luZS52aWV3cG9ydFsyXSwgaGVpZ2h0OiBlbmdpbmUudmlld3BvcnRbM10gfTtcbiAgfVxufVxuXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNob3dfcGFzc2VzOiB7XG4gICAgbGFiZWw6ICdTaG93IFBvc3Rwcm9jZXNzaW5nIFBhc3NlcycsXG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxuICB1c2VfZmJvczoge1xuICAgIGxhYmVsOiAnVXNlIEZyYW1lYnVmZmVyIE9iamVjdHMgZm9yIHBvc3Rwcm9jZXNzaW5nJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiBpc19pb3MgPyAxIDogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICAgIHZlcjogMSxcbiAgfSxcbiAgZmJvX2RlcHRoMTY6IHsgLy8gVGhpcyBoYWQgbm8gZWZmZWN0IG9uIHBlcmZvcm1hbmNlLCB0ZXN0ZWQgb24gaVBob25lLCBYcGVyaWEgb3IgSW50ZWwgR1BVXG4gICAgbGFiZWw6ICdVc2UgMTYtYml0IGRlcHRoIGJ1ZmZlcnMgZm9yIG9mZnNjcmVlbiByZW5kZXJpbmcnLFxuICAgIGRlZmF1bHRfdmFsdWU6IDAsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBvbl9jaGFuZ2U6IHJlc2V0RkJPcyxcbiAgfSxcbiAgZmJvX3JnYmE6IHsgLy8gVGhpcyBoYWQgbm8gZWZmZWN0IG9uIHBlcmZvcm1hbmNlLCB0ZXN0ZWQgb24gaVBob25lLCBYcGVyaWEgb3IgSW50ZWwgR1BVXG4gICAgbGFiZWw6ICdVc2UgUkdCQSBjb2xvciBidWZmZXJzIGZvciBvZmZzY3JlZW4gcmVuZGVyaW5nJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgb25fY2hhbmdlOiByZXNldEZCT3MsXG4gIH0sXG59KTtcblxucGVyZi5hZGRNZXRyaWMoe1xuICBuYW1lOiAncGFzc2VzJyxcbiAgc2hvd19zdGF0OiAnc2hvd19wYXNzZXMnLFxuICBsYWJlbHM6IHtcbiAgICAncGFzc2VzOiAnOiAoKSA9PiBsYXN0X251bV9wYXNzZXMudG9TdHJpbmcoKSxcbiAgfSxcbn0pO1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMjAgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IHtcbiAgRlJJRU5EX0FEREVELFxuICBGUklFTkRfQURERURfQVVUTyxcbiAgRlJJRU5EX1JFTU9WRUQsXG4gIFBSRVNFTkNFX0FDVElWRSxcbiAgUFJFU0VOQ0VfSU5BQ1RJVkUsXG4gIFBSRVNFTkNFX09GRkxJTkUsXG59ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL2VudW1zLmpzJyk7XG5jb25zdCB7IGZiR2V0RnJpZW5kcyB9ID0gcmVxdWlyZSgnLi9mYmluc3RhbnQuanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnLi9uZXQuanMnKTtcbmNvbnN0IHsgZGVlcEVxdWFsIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG5jb25zdCBJRExFX1RJTUUgPSA2MDAwMDtcblxubGV0IHN1YnM7XG5cbmxldCBmcmllbmRfbGlzdCA9IG51bGw7XG5cbi8vIE1heSBiZSBgbnVsbGAgaWYgbm90IGxvZ2dlZCBpbiBvciBzdGlsbCBsb2FkaW5nXG5leHBvcnQgZnVuY3Rpb24gZnJpZW5kc0dldCgpIHtcbiAgcmV0dXJuIGZyaWVuZF9saXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGcmllbmQodXNlcl9pZCkge1xuICByZXR1cm4gZnJpZW5kX2xpc3QgJiYgZnJpZW5kX2xpc3RbdXNlcl9pZF0gJiYgZnJpZW5kX2xpc3RbdXNlcl9pZF0gIT09IEZSSUVORF9SRU1PVkVEO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJpZW5kQWRkKHVzZXJfaWQsIGNiKSB7XG4gIG5ldC5zdWJzLmdldE15VXNlckNoYW5uZWwoKS5jbWRQYXJzZShgZnJpZW5kX2FkZCAke3VzZXJfaWR9YCwgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmICghZXJyKSB7XG4gICAgICBmcmllbmRfbGlzdFt1c2VyX2lkXSA9IEZSSUVORF9BRERFRDtcbiAgICB9XG4gICAgY2IoZXJyLCByZXNwKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmllbmRSZW1vdmUodXNlcl9pZCwgY2IpIHtcbiAgbmV0LnN1YnMuZ2V0TXlVc2VyQ2hhbm5lbCgpLmNtZFBhcnNlKGBmcmllbmRfcmVtb3ZlICR7dXNlcl9pZH1gLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgaWYgKCFlcnIpIHtcbiAgICAgIGZyaWVuZF9saXN0W3VzZXJfaWRdID0gRlJJRU5EX1JFTU9WRUQ7XG4gICAgfVxuICAgIGNiKGVyciwgcmVzcCk7XG4gIH0pO1xufVxuXG4vLyBQYXNzLXRocm91Z2ggY29tbWFuZHNcbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2ZyaWVuZF9hZGQnLFxuICBoZWxwOiAnQWRkIGEgZnJpZW5kJyxcbiAgZnVuYzogZnJpZW5kQWRkLFxufSk7XG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICdmcmllbmRfcmVtb3ZlJyxcbiAgaGVscDogJ1JlbW92ZSBhIGZyaWVuZCcsXG4gIGZ1bmM6IGZyaWVuZFJlbW92ZSxcbn0pO1xuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZnJpZW5kX2xpc3QnLFxuICBoZWxwOiAnTGlzdCBhbGwgZnJpZW5kcycsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIGlmICghZnJpZW5kX2xpc3QpIHtcbiAgICAgIHJldHVybiB2b2lkIHJlc3BfZnVuYygnRnJpZW5kIGxpc3Qgbm90IGxvYWRlZCcpO1xuICAgIH1cbiAgICByZXNwX2Z1bmMobnVsbCwgT2JqZWN0LmtleXMoZnJpZW5kX2xpc3QpLmZpbHRlcigoYSkgPT4gZnJpZW5kX2xpc3RbYV0gIT09IEZSSUVORF9SRU1PVkVEKS5qb2luKCcsJykgfHxcbiAgICAgICdZb3UgaGF2ZSBubyBmcmllbmRzJyk7XG4gIH0sXG59KTtcblxubGV0IGludmlzaWJsZSA9IDA7XG5jbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZSgnaW52aXNpYmxlJywge1xuICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gIGhlbHA6ICdIaWRlIHJpY2ggcHJlc2VuY2UgaW5mb3JtYXRpb24gZnJvbSBvdGhlciB1c2VycycsXG4gIGxhYmVsOiAnSW52aXNpYmxlJyxcbiAgcmFuZ2U6IFswLDFdLFxuICBnZXQ6ICgpID0+IGludmlzaWJsZSxcbiAgc2V0OiAodikgPT4gKGludmlzaWJsZSA9IHYpLFxufSk7XG5cbmxldCBhZmsgPSAwO1xuY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoJ2FmaycsIHtcbiAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICBoZWxwOiAnQXBwZWFyIGFzIGlkbGUgdG8gb3RoZXIgdXNlcnMnLFxuICBsYWJlbDogJ0FGSycsXG4gIHJhbmdlOiBbMCwxXSxcbiAgZ2V0OiAoKSA9PiBhZmssXG4gIHNldDogKHYpID0+IChhZmsgPSB2KSxcbn0pO1xuXG5mdW5jdGlvbiBvblByZXNlbmNlKGRhdGEpIHtcbiAgbGV0IHVzZXJfY2hhbm5lbCA9IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG4gIHVzZXJfY2hhbm5lbC5wcmVzZW5jZV9kYXRhID0gZGF0YTtcbn1cblxubGV0IGxhc3RfcHJlc2VuY2UgPSBudWxsO1xubGV0IHNlbmRfcXVldWVkO1xuZnVuY3Rpb24gcmljaFByZXNlbmNlU2VuZCgpIHtcbiAgaWYgKCFuZXQuc3Vicy5sb2dnZWRJbigpIHx8ICFsYXN0X3ByZXNlbmNlIHx8IHNlbmRfcXVldWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbmRfcXVldWVkID0gdHJ1ZTtcbiAgc3Vicy5vbmNlQ29ubmVjdGVkKCgpID0+IHtcbiAgICBzZW5kX3F1ZXVlZCA9IGZhbHNlO1xuICAgIGlmICghbmV0LnN1YnMubG9nZ2VkSW4oKSB8fCAhbGFzdF9wcmVzZW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgcGFrID0gbmV0LnN1YnMuZ2V0TXlVc2VyQ2hhbm5lbCgpLnBhaygncHJlc2VuY2Vfc2V0Jyk7XG4gICAgcGFrLndyaXRlSW50KGxhc3RfcHJlc2VuY2UuYWN0aXZlKTtcbiAgICBwYWsud3JpdGVBbnNpU3RyaW5nKGxhc3RfcHJlc2VuY2Uuc3RhdGUpO1xuICAgIHBhay53cml0ZUpTT04obGFzdF9wcmVzZW5jZS5wYXlsb2FkKTtcbiAgICBwYWsuc2VuZCgpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByaWNoUHJlc2VuY2VTZXQoYWN0aXZlLCBzdGF0ZSwgcGF5bG9hZCkge1xuICBhY3RpdmUgPSAhYWN0aXZlIHx8IGFmayB8fCAoRGF0ZS5ub3coKSAtIGlucHV0LmlucHV0TGFzdFRpbWUoKSA+IElETEVfVElNRSkgPyBQUkVTRU5DRV9JTkFDVElWRSA6IFBSRVNFTkNFX0FDVElWRTtcbiAgaWYgKGludmlzaWJsZSkge1xuICAgIGFjdGl2ZSA9IFBSRVNFTkNFX09GRkxJTkU7XG4gIH1cbiAgcGF5bG9hZCA9IHBheWxvYWQgfHwgbnVsbDtcbiAgaWYgKCFsYXN0X3ByZXNlbmNlIHx8XG4gICAgYWN0aXZlICE9PSBsYXN0X3ByZXNlbmNlLmFjdGl2ZSB8fCBzdGF0ZSAhPT0gbGFzdF9wcmVzZW5jZS5zdGF0ZSB8fFxuICAgICFkZWVwRXF1YWwobGFzdF9wcmVzZW5jZS5wYXlsb2FkLCBwYXlsb2FkKVxuICApIHtcbiAgICBsYXN0X3ByZXNlbmNlID0ge1xuICAgICAgYWN0aXZlLFxuICAgICAgc3RhdGUsXG4gICAgICBwYXlsb2FkLFxuICAgIH07XG4gICAgcmljaFByZXNlbmNlU2VuZCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmllbmRzSW5pdCgpIHtcbiAgc3VicyA9IG5ldC5zdWJzO1xuICBzdWJzLm9uKCdsb2dpbicsIGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdXNlcl9jaGFubmVsID0gc3Vicy5nZXRNeVVzZXJDaGFubmVsKCk7XG4gICAgbGV0IHVzZXJfaWQgPSBzdWJzLmxvZ2dlZF9pbl91c2VybmFtZTtcbiAgICByaWNoUHJlc2VuY2VTZW5kKCk7XG4gICAgZnJpZW5kX2xpc3QgPSBudWxsO1xuICAgIHVzZXJfY2hhbm5lbC5wYWsoJ2ZyaWVuZF9saXN0Jykuc2VuZCgoZXJyLCBwYWspID0+IHtcbiAgICAgIGlmIChlcnIgfHwgdXNlcl9pZCAhPT0gc3Vicy5sb2dnZWRfaW5fdXNlcm5hbWUpIHtcbiAgICAgICAgLy8gZGlzY29ubmVjdGVkLCBldGNcbiAgICAgICAgaWYgKHBhaykge1xuICAgICAgICAgIHBhay5wb29sKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZnJpZW5kX2xpc3QgPSB7fTtcbiAgICAgIGxldCBmcmllbmRfaWQ7XG4gICAgICB3aGlsZSAoKGZyaWVuZF9pZCA9IHBhay5yZWFkQW5zaVN0cmluZygpKSkge1xuICAgICAgICBmcmllbmRfbGlzdFtmcmllbmRfaWRdID0gcGFrLnJlYWRJbnQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3luYyBmcmllbmQgbGlzdCB3aXRoIEZhY2Vib29rIGZyaWVuZHNcbiAgICAgIGlmIChzdWJzLmxvZ2luX2NyZWRlbnRpYWxzICYmIHN1YnMubG9naW5fY3JlZGVudGlhbHMuZmIpIHtcbiAgICAgICAgZmJHZXRGcmllbmRzKChlcnIsIGZiX2ZyaWVuZHMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyIHx8ICFmYl9mcmllbmRzIHx8IHVzZXJfaWQgIT09IHN1YnMubG9nZ2VkX2luX3VzZXJuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB0b19hZGQgPSBbXTtcbiAgICAgICAgICBsZXQgdG9fcmVtb3ZlID0gW107XG4gICAgICAgICAgbGV0IGZvdW5kID0ge307XG4gICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGZiX2ZyaWVuZHMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgICBsZXQgaWQgPSBmYl9mcmllbmRzW2lpXTtcbiAgICAgICAgICAgIGZvdW5kW2lkXSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWZyaWVuZF9saXN0W2lkXSkge1xuICAgICAgICAgICAgICBmcmllbmRfbGlzdFtpZF0gPSBGUklFTkRfQURERURfQVVUTztcbiAgICAgICAgICAgICAgdG9fYWRkLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxldCBpZCBpbiBmcmllbmRfbGlzdCkge1xuICAgICAgICAgICAgaWYgKCFmb3VuZFtpZF0gJiYgZnJpZW5kX2xpc3RbaWRdID09PSBGUklFTkRfQURERURfQVVUTykge1xuICAgICAgICAgICAgICBmcmllbmRfbGlzdFtpZF0gPSBGUklFTkRfUkVNT1ZFRDtcbiAgICAgICAgICAgICAgdG9fcmVtb3ZlLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRvX2FkZC5sZW5ndGggJiYgIXRvX3JlbW92ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHBhayA9IHVzZXJfY2hhbm5lbC5wYWsoJ2ZyaWVuZF9hdXRvX3VwZGF0ZScpO1xuICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b19hZGQubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgICBwYWsud3JpdGVBbnNpU3RyaW5nKHRvX2FkZFtpaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYWsud3JpdGVBbnNpU3RyaW5nKCcnKTtcbiAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG9fcmVtb3ZlLmxlbmd0aDsgKytpaSkge1xuICAgICAgICAgICAgcGFrLndyaXRlQW5zaVN0cmluZyh0b19yZW1vdmVbaWldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFrLndyaXRlQW5zaVN0cmluZygnJyk7XG4gICAgICAgICAgcGFrLnNlbmQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBzdWJzLm9uKCdsb2dvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgZnJpZW5kX2xpc3QgPSBudWxsO1xuICB9KTtcblxuICBzdWJzLm9uQ2hhbm5lbE1zZygndXNlcicsICdwcmVzZW5jZScsIG9uUHJlc2VuY2UpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCB7IE1BWF9TRU1BTlRJQyB9ID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCB7IGNlaWwsIG1heCwgbWluIH0gPSBNYXRoO1xuXG5leHBvcnQgY29uc3QgVFJJQU5HTEVTID0gNDtcbmV4cG9ydCBjb25zdCBUUklBTkdMRV9GQU4gPSA2O1xuZXhwb3J0IGNvbnN0IFFVQURTID0gNztcblxuY29uc3QgZ2xfYnl0ZV9zaXplID0ge1xuICAweDE0MDA6IDEsIC8vIEdMX0JZVEVcbiAgMHgxNDAxOiAxLCAvLyBHTF9VTlNJR05FRF9CWVRFXG4gIDB4MTQwMjogMiwgLy8gR0xfU0hPUlRcbiAgMHgxNDAzOiAyLCAvLyBHTF9VTlNJR05FRF9TSE9SVFxuICAweDE0MDY6IDQsIC8vIEdMX0ZMT0FUXG59O1xuXG4vLyBsZXQgdW5pdF9idWY7XG4vLyBsZXQgdW5pdF9idWZfbGVuID0gMDtcblxubGV0IGJvdW5kX2dlb207XG5cbmxldCBib3VuZF9hcnJheV9idWYgPSBudWxsO1xubGV0IGJvdW5kX2luZGV4X2J1ZiA9IG51bGw7XG5cbmxldCBxdWFkX2luZGV4X2J1ZjtcbmxldCBxdWFkX2luZGV4X2J1Zl9sZW4gPSAwO1xuXG5mdW5jdGlvbiBkZWxldGVCdWZmZXIoaGFuZGxlKSB7XG4gIGlmICghaGFuZGxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChib3VuZF9hcnJheV9idWYgPT09IGhhbmRsZSkge1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICBib3VuZF9hcnJheV9idWYgPSBudWxsO1xuICB9XG4gIGlmIChib3VuZF9pbmRleF9idWYgPT09IGhhbmRsZSkge1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgIGJvdW5kX2luZGV4X2J1ZiA9IG51bGw7XG4gIH1cbiAgZ2wuZGVsZXRlQnVmZmVyKGhhbmRsZSk7XG59XG5cbmxldCBhdHRyaWJfZW5hYmxlZCA9IDA7XG5mdW5jdGlvbiBlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShiaXRzKSB7XG4gIGlmIChiaXRzID09PSBhdHRyaWJfZW5hYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZGlzYWJsZV9tYXNrID0gKGF0dHJpYl9lbmFibGVkICYgKH5iaXRzKSk7XG4gIGxldCBlbmFibGVfbWFzayA9ICgofmF0dHJpYl9lbmFibGVkKSAmIGJpdHMpO1xuICBhdHRyaWJfZW5hYmxlZCA9IGJpdHM7XG5cbiAgaWYgKGRpc2FibGVfbWFzaykge1xuICAgIGxldCBuID0gMDtcbiAgICBkbyB7XG4gICAgICBpZiAoZGlzYWJsZV9tYXNrICYgMSkge1xuICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobik7XG4gICAgICB9XG4gICAgICBuKys7XG4gICAgICBkaXNhYmxlX21hc2sgPj49IDE7XG4gICAgfSB3aGlsZSAoZGlzYWJsZV9tYXNrKTtcbiAgfVxuXG4gIGlmIChlbmFibGVfbWFzaykge1xuICAgIGxldCBuID0gMDtcbiAgICBkbyB7XG4gICAgICBpZiAoZW5hYmxlX21hc2sgJiAxKSB7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pO1xuICAgICAgfVxuICAgICAgbisrO1xuICAgICAgZW5hYmxlX21hc2sgPj49IDE7XG4gICAgfSB3aGlsZSAoZW5hYmxlX21hc2spO1xuICB9XG59XG5cbi8vIGZ1bmN0aW9uIGJpbmRVbml0QnVmKGFycl9pZHgsIGxlbikge1xuLy8gICBpZiAobGVuID4gdW5pdF9idWZfbGVuKSB7XG4vLyAgICAgZGVsZXRlQnVmZmVyKHVuaXRfYnVmKTtcbi8vICAgICB1bml0X2J1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuLy8gICAgIHVuaXRfYnVmX2xlbiA9IG1heChjZWlsKHVuaXRfYnVmX2xlbiAqIDEuNSksIGxlbik7XG4vLyAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHVuaXRfYnVmKTtcbi8vICAgICBib3VuZF9hcnJheV9idWYgPSB1bml0X2J1Zjtcbi8vICAgICBsZXQgYXJyID0gbmV3IFVpbnQ4QXJyYXkodW5pdF9idWZfbGVuICogNCk7XG4vLyAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHVuaXRfYnVmX2xlbiAqIDQ7ICsraWkpIHtcbi8vICAgICAgIGFycltpaV0gPSAyNTU7XG4vLyAgICAgfVxuLy8gICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhcnIsIGdsLlNUQVRJQ19EUkFXKTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICBpZiAoYm91bmRfYXJyYXlfYnVmICE9PSB1bml0X2J1Zikge1xuLy8gICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHVuaXRfYnVmKTtcbi8vICAgICAgIGJvdW5kX2FycmF5X2J1ZiA9IHVuaXRfYnVmO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFycl9pZHgsIDQsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIDAsIDApO1xuLy8gfVxuXG4vLyBWZXJ0cyBzaG91bGQgYmUgb3JkZXJlZCBjb3VudGVyLWNsb2Nrd2lzZSBmcm9tIHRoZSB1cHBlciBsZWZ0XG5mdW5jdGlvbiBnZXRRdWFkSW5kZXhCdWYocXVhZF9jb3VudCkge1xuICBhc3NlcnQocXVhZF9jb3VudCA8PSAxNjM4NCk7XG4gIC8vIElmIG5vdCwgbmVlZCB0byBzcGxpdCBpbnRvIG11bHRpcGxlIHZlcnRleCBhbmQgaW5kZXggYnVmZmVycyAoZmFpcmx5IGVhc3kpLFxuICAvLyAgIG9yIHVzZSB0aGUgT0VTX2VsZW1lbnRfaW5kZXhfdWludCBleHRlbnNpb24gKHRyaXZpYWwsIGJ1dCBwcm9iYWJseSBzbG93ZXIsIG1heWJlIG5vdCBzdXBwb3J0ZWQgb24gbW9iaWxlPylcbiAgaWYgKHF1YWRfY291bnQgKiA2ID4gcXVhZF9pbmRleF9idWZfbGVuKSB7XG4gICAgaWYgKCFxdWFkX2luZGV4X2J1Zikge1xuICAgICAgcXVhZF9pbmRleF9idWYgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZnJlZWluZyBvbGQgb25lXG4gICAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gLT0gcXVhZF9pbmRleF9idWZfbGVuICogMjtcbiAgICB9XG4gICAgcXVhZF9pbmRleF9idWZfbGVuID0gbWF4KGNlaWwocXVhZF9pbmRleF9idWZfbGVuICogMS41KSwgcXVhZF9jb3VudCAqIDYpO1xuICAgIGlmIChib3VuZF9pbmRleF9idWYgIT09IHF1YWRfaW5kZXhfYnVmKSB7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBxdWFkX2luZGV4X2J1Zik7XG4gICAgICBib3VuZF9pbmRleF9idWYgPSBxdWFkX2luZGV4X2J1ZjtcbiAgICB9XG4gICAgbGV0IGFyciA9IG5ldyBVaW50MTZBcnJheShxdWFkX2luZGV4X2J1Zl9sZW4pO1xuICAgIGxldCB2aWR4ID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcXVhZF9pbmRleF9idWZfbGVuOykge1xuICAgICAgYXJyW2lpKytdID0gdmlkeCArIDE7XG4gICAgICBhcnJbaWkrK10gPSB2aWR4ICsgMztcbiAgICAgIGFycltpaSsrXSA9IHZpZHgrKzsgLy8gMFxuICAgICAgYXJyW2lpKytdID0gdmlkeCsrOyAvLyAxXG4gICAgICBhcnJbaWkrK10gPSB2aWR4Kys7IC8vIDJcbiAgICAgIGFycltpaSsrXSA9IHZpZHgrKzsgLy8gM1xuICAgIH1cbiAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBhcnIsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gcXVhZF9pbmRleF9idWZfbGVuICogMjtcbiAgfVxuICByZXR1cm4gcXVhZF9pbmRleF9idWY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzKGlkeHMpIHtcbiAgbGV0IHJldCA9IHtcbiAgICBpYm86IGdsLmNyZWF0ZUJ1ZmZlcigpLFxuICAgIGlib19zaXplOiBpZHhzLmxlbmd0aCxcbiAgfTtcbiAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgcmV0Lmlibyk7XG4gIGJvdW5kX2luZGV4X2J1ZiA9IHJldC5pYm87XG4gIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGlkeHMsIGdsLlNUQVRJQ19EUkFXKTtcbiAgZW5naW5lLnBlcmZfc3RhdGUuZ3B1X21lbS5nZW9tICs9IGlkeHMubGVuZ3RoICogMjtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0SW5mbyhmb3JtYXQpIHtcbiAgaWYgKCFmb3JtYXQuaW5mbykge1xuICAgIGxldCBzdHJpZGUgPSAwO1xuICAgIGxldCBlbGVtX2NvdW50ID0gMDtcbiAgICBsZXQgdXNlZF9hdHRyaWJzID0gMDtcbiAgICBsZXQgY29tbW9uX2J5dGVfc2l6ZSA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGZvcm1hdC5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBmbXQgPSBmb3JtYXRbaWldO1xuICAgICAgbGV0IHNlbSA9IGZtdFswXTtcbiAgICAgIGxldCBnbHR5cGUgPSBmbXRbMV07XG4gICAgICBsZXQgY291bnQgPSBmbXRbMl07XG4gICAgICB1c2VkX2F0dHJpYnMgfD0gKDEgPDwgc2VtKTtcbiAgICAgIGxldCBieXRlX3NpemUgPSBnbF9ieXRlX3NpemVbZ2x0eXBlXTtcbiAgICAgIGFzc2VydChieXRlX3NpemUpO1xuICAgICAgYXNzZXJ0KCFjb21tb25fYnl0ZV9zaXplIHx8IGJ5dGVfc2l6ZSA9PT0gY29tbW9uX2J5dGVfc2l6ZSk7XG4gICAgICBjb21tb25fYnl0ZV9zaXplID0gYnl0ZV9zaXplO1xuICAgICAgZm10WzNdID0gZm10WzNdIHx8IGZhbHNlO1xuICAgICAgZm10WzRdID0gYnl0ZV9zaXplO1xuICAgICAgc3RyaWRlICs9IGNvdW50ICogYnl0ZV9zaXplO1xuICAgICAgZWxlbV9jb3VudCArPSBjb3VudDtcbiAgICB9XG4gICAgZm9ybWF0LmluZm8gPSB7XG4gICAgICBzdHJpZGUsIGVsZW1fY291bnQsIHVzZWRfYXR0cmlicywgY29tbW9uX2J5dGVfc2l6ZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZvcm1hdC5pbmZvO1xufVxuXG4vLyBmb3JtYXQgaXMgW3NoYWRlcnMuc2VtYW50aWMuZm9vLCBnbC5GTE9BVC9VTlNJR05FRF9CWVRFL2V0YywgY291bnQsIG5vcm1hbGl6ZWRdXG5mdW5jdGlvbiBHZW9tKGZvcm1hdCwgdmVydHMsIGlkeHMsIG1vZGUpIHtcbiAgdGhpcy5tb2RlID0gbW9kZSB8fCBUUklBTkdMRVM7XG4gIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuICBsZXQgaW5mbyA9IHRoaXMuZm9ybWF0X2luZm8gPSBmb3JtYXRJbmZvKGZvcm1hdCk7XG4gIHRoaXMuc3RyaWRlID0gaW5mby5zdHJpZGU7XG4gIHRoaXMudXNlZF9hdHRyaWJzID0gaW5mby51c2VkX2F0dHJpYnM7XG5cbiAgdGhpcy52ZXJ0X2NvdW50ID0gdmVydHMubGVuZ3RoIC8gdGhpcy5mb3JtYXRfaW5mby5lbGVtX2NvdW50O1xuICB0aGlzLnZlcnRfZ3B1X21lbSA9IHZlcnRzLmxlbmd0aCAqIHRoaXMuZm9ybWF0X2luZm8uY29tbW9uX2J5dGVfc2l6ZTtcbiAgaWYgKHZlcnRzLmxlbmd0aCkge1xuICAgIHRoaXMudmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmJvKTtcbiAgICBib3VuZF9hcnJheV9idWYgPSB0aGlzLnZibztcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdmVydHMsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gdGhpcy52ZXJ0X2dwdV9tZW07XG4gIH1cbiAgdGhpcy5vcmlnX21vZGUgPSBtb2RlO1xuICBpZiAoaWR4cykge1xuICAgIGlmIChpZHhzLmlibykge1xuICAgICAgdGhpcy5pYm8gPSBpZHhzLmlibztcbiAgICAgIHRoaXMuaWJvX293bmVkID0gZmFsc2U7XG4gICAgICB0aGlzLmlib19zaXplID0gaWR4cy5pYm9fc2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgIHRoaXMuaWJvX293bmVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuaWJvX3NpemUgPSBpZHhzLmxlbmd0aDtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaWJvKTtcbiAgICAgIGJvdW5kX2luZGV4X2J1ZiA9IHRoaXMuaWJvO1xuICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaWR4cywgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgZW5naW5lLnBlcmZfc3RhdGUuZ3B1X21lbS5nZW9tICs9IGlkeHMubGVuZ3RoICogMjtcbiAgICB9XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gUVVBRFMpIHtcbiAgICBhc3NlcnQuZXF1YWwodGhpcy52ZXJ0X2NvdW50ICUgNCwgMCk7XG4gICAgbGV0IHF1YWRfY291bnQgPSB0aGlzLnZlcnRfY291bnQgLyA0O1xuICAgIC8vIFBFUkZUT0RPOiBVc2UgR0xfUVVBRFNfT0VTIGV4dGVuc2lvblxuICAgIHRoaXMuaWJvID0gZ2V0UXVhZEluZGV4QnVmKHF1YWRfY291bnQpO1xuICAgIHRoaXMuaWJvX293bmVkID0gZmFsc2U7XG4gICAgdGhpcy5pYm9fc2l6ZSA9IHF1YWRfY291bnQgKiA2O1xuICAgIHRoaXMubW9kZSA9IFRSSUFOR0xFUztcbiAgfSBlbHNlIGlmIChtb2RlID09PSBUUklBTkdMRV9GQU4pIHtcbiAgICB0aGlzLm1vZGUgPSBUUklBTkdMRV9GQU47XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pYm8gPSBudWxsO1xuICAgIHRoaXMuaWJvX293bmVkID0gZmFsc2U7XG4gIH1cbn1cblxuR2VvbS5wcm90b3R5cGUudXBkYXRlU3ViID0gZnVuY3Rpb24gKG9mZnNldCwgdmVydHMpIHtcbiAgaWYgKGJvdW5kX2FycmF5X2J1ZiAhPT0gdGhpcy52Ym8pIHtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52Ym8pO1xuICAgIGJvdW5kX2FycmF5X2J1ZiA9IHRoaXMudmJvO1xuICB9XG4gIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBvZmZzZXQsIHZlcnRzKTtcbn07XG5cbkdlb20ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh2ZXJ0cywgbnVtX3ZlcnRzKSB7XG4gIGFzc2VydC5lcXVhbCh0aGlzLmlib19vd25lZCwgZmFsc2UpO1xuICBpZiAobnVtX3ZlcnRzID4gdGhpcy52ZXJ0X2NvdW50KSB7XG4gICAgaWYgKGJvdW5kX2dlb20gPT09IHRoaXMpIHtcbiAgICAgIGJvdW5kX2dlb20gPSBudWxsO1xuICAgIH1cbiAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gLT0gdGhpcy52ZXJ0X2dwdV9tZW07XG4gICAgZGVsZXRlQnVmZmVyKHRoaXMudmJvKTtcbiAgICAvLyBOb3RlOiBtYXRjaGluZyBzaXplLCBpZ25vcmluZyBudW1fdmVydHNcbiAgICB0aGlzLnZlcnRfY291bnQgPSB2ZXJ0cy5sZW5ndGggLyB0aGlzLmZvcm1hdF9pbmZvLmVsZW1fY291bnQ7XG4gICAgdGhpcy52ZXJ0X2dwdV9tZW0gPSB2ZXJ0cy5sZW5ndGggKiB0aGlzLmZvcm1hdF9pbmZvLmNvbW1vbl9ieXRlX3NpemU7XG4gICAgdGhpcy52Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52Ym8pO1xuICAgIGJvdW5kX2FycmF5X2J1ZiA9IHRoaXMudmJvO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cywgZ2wuRFlOQU1JQ19EUkFXKTtcbiAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gdGhpcy52ZXJ0X2dwdV9tZW07XG4gIH0gZWxzZSB7XG4gICAgLy8gRml0c1xuICAgIGlmIChib3VuZF9hcnJheV9idWYgIT09IHRoaXMudmJvKSB7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52Ym8pO1xuICAgICAgYm91bmRfYXJyYXlfYnVmID0gdGhpcy52Ym87XG4gICAgfVxuICAgIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCAwLCB2ZXJ0cy5zdWJhcnJheSgwLCBudW1fdmVydHMgKiB0aGlzLmZvcm1hdF9pbmZvLmVsZW1fY291bnQpKTtcbiAgICAvLyBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdmVydHMsIGdsLkRZTkFNSUNfRFJBVyk7XG4gIH1cbiAgaWYgKHRoaXMub3JpZ19tb2RlID09PSBRVUFEUykge1xuICAgIGxldCBxdWFkX2NvdW50ID0gbnVtX3ZlcnRzIC8gNDtcbiAgICB0aGlzLmlibyA9IGdldFF1YWRJbmRleEJ1ZihxdWFkX2NvdW50KTtcbiAgICB0aGlzLmlib19zaXplID0gcXVhZF9jb3VudCAqIDY7XG4gIH1cbn07XG5cbkdlb20ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlib19vd25lZCkge1xuICAgIGRlbGV0ZUJ1ZmZlcih0aGlzLmlibyk7XG4gIH1cbiAgdGhpcy5pYm8gPSBudWxsO1xuICBkZWxldGVCdWZmZXIodGhpcy52Ym8pO1xuICB0aGlzLnZibyA9IG51bGw7XG4gIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSAtPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgdGhpcy52ZXJ0X2dwdV9tZW0gPSAwO1xufTtcblxubGV0IGJvdW5kX2F0dHJpYnMgPSAoZnVuY3Rpb24gKCkge1xuICBsZXQgciA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICByLnB1c2goe1xuICAgICAgdmJvOiBudWxsLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByO1xufSgpKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdlb21SZXNldFN0YXRlKCkge1xuICAvLyBSZXNldHRpbmcgdGhpcyBhdm9pZHMgYSBzdGF0ZSBtYW5hZ2VtZW50IGJ1ZyBvbiBDaHJvbWUgNzEtNzMgb24gUmVkbWkgNkEgLVxuICAvLyAgIGl0IHNlZW1zIHRoZSBicm93c2VyIHdhcyBsZWF2aW5nIHNvbWV0aGluZyBib3VuZCBhdCBhIGxvdyBsZXZlbCwgcGVyaGFwc1xuICAvLyAgIGZyb20gZ2VuZXJhdGluZyBtaXBtYXBzIG9yIHNvbWV0aGluZz9cbiAgYm91bmRfZ2VvbSA9IG51bGw7XG4gIGJvdW5kX2luZGV4X2J1ZiA9IG51bGw7XG4gIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xuICBib3VuZF9hcnJheV9idWYgPSBudWxsO1xuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBNQVhfU0VNQU5USUM7ICsraWkpIHtcbiAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaWkpO1xuICB9XG4gIGF0dHJpYl9lbmFibGVkID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGJvdW5kX2F0dHJpYnMubGVuZ3RoOyArK2lpKSB7XG4gICAgYm91bmRfYXR0cmlic1tpaV0udmJvID0gbnVsbDtcbiAgfVxufVxuXG5HZW9tLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuICBpZiAoYm91bmRfZ2VvbSAhPT0gdGhpcykge1xuICAgIGJvdW5kX2dlb20gPSB0aGlzO1xuICAgIGxldCB2Ym8gPSB0aGlzLnZibztcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmZvcm1hdC5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBmbXQgPSB0aGlzLmZvcm1hdFtpaV07XG4gICAgICBsZXQgY291bnQgPSBmbXRbMl07XG4gICAgICBsZXQgYnl0ZV9zaXplID0gZm10WzRdO1xuICAgICAgbGV0IHNlbSA9IGZtdFswXTtcbiAgICAgIGlmIChib3VuZF9hdHRyaWJzW3NlbV0udmJvID09PSB2Ym8pIHsgLy8gICYmIGJvdW5kX2F0dHJpYnNbc2VtXS5vZmZzZXQgPSBvZmZzZXRcbiAgICAgICAgLy8gYWxyZWFkeSBib3VuZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJvdW5kX2FycmF5X2J1ZiAhPT0gdmJvKSB7XG4gICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZibyk7XG4gICAgICAgICAgYm91bmRfYXJyYXlfYnVmID0gdmJvO1xuICAgICAgICB9XG4gICAgICAgIGxldCBnbHR5cGUgPSBmbXRbMV07XG4gICAgICAgIGxldCBub3JtYWxpemVkID0gZm10WzNdO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNlbSwgY291bnQsIGdsdHlwZSwgbm9ybWFsaXplZCwgdGhpcy5zdHJpZGUsIG9mZnNldCk7XG4gICAgICAgIGJvdW5kX2F0dHJpYnNbc2VtXS52Ym8gPSBib3VuZF9hcnJheV9idWY7XG4gICAgICAgIC8vIGJvdW5kX2F0dHJpYnNbc2VtXS5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gY291bnQgKiBieXRlX3NpemU7XG4gICAgfVxuICAgIC8vIGlmICghdXNlZFsxXSkgeyAvLyBDT0xPUlxuICAgIC8vICAgdXNlZF9hdHRyaWJzIHw9IDEgPDwgc2hhZGVyLnNlbWFudGljcy5DT0xPUjtcbiAgICAvLyAgIGJpbmRVbml0QnVmKDEsIHRoaXMudmVydF9jb3VudCk7XG4gICAgLy8gfVxuICAgIGVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudXNlZF9hdHRyaWJzKTtcbiAgfVxuXG4gIGlmICh0aGlzLmlibyAmJiBib3VuZF9pbmRleF9idWYgIT09IHRoaXMuaWJvKSB7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pYm8pO1xuICAgIGJvdW5kX2luZGV4X2J1ZiA9IHRoaXMuaWJvO1xuICB9XG59O1xuR2VvbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5iaW5kKCk7XG4gIGlmICh0aGlzLmlibykge1xuICAgIGdsLmRyYXdFbGVtZW50cyh0aGlzLm1vZGUsIHRoaXMuaWJvX3NpemUsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcbiAgfSBlbHNlIHtcbiAgICBnbC5kcmF3QXJyYXlzKHRoaXMubW9kZSwgMCwgdGhpcy52ZXJ0X2NvdW50KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gR2VvbU11bHRpUXVhZHMoZm9ybWF0LCB2ZXJ0cykge1xuICBsZXQgZm9ybWF0X2luZm8gPSBmb3JtYXRJbmZvKGZvcm1hdCk7XG4gIGxldCBlYyA9IGZvcm1hdF9pbmZvLmVsZW1fY291bnQ7XG4gIGxldCB2ZXJ0X2NvdW50ID0gdmVydHMubGVuZ3RoIC8gZWM7XG4gIHRoaXMuZ2VvbXMgPSBbXTtcbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgdmVydF9jb3VudDsgaWR4ICs9IDY1NTM2KSB7XG4gICAgbGV0IG51bV9zdWJfdmVydHMgPSBtaW4odmVydF9jb3VudCAtIGlkeCwgNjU1MzYpO1xuICAgIGxldCBzdWJfZGF0YSA9IG5ldyBVaW50OEFycmF5KHZlcnRzLmJ1ZmZlciwgaWR4ICogZWMsIG51bV9zdWJfdmVydHMgKiBlYyk7XG4gICAgdGhpcy5nZW9tcy5wdXNoKG5ldyBHZW9tKGZvcm1hdCwgc3ViX2RhdGEsIG51bGwsIFFVQURTKSk7XG4gIH1cbn1cbkdlb21NdWx0aVF1YWRzLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5nZW9tcy5sZW5ndGg7ICsraWkpIHtcbiAgICB0aGlzLmdlb21zW2lpXS5kcmF3KCk7XG4gIH1cbn07XG5HZW9tTXVsdGlRdWFkcy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZ2VvbXMubGVuZ3RoOyArK2lpKSB7XG4gICAgdGhpcy5nZW9tc1tpaV0uZGlzcG9zZSgpO1xuICB9XG4gIHRoaXMuZ2VvbXMgPSBudWxsO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmb3JtYXQsIHZlcnRzLCBpZHhzLCBtb2RlKSB7XG4gIHJldHVybiBuZXcgR2VvbShmb3JtYXQsIHZlcnRzLCBpZHhzLCBtb2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVF1YWRzKGZvcm1hdCwgdmVydHMpIHtcbiAgbGV0IGZvcm1hdF9pbmZvID0gZm9ybWF0SW5mbyhmb3JtYXQpO1xuICBhc3NlcnQodmVydHMgaW5zdGFuY2VvZiBVaW50OEFycmF5KTsgLy8gb25seSBvbmUgaGFuZGxlZCBieSBHZW9tTXVsdGlRdWFkcyBmb3Igbm93XG4gIGxldCB2ZXJ0X2NvdW50ID0gdmVydHMubGVuZ3RoIC8gZm9ybWF0X2luZm8uZWxlbV9jb3VudDtcbiAgaWYgKHZlcnRfY291bnQgPiA2NTUzNikge1xuICAgIHJldHVybiBuZXcgR2VvbU11bHRpUXVhZHMoZm9ybWF0LCB2ZXJ0cyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBHZW9tKGZvcm1hdCwgdmVydHMsIG51bGwsIFFVQURTKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gIC8vIE5vdGhpbmcgZm9yIG5vdy5cbn1cbiIsIi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiAqL1xuLy8gRnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84OTM2OTg0L3VpbnQ4YXJyYXktdG8tc3RyaW5nLWluLWphdmFzY3JpcHRcblxubGV0IGNoYXJDYWNoZSA9IG5ldyBBcnJheSgxMjgpOyAgLy8gUHJlYWxsb2NhdGUgdGhlIGNhY2hlIGZvciB0aGUgY29tbW9uIHNpbmdsZSBieXRlIGNoYXJzXG5sZXQgY2hhckZyb21Db2RlUHQgPSBTdHJpbmcuZnJvbUNvZGVQb2ludCB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlO1xubGV0IHJlc3VsdCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShhcnJheSkge1xuICBsZXQgY29kZVB0O1xuICBsZXQgYnl0ZTE7XG4gIGxldCBidWZmTGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gIHJlc3VsdC5sZW5ndGggPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZkxlbjspIHtcbiAgICBieXRlMSA9IGFycmF5W2krK107XG5cbiAgICBpZiAoYnl0ZTEgPD0gMHg3Rikge1xuICAgICAgY29kZVB0ID0gYnl0ZTE7XG4gICAgfSBlbHNlIGlmIChieXRlMSA8PSAweERGKSB7XG4gICAgICBjb2RlUHQgPSAoKGJ5dGUxICYgMHgxRikgPDwgNikgfCAoYXJyYXlbaSsrXSAmIDB4M0YpO1xuICAgIH0gZWxzZSBpZiAoYnl0ZTEgPD0gMHhFRikge1xuICAgICAgY29kZVB0ID0gKChieXRlMSAmIDB4MEYpIDw8IDEyKSB8ICgoYXJyYXlbaSsrXSAmIDB4M0YpIDw8IDYpIHwgKGFycmF5W2krK10gJiAweDNGKTtcbiAgICB9IGVsc2UgaWYgKFN0cmluZy5mcm9tQ29kZVBvaW50KSB7XG4gICAgICBjb2RlUHQgPSAoKGJ5dGUxICYgMHgwNykgPDwgMTgpIHwgKChhcnJheVtpKytdICYgMHgzRikgPDwgMTIpIHwgKChhcnJheVtpKytdICYgMHgzRikgPDwgNikgfCAoYXJyYXlbaSsrXSAmIDB4M0YpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2RlUHQgPSA2MzsgICAgLy8gQ2Fubm90IGNvbnZlcnQgZm91ciBieXRlIGNvZGUgcG9pbnRzLCBzbyB1c2UgXCI/XCIgaW5zdGVhZFxuICAgICAgaSArPSAzO1xuICAgIH1cblxuICAgIHJlc3VsdC5wdXNoKGNoYXJDYWNoZVtjb2RlUHRdIHx8IChjaGFyQ2FjaGVbY29kZVB0XSA9IGNoYXJGcm9tQ29kZVB0KGNvZGVQdCkpKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQuam9pbignJyk7XG59XG4iLCIvLyBEZXJpdmVkIGZyb20gKE1JVCBMaWNlbnNlZCkgaHR0cHM6Ly9naXRodWIuY29tL3ViZXItd2ViL2xvYWRlcnMuZ2wvdHJlZS9tYXN0ZXIvbW9kdWxlcy9nbHRmXG5cbmNvbnN0IFRZUEVTID0gWydTQ0FMQVInLCAnVkVDMicsICdWRUMzJywgJ1ZFQzQnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjY2Vzc29yVHlwZUZyb21TaXplKHNpemUpIHtcbiAgY29uc3QgdHlwZSA9IFRZUEVTW3NpemUgLSAxXTtcbiAgcmV0dXJuIHR5cGUgfHwgVFlQRVNbMF07XG59XG5cbi8vIGdsVEYgQUNDRVNTT1IgQ09OU1RBTlRTXG5cbmV4cG9ydCBjb25zdCBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTID0ge1xuICBTQ0FMQVI6IDEsXG4gIFZFQzI6IDIsXG4gIFZFQzM6IDMsXG4gIFZFQzQ6IDQsXG4gIE1BVDI6IDQsXG4gIE1BVDM6IDksXG4gIE1BVDQ6IDE2XG59O1xuXG5leHBvcnQgY29uc3QgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRSA9IHtcbiAgNTEyMDogMSxcbiAgNTEyMTogMSxcbiAgNTEyMjogMixcbiAgNTEyMzogMixcbiAgNTEyNTogNCxcbiAgNTEyNjogNFxufTtcblxuZXhwb3J0IGNvbnN0IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWSA9IHtcbiAgNTEyMDogSW50OEFycmF5LFxuICA1MTIxOiBVaW50OEFycmF5LFxuICA1MTIyOiBJbnQxNkFycmF5LFxuICA1MTIzOiBVaW50MTZBcnJheSxcbiAgNTEyNTogVWludDMyQXJyYXksXG4gIDUxMjY6IEZsb2F0MzJBcnJheVxufTtcbiIsIi8vIERlcml2ZWQgZnJvbSAoTUlUIExpY2Vuc2VkKSBodHRwczovL2dpdGh1Yi5jb20vdWJlci13ZWIvbG9hZGVycy5nbC90cmVlL21hc3Rlci9tb2R1bGVzL2dsdGZcbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlLCBtYXgtc3RhdGVtZW50cyAqL1xuY29uc3QgeyB1bnBhY2tHTEJCdWZmZXJzIH0gPSByZXF1aXJlKCcuL3VucGFjay1nbGItYnVmZmVycy5qcycpO1xuY29uc3QgeyB1bnBhY2tCaW5hcnlKc29uIH0gPSByZXF1aXJlKCcuL3VucGFjay1iaW5hcnktanNvbi5qcycpO1xuXG5mdW5jdGlvbiBwYWRUbzRCeXRlcyhieXRlTGVuZ3RoKSB7XG4gIHJldHVybiAoYnl0ZUxlbmd0aCArIDMpICYgfjM7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG59XG5cbmNvbnN0IGRlY29kZV91dGY4ID0gcmVxdWlyZSgnLi9kZWNvZGUtdXRmOC5qcycpO1xuXG5jb25zdCB7XG4gIEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFMsXG4gIEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkUsXG4gIEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWVxufSA9IHJlcXVpcmUoJy4vZ2x0Zi10eXBlLXV0aWxzLmpzJyk7XG5cbmNvbnN0IE1BR0lDX2dsVEYgPSAweDY3NmM1NDQ2OyAvLyBnbFRGIGluIEJpZy1FbmRpYW4gQVNDSUlcblxuY29uc3QgR0xCX0ZJTEVfSEVBREVSX1NJWkUgPSAxMjtcbmNvbnN0IEdMQl9DSFVOS19IRUFERVJfU0laRSA9IDg7XG5cbmNvbnN0IEdMQl9DSFVOS19UWVBFX0pTT04gPSAweDRlNGY1MzRhO1xuY29uc3QgR0xCX0NIVU5LX1RZUEVfQklOID0gMHgwMDRlNDk0MjtcblxuY29uc3QgTEUgPSB0cnVlOyAvLyBCaW5hcnkgR0xURiBpcyBsaXR0bGUgZW5kaWFuLlxuY29uc3QgQkUgPSBmYWxzZTsgLy8gTWFnaWMgbmVlZHMgdG8gYmUgd3JpdHRlbiBhcyBCRVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjZ2xiLWZpbGUtZm9ybWF0LXNwZWNpZmljYXRpb25cbmZ1bmN0aW9uIEdMQlBhcnNlcigpIHtcbiAgLy8gUmVzdWx0XG4gIHRoaXMuYmluYXJ5Qnl0ZU9mZnNldCA9IG51bGw7XG4gIHRoaXMucGFja2VkSnNvbiA9IG51bGw7XG4gIHRoaXMuanNvbiA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmluYXJ5KHNlbGYpIHtcbiAgLy8gR0xCIEhlYWRlclxuICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhzZWxmLmdsYkFycmF5QnVmZmVyKTtcbiAgY29uc3QgbWFnaWMxID0gZGF0YVZpZXcuZ2V0VWludDMyKDAsIEJFKTsgLy8gTWFnaWMgbnVtYmVyICh0aGUgQVNDSUkgc3RyaW5nICdnbFRGJykuXG4gIGNvbnN0IHZlcnNpb24gPSBkYXRhVmlldy5nZXRVaW50MzIoNCwgTEUpOyAvLyBWZXJzaW9uIDIgb2YgYmluYXJ5IGdsVEYgY29udGFpbmVyIGZvcm1hdFxuICBjb25zdCBmaWxlTGVuZ3RoID0gZGF0YVZpZXcuZ2V0VWludDMyKDgsIExFKTsgLy8gVG90YWwgYnl0ZSBsZW5ndGggb2YgZ2VuZXJhdGVkIGZpbGVcblxuICBsZXQgdmFsaWQgPSBtYWdpYzEgPT09IE1BR0lDX2dsVEY7XG4gIGlmICghdmFsaWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgR0xCIG1hZ2ljIHN0cmluZycpO1xuICB9XG5cbiAgYXNzZXJ0KHZlcnNpb24gPT09IDIsIGBJbnZhbGlkIEdMQiB2ZXJzaW9uICR7dmVyc2lvbn0uIE9ubHkgLmdsYiB2MiBzdXBwb3J0ZWRgKTtcbiAgYXNzZXJ0KGZpbGVMZW5ndGggPiAyMCk7XG5cbiAgLy8gV3JpdGUgdGhlIEpTT04gY2h1bmtcbiAgY29uc3QganNvbkNodW5rTGVuZ3RoID0gZGF0YVZpZXcuZ2V0VWludDMyKDEyLCBMRSk7IC8vIEJ5dGUgbGVuZ3RoIG9mIGpzb24gY2h1bmtcbiAgY29uc3QganNvbkNodW5rRm9ybWF0ID0gZGF0YVZpZXcuZ2V0VWludDMyKDE2LCBMRSk7IC8vIENodW5rIGZvcm1hdCBhcyB1aW50MzJcblxuICB2YWxpZCA9IGpzb25DaHVua0Zvcm1hdCA9PT0gR0xCX0NIVU5LX1RZUEVfSlNPTiB8fCBqc29uQ2h1bmtGb3JtYXQgPT09IDA7IC8vIEJhY2sgY29tcGF0XG4gIGFzc2VydCh2YWxpZCwgYEpTT04gY2h1bmsgZm9ybWF0ICR7anNvbkNodW5rRm9ybWF0fWApO1xuXG4gIC8vIENyZWF0ZSBhIFwidmlld1wiIG9mIHRoZSBiaW5hcnkgZW5jb2RlZCBKU09OIGRhdGFcbiAgY29uc3QganNvbkNodW5rT2Zmc2V0ID0gR0xCX0ZJTEVfSEVBREVSX1NJWkUgKyBHTEJfQ0hVTktfSEVBREVSX1NJWkU7IC8vIEZpcnN0IGhlYWRlcnM6IDIwIGJ5dGVzXG4gIGNvbnN0IGpzb25DaHVuayA9IG5ldyBVaW50OEFycmF5KHNlbGYuZ2xiQXJyYXlCdWZmZXIsIGpzb25DaHVua09mZnNldCwganNvbkNodW5rTGVuZ3RoKTtcblxuICAvLyBEZWNvZGUgdGhlIEpTT04gYmluYXJ5IGFycmF5IGludG8gY2xlYXIgdGV4dFxuICBjb25zdCBqc29uVGV4dCA9IGRlY29kZV91dGY4LmRlY29kZShqc29uQ2h1bmspO1xuXG4gIC8vIFBhcnNlIHRoZSBKU09OIHRleHQgaW50byBhIEphdmFTY3JpcHQgZGF0YSBzdHJ1Y3R1cmVcbiAgc2VsZi5qc29uID0gSlNPTi5wYXJzZShqc29uVGV4dCk7XG5cbiAgLy8gVE9ETyAtIEJJTiBjaHVuayBjYW4gYmUgb3B0aW9uYWxcbiAgY29uc3QgYmluYXJ5Q2h1bmtTdGFydCA9IGpzb25DaHVua09mZnNldCArIHBhZFRvNEJ5dGVzKGpzb25DaHVua0xlbmd0aCk7XG4gIHNlbGYuYmluYXJ5Qnl0ZU9mZnNldCA9IGJpbmFyeUNodW5rU3RhcnQgKyBHTEJfQ0hVTktfSEVBREVSX1NJWkU7XG5cbiAgY29uc3QgYmluQ2h1bmtGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoYmluYXJ5Q2h1bmtTdGFydCArIDQsIExFKTsgLy8gQ2h1bmsgZm9ybWF0IGFzIHVpbnQzMlxuICB2YWxpZCA9IGJpbkNodW5rRm9ybWF0ID09PSBHTEJfQ0hVTktfVFlQRV9CSU4gfHwgYmluQ2h1bmtGb3JtYXQgPT09IDE7IC8vIEJhY2sgY29tcGF0XG4gIGFzc2VydCh2YWxpZCwgYEJJTiBjaHVuayBmb3JtYXQgJHtiaW5DaHVua0Zvcm1hdH1gKTtcblxuICByZXR1cm4ge1xuICAgIGFycmF5QnVmZmVyOiBzZWxmLmdsYkFycmF5QnVmZmVyLFxuICAgIGJpbmFyeUJ5dGVPZmZzZXQ6IHNlbGYuYmluYXJ5Qnl0ZU9mZnNldCxcbiAgICBqc29uOiBzZWxmLmpzb25cbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VJbnRlcm5hbChzZWxmKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHBhcnNlQmluYXJ5KHNlbGYpO1xuICBzZWxmLnBhY2tlZEpzb24gPSByZXN1bHQuanNvbjtcbiAgc2VsZi51bnBhY2tlZEJ1ZmZlcnMgPSB1bnBhY2tHTEJCdWZmZXJzKHNlbGYuZ2xiQXJyYXlCdWZmZXIsIHNlbGYuanNvbiwgc2VsZi5iaW5hcnlCeXRlT2Zmc2V0KTtcbiAgc2VsZi5qc29uID0gdW5wYWNrQmluYXJ5SnNvbihzZWxmLmpzb24sIHNlbGYudW5wYWNrZWRCdWZmZXJzKTtcbn1cblxuR0xCUGFyc2VyLnByb3RvdHlwZS5wYXJzZVN5bmMgPSBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgLy8gSW5wdXRcbiAgdGhpcy5nbGJBcnJheUJ1ZmZlciA9IGFycmF5QnVmZmVyO1xuXG4gIC8vIE9ubHkgcGFyc2Ugb25jZVxuICBpZiAodGhpcy5qc29uID09PSBudWxsICYmIHRoaXMuYmluYXJ5Qnl0ZU9mZnNldCA9PT0gbnVsbCkge1xuICAgIHBhcnNlSW50ZXJuYWwodGhpcyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBSZXR1cm4gdGhlIGdsdGYgSlNPTiBhbmQgdGhlIG9yaWdpbmFsIGFycmF5QnVmZmVyXG5HTEJQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gIHJldHVybiB0aGlzLnBhcnNlU3luYyhhcnJheUJ1ZmZlcik7XG59O1xuXG4vLyBSZXR1cm5zIGFwcGxpY2F0aW9uIEpTT04gZGF0YSBzdG9yZWQgaW4gYGtleWBcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0QXBwbGljYXRpb25EYXRhID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5qc29uW2tleV07XG59O1xuXG4vLyBSZXR1cm5zIEpTT04gZW52ZWxvcGVcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0SlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuanNvbjtcbn07XG5cbi8vIFJldHVybiBiaW5hcnkgY2h1bmtcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0QXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdsYkFycmF5QnVmZmVyO1xufTtcblxuLy8gUmV0dXJuIGluZGV4IGludG8gYmluYXJ5IGNodW5rXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEJpbmFyeUJ5dGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmJpbmFyeUJ5dGVPZmZzZXQ7XG59O1xuXG4vLyBVbnBhY2tzIGEgYnVmZmVydmlldyBpbnRvIGEgbmV3IFVpbnQ4QXJyYXkgdGhhdCBpcyBhIHZpZXcgaW50byB0aGUgYmluYXJ5IGNodW5rXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEJ1ZmZlclZpZXcgPSBmdW5jdGlvbiAoZ2xURkJ1ZmZlclZpZXcpIHtcbiAgY29uc3QgYnl0ZU9mZnNldCA9IChnbFRGQnVmZmVyVmlldy5ieXRlT2Zmc2V0IHx8IDApICsgdGhpcy5iaW5hcnlCeXRlT2Zmc2V0O1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5nbGJBcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgZ2xURkJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG59O1xuXG4vLyBVbnBhY2tzIGEgZ2xURiBhY2Nlc3NvciBpbnRvIGEgbmV3IHR5cGVkIGFycmF5IHRoYXQgaXMgYSB2aWV3IGludG8gdGhlIGJpbmFyeSBjaHVua1xuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiAoZ2xURkFjY2Vzc29yKSB7XG4gIC8vIERlY29kZSB0aGUgZ2xURiBhY2Nlc3NvciBmb3JtYXRcbiAgY29uc3QgQXJyYXlUeXBlID0gQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0FSUkFZW2dsVEZBY2Nlc3Nvci5jb21wb25lbnRUeXBlXTtcbiAgY29uc3QgY29tcG9uZW50cyA9IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFNbZ2xURkFjY2Vzc29yLnR5cGVdO1xuICBjb25zdCBieXRlc1BlckNvbXBvbmVudCA9IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkVbZ2xURkFjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICBjb25zdCBsZW5ndGggPSBnbFRGQWNjZXNzb3IuY291bnQgKiBjb21wb25lbnRzO1xuICBjb25zdCBieXRlTGVuZ3RoID0gZ2xURkFjY2Vzc29yLmNvdW50ICogY29tcG9uZW50cyAqIGJ5dGVzUGVyQ29tcG9uZW50O1xuXG4gIC8vIEdldCB0aGUgYm91bmRhcmllcyBvZiB0aGUgYmluYXJ5IHN1Yi1jaHVuayBmb3IgdGhpcyBidWZmZXJWaWV3XG4gIGNvbnN0IGdsVEZCdWZmZXJWaWV3ID0gdGhpcy5qc29uLmJ1ZmZlclZpZXdzW2dsVEZBY2Nlc3Nvci5idWZmZXJWaWV3XTtcbiAgYXNzZXJ0KGJ5dGVMZW5ndGggPj0gMCAmJiBnbFRGQWNjZXNzb3IuYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGggPD0gZ2xURkJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG5cbiAgY29uc3QgYnl0ZU9mZnNldCA9IGdsVEZCdWZmZXJWaWV3LmJ5dGVPZmZzZXQgKyB0aGlzLmJpbmFyeUJ5dGVPZmZzZXQgKyBnbFRGQWNjZXNzb3IuYnl0ZU9mZnNldDtcbiAgcmV0dXJuIG5ldyBBcnJheVR5cGUodGhpcy5nbGJBcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbn07XG5cbi8vIFVucGFja3MgYW4gaW1hZ2UgaW50byBhbiBIVE1MIGltYWdlXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEltYWdlRGF0YSA9IGZ1bmN0aW9uIChnbFRGSW1hZ2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlZEFycmF5OiB0aGlzLmdldEJ1ZmZlclZpZXcoZ2xURkltYWdlLmJ1ZmZlclZpZXcpLFxuICAgIG1pbWVUeXBlOiBnbFRGSW1hZ2UubWltZVR5cGUgfHwgJ2ltYWdlL2pwZWcnXG4gIH07XG59O1xuXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKGdsVEZJbWFnZSkge1xuICBjb25zdCBhcnJheUJ1ZmZlclZpZXcgPSB0aGlzLmdldEJ1ZmZlclZpZXcoZ2xURkltYWdlLmJ1ZmZlclZpZXcpO1xuICBjb25zdCBtaW1lVHlwZSA9IGdsVEZJbWFnZS5taW1lVHlwZSB8fCAnaW1hZ2UvanBlZyc7XG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJWaWV3XSwgeyB0eXBlOiBtaW1lVHlwZSB9KTtcbiAgY29uc3QgdXJsQ3JlYXRvciA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcbiAgY29uc3QgaW1hZ2VVcmwgPSB1cmxDcmVhdG9yLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gIGltZy5zcmMgPSBpbWFnZVVybDtcbiAgcmV0dXJuIGltZztcbn07XG5cbi8vIEdMQlBhcnNlci5wcm90b3R5cGUuZ2V0SW1hZ2VBc3luYyA9IGZ1bmN0aW9uIChnbFRGSW1hZ2UpIHtcbi8vICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuLy8gICAgIGNvbnN0IGFycmF5QnVmZmVyVmlldyA9IHRoaXMuZ2V0QnVmZmVyVmlldyhnbFRGSW1hZ2UuYnVmZmVyVmlldyk7XG4vLyAgICAgY29uc3QgbWltZVR5cGUgPSBnbFRGSW1hZ2UubWltZVR5cGUgfHwgJ2ltYWdlL2pwZWcnO1xuLy8gICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJWaWV3XSwge3R5cGU6IG1pbWVUeXBlfSk7XG4vLyAgICAgY29uc3QgdXJsQ3JlYXRvciA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcbi8vICAgICBjb25zdCBpbWFnZVVybCA9IHVybENyZWF0b3IuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuLy8gICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuLy8gICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7XG4vLyAgICAgaW1nLnNyYyA9IGltYWdlVXJsO1xuLy8gICB9KTtcbi8vIH07XG5cbm1vZHVsZS5leHBvcnRzID0gR0xCUGFyc2VyO1xuR0xCUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgbGV0IHBhcnNlciA9IG5ldyBHTEJQYXJzZXIoKTtcbiAgcmV0dXJuIHBhcnNlci5wYXJzZShkYXRhKTtcbn07XG4iLCIvLyBEZXJpdmVkIGZyb20gKE1JVCBMaWNlbnNlZCkgaHR0cHM6Ly9naXRodWIuY29tL3ViZXItd2ViL2xvYWRlcnMuZ2wvdHJlZS9tYXN0ZXIvbW9kdWxlcy9nbHRmXG5cbmZ1bmN0aW9uIHBhcnNlSlNPTlBvaW50ZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBSZW1vdmUgZXNjYXBlIGNoYXJhY3RlclxuICAgIGlmICh2YWx1ZS5pbmRleE9mKCcjIy8nKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDEpO1xuICAgIH1cblxuICAgIGxldCBtYXRjaGVzID0gdmFsdWUubWF0Y2goLyNcXC8oW2Etel0rKVxcLyhbMC05XSspLyk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQobWF0Y2hlc1syXSwgMTApO1xuICAgICAgcmV0dXJuIFttYXRjaGVzWzFdLCBpbmRleF07XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5OiBgJCQkaWBcbiAgICBtYXRjaGVzID0gdmFsdWUubWF0Y2goL1xcJFxcJFxcJChbMC05XSspLyk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQobWF0Y2hlc1sxXSwgMTApO1xuICAgICAgcmV0dXJuIFsnYWNjZXNzb3JzJywgaW5kZXhdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVKU09OUG9pbnRlcihvYmplY3QsIGJ1ZmZlcnMpIHtcbiAgY29uc3QgcG9pbnRlciA9IHBhcnNlSlNPTlBvaW50ZXIob2JqZWN0KTtcbiAgaWYgKHBvaW50ZXIpIHtcbiAgICBjb25zdCBmaWVsZCA9IHBvaW50ZXJbMF07XG4gICAgY29uc3QgaW5kZXggPSBwb2ludGVyWzFdO1xuICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbZmllbGRdICYmIGJ1ZmZlcnNbZmllbGRdW2luZGV4XTtcbiAgICBpZiAoYnVmZmVyKSB7XG4gICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKGBJbnZhbGlkIEpTT04gcG9pbnRlciAke29iamVjdH06ICMvJHtmaWVsZH0vJHtpbmRleH1gKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gUmVjdXJzaXZlbHkgdW5wYWNrcyBvYmplY3RzLCByZXBsYWNpbmcgXCJKU09OIHBvaW50ZXJzXCIgd2l0aCB0eXBlZCBhcnJheXNcbmZ1bmN0aW9uIHVucGFja0pzb25BcnJheXNSZWN1cnNpdmUoanNvbiwgdG9wSnNvbiwgYnVmZmVycywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG9iamVjdCA9IGpzb247XG5cbiAgY29uc3QgYnVmZmVyID0gZGVjb2RlSlNPTlBvaW50ZXIob2JqZWN0LCBidWZmZXJzKTtcbiAgaWYgKGJ1ZmZlcikge1xuICAgIHJldHVybiBidWZmZXI7XG4gIH1cblxuICAvLyBDb3B5IGFycmF5XG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0Lm1hcCgoZWxlbWVudCkgPT4gdW5wYWNrSnNvbkFycmF5c1JlY3Vyc2l2ZShlbGVtZW50LCB0b3BKc29uLCBidWZmZXJzLCBvcHRpb25zKSk7XG4gIH1cblxuICAvLyBDb3B5IG9iamVjdFxuICBpZiAob2JqZWN0ICE9PSBudWxsICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgbmV3T2JqZWN0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBuZXdPYmplY3Rba2V5XSA9IHVucGFja0pzb25BcnJheXNSZWN1cnNpdmUob2JqZWN0W2tleV0sIHRvcEpzb24sIGJ1ZmZlcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqZWN0O1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucGFja0JpbmFyeUpzb24oanNvbiwgYnVmZmVycywgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiB1bnBhY2tKc29uQXJyYXlzUmVjdXJzaXZlKGpzb24sIGpzb24sIGJ1ZmZlcnMsIG9wdGlvbnMpO1xufVxuIiwiLy8gRGVyaXZlZCBmcm9tIChNSVQgTGljZW5zZWQpIGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyLXdlYi9sb2FkZXJzLmdsL3RyZWUvbWFzdGVyL21vZHVsZXMvZ2x0ZlxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuY29uc3Qge1xuICBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTLFxuICBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFLFxuICBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlcbn0gPSByZXF1aXJlKCcuL2dsdGYtdHlwZS11dGlscy5qcycpO1xuXG4vLyBDcmVhdGVzIGEgbmV3IEFycmF5QnVmZmVyIHN0YXJ0aW5nIGF0IHRoZSBvZmZzZXQsIGNvbnRhaW5pbmcgYWxsIHJlbWFpbmluZyBieXRlc1xuLy8gVE9ETyAtIHNob3VsZCBub3QgYmUgbmVlZGVkLCBzZWUgYWJvdmVcbmZ1bmN0aW9uIGdldEFycmF5QnVmZmVyQXRPZmZzZXQoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQpIHtcbiAgY29uc3QgbGVuZ3RoID0gYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCAtIGJ5dGVPZmZzZXQ7XG4gIGNvbnN0IGJpbmFyeUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICBjb25zdCBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgY29uc3QgYmluYXJ5QXJyYXkgPSBuZXcgVWludDhBcnJheShiaW5hcnlCdWZmZXIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYmluYXJ5QXJyYXlbaV0gPSBzb3VyY2VBcnJheVtieXRlT2Zmc2V0ICsgaV07XG4gIH1cbiAgcmV0dXJuIGJpbmFyeUJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gZ2V0QXJyYXlUeXBlQW5kTGVuZ3RoKGFjY2Vzc29yLCBidWZmZXJWaWV3KSB7XG4gIGNvbnN0IEFycmF5VHlwZSA9IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWVthY2Nlc3Nvci5jb21wb25lbnRUeXBlXTtcbiAgY29uc3QgY29tcG9uZW50cyA9IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFNbYWNjZXNzb3IudHlwZV07XG4gIGNvbnN0IGJ5dGVzUGVyQ29tcG9uZW50ID0gQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRVthY2Nlc3Nvci5jb21wb25lbnRUeXBlXTtcbiAgY29uc3QgbGVuZ3RoID0gYWNjZXNzb3IuY291bnQgKiBjb21wb25lbnRzO1xuICBjb25zdCBieXRlTGVuZ3RoID0gYWNjZXNzb3IuY291bnQgKiBjb21wb25lbnRzICogYnl0ZXNQZXJDb21wb25lbnQ7XG4gIGFzc2VydChieXRlTGVuZ3RoID49IDAgJiYgYnl0ZUxlbmd0aCA8PSBidWZmZXJWaWV3LmJ5dGVMZW5ndGgpO1xuICByZXR1cm4geyBBcnJheVR5cGUsIGxlbmd0aCwgYnl0ZUxlbmd0aCB9O1xufVxuXG5mdW5jdGlvbiB1bnBhY2tBY2Nlc3NvcnMoYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXdzLCBqc29uKSB7XG4gIC8vIHVucGFjayBhY2Nlc3NvcnNcbiAgY29uc3QgYWNjZXNzb3JzID0ganNvbi5hY2Nlc3NvcnMgfHwgW107XG5cbiAgY29uc3QgYWNjZXNzb3JCdWZmZXJzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY2Nlc3NvcnMubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBhY2Nlc3NvciA9IGFjY2Vzc29yc1tpXTtcbiAgICBhc3NlcnQoYWNjZXNzb3IpO1xuXG4gICAgY29uc3QgYnVmZmVyVmlldyA9IGJ1ZmZlclZpZXdzW2FjY2Vzc29yLmJ1ZmZlclZpZXddO1xuICAgIC8vIERyYWNvIGVuY29kZWQgbWVzaGVzIGRvbid0IGhhdmUgYnVmZmVyVmlldyBpbiBhY2Nlc3NvclxuICAgIGlmIChidWZmZXJWaWV3KSB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgdHlwZWQgYXJyYXkgYXMgYSB2aWV3IGludG8gdGhlIGNvbWJpbmVkIGJ1ZmZlclxuICAgICAgY29uc3QgeyBBcnJheVR5cGUsIGxlbmd0aCB9ID0gZ2V0QXJyYXlUeXBlQW5kTGVuZ3RoKGFjY2Vzc29yLCBidWZmZXJWaWV3KTtcbiAgICAgIGNvbnN0IGFycmF5ID0gbmV3IEFycmF5VHlwZShhcnJheUJ1ZmZlciwgYnVmZmVyVmlldy5ieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgLy8gU3RvcmUgdGhlIG1ldGFkYXRhIG9uIHRoZSBhcnJheSAoZS5nLiBuZWVkZWQgdG8gZGV0ZXJtaW5lIG51bWJlciBvZiBjb21wb25lbnRzIHBlciBlbGVtZW50KVxuICAgICAgYXJyYXkuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICAgIGFjY2Vzc29yQnVmZmVycy5wdXNoKGFycmF5KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYWNjZXNzb3JCdWZmZXJzO1xufVxuXG5mdW5jdGlvbiB1bnBhY2tJbWFnZXMoYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXdzLCBqc29uKSB7XG4gIC8vIHVucGFjayBpbWFnZXNcbiAgY29uc3QgaW1hZ2VzID0ganNvbi5pbWFnZXMgfHwgW107XG5cbiAgY29uc3QgaW1hZ2VCdWZmZXJzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBpbWFnZSA9IGltYWdlc1tpXTtcbiAgICBhc3NlcnQoaW1hZ2UpO1xuXG4gICAgaWYgKGltYWdlLmJ1ZmZlclZpZXcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaW1hZ2VCdWZmZXJzLnB1c2gobnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXJWaWV3ID0gYnVmZmVyVmlld3NbaW1hZ2UuYnVmZmVyVmlld107XG4gICAgYXNzZXJ0KGJ1ZmZlclZpZXcpO1xuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHR5cGVkIGFycmF5IGFzIGEgdmlldyBpbnRvIHRoZSBjb21iaW5lZCBidWZmZXJcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBidWZmZXJWaWV3LmJ5dGVPZmZzZXQsIGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgLy8gU3RvcmUgdGhlIG1ldGFkYXRhIG9uIHRoZSBhcnJheSAoZS5nLiBuZWVkZWQgdG8gZGV0ZXJtaW5lIG51bWJlciBvZiBjb21wb25lbnRzIHBlciBlbGVtZW50KVxuICAgIGFycmF5LmltYXRlID0gaW1hZ2U7XG4gICAgaW1hZ2VCdWZmZXJzLnB1c2goYXJyYXkpO1xuICB9XG5cbiAgcmV0dXJuIGltYWdlQnVmZmVycztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucGFja0dMQkJ1ZmZlcnMoYXJyYXlCdWZmZXIsIGpzb24sIGJpbmFyeUJ5dGVPZmZzZXQpIHtcbiAgLy8gVE9ETyAtIHJlYWxseSBpbmVmZmljaWVudCwgc2hvdWxkIGp1c3QgdXNlIHRoZSBvZmZzZXQgaW50byB0aGUgb3JpZ2luYWwgYXJyYXkgYnVmZmVyXG4gIGlmIChiaW5hcnlCeXRlT2Zmc2V0KSB7XG4gICAgYXJyYXlCdWZmZXIgPSBnZXRBcnJheUJ1ZmZlckF0T2Zmc2V0KGFycmF5QnVmZmVyLCBiaW5hcnlCeXRlT2Zmc2V0KTtcbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlclZpZXdzID0ganNvbi5idWZmZXJWaWV3cyB8fCBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclZpZXdzLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgYnVmZmVyVmlldyA9IGJ1ZmZlclZpZXdzW2ldO1xuICAgIGFzc2VydChidWZmZXJWaWV3LmJ5dGVMZW5ndGggPj0gMCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC8vIFRPRE86IGRlbGV0ZSB1bnBhY2tBY2Nlc3NvcnMgYW5kIHVzZSBidWZmZXIgdmlld3Mgb25seT9cbiAgICBhY2Nlc3NvcnM6IHVucGFja0FjY2Vzc29ycyhhcnJheUJ1ZmZlciwgYnVmZmVyVmlld3MsIGpzb24pLFxuICAgIGltYWdlczogdW5wYWNrSW1hZ2VzKGFycmF5QnVmZmVyLCBidWZmZXJWaWV3cywganNvbilcbiAgfTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbi8vIFN5c3RlbSBmb3IgcmVnaXN0ZXJpbmcgY2FsbGJhY2tzIHRvIHJ1biBpbiBldmVudCBoYW5kbGVycyBvbiB0aGUgbmV4dCBmcmFtZVxuLy8gVXNlZCB0byBnZXQgYXJvdW5kIHJlc3RyaWN0aW9ucyBvbiBBUElzIGxpa2UgcG9pbnRlciBsb2NrLCBmdWxsc2NyZWVuLCBvclxuLy8gc2NyZWVuIG9yaWVudGF0aW9uLlxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxubGV0IGNicyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIHRvcE9mRnJhbWUoKSB7XG4gIGNicyA9IHt9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb24odHlwZSwgY29kZV9vcl9wb3MsIGNiKSB7XG4gIGxldCBsaXN0ID0gY2JzW3R5cGVdID0gY2JzW3R5cGVdIHx8IFtdO1xuICBpZiAodHlwZW9mIGNvZGVfb3JfcG9zID09PSAnbnVtYmVyJykge1xuICAgIGxpc3RbY29kZV9vcl9wb3NdID0gY2I7XG4gIH0gZWxzZSB7XG4gICAgbGlzdC5wdXNoKFtjb2RlX29yX3BvcywgY2JdKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlKHR5cGUsIGV2ZW50KSB7XG4gIGxldCBsaXN0ID0gY2JzW3R5cGVdO1xuICBpZiAoIWxpc3QpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAna2V5ZG93bic6XG4gICAgY2FzZSAna2V5dXAnOlxuICAgICAgaWYgKGxpc3RbZXZlbnQua2V5Q29kZV0pIHtcbiAgICAgICAgbGlzdFtldmVudC5rZXlDb2RlXSh0eXBlLCBldmVudCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtb3VzZXVwJzpcbiAgICBjYXNlICdtb3VzZWRvd24nOiB7XG4gICAgICBsZXQgeCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgbGV0IHkgPSBldmVudC5wYWdlWTtcbiAgICAgIGxldCBidXR0b24gPSBldmVudC5idXR0b247XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGlzdC5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgbGV0IGVsZW0gPSBsaXN0W2lpXTtcbiAgICAgICAgbGV0IHBvcyA9IGVsZW1bMF07XG4gICAgICAgIGlmICh4ID49IHBvcy54ICYmIHggPCBwb3MueCArIHBvcy53ICYmXG4gICAgICAgICAgeSA+PSBwb3MueSAmJiB5IDwgcG9zLnkgKyBwb3MuaCAmJlxuICAgICAgICAgIChwb3MuYnV0dG9uIDwgMCB8fCBwb3MuYnV0dG9uID09PSBidXR0b24pXG4gICAgICAgICkge1xuICAgICAgICAgIGVsZW1bMV0odHlwZSwgZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8vIFNvbWUgY29kZSBmcm9tIFR1cmJ1bGVuejogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTMgVHVyYnVsZW56IExpbWl0ZWRcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZ2xvYmFsIG5hdmlnYXRvciAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGluX2V2ZW50ID0gcmVxdWlyZSgnLi9pbl9ldmVudC5qcycpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vbG9jYWxfc3RvcmFnZS5qcycpO1xuY29uc3QgeyBhYnMsIG1heCwgbWluLCBzcXJ0IH0gPSBNYXRoO1xuY29uc3QgcG9pbnRlcl9sb2NrID0gcmVxdWlyZSgnLi9wb2ludGVyX2xvY2suanMnKTtcbmNvbnN0IHsgc291bmRSZXN1bWUgfSA9IHJlcXVpcmUoJy4vc291bmQuanMnKTtcbmNvbnN0IHsgdmVjMiwgdjJhZGQsIHYyY29weSwgdjJsZW5ndGhTcSwgdjJzZXQsIHYyc2NhbGUsIHYyc3ViIH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmNvbnN0IFVQX0VER0UgPSAwOyAvLyBvbmx5IGZvciBwYWRzLCB3aGljaCB1c2UgPT09IG51bGwgYXMgXCJ1cFwiXG5jb25zdCBVUCA9IDA7IC8vIG9ubHkgZm9yIGtleS9tb3VzZVxuY29uc3QgRE9XTiA9IDE7XG5jb25zdCBET1dOX0VER0UgPSAyOyAvLyBvbmx5IGZvciBwYWRzXG5cbi8vIHBlci1hcHAgb3ZlcnJpZGVhYmxlIG9wdGlvbnNcbmNvbnN0IFRPVUNIX0FTX01PVVNFID0gdHJ1ZTtcbmxldCBtYXBfYW5hbG9nX3RvX2RwYWQgPSB0cnVlO1xuXG5sZXQgbW91c2VfbG9nID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBBTlkgPSAtMjtcbmV4cG9ydCBjb25zdCBQT0lOVEVSTE9DSyA9IC0xO1xuXG5leHBvcnQgbGV0IEtFWVMgPSB7XG4gIEJBQ0tTUEFDRTogOCxcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIFJFVFVSTjogMTMsXG4gIFNISUZUOiAxNixcbiAgQ1RSTDogMTcsXG4gIEFMVDogMTgsXG4gIEVTQzogMjcsXG4gIFNQQUNFOiAzMixcbiAgUEFHRVVQOiAzMyxcbiAgUEFHRURPV046IDM0LFxuICBFTkQ6IDM1LFxuICBIT01FOiAzNixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgUklHSFQ6IDM5LFxuICBET1dOOiA0MCxcbiAgSU5TOiA0NSxcbiAgREVMOiA0NixcbiAgTlVNUEFEX0RJVklERTogMTExLFxuICBFUVVBTFM6IDE4NyxcbiAgTUlOVVM6IDE4OSxcbiAgU0xBU0g6IDE5MSxcbiAgVElMREU6IDE5Mixcbn07XG4oZnVuY3Rpb24gKCkge1xuICBmb3IgKGxldCBpaSA9IDE7IGlpIDw9IDEyOyArK2lpKSB7XG4gICAgS0VZU1tgRiR7aWl9YF0gPSAxMTEgKyBpaTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDQ4OyBpaSA8PSA5MDsgKytpaSkgeyAvLyAwLTk7QS1aXG4gICAgS0VZU1tTdHJpbmcuZnJvbUNoYXJDb2RlKGlpKV0gPSBpaTtcbiAgfVxufSgpKTtcbmlmICh0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gQ2F0Y2ggcmVmZXJlbmNpbmcga2V5cyB0aGF0IGFyZSBub3QgaW4gb3VyIG1hcFxuICBLRVlTID0gbmV3IFByb3h5KEtFWVMsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3ApIHtcbiAgICAgIGxldCByZXQgPSB0YXJnZXRbcHJvcF07XG4gICAgICBhc3NlcnQocmV0KTtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9KTtcbn1cbmV4cG9ydCBjb25zdCBQQUQgPSB7XG4gIEE6IDAsXG4gIFNFTEVDVDogMCwgLy8gR0xPViBuYW1lXG4gIEI6IDEsXG4gIENBTkNFTDogMSwgLy8gR0xPViBuYW1lXG4gIFg6IDIsXG4gIFk6IDMsXG4gIExCOiA0LFxuICBMRUZUX0JVTVBFUjogNCxcbiAgUkI6IDUsXG4gIFJJR0hUX0JVTVBFUjogNSxcbiAgTFQ6IDYsXG4gIExFRlRfVFJJR0dFUjogNixcbiAgUlQ6IDcsXG4gIFJJR0hUX1RSSUdHRVI6IDcsXG4gIEJBQ0s6IDgsXG4gIFNUQVJUOiA5LFxuICBMRUZUX1NUSUNLOiAxMCxcbiAgUklHSFRfU1RJQ0s6IDExLFxuICBVUDogMTIsXG4gIERPV046IDEzLFxuICBMRUZUOiAxNCxcbiAgUklHSFQ6IDE1LFxuICBBTkFMT0dfVVA6IDIwLFxuICBBTkFMT0dfTEVGVDogMjEsXG4gIEFOQUxPR19ET1dOOiAyMixcbiAgQU5BTE9HX1JJR0hUOiAyMyxcbn07XG5cbmxldCBwYWRfdG9fdG91Y2g7XG5cbmxldCBjYW52YXM7XG5sZXQga2V5X3N0YXRlX25ldyA9IHt9O1xubGV0IHBhZF9zdGF0ZXMgPSBbXTsgLy8gT25lIG1hcCBwZXIgZ2FtZXBhZCB0byBwYWQgYnV0dG9uIHN0YXRlc1xubGV0IGdhbWVwYWRfZGF0YSA9IFtdOyAvLyBPdGhlciB0cmFja2luZyBkYXRhIHBlciBnYW1lcGFkXG5sZXQgbW91c2VfcG9zID0gdmVjMigpOyAvLyBpbiBET00gY29vcmRpbmF0ZXMsIG5vdCBjYW52YXMgb3IgdmlydHVhbFxubGV0IGxhc3RfbW91c2VfcG9zID0gdmVjMigpO1xubGV0IG1vdXNlX3Bvc19pc190b3VjaCA9IGZhbHNlO1xubGV0IG1vdXNlX292ZXJfY2FwdHVyZWQgPSBmYWxzZTtcbmxldCBtb3VzZV9kb3duID0gW107XG5sZXQgd2hlZWxfZXZlbnRzID0gW107XG5sZXQgbW92ZW1lbnRfcXVlc3Rpb25hYmxlX2ZyYW1lcyA9IDA7XG5jb25zdCBNT1ZFTUVOVF9RVUVTVElPTkFCTEVfRlJBTUVTID0gMjsgLy8gTmVlZCBhdCBsZWFzdCAyXG5cbmxldCBpbnB1dF9lYXRlbl9rYiA9IGZhbHNlO1xubGV0IGlucHV0X2VhdGVuX21vdXNlID0gZmFsc2U7XG5cbmxldCB0b3VjaGVzID0ge307IC8vIGBtJHtidXR0b259YCBvciB0b3VjaF9pZCAtPiBUb3VjaERhdGFcblxuZXhwb3J0IGxldCB0b3VjaF9tb2RlID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKCd0b3VjaF9tb2RlJywgZmFsc2UpO1xuZXhwb3J0IGxldCBwYWRfbW9kZSA9ICF0b3VjaF9tb2RlICYmIGxvY2FsX3N0b3JhZ2UuZ2V0SlNPTigncGFkX21vZGUnLCBmYWxzZSk7XG5cbmNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCdtb3VzZV9sb2cnLCB7XG4gIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgcmFuZ2U6IFswLCAxXSxcbiAgZ2V0OiAoKSA9PiBtb3VzZV9sb2csXG4gIHNldDogKHYpID0+IChtb3VzZV9sb2cgPSB2KSxcbn0pO1xuXG5mdW5jdGlvbiBldmVudFRpbWVzdGFtcChldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQudGltZVN0YW1wKSB7XG4gICAgLy8gYXNzZXJ0KChldmVudC50aW1lU3RhbXAgPCAxZTEyKSA9PT0gKGVuZ2luZS5ocnRpbWUgPCAxZTEyKSk7XG4gICAgLy8gTXVzdCBib3RoIGJlIGhpZ2ggcmVzIHRpbWVzLCBvciBib3RoIG5vdCFcbiAgICBpZiAoKGV2ZW50LnRpbWVTdGFtcCA8IDFlMTIpICE9PSAoZW5naW5lLmhydGltZSA8IDFlMTIpKSB7XG4gICAgICByZXR1cm4gZW5naW5lLmhydGltZTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LnRpbWVTdGFtcDtcbiAgfVxuICByZXR1cm4gZW5naW5lLmhydGltZTtcbn1cblxuZnVuY3Rpb24gVG91Y2hEYXRhKHBvcywgdG91Y2gsIGJ1dHRvbiwgZXZlbnQpIHtcbiAgdGhpcy5kZWx0YSA9IHZlYzIoKTtcbiAgdGhpcy50b3RhbCA9IDA7XG4gIHRoaXMuY3VyX3BvcyA9IHBvcy5zbGljZSgwKTtcbiAgdGhpcy5zdGFydF9wb3MgPSBwb3Muc2xpY2UoMCk7XG4gIHRoaXMudG91Y2ggPSB0b3VjaDtcbiAgdGhpcy5idXR0b24gPSBidXR0b247XG4gIHRoaXMuc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gIHRoaXMuZGlzcGF0Y2hlZCA9IGZhbHNlO1xuICB0aGlzLmRpc3BhdGNoZWRfZHJhZyA9IGZhbHNlO1xuICB0aGlzLmRpc3BhdGNoZWRfZHJhZ19vdmVyID0gZmFsc2U7XG4gIHRoaXMudXBfZWRnZSA9IDA7XG4gIHRoaXMuZG93bl9lZGdlID0gMDtcbiAgdGhpcy5zdGF0ZSA9IERPV047XG4gIHRoaXMuZG93bl90aW1lID0gMDtcbiAgdGhpcy5vcmlnaW5fdGltZSA9IGV2ZW50VGltZXN0YW1wKGV2ZW50KTtcbn1cblRvdWNoRGF0YS5wcm90b3R5cGUuZG93biA9IGZ1bmN0aW9uIChldmVudCwgaXNfZWRnZSkge1xuICBpZiAoaXNfZWRnZSkge1xuICAgIHRoaXMuZG93bl9lZGdlKys7XG4gIH1cbiAgdGhpcy5zdGF0ZSA9IERPV047XG4gIHRoaXMub3JpZ2luX3RpbWUgPSBldmVudFRpbWVzdGFtcChldmVudCk7XG59O1xuXG5jb25zdCBNSU5fRVZFTlRfVElNRV9ERUxUQSA9IDAuMDE7IC8vIGZyYWN0aW9ucyBvZiBhIG1pbGxpc2Vjb25kXG5mdW5jdGlvbiB0aW1lRGVsdGEoZXZlbnQsIG9yaWdpbl90aW1lKSB7XG4gIGxldCBldCA9IGV2ZW50VGltZXN0YW1wKGV2ZW50KTtcbiAgLy8gdGltZXN0YW1wcyBvbiBldmVudHMgYXJlIG9mdGVuIGJhY2sgaW4gdGltZSByZWxhdGl2ZSB0byB0aGUgbGFzdCB0aWNrIHRpbWVcbiAgcmV0dXJuIG1heChldCAtIG9yaWdpbl90aW1lLCBNSU5fRVZFTlRfVElNRV9ERUxUQSk7XG59XG5cbmZ1bmN0aW9uIEtleURhdGEoKSB7XG4gIHRoaXMuZG93bl9lZGdlID0gMDtcbiAgLy8gdGhpcy5kb3duX3N0YXJ0ID0gMDtcbiAgdGhpcy5vcmlnaW5fdGltZSA9IDA7XG4gIHRoaXMuZG93bl90aW1lID0gMDtcbiAgdGhpcy51cF9lZGdlID0gMDtcbiAgdGhpcy5zdGF0ZSA9IFVQO1xufVxuS2V5RGF0YS5wcm90b3R5cGUua2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgKyt0aGlzLnVwX2VkZ2U7XG4gIHRoaXMuZG93bl90aW1lICs9IHRpbWVEZWx0YShldmVudCwgdGhpcy5vcmlnaW5fdGltZSk7XG4gIHRoaXMuc3RhdGUgPSBVUDtcbn07XG5cbmZ1bmN0aW9uIHNldE1vdXNlVG9NaWQoKSB7XG4gIHYyc2V0KG1vdXNlX3BvcywgZW5naW5lLndpZHRoKjAuNS9jYW1lcmEyZC5kb21Ub0NhbnZhc1JhdGlvKCksIGVuZ2luZS5oZWlnaHQqMC41L2NhbWVyYTJkLmRvbVRvQ2FudmFzUmF0aW8oKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2ludGVyTG9ja2VkKCkge1xuICByZXR1cm4gcG9pbnRlcl9sb2NrLmlzTG9ja2VkKCk7XG59XG5sZXQgcG9pbnRlcmxvY2tfdG91Y2hfaWQgPSBgbSR7UE9JTlRFUkxPQ0t9YDtcbi8vIG9ubHkgd29ya3MgcmVsaWFibHkgd2hlbiBjYWxsZWQgZnJvbSBhbiBldmVudCBoYW5kbGVyXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRlckxvY2tFbnRlcih3aGVuKSB7XG4gIHBvaW50ZXJfbG9jay5lbnRlcih3aGVuKTtcbn1cbmZ1bmN0aW9uIG9uUG9pbnRlckxvY2tFbnRlcigpIHtcbiAgaWYgKHRvdWNoX21vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3BvaW50ZXJsb2NrX3RvdWNoX2lkXTtcbiAgc2V0TW91c2VUb01pZCgpO1xuICBpZiAodG91Y2hfZGF0YSkge1xuICAgIHYyY29weSh0b3VjaF9kYXRhLnN0YXJ0X3BvcywgbW91c2VfcG9zKTtcbiAgICB0b3VjaF9kYXRhLnN0YXRlID0gRE9XTjtcbiAgICB0b3VjaF9kYXRhLm9yaWdpbl90aW1lID0gZW5naW5lLmhydGltZTtcbiAgfSBlbHNlIHtcbiAgICB0b3VjaF9kYXRhID0gdG91Y2hlc1twb2ludGVybG9ja190b3VjaF9pZF0gPSBuZXcgVG91Y2hEYXRhKG1vdXNlX3BvcywgZmFsc2UsIFBPSU5URVJMT0NLLCBudWxsKTtcbiAgfVxuICBtb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzID0gTU9WRU1FTlRfUVVFU1RJT05BQkxFX0ZSQU1FUztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb2ludGVyTG9ja0V4aXQoKSB7XG4gIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1twb2ludGVybG9ja190b3VjaF9pZF07XG4gIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgdjJjb3B5KHRvdWNoX2RhdGEuY3VyX3BvcywgbW91c2VfcG9zKTtcbiAgICAvLyBubyBVUF9FREdFIGZvciB0aGlzXG4gICAgdG91Y2hfZGF0YS5zdGF0ZSA9IFVQO1xuICB9XG4gIHBvaW50ZXJfbG9jay5leGl0KCk7XG4gIG1vdmVtZW50X3F1ZXN0aW9uYWJsZV9mcmFtZXMgPSBNT1ZFTUVOVF9RVUVTVElPTkFCTEVfRlJBTUVTO1xufVxuXG5sZXQgbGFzdF9ldmVudDtcbmNvbnN0IHNraXAgPSB7IGlzVHJ1c3RlZDogMSwgc291cmNlQ2FwYWJpbGl0aWVzOiAxLCBwYXRoOiAxLCBjdXJyZW50VGFyZ2V0OiAxLCB2aWV3OiAxIH07XG5mdW5jdGlvbiBldmVudGxvZyhldmVudCkge1xuICBpZiAoZXZlbnQgPT09IGxhc3RfZXZlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGFzdF9ldmVudCA9IGV2ZW50O1xuICBsZXQgcGFpcnMgPSBbXTtcbiAgZm9yIChsZXQgayBpbiBldmVudCkge1xuICAgIGxldCB2ID0gZXZlbnRba107XG4gICAgaWYgKCF2IHx8IHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nIHx8IGsudG9VcHBlckNhc2UoKSA9PT0gayB8fCBza2lwW2tdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcGFpcnMucHVzaChgJHtrfToke3YuaWQgfHwgdn1gKTtcbiAgfVxuICBjb25zb2xlLmxvZyhgJHtlbmdpbmUuZnJhbWVfaW5kZXh9ICR7ZXZlbnQudHlwZX0gJHtwb2ludGVyTG9ja2VkKCk/J3B0cmxjayc6J3VubGNrZCd9ICR7cGFpcnMuam9pbignLCcpfWApO1xufVxuXG5mdW5jdGlvbiBsZXRFdmVudFRocm91Z2goZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnRhcmdldCAmJiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdURVhUQVJFQScgfHxcbiAgICBldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0xBQkVMJyB8fCBTdHJpbmcoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSkuaW5kZXhPZignbm9nbG92JykgIT09IC0xKTtcbn1cblxuZnVuY3Rpb24gaWdub3JlZChldmVudCkge1xuICAvLyBldmVudGxvZyhldmVudCk7XG4gIGlmICghbGV0RXZlbnRUaHJvdWdoKGV2ZW50KSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbn1cblxubGV0IGN0cmxfY2hlY2tlZCA9IGZhbHNlO1xubGV0IHVubG9hZF9wcm90ZWN0ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGJlZm9yZVVubG9hZChlKSB7XG4gIGlmICh1bmxvYWRfcHJvdGVjdGVkICYmIGN0cmxfY2hlY2tlZCkge1xuICAgIC8vIEV4aXQgcG9pbnRlciBsb2NrIGlmIHRoZSBicm93c2VyIGRpZG4ndCBkbyB0aGF0IGF1dG9tYXRpY2FsbHlcbiAgICBwb2ludGVyTG9ja0V4aXQoKTtcbiAgICAvLyBDYW5jZWwgdGhlIGV2ZW50XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIENocm9tZSByZXF1aXJlcyByZXR1cm5WYWx1ZSB0byBiZSBzZXRcbiAgICBlLnJldHVyblZhbHVlID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBxdWl0Pyc7XG4gIH0gZWxzZSB7XG4gICAgZW5naW5lLnJlbGVhc2VDYW52YXMoKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvdGVjdFVubG9hZChlbmFibGUpIHtcbiAgdW5sb2FkX3Byb3RlY3RlZCA9IGVuYWJsZTtcbn1cblxubGV0IGxhc3RfaW5wdXRfdGltZSA9IDA7XG5leHBvcnQgZnVuY3Rpb24gaW5wdXRMYXN0VGltZSgpIHtcbiAgcmV0dXJuIGxhc3RfaW5wdXRfdGltZTtcbn1cbmZ1bmN0aW9uIG9uVXNlcklucHV0KCkge1xuICBzb3VuZFJlc3VtZSgpO1xuICBsYXN0X2lucHV0X3RpbWUgPSBEYXRlLm5vdygpO1xufVxuXG5mdW5jdGlvbiBvbktleVVwKGV2ZW50KSB7XG4gIHByb3RlY3RVbmxvYWQoZXZlbnQuY3RybEtleSk7XG4gIGxldCBjb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgaWYgKCFsZXRFdmVudFRocm91Z2goZXZlbnQpKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGlmIChjb2RlID09PSBLRVlTLkVTQyAmJiBwb2ludGVyTG9ja2VkKCkpIHtcbiAgICBwb2ludGVyTG9ja0V4aXQoKTtcbiAgfVxuICAvLyBMZXR0aW5nIHRocm91Z2ggdG8gb3VyIGNvZGUgcmVnYXJkbGVzcyBvZiBub19zdG9wLCBiZWNhdXNlIHdlIGhhbmRsZSB0aGluZ3MgbGlrZSBFU0MgaW4gSU5QVVQgZWxlbWVudHNcblxuICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2NvZGVdO1xuICBpZiAoa3MgJiYga3Muc3RhdGUgPT09IERPV04pIHtcbiAgICBrcy5rZXlVcChldmVudCk7XG4gIH1cblxuICBpbl9ldmVudC5oYW5kbGUoJ2tleXVwJywgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgcHJvdGVjdFVubG9hZChldmVudC5jdHJsS2V5KTtcbiAgbGV0IGNvZGUgPSBldmVudC5rZXlDb2RlO1xuICBsZXQgbm9fc3RvcCA9IGxldEV2ZW50VGhyb3VnaChldmVudCkgfHxcbiAgICBjb2RlID49IEtFWVMuRjUgJiYgY29kZSA8PSBLRVlTLkYxMiB8fCAvLyBDaHJvbWUgZGVidWcgaG90a2V5c1xuICAgIGNvZGUgPT09IEtFWVMuSSAmJiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSAmJiBldmVudC5zaGlmdEtleSk7IC8vIFNhZmFyaSwgYWx0ZXJuYXRlIENocm9tZVxuICBpZiAoIW5vX3N0b3ApIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIC8vIGNvbnNvbGUubG9nKGAke2V2ZW50LmNvZGV9ICR7ZXZlbnQua2V5Q29kZX1gKTtcbiAgb25Vc2VySW5wdXQoKTtcblxuICAvLyBMZXR0aW5nIHRocm91Z2ggdG8gb3VyIGNvZGUgcmVnYXJkbGVzcyBvZiBub19zdG9wLCBiZWNhdXNlIHdlIGhhbmRsZSB0aGluZ3MgbGlrZSBFU0MgaW4gSU5QVVQgZWxlbWVudHNcbiAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1tjb2RlXTtcbiAgaWYgKCFrcykge1xuICAgIGtzID0ga2V5X3N0YXRlX25ld1tjb2RlXSA9IG5ldyBLZXlEYXRhKCk7XG4gIH1cbiAgaWYgKGtzLnN0YXRlICE9PSBET1dOKSB7IC8vIG5vdCBhIHJlcGVhdCBldmVudFxuICAgICsra3MuZG93bl9lZGdlO1xuICAgIGtzLnN0YXRlID0gRE9XTjtcbiAgICBrcy5vcmlnaW5fdGltZSA9IGV2ZW50VGltZXN0YW1wKGV2ZW50KTtcbiAgICAvLyBrcy5kb3duX3N0YXJ0ID0ga3Mub3JpZ2luX3RpbWU7XG5cbiAgICBpbl9ldmVudC5oYW5kbGUoJ2tleWRvd24nLCBldmVudCk7XG4gIH1cbn1cblxubGV0IG1vdXNlX21vdmVfeCA9IDA7XG5leHBvcnQgZnVuY3Rpb24gZGVidWdHZXRNb3VzZU1vdmVYKCkge1xuICBsZXQgcmV0ID0gbW91c2VfbW92ZV94O1xuICBtb3VzZV9tb3ZlX3ggPSAwO1xuICByZXR1cm4gcmV0O1xufVxuXG5sZXQgbW91c2VfbW92ZWQgPSBmYWxzZTtcbmxldCB0ZW1wX2RlbHRhID0gdmVjMigpO1xubGV0IGxhc3RfYWJzX21vdmUgPSAwO1xubGV0IGxhc3RfYWJzX21vdmVfdGltZSA9IDA7XG5mdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCwgbm9fc3RvcCkge1xuICAvLy8gZXZlbnRsb2coZXZlbnQpO1xuICAvLyBEb24ndCBibG9jayBtb3VzZSBidXR0b24gMywgdGhhdCdzIHRoZSBCYWNrIGJ1dHRvblxuICBpZiAoIWxldEV2ZW50VGhyb3VnaChldmVudCkgJiYgIW5vX3N0b3AgJiYgZXZlbnQuYnV0dG9uICE9PSAzKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodG91Y2hfbW9kZSkge1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCd0b3VjaF9tb2RlJywgZmFsc2UpO1xuICAgICAgdG91Y2hfbW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGFkX21vZGUpIHtcbiAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTigncGFkX21vZGUnLCBmYWxzZSk7XG4gICAgICBwYWRfbW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBtb3VzZV9tb3ZlZCA9IHRydWU7XG4gIC8vIG9mZnNldFgvbGF5ZXJYIHJldHVybiBwb3NpdGlvbiByZWxhdGl2ZSB0byB0ZXh0LWVudHJ5IGJveGVzLCBub3QgZ29vZCFcbiAgLy8gY2xpZW50WC9jbGllbnRZIGRvIG5vdCBoYW5kbGUgd2VpcmQgc2Nyb2xsaW5nIHRoYXQgaGFwcGVucyBvbiBpT1MsIGJ1dFxuICAvLyAgIHNob3VsZCBub3QgYWZmZWN0IG1vdXNlIGV2ZW50cyAoYnV0IG1heWJlIG9uIFNhZmFyaSBkZXNrdG9wPylcbiAgbW91c2VfcG9zWzBdID0gZXZlbnQucGFnZVg7XG4gIG1vdXNlX3Bvc1sxXSA9IGV2ZW50LnBhZ2VZO1xuICAvLyBpZiAoZXZlbnQub2Zmc2V0WCAhPT0gdW5kZWZpbmVkKSB7XG4gIC8vICAgbW91c2VfcG9zWzBdID0gZXZlbnQub2Zmc2V0WDtcbiAgLy8gICBtb3VzZV9wb3NbMV0gPSBldmVudC5vZmZzZXRZO1xuICAvLyB9IGVsc2Uge1xuICAvLyAgIG1vdXNlX3Bvc1swXSA9IGV2ZW50LmxheWVyWDtcbiAgLy8gICBtb3VzZV9wb3NbMV0gPSBldmVudC5sYXllclk7XG4gIC8vIH1cbiAgbW91c2VfcG9zX2lzX3RvdWNoID0gZmFsc2U7XG5cbiAgbW91c2VfbW92ZV94ICs9IChldmVudC5tb3ZlbWVudFggfHwgMCk7XG5cbiAgbGV0IGFueV9tb3ZlbWVudCA9IGZhbHNlO1xuICBpZiAocG9pbnRlckxvY2tlZCgpKSB7XG4gICAgc2V0TW91c2VUb01pZCgpO1xuICAgIGlmIChldmVudC5tb3ZlbWVudFggfHwgZXZlbnQubW92ZW1lbnRZKSB7XG4gICAgICAvLyBTbW9vdGggb3V0IChpZ25vcmUpIGxhcmdlIGp1bXBzIGluIG1vdmVtZW50XG4gICAgICAvLyBUaGlzIGlzLCBJIGJlbGlldmUsIGp1c3QgYSBidWcgd2l0aCBDaHJvbWl1bSBvbiBXaW5kb3dzLCBhcyBpdCByZXBvc2l0aW9ucyB0aGUgaGlkZGVuIG1vdXNlIGN1cnNvclxuICAgICAgbGV0IHRzID0gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgICBsZXQgYWJzX21vdmUgPSBhYnMoZXZlbnQubW92ZW1lbnRYKSArIGFicyhldmVudC5tb3ZlbWVudFkpO1xuICAgICAgaWYgKGFic19tb3ZlID4gMjAwICYmIChhYnNfbW92ZSA+IDMgKiBsYXN0X2Fic19tb3ZlIHx8IHRzIC0gbGFzdF9hYnNfbW92ZV90aW1lID4gMTAwMCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coYElnbm9yaW5nIG1vdXNlbW92ZSB3aXRoIHN1ZGRlbiBsYXJnZSBkZWx0YTogJHtldmVudC5tb3ZlbWVudFh9LCR7ZXZlbnQubW92ZW1lbnRZfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdjJzZXQodGVtcF9kZWx0YSwgZXZlbnQubW92ZW1lbnRYIHx8IDAsIGV2ZW50Lm1vdmVtZW50WSB8fCAwKTtcbiAgICAgICAgYW55X21vdmVtZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxhc3RfYWJzX21vdmUgPSBhYnNfbW92ZTtcbiAgICAgIGxhc3RfYWJzX21vdmVfdGltZSA9IHRzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2MnN1Yih0ZW1wX2RlbHRhLCBtb3VzZV9wb3MsIGxhc3RfbW91c2VfcG9zKTtcbiAgICBpZiAodGVtcF9kZWx0YVswXSB8fCB0ZW1wX2RlbHRhWzFdKSB7XG4gICAgICBhbnlfbW92ZW1lbnQgPSB0cnVlO1xuICAgIH1cbiAgICB2MmNvcHkobGFzdF9tb3VzZV9wb3MsIG1vdXNlX3Bvcyk7XG4gIH1cbiAgaWYgKGFueV9tb3ZlbWVudCAmJiBtb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzICYmIHYybGVuZ3RoU3EodGVtcF9kZWx0YSkgPiAxMDAqMTAwKSB7XG4gICAgLy8gZ2lhbnQgbW92ZW1lbnQgcmlnaHQgYWZ0ZXIgZW50ZXJpbmcgb3IgZXhpdGluZyBwb2ludGVyIGxvY2ssIGlnbm9yZSAoQ2hyb21lIGJ1ZylcbiAgICAvLyBXZSBnZXQgdGhlc2UgdW5yZWFzb25hYmxlIGp1bXBzIGluIGJvdGggbW92ZW1lbnRYWSBhbmQgdGhlIG90aGVyLCBwcmVzdW1hYmx5XG4gICAgLy8gYmVjYXVzZSBwb2ludGVyTG9ja2VkKCkgaXMgc2xpZ2h0bHkgb3V0IG9mIHN5bmMsIHRob3VnaCB0aGUgbGFyZ2UgLm1vdmVtZW50WC9ZXG4gICAgLy8gaXMgY2xlYXJseSBlcnJvbmVvdXMuXG4gICAgYW55X21vdmVtZW50ID0gZmFsc2U7XG4gIH1cbiAgaWYgKGFueV9tb3ZlbWVudCkge1xuICAgIGZvciAobGV0IGJ1dHRvbiA9IFBPSU5URVJMT0NLOyBidXR0b24gPCBtb3VzZV9kb3duLmxlbmd0aDsgKytidXR0b24pIHtcbiAgICAgIGlmIChtb3VzZV9kb3duW2J1dHRvbl0gfHwgYnV0dG9uID09PSBQT0lOVEVSTE9DSyAmJiBwb2ludGVyTG9ja2VkKCkpIHtcbiAgICAgICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW2BtJHtidXR0b259YF07XG4gICAgICAgIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgICAgICAgdjJhZGQodG91Y2hfZGF0YS5kZWx0YSwgdG91Y2hfZGF0YS5kZWx0YSwgdGVtcF9kZWx0YSk7XG4gICAgICAgICAgdG91Y2hfZGF0YS50b3RhbCArPSBhYnModGVtcF9kZWx0YVswXSkgKyBhYnModGVtcF9kZWx0YVsxXSk7XG4gICAgICAgICAgdjJjb3B5KHRvdWNoX2RhdGEuY3VyX3BvcywgbW91c2VfcG9zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvbk1vdXNlRG93bihldmVudCkge1xuICBpZiAobW91c2VfbG9nKSB7XG4gICAgZXZlbnRsb2coZXZlbnQpO1xuICB9XG4gIG9uTW91c2VNb3ZlKGV2ZW50KTsgLy8gdXBkYXRlIG1vdXNlX3Bvc1xuICBvblVzZXJJbnB1dCgpO1xuICBsZXQgbm9fY2xpY2sgPSBsZXRFdmVudFRocm91Z2goZXZlbnQpO1xuXG4gIGxldCBidXR0b24gPSBldmVudC5idXR0b247XG4gIG1vdXNlX2Rvd25bYnV0dG9uXSA9IHRydWU7XG4gIGxldCB0b3VjaF9pZCA9IGBtJHtidXR0b259YDtcbiAgaWYgKHRvdWNoZXNbdG91Y2hfaWRdKSB7XG4gICAgdjJjb3B5KHRvdWNoZXNbdG91Y2hfaWRdLnN0YXJ0X3BvcywgbW91c2VfcG9zKTtcbiAgfSBlbHNlIHtcbiAgICB0b3VjaGVzW3RvdWNoX2lkXSA9IG5ldyBUb3VjaERhdGEobW91c2VfcG9zLCBmYWxzZSwgYnV0dG9uLCBldmVudCk7XG4gIH1cbiAgdG91Y2hlc1t0b3VjaF9pZF0uZG93bihldmVudCwgIW5vX2NsaWNrKTtcbiAgaWYgKCFub19jbGljaykge1xuICAgIGluX2V2ZW50LmhhbmRsZSgnbW91c2Vkb3duJywgZXZlbnQpO1xuICB9XG4gIC8vVGhpcyBzb2x2ZXMgaW5wdXQgYnVnIHdoZW4gZ2FtZSBpcyBydW5uaW5nIGFzIGlmcmFtZS4gRS5nLiBGYWNlYm9vayBJbnN0YW50XG4gIGlmICh3aW5kb3cuZm9jdXMpIHtcbiAgICB3aW5kb3cuZm9jdXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbk1vdXNlVXAoZXZlbnQpIHtcbiAgaWYgKG1vdXNlX2xvZykge1xuICAgIGV2ZW50bG9nKGV2ZW50KTtcbiAgfVxuICBvbk1vdXNlTW92ZShldmVudCk7IC8vIHVwZGF0ZSBtb3VzZV9wb3NcbiAgbGV0IG5vX2NsaWNrID0gbGV0RXZlbnRUaHJvdWdoKGV2ZW50KTtcbiAgbGV0IGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgaWYgKG1vdXNlX2Rvd25bYnV0dG9uXSkge1xuICAgIGxldCB0b3VjaF9pZCA9IGBtJHtidXR0b259YDtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgICB2MmNvcHkodG91Y2hfZGF0YS5jdXJfcG9zLCBtb3VzZV9wb3MpO1xuICAgICAgaWYgKCFub19jbGljaykge1xuICAgICAgICB0b3VjaF9kYXRhLnVwX2VkZ2UrKztcbiAgICAgIH1cbiAgICAgIHRvdWNoX2RhdGEuc3RhdGUgPSBVUDtcbiAgICAgIHRvdWNoX2RhdGEuZG93bl90aW1lICs9IHRpbWVEZWx0YShldmVudCwgdG91Y2hfZGF0YS5vcmlnaW5fdGltZSk7XG4gICAgfVxuICAgIGRlbGV0ZSBtb3VzZV9kb3duW2J1dHRvbl07XG4gIH1cbiAgaWYgKCFub19jbGljaykge1xuICAgIGluX2V2ZW50LmhhbmRsZSgnbW91c2V1cCcsIGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbldoZWVsKGV2ZW50KSB7XG4gIG9uTW91c2VNb3ZlKGV2ZW50LCB0cnVlKTtcbiAgbGV0IGRlbHRhID0gLWV2ZW50LmRlbHRhWSB8fCBldmVudC53aGVlbERlbHRhIHx8IC1ldmVudC5kZXRhaWw7XG4gIHdoZWVsX2V2ZW50cy5wdXNoKHtcbiAgICBwb3M6IFtldmVudC5wYWdlWCwgZXZlbnQucGFnZVldLFxuICAgIGRlbHRhOiBkZWx0YSA+IDAgPyAxIDogLTEsXG4gICAgZGlzcGF0Y2hlZDogZmFsc2UsXG4gIH0pO1xufVxuXG5sZXQgdG91Y2hfcG9zID0gdmVjMigpO1xubGV0IHJlbGVhc2VkX3RvdWNoX2lkID0gMDtcbmZ1bmN0aW9uIG9uVG91Y2hDaGFuZ2UoZXZlbnQpIHtcbiAgLy8gZXZlbnRsb2coZXZlbnQpO1xuICAvLyBVc2luZyAucGFnZVgvWSBoZXJlIGJlY2F1c2Ugb24gaU9TIHdoZW4gYSB0ZXh0IGVudHJ5IGlzIHNlbGVjdGVkLCBpdCBzY3JvbGxzXG4gIC8vIG91ciBjYW52YXMgb2Zmc2NyZWVuLiAgU2hvdWxkIG1heWJlIGhhdmUgdGhlIGNhbnZhcyByZXNpemUgYW5kIHVzZSBjbGllbnRYXG4gIC8vIGluc3RlYWQsIGJ1dCB0aGlzIHdvcmtzIHdlbGwgZW5vdWdoLlxuICBvblVzZXJJbnB1dCgpO1xuICBpZiAoIXRvdWNoX21vZGUpIHtcbiAgICBsb2NhbF9zdG9yYWdlLnNldCgndG91Y2hfbW9kZScsIHRydWUpO1xuICAgIHRvdWNoX21vZGUgPSB0cnVlO1xuICB9XG4gIGlmIChwYWRfbW9kZSkge1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCdwYWRfbW9kZScsIGZhbHNlKTtcbiAgICBwYWRfbW9kZSA9IGZhbHNlO1xuICB9XG4gIGlmIChldmVudC5jYW5jZWxhYmxlICE9PSBmYWxzZSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgbGV0IGN0ID0gZXZlbnQudG91Y2hlcztcbiAgbGV0IHNlZW4gPSB7fTtcblxuICBsZXQgbmV3X2NvdW50ID0gY3QubGVuZ3RoO1xuICBsZXQgb2xkX2NvdW50ID0gbmV3X2NvdW50O1xuICAvLyBMb29rIGZvciBwcmVzcyBhbmQgbW92ZW1lbnRcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5ld19jb3VudDsgKytpaSkge1xuICAgIGxldCB0b3VjaCA9IGN0W2lpXTtcbiAgICBsZXQgbGFzdF90b3VjaCA9IHRvdWNoZXNbdG91Y2guaWRlbnRpZmllcl07XG4gICAgdjJzZXQodG91Y2hfcG9zLCB0b3VjaC5wYWdlWCwgdG91Y2gucGFnZVkpO1xuICAgIGlmICghbGFzdF90b3VjaCkge1xuICAgICAgbGFzdF90b3VjaCA9IHRvdWNoZXNbdG91Y2guaWRlbnRpZmllcl0gPSBuZXcgVG91Y2hEYXRhKHRvdWNoX3BvcywgdHJ1ZSwgMCwgZXZlbnQpO1xuICAgICAgbGFzdF90b3VjaC5kb3duKGV2ZW50LCB0cnVlKTtcbiAgICAgIC0tb2xkX2NvdW50O1xuICAgICAgaW5fZXZlbnQuaGFuZGxlKCdtb3VzZWRvd24nLCB0b3VjaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHYyc3ViKHRlbXBfZGVsdGEsIHRvdWNoX3BvcywgbGFzdF90b3VjaC5jdXJfcG9zKTtcbiAgICAgIHYyYWRkKGxhc3RfdG91Y2guZGVsdGEsIGxhc3RfdG91Y2guZGVsdGEsIHRlbXBfZGVsdGEpO1xuICAgICAgbGFzdF90b3VjaC50b3RhbCArPSBhYnModGVtcF9kZWx0YVswXSkgKyBhYnModGVtcF9kZWx0YVsxXSk7XG4gICAgICB2MmNvcHkobGFzdF90b3VjaC5jdXJfcG9zLCB0b3VjaF9wb3MpO1xuICAgIH1cblxuICAgIHNlZW5bdG91Y2guaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgIGlmIChUT1VDSF9BU19NT1VTRSAmJiBuZXdfY291bnQgPT09IDEpIHtcbiAgICAgIC8vIFNpbmdsZSB0b3VjaCwgdHJlYXQgYXMgbW91c2UgbW92ZW1lbnRcbiAgICAgIHYyY29weShtb3VzZV9wb3MsIHRvdWNoX3Bvcyk7XG4gICAgICBtb3VzZV9wb3NfaXNfdG91Y2ggPSB0cnVlO1xuICAgIH1cbiAgfVxuICAvLyBMb29rIGZvciByZWxlYXNlLCBpZiByZWxlYXNpbmcgZXhhY3RseSBvbmUgZmluYWwgdG91Y2hcbiAgbGV0IHJlbGVhc2VkX3RvdWNoO1xuICBsZXQgcmVsZWFzZWRfaWRzID0gW107XG4gIGZvciAobGV0IGlkIGluIHRvdWNoZXMpIHtcbiAgICBpZiAoIXNlZW5baWRdKSB7XG4gICAgICBsZXQgdG91Y2ggPSB0b3VjaGVzW2lkXTtcbiAgICAgIGlmICh0b3VjaC50b3VjaCAmJiB0b3VjaC5zdGF0ZSA9PT0gRE9XTikge1xuICAgICAgICArK29sZF9jb3VudDtcbiAgICAgICAgcmVsZWFzZWRfdG91Y2ggPSB0b3VjaDtcbiAgICAgICAgcmVsZWFzZWRfaWRzLnB1c2goaWQpO1xuICAgICAgICBpbl9ldmVudC5oYW5kbGUoJ21vdXNldXAnLCB7IHBhZ2VYOiB0b3VjaC5jdXJfcG9zWzBdLCBwYWdlWTogdG91Y2guY3VyX3Bvc1sxXSB9KTtcbiAgICAgICAgdG91Y2gudXBfZWRnZSsrO1xuICAgICAgICB0b3VjaC5zdGF0ZSA9IFVQO1xuICAgICAgICB0b3VjaC5kb3duX3RpbWUgKz0gdGltZURlbHRhKGV2ZW50LCB0b3VjaC5vcmlnaW5fdGltZSk7XG4gICAgICAgIHRvdWNoLnJlbGVhc2UgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcmVsZWFzZWRfaWRzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBpZCA9IHJlbGVhc2VkX2lkc1tpaV07XG4gICAgbGV0IHRvdWNoID0gdG91Y2hlc1tpZF07XG4gICAgLy8gZ2V0IG5ldyBpZCwgbm90IG92ZXJsYXBwaW5nIHdpdGggdG91Y2guaWRlbnRpZmllciB2YWx1ZXMsXG4gICAgLy8gc28gdGhhdCBpZiB3ZSBnZXQgYSBuZXcgdG91Y2ggZXZlbnQgYmVmb3JlIHRoZSBuZXh0IHRpY2ssIHdlIHN0aWxsIHNlZSB0aGUgcmVsZWFzZSwgZXRjXG4gICAgbGV0IG5ld19pZCA9IGByJHsrK3JlbGVhc2VkX3RvdWNoX2lkfWA7XG4gICAgZGVsZXRlIHRvdWNoZXNbaWRdO1xuICAgIHRvdWNoZXNbbmV3X2lkXSA9IHRvdWNoO1xuICB9XG4gIGlmIChUT1VDSF9BU19NT1VTRSkge1xuICAgIGlmIChvbGRfY291bnQgPT09IDEgJiYgbmV3X2NvdW50ID09PSAwKSB7XG4gICAgICBkZWxldGUgbW91c2VfZG93blswXTtcbiAgICAgIHYyY29weShtb3VzZV9wb3MsIHJlbGVhc2VkX3RvdWNoLmN1cl9wb3MpO1xuICAgICAgbW91c2VfcG9zX2lzX3RvdWNoID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKG5ld19jb3VudCA9PT0gMSkge1xuICAgICAgbGV0IHRvdWNoID0gY3RbMF07XG4gICAgICBpZiAoIW9sZF9jb3VudCkge1xuICAgICAgICBtb3VzZV9kb3duWzBdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHYyc2V0KG1vdXNlX3BvcywgdG91Y2gucGFnZVgsIHRvdWNoLnBhZ2VZKTtcbiAgICAgIG1vdXNlX3Bvc19pc190b3VjaCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChuZXdfY291bnQgPiAxKSB7XG4gICAgICAvLyBtdWx0aXBsZSB0b3VjaGVzLCByZWxlYXNlIG1vdXNlX2Rvd24gd2l0aG91dCBlbWl0dGluZyBjbGlja1xuICAgICAgZGVsZXRlIG1vdXNlX2Rvd25bMF07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uQmx1ck9yRm9jdXMoZXZ0KSB7XG4gIHByb3RlY3RVbmxvYWQoZmFsc2UpO1xuICBmb3IgKGxldCBjb2RlIGluIGtleV9zdGF0ZV9uZXcpIHtcbiAgICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2NvZGVdO1xuICAgIGlmIChrcy5zdGF0ZSA9PT0gRE9XTikge1xuICAgICAga3Mua2V5VXAoZXZ0KTtcbiAgICB9XG4gIH1cbn1cblxubGV0IEFOQUxPR19NQVAgPSB7fTtcbmZ1bmN0aW9uIGdlbkFuYWxvZ01hcCgpIHtcbiAgaWYgKG1hcF9hbmFsb2dfdG9fZHBhZCkge1xuICAgIEFOQUxPR19NQVBbUEFELkxFRlRdID0gUEFELkFOQUxPR19MRUZUO1xuICAgIEFOQUxPR19NQVBbUEFELlJJR0hUXSA9IFBBRC5BTkFMT0dfUklHSFQ7XG4gICAgQU5BTE9HX01BUFtQQUQuVVBdID0gUEFELkFOQUxPR19VUDtcbiAgICBBTkFMT0dfTUFQW1BBRC5ET1dOXSA9IFBBRC5BTkFMT0dfRE9XTjtcbiAgfVxufVxuXG5sZXQgcGFzc2l2ZV9wYXJhbSA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVRvdWNoZXMoZWxlbSkge1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoQ2hhbmdlLCBwYXNzaXZlX3BhcmFtKTtcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoQ2hhbmdlLCBwYXNzaXZlX3BhcmFtKTtcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hDaGFuZ2UsIHBhc3NpdmVfcGFyYW0pO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgb25Ub3VjaENoYW5nZSwgcGFzc2l2ZV9wYXJhbSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKF9jYW52YXMsIHBhcmFtcykge1xuICBjYW52YXMgPSBfY2FudmFzO1xuICBwb2ludGVyX2xvY2suc3RhcnR1cChjYW52YXMsIG9uUG9pbnRlckxvY2tFbnRlcik7XG4gIGlmIChwYXJhbXMubWFwX2FuYWxvZ190b19kcGFkICE9PSB1bmRlZmluZWQpIHtcbiAgICBtYXBfYW5hbG9nX3RvX2RwYWQgPSBwYXJhbXMubWFwX2FuYWxvZ190b19kcGFkO1xuICB9XG4gIHBhZF90b190b3VjaCA9IHBhcmFtcy5wYWRfdG9fdG91Y2g7XG4gIGdlbkFuYWxvZ01hcCgpO1xuXG4gIHRyeSB7XG4gICAgbGV0IG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhc3NpdmVfcGFyYW0gPSB7IHBhc3NpdmU6IGZhbHNlIH07XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBwYXNzaXZlX3BhcmFtID0gZmFsc2U7XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbktleVVwLCBmYWxzZSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaWdub3JlZCwgZmFsc2UpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBpZ25vcmVkLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcbiAgaWYgKHdpbmRvdy5XaGVlbEV2ZW50KSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgb25XaGVlbCwgcGFzc2l2ZV9wYXJhbSk7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgb25XaGVlbCwgZmFsc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgb25XaGVlbCwgZmFsc2UpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbkJsdXJPckZvY3VzLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIG9uQmx1ck9yRm9jdXMsIGZhbHNlKTtcblxuICBoYW5kbGVUb3VjaGVzKGNhbnZhcyk7XG5cbiAgLy8gRm9yIGlPUywgdGhpcyBpcyBuZWVkZWQgaW4gdGVzdF9mdWxsc2NyZWVuLCBidXQgbm90IGhlcmUsIGZvciBzb21lIHJlYXNvblxuICAvL3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBpZ25vcmVkLCBmYWxzZSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGJlZm9yZVVubG9hZCwgZmFsc2UpO1xufVxuXG5cbmNvbnN0IERFQURaT05FID0gMC4yNjtcbmNvbnN0IERFQURaT05FX1NRID0gREVBRFpPTkUgKiBERUFEWk9ORTtcbmNvbnN0IE5VTV9TVElDS1MgPSAyO1xuY29uc3QgUEFEX1RIUkVTSE9MRCA9IDAuMjU7IC8vIGZvciB0dXJuaW5nIGFuYWxvZyBtb3Rpb24gaW50byBkaWdpdGFsIGV2ZW50c1xuXG5mdW5jdGlvbiBnZXRHYW1lcGFkRGF0YShpZHgpIHtcbiAgbGV0IGdwZCA9IGdhbWVwYWRfZGF0YVtpZHhdO1xuICBpZiAoIWdwZCkge1xuICAgIGdwZCA9IGdhbWVwYWRfZGF0YVtpZHhdID0ge1xuICAgICAgaWQ6IGlkeCxcbiAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgIHN0aWNrczogbmV3IEFycmF5KE5VTV9TVElDS1MpLFxuICAgIH07XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IE5VTV9TVElDS1M7ICsraWkpIHtcbiAgICAgIGdwZC5zdGlja3NbaWldID0gdmVjMigpO1xuICAgIH1cbiAgICBwYWRfc3RhdGVzW2lkeF0gPSB7fTtcbiAgfVxuICByZXR1cm4gZ3BkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVQYWRTdGF0ZShncGQsIHBzLCBiLCBwYWRjb2RlKSB7XG4gIGlmIChiICYmICFwc1twYWRjb2RlXSkge1xuICAgIHBzW3BhZGNvZGVdID0gRE9XTl9FREdFO1xuICAgIGlmICh0b3VjaF9tb2RlKSB7XG4gICAgICBsb2NhbF9zdG9yYWdlLnNldCgndG91Y2hfbW9kZScsIGZhbHNlKTtcbiAgICAgIHRvdWNoX21vZGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFwYWRfbW9kZSkge1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCdwYWRfbW9kZScsIHRydWUpO1xuICAgICAgcGFkX21vZGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAocGFkY29kZSA9PT0gcGFkX3RvX3RvdWNoKSB7XG4gICAgICBsZXQgdG91Y2hfaWQgPSBgZyR7Z3BkLmlkfWA7XG4gICAgICBpZiAodG91Y2hlc1t0b3VjaF9pZF0pIHtcbiAgICAgICAgc2V0TW91c2VUb01pZCgpO1xuICAgICAgICB2MmNvcHkodG91Y2hlc1t0b3VjaF9pZF0uc3RhcnRfcG9zLCBtb3VzZV9wb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG91Y2hlc1t0b3VjaF9pZF0gPSBuZXcgVG91Y2hEYXRhKG1vdXNlX3BvcywgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgfVxuICAgICAgdG91Y2hlc1t0b3VjaF9pZF0uZG93bihudWxsLCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWIgJiYgcHNbcGFkY29kZV0pIHtcbiAgICBwc1twYWRjb2RlXSA9IFVQX0VER0U7XG4gICAgaWYgKHBhZGNvZGUgPT09IHBhZF90b190b3VjaCkge1xuICAgICAgbGV0IHRvdWNoX2lkID0gYGcke2dwZC5pZH1gO1xuICAgICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICAgIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgICAgIHNldE1vdXNlVG9NaWQoKTtcbiAgICAgICAgdjJjb3B5KHRvdWNoX2RhdGEuY3VyX3BvcywgbW91c2VfcG9zKTtcbiAgICAgICAgdG91Y2hfZGF0YS51cF9lZGdlKys7XG4gICAgICAgIHRvdWNoX2RhdGEuc3RhdGUgPSBVUDtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX3RpbWUgKz0gbWF4KGVuZ2luZS5ocnRpbWUgLSB0b3VjaF9kYXRhLm9yaWdpbl90aW1lLCBNSU5fRVZFTlRfVElNRV9ERUxUQSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdhbWVwYWRVcGRhdGUoKSB7XG4gIGxldCBnYW1lcGFkcyA9IChuYXZpZ2F0b3IuZ2FtZXBhZHMgfHxcbiAgICBuYXZpZ2F0b3Iud2Via2l0R2FtZXBhZHMgfHxcbiAgICAobmF2aWdhdG9yLmdldEdhbWVwYWRzICYmIG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fFxuICAgIChuYXZpZ2F0b3Iud2Via2l0R2V0R2FtZXBhZHMgJiYgbmF2aWdhdG9yLndlYmtpdEdldEdhbWVwYWRzKCkpKTtcblxuICBpZiAoZ2FtZXBhZHMpIHtcbiAgICBsZXQgbnVtR2FtZVBhZHMgPSBnYW1lcGFkcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG51bUdhbWVQYWRzOyBpaSsrKSB7XG4gICAgICBsZXQgZ2FtZXBhZCA9IGdhbWVwYWRzW2lpXTtcbiAgICAgIGlmICghZ2FtZXBhZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBncGQgPSBnZXRHYW1lcGFkRGF0YShpaSk7XG4gICAgICBsZXQgcHMgPSBwYWRfc3RhdGVzW2lpXTtcbiAgICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGVzXG4gICAgICBpZiAoZ3BkLnRpbWVzdGFtcCA8IGdhbWVwYWQudGltZXN0YW1wKSB7XG4gICAgICAgIGxldCBidXR0b25zID0gZ2FtZXBhZC5idXR0b25zO1xuICAgICAgICBncGQudGltZXN0YW1wID0gZ2FtZXBhZC50aW1lc3RhbXA7XG5cbiAgICAgICAgbGV0IG51bUJ1dHRvbnMgPSBidXR0b25zLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBudW1CdXR0b25zOyBuKyspIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBidXR0b25zW25dO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4gMC41O1xuICAgICAgICAgIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIHZhbHVlLCBuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgYXhlcyBzdGF0ZXNcbiAgICAgIGxldCBheGVzID0gZ2FtZXBhZC5heGVzO1xuICAgICAgaWYgKGF4ZXMubGVuZ3RoID49IE5VTV9TVElDS1MgKiAyKSB7XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgTlVNX1NUSUNLUzsgKytuKSB7XG4gICAgICAgICAgbGV0IHBhaXIgPSBncGQuc3RpY2tzW25dO1xuICAgICAgICAgIHYyc2V0KHBhaXIsIGF4ZXNbbioyXSwgLWF4ZXNbbioyICsgMV0pO1xuICAgICAgICAgIGxldCBtYWduaXR1ZGUgPSB2Mmxlbmd0aFNxKHBhaXIpO1xuICAgICAgICAgIGlmIChtYWduaXR1ZGUgPiBERUFEWk9ORV9TUSkge1xuICAgICAgICAgICAgbWFnbml0dWRlID0gc3FydChtYWduaXR1ZGUpO1xuXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgbFggYW5kIGxZXG4gICAgICAgICAgICB2MnNjYWxlKHBhaXIsIHBhaXIsIDEgLyBtYWduaXR1ZGUpO1xuXG4gICAgICAgICAgICAvLyBDbGlwIHRoZSBtYWduaXR1ZGUgYXQgaXRzIG1heCBwb3NzaWJsZSB2YWx1ZVxuICAgICAgICAgICAgbWFnbml0dWRlID0gbWluKG1hZ25pdHVkZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBtYWduaXR1ZGUgcmVsYXRpdmUgdG8gdGhlIGVuZCBvZiB0aGUgZGVhZCB6b25lXG4gICAgICAgICAgICBtYWduaXR1ZGUgPSAoKG1hZ25pdHVkZSAtIERFQURaT05FKSAvICgxIC0gREVBRFpPTkUpKTtcblxuICAgICAgICAgICAgdjJzY2FsZShwYWlyLCBwYWlyLCBtYWduaXR1ZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2MnNldChwYWlyLCAwLCAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBcHBseSBcIm1vdmVtZW50XCIgdG8gZHJhZyBldmVudHNcbiAgICAgICAgICBpZiAobiA8PSAxICYmIHBhZF90b190b3VjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbYGcke2dwZC5pZH1gXTtcbiAgICAgICAgICAgIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgICAgICAgICAgIHYyc2NhbGUodGVtcF9kZWx0YSwgcGFpciwgZW5naW5lLmZyYW1lX2R0KTtcbiAgICAgICAgICAgICAgdjJhZGQodG91Y2hfZGF0YS5kZWx0YSwgdG91Y2hfZGF0YS5kZWx0YSwgdGVtcF9kZWx0YSk7XG4gICAgICAgICAgICAgIHRvdWNoX2RhdGEudG90YWwgKz0gYWJzKHRlbXBfZGVsdGFbMF0pICsgYWJzKHRlbXBfZGVsdGFbMV0pO1xuICAgICAgICAgICAgICBzZXRNb3VzZVRvTWlkKCk7XG4gICAgICAgICAgICAgIHYyY29weSh0b3VjaF9kYXRhLmN1cl9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHZpcnR1YWwgZGlyZWN0aW9uYWwgYnV0dG9uc1xuICAgICAgICB1cGRhdGVQYWRTdGF0ZShncGQsIHBzLCBncGQuc3RpY2tzWzBdWzBdIDwgLVBBRF9USFJFU0hPTEQsIFBBRC5BTkFMT0dfTEVGVCk7XG4gICAgICAgIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIGdwZC5zdGlja3NbMF1bMF0gPiBQQURfVEhSRVNIT0xELCBQQUQuQU5BTE9HX1JJR0hUKTtcbiAgICAgICAgdXBkYXRlUGFkU3RhdGUoZ3BkLCBwcywgZ3BkLnN0aWNrc1swXVsxXSA8IC1QQURfVEhSRVNIT0xELCBQQUQuQU5BTE9HX0RPV04pO1xuICAgICAgICB1cGRhdGVQYWRTdGF0ZShncGQsIHBzLCBncGQuc3RpY2tzWzBdWzFdID4gUEFEX1RIUkVTSE9MRCwgUEFELkFOQUxPR19VUCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aWNrSW5wdXQoKSB7XG4gIC8vIGJyb3dzZXIgZnJhbWUgaGFzIG9jY3VycmVkIHNpbmNlIHRoZSBjYWxsIHRvIGVuZEZyYW1lKCksXG4gIC8vIHdlIHNob3VsZCBub3cgaGF2ZSBgdG91Y2hlc2AgYW5kIGBrZXlfc3RhdGVgIHBvcHVsYXRlZCB3aXRoIGVkZ2UgZXZlbnRzXG4gIGlmIChtb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzKSB7XG4gICAgLS1tb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzO1xuICB9XG5cbiAgLy8gdXBkYXRlIHRpbWluZyBvZiBrZXkgZG93biBzdGF0ZXNcbiAgbGV0IGhydGltZSA9IGVuZ2luZS5ocnRpbWU7XG4gIGZvciAobGV0IGNvZGUgaW4ga2V5X3N0YXRlX25ldykge1xuICAgIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV07XG4gICAgaWYgKGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAgICBrcy5kb3duX3RpbWUgKz0gbWF4KGhydGltZSAtIGtzLm9yaWdpbl90aW1lLCBNSU5fRVZFTlRfVElNRV9ERUxUQSk7XG4gICAgICAvLyBhc3NlcnQoaHJ0aW1lID49IGtzLm9yaWdpbl90aW1lKTsgLSBzaG91bGQgYmUgdHJ1ZSwgYnV0IG9mdGVuIGlzbid0XG4gICAgICBrcy5vcmlnaW5fdGltZSA9IGhydGltZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCB0b3VjaF9pZCBpbiB0b3VjaGVzKSB7XG4gICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICBpZiAodG91Y2hfZGF0YS5zdGF0ZSA9PT0gRE9XTikge1xuICAgICAgdG91Y2hfZGF0YS5kb3duX3RpbWUgKz0gbWF4KGhydGltZSAtIHRvdWNoX2RhdGEub3JpZ2luX3RpbWUsIE1JTl9FVkVOVF9USU1FX0RFTFRBKTtcbiAgICAgIC8vIGFzc2VydChocnRpbWUgPj0gdG91Y2hfZGF0YS5vcmlnaW5fdGltZSk7IC0gc2hvdWxkIGJlIHRydWUsIGJ1dCBvZnRlbiBpc24ndFxuICAgICAgdG91Y2hfZGF0YS5vcmlnaW5fdGltZSA9IGhydGltZTtcbiAgICB9XG4gIH1cblxuICBtb3VzZV9vdmVyX2NhcHR1cmVkID0gZmFsc2U7XG4gIGdhbWVwYWRVcGRhdGUoKTtcbiAgaW5fZXZlbnQudG9wT2ZGcmFtZSgpO1xuICBjdHJsX2NoZWNrZWQgPSBmYWxzZTtcbiAgaWYgKHRvdWNoZXNbcG9pbnRlcmxvY2tfdG91Y2hfaWRdICYmICFwb2ludGVyTG9ja2VkKCkpIHtcbiAgICBwb2ludGVyTG9ja0V4aXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbmRGcmFtZVRpY2tNYXAobWFwKSB7XG4gIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaCgoa2V5Y29kZSkgPT4ge1xuICAgIHN3aXRjaCAobWFwW2tleWNvZGVdKSB7XG4gICAgICBjYXNlIERPV05fRURHRTpcbiAgICAgICAgbWFwW2tleWNvZGVdID0gRE9XTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVQX0VER0U6XG4gICAgICAgIGRlbGV0ZSBtYXBba2V5Y29kZV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuZEZyYW1lKHNraXBfbW91c2UpIHtcbiAgZm9yIChsZXQgY29kZSBpbiBrZXlfc3RhdGVfbmV3KSB7XG4gICAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1tjb2RlXTtcbiAgICBpZiAoa3Muc3RhdGUgPT09IFVQKSB7XG4gICAgICBrZXlfc3RhdGVfbmV3W2NvZGVdID0gbnVsbDtcbiAgICAgIGRlbGV0ZSBrZXlfc3RhdGVfbmV3W2NvZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBrcy51cF9lZGdlID0gMDtcbiAgICAgIGtzLmRvd25fZWRnZSA9IDA7XG4gICAgICBrcy5kb3duX3RpbWUgPSAwO1xuICAgIH1cbiAgfVxuXG4gIHBhZF9zdGF0ZXMuZm9yRWFjaChlbmRGcmFtZVRpY2tNYXApO1xuICBpZiAoIXNraXBfbW91c2UpIHtcbiAgICBmb3IgKGxldCB0b3VjaF9pZCBpbiB0b3VjaGVzKSB7XG4gICAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgICAgaWYgKHRvdWNoX2RhdGEuc3RhdGUgPT09IFVQKSB7XG4gICAgICAgIC8vIE1hbnVhbGx5IG51bGwgb3V0IHRvdWNoZXNbdG91Y2hfaWRdIC0gc29tZSBDaHJvbWUgb3B0aW1pemVyIGJ1ZyBjYXVzZXNcbiAgICAgICAgLy8gY2FsbGVycyB0byBsYXRlciBnZXQgdGhpcyBvbGQgdmFsdWUgKGluc3RlYWQgb2YgdGhlIG5ld2x5IGFkZGVkIG9uIHdpdGhcbiAgICAgICAgLy8gdGhlIHNhbWUgSUQpIHVubGVzcyB3ZSBudWxsIGl0IG91dCAodGhlbiB0aGV5IHNlZW0gdG8gZ2V0IHRoZSBuZXcgb25lKS5cbiAgICAgICAgdG91Y2hlc1t0b3VjaF9pZF0gPSBudWxsO1xuICAgICAgICBkZWxldGUgdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3VjaF9kYXRhLmRlbHRhWzBdID0gdG91Y2hfZGF0YS5kZWx0YVsxXSA9IDA7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZyA9IGZhbHNlO1xuICAgICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZ19vdmVyID0gZmFsc2U7XG4gICAgICAgIHRvdWNoX2RhdGEudXBfZWRnZSA9IDA7XG4gICAgICAgIHRvdWNoX2RhdGEuZG93bl9lZGdlID0gMDtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX3RpbWUgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGVlbF9ldmVudHMubGVuZ3RoID0gMDtcbiAgICBpbnB1dF9lYXRlbl9tb3VzZSA9IGZhbHNlO1xuICB9XG4gIGlucHV0X2VhdGVuX2tiID0gZmFsc2U7XG4gIG1vdXNlX21vdmVkID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aWNrSW5wdXRJbmFjdGl2ZSgpIHtcbiAgaW5fZXZlbnQudG9wT2ZGcmFtZSgpO1xuICBjdHJsX2NoZWNrZWQgPSBmYWxzZTtcbiAgZW5kRnJhbWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhdEFsbElucHV0KHNraXBfbW91c2UpIHtcbiAgLy8gZGVzdHJveSB0b3VjaGVzLCByZW1vdmUgYWxsIGRvd24gYW5kIHVwIGVkZ2VzXG4gIGVuZEZyYW1lKHNraXBfbW91c2UpO1xuICBpZiAoIXNraXBfbW91c2UpIHtcbiAgICBtb3VzZV9vdmVyX2NhcHR1cmVkID0gdHJ1ZTtcbiAgICBpbnB1dF9lYXRlbl9tb3VzZSA9IHRydWU7XG4gIH1cbiAgaW5wdXRfZWF0ZW5fa2IgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWF0QWxsS2V5Ym9hcmRJbnB1dCgpIHtcbiAgZWF0QWxsSW5wdXQodHJ1ZSk7XG59XG5cbi8vIHJldHVybnMgcG9zaXRpb24gbWFwcGVkIHRvIGN1cnJlbnQgY2FtZXJhIHZpZXdcbmV4cG9ydCBmdW5jdGlvbiBtb3VzZVBvcyhkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IHZlYzIoKTtcbiAgY2FtZXJhMmQuZG9tVG9WaXJ0dWFsKGRzdCwgbW91c2VfcG9zKTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlTW92ZWQoKSB7XG4gIHJldHVybiBtb3VzZV9tb3ZlZDtcbn1cblxuZnVuY3Rpb24gbW91c2VQb3NQYXJhbShwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICByZXR1cm4ge1xuICAgIHg6IHBhcmFtLnggPT09IHVuZGVmaW5lZCA/IGNhbWVyYTJkLngwUmVhbCgpIDogcGFyYW0ueCxcbiAgICB5OiBwYXJhbS55ID09PSB1bmRlZmluZWQgPyBjYW1lcmEyZC55MFJlYWwoKSA6IHBhcmFtLnksXG4gICAgdzogcGFyYW0udyA9PT0gdW5kZWZpbmVkID8gY2FtZXJhMmQud1JlYWwoKSA6IHBhcmFtLncsXG4gICAgaDogcGFyYW0uaCA9PT0gdW5kZWZpbmVkID8gY2FtZXJhMmQuaFJlYWwoKSA6IHBhcmFtLmgsXG4gICAgYnV0dG9uOiBwYXJhbS5idXR0b24gPT09IHVuZGVmaW5lZCA/IEFOWSA6IHBhcmFtLmJ1dHRvbixcbiAgfTtcbn1cblxubGV0IGNoZWNrX3BvcyA9IHZlYzIoKTtcbmZ1bmN0aW9uIGNoZWNrUG9zKHBvcywgcGFyYW0pIHtcbiAgaWYgKCFjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY2hlY2tfcG9zLCBwb3MpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjaGVja19wb3NbMF0gPj0gcGFyYW0ueCAmJiAocGFyYW0udyA9PT0gSW5maW5pdHkgfHwgY2hlY2tfcG9zWzBdIDwgcGFyYW0ueCArIHBhcmFtLncpICYmXG4gICAgY2hlY2tfcG9zWzFdID49IHBhcmFtLnkgJiYgKHBhcmFtLmggPT09IEluZmluaXR5IHx8IGNoZWNrX3Bvc1sxXSA8IHBhcmFtLnkgKyBwYXJhbS5oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlV2hlZWwocGFyYW0pIHtcbiAgaWYgKGlucHV0X2VhdGVuX21vdXNlIHx8ICF3aGVlbF9ldmVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgcmV0ID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHdoZWVsX2V2ZW50cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgZGF0YSA9IHdoZWVsX2V2ZW50c1tpaV07XG4gICAgaWYgKGRhdGEuZGlzcGF0Y2hlZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1BvcyhkYXRhLnBvcywgcG9zX3BhcmFtKSkge1xuICAgICAgcmV0ICs9IGRhdGEuZGVsdGE7XG4gICAgICBkYXRhLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VPdmVyKHBhcmFtKSB7XG4gIGlmIChtb3VzZV9vdmVyX2NhcHR1cmVkIHx8IHBvaW50ZXJMb2NrZWQoKSAmJiAhKHBhcmFtICYmIHBhcmFtLmFsbG93X3BvaW50ZXJsb2NrKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG5cbiAgLy8gZWF0IG1vdXNlIHVwL2Rvd24vZHJhZyBldmVudHNcbiAgaWYgKCFwYXJhbS5wZWVrKSB7XG4gICAgZm9yIChsZXQgaWQgaW4gdG91Y2hlcykge1xuICAgICAgbGV0IHRvdWNoID0gdG91Y2hlc1tpZF07XG4gICAgICBpZiAoY2hlY2tQb3ModG91Y2guY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgICB0b3VjaC5kb3duX2VkZ2UgPSAwO1xuICAgICAgICB0b3VjaC51cF9lZGdlID0gMDtcbiAgICAgICAgaWYgKCFwYXJhbSB8fCAhcGFyYW0uZHJhZ190YXJnZXQpIHtcbiAgICAgICAgICB0b3VjaC5kaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChjaGVja1Bvcyhtb3VzZV9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgIG1vdXNlX292ZXJfY2FwdHVyZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZURvd24ocGFyYW0pIHtcbiAgaWYgKGlucHV0X2VhdGVuX21vdXNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgYnV0dG9uID0gcG9zX3BhcmFtLmJ1dHRvbjtcbiAgLy8gKm1heWJlKiBzaG91bGQgZGVmYXVsdCB0byBJbmZpbml0ZSwgYnV0IGZvciBub3csIGRlZmF1bHRpbmcgdG8gdGhlIHNhbWUgYXMgbW91c2VVcEVkZ2UoKVxuICBsZXQgbWF4X2NsaWNrX2Rpc3QgPSBwYXJhbS5tYXhfZGlzdCB8fCA1MDsgLy8gVE9ETzogcmVsYXRpdmUgdG8gY2FtZXJhIGRpc3RhbmNlP1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICh0b3VjaF9kYXRhLnN0YXRlICE9PSBET1dOIHx8XG4gICAgICAhKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8XG4gICAgICB0b3VjaF9kYXRhLnRvdGFsID4gbWF4X2NsaWNrX2Rpc3RcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICAvLyBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgIC8vICAgdG91Y2hfZGF0YS51cF9lZGdlID0gMDtcbiAgICAgIC8vIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbjogdG91Y2hfZGF0YS5idXR0b24sXG4gICAgICAgIHBvczogY2hlY2tfcG9zLnNsaWNlKDApLFxuICAgICAgICBzdGFydF90aW1lOiB0b3VjaF9kYXRhLnN0YXJ0X3RpbWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VQb3NJc1RvdWNoKCkge1xuICByZXR1cm4gbW91c2VfcG9zX2lzX3RvdWNoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVtVG91Y2hlcygpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRvdWNoZXMpLmxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleURvd24oa2V5Y29kZSkge1xuICBpZiAoa2V5Y29kZSA9PT0gS0VZUy5DVFJMKSB7XG4gICAgY3RybF9jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaW5wdXRfZWF0ZW5fa2IpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2tleWNvZGVdO1xuICBpZiAoIWtzKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAgYXNzZXJ0KGtzLmRvd25fdGltZSk7IC8vIFdpbGwgZmlyZSBpZiB3ZSBjYWxsIGtleURvd24oKSBiZWZvcmUgdGlja0lucHV0KClcbiAgfVxuICByZXR1cm4ga3MuZG93bl90aW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGtleURvd25FZGdlKGtleWNvZGUsIG9wdHMpIHtcbiAgaWYgKG9wdHMgJiYgb3B0cy5pbl9ldmVudF9jYiAmJiAhaW5wdXRfZWF0ZW5fa2IpIHtcbiAgICBpbl9ldmVudC5vbigna2V5ZG93bicsIGtleWNvZGUsIG9wdHMuaW5fZXZlbnRfY2IpO1xuICB9XG5cbiAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1trZXljb2RlXTtcbiAgaWYgKCFrcykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCByID0ga3MuZG93bl9lZGdlO1xuICBrcy5kb3duX2VkZ2UgPSAwO1xuICByZXR1cm4gcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBrZXlVcEVkZ2Uoa2V5Y29kZSwgb3B0cykge1xuICBpZiAob3B0cyAmJiBvcHRzLmluX2V2ZW50X2NiICYmICFpbnB1dF9lYXRlbl9rYikge1xuICAgIGluX2V2ZW50Lm9uKCdrZXl1cCcsIGtleWNvZGUsIG9wdHMuaW5fZXZlbnRfY2IpO1xuICB9XG5cbiAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1trZXljb2RlXTtcbiAgaWYgKCFrcykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCByID0ga3MudXBfZWRnZTtcbiAga3MudXBfZWRnZSA9IDA7XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFkR2V0QXhlcyhvdXQsIHN0aWNraW5kZXgsIHBhZGluZGV4KSB7XG4gIGFzc2VydChzdGlja2luZGV4ID49IDAgJiYgc3RpY2tpbmRleCA8IE5VTV9TVElDS1MpO1xuICBpZiAocGFkaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgIGxldCBzdWIgPSB2ZWMyKCk7XG4gICAgdjJzZXQob3V0LCAwLCAwKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZ2FtZXBhZF9kYXRhLmxlbmd0aDsgKytpaSkge1xuICAgICAgcGFkR2V0QXhlcyhzdWIsIHN0aWNraW5kZXgsIGlpKTtcbiAgICAgIHYyYWRkKG91dCwgb3V0LCBzdWIpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHN0aWNrcyA9IGdldEdhbWVwYWREYXRhKHBhZGluZGV4KS5zdGlja3M7XG4gIHYyY29weShvdXQsIHN0aWNrc1tzdGlja2luZGV4XSk7XG59XG5cbmZ1bmN0aW9uIHBhZEJ1dHRvbkRvd25JbnRlcm5hbChncGQsIHBzLCBwYWRjb2RlKSB7XG4gIGlmIChwc1twYWRjb2RlXSkge1xuICAgIHJldHVybiBlbmdpbmUuZnJhbWVfZHQ7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBwYWRCdXR0b25Eb3duRWRnZUludGVybmFsKGdwZCwgcHMsIHBhZGNvZGUpIHtcbiAgaWYgKHBzW3BhZGNvZGVdID09PSBET1dOX0VER0UpIHtcbiAgICBwc1twYWRjb2RlXSA9IERPV047XG4gICAgcmV0dXJuIGVuZ2luZS5mcmFtZV9kdDtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIHBhZEJ1dHRvblVwRWRnZUludGVybmFsKGdwZCwgcHMsIHBhZGNvZGUpIHtcbiAgaWYgKHBzW3BhZGNvZGVdID09PSBVUF9FREdFKSB7XG4gICAgZGVsZXRlIHBzW3BhZGNvZGVdO1xuICAgIHJldHVybiBlbmdpbmUuZnJhbWVfZHQ7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIHBhZEJ1dHRvblNoYXJlZChmbiwgcGFkY29kZSwgcGFkaW5kZXgpIHtcbiAgYXNzZXJ0KHBhZGNvZGUgIT09IHVuZGVmaW5lZCk7XG4gIGxldCByID0gMDtcbiAgLy8gSGFuZGxlIGNhbGxpbmcgd2l0aG91dCBhIHNwZWNpZmljIHBhZCBpbmRleFxuICBpZiAocGFkaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwYWRfc3RhdGVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgciArPSBwYWRCdXR0b25TaGFyZWQoZm4sIHBhZGNvZGUsIGlpKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBpZiAoaW5wdXRfZWF0ZW5fbW91c2UpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgZ3BkID0gZ2FtZXBhZF9kYXRhW3BhZGluZGV4XTtcbiAgaWYgKCFncGQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgcHMgPSBwYWRfc3RhdGVzW3BhZGluZGV4XTtcblxuICByICs9IEFOQUxPR19NQVBbcGFkY29kZV0gJiYgZm4oZ3BkLCBwcywgQU5BTE9HX01BUFtwYWRjb2RlXSkgfHwgMDtcbiAgciArPSBmbihncGQsIHBzLCBwYWRjb2RlKTtcbiAgcmV0dXJuIHI7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkQnV0dG9uRG93bihwYWRjb2RlLCBwYWRpbmRleCkge1xuICByZXR1cm4gcGFkQnV0dG9uU2hhcmVkKHBhZEJ1dHRvbkRvd25JbnRlcm5hbCwgcGFkY29kZSwgcGFkaW5kZXgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEJ1dHRvbkRvd25FZGdlKHBhZGNvZGUsIHBhZGluZGV4KSB7XG4gIHJldHVybiBwYWRCdXR0b25TaGFyZWQocGFkQnV0dG9uRG93bkVkZ2VJbnRlcm5hbCwgcGFkY29kZSwgcGFkaW5kZXgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEJ1dHRvblVwRWRnZShwYWRjb2RlLCBwYWRpbmRleCkge1xuICByZXR1cm4gcGFkQnV0dG9uU2hhcmVkKHBhZEJ1dHRvblVwRWRnZUludGVybmFsLCBwYWRjb2RlLCBwYWRpbmRleCk7XG59XG5cbmxldCBzdGFydF9wb3MgPSB2ZWMyKCk7XG5sZXQgY3VyX3BvcyA9IHZlYzIoKTtcbmxldCBkZWx0YSA9IHZlYzIoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlVXBFZGdlKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG4gIGxldCBtYXhfY2xpY2tfZGlzdCA9IHBhcmFtLm1heF9kaXN0IHx8IDUwOyAvLyBUT0RPOiByZWxhdGl2ZSB0byBjYW1lcmEgZGlzdGFuY2U/XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCF0b3VjaF9kYXRhLnVwX2VkZ2UpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKSB8fFxuICAgICAgdG91Y2hfZGF0YS50b3RhbCA+IG1heF9jbGlja19kaXN0XG4gICAgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgaWYgKCFwYXJhbS5wZWVrKSB7XG4gICAgICAgIHRvdWNoX2RhdGEudXBfZWRnZSA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXR0b246IHRvdWNoX2RhdGEuYnV0dG9uLFxuICAgICAgICBwb3M6IGNoZWNrX3Bvcy5zbGljZSgwKSxcbiAgICAgICAgc3RhcnRfdGltZTogdG91Y2hfZGF0YS5zdGFydF90aW1lLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyYW0uaW5fZXZlbnRfY2IgJiYgIWlucHV0X2VhdGVuX21vdXNlICYmICFtb3VzZV9vdmVyX2NhcHR1cmVkKSB7XG4gICAgLy8gVE9ETzogTWF5YmUgbmVlZCB0byBhbHNvIHBhc3MgYWxvbmcgZWFybGllciBleGNsdXNpb25zPyAgV29ya2luZyBva2F5IGZvciBub3cgdGhvdWdoLlxuICAgIGlmICghcGFyYW0ucGh5cykge1xuICAgICAgcGFyYW0ucGh5cyA9IHt9O1xuICAgIH1cbiAgICBwYXJhbS5waHlzLmJ1dHRvbiA9IHR5cGVvZiBwYXJhbS5pbl9ldmVudF9idXR0b24gPT09ICdudW1iZXInID8gcGFyYW0uaW5fZXZlbnRfYnV0dG9uIDogYnV0dG9uO1xuICAgIGNhbWVyYTJkLnZpcnR1YWxUb0RvbVBvc1BhcmFtKHBhcmFtLnBoeXMsIHBvc19wYXJhbSk7XG4gICAgaW5fZXZlbnQub24oJ21vdXNldXAnLCBwYXJhbS5waHlzLCBwYXJhbS5pbl9ldmVudF9jYik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5jbGljayA9IG1vdXNlVXBFZGdlO1xuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VEb3duRWRnZShwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICghdG91Y2hfZGF0YS5kb3duX2VkZ2UgfHxcbiAgICAgICEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbilcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uOiB0b3VjaF9kYXRhLmJ1dHRvbixcbiAgICAgICAgcG9zOiBjaGVja19wb3Muc2xpY2UoMCksXG4gICAgICAgIHN0YXJ0X3RpbWU6IHRvdWNoX2RhdGEuc3RhcnRfdGltZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcmFtLmluX2V2ZW50X2NiICYmICFpbnB1dF9lYXRlbl9tb3VzZSAmJiAhbW91c2Vfb3Zlcl9jYXB0dXJlZCkge1xuICAgIC8vIFRPRE86IE1heWJlIG5lZWQgdG8gYWxzbyBwYXNzIGFsb25nIGVhcmxpZXIgZXhjbHVzaW9ucz8gIFdvcmtpbmcgb2theSBmb3Igbm93IHRob3VnaC5cbiAgICBpZiAoIXBhcmFtLnBoeXMpIHtcbiAgICAgIHBhcmFtLnBoeXMgPSB7fTtcbiAgICB9XG4gICAgcGFyYW0ucGh5cy5idXR0b24gPSBidXR0b247XG4gICAgY2FtZXJhMmQudmlydHVhbFRvRG9tUG9zUGFyYW0ocGFyYW0ucGh5cywgcG9zX3BhcmFtKTtcbiAgICBpbl9ldmVudC5vbignbW91c2Vkb3duJywgcGFyYW0ucGh5cywgcGFyYW0uaW5fZXZlbnRfY2IpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gQ29tcGxldGVseSBjb25zdW1lIGFueSBjbGlja3Mgb3IgZHJhZ3MgY29taW5nIGZyb20gYSBtb3VzZSBkb3duIGV2ZW50IGluIHRoaXNcbi8vIGFyZWEgLSB1c2VkIHRvIGNhdGNoIGZvY3VzIGxlYXZpbmcgYW4gZWRpdCBib3ggd2l0aG91dCB3YW50aW5nIHRvIGRvIHdoYXRcbi8vIGEgY2xpY2sgd291bGQgbm9ybWFsbHkgZG8uXG5leHBvcnQgZnVuY3Rpb24gbW91c2VDb25zdW1lQ2xpY2tzKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIC8vIFNraXBwaW5nIHRob3NlIHRoYXQgYWxyZWFkeSBkaXNwYXRjaGVkIGEgZHJhZyB0aGlzIGZyYW1lLCBtdXN0IGhhdmUgYmVlbiBoYW5kbGVkLCBkbyBub3QgY29uc3VtZSBpdCFcbiAgICBpZiAoIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKSB8fCB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLnN0YXJ0X3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSAwO1xuICAgICAgLy8gU2V0IHN0YXJ0IHBvcyBzbyB0aGF0IGl0IHdpbGwgbm90IHBhc3MgY2hlY2tQb3NcbiAgICAgIHRvdWNoX2RhdGEuc3RhcnRfcG9zWzBdID0gdG91Y2hfZGF0YS5zdGFydF9wb3NbMV0gPSBJbmZpbml0eTtcbiAgICAgIC8vIFNldCAudG90YWwgc28gdGhhdCBtb3VzZVVwRWRnZSB3aWxsIG5vdCBkZXRlY3QgaXQgYXMgYSBjbGlja1xuICAgICAgdG91Y2hfZGF0YS50b3RhbCA9IEluZmluaXR5O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZyhwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuICBsZXQgbWluX2Rpc3QgPSBwYXJhbS5taW5fZGlzdCB8fCAwO1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICghKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8IHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuc3RhcnRfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICBjYW1lcmEyZC5kb21EZWx0YVRvVmlydHVhbChkZWx0YSwgW3RvdWNoX2RhdGEudG90YWwvMiwgdG91Y2hfZGF0YS50b3RhbC8yXSk7XG4gICAgICBsZXQgdG90YWwgPSBkZWx0YVswXSArIGRlbHRhWzFdO1xuICAgICAgaWYgKHRvdGFsIDwgbWluX2Rpc3QpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGV0IGlzX2Rvd25fZWRnZSA9IHRvdWNoX2RhdGEuZG93bl9lZGdlO1xuICAgICAgaWYgKHBhcmFtLmVhdF9jbGlja3MpIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSB0b3VjaF9kYXRhLnVwX2VkZ2UgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtLnBheWxvYWQpIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kcmFnX3BheWxvYWQgPSBwYXJhbS5wYXlsb2FkO1xuICAgICAgfVxuICAgICAgY2FtZXJhMmQuZG9tVG9WaXJ0dWFsKHN0YXJ0X3BvcywgdG91Y2hfZGF0YS5zdGFydF9wb3MpO1xuICAgICAgY2FtZXJhMmQuZG9tVG9WaXJ0dWFsKGN1cl9wb3MsIHRvdWNoX2RhdGEuY3VyX3Bvcyk7XG4gICAgICBjYW1lcmEyZC5kb21EZWx0YVRvVmlydHVhbChkZWx0YSwgdG91Y2hfZGF0YS5kZWx0YSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJfcG9zLFxuICAgICAgICBzdGFydF9wb3MsXG4gICAgICAgIGRlbHRhLCAvLyB0aGlzIGZyYW1lJ3MgZGVsdGFcbiAgICAgICAgdG90YWwsIC8vIHRvdGFsIChsaW5lYXIpIGRpc3RhbmNlIGRyYWdnZWRcbiAgICAgICAgYnV0dG9uOiB0b3VjaF9kYXRhLmJ1dHRvbixcbiAgICAgICAgdG91Y2g6IHRvdWNoX2RhdGEudG91Y2gsXG4gICAgICAgIHN0YXJ0X3RpbWU6IHRvdWNoX2RhdGEuc3RhcnRfdGltZSxcbiAgICAgICAgaXNfZG93bl9lZGdlLFxuICAgICAgICBkb3duX3RpbWU6IHRvdWNoX2RhdGEuZG93bl90aW1lLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIGEgbG90IGxpa2UgZHJhZygpLCByZWZhY3RvciB0byBzaGFyZSBtb3JlP1xuZXhwb3J0IGZ1bmN0aW9uIGxvbmdQcmVzcyhwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuICBsZXQgbWF4X2Rpc3QgPSBwYXJhbS5tYXhfZGlzdCB8fCAwO1xuICBsZXQgbWluX3RpbWUgPSBwYXJhbS5taW5fdGltZSB8fCA1MDA7XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHwgdG91Y2hfZGF0YS5sb25nX3ByZXNzX2Rpc3BhdGNoZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5zdGFydF9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKGRlbHRhLCBbdG91Y2hfZGF0YS50b3RhbC8yLCB0b3VjaF9kYXRhLnRvdGFsLzJdKTtcbiAgICAgIGxldCB0b3RhbCA9IGRlbHRhWzBdICsgZGVsdGFbMV07XG4gICAgICBpZiAodG90YWwgPiBtYXhfZGlzdCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCB0aW1lID0gRGF0ZS5ub3coKSAtIHRvdWNoX2RhdGEuc3RhcnRfdGltZTtcbiAgICAgIGlmICh0aW1lIDwgbWluX3RpbWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgLy8gPyB0b3VjaF9kYXRhLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICB0b3VjaF9kYXRhLmxvbmdfcHJlc3NfZGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBsZXQgaXNfZG93bl9lZGdlID0gdG91Y2hfZGF0YS5kb3duX2VkZ2U7XG4gICAgICBpZiAocGFyYW0uZWF0X2NsaWNrcykge1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fZWRnZSA9IHRvdWNoX2RhdGEudXBfZWRnZSA9IDA7XG4gICAgICB9XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoc3RhcnRfcG9zLCB0b3VjaF9kYXRhLnN0YXJ0X3Bvcyk7XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY3VyX3BvcywgdG91Y2hfZGF0YS5jdXJfcG9zKTtcbiAgICAgIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKGRlbHRhLCB0b3VjaF9kYXRhLmRlbHRhKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvbmdfcHJlc3M6IHRydWUsXG4gICAgICAgIGN1cl9wb3MsXG4gICAgICAgIHN0YXJ0X3BvcyxcbiAgICAgICAgZGVsdGEsIC8vIHRoaXMgZnJhbWUncyBkZWx0YVxuICAgICAgICB0b3RhbCwgLy8gdG90YWwgKGxpbmVhcikgZGlzdGFuY2UgZHJhZ2dlZFxuICAgICAgICBidXR0b246IHRvdWNoX2RhdGEuYnV0dG9uLFxuICAgICAgICB0b3VjaDogdG91Y2hfZGF0YS50b3VjaCxcbiAgICAgICAgc3RhcnRfdGltZTogdG91Y2hfZGF0YS5zdGFydF90aW1lLFxuICAgICAgICBpc19kb3duX2VkZ2UsXG4gICAgICAgIGRvd25fdGltZTogdG91Y2hfZGF0YS5kb3duX3RpbWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYWdEcm9wKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgLy8gTWF5YmUgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWdfb3ZlciBpbnN0ZWFkL2FzIHdlbGw/XG4gICAgaWYgKCEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHwgdG91Y2hfZGF0YS5kaXNwYXRjaGVkIHx8ICF0b3VjaF9kYXRhLmRyYWdfcGF5bG9hZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghdG91Y2hfZGF0YS51cF9lZGdlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgaWYgKCFwYXJhbS5wZWVrKSB7XG4gICAgICAgIC8vIGRvbid0IHdhbnQgdGhlIHNvdXJjZSAocG9zc2libHkgY2FsbGVkIGxhdGVyIHRoaXMgZnJhbWUpIHRvIHN0aWxsIHRoaW5rIGl0J3MgZHJhZ2dpbmdcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWdfb3ZlciA9IHRydWU7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnID0gdHJ1ZTtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGRyYWdfcGF5bG9hZDogdG91Y2hfZGF0YS5kcmFnX3BheWxvYWQgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnT3ZlcihwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICghKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8XG4gICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZ19vdmVyIHx8XG4gICAgICAhdG91Y2hfZGF0YS5kcmFnX3BheWxvYWRcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAodG91Y2hfZGF0YS5zdGF0ZSAhPT0gRE9XTikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLmN1cl9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIC8vIFNlcGFyYXRlICdkaXNwYXRjaGVkJyBmb3IgZHJhZ092ZXIgKHRhcmdldCkgYW5kIGRyYWcgKHNvdXJjZSkgLSB0aGV5IGJvdGggbmVlZCBvbmUgZGlzcGF0Y2ggcGVyIGZyYW1lXG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWdfb3ZlciA9IHRydWU7XG4gICAgICB9XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY3VyX3BvcywgdG91Y2hfZGF0YS5jdXJfcG9zKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cl9wb3MsXG4gICAgICAgIGRyYWdfcGF5bG9hZDogdG91Y2hfZGF0YS5kcmFnX3BheWxvYWRcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMjAgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgaW5fZXZlbnQgPSByZXF1aXJlKCcuL2luX2V2ZW50LmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHsgYWJzIH0gPSBNYXRoO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5cbmxldCBzdGF0ZV9jYWNoZSA9IHt9O1xubGV0IGdvb2RfdXJsID0gL2h0dHBzPzpcXC9cXC8vO1xuXG4vLyBDcmVhdGUgYW4gaW52aXNpYmxlIEEgZWxlbSBpbiB0aGUgRE9NIHNvIHdlIGdldCBhbGwgb2YgdGhlIGdvb2QgYnJvd3Nlcnlcbi8vIGJlaGF2aW9yIGZvciBhIGxpbmsgYXJlYS5cbmV4cG9ydCBmdW5jdGlvbiBsaW5rKHBhcmFtKSB7XG4gIGxldCB7IHgsIHksIHcsIGgsIHVybCwgaW50ZXJuYWwsIGFsbG93X21vZGFsIH0gPSBwYXJhbTtcbiAgaWYgKCF1cmwubWF0Y2goZ29vZF91cmwpKSB7XG4gICAgdXJsID0gYCR7ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9Ly8ke3VybH1gO1xuICB9XG4gIGxldCBrZXkgPSBgJHt4fV8ke3l9YDtcbiAgbGV0IHN0YXRlID0gc3RhdGVfY2FjaGVba2V5XTtcbiAgaWYgKCFzdGF0ZSkge1xuICAgIHN0YXRlID0gc3RhdGVfY2FjaGVba2V5XSA9IHsgY2xpY2tlZDogZmFsc2UgfTtcbiAgfVxuICBzdGF0ZS5mcmFtZSA9IGVuZ2luZS5mcmFtZV9pbmRleDtcblxuICBsZXQgcmVjdCA9IHsgeCwgeSwgdywgaCB9O1xuXG4gIGlmIChjYW1lcmEyZC5jbGlwVGVzdFJlY3QocmVjdCkpIHtcbiAgICAvLyBhdCBsZWFzdCBzb21lIGlzIG5vdCBjbGlwcGVkXG4gICAgbGV0IGVsZW0gPSB1aS5nZXRFbGVtKGFsbG93X21vZGFsLCBzdGF0ZS5lbGVtKTtcbiAgICBpZiAoZWxlbSAhPT0gc3RhdGUuZWxlbSkge1xuICAgICAgc3RhdGUuZWxlbSA9IGVsZW07XG4gICAgICBpZiAoZWxlbSkge1xuICAgICAgICAvLyBuZXcgRE9NIGVsZW1lbnQsIGluaXRpYWxpemVcbiAgICAgICAgZWxlbS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBsZXQgYV9lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhX2VsZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBmYWxzZSk7XG4gICAgICAgIGFfZWxlbS50ZXh0Q29udGVudCA9ICcgJztcbiAgICAgICAgYV9lbGVtLmNsYXNzTmFtZSA9ICdnbG92dWlfbGluayBub2dsb3YnO1xuICAgICAgICBhX2VsZW0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG4gICAgICAgIGFfZWxlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpO1xuICAgICAgICBzdGF0ZS51cmwgPSB1cmw7XG4gICAgICAgIGlmIChpbnRlcm5hbCkge1xuICAgICAgICAgIGxldCBkb3duX3g7XG4gICAgICAgICAgbGV0IGRvd25feTtcbiAgICAgICAgICBpbnB1dC5oYW5kbGVUb3VjaGVzKGFfZWxlbSk7XG4gICAgICAgICAgYV9lbGVtLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICBkb3duX3ggPSBldi5wYWdlWDtcbiAgICAgICAgICAgIGRvd25feSA9IGV2LnBhZ2VZO1xuICAgICAgICAgIH07XG4gICAgICAgICAgYV9lbGVtLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoZG93bl94KSB7XG4gICAgICAgICAgICAgIGxldCBkaXN0ID0gYWJzKGV2LnBhZ2VYIC0gZG93bl94KSArIGFicyhldi5wYWdlWSAtIGRvd25feSk7XG4gICAgICAgICAgICAgIGlmIChkaXN0ID4gNTApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmNsaWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW5fZXZlbnQuaGFuZGxlKCdtb3VzZXVwJywgZXYpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChhX2VsZW0pO1xuICAgICAgICBzdGF0ZS5hX2VsZW0gPSBhX2VsZW07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbGVtKSB7XG4gICAgICBpZiAodXJsICE9PSBzdGF0ZS51cmwpIHtcbiAgICAgICAgc3RhdGUuYV9lbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7XG4gICAgICAgIHN0YXRlLnVybCA9IHVybDtcbiAgICAgIH1cblxuICAgICAgbGV0IHBvcyA9IGNhbWVyYTJkLmh0bWxQb3MocmVjdC54LCByZWN0LnkpO1xuICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7cG9zWzBdfSVgO1xuICAgICAgZWxlbS5zdHlsZS50b3AgPSBgJHtwb3NbMV19JWA7XG4gICAgICBsZXQgc2l6ZSA9IGNhbWVyYTJkLmh0bWxTaXplKHJlY3QudywgcmVjdC5oKTtcbiAgICAgIGVsZW0uc3R5bGUud2lkdGggPSBgJHtzaXplWzBdfSVgO1xuICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSBgJHtzaXplWzFdfSVgO1xuICAgIH1cbiAgfVxuICBsZXQgY2xpY2tlZCA9IHN0YXRlLmNsaWNrZWQ7XG4gIHN0YXRlLmNsaWNrZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGNsaWNrZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5rVGV4dChwYXJhbSkge1xuICBsZXQgeyBzdHlsZV9saW5rLCBzdHlsZV9saW5rX2hvdmVyLCB4LCB5LCB6LCBmb250X3NpemUsIHRleHQsIHVybCB9ID0gcGFyYW07XG4gIHRleHQgPSB0ZXh0IHx8IHVybDtcbiAgeiA9IHogfHwgWi5VSTtcbiAgZm9udF9zaXplID0gZm9udF9zaXplIHx8IHVpLmZvbnRfaGVpZ2h0O1xuICAvLyBBbHNvOiBhbnkgcGFyYW1ldGVyIHRvIGxpbmsoKSwgZS5nLiB1cmxcbiAgbGV0IHcgPSB1aS5mb250LmdldFN0cmluZ1dpZHRoKHN0eWxlX2xpbmssIGZvbnRfc2l6ZSwgdGV4dCk7XG4gIGxldCBoID0gZm9udF9zaXplO1xuICBsZXQgbW91c2VvdmVyID0gaW5wdXQubW91c2VPdmVyKHsgeCwgeSwgdywgaCwgcGVlazogdHJ1ZSB9KSAmJiAhaW5wdXQubW91c2VQb3NJc1RvdWNoKCk7XG4gIGxldCBzdHlsZSA9IG1vdXNlb3ZlciA/IHN0eWxlX2xpbmtfaG92ZXIgOiBzdHlsZV9saW5rO1xuICB1aS5mb250LmRyYXdTaXplZChzdHlsZSwgeCwgeSwgeiwgZm9udF9zaXplLCB0ZXh0KTtcbiAgbGV0IHVuZGVybGluZV93ID0gMTtcbiAgdWkuZHJhd0xpbmUoeCwgeSArIGggLSB1bmRlcmxpbmVfdywgeCArIHcsIHkgKyBoIC0gdW5kZXJsaW5lX3csIHogLSAwLjUsIHVuZGVybGluZV93LCAwLjk5LCBzdHlsZS5jb2xvcl92ZWM0KTtcbiAgcGFyYW0udyA9IHc7XG4gIHBhcmFtLmggPSBoO1xuICByZXR1cm4gbGluayhwYXJhbSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5rVGljaygpIHtcbiAgZm9yIChsZXQga2V5IGluIHN0YXRlX2NhY2hlKSB7XG4gICAgbGV0IHN0YXRlID0gc3RhdGVfY2FjaGVba2V5XTtcbiAgICBpZiAoc3RhdGUuZnJhbWUgIT09IGVuZ2luZS5mcmFtZV9pbmRleCAtIDEpIHtcbiAgICAgIGRlbGV0ZSBzdGF0ZV9jYWNoZVtrZXldO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5leHBvcnRzLnN0b3JhZ2VfcHJlZml4ID0gJ2RlbW8nO1xuXG5sZXQgbHNkID0gKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2UudGVzdCA9ICd0ZXN0JztcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59KCkpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAga2V5ID0gYCR7ZXhwb3J0cy5zdG9yYWdlX3ByZWZpeH1fJHtrZXl9YDtcbiAgbGV0IHJldCA9IGxzZFtrZXldO1xuICBpZiAocmV0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldCA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAga2V5ID0gYCR7ZXhwb3J0cy5zdG9yYWdlX3ByZWZpeH1fJHtrZXl9YDtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICBkZWxldGUgbHNkW2tleV07XG4gIH0gZWxzZSB7XG4gICAgbHNkW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SlNPTihrZXksIHZhbHVlKSB7XG4gIHNldChrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRKU09OKGtleSwgZGVmKSB7XG4gIGxldCB2YWx1ZSA9IGdldChrZXkpO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBkZWY7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBpZ25vcmVcbiAgfVxuICByZXR1cm4gZGVmO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGwoa2V5X3ByZWZpeCkge1xuICBsZXQgcHJlZml4ID0gbmV3IFJlZ0V4cChgXiR7ZXhwb3J0cy5zdG9yYWdlX3ByZWZpeH1fJHtrZXlfcHJlZml4IHx8ICcnfWAsICd1Jyk7XG4gIGZvciAobGV0IGtleSBpbiBsc2QpIHtcbiAgICBpZiAoa2V5Lm1hdGNoKHByZWZpeCkpIHtcbiAgICAgIGRlbGV0ZSBsc2Rba2V5XTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydEFsbCgpIHtcbiAgbGV0IG9iaiA9IHt9O1xuICBsZXQgcHJlZml4ID0gbmV3IFJlZ0V4cChgXiR7ZXhwb3J0cy5zdG9yYWdlX3ByZWZpeH1fKC4qKWAsICd1Jyk7XG4gIGZvciAobGV0IGtleSBpbiBsc2QpIHtcbiAgICBsZXQgbSA9IGtleS5tYXRjaChwcmVmaXgpO1xuICAgIGlmIChtKSB7XG4gICAgICBsZXQgdiA9IGxzZFtrZXldO1xuICAgICAgaWYgKHYgJiYgdiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb2JqW21bMV1dID0gdjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRBbGwoc2VyaWFsaXplZCkge1xuICBsZXQgb2JqID0gSlNPTi5wYXJzZShzZXJpYWxpemVkKTtcbiAgY2xlYXJBbGwoKTtcbiAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgIHNldChrZXksIG9ialtrZXldKTtcbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8vIFNvbWUgY29kZSBmcm9tIFR1cmJ1bGVuejogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTMgVHVyYnVsZW56IExpbWl0ZWRcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5leHBvcnQgZnVuY3Rpb24gbWF0NDMoKSB7XG4gIGxldCByID0gbmV3IEZsb2F0MzJBcnJheSgxMik7XG4gIHJbMF0gPSByWzRdID0gcls4XSA9IDE7XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbTQzaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDE7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAwO1xuICBvdXRbMTFdID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG00M211bChvdXQsIGEsIGIpIHtcbiAgbGV0IGEwID0gYVswXTtcbiAgbGV0IGExID0gYVsxXTtcbiAgbGV0IGEyID0gYVsyXTtcbiAgbGV0IGEzID0gYVszXTtcbiAgbGV0IGE0ID0gYVs0XTtcbiAgbGV0IGE1ID0gYVs1XTtcbiAgbGV0IGE2ID0gYVs2XTtcbiAgbGV0IGE3ID0gYVs3XTtcbiAgbGV0IGE4ID0gYVs4XTtcbiAgbGV0IGE5ID0gYVs5XTtcbiAgbGV0IGExMCA9IGFbMTBdO1xuICBsZXQgYTExID0gYVsxMV07XG5cbiAgbGV0IGIwID0gYlswXTtcbiAgbGV0IGIxID0gYlsxXTtcbiAgbGV0IGIyID0gYlsyXTtcbiAgbGV0IGIzID0gYlszXTtcbiAgbGV0IGI0ID0gYls0XTtcbiAgbGV0IGI1ID0gYls1XTtcbiAgbGV0IGI2ID0gYls2XTtcbiAgbGV0IGI3ID0gYls3XTtcbiAgbGV0IGI4ID0gYls4XTtcblxuICBvdXRbMF0gPSAoYjAgKiBhMCArIGIzICogYTEgKyBiNiAqIGEyKTtcbiAgb3V0WzFdID0gKGIxICogYTAgKyBiNCAqIGExICsgYjcgKiBhMik7XG4gIG91dFsyXSA9IChiMiAqIGEwICsgYjUgKiBhMSArIGI4ICogYTIpO1xuICBvdXRbM10gPSAoYjAgKiBhMyArIGIzICogYTQgKyBiNiAqIGE1KTtcbiAgb3V0WzRdID0gKGIxICogYTMgKyBiNCAqIGE0ICsgYjcgKiBhNSk7XG4gIG91dFs1XSA9IChiMiAqIGEzICsgYjUgKiBhNCArIGI4ICogYTUpO1xuICBvdXRbNl0gPSAoYjAgKiBhNiArIGIzICogYTcgKyBiNiAqIGE4KTtcbiAgb3V0WzddID0gKGIxICogYTYgKyBiNCAqIGE3ICsgYjcgKiBhOCk7XG4gIG91dFs4XSA9IChiMiAqIGE2ICsgYjUgKiBhNyArIGI4ICogYTgpO1xuICBvdXRbOV0gPSAoYjAgKiBhOSArIGIzICogYTEwICsgYjYgKiBhMTEgKyBiWzldKTtcbiAgb3V0WzEwXSA9IChiMSAqIGE5ICsgYjQgKiBhMTAgKyBiNyAqIGExMSArIGJbMTBdKTtcbiAgb3V0WzExXSA9IChiMiAqIGE5ICsgYjUgKiBhMTAgKyBiOCAqIGExMSArIGJbMTFdKTtcblxuICByZXR1cm4gb3V0O1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKlxuICBDb252ZXJ0IG1vZGVscyB0byBHTEIgd2l0aDpcbiAgbm9kZV9tb2R1bGVzXFwuYmluXFxnbHRmLXBpcGVsaW5lLmNtZCAtdCAtaSBzcmMvY2xpZW50L21vZGVscy9ib3guZ2x0ZiAtbyBzcmMvY2xpZW50L21vZGVscy9ib3guZ2xiXG4gIC8vIFRoZSAtdCB0ZWxscyBpdCBub3QgdG8gZW1iZWQgdGhlIHRleHR1cmVzLCBidXQganVzdCBsZWF2ZSB0aGUgVVJJc1xuICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZ2VvbSA9IHJlcXVpcmUoJy4vZ2VvbS5qcycpO1xuY29uc3QgZ2xiX3BhcnNlciA9IHJlcXVpcmUoJy4vZ2xiL3BhcnNlci5qcycpO1xuY29uc3QgeyBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTIH0gPSByZXF1aXJlKCcuL2dsYi9nbHRmLXR5cGUtdXRpbHMuanMnKTtcbmNvbnN0IHJlbmRlcmVyID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL3NoYWRlcnMuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyB2ZWM0IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5jb25zdCB7IHdlYkZTR2V0RmlsZSB9ID0gcmVxdWlyZSgnLi93ZWJmcy5qcycpO1xuXG5leHBvcnQgbGV0IGxvYWRfY291bnQgPSAwO1xuXG5leHBvcnQgbGV0IG1vZGVscyA9IHt9O1xuXG5leHBvcnQgbGV0IGRlZmF1bHRfdnNoYWRlcjtcbmV4cG9ydCBsZXQgZGVmYXVsdF9mc2hhZGVyO1xuXG5mdW5jdGlvbiBpbml0U2hhZGVycygpIHtcbiAgZGVmYXVsdF92c2hhZGVyID0gc2hhZGVycy5jcmVhdGUoJ2dsb3Yvc2hhZGVycy9kZWZhdWx0LnZwJyk7XG4gIGRlZmF1bHRfZnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZGVmYXVsdC5mcCcpO1xufVxuXG5mdW5jdGlvbiBNb2RlbCh1cmwpIHtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIGxldCBpZHggPSB1cmwubGFzdEluZGV4T2YoJy8nKTtcbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICB0aGlzLmJhc2VfdXJsID0gdXJsLnNsaWNlKDAsIGlkeCArIDEpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYmFzZV91cmwgPSAnJztcbiAgfVxufVxuXG5Nb2RlbC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgKytsb2FkX2NvdW50O1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG4gIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgIC0tbG9hZF9jb3VudDtcbiAgICB0cnkge1xuICAgICAgbGV0IGFycmF5X2J1ZmZlciA9IHhoci5yZXNwb25zZTsgLy8gTm90ZTogbm90IHhoci5yZXNwb25zZVRleHRcbiAgICAgIGlmICgoeGhyLnN0YXR1cyA9PT0gMjAwIHx8IHhoci5zdGF0dXMgPT09IDApICYmIGFycmF5X2J1ZmZlcikge1xuICAgICAgICB0aGlzLnBhcnNlKGFycmF5X2J1ZmZlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgd2luZG93Lm9uZXJyb3IoJ01vZGVsIGxvYWRpbmcgZXJyb3InLCAnbW9kZWxzLmpzJywgMCwgMCwgZSk7XG4gICAgfVxuICB9O1xuICB4aHIuc2VuZChudWxsKTtcbn07XG5cbmNvbnN0IHNraXBfYXR0ciA9IHtcbiAgJ1RBTkdFTlQnOiB0cnVlLFxufTtcblxuTW9kZWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGdsYl9kYXRhKSB7XG4gIGxldCBnbGIgPSBnbGJfcGFyc2VyLnBhcnNlKGdsYl9kYXRhKTtcbiAgaWYgKCFnbGIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gTWFrZSBHZW9tcyBmb3IgZWFjaCBwcmltaXRpdmVzIHdpdGhpbiBlYWNoIG1lc2hcbiAgbGV0IGdsYl9qc29uID0gZ2xiLmdldEpTT04oKTtcbiAgbGV0IG9ianMgPSBbXTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGdsYl9qc29uLm1lc2hlcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgbWVzaCA9IGdsYl9qc29uLm1lc2hlc1tpaV07XG4gICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG1lc2gucHJpbWl0aXZlcy5sZW5ndGg7ICsramopIHtcbiAgICAgIGxldCBwcmltaXRpdmVzID0gbWVzaC5wcmltaXRpdmVzW2pqXTtcbiAgICAgIGxldCBtYXRlcmlhbCA9IGdsYl9qc29uLm1hdGVyaWFsc1twcmltaXRpdmVzLm1hdGVyaWFsXTtcbiAgICAgIGxldCB0ZXh0dXJlID0gbnVsbDtcbiAgICAgIGlmIChtYXRlcmlhbCkge1xuICAgICAgICAvLyBKdXN0IGdyYWJiaW5nIHRoZSBiYXNlIGNvbG9yIHRleHR1cmUsIG5vdGhpbmcgZWxzZVxuICAgICAgICBsZXQgYmN0ID0gKG1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzIHx8IHt9KS5iYXNlQ29sb3JUZXh0dXJlIHx8IHt9O1xuICAgICAgICBsZXQgdGV4dHVyZV9kZWYgPSBnbGJfanNvbi50ZXh0dXJlcyAmJiBnbGJfanNvbi50ZXh0dXJlc1tiY3QuaW5kZXhdIHx8IHt9O1xuICAgICAgICBsZXQgc2FtcGxlcl9kZWYgPSBnbGJfanNvbi5zYW1wbGVycyAmJiBnbGJfanNvbi5zYW1wbGVyc1t0ZXh0dXJlX2RlZi5zYW1wbGVyXSB8fCB7fTtcbiAgICAgICAgbGV0IGltYWdlID0gZ2xiX2pzb24uaW1hZ2VzICYmIGdsYl9qc29uLmltYWdlc1t0ZXh0dXJlX2RlZi5zb3VyY2VdIHx8IHt9O1xuICAgICAgICBpZiAoaW1hZ2UudXJpKSB7XG4gICAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlX3VybH0ke2ltYWdlLnVyaX1gLFxuICAgICAgICAgICAgZmlsdGVyX21hZzogc2FtcGxlcl9kZWYubWFnRmlsdGVyLFxuICAgICAgICAgICAgZmlsdGVyX21pbjogc2FtcGxlcl9kZWYubWluRmlsdGVyLFxuICAgICAgICAgICAgd3JhcF9zOiBzYW1wbGVyX2RlZi53cmFwUyxcbiAgICAgICAgICAgIHdyYXBfdDogc2FtcGxlcl9kZWYud3JhcFQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZXMubG9hZChwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgZm9ybWF0ID0gW107XG4gICAgICBsZXQgYnVmZmVycyA9IFtdO1xuICAgICAgbGV0IGJpZHggPSBbXTtcbiAgICAgIGxldCB0b3RhbF9zaXplID0gMDtcbiAgICAgIGxldCB2ZXJ0X2NvdW50ID0gMDtcbiAgICAgIGZvciAobGV0IGF0dHIgaW4gcHJpbWl0aXZlcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChza2lwX2F0dHJbYXR0cl0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQoc2hhZGVycy5zZW1hbnRpY1thdHRyXSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IGFjY2Vzc29yID0gZ2xiX2pzb24uYWNjZXNzb3JzW3ByaW1pdGl2ZXMuYXR0cmlidXRlc1thdHRyXV07XG4gICAgICAgIGFzc2VydC5lcXVhbChhY2Nlc3Nvci5jb21wb25lbnRUeXBlLCA1MTI2KTsgLy8gRjMyXG4gICAgICAgIGxldCBnZW9tX2Zvcm1hdCA9IGdsLkZMT0FUO1xuICAgICAgICBsZXQgZ2VvbV9jb3VudCA9IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFNbYWNjZXNzb3IudHlwZV07XG4gICAgICAgIGFzc2VydChnZW9tX2NvdW50KTtcbiAgICAgICAgbGV0IG15X3ZlcnRfY291bnQgPSBhY2Nlc3Nvci5jb3VudC8qIC8gZ2VvbV9jb3VudCovO1xuICAgICAgICBpZiAoIXZlcnRfY291bnQpIHtcbiAgICAgICAgICB2ZXJ0X2NvdW50ID0gbXlfdmVydF9jb3VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnQuZXF1YWwodmVydF9jb3VudCwgbXlfdmVydF9jb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0LnB1c2goW3NoYWRlcnMuc2VtYW50aWNbYXR0cl0sIGdlb21fZm9ybWF0LCBnZW9tX2NvdW50XSk7XG4gICAgICAgIGxldCBidWZmZXIgPSBnbGIuZ2V0QnVmZmVyKGFjY2Vzc29yKTtcbiAgICAgICAgYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGJpZHgucHVzaCgwKTtcbiAgICAgICAgdG90YWxfc2l6ZSArPSBidWZmZXIubGVuZ3RoO1xuICAgICAgfVxuICAgICAgLy8gSW50ZXJsZWF2ZVxuICAgICAgbGV0IHZlcnRzID0gbmV3IEZsb2F0MzJBcnJheSh0b3RhbF9zaXplKTtcbiAgICAgIGxldCBpZHggPSAwO1xuICAgICAgZm9yIChsZXQgdmVydCA9IDA7IHZlcnQgPCB2ZXJ0X2NvdW50OyArK3ZlcnQpIHtcbiAgICAgICAgZm9yIChsZXQgYXR0ciA9IDA7IGF0dHIgPCBmb3JtYXQubGVuZ3RoOyArK2F0dHIpIHtcbiAgICAgICAgICBmb3IgKGxldCBrayA9IDA7IGtrIDwgZm9ybWF0W2F0dHJdWzJdOyArK2trKSB7XG4gICAgICAgICAgICB2ZXJ0c1tpZHgrK10gPSBidWZmZXJzW2F0dHJdW2JpZHhbYXR0cl0rK107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBHZXQgaW5kaWNlc1xuICAgICAgbGV0IGFjY2Vzc29yID0gZ2xiX2pzb24uYWNjZXNzb3JzW3ByaW1pdGl2ZXMuaW5kaWNlc107XG4gICAgICBhc3NlcnQoYWNjZXNzb3IpOyAvLyBtdXN0IGJlIGFuIGluZGV4ZWQgcHJpbWl0aXZlIHNldFxuICAgICAgYXNzZXJ0LmVxdWFsKGFjY2Vzc29yLnR5cGUsICdTQ0FMQVInKTtcbiAgICAgIGxldCBpZHhzID0gZ2xiLmdldEJ1ZmZlcihhY2Nlc3Nvcik7XG4gICAgICBpZiAoYWNjZXNzb3IuY29tcG9uZW50VHlwZSA9PT0gNTEyNSkgeyAvLyBVaW50MzJcbiAgICAgICAgYXNzZXJ0KHZlcnRfY291bnQgPCA2NTUzNik7IC8vIEZpdHMgaW4gMTYtYml0c1xuICAgICAgICAvLyBKdXN0IGNvbnZlcnQgdG8gMTYtYml0XG4gICAgICAgIGlkeHMgPSBuZXcgVWludDE2QXJyYXkoaWR4cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnQuZXF1YWwoYWNjZXNzb3IuY29tcG9uZW50VHlwZSwgNTEyMyk7IC8vIFVpbnQxNlxuICAgICAgfVxuICAgICAgb2Jqcy5wdXNoKHtcbiAgICAgICAgZ2VvbTogZ2VvbS5jcmVhdGUoZm9ybWF0LCB2ZXJ0cywgaWR4cywgcHJpbWl0aXZlcy5tb2RlKSxcbiAgICAgICAgdGV4dHVyZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvLyBUT0RPOiBTb21ldGhpbmcgd2l0aCBub2RlcyB0byB0aWUgdG9nZXRoZXIgYW5kIHBvc2l0aW9uIHRoZSBtZXNoZXNcbiAgdGhpcy5kYXRhID0ge1xuICAgIG9ianMsXG4gICAgLy8gZ2xiLCAtIERvbid0IGtlZXAgdGhpcywgcmVsZWFzZSBpdCBhbmQgYW55IHVucmVmZXJlbmNlZCBkYXRhL2J1ZmZlcnNcbiAgfTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG1hdCkge1xuICByZW5kZXJlci51cGRhdGVNYXRyaWNlcyhtYXQpOyAvLyBiZWZvcmUgc2V0dGluZyBzaGFkZXJcbiAgc2hhZGVycy5iaW5kKGRlZmF1bHRfdnNoYWRlciwgZGVmYXVsdF9mc2hhZGVyLCB7XG4gICAgY29sb3I6IHZlYzQoMSwgMSwgMSwgMSksXG4gIH0pO1xuICBsZXQgb2JqcyA9IHRoaXMuZGF0YS5vYmpzO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgb2Jqcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgb2JqID0gb2Jqc1tpaV07XG4gICAgaWYgKG9iai50ZXh0dXJlKSB7XG4gICAgICB0ZXh0dXJlcy5iaW5kKDAsIG9iai50ZXh0dXJlKTtcbiAgICB9XG4gICAgb2JqLmdlb20uZHJhdygpO1xuICB9XG59O1xuXG4vLyBKdXN0IGRyYXcgdGhlIGdlb21ldHJ5LCB3aXRob3V0IGFueSBvdGhlciBiaW5kaW5nXG5Nb2RlbC5wcm90b3R5cGUuZHJhd0dlb20gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvYmpzID0gdGhpcy5kYXRhLm9ianM7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBvYmpzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBvYmogPSBvYmpzW2lpXTtcbiAgICBvYmouZ2VvbS5kcmF3KCk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKHVybCkge1xuICBpZiAobW9kZWxzW3VybF0pIHtcbiAgICByZXR1cm4gbW9kZWxzW3VybF07XG4gIH1cbiAgbGV0IG1vZGVsID0gbW9kZWxzW3VybF0gPSBuZXcgTW9kZWwodXJsKTtcbiAgbW9kZWwuZGF0YSA9IG1vZGVscy5ib3guZGF0YTsgLy8gc3R1YiB1bnRpbCBsb2FkZWRcbiAgbW9kZWwubG9hZCgpO1xuICByZXR1cm4gbW9kZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKCkge1xuICBpbml0U2hhZGVycygpO1xuICBsZXQgbW9kZWxfYm94ID0gbW9kZWxzLmJveCA9IG5ldyBNb2RlbCgnYm94Jyk7XG4gIG1vZGVsX2JveC5wYXJzZSh3ZWJGU0dldEZpbGUoJ2dsb3YvbW9kZWxzL2JveF90ZXh0dXJlZF9lbWJlZC5nbGInKS5idWZmZXIpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgeyBmaWxld2F0Y2hTdGFydHVwIH0gPSByZXF1aXJlKCcuL2ZpbGV3YXRjaC5qcycpO1xuY29uc3QgcGFja2V0ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3BhY2tldC5qcycpO1xuY29uc3Qgc3Vic2NyaXB0aW9uX21hbmFnZXIgPSByZXF1aXJlKCcuL3N1YnNjcmlwdGlvbl9tYW5hZ2VyLmpzJyk7XG5jb25zdCBXU0NsaWVudCA9IHJlcXVpcmUoJy4vd3NjbGllbnQuanMnKS5XU0NsaWVudDtcbmNvbnN0IHdzY29tbW9uID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3dzY29tbW9uLmpzJyk7XG5cbmxldCBjbGllbnQ7XG5sZXQgc3VicztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQocGFyYW1zKSB7XG4gIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgaWYgKHBhcmFtcy5wdmVyKSB7XG4gICAgd3Njb21tb24uUFJPVE9DT0xfVkVSU0lPTiA9IHBhcmFtcy5wdmVyO1xuICB9XG4gIGlmIChTdHJpbmcoZG9jdW1lbnQubG9jYXRpb24pLm1hdGNoKC9eaHR0cHM/OlxcL1xcL2xvY2FsaG9zdC8pKSB7XG4gICAgY29uc29sZS5sb2coJ1BhY2tldERlYnVnOiBPTicpO1xuICAgIHBhY2tldC5kZWZhdWx0X2ZsYWdzIHw9IHBhY2tldC5QQUNLRVRfREVCVUc7XG4gIH1cbiAgY2xpZW50ID0gbmV3IFdTQ2xpZW50KHBhcmFtcy5wYXRoKTtcbiAgc3VicyA9IHN1YnNjcmlwdGlvbl9tYW5hZ2VyLmNyZWF0ZShjbGllbnQsIHBhcmFtcy5jbWRfcGFyc2UpO1xuICBzdWJzLmF1dG9fY3JlYXRlX3VzZXIgPSBCb29sZWFuKHBhcmFtcy5hdXRvX2NyZWF0ZV91c2VyKTtcbiAgd2luZG93LnN1YnMgPSBzdWJzOyAvLyBmb3IgZGVidWdnaW5nXG4gIGV4cG9ydHMuc3VicyA9IHN1YnM7XG4gIGV4cG9ydHMuY2xpZW50ID0gY2xpZW50O1xuICBmaWxld2F0Y2hTdGFydHVwKGNsaWVudCk7XG5cbiAgaWYgKHBhcmFtcy5lbmdpbmUpIHtcbiAgICBwYXJhbXMuZW5naW5lLmFkZFRpY2tGdW5jKChkdCkgPT4ge1xuICAgICAgY2xpZW50LmNoZWNrRGlzY29ubmVjdCgpO1xuICAgICAgc3Vicy50aWNrKGR0KTtcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBidWlsZF90aW1lc3RhbXBfc3RyaW5nID0gbmV3IERhdGUoTnVtYmVyKEJVSUxEX1RJTUVTVEFNUCkpXG4gIC50b0lTT1N0cmluZygpXG4gIC5yZXBsYWNlKCdUJywgJyAnKVxuICAuc2xpY2UoNSwgLTgpO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkU3RyaW5nKCkge1xuICByZXR1cm4gYnVpbGRfdGltZXN0YW1wX3N0cmluZztcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgZ2xvdl9lbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnLi9uZXQuanMnKTtcbmNvbnN0IHBlcmYgPSByZXF1aXJlKCcuL3BlcmYuanMnKTtcbmNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHdzc3RhdHMsIHdzc3RhdHNfb3V0IH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vd3Njb21tb24uanMnKTtcbmNvbnN0IHsgYWJzLCBmbG9vciwgbWF4LCBtaW4sIFBJLCBzcXJ0IH0gPSBNYXRoO1xuY29uc3QgVFdPX1BJID0gUEkgKiAyO1xuY29uc3QgRVBTSUxPTiA9IDAuMDE7XG5cbmxldCB0aGU7XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgc2hvd19waW5nOiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxufSk7XG5wZXJmLmFkZE1ldHJpYyh7XG4gIG5hbWU6ICdwaW5nJyxcbiAgc2hvd19zdGF0OiAnc2hvd19waW5nJyxcbiAgbGFiZWxzOiB7XG4gICAgJ3Bpbmc6ICc6ICgpID0+IHtcbiAgICAgIGlmICghdGhlKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGxldCBwdCA9IHRoZS5nZXRQaW5nKDIwMDApO1xuICAgICAgaWYgKCFwdCB8fCBwdC5mYWRlIDwgMC4wMDEpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgdmFsdWU6IGAke3B0LnBpbmcudG9GaXhlZCgxKX1gLCBhbHBoYTogbWluKDEsIHB0LmZhZGUgKiAzKSB9O1xuICAgIH0sXG4gIH0sXG59KTtcbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgc2hvd19uZXQ6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMl0sXG4gIH0sXG59KTtcbmxldCBsYXN0X3dzc3RhdHMgPSB7IG1zZ3M6IDAsIGJ5dGVzOiAwLCB0aW1lOiBEYXRlLm5vdygpLCBkbTogMCwgZGI6IDAgfTtcbmxldCBsYXN0X3dzc3RhdHNfb3V0ID0geyBtc2dzOiAwLCBieXRlczogMCwgdGltZTogRGF0ZS5ub3coKSwgZG06IDAsIGRiOiAwIH07XG5mdW5jdGlvbiBiYW5kd2lkdGgoc3RhdHMsIGxhc3QpIHtcbiAgbGV0IG5vdyA9IERhdGUubm93KCk7XG4gIGlmIChub3cgLSBsYXN0LnRpbWUgPiAxMDAwKSB7XG4gICAgbGFzdC5kbSA9IHN0YXRzLm1zZ3MgLSBsYXN0Lm1zZ3M7XG4gICAgbGFzdC5kYiA9IHN0YXRzLmJ5dGVzIC0gbGFzdC5ieXRlcztcbiAgICBsYXN0Lm1zZ3MgPSBzdGF0cy5tc2dzO1xuICAgIGxhc3QuYnl0ZXMgPSBzdGF0cy5ieXRlcztcbiAgICBpZiAobm93IC0gbGFzdC50aW1lID4gMjAwMCkgeyAvLyBzdGFsbFxuICAgICAgbGFzdC50aW1lID0gbm93O1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0LnRpbWUgKz0gMTAwMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGAkeyhsYXN0LmRiLzEwMjQpLnRvRml4ZWQoMil9IGtiICgke2xhc3QuZG19KWA7XG59XG5wZXJmLmFkZE1ldHJpYyh7XG4gIG5hbWU6ICduZXQnLFxuICBzaG93X3N0YXQ6ICdzaG93X25ldCcsXG4gIHdpZHRoOiA1LFxuICBsYWJlbHM6IHtcbiAgICAnZG93bjogJzogYmFuZHdpZHRoLmJpbmQobnVsbCwgd3NzdGF0cywgbGFzdF93c3N0YXRzKSxcbiAgICAndXA6ICc6IGJhbmR3aWR0aC5iaW5kKG51bGwsIHdzc3RhdHNfb3V0LCBsYXN0X3dzc3RhdHNfb3V0KSxcbiAgfSxcbn0pO1xuXG5jb25zdCB2YWxpZF9vcHRpb25zID0gW1xuICAvLyBOdW1lcmljIHBhcmFtZXRlcnNcbiAgJ24nLCAnZGltX3BvcycsICdkaW1fcm90JywgLy8gZGltZW5zaW9uc1xuICAnc2VuZF90aW1lJywgJ3dpbmRvdycsICdzbmFwX2ZhY3RvcicsICdzbW9vdGhfd2luZG93cycsICdzbW9vdGhfZmFjdG9yJywgJ2RlZmF1bHRfcG9zJyxcbiAgLy8gQ2FsbGJhY2tzXG4gICdvbl9wb3NfdXBkYXRlJywgJ29uX3N0YXRlX3VwZGF0ZScsXG5dO1xuXG5mdW5jdGlvbiBOZXRQb3NpdGlvbk1hbmFnZXIob3B0aW9ucykge1xuICB0aGlzLm9uX2NoYW5uZWxfZGF0YSA9IHRoaXMub25DaGFubmVsRGF0YS5iaW5kKHRoaXMpO1xuICB0aGlzLm9uX3N1YnNjcmliZSA9IHRoaXMub25DaGFubmVsU3Vic2NyaWJlLmJpbmQodGhpcyk7XG4gIHRoaXMucmVpbml0KG9wdGlvbnMpO1xufVxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5kZWluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICB0aGlzLmNoYW5uZWwucmVtb3ZlTGlzdGVuZXIoJ2NoYW5uZWxfZGF0YScsIHRoaXMub25fY2hhbm5lbF9kYXRhKTtcbiAgICB0aGlzLmNoYW5uZWwucmVtb3ZlTGlzdGVuZXIoJ3N1YnNjcmliZScsIHRoaXMub25fc3Vic2NyaWJlKTtcbiAgfVxufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5vbkNoYW5uZWxTdWJzY3JpYmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAvLyBpbml0aWFsIGNvbm5lY3Rpb24gb3IgcmVjb25uZWN0XG4gIHRoaXMubGFzdF9zZW5kLnNlbmRpbmcgPSBmYWxzZTsgLy8gaWdub3JlIHNlbmQgb24gcHJldmlvdXMsIGRpc2Nvbm5lY3RlZCBsaW5rXG4gIHRoaXMubGFzdF9zZW5kLnRpbWUgPSAwO1xuICB0aGlzLmNsaWVudF9pZCA9IG5ldC5jbGllbnQuaWQ7XG59O1xuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uQ2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgbW9kX2tleSwgbW9kX3ZhbHVlKSB7XG4gIGlmIChtb2Rfa2V5KSB7XG4gICAgbGV0IG0gPSBtb2Rfa2V5Lm1hdGNoKC9ecHVibGljXFwuY2xpZW50c1xcLihbXi5dKylcXC4oLispJC8pO1xuICAgIGlmIChtKSB7XG4gICAgICBsZXQgY2xpZW50X2lkID0gbVsxXTtcbiAgICAgIGxldCBmaWVsZCA9IG1bMl07XG4gICAgICBpZiAoZmllbGQgPT09ICdwb3MnKSB7XG4gICAgICAgIHRoaXMub3RoZXJDbGllbnRQb3NDaGFuZ2VkKGNsaWVudF9pZCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vbl9jbGllbnRfY2hhbmdlKSB7XG4gICAgICAgIGxldCBwY2QgPSB0aGlzLnBlcl9jbGllbnRfZGF0YVtjbGllbnRfaWRdO1xuICAgICAgICBpZiAocGNkKSB7XG4gICAgICAgICAgdGhpcy5vbl9jbGllbnRfY2hhbmdlKHBjZCwgZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbW9kX3ZhbHVlKSB7XG4gICAgICBtID0gbW9kX2tleS5tYXRjaCgvXnB1YmxpY1xcLmNsaWVudHNcXC4oW14uXSspJC8pO1xuICAgICAgaWYgKG0pIHtcbiAgICAgICAgLy8gb3RoZXIgY2xpZW50IGRpc2Nvbm5lY3RlZFxuICAgICAgICBkZWxldGUgdGhpcy5wZXJfY2xpZW50X2RhdGFbbVsxXV07XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkYXRhICYmIGRhdGEucHVibGljICYmIGRhdGEucHVibGljLmNsaWVudHMpIHtcbiAgICAgIGZvciAoY29uc3QgY2xpZW50X2lkIGluIGRhdGEucHVibGljLmNsaWVudHMpIHtcbiAgICAgICAgY29uc3QgY2xpZW50X2RhdGEgPSBkYXRhLnB1YmxpYy5jbGllbnRzW2NsaWVudF9pZF07XG4gICAgICAgIGlmIChjbGllbnRfZGF0YS5wb3MpIHtcbiAgICAgICAgICB0aGlzLm90aGVyQ2xpZW50UG9zQ2hhbmdlZChjbGllbnRfaWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnZlYyA9IGZ1bmN0aW9uIChmaWxsKSB7XG4gIGxldCByID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm4pO1xuICBpZiAoZmlsbCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm47ICsraWkpIHtcbiAgICAgIHJbaWldID0gZmlsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS52Y29weSA9IGZ1bmN0aW9uIChkc3QsIHNyYykge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5uOyArK2lpKSB7XG4gICAgZHN0W2lpXSA9IHNyY1tpaV07XG4gIH1cbiAgcmV0dXJuIGRzdDtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLmFyciA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgbGV0IGFyciA9IG5ldyBBcnJheSh0aGlzLm4pO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5uOyArK2lpKSB7XG4gICAgYXJyW2lpXSA9IHZlY1tpaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnZzYW1lID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubjsgKytpaSkge1xuICAgIGlmIChhYnMoYVtpaV0gLSBiW2lpXSkgPiBFUFNJTE9OKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUudmxlbmd0aCA9IGZ1bmN0aW9uIChhKSB7XG4gIGxldCByID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubjsgKytpaSkge1xuICAgIGxldCBkID0gYVtpaV07XG4gICAgciArPSBkICogZDtcbiAgfVxuICByZXR1cm4gc3FydChyKTtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnZkaXN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgdGhpcy52c3ViKHRoaXMudGVtcF92ZWMsIGEsIGIpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5kaW1fcm90OyArK2lpKSB7XG4gICAgbGV0IGpqID0gdGhpcy5kaW1fcG9zICsgaWk7XG4gICAgbGV0IGQgPSBhYnModGhpcy50ZW1wX3ZlY1tqal0pO1xuICAgIGlmIChkID4gUEkpIHtcbiAgICAgIHRoaXMudGVtcF92ZWNbampdID0gZCAtIGZsb29yKChkICsgUEkpIC8gVFdPX1BJKSAqIFRXT19QSTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXMudmxlbmd0aCh0aGlzLnRlbXBfdmVjKTtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnZzdWIgPSBmdW5jdGlvbiAoZHN0LCBhLCBiKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm47ICsraWkpIHtcbiAgICBkc3RbaWldID0gYVtpaV0gLSBiW2lpXTtcbiAgfVxuICByZXR1cm4gZHN0O1xufTtcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUudnNjYWxlID0gZnVuY3Rpb24gKGRzdCwgYSwgc2NhbGFyKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm47ICsraWkpIHtcbiAgICBkc3RbaWldID0gYVtpaV0gKiBzY2FsYXI7XG4gIH1cbn07XG5cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUucmVpbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdGhpcy5kZWluaXQoKTtcbiAgdGhlID0gdGhpcztcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5wZXJfY2xpZW50X2RhdGEgPSB7fTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHZhbGlkX29wdGlvbnMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGZpZWxkID0gdmFsaWRfb3B0aW9uc1tpaV07XG4gICAgaWYgKG9wdGlvbnNbZmllbGRdKSB7XG4gICAgICB0aGlzW2ZpZWxkXSA9IG9wdGlvbnNbZmllbGRdO1xuICAgIH1cbiAgfVxuXG4gIGFzc2VydC5lcXVhbCh0aGlzLmRpbV9wb3MgKyB0aGlzLmRpbV9yb3QsIHRoaXMubik7XG5cbiAgaWYgKCF0aGlzLmRlZmF1bHRfcG9zKSB7XG4gICAgdGhpcy5kZWZhdWx0X3BvcyA9IHRoaXMudmVjKCk7XG4gIH1cbiAgaWYgKCF0aGlzLnRlbXBfdmVjKSB7XG4gICAgdGhpcy50ZW1wX3ZlYyA9IHRoaXMudmVjKCk7XG4gIH1cbiAgaWYgKCF0aGlzLnRlbXBfZGVsdGEpIHtcbiAgICB0aGlzLnRlbXBfZGVsdGEgPSB0aGlzLnZlYygpO1xuICB9XG5cbiAgdGhpcy5jaGFubmVsID0gb3B0aW9ucy5jaGFubmVsOyAvLyBOZXZlciBpbmhlcml0aW5nIHRoaXMgb3ZlciByZWluaXQoKVxuICB0aGlzLmxhc3Rfc2VuZCA9IHtcbiAgICBwb3M6IHRoaXMudmVjKC0xKSxcbiAgICBzZW5kaW5nOiBmYWxzZSxcbiAgICBzZW5kX3RpbWU6IDAsXG4gIH07XG4gIHRoaXMuZXZlcl9yZWNlaXZlZF9jaGFyYWN0ZXIgPSBmYWxzZTtcblxuICB0aGlzLm9uX2NsaWVudF9jaGFuZ2UgPSBvcHRpb25zLm9uX2NsaWVudF9jaGFuZ2U7XG5cbiAgaWYgKHRoaXMuY2hhbm5lbCkge1xuICAgIHRoaXMuY2hhbm5lbC5vbignY2hhbm5lbF9kYXRhJywgdGhpcy5vbl9jaGFubmVsX2RhdGEpO1xuICAgIHRoaXMuY2hhbm5lbC5vblN1YnNjcmliZSh0aGlzLm9uX3N1YnNjcmliZSk7XG4gIH1cbn07XG5cbi8vIGNiKGNsaWVudF9pZCwgcG9zWzJdKVxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvc2l0aW9uVXBkYXRlID0gZnVuY3Rpb24gKGNiKSB7XG4gIHRoaXMub25fcG9zX3VwZGF0ZSA9IGNiO1xufTtcblxuLy8gY2IoY2xpZW50X2lkLCBuZXdfc3RhdGUpXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uU3RhdGVVcGRhdGUgPSBmdW5jdGlvbiAoY2IpIHtcbiAgdGhpcy5vbl9zdGF0ZV91cGRhdGUgPSBjYjtcbn07XG5cbmZ1bmN0aW9uIHN5bmNQb3NXaXRoQ2FsbGVyKG5wbSwgb25fcG9zX3NldF9jYikge1xuICBucG0udmNvcHkobnBtLmxhc3Rfc2VuZC5wb3MsIG5wbS5kZWZhdWx0X3Bvcyk7XG4gIGxldCBuZXdfcG9zID0gb25fcG9zX3NldF9jYihucG0ubGFzdF9zZW5kLnBvcyk7XG4gIGlmIChuZXdfcG9zKSB7XG4gICAgbnBtLnZjb3B5KG5wbS5sYXN0X3NlbmQucG9zLCBuZXdfcG9zKTtcbiAgfVxufVxuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLmNoZWNrTmV0ID0gZnVuY3Rpb24gKG9uX3Bvc19zZXRfY2IpIHtcbiAgaWYgKCFuZXQuY2xpZW50LmNvbm5lY3RlZCB8fCAhdGhpcy5jaGFubmVsIHx8ICF0aGlzLmNoYW5uZWwuZGF0YS5wdWJsaWMpIHtcbiAgICAvLyBOb3QgeWV0IGluIHJvb20sIGRvIG5vdGhpbmdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobmV0LmNsaWVudC5pZCAhPT0gdGhpcy5jbGllbnRfaWQpIHtcbiAgICAvLyBIYXZlbid0IHlldCBzdWJzY3JpYmVkIHRvIHRoaXMgcm9vbSB1bmRlciB0aGUgbmV3IGNsaWVudF9pZFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgbWUgPSB0aGlzLmNoYW5uZWwuZ2V0Q2hhbm5lbERhdGEoYHB1YmxpYy5jbGllbnRzLiR7dGhpcy5jbGllbnRfaWR9YCwge30pO1xuICBpZiAoIW1lLnBvcyB8fCAhbWUucG9zLmN1ciB8fCB0eXBlb2YgbWUucG9zLmN1clswXSAhPT0gJ251bWJlcicpIHtcbiAgICBpZiAodGhpcy5ldmVyX3JlY2VpdmVkX2NoYXJhY3Rlcikge1xuICAgICAgLy8gd2UgbXVzdCBiZSByZWNvbm5lY3RpbmcsIHVzZSBsYXN0IHJlcGxpY2F0ZWQgcG9zaXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZnJlc2ggY29ubmVjdCwgdXNlIGRlZmF1bHQgcG9zaXRpb24sIG9yIGFzayBmb3IgaXQgZnJvbSBjYWxsZXJcbiAgICAgIHN5bmNQb3NXaXRoQ2FsbGVyKHRoaXMsIG9uX3Bvc19zZXRfY2IpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5uZWwuc2V0Q2hhbm5lbERhdGEoYHB1YmxpYy5jbGllbnRzLiR7dGhpcy5jbGllbnRfaWR9LnBvc2AsIHtcbiAgICAgIGN1cjogdGhpcy5hcnIodGhpcy5sYXN0X3NlbmQucG9zKSwgLy8gRG8gbm90IHNlbmQgYXMgRmxvYXQ2NEFycmF5XG4gICAgfSk7XG4gICAgdGhpcy5ldmVyX3JlY2VpdmVkX2NoYXJhY3RlciA9IHRydWU7XG4gIH0gZWxzZSBpZiAoIXRoaXMuZXZlcl9yZWNlaXZlZF9jaGFyYWN0ZXIpIHtcbiAgICBzeW5jUG9zV2l0aENhbGxlcih0aGlzLCBvbl9wb3Nfc2V0X2NiKTtcbiAgICB0aGlzLmV2ZXJfcmVjZWl2ZWRfY2hhcmFjdGVyID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU15UG9zID0gZnVuY3Rpb24gKGNoYXJhY3Rlcl9wb3MsIGFuaW1fc3RhdGUpIHtcbiAgaWYgKCF0aGlzLnZzYW1lKGNoYXJhY3Rlcl9wb3MsIHRoaXMubGFzdF9zZW5kLnBvcykgfHwgYW5pbV9zdGF0ZSAhPT0gdGhpcy5sYXN0X3NlbmQuYW5pbV9zdGF0ZSkge1xuICAgIC8vIHBvcyBvciBhbmltX3N0YXRlIGNoYW5nZWRcbiAgICBjb25zdCBub3cgPSBnbG92X2VuZ2luZS5nZXRGcmFtZVRpbWVzdGFtcCgpO1xuICAgIGlmICghdGhpcy5sYXN0X3NlbmQuc2VuZGluZyAmJiAoIXRoaXMubGFzdF9zZW5kLnRpbWUgfHwgbm93IC0gdGhpcy5sYXN0X3NlbmQudGltZSA+IHRoaXMuc2VuZF90aW1lKSkge1xuICAgICAgLy8gZG8gc2VuZCFcbiAgICAgIHRoaXMubGFzdF9zZW5kLnNlbmRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5sYXN0X3NlbmQudGltZSA9IG5vdztcbiAgICAgIHRoaXMubGFzdF9zZW5kLmhydGltZSA9IGdsb3ZfZW5naW5lLmhybm93KCk7XG4gICAgICB0aGlzLmxhc3Rfc2VuZC5zcGVlZCA9IDA7XG4gICAgICBpZiAodGhpcy5sYXN0X3NlbmQuc2VuZF90aW1lKSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSBub3cgLSB0aGlzLmxhc3Rfc2VuZC5zZW5kX3RpbWU7XG4gICAgICAgIHRoaXMubGFzdF9zZW5kLnNwZWVkID0gdGhpcy52ZGlzdCh0aGlzLmxhc3Rfc2VuZC5wb3MsIGNoYXJhY3Rlcl9wb3MpIC8gdGltZTtcbiAgICAgICAgaWYgKHRoaXMubGFzdF9zZW5kLnNwZWVkIDwgMC4wMDEpIHtcbiAgICAgICAgICB0aGlzLmxhc3Rfc2VuZC5zcGVlZCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdF9zZW5kLnNlbmRfdGltZSA9IG5vdztcbiAgICAgIHRoaXMudmNvcHkodGhpcy5sYXN0X3NlbmQucG9zLCBjaGFyYWN0ZXJfcG9zKTtcbiAgICAgIHRoaXMubGFzdF9zZW5kLmFuaW1fc3RhdGUgPSBhbmltX3N0YXRlO1xuICAgICAgdGhpcy5jaGFubmVsLnNldENoYW5uZWxEYXRhKFxuICAgICAgICBgcHVibGljLmNsaWVudHMuJHt0aGlzLmNsaWVudF9pZH0ucG9zYCwge1xuICAgICAgICAgIGN1cjogdGhpcy5hcnIodGhpcy5sYXN0X3NlbmQucG9zKSwgLy8gRG8gbm90IHNlbmQgYXMgRmxvYXQ2NEFycmF5XG4gICAgICAgICAgc3RhdGU6IHRoaXMubGFzdF9zZW5kLmFuaW1fc3RhdGUsIHNwZWVkOiB0aGlzLmxhc3Rfc2VuZC5zcGVlZCxcbiAgICAgICAgICBxOiAxLFxuICAgICAgICB9LCBmYWxzZSwgKCkgPT4ge1xuICAgICAgICAgIC8vIGNvdWxkIGF2b2lkIG5lZWRpbmcgdGhpcyByZXNwb25zZSBmdW5jdGlvbiAoYW5kIGFjayBwYWNrZXQpIGlmIHdlXG4gICAgICAgICAgLy8gaW5zdGVhZCBqdXN0IHdhdGNoIGZvciB0aGUgYXBwbHlfY2hhbm5lbF9kYXRhIG1lc3NhZ2UgY29udGFpbmluZ1xuICAgICAgICAgIC8vIChhcHByb3hpbWF0ZWx5KSB3aGF0IHdlIHNlbnRcbiAgICAgICAgICB0aGlzLmxhc3Rfc2VuZC5zZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgbGV0IGVuZCA9IGdsb3ZfZW5naW5lLmdldEZyYW1lVGltZXN0YW1wKCk7XG4gICAgICAgICAgbGV0IGhyZW5kID0gZ2xvdl9lbmdpbmUuaHJub3coKTtcbiAgICAgICAgICBsZXQgcm91bmRfdHJpcCA9IGhyZW5kIC0gdGhpcy5sYXN0X3NlbmQuaHJ0aW1lO1xuICAgICAgICAgIHRoaXMucGluZ190aW1lID0gcm91bmRfdHJpcDtcbiAgICAgICAgICB0aGlzLnBpbmdfdGltZV90aW1lID0gZW5kO1xuICAgICAgICAgIGlmIChyb3VuZF90cmlwID4gdGhpcy5zZW5kX3RpbWUpIHtcbiAgICAgICAgICAgIC8vIGhpY2N1cCwgZGVsYXkgbmV4dCBzZW5kXG4gICAgICAgICAgICB0aGlzLmxhc3Rfc2VuZC50aW1lID0gZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0UGluZyA9IGZ1bmN0aW9uIChtYXhfYWdlKSB7XG4gIGlmICghdGhpcy5waW5nX3RpbWVfdGltZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBhZ2UgPSBnbG92X2VuZ2luZS5nZXRGcmFtZVRpbWVzdGFtcCgpIC0gdGhpcy5waW5nX3RpbWVfdGltZTtcbiAgaWYgKGFnZSA+IG1heF9hZ2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHBpbmc6IHRoaXMucGluZ190aW1lLFxuICAgIGZhZGU6IDEgLSBhZ2UgLyBtYXhfYWdlLFxuICB9O1xufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRQb3MgPSBmdW5jdGlvbiAoY2xpZW50X2lkKSB7XG4gIGxldCBwY2QgPSB0aGlzLnBlcl9jbGllbnRfZGF0YVtjbGllbnRfaWRdO1xuICBpZiAoIXBjZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBwY2QucG9zO1xufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRQQ0QgPSBmdW5jdGlvbiAoY2xpZW50X2lkKSB7XG4gIHJldHVybiB0aGlzLnBlcl9jbGllbnRfZGF0YVtjbGllbnRfaWRdO1xufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5vdGhlckNsaWVudFBvc0NoYW5nZWQgPSBmdW5jdGlvbiAoY2xpZW50X2lkKSB7XG4gIGNvbnN0IGNsaWVudF9wb3MgPSB0aGlzLmNoYW5uZWwuZ2V0Q2hhbm5lbERhdGEoYHB1YmxpYy5jbGllbnRzLiR7Y2xpZW50X2lkfS5wb3NgKTtcbiAgaWYgKCFjbGllbnRfcG9zIHx8ICFjbGllbnRfcG9zLmN1ciB8fCB0eXBlb2YgY2xpZW50X3Bvcy5jdXJbMF0gIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGNsaWVudF9wb3MgaXMgeyBjdXIsIHN0YXRlLCBzcGVlZCB9XG4gIGxldCBwY2QgPSB0aGlzLnBlcl9jbGllbnRfZGF0YVtjbGllbnRfaWRdO1xuICBpZiAoIXBjZCkge1xuICAgIHBjZCA9IHRoaXMucGVyX2NsaWVudF9kYXRhW2NsaWVudF9pZF0gPSB7fTtcbiAgICBwY2QucG9zID0gdGhpcy52Y29weSh0aGlzLnZlYygpLCBjbGllbnRfcG9zLmN1cik7XG4gICAgcGNkLm5ldF9zcGVlZCA9IDA7XG4gICAgcGNkLm5ldF9wb3MgPSB0aGlzLnZlYygpO1xuICAgIHBjZC5pbXB1bHNlID0gdGhpcy52ZWMoKTtcbiAgICBwY2QubmV0X3N0YXRlID0gJ2lkbGVfZG93bic7XG4gICAgcGNkLmFuaW1fc3RhdGUgPSAnaWRsZV9kb3duJztcbiAgfVxuICBpZiAoY2xpZW50X3Bvcy5zdGF0ZSkge1xuICAgIHBjZC5uZXRfc3RhdGUgPSBjbGllbnRfcG9zLnN0YXRlO1xuICB9XG4gIHRoaXMudmNvcHkocGNkLm5ldF9wb3MsIGNsaWVudF9wb3MuY3VyKTtcbiAgcGNkLm5ldF9zcGVlZCA9IGNsaWVudF9wb3Muc3BlZWQ7XG5cbiAgLy8gS2VlcCBwY2QucG9zW3JvdF0gd2l0aGluIFBJIG9mIHBjZC5uZXRfcG9zLCBzbyBpbnRlcnBvbGF0aW9uIGFsd2F5cyBnb2VzIHRoZSByaWdodCB3YXlcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZGltX3JvdDsgKytpaSkge1xuICAgIGxldCBqaiA9IHRoaXMuZGltX3BvcyArIGlpO1xuICAgIHdoaWxlIChwY2QucG9zW2pqXSA+IHBjZC5uZXRfcG9zW2pqXSArIFBJKSB7XG4gICAgICBwY2QucG9zW2pqXSAtPSBUV09fUEk7XG4gICAgfVxuICAgIHdoaWxlIChwY2QucG9zW2pqXSA8IHBjZC5uZXRfcG9zW2pqXSAtIFBJKSB7XG4gICAgICBwY2QucG9zW2pqXSArPSBUV09fUEk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBpbnRlcnBvbGF0aW9uIGxvZ2ljIHRha2VuIGZyb20gU3Bsb2R5XG4gIC8vIERvZXNuJ3QgZG8gZ3JlYXQgd2l0aCBwaHlzaWNzLWJhc2VkIGp1bXBzIHRob3VnaFxuICBjb25zdCBkZWx0YSA9IHRoaXMudnN1Yih0aGlzLnRlbXBfZGVsdGEsIHBjZC5uZXRfcG9zLCBwY2QucG9zKTtcbiAgY29uc3QgZGlzdCA9IHRoaXMudmxlbmd0aChkZWx0YSk7XG5cbiAgaWYgKGRpc3QgPiAwKSB7XG4gICAgY29uc3QgdGltZV90b19kZXN0ID0gZGlzdCAvIHBjZC5uZXRfc3BlZWQ7XG4gICAgaWYgKHRpbWVfdG9fZGVzdCA8IHRoaXMuc2VuZF90aW1lICsgdGhpcy53aW5kb3cpIHtcbiAgICAgIC8vIFdvdWxkIGdldCB0aGVyZSBpbiB0aGUgZXhwZWN0ZWQgdGltZSwgdXNlIHRoaXMgc3BlZWRcbiAgICAgIHRoaXMudnNjYWxlKHBjZC5pbXB1bHNlLCBkZWx0YSwgcGNkLm5ldF9zcGVlZCAvIGRpc3QpO1xuICAgIH0gZWxzZSBpZiAodGltZV90b19kZXN0IDwgdGhpcy5zZW5kX3RpbWUgKyB0aGlzLndpbmRvdyAqIHRoaXMuc21vb3RoX3dpbmRvd3MpIHsgLy8gMC41c1xuICAgICAgLy8gV2UnbGwgY291bGQgYmUgdGhlcmUgaW4gdW5kZXIgaGFsZiBhIHNlY29uZCwgdHJ5IHRvIGNhdGNoIHVwIHNtb290aGx5XG4gICAgICAvLyBVc2luZyBwcm92aWRlZCBzcGVlZCBpcyB0b28gc2xvdywgZ28gZmFzdGVyLCB0aG91Z2ggbm8gc2xvd2VyIHRoYW4gd2Ugd2VyZSBnb2luZ1xuICAgICAgLy8gKGluIGNhc2UgdGhpcyBpcyB0aGUgbGFzdCBvZiBtdWx0aXBsZSBkZWxheWVkIHVwZGF0ZXMgYW5kIHRoZSBsYXN0IHVwZGF0ZSB3YXMgZ29pbmcgYSB0aW55IGRpc3RhbmNlIHNsb3dseSlcbiAgICAgIGNvbnN0IG9sZF9zcGVlZCA9IHRoaXMudmxlbmd0aChwY2QuaW1wdWxzZSk7XG4gICAgICBjb25zdCBzcGVjaWZpZWRfc3BlZWQgPSBwY2QubmV0X3NwZWVkO1xuICAgICAgY29uc3QgbmV3X3NwZWVkID0gbWF4KHNwZWNpZmllZF9zcGVlZCAqIHRoaXMuc21vb3RoX2ZhY3Rvciwgb2xkX3NwZWVkKTtcbiAgICAgIHRoaXMudnNjYWxlKHBjZC5pbXB1bHNlLCBkZWx0YSwgbmV3X3NwZWVkIC8gZGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlJ3JlIHdheSBmYXIgYmVoaW5kIHVzaW5nIHRoZSBwcm92aWRlZCBzcGVlZCwgYXR0ZW1wdCB0byBnZXQgYWxsIHRoZSB3YXkgdGhlcmUgYnkgdGhlIG5leHQgZmV3XG4gICAgICAvLyB0aGVvcmV0aWNhbCB1cGRhdGVzLCB0aGlzIGJhc2ljYWxseSBzbmFwcyBpZiB0aGlzIGlzIHBhcnRpY3VsYXJseSBzbWFsbFxuICAgICAgdGhpcy52c2NhbGUocGNkLmltcHVsc2UsIGRlbHRhLCAxIC8gKHRoaXMuc2VuZF90aW1lICsgdGhpcy53aW5kb3cgKiB0aGlzLnNuYXBfZmFjdG9yKSk7XG4gICAgfVxuICB9XG59O1xuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU90aGVyQ2xpZW50ID0gZnVuY3Rpb24gKGNsaWVudF9pZCwgZHQpIHtcbiAgY29uc3QgcGNkID0gdGhpcy5wZXJfY2xpZW50X2RhdGFbY2xpZW50X2lkXTtcbiAgaWYgKCFwY2QpIHtcbiAgICAvLyBOZXZlciBnb3QgYSBwb3NpdGlvbiBzZW50IHRvIHVzLCBpZ25vcmVcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIEFwcGx5IGludGVycG9sYXRpb24gKGxvZ2ljIGZyb20gU3Bsb2R5KVxuICBsZXQgc3RvcHBlZCA9IHRydWU7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm47ICsraWkpIHtcbiAgICBpZiAocGNkLmltcHVsc2VbaWldKSB7XG4gICAgICBjb25zdCBkZWx0YV9vbGQgPSBwY2QubmV0X3Bvc1tpaV0gLSBwY2QucG9zW2lpXTtcbiAgICAgIGNvbnN0IGRlbHRhX29sZF9zaWduID0gdXRpbC5zaWduKGRlbHRhX29sZCk7XG4gICAgICBwY2QucG9zW2lpXSArPSBwY2QuaW1wdWxzZVtpaV0gKiBkdDtcbiAgICAgIGNvbnN0IGRlbHRhX25ldyA9IHBjZC5uZXRfcG9zW2lpXSAtIHBjZC5wb3NbaWldO1xuICAgICAgY29uc3QgZGVsdGFfbmV3X3NpZ24gPSB1dGlsLnNpZ24oZGVsdGFfbmV3KTtcbiAgICAgIGlmIChkZWx0YV9uZXdfc2lnbiAhPT0gZGVsdGFfb2xkX3NpZ24pIHtcbiAgICAgICAgLy8gbWFkZSBpdCBvciBwYXNzZWQgaXRcbiAgICAgICAgcGNkLnBvc1tpaV0gPSBwY2QubmV0X3Bvc1tpaV07XG4gICAgICAgIHBjZC5pbXB1bHNlW2lpXSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGlpIDwgdGhpcy5kaW1fcG9zICYmIHBjZC5pbXB1bHNlW2lpXSA+IDAuMDEpIHtcbiAgICAgICAgLy8gSWYgcG9zaXRpb25hbCAobm90IHJvdGF0aW9uKSwgd2UncmUgbm90IHN0b3BwZWRcbiAgICAgICAgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodGhpcy5vbl9wb3NfdXBkYXRlKSB7XG4gICAgdGhpcy5vbl9wb3NfdXBkYXRlKGNsaWVudF9pZCwgcGNkLnBvcyk7XG4gIH1cblxuICBjb25zdCBjdXJfaXNfcnVuID0gcGNkLmFuaW1fc3RhdGVbMF0gPT09ICdmJyB8fCBwY2QuYW5pbV9zdGF0ZVswXSA9PT0gJ3cnO1xuICBjb25zdCBuZXdfaXNfaWRsZSA9IHBjZC5uZXRfc3RhdGVbMF0gPT09ICdpJztcbiAgaWYgKGN1cl9pc19ydW4gJiYgbmV3X2lzX2lkbGUgJiYgIXN0b3BwZWQpIHtcbiAgICAvLyBkb24ndCBhcHBseSB5ZXRcbiAgfSBlbHNlIHtcbiAgICBwY2QuYW5pbV9zdGF0ZSA9IHBjZC5uZXRfc3RhdGU7XG4gICAgaWYgKHRoaXMub25fc3RhdGVfdXBkYXRlKSB7XG4gICAgICB0aGlzLm9uX3N0YXRlX3VwZGF0ZShjbGllbnRfaWQsIHBjZC5uZXRfc3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGNkO1xufTtcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUubiA9IDI7IC8vIGRpbWVuc2lvbmFsaXR5IG9mIHBvc2l0aW9uIHZlY3RvcnNcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuZGltX3BvcyA9IDI7IC8vIG51bWJlciBvZiBjb21wb25lbnRzIHRvIGJlIGludGVycG9sYXRlZCBhcy1pc1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5kaW1fcm90ID0gMDsgLy8gbnVtYmVyIG9mIGNvbXBvbmVudHMgdG8gYmUgaW50ZXJwb2xhdGVkIHdpdGggMlBJIHdyYXBwaW5nXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnNlbmRfdGltZSA9IDIwMDsgLy8gaG93IG9mdGVuIHRvIHNlbmQgcG9zaXRpb24gdXBkYXRlc1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS53aW5kb3cgPSAyMDA7IC8vIG1heGltdW0gZXhwZWN0ZWQgdmFyaWF0aW9uIGluIHRpbWUgYmV0d2VlbiB1cGRhdGVzOyBtc1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5zbmFwX2ZhY3RvciA9IDEuMDsgLy8gaG93IG1hbnkgd2luZG93cyB0byBzbmFwIGluIHdoZW4gd2UgdGhpbmsgd2UgbmVlZCB0byBzbmFwXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnNtb290aF93aW5kb3dzID0gNi41OyAvLyBob3cgbWFueSB3aW5kb3dzIGJlaGluZCB3ZSBjYW4gYmUgYW5kIG9ubHkgYWNjZWxlcmF0ZSBhIGxpdHRsZVxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5zbW9vdGhfZmFjdG9yID0gMS4yOyAvLyBob3cgbXVjaCBmYXN0ZXIgdG8gZ28gaW4gdGhlIHNtb290aGluZyB3aW5kb3dcblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBOZXRQb3NpdGlvbk1hbmFnZXIob3B0aW9ucyk7XG59XG5cblxuZnVuY3Rpb24gU2NhbGFySW50ZXJwb2xhdG9yKHRpY2tfdGltZSkge1xuICB0aGlzLnRpY2tfdGltZSA9IHRpY2tfdGltZSAqIDEuMjU7XG4gIHRoaXMucmVzZXQoKTtcbn1cblxuU2NhbGFySW50ZXJwb2xhdG9yLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy50YXJnZXRfdmFsdWUgPSB1bmRlZmluZWQ7XG4gIHRoaXMudmVsID0gMDtcbn07XG5cbi8vIEFzc3VtZSBhbnkgY2hhbmdlIGhhcHBlbmVkIG9uIHRoZSBzZXJ2ZXIgYXQgZnJlcXVlbmN5IHRpY2tfdGltZVxuLy8gVXBkYXRlcyBzdGF0ZS52YWx1ZSBhbmQgYWxzbyByZXR1cm5zIGl0XG5TY2FsYXJJbnRlcnBvbGF0b3IucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCwgbmV3X3ZhbHVlKSB7XG4gIGlmICh0aGlzLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnZhbHVlID0gbmV3X3ZhbHVlO1xuICAgIHRoaXMudGFyZ2V0X3ZhbHVlID0gbmV3X3ZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBUT0RPOiBDb3VsZCBmaWd1cmUgZXhwZWN0ZWQgdmVsb2NpdHkgYW5kIHVzZSBsb2dpYyBsaWtlIGluIHVwZGF0ZU90aGVyQ2xpZW50XG4gIGlmIChuZXdfdmFsdWUgIT09IHRoaXMudGFyZ2V0X3ZhbHVlKSB7XG4gICAgLy8gdHJ5IHRvIGdldCB0aGVyZSBpbiB0aWNrX3RpbWVcbiAgICB0aGlzLnZlbCA9IChuZXdfdmFsdWUgLSB0aGlzLnZhbHVlKSAvIHRoaXMudGlja190aW1lO1xuICAgIHRoaXMudGFyZ2V0X3ZhbHVlID0gbmV3X3ZhbHVlO1xuICB9XG4gIGlmICh0aGlzLnZhbHVlICE9PSB0aGlzLnRhcmdldF92YWx1ZSkge1xuICAgIGlmICh0aGlzLnZlbCA+IDApIHtcbiAgICAgIHRoaXMudmFsdWUgPSBtaW4odGhpcy52YWx1ZSArIHRoaXMudmVsICogZHQsIHRoaXMudGFyZ2V0X3ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52YWx1ZSA9IG1heCh0aGlzLnZhbHVlICsgdGhpcy52ZWwgKiBkdCwgdGhpcy50YXJnZXRfdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcblxuU2NhbGFySW50ZXJwb2xhdG9yLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMudmFsdWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2NhbGFySW50ZXJwb2xhdG9yKHRpY2tfdGltZSkge1xuICByZXR1cm4gbmV3IFNjYWxhckludGVycG9sYXRvcih0aWNrX3RpbWUpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFBhcnRpY2xlIFN5c3RlbSBTcGVjXG5cbi8qXG4vLyBEZWZpbml0aW9uc1xuLy8gdmFsdWUgPSBudW1iZXIgb3Jcbi8vIHZhbHVlID0gW2Jhc2UsIGFkZF9tYXhdIC0+IGdlbmVyYXRlcyBhIG51bWJlciBpbiB0aGUgcmFuZ2UgW2Jhc2UsIGJhc2UgKyBhZGRfbWF4KVxubGV0IGRlZl9maXJlID0ge1xuICBwYXJ0aWNsZXM6IHtcbiAgICBmaXJlOiB7XG4gICAgICBibGVuZDogJ2FkZGl0aXZlJyxcbiAgICAgIHRleHR1cmU6ICdmaXJlLnBuZycsXG4gICAgICBjb2xvcjogWzEsMSwxLDFdLCAvLyBtdWx0aXBsaWVkIGJ5IGFuaW1hdGlvbiB0cmFjaywgZGVmYXVsdCAxLDEsMSwxLCBjYW4gYmUgb21pdHRlZFxuICAgICAgY29sb3JfdHJhY2s6IFsgLy8ganVzdCB2YWx1ZXMsIE5PVCByYW5kb20gcmFuZ2VcbiAgICAgICAgeyB0OiAwLjAsIHY6IFsxLDAuNCwwLjQsMV0gfSxcbiAgICAgICAgeyB0OiAwLjcsIHY6IFsxLDAsMCwxXSB9LFxuICAgICAgICB7IHQ6IDAuOSwgdjogWzAuMiwwLDAsMV0gfSxcbiAgICAgICAgeyB0OiAxLjAsIHY6IFswLDAsMCwxXSB9LFxuICAgICAgXSxcbiAgICAgIHNpemU6IFtbMzIsMTZdLCBbMzIsMTZdXSwgLy8gbXVsdGlwbGllZCBieSBhbmltYXRpb24gdHJhY2tcbiAgICAgIHNpemVfdHJhY2s6IFsgLy8ganVzdCB2YWx1ZXMsIE5PVCByYW5kb20gcmFuZ2VcbiAgICAgICAgeyB0OiAwLjAsIHY6IFsxLDFdIH0sXG4gICAgICAgIHsgdDogMC40LCB2OiBbMC41LDAuNV0gfSxcbiAgICAgICAgeyB0OiAwLjcsIHY6IFsxLDFdIH0sXG4gICAgICAgIHsgdDogMS4wLCB2OiBbMS41LDEuNV0gfSxcbiAgICAgIF0sXG4gICAgICBhY2NlbDogWzAsMF0sXG4gICAgICByb3Q6IFswLDM2MF0sIC8vIGRlZ3JlZXNcbiAgICAgIHJvdF92ZWw6IFsxMCwyXSwgLy8gZGVncmVlcyBwZXIgc2Vjb25kXG4gICAgICBsaWZlc3BhbjogWzQ1MCwwXSwgLy8gbWlsbGlzZWNvbmRzXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IDUsXG4gICAgfSxcbiAgfSxcbiAgZW1pdHRlcnM6IHtcbiAgICBmaXJlOiB7XG4gICAgICBwYXJ0aWNsZTogJ2ZpcmUnLFxuICAgICAgLy8gUmFuZG9tIHJhbmdlcyBhZmZlY3QgZWFjaCBlbWl0dGVkIHBhcnRpY2xlOlxuICAgICAgcG9zOiBbWzAsMjhdLCBbMCwyOF1dLFxuICAgICAgdmVsOiBbMCwwXSxcbiAgICAgIGVtaXRfcmF0ZTogWzYwLDIwXSwgLy8gZW1pc3Npb25zIHBlciBzZWNvbmRcbiAgICAgIC8vIFJhbmRvbSByYW5nZXMgb25seSBjYWxjdWxhdGVkIHVwb24gaW5zdGFudGlhdGlvbjpcbiAgICAgIGVtaXRfdGltZTogWzAsSW5maW5pdHldLFxuICAgICAgZW1pdF9pbml0aWFsOiAxMCxcbiAgICB9LFxuICB9LFxuICBzeXN0ZW1fbGlmZXNwYW46IEluZmluaXR5LCAvLyBtdXN0IGJlIG1hbnVhbGx5IGtpbGxlZFxufTtcblxuLy8gVXNhZ2VcbmxldCBzeXN0ZW0gPSBnbG92X2VuZ2luZS5nbG92X3BhcnRpY2xlcy5jcmVhdGVTeXN0ZW0oZGVmX2ZpcmUsIFs1MCwgNTAsIFouUEFSVElDTEVTXSk7XG5zeXN0ZW0udXBkYXRlUG9zKDc1LCA3NSk7XG5zeXN0ZW0ua2lsbFNvZnQoKTsgLy8gc3RvcHMgZW1pdHRpbmcgYW5kIHNwZWVkcyB1cCBwYXJ0aWNsZXMgYnkga2lsbF90aW1lX2FjY2VsXG5zeXN0ZW0ua2lsbEhhcmQoKTsgLy8gaW1tZWRpYXRlbHkgc3RvcHMgZHJhd2luZ1xuXG4qL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gSW1wbGVtZW50YXRpb25cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgdmVjMiwgdjJjb3B5LCB2MmxlcnAsIHYybXVsIH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5jb25zdCB7IHZlYzMsIHZlYzQsIHYzYWRkLCB2NGNvcHksIHY0bGVycCwgdjRtdWwgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgYmxlbmRfbWFwID0ge1xuICBhbHBoYTogc3ByaXRlcy5CTEVORF9BTFBIQSxcbiAgYWRkaXRpdmU6IHNwcml0ZXMuQkxFTkRfQURESVRJVkUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlbG9hZFBhcnRpY2xlRGF0YShwYXJ0aWNsZV9kYXRhKSB7XG4gIC8vIFByZWxvYWQgYWxsIHJlZmVyZW5jZWQgcGFydGljbGUgdGV4dHVyZXNcbiAgZm9yIChsZXQga2V5IGluIHBhcnRpY2xlX2RhdGEuZGVmcykge1xuICAgIGxldCBkZWYgPSBwYXJ0aWNsZV9kYXRhLmRlZnNba2V5XTtcbiAgICBmb3IgKGxldCBwYXJ0X25hbWUgaW4gZGVmLnBhcnRpY2xlcykge1xuICAgICAgbGV0IHBhcnRfZGVmID0gZGVmLnBhcnRpY2xlc1twYXJ0X25hbWVdO1xuICAgICAgdGV4dHVyZXMubG9hZCh7IHVybDogYGltZy8ke3BhcnRfZGVmLnRleHR1cmV9LnBuZ2AgfSk7XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cGVjdCBhbGwgdmFsdWVzIHRvIGJlIGEgcGFpciBvZiBbYmFzZSwgYWRkX21heF1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHYpIHtcbiAgaWYgKHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgJiYgdi5sZW5ndGggPj0gMikge1xuICAgIHJldHVybiB2O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2ZWMyKHYsIDApO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikgfHwgdiBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgIC8vIGFscmVhZHkgYW4gYXJyYXksIGNvbnZlcnQgdG8gVmVjMlxuICAgIHJldHVybiB2ZWMyKHZbMF0gfHwgMCwgdlsxXSB8fCAwKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXNzZXJ0KGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZVZlYyh2ZWMsIGxlbmd0aCkge1xuICBhc3NlcnQobGVuZ3RoKTtcbiAgYXNzZXJ0KEFycmF5LmlzQXJyYXkodmVjKSk7XG4gIGxldCByZXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbmd0aDsgKytpaSkge1xuICAgIHJldFtpaV0gPSBub3JtYWxpemVWYWx1ZSh2ZWNbaWldKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQYXJ0aWNsZShkZWYsIHBhcnRpY2xlX21hbmFnZXIpIHtcbiAgaWYgKCFkZWYubm9ybWFsaXplZCkge1xuICAgIGxldCBub3JtID0gZGVmLm5vcm1hbGl6ZWQgPSB7XG4gICAgICBibGVuZDogYmxlbmRfbWFwW2RlZi5ibGVuZF0gfHwgc3ByaXRlcy5CTEVORF9BTFBIQSxcbiAgICAgIHRleHR1cmU6IHRleHR1cmVzLmxvYWQoeyB1cmw6IGRlZi50ZXh0dXJlID8gYGltZy8ke2RlZi50ZXh0dXJlfS5wbmdgIDogJ2ltZy9nbG92L3V0aWxfY2lyY2xlLnBuZycgfSksXG4gICAgICBjb2xvcjogbm9ybWFsaXplVmFsdWVWZWMoZGVmLmNvbG9yIHx8IFsxLDEsMSwxXSwgNCksXG4gICAgICBjb2xvcl90cmFjazogbnVsbCxcbiAgICAgIHNpemU6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5zaXplIHx8IFsxLDFdLCAyKSxcbiAgICAgIHNpemVfdHJhY2s6IG51bGwsXG4gICAgICBhY2NlbDogbm9ybWFsaXplVmFsdWVWZWMoZGVmLmFjY2VsIHx8IFswLDAsMF0sIDMpLFxuICAgICAgcm90OiBub3JtYWxpemVWYWx1ZShkZWYucm90IHx8IDApLFxuICAgICAgcm90X3ZlbDogbm9ybWFsaXplVmFsdWUoZGVmLnJvdCB8fCAwKSxcbiAgICAgIGxpZmVzcGFuOiBub3JtYWxpemVWYWx1ZShkZWYubGlmZXNwYW4gfHwgMTAwMCksXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IG5vcm1hbGl6ZVZhbHVlKGRlZi5raWxsX3RpbWVfYWNjZWwgfHwgMSksXG4gICAgfTtcbiAgICBhc3NlcnQobm9ybS5raWxsX3RpbWVfYWNjZWxbMF0gPj0gMSk7IC8vIGNhbm5vdCBzbG93IGRvd24gb24ga2lsbCFcbiAgICBpZiAoZGVmLmNvbG9yX3RyYWNrICYmIGRlZi5jb2xvcl90cmFjay5sZW5ndGgpIHtcbiAgICAgIGFzc2VydChkZWYuY29sb3JfdHJhY2subGVuZ3RoID4gMSk7XG4gICAgICBub3JtLmNvbG9yX3RyYWNrID0gW107XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGVmLmNvbG9yX3RyYWNrLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgZSA9IGRlZi5jb2xvcl90cmFja1tpaV07XG4gICAgICAgIGFzc2VydCh0eXBlb2YgZS50ID09PSAnbnVtYmVyJyk7XG4gICAgICAgIGxldCBhcnIgPSBuZXcgRmxvYXQzMkFycmF5KDUpO1xuICAgICAgICBhcnJbMF0gPSBlLnZbMF07XG4gICAgICAgIGFyclsxXSA9IGUudlsxXTtcbiAgICAgICAgYXJyWzJdID0gZS52WzJdO1xuICAgICAgICBhcnJbM10gPSBlLnZbM107XG4gICAgICAgIGFycls0XSA9IGUudDtcbiAgICAgICAgbm9ybS5jb2xvcl90cmFjay5wdXNoKGFycik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWYuc2l6ZV90cmFjayAmJiBkZWYuc2l6ZV90cmFjay5sZW5ndGgpIHtcbiAgICAgIGFzc2VydChkZWYuc2l6ZV90cmFjay5sZW5ndGggPiAxKTtcbiAgICAgIG5vcm0uc2l6ZV90cmFjayA9IFtdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRlZi5zaXplX3RyYWNrLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgZSA9IGRlZi5zaXplX3RyYWNrW2lpXTtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiBlLnQgPT09ICdudW1iZXInKTtcbiAgICAgICAgbGV0IGFyciA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIGFyclswXSA9IGUudlswXTtcbiAgICAgICAgYXJyWzFdID0gZS52WzFdO1xuICAgICAgICBhcnJbMl0gPSBlLnQ7XG4gICAgICAgIG5vcm0uc2l6ZV90cmFjay5wdXNoKGFycik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWYubm9ybWFsaXplZDtcbn1cblxuZnVuY3Rpb24gZmluZFBhcnRpY2xlKHBhcnRpY2xlcywgbmFtZSkge1xuICBhc3NlcnQocGFydGljbGVzW25hbWVdICE9PSB1bmRlZmluZWQpO1xuICByZXR1cm4gcGFydGljbGVzW25hbWVdO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVFbWl0dGVyKGRlZiwgcGFydF9tYXApIHtcbiAgaWYgKCFkZWYubm9ybWFsaXplZCkge1xuICAgIGRlZi5ub3JtYWxpemVkID0ge1xuICAgICAgcGFydF9pZHg6IGZpbmRQYXJ0aWNsZShwYXJ0X21hcCwgZGVmLnBhcnRpY2xlKSxcbiAgICAgIHBvczogbm9ybWFsaXplVmFsdWVWZWMoZGVmLnBvcyB8fCBbMCwwLDBdLCAzKSxcbiAgICAgIHZlbDogbm9ybWFsaXplVmFsdWVWZWMoZGVmLnZlbCB8fCBbMCwwLDBdLCAzKSxcbiAgICAgIGVtaXRfcmF0ZTogbm9ybWFsaXplVmFsdWUoZGVmLmVtaXRfcmF0ZSB8fCAxMCksXG4gICAgICBlbWl0X3RpbWU6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5lbWl0X3RpbWUgfHwgWzAsSW5maW5pdHldLCAyKSxcbiAgICAgIGVtaXRfaW5pdGlhbDogbm9ybWFsaXplVmFsdWUoZGVmLmVtaXRfaW5pdGlhbCB8fCAxKSxcbiAgICB9O1xuICAgIC8vIGNvbnZlcnQgcGFydGljbGVzIHBlciBzZWNvbmQgdG8gbXMgcGVyIGVtaXNzaW9uXG4gICAgbGV0IG1pbiA9IGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVswXTtcbiAgICBsZXQgbWF4ID0gZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzBdICsgZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzFdO1xuICAgIGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVswXSA9IDEwMDAgLyBtYXg7XG4gICAgZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzFdID0gMTAwMCAvIG1pbjtcbiAgICBhc3NlcnQoZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzBdID4gMSk7IC8vIE5vdCBtb3JlIHRoYW4gMTAwMCBwZXIgc2Vjb25kLCB0aGF0J3MgcmlkaWMnLlxuICB9XG4gIHJldHVybiBkZWYubm9ybWFsaXplZDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVmKGRlZiwgcGFydGljbGVfbWFuYWdlcikge1xuICBpZiAoIWRlZi5ub3JtYWxpemVkKSB7XG4gICAgbGV0IG5vcm0gPSBkZWYubm9ybWFsaXplZCA9IHtcbiAgICAgIHN5c3RlbV9saWZlc3Bhbjogbm9ybWFsaXplVmFsdWUoZGVmLnN5c3RlbV9saWZlc3BhbiB8fCBJbmZpbml0eSksXG4gICAgICBwYXJ0aWNsZXM6IFtdLFxuICAgICAgZW1pdHRlcnM6IFtdLFxuICAgIH07XG4gICAgbGV0IHBhcnRfbWFwID0ge307XG4gICAgZm9yIChsZXQga2V5IGluIGRlZi5wYXJ0aWNsZXMpIHtcbiAgICAgIHBhcnRfbWFwW2tleV0gPSBub3JtLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgICBub3JtLnBhcnRpY2xlcy5wdXNoKG5vcm1hbGl6ZVBhcnRpY2xlKGRlZi5wYXJ0aWNsZXNba2V5XSwgcGFydGljbGVfbWFuYWdlcikpO1xuICAgIH1cbiAgICBmb3IgKGxldCBrZXkgaW4gZGVmLmVtaXR0ZXJzKSB7XG4gICAgICBub3JtLmVtaXR0ZXJzLnB1c2gobm9ybWFsaXplRW1pdHRlcihkZWYuZW1pdHRlcnNba2V5XSwgcGFydF9tYXApKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZi5ub3JtYWxpemVkO1xufVxuXG5mdW5jdGlvbiBpbnN0VmFsdWUodikge1xuICByZXR1cm4gdlswXSArIE1hdGgucmFuZG9tKCkgKiB2WzFdO1xufVxuZnVuY3Rpb24gaW5zdFZhbHVlVmVjKHYpIHtcbiAgbGV0IHJldCA9IG5ldyBGbG9hdDMyQXJyYXkodi5sZW5ndGgpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdi5sZW5ndGg7ICsraWkpIHtcbiAgICByZXRbaWldID0gaW5zdFZhbHVlKHZbaWldKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5sZXQgdGVtcF9jb2xvciA9IHZlYzQoKTtcbmxldCB0ZW1wX2NvbG9yMiA9IHZlYzQoKTtcbmxldCB0ZW1wX3NpemUgPSB2ZWMyKCk7XG5sZXQgdGVtcF9zaXplMiA9IHZlYzIoKTtcbi8vIGxldCB0ZW1wX3BvcyA9IHYzYWxsb2NaZXJvKCk7XG5cbmNsYXNzIFBhcnRpY2xlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBkZWZfaW4sIHBvcykge1xuICAgIGFzc2VydChwb3MubGVuZ3RoID09PSAzKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLmRlZiA9IG5vcm1hbGl6ZURlZihkZWZfaW4sIHBhcmVudCk7XG4gICAgdGhpcy5zeXN0ZW1fbGlmZXNwYW4gPSBpbnN0VmFsdWUodGhpcy5kZWYuc3lzdGVtX2xpZmVzcGFuKTtcbiAgICBhc3NlcnQodGhpcy5zeXN0ZW1fbGlmZXNwYW4gPiAwKTtcbiAgICB0aGlzLmFnZSA9IDA7XG4gICAgdGhpcy5raWxsX2hhcmQgPSBmYWxzZTtcbiAgICB0aGlzLmtpbGxfc29mdCA9IGZhbHNlO1xuICAgIHRoaXMucG9zID0gdmVjMyhwb3NbMF0sIHBvc1sxXSwgcG9zWzJdKTtcbiAgICB0aGlzLnBhcnRfc2V0cyA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmRlZi5wYXJ0aWNsZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgZGVmID0gdGhpcy5kZWYucGFydGljbGVzW2lpXTtcbiAgICAgIGxldCBwYXJ0X3NldCA9IHtcbiAgICAgICAgZGVmLFxuICAgICAgICBwYXJ0czogW10sXG4gICAgICB9O1xuICAgICAgdGhpcy5wYXJ0X3NldHMucHVzaChwYXJ0X3NldCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdHRlcnMgPSBbXTtcbiAgICAvLyBJbnN0YW50aWF0ZSBlbWl0dGVyc1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmRlZi5lbWl0dGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBkZWYgPSB0aGlzLmRlZi5lbWl0dGVyc1tpaV07XG4gICAgICBsZXQgZW1pdHRlciA9IHtcbiAgICAgICAgZGVmLFxuICAgICAgICBlbWl0X3RpbWU6IGluc3RWYWx1ZVZlYyhkZWYuZW1pdF90aW1lKSxcbiAgICAgICAgY291bnRkb3duOiAwLFxuICAgICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICAgICAgc3RvcHBlZDogZmFsc2UsXG4gICAgICB9O1xuICAgICAgdGhpcy5lbWl0dGVycy5wdXNoKGVtaXR0ZXIpO1xuICAgIH1cbiAgICAvLyBEbyAqbm90KiBkbyB0aGlzIGhlcmUsIGNhdXNlcyB0aGVtIHRvIGJlIGRyYXduIHR3aWNlIG9uIHRoZSBmaXJzdCBmcmFtZSxcbiAgICAvLyAgIHRoZXknbGwgYmUgdGlja2VkIGFzIHVzdWFsLlxuICAgIC8vIC8vIGRvIGluaXRpYWwgdGljayBmb3IgdGhpbmdzIHRoYXQgaGF2ZSBhbiBlbWl0X3RpbWVbMF0gb2YgMCBhbmQgaGF2ZSBhbiBlbWl0X2luaXRpYWxcbiAgICAvLyB0aGlzLnRpY2soMCk7XG4gIH1cblxuICB0aWNrUGFydGljbGUocGFydCwgZHQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgbGV0IGRlZiA9IHBhcnQuZGVmO1xuICAgIHBhcnQuYWdlICs9IGR0O1xuICAgIGxldCBhZ2Vfbm9ybSA9IHBhcnQuYWdlIC8gcGFydC5saWZlc3BhbjtcbiAgICBpZiAoYWdlX25vcm0gPj0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gUG9zLCB2ZWwgLSBpbmNyZW1lbnRhbGx5IGNvbXB1dGVkXG4gICAgbGV0IGR0cyA9IGR0IC8gMTAwMDtcbiAgICBwYXJ0LnBvc1swXSArPSBwYXJ0LnZlbFswXSAqIGR0cztcbiAgICBwYXJ0LnBvc1sxXSArPSBwYXJ0LnZlbFsxXSAqIGR0cztcbiAgICBwYXJ0LnBvc1syXSArPSBwYXJ0LnZlbFsyXSAqIGR0cztcbiAgICBwYXJ0LnZlbFswXSArPSBwYXJ0LmFjY2VsWzBdICogZHRzO1xuICAgIHBhcnQudmVsWzFdICs9IHBhcnQuYWNjZWxbMV0gKiBkdHM7XG4gICAgcGFydC52ZWxbMl0gKz0gcGFydC5hY2NlbFsyXSAqIGR0cztcblxuICAgIC8vIENvbG9yLCBzaXplLCByb3QgLSBleHBsaWNpdGx5IGNvbXB1dGVkXG4gICAgdjRjb3B5KHRlbXBfY29sb3IsIHBhcnQuY29sb3IsIHRlbXBfY29sb3IpO1xuICAgIGlmIChkZWYuY29sb3JfdHJhY2spIHtcbiAgICAgIGlmIChhZ2Vfbm9ybSA8IGRlZi5jb2xvcl90cmFja1swXVs0XSkge1xuICAgICAgICB2NG11bCh0ZW1wX2NvbG9yLCB0ZW1wX2NvbG9yLCBkZWYuY29sb3JfdHJhY2tbMF0pO1xuICAgICAgfSBlbHNlIGlmIChhZ2Vfbm9ybSA+PSBkZWYuY29sb3JfdHJhY2tbZGVmLmNvbG9yX3RyYWNrLmxlbmd0aCAtIDFdWzRdKSB7XG4gICAgICAgIHY0bXVsKHRlbXBfY29sb3IsIHRlbXBfY29sb3IsIGRlZi5jb2xvcl90cmFja1tkZWYuY29sb3JfdHJhY2subGVuZ3RoIC0gMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRlZi5jb2xvcl90cmFjay5sZW5ndGggLSAxOyArK2lpKSB7XG4gICAgICAgICAgaWYgKGFnZV9ub3JtID49IGRlZi5jb2xvcl90cmFja1tpaV1bNF0gJiYgYWdlX25vcm0gPCBkZWYuY29sb3JfdHJhY2tbaWkgKyAxXVs0XSkge1xuICAgICAgICAgICAgbGV0IHdlaWdodCA9IChhZ2Vfbm9ybSAtIGRlZi5jb2xvcl90cmFja1tpaV1bNF0pIC8gKGRlZi5jb2xvcl90cmFja1tpaSArIDFdWzRdIC0gZGVmLmNvbG9yX3RyYWNrW2lpXVs0XSk7XG4gICAgICAgICAgICB2NGxlcnAodGVtcF9jb2xvcjIsIHdlaWdodCwgZGVmLmNvbG9yX3RyYWNrW2lpXSwgZGVmLmNvbG9yX3RyYWNrW2lpICsgMV0pO1xuICAgICAgICAgICAgdjRtdWwodGVtcF9jb2xvciwgdGVtcF9jb2xvciwgdGVtcF9jb2xvcjIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdjJjb3B5KHRlbXBfc2l6ZSwgcGFydC5zaXplKTtcbiAgICBpZiAoZGVmLnNpemVfdHJhY2spIHtcbiAgICAgIGlmIChhZ2Vfbm9ybSA8IGRlZi5zaXplX3RyYWNrWzBdWzJdKSB7XG4gICAgICAgIHYybXVsKHRlbXBfc2l6ZSwgdGVtcF9zaXplLCBkZWYuc2l6ZV90cmFja1swXSk7XG4gICAgICB9IGVsc2UgaWYgKGFnZV9ub3JtID49IGRlZi5zaXplX3RyYWNrW2RlZi5zaXplX3RyYWNrLmxlbmd0aCAtIDFdWzJdKSB7XG4gICAgICAgIHYybXVsKHRlbXBfc2l6ZSwgdGVtcF9zaXplLCBkZWYuc2l6ZV90cmFja1tkZWYuc2l6ZV90cmFjay5sZW5ndGggLSAxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGVmLnNpemVfdHJhY2subGVuZ3RoIC0gMTsgKytpaSkge1xuICAgICAgICAgIGlmIChhZ2Vfbm9ybSA+PSBkZWYuc2l6ZV90cmFja1tpaV1bMl0gJiYgYWdlX25vcm0gPCBkZWYuc2l6ZV90cmFja1tpaSArIDFdWzJdKSB7XG4gICAgICAgICAgICBsZXQgd2VpZ2h0ID0gKGFnZV9ub3JtIC0gZGVmLnNpemVfdHJhY2tbaWldWzJdKSAvIChkZWYuc2l6ZV90cmFja1tpaSArIDFdWzJdIC0gZGVmLnNpemVfdHJhY2tbaWldWzJdKTtcbiAgICAgICAgICAgIHYybGVycCh0ZW1wX3NpemUyLCB3ZWlnaHQsIGRlZi5zaXplX3RyYWNrW2lpXSwgZGVmLnNpemVfdHJhY2tbaWkgKyAxXSk7XG4gICAgICAgICAgICB2Mm11bCh0ZW1wX3NpemUsIHRlbXBfc2l6ZSwgdGVtcF9zaXplMik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBsZXQgcm90ID0gcGFydC5yb3QgKyBwYXJ0LmFnZSAqIHBhcnQucm90X3ZlbDtcblxuICAgIC8vIFRPRE86IGRyYXcgdXNpbmc6XG4gICAgLy8gICByb3RcbiAgICBsZXQgdyA9IHRlbXBfc2l6ZVswXTtcbiAgICBsZXQgaCA9IHRlbXBfc2l6ZVsxXTtcbiAgICBsZXQgeCA9IHBhcnQucG9zWzBdIC0gdy8yO1xuICAgIGxldCB5ID0gcGFydC5wb3NbMV0gLSBoLzI7XG4gICAgbGV0IHogPSBwYXJ0LnBvc1syXTtcbiAgICBzcHJpdGVzLnF1ZXVlcmF3NChbZGVmLnRleHR1cmVdLFxuICAgICAgeCwgeSwgeCwgeSArIGgsIHggKyB3LCB5ICsgaCwgeCArIHcsIHksIHosIDAsIDAsIDEsIDEsXG4gICAgICB0ZW1wX2NvbG9yLCBudWxsLCBudWxsLCBkZWYuYmxlbmQpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdGlja1BhcnRTZXQoZHRfb3JpZywgcGFydF9zZXQpIHtcbiAgICAvL2xldCBkZWYgPSBwYXJ0X3NldC5kZWY7XG4gICAgbGV0IHBhcnRzID0gcGFydF9zZXQucGFydHM7XG4gICAgZm9yIChsZXQgaWkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpaSA+PSAwOyAtLWlpKSB7XG4gICAgICBsZXQgcGFydCA9IHBhcnRzW2lpXTtcbiAgICAgIGxldCBkdCA9IHRoaXMua2lsbF9zb2Z0ID8gZHRfb3JpZyAqIHBhcnQua2lsbF90aW1lX2FjY2VsIDogZHRfb3JpZztcbiAgICAgIGlmICh0aGlzLnRpY2tQYXJ0aWNsZShwYXJ0LCBkdCkpIHtcbiAgICAgICAgcGFydHNbaWldID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHBhcnRzLnBvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVtaXRQYXJ0aWNsZShpbml0X2R0LCBlbWl0dGVyKSB7XG4gICAgbGV0IGVtaXR0ZXJfZGVmID0gZW1pdHRlci5kZWY7XG4gICAgbGV0IHBhcnRfc2V0ID0gdGhpcy5wYXJ0X3NldHNbZW1pdHRlcl9kZWYucGFydF9pZHhdO1xuICAgIGxldCBkZWYgPSBwYXJ0X3NldC5kZWY7XG4gICAgbGV0IHBvcyA9IGluc3RWYWx1ZVZlYyhlbWl0dGVyX2RlZi5wb3MsIDMpO1xuICAgIHYzYWRkKHBvcywgcG9zLCB0aGlzLnBvcyk7XG4gICAgLy8gUEVSRlRPRE86IE1ha2UgdGhlIHdob2xlIFBhcnRpY2xlIGp1c3QgYSBkYXRhW10gRmxvYXQzMkFycmF5XG4gICAgbGV0IHBhcnQgPSB7XG4gICAgICBkZWYsXG4gICAgICBwb3MsXG4gICAgICBjb2xvcjogaW5zdFZhbHVlVmVjKGRlZi5jb2xvciwgNCksXG4gICAgICBzaXplOiBpbnN0VmFsdWVWZWMoZGVmLnNpemUsIDQpLFxuICAgICAgdmVsOiBpbnN0VmFsdWVWZWMoZW1pdHRlcl9kZWYudmVsLCAzKSxcbiAgICAgIGFjY2VsOiBpbnN0VmFsdWVWZWMoZGVmLmFjY2VsLCAzKSxcbiAgICAgIHJvdDogaW5zdFZhbHVlKGRlZi5yb3QpLFxuICAgICAgcm90X3ZlbDogaW5zdFZhbHVlKGRlZi5yb3RfdmVsKSxcbiAgICAgIGxpZmVzcGFuOiBpbnN0VmFsdWUoZGVmLmxpZmVzcGFuKSxcbiAgICAgIGtpbGxfdGltZV9hY2NlbDogaW5zdFZhbHVlKGRlZi5raWxsX3RpbWVfYWNjZWwpLFxuICAgICAgYWdlOiAwLFxuICAgIH07XG4gICAgaWYgKCF0aGlzLnRpY2tQYXJ0aWNsZShwYXJ0LCBpbml0X2R0KSkge1xuICAgICAgcGFydF9zZXQucGFydHMucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cblxuICB0aWNrRW1pdHRlcihkdCwgZW1pdHRlcikge1xuICAgIGxldCBkZWYgPSBlbWl0dGVyLmRlZjtcbiAgICAvLyBjaGVjayBmb3IgaW5pdGlhbCBlbWlzc2lvblxuICAgIGlmICghZW1pdHRlci5zdGFydGVkICYmIHRoaXMuYWdlID49IGVtaXR0ZXIuZW1pdF90aW1lWzBdKSB7XG4gICAgICBlbWl0dGVyLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgLy8gaWdub3JlIHRpbWUgYmVmb3JlIHdlIHN0YXJ0ZWQgZW1pdHRpbmdcbiAgICAgIGR0ID0gdGhpcy5hZ2UgLSBlbWl0dGVyLmVtaXRfdGltZVswXTtcbiAgICAgIGxldCBudW0gPSBpbnN0VmFsdWUoZGVmLmVtaXRfaW5pdGlhbCk7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtOyArK2lpKSB7XG4gICAgICAgIHRoaXMuZW1pdFBhcnRpY2xlKGR0LCBlbWl0dGVyKTtcbiAgICAgIH1cbiAgICAgIGVtaXR0ZXIuY291bnRkb3duID0gaW5zdFZhbHVlKGRlZi5lbWl0X3JhdGUpO1xuICAgIH1cbiAgICBpZiAoZW1pdHRlci5zdGFydGVkICYmICFlbWl0dGVyLnN0b3BwZWQgJiYgIXRoaXMua2lsbF9zb2Z0KSB7XG4gICAgICAvLyBzaG91bGQgd2Ugc3RvcD9cbiAgICAgIGxldCByZW1haW5pbmdfZHQgPSBkdDtcbiAgICAgIGxldCBlbWl0X2R0ID0gZHQ7XG4gICAgICBpZiAodGhpcy5hZ2UgPj0gZW1pdHRlci5lbWl0X3RpbWVbMV0pIHtcbiAgICAgICAgZW1pdHRlci5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gRG8gbm90IGVtaXQgZHVyaW5nIHRpbWUgYWZ0ZXIgd2Ugc3RvcHBlZFxuICAgICAgICBlbWl0X2R0IC09IHRoaXMuYWdlIC0gZW1pdHRlci5lbWl0X3RpbWVbMV07XG4gICAgICB9XG4gICAgICAvLyBFbWl0IGR0J3Mgd29ydGggb2YgcGFydGljbGVzXG4gICAgICB3aGlsZSAoZW1pdF9kdCA+PSBlbWl0dGVyLmNvdW50ZG93bikge1xuICAgICAgICBlbWl0X2R0IC09IGVtaXR0ZXIuY291bnRkb3duO1xuICAgICAgICByZW1haW5pbmdfZHQgLT0gZW1pdHRlci5jb3VudGRvd247XG4gICAgICAgIGVtaXR0ZXIuY291bnRkb3duID0gaW5zdFZhbHVlKGRlZi5lbWl0X3JhdGUpO1xuICAgICAgICB0aGlzLmVtaXRQYXJ0aWNsZShyZW1haW5pbmdfZHQsIGVtaXR0ZXIpO1xuICAgICAgfVxuICAgICAgZW1pdHRlci5jb3VudGRvd24gLT0gZW1pdF9kdDtcbiAgICB9XG4gIH1cblxuICB0aWNrKGR0KSB7XG4gICAgaWYgKHRoaXMua2lsbF9oYXJkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gdGljayBleGlzdGluZyBwYXJ0aWNsZXNcbiAgICBmb3IgKGxldCBpaSA9IHRoaXMucGFydF9zZXRzLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICAgIHRoaXMudGlja1BhcnRTZXQoZHQsIHRoaXMucGFydF9zZXRzW2lpXSk7XG4gICAgfVxuICAgIC8vIGFkdmFuY2UgdGltZSBhbmQgc3Bhd24gbmV3IG9uZXMgKHdpdGggcGFydGlhbCB0aWNrcylcbiAgICB0aGlzLmFnZSArPSBkdDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5lbWl0dGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHRoaXMudGlja0VtaXR0ZXIoZHQsIHRoaXMuZW1pdHRlcnNbaWldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hZ2UgPj0gdGhpcy5zeXN0ZW1fbGlmZXNwYW47IC8vIGtpbGwgaWYgcGFzdCBsaWZlc3BhblxuICB9XG5cbiAgc2hpZnQoZGVsdGEpIHtcbiAgICBpZiAodGhpcy5kZWYubm9fc2hpZnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wb3NbMF0gKz0gZGVsdGFbMF07XG4gICAgdGhpcy5wb3NbMV0gKz0gZGVsdGFbMV07XG4gICAgdGhpcy5wb3NbMl0gKz0gZGVsdGFbMl07XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMucGFydF9zZXRzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IHBhcnRzID0gdGhpcy5wYXJ0X3NldHNbaWldLnBhcnRzO1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHBhcnRzLmxlbmd0aDsgKytqaikge1xuICAgICAgICBsZXQgcGFydCA9IHBhcnRzW2pqXTtcbiAgICAgICAgcGFydC5wb3NbMF0gKz0gZGVsdGFbMF07XG4gICAgICAgIHBhcnQucG9zWzFdICs9IGRlbHRhWzFdO1xuICAgICAgICBwYXJ0LnBvc1syXSArPSBkZWx0YVsyXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUGFydGljbGVNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zeXN0ZW1zID0gW107XG4gIH1cblxuICBjcmVhdGVTeXN0ZW0oZGVmLCBwb3MpIHtcbiAgICBsZXQgc3lzdGVtID0gbmV3IFBhcnRpY2xlU3lzdGVtKHRoaXMsIGRlZiwgcG9zKTtcbiAgICB0aGlzLnN5c3RlbXMucHVzaChzeXN0ZW0pO1xuICAgIHJldHVybiBzeXN0ZW07XG4gIH1cblxuICB0aWNrKGR0KSB7XG4gICAgZm9yIChsZXQgaWkgPSB0aGlzLnN5c3RlbXMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgICAgaWYgKHRoaXMuc3lzdGVtc1tpaV0udGljayhkdCkpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW1zW2lpXSA9IHRoaXMuc3lzdGVtc1t0aGlzLnN5c3RlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBraWxsQWxsKCkge1xuICAgIHRoaXMuc3lzdGVtcyA9IFtdO1xuICB9XG5cbiAgc2hpZnQoZGVsdGEpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5zeXN0ZW1zLmxlbmd0aDsgKytpaSkge1xuICAgICAgdGhpcy5zeXN0ZW1zW2lpXS5zaGlmdChkZWx0YSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHJldHVybiBuZXcgUGFydGljbGVNYW5hZ2VyKCk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2ZvbnQuanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgeyBtYXggfSA9IE1hdGg7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHVpID0gcmVxdWlyZSgnLi91aS5qcycpO1xuY29uc3QgeyB2ZWM0LCB2M2NvcHkgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxubGV0IG1ldHJpY3MgPSBbXTtcblxuY29uc3QgTUVUUklDX1BBRCA9IDI7XG5cbmxldCBiZ19kZWZhdWx0ID0gdmVjNCgwLDAsMCwwLjUpO1xubGV0IGJnX21vdXNlX292ZXIgPSB2ZWM0KDAsMCwwLDAuNzUpO1xubGV0IGJnX2ZhZGUgPSB2ZWM0KCk7XG5cbi8vIHJlZmVyZW5jZWQgaW4gZW5naW5lLmpzXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNob3dfbWV0cmljczoge1xuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbiAgc2hvd19mcHM6IHtcbiAgICBsYWJlbDogJ1Nob3cgRlBTJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsM10sXG4gIH0sXG4gIGZwc19ncmFwaDoge1xuICAgIGxhYmVsOiAnRlBTIEdyYXBoJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG4gIGZwc193aW5kb3c6IHtcbiAgICBsYWJlbDogJ0ZQUyBUaW1lIFdpbmRvdyAoc2Vjb25kcyknLFxuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgcmFuZ2U6IFswLjAwMSwgMTIwXSxcbiAgfSxcbn0pO1xuXG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICdmcHMnLFxuICBoZWxwOiAnVG9nZ2xlcyBGUFMgZGlzcGxheScsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIGlmIChzZXR0aW5ncy5zaG93X2ZwcyAmJiBzZXR0aW5ncy5zaG93X21ldHJpY3MgfHwgc3RyID09PSAnMCcpIHtcbiAgICAgIHNldHRpbmdzLnNldCgnc2hvd19mcHMnLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0dGluZ3Muc2V0KCdzaG93X2ZwcycsIDEpO1xuICAgICAgc2V0dGluZ3Muc2V0KCdzaG93X21ldHJpY3MnLCAxKTtcbiAgICB9XG4gICAgcmVzcF9mdW5jKCk7XG4gIH0sXG59KTtcblxubGV0IGZwc19zdHlsZSA9IGdsb3ZfZm9udC5zdHlsZSh7XG4gIG91dGxpbmVfd2lkdGg6IDIsIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwODAsXG4gIGNvbG9yOiAweEZGRkZGRmZmLFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNZXRyaWMobWV0cmljKSB7XG4gIGlmIChtZXRyaWMuc2hvd19ncmFwaCkge1xuICAgIG1ldHJpYy5udW1fbGluZXMgPSBtZXRyaWMuY29sb3JzLmxlbmd0aDtcbiAgICBtZXRyaWMuaGlzdG9yeV9zaXplID0gbWV0cmljLmRhdGEuaGlzdG9yeS5sZW5ndGggLyBtZXRyaWMubnVtX2xpbmVzO1xuICB9XG4gIG1ldHJpYy5udW1fbGFiZWxzID0gT2JqZWN0LmtleXMobWV0cmljLmxhYmVscykubGVuZ3RoO1xuICBpZiAobWV0cmljLmludGVyYWN0YWJsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbWV0cmljLmludGVyYWN0YWJsZSA9IGVuZ2luZS5ERUJVRyAmJiAobWV0cmljLm51bV9sYWJlbHMgPiAxIHx8IG1ldHJpYy5zaG93X2dyYXBoKTtcbiAgfVxuICBtZXRyaWNzLnB1c2gobWV0cmljKTtcbn1cblxuZnVuY3Rpb24gc2hvd01ldHJpYyh5LCBtZXRyaWMpIHtcbiAgbGV0IGZvbnQgPSBlbmdpbmUuZm9udDtcbiAgbGV0IHBhZCA9IE1FVFJJQ19QQUQ7XG4gIGxldCBsaW5lX2hlaWdodCA9IHVpLmZvbnRfaGVpZ2h0IC8gc2V0dGluZ3MucmVuZGVyX3NjYWxlX2FsbDtcbiAgbGV0IE1FVFJJQ19WQUxVRV9XSURUSCA9IGxpbmVfaGVpZ2h0ICogKG1ldHJpYy53aWR0aCB8fCAyLjUpO1xuICBsZXQgeCA9IGNhbWVyYTJkLngxUmVhbCgpIC0gTUVUUklDX1ZBTFVFX1dJRFRIIC0gcGFkO1xuICBsZXQgeTAgPSB5O1xuICB5ICs9IHBhZDtcbiAgbGV0IG1heF9sYWJlbF93ID0gMDtcbiAgbGV0IG1heF9sYWJlbHMgPSBzZXR0aW5nc1ttZXRyaWMuc2hvd19zdGF0XTtcbiAgbGV0IGRyZXdfYW55ID0gZmFsc2U7XG4gIGxldCBhbHBoYSA9IDE7XG4gIGZvciAobGV0IGxhYmVsIGluIG1ldHJpYy5sYWJlbHMpIHtcbiAgICBsZXQgdmFsdWUgPSBtZXRyaWMubGFiZWxzW2xhYmVsXSgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgbGV0IHN0eWxlID0gZnBzX3N0eWxlO1xuICAgICAgaWYgKHZhbHVlLmFscGhhKSB7XG4gICAgICAgIGFscGhhID0gdmFsdWUuYWxwaGE7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWU7XG4gICAgICAgIHN0eWxlID0gZ2xvdl9mb250LnN0eWxlQWxwaGEoZnBzX3N0eWxlLCBhbHBoYSk7XG4gICAgICB9XG4gICAgICBsZXQgbGFiZWxfdyA9IGZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCwgeSwgWi5GUFNNRVRFUiArIDEsIGxpbmVfaGVpZ2h0LFxuICAgICAgICBnbG92X2ZvbnQuQUxJR04uSFJJR0hULCAwLCAwLCBsYWJlbCk7XG4gICAgICBtYXhfbGFiZWxfdyA9IG1heChtYXhfbGFiZWxfdywgbGFiZWxfdyk7XG4gICAgICBmb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHgsIHksIFouRlBTTUVURVIgKyAxLCBsaW5lX2hlaWdodCxcbiAgICAgICAgZ2xvdl9mb250LkFMSUdOLkhGSVQsIE1FVFJJQ19WQUxVRV9XSURUSCwgMCwgdmFsdWUpO1xuICAgICAgeSArPSBsaW5lX2hlaWdodDtcbiAgICAgIGRyZXdfYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEtLW1heF9sYWJlbHMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBsZXQgdyA9IE1FVFJJQ19WQUxVRV9XSURUSCArIG1heF9sYWJlbF93ICsgTUVUUklDX1BBRDtcbiAgeCAtPSBtYXhfbGFiZWxfdyArIE1FVFJJQ19QQUQ7XG5cbiAgaWYgKCFkcmV3X2FueSkge1xuICAgIHJldHVybiB5IC0gcGFkO1xuICB9XG5cbiAgeSArPSBwYWQ7XG4gIGxldCBiZyA9IGJnX2RlZmF1bHQ7XG4gIGxldCBwb3NfcGFyYW0gPSB7XG4gICAgeDogeCAtIHBhZCxcbiAgICB5OiB5MCxcbiAgICB3OiB3ICsgcGFkICogMixcbiAgICBoOiB5IC0geTAsXG4gIH07XG4gIGlmIChtZXRyaWMuaW50ZXJhY3RhYmxlKSB7XG4gICAgaWYgKGlucHV0Lm1vdXNlVXBFZGdlKHBvc19wYXJhbSkpIHtcbiAgICAgIGlmIChtZXRyaWMubnVtX2xhYmVscyA+IDEgJiYgc2V0dGluZ3NbbWV0cmljLnNob3dfc3RhdF0gPD0gMSkge1xuICAgICAgICBzZXR0aW5ncy5zZXQobWV0cmljLnNob3dfc3RhdCwgbWV0cmljLm51bV9sYWJlbHMpO1xuICAgICAgfSBlbHNlIGlmIChtZXRyaWMuc2hvd19ncmFwaCAmJiAhc2V0dGluZ3NbbWV0cmljLnNob3dfZ3JhcGhdKSB7XG4gICAgICAgIHNldHRpbmdzLnNldChtZXRyaWMuc2hvd19ncmFwaCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobWV0cmljLnNob3dfZ3JhcGgpIHtcbiAgICAgICAgICBzZXR0aW5ncy5zZXQobWV0cmljLnNob3dfZ3JhcGgsIDApO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLnNldChtZXRyaWMuc2hvd19zdGF0LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlucHV0Lm1vdXNlT3Zlcihwb3NfcGFyYW0pKSB7XG4gICAgICBiZyA9IGJnX21vdXNlX292ZXI7XG4gICAgfVxuICB9XG4gIGlmIChhbHBoYSAhPT0gMSkge1xuICAgIGJnX2ZhZGVbM10gPSBiZ1szXSAqIGFscGhhO1xuICAgIGJnID0gdjNjb3B5KGJnX2ZhZGUsIGJnKTtcbiAgfVxuICB1aS5kcmF3UmVjdChwb3NfcGFyYW0ueCwgcG9zX3BhcmFtLnksIHBvc19wYXJhbS54ICsgcG9zX3BhcmFtLncsIHksIFouRlBTTUVURVIsIGJnKTtcbiAgcmV0dXJuIHk7XG59XG5cbmZ1bmN0aW9uIHNob3dNZXRyaWNHcmFwaCh5LCBtZXRyaWMpIHtcbiAgY29uc3Qgc21hbGwgPSBlbmdpbmUuZ2FtZV9oZWlnaHQgPCAzMDA7XG4gIGNvbnN0IExJTkVfV0lEVEggPSBzbWFsbCA/IDEgOiAzO1xuICBjb25zdCBMSU5FX1BBRCA9IHNtYWxsID8gMCA6IDE7XG4gIGNvbnN0IExJTkVfSEVJR0hUID0gc21hbGwgPyA2NCA6IDEyODtcbiAgY29uc3QgTlVNX0xJTkVTID0gbWV0cmljLmhpc3Rvcnlfc2l6ZSAtIDE7XG4gIGxldCB3ID0gKExJTkVfV0lEVEggKyBMSU5FX1BBRCkgKiBOVU1fTElORVM7XG4gIGxldCB4ID0gY2FtZXJhMmQueDFSZWFsKCkgLSB3O1xuICBsZXQgaCA9IExJTkVfSEVJR0hUICsgTElORV9QQUQgKiAyO1xuICBsZXQgeiA9IFouRlBTTUVURVI7XG4gIHVpLmRyYXdSZWN0KHgsIHkgLSBoLCB4ICsgdywgeSwgeisrLCBiZ19kZWZhdWx0KTtcbiAgeCArPSBMSU5FX1BBRDtcbiAgeSAtPSBMSU5FX1BBRDtcbiAgbGV0IGhpc3RvcnlfaW5kZXggPSBtZXRyaWMuZGF0YS5pbmRleDtcbiAgbGV0IGxpbmVfc2NhbGUgPSBMSU5FX0hFSUdIVCAvIG1ldHJpYy5saW5lX3NjYWxlX3RvcDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IE5VTV9MSU5FUzsgaWkrKykge1xuICAgIGxldCBsaW5lX2luZGV4ID0gKChpaSArIGhpc3RvcnlfaW5kZXggKyAxKSAlIG1ldHJpYy5oaXN0b3J5X3NpemUpICogbWV0cmljLm51bV9saW5lcztcbiAgICBsZXQgZGF0YSA9IG1ldHJpYy5kYXRhLmhpc3Rvcnk7XG4gICAgbGV0IGJhcl9tYXggPSAwO1xuICAgIGZvciAobGV0IGpqID0gMDsgamogPCBtZXRyaWMubnVtX2xpbmVzOyBqaisrKSB7XG4gICAgICBsZXQgbGluZV9qaiA9IGRhdGFbbGluZV9pbmRleCArIGpqXTtcbiAgICAgIGxldCBiYXJfbWluO1xuICAgICAgaWYgKG1ldHJpYy5iYXJzX3N0YWNrKSB7XG4gICAgICAgIGJhcl9taW4gPSBiYXJfbWF4O1xuICAgICAgICBiYXJfbWF4ICs9IGxpbmVfamo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBiYXJzIG92ZXJsYXAsIGZpZ3VyZSBvdXQgaG93IGJpZyB0aGlzIGJhciBzaG91bGQgYmUgcmVsYXRpdmUgdG8gbmV4dCBzbWFsbGVzdFxuICAgICAgICBsZXQgbGVzc2VyID0gMDtcbiAgICAgICAgZm9yIChsZXQga2sgPSAwOyBrayA8IG1ldHJpYy5udW1fbGluZXM7IGtrKyspIHtcbiAgICAgICAgICBpZiAoa2sgPT09IGpqKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGxpbmVfa2sgPSBkYXRhW2xpbmVfaW5kZXggKyBra107XG4gICAgICAgICAgaWYgKChsaW5lX2trIDwgbGluZV9qaiB8fCBsaW5lX2trID09PSBsaW5lX2pqICYmIGtrIDwgamopICYmIGxpbmVfa2sgPiBsZXNzZXIpIHtcbiAgICAgICAgICAgIGxlc3NlciA9IGxpbmVfa2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJhcl9taW4gPSBsZXNzZXI7XG4gICAgICAgIGJhcl9tYXggPSBsaW5lX2pqO1xuICAgICAgfVxuICAgICAgbGV0IGNvbG9yID0gbWV0cmljLmNvbG9yc1tqal07XG4gICAgICB1aS5kcmF3UmVjdCh4LCB5IC0gYmFyX21heCAqIGxpbmVfc2NhbGUsIHggKyBMSU5FX1dJRFRILCB5IC0gYmFyX21pbiAqIGxpbmVfc2NhbGUsIHosIGNvbG9yKTtcbiAgICB9XG4gICAgeCArPSBMSU5FX1dJRFRIICsgTElORV9QQUQ7XG4gIH1cbiAgeiArPSBOVU1fTElORVM7XG4gIHkgLT0gTElORV9IRUlHSFQgKyBMSU5FX1BBRDtcbiAgcmV0dXJuIHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3KCkge1xuICBjYW1lcmEyZC5zZXRBc3BlY3RGaXhlZChlbmdpbmUuZ2FtZV93aWR0aCwgZW5naW5lLmdhbWVfaGVpZ2h0KTtcbiAgbGV0IHkgPSBjYW1lcmEyZC55MFJlYWwoKTtcbiAgbGV0IHlfZ3JhcGggPSBjYW1lcmEyZC55MVJlYWwoKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG1ldHJpY3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG1ldHJpYyA9IG1ldHJpY3NbaWldO1xuICAgIGlmIChzZXR0aW5nc1ttZXRyaWMuc2hvd19zdGF0XSkge1xuICAgICAgeSA9IHNob3dNZXRyaWMoeSwgbWV0cmljKTtcbiAgICAgIHkgKz0gTUVUUklDX1BBRDtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzW21ldHJpYy5zaG93X2dyYXBoXSkge1xuICAgICAgeV9ncmFwaCA9IHNob3dNZXRyaWNHcmFwaCh5X2dyYXBoLCBtZXRyaWMpO1xuICAgICAgeV9ncmFwaCAtPSBNRVRSSUNfUEFEO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxubGV0IHVzZXJfd2FudF9sb2NrZWQgPSBmYWxzZTtcbmxldCBlbGVtO1xubGV0IG9uX3B0cl9sb2NrO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNMb2NrZWQoKSB7XG4gIHJldHVybiB1c2VyX3dhbnRfbG9ja2VkOyAvLyBFaXRoZXIgaXQncyBsb2NrZWQsIG9yIHRoZXJlJ3MgYW4gYXN5bmMgYXR0ZW1wdCB0byBsb2NrIGl0IG91dHN0YW5kaW5nXG59XG5cbmZ1bmN0aW9uIHBvaW50ZXJMb2cobXNnKSB7XG4gIGNvbnNvbGUubG9nKGBQb2ludGVyTG9jazogJHttc2d9YCk7IC8vIFRPRE86IERpc2FibGUgdGhpcyBhZnRlciB0aGluZ3Mgc2V0dGxlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGl0KCkge1xuICBwb2ludGVyTG9nKCdMb2NrIGV4aXQgcmVxdWVzdGVkJyk7XG4gIHVzZXJfd2FudF9sb2NrZWQgPSBmYWxzZTtcbiAgZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlcih3aGVuKSB7XG4gIHVzZXJfd2FudF9sb2NrZWQgPSB0cnVlO1xuICBvbl9wdHJfbG9jaygpO1xuICBwb2ludGVyTG9nKGBUcnlpbmcgcG9pbnRlciBsb2NrIGluIHJlc3BvbnNlIHRvICR7d2hlbn1gKTtcbiAgZWxlbS5yZXF1ZXN0UG9pbnRlckxvY2soKTtcbn1cblxuZnVuY3Rpb24gb25Qb2ludGVyTG9ja0NoYW5nZSgpIHtcbiAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCB8fCBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0UG9pbnRlckxvY2tFbGVtZW50KSB7XG4gICAgcG9pbnRlckxvZygnTG9jayBzdWNjZXNzZnVsJyk7XG4gICAgaWYgKCF1c2VyX3dhbnRfbG9ja2VkKSB7XG4gICAgICBwb2ludGVyTG9nKCdVc2VyIGNhbmNlbGVkIGxvY2snKTtcbiAgICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodXNlcl93YW50X2xvY2tlZCkge1xuICAgICAgcG9pbnRlckxvZygnTG9jayBsb3N0Jyk7XG4gICAgICB1c2VyX3dhbnRfbG9ja2VkID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uUG9pbnRlckxvY2tFcnJvcihlKSB7XG4gIHBvaW50ZXJMb2coJ0Vycm9yJyk7XG4gIHVzZXJfd2FudF9sb2NrZWQgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoX2VsZW0sIF9vbl9wdHJfbG9jaykge1xuICBlbGVtID0gX2VsZW07XG4gIG9uX3B0cl9sb2NrID0gX29uX3B0cl9sb2NrO1xuXG4gIGVsZW0ucmVxdWVzdFBvaW50ZXJMb2NrID0gZWxlbS5yZXF1ZXN0UG9pbnRlckxvY2sgfHwgZWxlbS5tb3pSZXF1ZXN0UG9pbnRlckxvY2sgfHxcbiAgICBlbGVtLndlYmtpdFJlcXVlc3RQb2ludGVyTG9jayB8fCBmdW5jdGlvbiAoKSB7IC8qIG5vcCAqLyB9O1xuICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2sgPSBkb2N1bWVudC5leGl0UG9pbnRlckxvY2sgfHwgZG9jdW1lbnQubW96RXhpdFBvaW50ZXJMb2NrIHx8XG4gICAgZG9jdW1lbnQud2Via2l0RXhpdFBvaW50ZXJMb2NrIHx8IGZ1bmN0aW9uICgpIHsgLyogbm9wICovIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tjaGFuZ2UnLCBvblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venBvaW50ZXJsb2NrY2hhbmdlJywgb25Qb2ludGVyTG9ja0NoYW5nZSwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRwb2ludGVybG9ja2NoYW5nZScsIG9uUG9pbnRlckxvY2tDaGFuZ2UsIGZhbHNlKTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2Vycm9yJywgb25Qb2ludGVyTG9ja0Vycm9yLCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venBvaW50ZXJsb2NrZXJyb3InLCBvblBvaW50ZXJMb2NrRXJyb3IsIGZhbHNlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0cG9pbnRlcmxvY2tlcnJvcicsIG9uUG9pbnRlckxvY2tFcnJvciwgZmFsc2UpO1xufVxuIiwiLyogZXNsaW50IG5vLWV4dGVuZC1uYXRpdmU6b2ZmLG5vLWludmFsaWQtdGhpczpvZmYgKi9cblxuLy8gVHlwZWRBcnJheS5zbGljZSwgZmlsbCwgam9pbiwgc29ydCwgZXRjIC0gbm90IHN1cHBvcnRlZCBvbiBJRSwgc29tZSBvbGRlciBTYWZhcmksIG9sZGVyIEFuZHJvaWQsIENocm9tZSA0NFxubGV0IHR5cGVkYXJyYXlzID0gW0ludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksIEludDMyQXJyYXksIFVpbnQzMkFycmF5LCBGbG9hdDMyQXJyYXldO1xuXG5pZiAoIVVpbnQ4QXJyYXkucHJvdG90eXBlLnNsaWNlKSB7XG4gIHR5cGVkYXJyYXlzLmZvckVhY2goZnVuY3Rpb24gKEFycmF5VHlwZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheVR5cGUucHJvdG90eXBlLCAnc2xpY2UnLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKGJlZ2luLCBlbmQpIHtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgICBlbmQgPSB0aGlzLmxlbmd0aCAtIGVuZDtcbiAgICAgICAgfVxuICAgICAgICBiZWdpbiA9IGJlZ2luIHx8IDA7XG4gICAgICAgIGlmIChiZWdpbiA+PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgIGJlZ2luID0gdGhpcy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPCBiZWdpbikge1xuICAgICAgICAgIGVuZCA9IGJlZ2luO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsZW4gPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgbGV0IHJldCA9IG5ldyBBcnJheVR5cGUobGVuKTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbjsgKytpaSkge1xuICAgICAgICAgIHJldFtpaV0gPSB0aGlzW2JlZ2luICsgaWldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbXBEZWZhdWx0KGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxubGV0IHJlcGxhY2VtZW50cyA9IHtcbiAgam9pbjogZnVuY3Rpb24gKGRlbGltKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwodGhpcywgZGVsaW0pO1xuICB9LFxuICBmaWxsOiBmdW5jdGlvbiAodmFsdWUsIGJlZ2luLCBlbmQpIHtcbiAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IGJlZ2luIHx8IDA7IGlpIDwgZW5kOyArK2lpKSB7XG4gICAgICB0aGlzW2lpXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc29ydDogZnVuY3Rpb24gKGNtcCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5zb3J0LmNhbGwodGhpcywgY21wIHx8IGNtcERlZmF1bHQpO1xuICB9LFxufTtcblxuZm9yIChsZXQga2V5IGluIHJlcGxhY2VtZW50cykge1xuICBpZiAoIVVpbnQ4QXJyYXkucHJvdG90eXBlW2tleV0pIHtcbiAgICB0eXBlZGFycmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChBcnJheVR5cGUpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheVR5cGUucHJvdG90eXBlLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHJlcGxhY2VtZW50c1trZXldLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKCFTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCAnZW5kc1dpdGgnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uICh0ZXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgtdGVzdC5sZW5ndGgpID09PSB0ZXN0O1xuICAgIH0sXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ3N0YXJ0c1dpdGgnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uICh0ZXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCB0ZXN0Lmxlbmd0aCkgPT09IHRlc3Q7XG4gICAgfSxcbiAgfSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG4vLyBBbGVhIFBSTkdcbi8vIEJhc2VkIG9uIGNvZGUgZnJvbSBKb2hhbm5lcyBCYWFnw7hlIDxiYWFnb2VAYmFhZ29lLmNvbT4sIDIwMTBcbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NvdmVyc2xpZGUvbm9kZS1hbGVhL2Jsb2IvbWFzdGVyL2FsZWEuanMsIE1JVCBMaWNlbnNlZFxuLy8gRnJvbSBodHRwOi8vYmFhZ29lLmNvbS9lbi9SYW5kb21NdXNpbmdzL2phdmFzY3JpcHQvXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXNoU3RyaW5nKGRhdGEpIHtcbiAgbGV0IG4gPSAweGVmYzgyNDlkO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBuICs9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICBsZXQgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xuICAgIG4gPSBoID4+PiAwO1xuICAgIGggLT0gbjtcbiAgICBoICo9IG47XG4gICAgbiA9IGggPj4+IDA7XG4gICAgaCAtPSBuO1xuICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG4gIH1cbiAgcmV0dXJuIG4gPj4+IDA7XG4gIC8vIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxufVxuXG4vLyBUYWtlcyBhbiBpbnRlZ2VyICh1cCB0byA1M2JpdHMpIGFuZCByZXR1cm5zIGEgMC0xIGZsb2F0XG5leHBvcnQgZnVuY3Rpb24gbWFzaEk1MyhkYXRhKSB7XG4gIGxldCBuID0gMHhlZmM4MjQ5ZDtcbiAgd2hpbGUgKGRhdGEpIHtcbiAgICBsZXQgYnl0ZSA9IGRhdGEgJSAyNTY7XG4gICAgZGF0YSA9IChkYXRhIC0gYnl0ZSkgLyAyNTY7XG4gICAgbiArPSBieXRlO1xuICAgIGxldCBoID0gMC4wMjUxOTYwMzI4MjQxNjkzOCAqIG47XG4gICAgbiA9IGggPj4+IDA7XG4gICAgaCAtPSBuO1xuICAgIGggKj0gbjtcbiAgICBuID0gaCA+Pj4gMDtcbiAgICBoIC09IG47XG4gICAgbiArPSBoICogMHgxMDAwMDAwMDA7IC8vIDJeMzJcbiAgfVxuICByZXR1cm4gKG4gPj4+IDApICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gMl4tMzJcbn1cblxuZnVuY3Rpb24gTWFzaCgpIHtcbiAgdGhpcy5uID0gMHhjMDZjNWZjODsgLy8gMHhlZmM4MjQ5ZDtcbn1cbk1hc2gucHJvdG90eXBlLm1hc2ggPSBmdW5jdGlvbiAoZGF0YSkge1xuICBsZXQgbiA9IHRoaXMubiArIGRhdGE7XG4gIGxldCBoID0gMC4wMjUxOTYwMzI4MjQxNjkzOCAqIG47XG4gIG4gPSBoID4+PiAwO1xuICBoIC09IG47XG4gIGggKj0gbjtcbiAgbiA9IGggPj4+IDA7XG4gIGggLT0gbjtcbiAgbiArPSBoICogMHgxMDAwMDAwMDA7IC8vIDJeMzJcbiAgdGhpcy5uID0gbjtcbiAgcmV0dXJuIChuID4+PiAwKSAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXG59O1xuXG5mdW5jdGlvbiBBbGVhKHNlZWQpIHtcbiAgdGhpcy5yZXNlZWQoc2VlZCk7XG59XG5BbGVhLnByb3RvdHlwZS5yZXNlZWQgPSBmdW5jdGlvbiAoc2VlZCkge1xuICAvLyB0aGlzLnMwL3MxL3MyIGFyZSBmbG9hdGluZyBwb2ludCBiZXR3ZWVuIDAgYW5kIDFcbiAgLy8gdGhpcy5jIGlzIGEgMzItYml0IGludFxuICB0aGlzLmMgPSAxO1xuICBsZXQgbWFzaCA9IG5ldyBNYXNoKCk7XG4gIC8vIEhhcmQtY29kZWQgcmVzdWx0cyBvZiBpbml0aWFsIG1hc2goJyAnKSBmb3VuZCBpbiBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvblxuICB0aGlzLnMwID0gMC4zMDE0NTgxMzI0NTMyNjI4O1xuICB0aGlzLnMxID0gMC4yNjQzMjIwNDA2MDI1NjQ4O1xuICB0aGlzLnMyID0gMC43NTE2NTM2NTgyMjYxMzI0O1xuXG4gIHRoaXMuczAgLT0gbWFzaC5tYXNoKHNlZWQpO1xuICBpZiAodGhpcy5zMCA8IDApIHtcbiAgICB0aGlzLnMwICs9IDE7XG4gIH1cbiAgdGhpcy5zMSAtPSBtYXNoLm1hc2goc2VlZCk7XG4gIGlmICh0aGlzLnMxIDwgMCkge1xuICAgIHRoaXMuczEgKz0gMTtcbiAgfVxuICB0aGlzLnMyIC09IG1hc2gubWFzaChzZWVkKTtcbiAgaWYgKHRoaXMuczIgPCAwKSB7XG4gICAgdGhpcy5zMiArPSAxO1xuICB9XG59O1xuQWxlYS5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHQgPSAyMDkxNjM5ICogdGhpcy5zMCArIHRoaXMuYyAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXG4gIHRoaXMuczAgPSB0aGlzLnMxO1xuICB0aGlzLnMxID0gdGhpcy5zMjtcbiAgcmV0dXJuICh0aGlzLnMyID0gdCAtICh0aGlzLmMgPSB0IHwgMCkpO1xufTtcbkFsZWEucHJvdG90eXBlLnVpbnQzMiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuc3RlcCgpICogMHgxMDAwMDAwMDA7IC8vIDJeMzJcbn07XG5BbGVhLnByb3RvdHlwZS5mcmFjdDUzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zdGVwKCkgK1xuICAgICh0aGlzLnN0ZXAoKSAqIDB4MjAwMDAwIHwgMCkgKiAxLjExMDIyMzAyNDYyNTE1NjVlLTE2OyAvLyAyXi01M1xufTtcbkFsZWEucHJvdG90eXBlLnJhbmRvbSA9IEFsZWEucHJvdG90eXBlLnN0ZXA7XG5BbGVhLnByb3RvdHlwZS5yYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICByZXR1cm4gKHRoaXMuc3RlcCgpICogcmFuZ2UpIHwgMDtcbn07XG5BbGVhLnByb3RvdHlwZS5mbG9hdEJldHdlZW4gPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYSArIChiIC0gYSkgKiB0aGlzLnJhbmRvbSgpO1xufTtcblxuLy8gTm90ZTogaW1wb3J0L2V4cG9ydCBwcm9iYWJseSBuZWVkcyBtb3JlIHByZWNpc2lvbiB0aGFuIEYzMiBvciBKU09OIHByb3ZpZGVcbkFsZWEucHJvdG90eXBlLmV4cG9ydFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gW3RoaXMuczAsIHRoaXMuczEsIHRoaXMuczIsIHRoaXMuY107XG59O1xuQWxlYS5wcm90b3R5cGUuaW1wb3J0U3RhdGUgPSBmdW5jdGlvbiAoaSkge1xuICB0aGlzLnMwID0gaVswXTtcbiAgdGhpcy5zMSA9IGlbMV07XG4gIHRoaXMuczIgPSBpWzJdO1xuICB0aGlzLmMgPSBpWzNdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRDcmVhdGUoc2VlZCkge1xuICByZXR1cm4gbmV3IEFsZWEoc2VlZCk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG4vLyBSYW5kU2VlZDJcbi8vIERlcml2ZWQgZnJvbSBsaWJHbG92LCBNSVQgTGljZW5zZWRcbi8vIFN1cGVyLXNpbXBsZSBSTkcuICAyLTN4IGZhc3RlciB0aGFuIEFsZWEsIGJ1dCBwcm9iYWJseSBzb21lIGNvcnJlbGF0aW9uIGluXG4vLyAgIGFueXRoaW5nIGJ1dCAxRC5cbi8vIEFsbG93cyBmb3IgZmFzdCwgZGlyZWN0IG1hbmlwdWxhdGlvbiBvZiByYW5kLnNlZWQgKGlmIGNvcnJlbGF0aW9uIGJldHdlZW4gYWRqYWNlbnQgc2VlZHMgaXMgYWNjZXB0YWJsZSlcblxuLy9jb25zdCBNQVhfSU5UMiA9IDB4RkZGRkZGRkY7XG5cbi8vIEluaXRpYWxpemUgd2l0aCB0d28gc3RlcHMgcGFzdCB0aGUgc2VlZCwgb3RoZXJ3aXNlIGNsb3NlIHNlZWRzIChlLmcuIDAgYW5kIDEpIHByb2R1Y2UgdmVyeSBjbG9zZSBmaXJzdCByZXN1bHRzXG5mdW5jdGlvbiBzdGVwMihzZWVkKSB7XG4gIHNlZWQgPSAoc2VlZCA+Pj4gMCkgfHwgMHg1MzJmNjM4YzI7IC8vIGFyYml0cmFyeSBub24temVyb1xuICBzZWVkIF49IHNlZWQgPDwgMTM7XG4gIHNlZWQgXj0gc2VlZCA+Pj4gMTc7XG4gIHNlZWQgXj0gc2VlZCA8PCA1O1xuICBzZWVkIF49IHNlZWQgPDwgMTM7XG4gIHNlZWQgXj0gc2VlZCA+Pj4gMTc7XG4gIHNlZWQgXj0gc2VlZCA8PCA1O1xuICByZXR1cm4gc2VlZCA+Pj4gMDtcbn1cblxuZnVuY3Rpb24gUmFuZFNlZWQyKHNlZWQpIHtcbiAgdGhpcy5zZWVkID0gc3RlcDIoc2VlZCk7XG59XG5SYW5kU2VlZDIucHJvdG90eXBlLnJlc2VlZCA9IGZ1bmN0aW9uIChzZWVkKSB7XG4gIHRoaXMuc2VlZCA9IHN0ZXAyKHNlZWQpO1xufTtcblJhbmRTZWVkMi5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsgLy8gYXMgbG9uZyBhcyBzZWVkIGlzIG5ldmVyID09PSAwLCB0aGlzIG5ldmVyIHJldHVybnMgMFxuICBsZXQgc2VlZCA9IHRoaXMuc2VlZDtcbiAgc2VlZCBePSBzZWVkIDw8IDEzO1xuICBzZWVkIF49IHNlZWQgPj4+IDE3O1xuICBzZWVkIF49IHNlZWQgPDwgNTtcbiAgcmV0dXJuICh0aGlzLnNlZWQgPSAoc2VlZCA+Pj4gMCkpIC0gMTtcbn07XG5SYW5kU2VlZDIucHJvdG90eXBlLnVpbnQzMiA9IFJhbmRTZWVkMi5wcm90b3R5cGUuc3RlcDtcbi8vIHJldHVybnMgWzAscmFuZ2UtMV1cblJhbmRTZWVkMi5wcm90b3R5cGUucmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgLy8gc2xpZ2h0bHkgc2xvd2VyIChlc3AgYmVmb3JlIG9wdCk6IHJldHVybiAodGhpcy5zdGVwKCkgKiByYW5nZSAvIE1BWF9JTlQyKSB8IDA7IC8vIGZhc3RlciB0aGFuIHRoaXMuc3RlcCgpICUgcmFuZ2VcbiAgLy8gc2xvd2VyOiByZXR1cm4gdGhpcy5zdGVwKCkgJSByYW5nZTtcbiAgcmV0dXJuICh0aGlzLnN0ZXAoKSAqIHJhbmdlICogMi4zMjgzMDY0Mzc2ZS0xMCkgfCAwOyAvLyAxL01BWF9JTlQyIC0gbGFyZ2VzdCBmbG9hdCBzdWNoIHRoYXQgMHhGRkZGRkZGRSpmIDwgMS4wXG59O1xuLy8gcmV0dXJucyBbMCwxKVxuUmFuZFNlZWQyLnByb3RvdHlwZS5yYW5kb20gPSBmdW5jdGlvbiAoKSB7XG4gIC8vIHNsb3dlcjogcmV0dXJuIHRoaXMuc3RlcCgpIC8gTUFYX0lOVDJcbiAgcmV0dXJuIHRoaXMuc3RlcCgpICogMi4zMjgzMDY0Mzc2ZS0xMDsgLy8gMS9NQVhfSU5UMiAtIGxhcmdlc3QgZmxvYXQgc3VjaCB0aGF0IDB4RkZGRkZGRkUqZiA8IDEuMFxufTtcblJhbmRTZWVkMi5wcm90b3R5cGUuZmxvYXRCZXR3ZWVuID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGEgKyAoYiAtIGEpICogdGhpcy5yYW5kb20oKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kRmFzdENyZWF0ZShzZWVkKSB7XG4gIHJldHVybiBuZXcgUmFuZFNlZWQyKHNlZWQpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMjAgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8gVGhpcyBpcyBwb3J0ZWQgcHJldHR5IGRpcmVjdGx5IGZyb20gbGliR0xPViwgY291bGQgcmVhbGx5IHVzZSBhIGZyZXNoXG4vLyAgIGltcGxlbWVudGF0aW9uIHRoYXQgaXMgbW9yZSBmb2N1cyBhd2FyZSBhbmQgZ2FtZXBhZCBmcmllbmRseSwgYW5kIHNob3VsZFxuLy8gICB1c2UgdWkuYnV0dG9uU2hhcmVkIGxvZ2ljLlxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgeyBLRVlTLCBQQUQgfSA9IGlucHV0O1xuY29uc3QgeyBtYXgsIG1pbiwgcm91bmQgfSA9IE1hdGg7XG5jb25zdCB7IGNsaXBQdXNoLCBjbGlwUG9wIH0gPSByZXF1aXJlKCcuL3Nwcml0ZXMuanMnKTtcbmNvbnN0IHVpID0gcmVxdWlyZSgnLi91aS5qcycpO1xuY29uc3QgeyBjbGFtcCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgdmVjMiwgdmVjNCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5jb25zdCBNQVhfT1ZFUlNDUk9MTCA9IDUwO1xuY29uc3QgT1ZFUlNDUk9MTF9ERUxBWV9XSEVFTCA9IDE4MDtcblxuZnVuY3Rpb24gZGFya2VuKGNvbG9yLCBmYWN0b3IpIHtcbiAgcmV0dXJuIHZlYzQoY29sb3JbMF0gKiBmYWN0b3IsIGNvbG9yWzFdICogZmFjdG9yLCBjb2xvclsyXSAqIGZhY3RvciwgY29sb3JbM10pO1xufVxuXG5sZXQgZGVmYXVsdF9waXhlbF9zY2FsZSA9IDE7XG5leHBvcnQgZnVuY3Rpb24gc2V0UGl4ZWxTY2FsZShzY2FsZSkge1xuICBkZWZhdWx0X3BpeGVsX3NjYWxlID0gc2NhbGU7XG59XG5cbmZ1bmN0aW9uIFNjcm9sbEFyZWEocGFyYW1zKSB7XG4gIC8vIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICB0aGlzLnggPSAwO1xuICB0aGlzLnkgPSAwO1xuICB0aGlzLnogPSBaLlVJOyAvLyBhY3R1YWxseSBpbiBET00sIHNvIGFib3ZlIGV2ZXJ5dGhpbmchXG4gIHRoaXMudyA9IDEwO1xuICB0aGlzLmggPSAxMDsgLy8gaGVpZ2h0IG9mIHZpc2libGUgYXJlYSwgbm90IHNjcm9sbGVkIGFyZWFcbiAgdGhpcy5yYXRlX3Njcm9sbF9jbGljayA9IHVpLmZvbnRfaGVpZ2h0O1xuICB0aGlzLnBpeGVsX3NjYWxlID0gZGVmYXVsdF9waXhlbF9zY2FsZTtcbiAgdGhpcy50b3BfcGFkID0gdHJ1ZTsgLy8gc2V0IHRvIGZhbHNlIGl0IHRoZSB0b3AvYm90dG9tIFwiYnV0dG9uc1wiIGRvbid0IGxvb2sgbGlrZSBidXR0b25zXG4gIHRoaXMuY29sb3IgPSB2ZWM0KDEsMSwxLDEpO1xuICB0aGlzLmJhY2tncm91bmRfY29sb3IgPSB2ZWM0KDAuOCwgMC44LCAwLjgsIDEpOyAvLyBjYW4gYmUgbnVsbFxuICB0aGlzLmF1dG9fc2Nyb2xsID0gZmFsc2U7IC8vIElmIHRydWUsIHdpbGwgc2Nyb2xsIHRvIHRoZSBib3R0b20gaWYgdGhlIGhlaWdodCBjaGFuZ2VzIGFuZCB3ZSdyZSBub3QgYWN0aXZlbHkgc2Nyb2xsaW5nXG4gIHRoaXMuZm9jdXNhYmxlX2VsZW0gPSBudWxsOyAvLyBBbm90aGVyIGVsZW1lbnQgdG8gY2FsbCAuZm9jdXMoKSBvbiBpZiB3ZSB0aGluayB3ZSBhcmUgZm9jdXNlZFxuICB0aGlzLmFwcGx5UGFyYW1zKHBhcmFtcyk7XG5cbiAgLy8gQ2FsY3VsYXRlZCAob25seSBvbmNlKSBpZiBub3Qgc2V0XG4gIHRoaXMucmF0ZV9zY3JvbGxfd2hlZWwgPSB0aGlzLnJhdGVfc2Nyb2xsX3doZWVsIHx8IHRoaXMucmF0ZV9zY3JvbGxfY2xpY2sgKiAyO1xuICB0aGlzLnJvbGxvdmVyX2NvbG9yID0gdGhpcy5yb2xsb3Zlcl9jb2xvciB8fCBkYXJrZW4odGhpcy5jb2xvciwgMC43NSk7XG4gIHRoaXMucm9sbG92ZXJfY29sb3JfbGlnaHQgPSB0aGlzLnJvbGxvdmVyX2NvbG9yX2xpZ2h0IHx8IGRhcmtlbih0aGlzLmNvbG9yLCAwLjk1KTtcbiAgYXNzZXJ0KHRoaXMucm9sbG92ZXJfY29sb3JfbGlnaHQgIT09IHRoaXMuY29sb3IpOyAvLyBlcXVhbGl0eSBpcyB1c2VkIHRvIGRldGVjdCBpZiB0aGlzIGdldHMgdXNlZCBhbmQgcHJldmVudCByb2xsb3ZlclxuICB0aGlzLmRpc2FibGVkX2NvbG9yID0gdGhpcy5kaXNhYmxlZF9jb2xvciB8fCB0aGlzLnJvbGxvdmVyX2NvbG9yO1xuICB0aGlzLmJhY2tncm91bmRfY29sb3JfZm9jdXNlZCA9IHRoaXMuYmFja2dyb3VuZF9jb2xvcl9mb2N1c2VkIHx8IChcbiAgICB0aGlzLmJhY2tncm91bmRfY29sb3IgPyB2ZWM0KDAuNCwgMC40LCAwLjQsIDEpIDogbnVsbFxuICApO1xuXG4gIC8vIHJ1bi10aW1lIHN0YXRlXG4gIHRoaXMuc2Nyb2xsX3BvcyA9IDA7XG4gIHRoaXMub3ZlcnNjcm9sbCA9IDA7IC8vIG92ZXJzY3JvbGwgYmV5b25kIGJlZ2lubmluZyBvciBlbmRcbiAgdGhpcy5vdmVyc2Nyb2xsX2RlbGF5ID0gMDtcbiAgdGhpcy5ncmFiYmVkX3BvcyA9IDA7XG4gIHRoaXMuZ3JhYmJlZCA9IGZhbHNlO1xuICB0aGlzLmRyYWdfc3RhcnQgPSBudWxsO1xuICB0aGlzLmJlZ2FuID0gZmFsc2U7XG4gIHRoaXMubGFzdF9pbnRlcm5hbF9oID0gMDtcbiAgdGhpcy5sYXN0X2ZyYW1lID0gMDtcbiAgdGhpcy5mb2N1c2VkID0gZmFsc2U7XG4gIHRoaXMud2FzX2Rpc2FibGVkID0gZmFsc2U7XG4gIHRoaXMuc2Nyb2xsYmFyX3Zpc2libGUgPSBmYWxzZTtcbn1cblxuU2Nyb2xsQXJlYS5wcm90b3R5cGUuYXBwbHlQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAobGV0IGYgaW4gcGFyYW1zKSB7XG4gICAgdGhpc1tmXSA9IHBhcmFtc1tmXTtcbiAgfVxufTtcblxuU2Nyb2xsQXJlYS5wcm90b3R5cGUuYmFyV2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB7IHBpeGVsX3NjYWxlIH0gPSB0aGlzO1xuICBsZXQgeyBzY3JvbGxiYXJfdG9wIH0gPSB1aS5zcHJpdGVzO1xuICByZXR1cm4gc2Nyb2xsYmFyX3RvcC51aWRhdGEudG90YWxfdyAqIHBpeGVsX3NjYWxlO1xufTtcblxuU2Nyb2xsQXJlYS5wcm90b3R5cGUuaXNGb2N1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5mb2N1c2VkO1xufTtcblxuU2Nyb2xsQXJlYS5wcm90b3R5cGUuYmVnaW4gPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIHRoaXMuYXBwbHlQYXJhbXMocGFyYW1zKTtcbiAgbGV0IHsgeCwgeSwgdywgaCwgeiB9ID0gdGhpcztcbiAgYXNzZXJ0KCF0aGlzLmJlZ2FuIHx8IGVuZ2luZS5ERUJVRyk7IC8vIENoZWNraW5nIG1pc21hdGNoZWQgYmVnaW4vZW5kXG4gIHRoaXMuYmVnYW4gPSB0cnVlO1xuICAvLyBTZXQgdXAgY2FtZXJhIGFuZCBjbGlwcGVyc1xuICBjbGlwUHVzaCh6ICsgMC4wNSwgeCwgeSwgdyAtIHRoaXMuYmFyV2lkdGgoKSwgaCk7XG4gIGxldCBjYW1lcmFfb3JpZ194MCA9IGNhbWVyYTJkLngwKCk7XG4gIGxldCBjYW1lcmFfb3JpZ194MSA9IGNhbWVyYTJkLngxKCk7XG4gIGxldCBjYW1lcmFfb3JpZ195MCA9IGNhbWVyYTJkLnkwKCk7XG4gIGxldCBjYW1lcmFfb3JpZ195MSA9IGNhbWVyYTJkLnkxKCk7XG4gIC8vIG1hcCAoMCwwKSBvbnRvICh4LHkpIGluIHRoZSBjdXJyZW50IGNhbWVyYSBzcGFjZSwga2VlcGluZyB3L2ggc2NhbGUgdGhlIHNhbWVcbiAgbGV0IGNhbWVyYV9uZXdfeDAgPSAtKHggLSBjYW1lcmFfb3JpZ194MCk7XG4gIGxldCBjYW1lcmFfbmV3X3kwID0gLSh5IC0gY2FtZXJhX29yaWdfeTApICsgcm91bmQodGhpcy5zY3JvbGxfcG9zICsgdGhpcy5vdmVyc2Nyb2xsKTtcbiAgbGV0IGNhbWVyYV9uZXdfeDEgPSBjYW1lcmFfbmV3X3gwICsgY2FtZXJhX29yaWdfeDEgLSBjYW1lcmFfb3JpZ194MDtcbiAgbGV0IGNhbWVyYV9uZXdfeTEgPSBjYW1lcmFfbmV3X3kwICsgY2FtZXJhX29yaWdfeTEgLSBjYW1lcmFfb3JpZ195MDtcbiAgY2FtZXJhMmQucHVzaCgpO1xuICBjYW1lcmEyZC5zZXQoY2FtZXJhX25ld194MCwgY2FtZXJhX25ld195MCwgY2FtZXJhX25ld194MSwgY2FtZXJhX25ld195MSk7XG59O1xuXG5TY3JvbGxBcmVhLnByb3RvdHlwZS5jbGFtcFNjcm9sbFBvcyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGNsYW1wZWRfcG9zID0gY2xhbXAodGhpcy5zY3JvbGxfcG9zLCAwLCB0aGlzLmxhc3RfbWF4X3ZhbHVlKTtcbiAgaWYgKHRoaXMuc2Nyb2xsX3BvcyA8IDApIHtcbiAgICB0aGlzLm92ZXJzY3JvbGwgPSBtYXgodGhpcy5zY3JvbGxfcG9zLCAtTUFYX09WRVJTQ1JPTEwpO1xuICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsX3BvcyA+IHRoaXMubGFzdF9tYXhfdmFsdWUpIHtcbiAgICB0aGlzLm92ZXJzY3JvbGwgPSBtaW4odGhpcy5zY3JvbGxfcG9zIC0gdGhpcy5sYXN0X21heF92YWx1ZSwgTUFYX09WRVJTQ1JPTEwpO1xuICB9XG4gIHRoaXMuc2Nyb2xsX3BvcyA9IGNsYW1wZWRfcG9zO1xufTtcblxuU2Nyb2xsQXJlYS5wcm90b3R5cGUua2V5Ym9hcmRTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLndhc19kaXNhYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbW9kaWZpZWQgPSBmYWxzZTtcbiAgbGV0IHBhZF9zaGlmdCA9IGlucHV0LnBhZEJ1dHRvbkRvd24oUEFELlJJR0hUX1RSSUdHRVIpIHx8IGlucHV0LnBhZEJ1dHRvbkRvd24oUEFELkxFRlRfVFJJR0dFUik7XG4gIGxldCB2YWx1ZSA9IGlucHV0LmtleURvd25FZGdlKEtFWVMuUEFHRURPV04pICtcbiAgICAocGFkX3NoaWZ0ID8gaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoUEFELkRPV04pIDogMCk7XG4gIGlmICh2YWx1ZSkge1xuICAgIC8vIGRvbid0IG92ZXJzY3JvbGwgb24gcGFnZXVwL3BhZ2Vkb3duIHVubGVzcyB3ZSdyZSBhbHJlYWR5IGF0IHRoZSBlbmRcbiAgICB0aGlzLnNjcm9sbF9wb3MgPSBtaW4odGhpcy5zY3JvbGxfcG9zICsgdGhpcy5oLFxuICAgICAgdGhpcy5zY3JvbGxfcG9zID09PSB0aGlzLmxhc3RfbWF4X3ZhbHVlID8gSW5maW5pdHkgOiB0aGlzLmxhc3RfbWF4X3ZhbHVlKTtcbiAgICBtb2RpZmllZCA9IHRydWU7XG4gIH1cbiAgdmFsdWUgPSBpbnB1dC5rZXlEb3duRWRnZShLRVlTLlBBR0VVUCkgK1xuICAgIChwYWRfc2hpZnQgPyBpbnB1dC5wYWRCdXR0b25Eb3duRWRnZShQQUQuVVApIDogMCk7XG4gIGlmICh2YWx1ZSkge1xuICAgIHRoaXMuc2Nyb2xsX3BvcyA9IG1heCh0aGlzLnNjcm9sbF9wb3MgLSB0aGlzLmgsXG4gICAgICB0aGlzLnNjcm9sbF9wb3MgPT09IDAgPyAtdGhpcy5oIDogMCk7XG4gICAgbW9kaWZpZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG1vZGlmaWVkKSB7XG4gICAgdGhpcy5jbGFtcFNjcm9sbFBvcygpO1xuICB9XG59O1xuXG5sZXQgdGVtcF9wb3MgPSB2ZWMyKCk7XG4vLyBoIGlzIGhlaWdodCBhbGwgbWVtYmVycyBpbiB0aGUgc2Nyb2xsIGFyZWEgKGNhbiBiZSBtb3JlIG9yIGxlc3MgdGhhbiB2aXNpYmxlIGhlaWdodClcblNjcm9sbEFyZWEucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChoKSB7XG4gIC8vU2Nyb2xsQXJlYURpc3BsYXkgKmRpc3BsYXkgPSBPUih0aGlzLmRpc3BsYXksICZzY3JvbGxfYXJlYV9kaXNwbGF5X2RlZmF1bHQpO1xuICBhc3NlcnQoaCA+PSAwKTtcbiAgaCA9IG1heChoLCAxKTsgLy8gcHJldmVudCBtYXRoIGZyb20gZ29pbmcgYXdyeSBvbiBoZWlnaHQgb2YgMFxuICBhc3NlcnQodGhpcy5iZWdhbik7IC8vIENoZWNraW5nIG1pc21hdGNoZWQgYmVnaW4vZW5kXG4gIHRoaXMuYmVnYW4gPSBmYWxzZTtcbiAgLy8gcmVzdG9yZSBjYW1lcmEgYW5kIGNsaXBwZXJzXG4gIGNhbWVyYTJkLnBvcCgpO1xuICBjbGlwUG9wKCk7XG5cbiAgaWYgKHRoaXMuc2Nyb2xsX3BvcyA+IGggLSB0aGlzLmgpIHtcbiAgICAvLyBpbnRlcm5hbCBoZWlnaHQgbXVzdCBoYXZlIHNocnVua1xuICAgIHRoaXMuc2Nyb2xsX3BvcyA9IG1heCgwLCBoIC0gdGhpcy5oKzEpO1xuICB9XG4gIGlmICh0aGlzLm92ZXJzY3JvbGwpIHtcbiAgICBsZXQgZHQgPSBlbmdpbmUuZ2V0RnJhbWVEdCgpO1xuICAgIGlmIChkdCA+PSB0aGlzLm92ZXJzY3JvbGxfZGVsYXkpIHtcbiAgICAgIHRoaXMub3ZlcnNjcm9sbF9kZWxheSA9IDA7XG4gICAgICB0aGlzLm92ZXJzY3JvbGwgPSB0aGlzLm92ZXJzY3JvbGwgKiBtYXgoMSAtIGR0ICogMC4wMDgsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm92ZXJzY3JvbGxfZGVsYXkgLT0gZHQ7XG4gICAgfVxuICB9XG5cbiAgbGV0IHtcbiAgICBhdXRvX2hpZGUsXG4gICAgcGl4ZWxfc2NhbGUsXG4gICAgcm9sbG92ZXJfY29sb3IsXG4gICAgcm9sbG92ZXJfY29sb3JfbGlnaHQsXG4gIH0gPSB0aGlzO1xuXG4gIGxldCB7XG4gICAgc2Nyb2xsYmFyX3RvcCwgc2Nyb2xsYmFyX2JvdHRvbSwgc2Nyb2xsYmFyX3Ryb3VnaCwgc2Nyb2xsYmFyX2hhbmRsZSwgc2Nyb2xsYmFyX2hhbmRsZV9ncmFiYmVyXG4gIH0gPSB1aS5zcHJpdGVzO1xuXG4gIGxldCBiYXJfdyA9IHNjcm9sbGJhcl90b3AudWlkYXRhLnRvdGFsX3cgKiBwaXhlbF9zY2FsZTtcbiAgbGV0IGJ1dHRvbl9oID0gbWluKHNjcm9sbGJhcl90b3AudWlkYXRhLnRvdGFsX2ggKiBwaXhlbF9zY2FsZSwgdGhpcy5oIC8gMyk7XG4gIGxldCBidXR0b25faF9ub3BhZCA9IHRoaXMudG9wX3BhZCA/IGJ1dHRvbl9oIDogMDtcbiAgbGV0IGJhcl94MCA9IHRoaXMueCArIHRoaXMudyAtIGJhcl93O1xuICBsZXQgaGFuZGxlX2ggPSB0aGlzLmggLyBoOyAvLyBIb3cgbXVjaCBvZiB0aGUgYXJlYSBpcyB2aXNpYmxlXG4gIGhhbmRsZV9oID0gY2xhbXAoaGFuZGxlX2gsIDAsIDEpO1xuICBsZXQgaGFuZGxlX3BvcyA9ICh0aGlzLmggPiBoKSA/IDAgOiAodGhpcy5zY3JvbGxfcG9zIC8gKGggLSB0aGlzLmgpKTtcbiAgaGFuZGxlX3BvcyA9IGNsYW1wKGhhbmRsZV9wb3MsIDAsIDEpO1xuICBsZXQgaGFuZGxlX3BpeGVsX2ggPSBoYW5kbGVfaCAqICh0aGlzLmggLSBidXR0b25faF9ub3BhZCAqIDIpO1xuICBsZXQgaGFuZGxlX3BpeGVsX21pbl9oID0gc2Nyb2xsYmFyX2hhbmRsZS51aWRhdGEudG90YWxfaCAqIHBpeGVsX3NjYWxlO1xuICBoYW5kbGVfcGl4ZWxfaCA9IG1heChoYW5kbGVfcGl4ZWxfaCwgbWluKGhhbmRsZV9waXhlbF9taW5faCwgYnV0dG9uX2ggLyAyKSk7XG4gIGxldCBoYW5kbGVfc2NyZWVucG9zID0gcm91bmQodGhpcy55ICsgYnV0dG9uX2hfbm9wYWQgKyBoYW5kbGVfcG9zICogKHRoaXMuaCAtIGJ1dHRvbl9oX25vcGFkICogMiAtIGhhbmRsZV9waXhlbF9oKSk7XG4gIGxldCB0b3BfY29sb3IgPSB0aGlzLmNvbG9yO1xuICBsZXQgYm90dG9tX2NvbG9yID0gdGhpcy5jb2xvcjtcbiAgbGV0IGhhbmRsZV9jb2xvciA9IHRoaXMuY29sb3I7XG4gIGxldCB0cm91Z2hfY29sb3IgPSB0aGlzLmNvbG9yO1xuICBsZXQgZGlzYWJsZWQgPSBmYWxzZTtcbiAgaWYgKCF0aGlzLmggfHwgaGFuZGxlX2ggPT09IDEpIHtcbiAgICBkaXNhYmxlZCA9IHRydWU7XG4gIH1cbiAgdGhpcy53YXNfZGlzYWJsZWQgPSBkaXNhYmxlZDtcblxuICAvLyBIYW5kbGUgVUkgaW50ZXJhY3Rpb25zXG4gIGxldCB1c2VyX21vdmVkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgaWYgKGRpc2FibGVkKSB7XG4gICAgdHJvdWdoX2NvbG9yID0gdG9wX2NvbG9yID0gYm90dG9tX2NvbG9yID0gaGFuZGxlX2NvbG9yID0gdGhpcy5kaXNhYmxlZF9jb2xvcjtcbiAgICB0aGlzLmRyYWdfc3RhcnQgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIGhhbmRsZSBzY3JvbGwgd2hlZWxcbiAgICBsZXQgd2hlZWxfZGVsdGEgPSBpbnB1dC5tb3VzZVdoZWVsKHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueSxcbiAgICAgIHc6IHRoaXMudyxcbiAgICAgIGg6IHRoaXMuaFxuICAgIH0pO1xuICAgIGlmICh3aGVlbF9kZWx0YSkge1xuICAgICAgdGhpcy5vdmVyc2Nyb2xsX2RlbGF5ID0gT1ZFUlNDUk9MTF9ERUxBWV9XSEVFTDtcbiAgICAgIHRoaXMuc2Nyb2xsX3BvcyAtPSB0aGlzLnJhdGVfc2Nyb2xsX3doZWVsICogd2hlZWxfZGVsdGE7XG4gICAgICB1c2VyX21vdmVkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBkcmFnIG9mIGhhbmRsZVxuICAgIC8vIGJlZm9yZSBlbmQgYnV0dG9ucywgYXMgdGhvc2UgbWlnaHQgYmUgZWZmZWN0aXZlbHkgaGlkZGVuIGluIHNvbWUgVUlzXG4gICAgbGV0IGRvd24gPSBpbnB1dC5tb3VzZURvd25FZGdlKHtcbiAgICAgIHg6IGJhcl94MCxcbiAgICAgIHk6IGhhbmRsZV9zY3JlZW5wb3MsXG4gICAgICB3OiBiYXJfdyxcbiAgICAgIGg6IGhhbmRsZV9waXhlbF9oLFxuICAgICAgYnV0dG9uOiAwXG4gICAgfSk7XG4gICAgaWYgKGRvd24pIHtcbiAgICAgIHRoaXMuZ3JhYmJlZF9wb3MgPSAoZG93bi5wb3NbMV0gLSBoYW5kbGVfc2NyZWVucG9zKTtcbiAgICAgIHRoaXMuZ3JhYmJlZCA9IHRydWU7XG4gICAgICBoYW5kbGVfY29sb3IgPSByb2xsb3Zlcl9jb2xvcl9saWdodDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ3JhYmJlZCkge1xuICAgICAgdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgIHVzZXJfbW92ZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gICAgfVxuICAgIGxldCB1cCA9IHRoaXMuZ3JhYmJlZCAmJiBpbnB1dC5tb3VzZVVwRWRnZSh7IGJ1dHRvbjogMCB9KTtcbiAgICBpZiAodXApIHtcbiAgICAgIHRoaXMuZ3JhYmJlZCA9IGZhbHNlO1xuICAgICAgLy8gdXBkYXRlIHBvc1xuICAgICAgbGV0IGRlbHRhID0gdXAucG9zWzFdIC0gKHRoaXMueSArIGJ1dHRvbl9oX25vcGFkKSAtIHRoaXMuZ3JhYmJlZF9wb3M7XG4gICAgICB0aGlzLnNjcm9sbF9wb3MgPSAoaCAtIHRoaXMuaCkgKiBkZWx0YSAvICh0aGlzLmggLSBidXR0b25faF9ub3BhZCAqIDIgLSBoYW5kbGVfcGl4ZWxfaCk7XG4gICAgICBoYW5kbGVfY29sb3IgPSByb2xsb3Zlcl9jb2xvcl9saWdodDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ3JhYmJlZCAmJiAhaW5wdXQubW91c2VEb3duKHsgYnV0dG9uOiAwLCBtYXhfZGlzdDogSW5maW5pdHkgfSkpIHtcbiAgICAgIC8vIHJlbGVhc2VkIGJ1dCBzb21lb25lIGVsc2UgYXRlIGl0LCByZWxlYXNlIGFueXdheSFcbiAgICAgIHRoaXMuZ3JhYmJlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5ncmFiYmVkKSB7XG4gICAgICAvLyB1cGRhdGUgcG9zXG4gICAgICBpbnB1dC5tb3VzZVBvcyh0ZW1wX3Bvcyk7XG4gICAgICBsZXQgZGVsdGEgPSB0ZW1wX3Bvc1sxXSAtICh0aGlzLnkgKyBidXR0b25faF9ub3BhZCkgLSB0aGlzLmdyYWJiZWRfcG9zO1xuICAgICAgdGhpcy5zY3JvbGxfcG9zID0gKGggLSB0aGlzLmgpICogZGVsdGEgLyAodGhpcy5oIC0gYnV0dG9uX2hfbm9wYWQgKiAyIC0gaGFuZGxlX3BpeGVsX2gpO1xuICAgICAgaGFuZGxlX2NvbG9yID0gcm9sbG92ZXJfY29sb3JfbGlnaHQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5tb3VzZU92ZXIoe1xuICAgICAgeDogYmFyX3gwLFxuICAgICAgeTogaGFuZGxlX3NjcmVlbnBvcyxcbiAgICAgIHc6IGJhcl93LFxuICAgICAgaDogaGFuZGxlX3BpeGVsX2hcbiAgICB9KSkge1xuICAgICAgaWYgKGhhbmRsZV9jb2xvciAhPT0gcm9sbG92ZXJfY29sb3JfbGlnaHQpIHtcbiAgICAgICAgaGFuZGxlX2NvbG9yID0gcm9sbG92ZXJfY29sb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGNsaWNraW5nIG9uIGVuZCBidXR0b25zXG4gICAgbGV0IGJ1dHRvbl9wYXJhbSA9IHtcbiAgICAgIHg6IGJhcl94MCxcbiAgICAgIHk6IHRoaXMueSxcbiAgICAgIHc6IGJhcl93LFxuICAgICAgaDogYnV0dG9uX2gsXG4gICAgICBidXR0b246IDBcbiAgICB9O1xuICAgIHdoaWxlIChpbnB1dC5tb3VzZVVwRWRnZShidXR0b25fcGFyYW0pKSB7XG4gICAgICB1aS5mb2N1c1N0ZWFsKHRoaXMpO1xuICAgICAgdG9wX2NvbG9yID0gcm9sbG92ZXJfY29sb3I7XG4gICAgICB0aGlzLnNjcm9sbF9wb3MgLT0gdGhpcy5yYXRlX3Njcm9sbF9jbGljaztcbiAgICAgIHVzZXJfbW92ZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5tb3VzZU92ZXIoYnV0dG9uX3BhcmFtKSkge1xuICAgICAgdG9wX2NvbG9yID0gcm9sbG92ZXJfY29sb3I7XG4gICAgfVxuICAgIGJ1dHRvbl9wYXJhbS55ID0gdGhpcy55ICsgdGhpcy5oIC0gYnV0dG9uX2g7XG4gICAgd2hpbGUgKGlucHV0Lm1vdXNlVXBFZGdlKGJ1dHRvbl9wYXJhbSkpIHtcbiAgICAgIHVpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgICBib3R0b21fY29sb3IgPSByb2xsb3Zlcl9jb2xvcjtcbiAgICAgIHRoaXMuc2Nyb2xsX3BvcyArPSB0aGlzLnJhdGVfc2Nyb2xsX2NsaWNrO1xuICAgICAgdXNlcl9tb3ZlZF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lm1vdXNlT3ZlcihidXR0b25fcGFyYW0pKSB7XG4gICAgICBib3R0b21fY29sb3IgPSByb2xsb3Zlcl9jb2xvcjtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgY2xpY2tpbmcgdHJvdWdoIGlmIG5vdCBjYXVnaHQgYnkgYW55dGhpbmcgYWJvdmUgKy8tXG4gICAgbGV0IGNsaWNrO1xuICAgIGxldCBiYXJfcGFyYW0gPSB7XG4gICAgICB4OiBiYXJfeDAsXG4gICAgICB5OiB0aGlzLnksXG4gICAgICB3OiBiYXJfdyxcbiAgICAgIGg6IHRoaXMuaCxcbiAgICAgIGJ1dHRvbjogMFxuICAgIH07XG4gICAgd2hpbGUgKChjbGljayA9IGlucHV0Lm1vdXNlVXBFZGdlKGJhcl9wYXJhbSkpKSB7XG4gICAgICB1aS5mb2N1c1N0ZWFsKHRoaXMpO1xuICAgICAgaWYgKGNsaWNrLnBvc1sxXSA+IGhhbmRsZV9zY3JlZW5wb3MgKyBoYW5kbGVfcGl4ZWxfaC8yKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsX3BvcyArPSB0aGlzLmg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNjcm9sbF9wb3MgLT0gdGhpcy5oO1xuICAgICAgfVxuICAgICAgdXNlcl9tb3ZlZF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gQ2F0Y2ggbW91c2Ugb3ZlciBvbiB0cm91Z2hcbiAgICBpbnB1dC5tb3VzZU92ZXIoYmFyX3BhcmFtKTtcblxuICAgIC8vIGhhbmRsZSBkcmFnZ2luZyB0aGUgc2Nyb2xsIGFyZWEgYmFja2dyb3VuZFxuICAgIGxldCBkcmFnID0gaW5wdXQuZHJhZyh7IHg6IHRoaXMueCwgeTogdGhpcy55LCB3OiB0aGlzLncgLSBiYXJfdywgaDogdGhpcy5oLCBidXR0b246IDAgfSk7XG4gICAgaWYgKGRyYWcpIHtcbiAgICAgIC8vIERyYWcgc2hvdWxkIG5vdCBzdGVhbCBmb2N1c1xuICAgICAgLy8gVGhpcyBhbHNvIGZpeGVzIGFuIGludGVyYWN0aW9uIHdpdGggY2hhdF91aSB3aGVyZSBjbGlja2luZyBvbiB0aGUgY2hhdCBiYWNrZ3JvdW5kICh3aGljaCBjYXVzZXNcbiAgICAgIC8vICAgYSBmbGlja2VyIG9mIGEgZHJhZykgd291bGQgY2F1c2UgcG9pbnRlciBsb2NrIHRvIGJlIGxvc3RcbiAgICAgIC8vdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgIHVzZXJfbW92ZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gICAgICBpZiAodGhpcy5kcmFnX3N0YXJ0ID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZHJhZ19zdGFydCA9IHRoaXMuc2Nyb2xsX3BvcztcbiAgICAgIH1cbiAgICAgIHRoaXMuc2Nyb2xsX3BvcyA9IHRoaXMuZHJhZ19zdGFydCAtIGRyYWcuY3VyX3Bvc1sxXSArIGRyYWcuc3RhcnRfcG9zWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyYWdfc3RhcnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuZm9jdXNlZCA9ICFkaXNhYmxlZCAmJiB1aS5mb2N1c0NoZWNrKHRoaXMpO1xuICBpZiAodGhpcy5mb2N1c2VkICYmIHRoaXMuZm9jdXNhYmxlX2VsZW0pIHtcbiAgICB0aGlzLmZvY3VzYWJsZV9lbGVtLmZvY3VzKCk7XG4gIH1cblxuICBsZXQgbWF4dmFsdWUgPSBtYXgoaCAtIHRoaXMuaCsxLCAwKTtcbiAgdGhpcy5sYXN0X21heF92YWx1ZSA9IG1heHZhbHVlO1xuICB0aGlzLmNsYW1wU2Nyb2xsUG9zKCk7XG4gIGlmICh0aGlzLmF1dG9fc2Nyb2xsICYmICh0aGlzLmxhc3RfaW50ZXJuYWxfaCAhPT0gaCB8fCB0aGlzLmxhc3RfZnJhbWUgIT09IGVuZ2luZS5nZXRGcmFtZUluZGV4KCkgLSAxKSkge1xuICAgIC8vIFdlIHdlcmUgYXQgdGhlIGJvdHRvbSwgYnV0IHdlIGFyZSBub3cgbm90LCBhbmQgYXV0by1zY3JvbGwgaXMgZW5hYmxlZFxuICAgIGlmICghdXNlcl9tb3ZlZF90aGlzX2ZyYW1lKSB7XG4gICAgICAvLyB3YW50IHRvIGJlIGF0IHRoZSBib3R0b20sIHNjcm9sbCBkb3duIChlZmZlY3RpdmUgbmV4dCBmcmFtZSlcbiAgICAgIHRoaXMuc2Nyb2xsX3BvcyA9IG1heHZhbHVlO1xuICAgICAgdGhpcy5vdmVyc2Nyb2xsID0gMDtcbiAgICB9XG4gIH1cbiAgdGhpcy5sYXN0X2ludGVybmFsX2ggPSBoO1xuICB0aGlzLmxhc3RfZnJhbWUgPSBlbmdpbmUuZ2V0RnJhbWVJbmRleCgpO1xuXG4gIGxldCBiZ19jb2xvciA9IHRoaXMuZm9jdXNlZCB8fCB0aGlzLmZvY3VzYWJsZV9lbGVtICYmIHRoaXMuZm9jdXNhYmxlX2VsZW0uaXNfZm9jdXNlZCA/XG4gICAgdGhpcy5iYWNrZ3JvdW5kX2NvbG9yX2ZvY3VzZWQgOlxuICAgIHRoaXMuYmFja2dyb3VuZF9jb2xvcjtcbiAgaWYgKGJnX2NvbG9yKSB7XG4gICAgdWkuZHJhd1JlY3QodGhpcy54LCB0aGlzLnksIHRoaXMueCArIHRoaXMudywgdGhpcy55ICsgdGhpcy5oLCB0aGlzLnosIGJnX2NvbG9yKTtcbiAgfVxuXG4gIGlmIChkaXNhYmxlZCAmJiAoYXV0b19oaWRlIHx8ICF0aGlzLmgpKSB7XG4gICAgdGhpcy5zY3JvbGxiYXJfdmlzaWJsZSA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnNjcm9sbGJhcl92aXNpYmxlID0gdHJ1ZTtcblxuICBzY3JvbGxiYXJfdG9wLmRyYXcoe1xuICAgIHg6IGJhcl94MCwgeTogdGhpcy55LCB6OiB0aGlzLnogKyAwLjIsXG4gICAgdzogYmFyX3csIGg6IGJ1dHRvbl9oLFxuICAgIGNvbG9yOiB0b3BfY29sb3IsXG4gIH0pO1xuICBzY3JvbGxiYXJfYm90dG9tLmRyYXcoe1xuICAgIHg6IGJhcl94MCwgeTogdGhpcy55ICsgdGhpcy5oIC0gYnV0dG9uX2gsIHo6IHRoaXMueiArIDAuMixcbiAgICB3OiBiYXJfdywgaDogYnV0dG9uX2gsXG4gICAgY29sb3I6IGJvdHRvbV9jb2xvcixcbiAgfSk7XG4gIHNjcm9sbGJhcl90cm91Z2guZHJhdyh7XG4gICAgeDogYmFyX3gwLCB5OiB0aGlzLnkgKyBidXR0b25faCAvIDIsIHo6IHRoaXMueiswLjEsXG4gICAgdzogYmFyX3csIGg6IHRoaXMuaCAtIGJ1dHRvbl9oLFxuICAgIGNvbG9yOiB0cm91Z2hfY29sb3IsXG4gIH0pO1xuXG4gIHVpLmRyYXdWQm94KHtcbiAgICB4OiBiYXJfeDAsIHk6IGhhbmRsZV9zY3JlZW5wb3MsIHo6IHRoaXMueiArIDAuMyxcbiAgICB3OiBiYXJfdywgaDogaGFuZGxlX3BpeGVsX2gsXG4gIH0sIHNjcm9sbGJhcl9oYW5kbGUsIGhhbmRsZV9jb2xvcik7XG4gIGxldCBncmFiYmVyX2ggPSBzY3JvbGxiYXJfaGFuZGxlX2dyYWJiZXIudWlkYXRhLnRvdGFsX2ggKiBwaXhlbF9zY2FsZTtcbiAgc2Nyb2xsYmFyX2hhbmRsZV9ncmFiYmVyLmRyYXcoe1xuICAgIHg6IGJhcl94MCwgeTogaGFuZGxlX3NjcmVlbnBvcyArIChoYW5kbGVfcGl4ZWxfaCAtIGdyYWJiZXJfaCkgLyAyLCB6OiB0aGlzLnogKyAwLjQsXG4gICAgdzogYmFyX3csIGg6IGdyYWJiZXJfaCxcbiAgICBjb2xvcjogaGFuZGxlX2NvbG9yLFxuICB9KTtcbn07XG5cbi8vIGggaXMgaGVpZ2h0IG9mIHZpc2libGUgYXJlYVxuU2Nyb2xsQXJlYS5wcm90b3R5cGUuc2Nyb2xsSW50b0ZvY3VzID0gZnVuY3Rpb24gKG1pbnksIG1heHksIGgpIHtcbiAgbGV0IG9sZF9zY3JvbGxfcG9zID0gdGhpcy5zY3JvbGxfcG9zO1xuICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICBtaW55ID0gbWF4KG1pbnksIDApO1xuICBpZiAobWlueSA8IHRoaXMuc2Nyb2xsX3Bvcykge1xuICAgIHRoaXMuc2Nyb2xsX3BvcyA9IG1pbnk7XG4gICAgY2hhbmdlZCA9IHRydWU7XG4gIH1cbiAgbWF4eSAtPSBoO1xuICBpZiAobWF4eSA+IHRoaXMuc2Nyb2xsX3Bvcykge1xuICAgIHRoaXMuc2Nyb2xsX3BvcyA9IG1heHk7XG4gICAgY2hhbmdlZCA9IHRydWU7XG4gIH1cbiAgaWYgKGNoYW5nZWQpIHtcbiAgICAvLyBNYWtlIGl0IHNtb290aC9ib3VuY3kgYSBiaXRcbiAgICB0aGlzLm92ZXJzY3JvbGwgPSBvbGRfc2Nyb2xsX3BvcyAtIHRoaXMuc2Nyb2xsX3BvcztcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbEFyZWFDcmVhdGUocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgU2Nyb2xsQXJlYShwYXJhbXMpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxubGV0IG1vZGlmaWVkID0ge307XG5leHBvcnRzLnRydWUgPSB0cnVlOyAvLyBmb3IgcGVyZi5qc1xuXG5jb25zdCB7IHRpdGxlQ2FzZSB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQoa2V5KSB7XG4gIHJldHVybiBleHBvcnRzW2tleV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBpZiAoZXhwb3J0c1trZXldICE9PSB2YWx1ZSkge1xuICAgIGNtZF9wYXJzZS5oYW5kbGUobnVsbCwgYCR7a2V5fSAke3ZhbHVlfWAsIG51bGwpOyAvLyB1c2VzIGRlZmF1bHQgY21kX3BhcnNlIGhhbmRsZXJcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXN5bmMoa2V5LCB2YWx1ZSkge1xuICBlbmdpbmUucG9zdFRpY2soeyBmbjogc2V0LmJpbmQobnVsbCwga2V5LCB2YWx1ZSkgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW5UaW1lRGVmYXVsdChrZXksIG5ld19kZWZhdWx0KSB7XG4gIC8vIFNldCBhIGRlZmF1bHQgdmFsdWUgdGhhdCBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBhdCBsb2FkIHRpbWVcbiAgLy8gT25seSBzZXQgaWYgdGhpcyBoYXMgbmV2ZXIgYmVlbiBtb2RpZmllZFxuICBpZiAoIW1vZGlmaWVkW2tleV0pIHtcbiAgICAvLyBEb2VzICpub3QqIGNhbGwgY21kX3BhcnNlLnNldCAtIHdpbGwgbm90IHdyaXRlIHRvIHN0b3JhZ2UsIHN0aWxsIGF0IFwiZGVmYXVsdFwiIHNldHRpbmdcbiAgICBleHBvcnRzW2tleV0gPSBuZXdfZGVmYXVsdDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIoZGVmcykge1xuICBPYmplY3Qua2V5cyhkZWZzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBsZXQgZGVmID0gZGVmc1trZXldO1xuICAgIGV4cG9ydHNba2V5XSA9IGRlZi5kZWZhdWx0X3ZhbHVlO1xuICAgIGNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKGtleSwge1xuICAgICAgdHlwZTogZGVmLnR5cGUsXG4gICAgICBsYWJlbDogZGVmLmxhYmVsIHx8IHRpdGxlQ2FzZShrZXkucmVwbGFjZSgvXy9nLCAnICcpKSxcbiAgICAgIHJhbmdlOiBkZWYucmFuZ2UsXG4gICAgICBnZXQ6ICgpID0+IGV4cG9ydHNba2V5XSxcbiAgICAgIHNldDogKHYpID0+IHtcbiAgICAgICAgbW9kaWZpZWRba2V5XSA9IHRydWU7XG4gICAgICAgIGV4cG9ydHNba2V5XSA9IHY7XG4gICAgICB9LFxuICAgICAgc3RvcmU6IHRydWUsXG4gICAgICB2ZXI6IGRlZi52ZXIsXG4gICAgICBoZWxwOiBkZWYuaGVscCxcbiAgICAgIHVzYWdlOiBkZWYudXNhZ2UsXG4gICAgICBvbl9jaGFuZ2U6IGRlZi5vbl9jaGFuZ2UsXG4gICAgfSk7XG4gIH0pO1xufVxuXG5yZWdpc3Rlcih7XG4gIG1heF9mcHM6IHtcbiAgICBsYWJlbDogJ01heCBGUFMnLFxuICAgIGRlZmF1bHRfdmFsdWU6IDAsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gIH0sXG4gIHJlbmRlcl9zY2FsZToge1xuICAgIGxhYmVsOiAnUmVuZGVyIFNjYWxlICgzRCknLFxuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgcmFuZ2U6IFswLjEsMV0sXG4gIH0sXG4gIHJlbmRlcl9zY2FsZV9tb2RlOiB7XG4gICAgbGFiZWw6ICdSZW5kZXIgU2NhbGUgTW9kZScsXG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDJdLFxuICB9LFxuICByZW5kZXJfc2NhbGVfYWxsOiB7XG4gICAgbGFiZWw6ICdSZW5kZXIgU2NhbGUgKEFsbCknLFxuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgcmFuZ2U6IFswLjMzMzMsNF0sXG4gIH0sXG4gIHJlbmRlcl9zY2FsZV9jbGVhcjoge1xuICAgIGxhYmVsOiAnUmVuZGVyIFNjYWxlIEZ1bGwgQ2xlYXInLFxuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbiAgZm92OiB7XG4gICAgZGVmYXVsdF92YWx1ZTogNjAsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgcmFuZ2U6IFs0MCwxMDBdLFxuICB9LFxufSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5leHBvcnQgY29uc3QgTUFYX1NFTUFOVElDID0gNTtcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgeyBlcnJvclJlcG9ydFNldERldGFpbHMsIGdsb3ZFcnJvclJlcG9ydCB9ID0gcmVxdWlyZSgnLi9lcnJvcl9yZXBvcnQuanMnKTtcbmNvbnN0IHsgZmlsZXdhdGNoT24gfSA9IHJlcXVpcmUoJy4vZmlsZXdhdGNoLmpzJyk7XG5jb25zdCB7IG1hdGNoQWxsIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyB0ZXh0dXJlc1VubG9hZER5bmFtaWMgfSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgd2ViRlNHZXRGaWxlIH0gPSByZXF1aXJlKCcuL3dlYmZzLmpzJyk7XG5cbmxldCBsYXN0X2lkID0gMDtcblxubGV0IGJvdW5kX3Byb2cgPSBudWxsO1xuXG5leHBvcnQgY29uc3Qgc2VtYW50aWMgPSB7XG4gICdBVFRSMCc6IDAsXG4gICdQT1NJVElPTic6IDAsXG4gICdBVFRSMSc6IDEsXG4gICdDT0xPUic6IDEsXG4gICdDT0xPUl8wJzogMSxcbiAgJ0FUVFIyJzogMixcbiAgJ1RFWENPT1JEJzogMixcbiAgJ1RFWENPT1JEXzAnOiAyLFxuICAnQVRUUjMnOiAzLFxuICAnTk9STUFMJzogMyxcbiAgJ0FUVFI0JzogNCxcbiAgJ1RFWENPT1JEXzEnOiA0LFxufTtcblxuZXhwb3J0IGxldCBnbG9iYWxzO1xubGV0IGdsb2JhbF9kZWZpbmVzO1xuXG5sZXQgZXJyb3JfZnA7XG5sZXQgZXJyb3JfdnA7XG5cbmxldCBzaGFkZXJzID0gW107XG5cbmNvbnN0IHZwX2F0dHJfcmVnZXggPSAvYXR0cmlidXRlIFteIF0rIChbXiA7XSspOy9nO1xuY29uc3QgdW5pZm9ybV9yZWdleCA9IC91bmlmb3JtICg/Oig/Omxvd3xtZWRpdW18aGlnaClwICk/KCg/Oig/OnZlY3xtYXQpXFxkKD86eFxcZCk/fGZsb2F0KSBbXiA7XSspOy9nO1xuY29uc3Qgc2FtcGxlcl9yZWdleCA9IC91bmlmb3JtIHNhbXBsZXIoPzoyRHxDdWJlKSAoW14gO10rKTsvZztcbmNvbnN0IGluY2x1ZGVfcmVnZXggPSAvXFxuI2luY2x1ZGUgXCIoW15cIl0rKVwiL2c7XG5cbmNvbnN0IHR5cGVfc2l6ZSA9IHtcbiAgZmxvYXQ6IDEsXG4gIHZlYzI6IDIqMSxcbiAgdmVjMzogMyoxLFxuICB2ZWM0OiA0KjEsXG4gIG1hdDM6IDMqMyxcbiAgbWF0NDogNCo0LFxufTtcblxubGV0IGluY2x1ZGVzID0ge307XG5cbmZ1bmN0aW9uIGxvYWRJbmNsdWRlKGtleSkge1xuICBsZXQgdGV4dCA9IHdlYkZTR2V0RmlsZShpbmNsdWRlc1trZXldLmZpbGVuYW1lLCAndGV4dCcpO1xuICBpbmNsdWRlc1trZXldLnRleHQgPSBgXFxuLy8gZnJvbSBpbmNsdWRlIFwiJHtrZXl9XCI6XFxuJHt0ZXh0fVxcbmA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRJbmNsdWRlKGtleSwgZmlsZW5hbWUpIHtcbiAgYXNzZXJ0KCFpbmNsdWRlc1trZXldKTtcbiAgaW5jbHVkZXNba2V5XSA9IHsgZmlsZW5hbWUgfTtcbiAgbG9hZEluY2x1ZGUoa2V5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYWRlcnNSZXNldFN0YXRlKCkge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2hhZGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgc2hhZGVyID0gc2hhZGVyc1tpaV07XG4gICAgaWYgKHNoYWRlci5wcm9ncmFtcykge1xuICAgICAgZm9yIChsZXQgZnBpZCBpbiBzaGFkZXIucHJvZ3JhbXMpIHtcbiAgICAgICAgbGV0IHByb2cgPSBzaGFkZXIucHJvZ3JhbXNbZnBpZF07XG4gICAgICAgIC8vZ2wudXNlUHJvZ3JhbShwcm9nLmhhbmRsZSk7XG4gICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBwcm9nLnVuaWZvcm1zLmxlbmd0aDsgKytqaikge1xuICAgICAgICAgIGxldCB1bmlmID0gcHJvZy51bmlmb3Jtc1tqal07XG4gICAgICAgICAgZm9yIChsZXQga2sgPSAwOyBrayA8IHVuaWYuc2l6ZTsgKytraykge1xuICAgICAgICAgICAgdW5pZi52YWx1ZVtra10gPSBOYU47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdW5pZm9ybVNldFZhbHVlKHVuaWYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGJvdW5kX3Byb2cgPSBudWxsO1xuICBnbC51c2VQcm9ncmFtKG51bGwpO1xufVxuXG5mdW5jdGlvbiBzZXRHTEVycm9yUmVwb3J0RGV0YWlscygpIHtcbiAgLy8gU2V0IHNvbWUgZGVidWcgZGV0YWlscyB3ZSBtaWdodCB3YW50XG4gIGxldCBkZXRhaWxzID0ge1xuICAgIG1heF9mcmFnbWVudF91bmlmb3JtX3ZlY3RvcnM6IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTKSxcbiAgICBtYXhfdmFyeWluZ192ZWN0b3JzOiBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyksXG4gICAgbWF4X3ZlcnRleF9hdHRyaWJzOiBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKSxcbiAgICBtYXhfdmVydGV4X3VuaWZvcm1fdmVjdG9yczogZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTKSxcbiAgICB2ZW5kb3I6IGdsLmdldFBhcmFtZXRlcihnbC5WRU5ET1IpLFxuICAgIHJlbmRlcmVyOiBnbC5nZXRQYXJhbWV0ZXIoZ2wuUkVOREVSRVIpLFxuICAgIHdlYmdsOiBlbmdpbmUud2ViZ2wyID8gMiA6IDEsXG4gIH07XG4gIGxldCBkZWJ1Z19pbmZvID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7XG4gIGlmIChkZWJ1Z19pbmZvKSB7XG4gICAgZGV0YWlscy5yZW5kZXJlcl91bm1hc2tlZCA9IGdsLmdldFBhcmFtZXRlcihkZWJ1Z19pbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKTtcbiAgICBkZXRhaWxzLnZlbmRvcl91bm1hc2tlZCA9IGdsLmdldFBhcmFtZXRlcihkZWJ1Z19pbmZvLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCk7XG4gIH1cbiAgZm9yIChsZXQga2V5IGluIGRldGFpbHMpIHtcbiAgICBlcnJvclJlcG9ydFNldERldGFpbHMoa2V5LCBkZXRhaWxzW2tleV0pO1xuICB9XG59XG5cbmxldCByZXBvcnRfcXVldWVkID0gZmFsc2U7XG5sZXQgc2hhZGVyX2Vycm9ycztcbmxldCBzaGFkZXJfZXJyb3JzX2FueV9mYXRhbDtcbmZ1bmN0aW9uIHJlcG9ydFNoYWRlckVycm9yKG5vbl9mYXRhbCwgZXJyKSB7XG4gIGZ1bmN0aW9uIGRvUmVwb3J0KCkge1xuICAgIHNldEdMRXJyb3JSZXBvcnREZXRhaWxzKCk7XG4gICAgbGV0IG1zZyA9IGBTaGFkZXIgZXJyb3Iocyk6XFxuICAgICR7c2hhZGVyX2Vycm9ycy5qb2luKCdcXG4gICAgJyl9YDtcbiAgICBpZiAoIXNoYWRlcl9lcnJvcnNfYW55X2ZhdGFsKSB7XG4gICAgICBnbG92RXJyb3JSZXBvcnQoZmFsc2UsIG1zZywgJ3NoYWRlcnMuanMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KGZhbHNlLCBtc2cpO1xuICAgIH1cbiAgICBzaGFkZXJfZXJyb3JzID0gbnVsbDtcbiAgfVxuICBpZiAoIXJlcG9ydF9xdWV1ZWQpIHtcbiAgICBzZXRUaW1lb3V0KGRvUmVwb3J0LCAxMDAwKTtcbiAgICByZXBvcnRfcXVldWVkID0gdHJ1ZTtcbiAgICBzaGFkZXJfZXJyb3JzID0gW107XG4gICAgc2hhZGVyX2Vycm9yc19hbnlfZmF0YWwgPSBmYWxzZTtcbiAgfVxuICBzaGFkZXJfZXJyb3JzX2FueV9mYXRhbCA9IHNoYWRlcl9lcnJvcnNfYW55X2ZhdGFsIHx8ICFub25fZmF0YWw7XG4gIHNoYWRlcl9lcnJvcnMucHVzaChlcnIpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUluY2x1ZGVzKHRleHQpIHtcbiAgbGV0IHN1cHBsaWVkX3VuaWZvcm1zID0ge307XG4gIHRleHQucmVwbGFjZSh1bmlmb3JtX3JlZ2V4LCBmdW5jdGlvbiAoc3RyLCBrZXkpIHtcbiAgICBzdXBwbGllZF91bmlmb3Jtc1trZXldID0gdHJ1ZTtcbiAgfSk7XG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoaW5jbHVkZV9yZWdleCwgZnVuY3Rpb24gKHN0ciwgZmlsZW5hbWUpIHtcbiAgICBsZXQgcmVwbGFjZW1lbnQgPSBpbmNsdWRlc1tmaWxlbmFtZV07XG4gICAgaWYgKCFyZXBsYWNlbWVudCkge1xuICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGV2YWx1YXRlICR7c3RyfWApO1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmVwbGFjZW1lbnQgPSByZXBsYWNlbWVudC50ZXh0O1xuICAgIC8vIFJlbW92ZSBkdXBsaWNhdGUgdW5pZm9ybXNcbiAgICByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50LnJlcGxhY2UodW5pZm9ybV9yZWdleCwgZnVuY3Rpb24gKHN0cjIsIGtleSkge1xuICAgICAgaWYgKHN1cHBsaWVkX3VuaWZvcm1zW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGAvLyBbcmVtb3ZlZCAke2tleX1dYDtcbiAgICAgIH1cbiAgICAgIHN1cHBsaWVkX3VuaWZvcm1zW2tleV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHN0cjI7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICB9KTtcbiAgcmV0dXJuIHRleHQ7XG59XG5cbmNvbnN0IHdlYmdsMl9oZWFkZXIgPSBbXG4gICcjdmVyc2lvbiAzMDAgZXMnLFxuICAnI2RlZmluZSBXRUJHTDInLFxuXS5qb2luKCdcXG4nKTtcbmNvbnN0IHdlYmdsMl9oZWFkZXJfZnAgPSBbXG4gIHdlYmdsMl9oZWFkZXIsXG4gICcjZGVmaW5lIHZhcnlpbmcgaW4nLFxuICAnb3V0IGxvd3AgdmVjNCBmcmFnQ29sb3I7JyxcbiAgJyNkZWZpbmUgZ2xfRnJhZ0NvbG9yIGZyYWdDb2xvcicsXG4gICcjZGVmaW5lIHRleHR1cmUyRCB0ZXh0dXJlJyxcbiAgJyNkZWZpbmUgdGV4dHVyZUN1YmUgdGV4dHVyZScsXG4gICcnXG5dLmpvaW4oJ1xcbicpO1xuY29uc3Qgd2ViZ2wyX2hlYWRlcl92cCA9IFtcbiAgd2ViZ2wyX2hlYWRlcixcbiAgJyNkZWZpbmUgdmFyeWluZyBvdXQnLFxuICAnI2RlZmluZSBhdHRyaWJ1dGUgaW4nLFxuICAnJ1xuXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gU2hhZGVyKHBhcmFtcykge1xuICBsZXQgeyBmaWxlbmFtZSwgZGVmaW5lcywgbm9uX2ZhdGFsIH0gPSBwYXJhbXM7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgZmlsZW5hbWUsICdzdHJpbmcnKTtcbiAgbGV0IHR5cGUgPSBmaWxlbmFtZS5lbmRzV2l0aCgnLmZwJykgPyBnbC5GUkFHTUVOVF9TSEFERVIgOiBmaWxlbmFtZS5lbmRzV2l0aCgnLnZwJykgPyBnbC5WRVJURVhfU0hBREVSIDogMDtcbiAgYXNzZXJ0KHR5cGUpO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gIHRoaXMubm9uX2ZhdGFsID0gbm9uX2ZhdGFsO1xuICB0aGlzLmRlZmluZXNfYXJyID0gKGRlZmluZXMgfHwgW10pO1xuICB0aGlzLmRlZmluZXMgPSB0aGlzLmRlZmluZXNfYXJyLm1hcCgoYSkgPT4gYCNkZWZpbmUgJHthfVxcbmApLmpvaW4oJycpO1xuICB0aGlzLnNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgdGhpcy5pZCA9ICsrbGFzdF9pZDtcbiAgaWYgKHR5cGUgPT09IGdsLlZFUlRFWF9TSEFERVIpIHtcbiAgICB0aGlzLnByb2dyYW1zID0ge307XG4gIH1cbiAgc2hhZGVycy5wdXNoKHRoaXMpO1xuICB0aGlzLmNvbXBpbGUoKTtcbn1cblxuU2hhZGVyLnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKCkge1xuICBsZXQgeyB0eXBlLCBmaWxlbmFtZSB9ID0gdGhpcztcbiAgbGV0IGhlYWRlciA9ICcnO1xuICBsZXQgdGV4dCA9IHdlYkZTR2V0RmlsZShmaWxlbmFtZSwgJ3RleHQnKTtcbiAgaWYgKGVuZ2luZS53ZWJnbDIgJiYgdGV4dC5pbmRleE9mKCcjcHJhZ21hIFdlYkdMMicpICE9PSAtMSkge1xuICAgIGhlYWRlciA9IHR5cGUgPT09IGdsLlZFUlRFWF9TSEFERVIgPyB3ZWJnbDJfaGVhZGVyX3ZwIDogd2ViZ2wyX2hlYWRlcl9mcDtcbiAgfVxuICB0ZXh0ID0gYCR7aGVhZGVyfSR7Z2xvYmFsX2RlZmluZXN9JHt0aGlzLmRlZmluZXN9JHt0ZXh0fWA7XG4gIHRleHQgPSBwYXJzZUluY2x1ZGVzKHRleHQpO1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8jcHJhZ21hIFdlYkdMMj8vZywgJycpO1xuICBpZiAodHlwZSA9PT0gZ2wuVkVSVEVYX1NIQURFUikge1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG1hdGNoQWxsKHRleHQsIHZwX2F0dHJfcmVnZXgpO1xuICAgIC8vIEVuc3VyZSB0aGV5IGFyZSBrbm93biBuYW1lcyBzbyB3ZSBjYW4gZ2l2ZSB0aGVtIGluZGljZXNcbiAgICAvLyBBZGQgdG8gc2VtYW50aWNbXSBhYm92ZSBhcyBuZWVkZWRcbiAgICB0aGlzLmF0dHJpYnV0ZXMuZm9yRWFjaCgodikgPT4gYXNzZXJ0KHNlbWFudGljW3ZdICE9PSB1bmRlZmluZWQpKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNhbXBsZXJzID0gbWF0Y2hBbGwodGV4dCwgc2FtcGxlcl9yZWdleCk7XG4gICAgLy8gRW5zdXJlIGFsbCBzYW1wbGVycyBlbmQgaW4gYSB1bmlxdWUgbnVtYmVyXG4gICAgbGV0IGZvdW5kID0gW107XG4gICAgdGhpcy5zYW1wbGVycy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICBsZXQgbnVtID0gTnVtYmVyKHYuc2xpY2UoLTEpKTtcbiAgICAgIGFzc2VydCghaXNOYU4obnVtKSk7XG4gICAgICBhc3NlcnQoIWZvdW5kW251bV0pO1xuICAgICAgZm91bmRbbnVtXSA9IHRydWU7XG4gICAgfSk7XG4gIH1cbiAgdGhpcy51bmlmb3JtcyA9IG1hdGNoQWxsKHRleHQsIHVuaWZvcm1fcmVnZXgpO1xuICAvLyBFbnN1cmUgYSBrbm93biB0eXBlXG4gIHRoaXMudW5pZm9ybXMuZm9yRWFjaCgodikgPT4ge1xuICAgIGxldCB0eXBlX25hbWUgPSB2LnNwbGl0KCcgJylbMF07XG4gICAgYXNzZXJ0KHR5cGVfc2l6ZVt0eXBlX25hbWVdKTtcbiAgfSk7XG4gIGdsLnNoYWRlclNvdXJjZSh0aGlzLnNoYWRlciwgdGV4dCk7XG4gIGdsLmNvbXBpbGVTaGFkZXIodGhpcy5zaGFkZXIpO1xuXG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgbGV0IGVycm9yX3RleHQgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHRoaXMuc2hhZGVyKTtcbiAgICBpZiAoZXJyb3JfdGV4dCkgeyAvLyBzb21ldGltZXMgbnVsbCBvbiBpT1NcbiAgICAgIGVycm9yX3RleHQgPSBlcnJvcl90ZXh0LnJlcGxhY2UoL1xcMC9nLCAnJykudHJpbSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZWZpbmVzX2Fyci5sZW5ndGgpIHtcbiAgICAgIGZpbGVuYW1lICs9IGAoJHt0aGlzLmRlZmluZXNfYXJyLmpvaW4oJywnKX0pYDtcbiAgICB9XG4gICAgY29uc29sZVt0aGlzLm5vbl9mYXRhbCA/ICd3YXJuJyA6ICdlcnJvciddKGBFcnJvciBjb21waWxpbmcgJHtmaWxlbmFtZX06ICR7ZXJyb3JfdGV4dH1gKTtcbiAgICByZXBvcnRTaGFkZXJFcnJvcih0aGlzLm5vbl9mYXRhbCwgYCR7ZmlsZW5hbWV9OiAke2Vycm9yX3RleHR9YCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ld2xpbmUtcGVyLWNoYWluZWQtY2FsbFxuICAgIGNvbnNvbGUubG9nKHRleHQuc3BsaXQoJ1xcbicpLm1hcCgobGluZSwgaWR4KSA9PiBgJHtpZHgrMX06ICR7bGluZX1gKS5qb2luKCdcXG4nKSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy52YWxpZCA9IHRydWU7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZmlsZW5hbWUpIHtcbiAgaWYgKHR5cGVvZiBmaWxlbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbmV3IFNoYWRlcihmaWxlbmFtZSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBTaGFkZXIoeyBmaWxlbmFtZSB9KTtcbn1cblxuZnVuY3Rpb24gdW5pZm9ybVNldFZhbHVlKHVuaWYpIHtcbiAgc3dpdGNoICh1bmlmLndpZHRoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZGVmYXVsdC1jYXNlXG4gICAgY2FzZSAxOlxuICAgICAgZ2wudW5pZm9ybTFmdih1bmlmLmxvY2F0aW9uLCB1bmlmLnZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGdsLnVuaWZvcm0yZnYodW5pZi5sb2NhdGlvbiwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBnbC51bmlmb3JtM2Z2KHVuaWYubG9jYXRpb24sIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmLmxvY2F0aW9uLCB1bmlmLnZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgOTpcbiAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodW5pZi5sb2NhdGlvbiwgZmFsc2UsIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxNjpcbiAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZi5sb2NhdGlvbiwgZmFsc2UsIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gbGluayh2cCwgZnApIHtcbiAgbGV0IHByb2cgPSB2cC5wcm9ncmFtc1tmcC5pZF0gPSB7XG4gICAgaGFuZGxlOiBnbC5jcmVhdGVQcm9ncmFtKCksXG4gICAgdW5pZm9ybXM6IG51bGwsXG4gIH07XG4gIGlmICghcHJvZy5oYW5kbGUpIHtcbiAgICBhc3NlcnQoZmFsc2UsIGBnbC5jcmVhdGVQcm9ncmFtKCkgcmV0dXJuZWQgJHtwcm9nLmhhbmRsZX0ke2dsLmNyZWF0ZVByb2dyYW0oKSA/ICcsIHJldHJ5IHdvdWxkIHN1Y2NlZWQnIDogJyd9YCk7XG4gIH1cbiAgZ2wuYXR0YWNoU2hhZGVyKHByb2cuaGFuZGxlLCB2cC5zaGFkZXIpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZy5oYW5kbGUsIGZwLnNoYWRlcik7XG4gIC8vIGNhbGwgdGhpcyBmb3IgYWxsIHJlbGV2YW50IHNlbWFudGljXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB2cC5hdHRyaWJ1dGVzLmxlbmd0aDsgKytpaSkge1xuICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9nLmhhbmRsZSwgc2VtYW50aWNbdnAuYXR0cmlidXRlc1tpaV1dLCB2cC5hdHRyaWJ1dGVzW2lpXSk7XG4gIH1cbiAgZ2wubGlua1Byb2dyYW0ocHJvZy5oYW5kbGUpO1xuXG4gIHByb2cudmFsaWQgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2cuaGFuZGxlLCBnbC5MSU5LX1NUQVRVUyk7XG4gIGlmICghcHJvZy52YWxpZCkge1xuICAgIHJlcG9ydFNoYWRlckVycm9yKGZhbHNlLCBgU2hhZGVyIGxpbmsgZXJyb3IgKCR7dnAuZmlsZW5hbWV9ICYgJHtmcC5maWxlbmFtZX0pOmAgK1xuICAgICAgYCAke2dsLmdldFByb2dyYW1JbmZvTG9nKHByb2cuaGFuZGxlKX1gKTtcbiAgICBjb25zb2xlLmVycm9yKGBTaGFkZXIgbGluayBlcnJvcjogJHtnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9nLmhhbmRsZSl9YCk7XG4gIH1cblxuICBnbC51c2VQcm9ncmFtKHByb2cuaGFuZGxlKTtcbiAgYm91bmRfcHJvZyA9IHByb2c7XG5cbiAgbGV0IHVuaWZvcm1zID0gdnAudW5pZm9ybXMuc2xpY2UoMCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBmcC51bmlmb3Jtcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgbmFtZSA9IGZwLnVuaWZvcm1zW2lpXTtcbiAgICBpZiAodW5pZm9ybXMuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgIHVuaWZvcm1zLnB1c2gobmFtZSk7XG4gICAgfVxuICB9XG4gIHByb2cudW5pZm9ybXMgPSB1bmlmb3Jtcy5tYXAoKHYpID0+IHtcbiAgICB2ID0gdi5zcGxpdCgnICcpO1xuICAgIGxldCB0eXBlID0gdlswXTtcbiAgICBsZXQgbmFtZSA9IHZbMV07XG4gICAgbGV0IGNvdW50ID0gMTtcbiAgICBsZXQgbSA9IG5hbWUubWF0Y2goLyhbXltdKylcXFsoXFxkKylcXF0vKTtcbiAgICBpZiAobSkge1xuICAgICAgbmFtZSA9IG1bMV07XG4gICAgICBjb3VudCA9IE51bWJlcihtWzJdKTtcbiAgICB9XG4gICAgbGV0IGxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2cuaGFuZGxlLCBuYW1lKTtcbiAgICBpZiAobG9jYXRpb24gPT09IG51bGwpIHtcbiAgICAgIC8vIE5vdCBpbiBlaXRoZXIgc2hhZGVyLCAoY29tbWVudGVkIG91dD8pLCByZW1vdmUgKHZpYSBmaWx0ZXIgYmVsb3cpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHdpZHRoID0gdHlwZV9zaXplW3R5cGVdO1xuICAgIGxldCBzaXplID0gd2lkdGggKiBjb3VudDtcbiAgICBsZXQgZ2xvYiA9IGdsb2JhbHNbbmFtZV07XG4gICAgbGV0IHZhbHVlID0gbmV3IEZsb2F0MzJBcnJheShzaXplKTtcbiAgICAvLyBzZXQgaW5pdGlhbCB2YWx1ZVxuICAgIGxldCB1bmlmID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHNpemUsXG4gICAgICB3aWR0aCxcbiAgICAgIGNvdW50LFxuICAgICAgdmFsdWUsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGdsb2IsXG4gICAgfTtcbiAgICB1bmlmb3JtU2V0VmFsdWUodW5pZik7XG4gICAgcmV0dXJuIHVuaWY7XG4gIH0pLmZpbHRlcigodikgPT4gdik7XG5cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGZwLnNhbXBsZXJzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBuYW1lID0gZnAuc2FtcGxlcnNbaWldO1xuICAgIGxldCBudW0gPSBOdW1iZXIobmFtZS5zbGljZSgtMSkpO1xuICAgIGxldCBsb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9nLmhhbmRsZSwgbmFtZSk7XG4gICAgaWYgKGxvY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIG51bSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZCh2cCwgZnAsIHBhcmFtcykge1xuICBsZXQgcHJvZyA9IHZwLnByb2dyYW1zW2ZwLmlkXTtcbiAgaWYgKCFwcm9nKSB7XG4gICAgcHJvZyA9IGxpbmsodnAsIGZwKTtcbiAgfVxuICBpZiAoIXByb2cudmFsaWQpIHtcbiAgICBwcm9nID0gbGluayh2cCwgZXJyb3JfZnApO1xuICAgIGlmICghcHJvZy52YWxpZCkge1xuICAgICAgcHJvZyA9IGxpbmsoZXJyb3JfdnAsIGVycm9yX2ZwKTtcbiAgICB9XG4gICAgdnAucHJvZ3JhbXNbZnAuaWRdID0gcHJvZztcbiAgfVxuICBpZiAocHJvZyAhPT0gYm91bmRfcHJvZykge1xuICAgIGJvdW5kX3Byb2cgPSBwcm9nO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZy5oYW5kbGUpO1xuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBwcm9nLnVuaWZvcm1zLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCB1bmlmID0gcHJvZy51bmlmb3Jtc1tpaV07XG4gICAgbGV0IHZhbHVlID0gcGFyYW1zW3VuaWYubmFtZV0gfHwgdW5pZi5nbG9iO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgZGlmZiA9IGZhbHNlO1xuICAgIGZvciAobGV0IGpqID0gMDsgamogPCB1bmlmLnNpemU7ICsramopIHtcbiAgICAgIGlmICh2YWx1ZVtqal0gIT09IHVuaWYudmFsdWVbampdKSB7XG4gICAgICAgIGRpZmYgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpZmYpIHtcbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCB1bmlmLnNpemU7ICsramopIHtcbiAgICAgICAgdW5pZi52YWx1ZVtqal0gPSB2YWx1ZVtqal07XG4gICAgICB9XG4gICAgICB1bmlmb3JtU2V0VmFsdWUodW5pZik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHJlc2VydmVkID0geyBXRUJHTDI6IDEgfTtcbmV4cG9ydCBmdW5jdGlvbiBhZGRSZXNlcnZlZERlZmluZShrZXkpIHtcbiAgcmVzZXJ2ZWRba2V5XSA9IDE7XG59XG5sZXQgaW50ZXJuYWxfZGVmaW5lcyA9IHt9O1xuZnVuY3Rpb24gYXBwbHlEZWZpbmVzKCkge1xuICBnbG9iYWxfZGVmaW5lcyA9IE9iamVjdC5rZXlzKGVuZ2luZS5kZWZpbmVzKS5maWx0ZXIoKHYpID0+ICFyZXNlcnZlZFt2XSlcbiAgICAuY29uY2F0KE9iamVjdC5rZXlzKGludGVybmFsX2RlZmluZXMpKVxuICAgIC5tYXAoKHYpID0+IGAjZGVmaW5lICR7dn1cXG5gKVxuICAgIC5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gc2hhZGVyUmVsb2FkKCkge1xuICBpZiAoc2hhZGVycy5sZW5ndGgpIHtcbiAgICB3aW5kb3cuZGVidWdtc2coJycsIHRydWUpO1xuICAgIGdsLnVzZVByb2dyYW0obnVsbCk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNoYWRlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcHJvZ3JhbXMgPSBzaGFkZXJzW2lpXS5wcm9ncmFtcztcbiAgICAgIGlmIChwcm9ncmFtcykge1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBwcm9ncmFtcykge1xuICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbXNbaWRdLmhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyc1tpaV0ucHJvZ3JhbXMgPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNoYWRlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBzaGFkZXJzW2lpXS5jb21waWxlKCk7XG4gICAgfVxuICAgIHRleHR1cmVzVW5sb2FkRHluYW1pYygpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEZWZpbmVzQ2hhbmdlZCgpIHtcbiAgYXBwbHlEZWZpbmVzKCk7XG4gIHNoYWRlclJlbG9hZCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SW50ZXJuYWxEZWZpbmVzKG5ld192YWx1ZXMpIHtcbiAgZm9yIChsZXQga2V5IGluIG5ld192YWx1ZXMpIHtcbiAgICBpZiAobmV3X3ZhbHVlc1trZXldKSB7XG4gICAgICBpbnRlcm5hbF9kZWZpbmVzW2tleV0gPSBuZXdfdmFsdWVzW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBpbnRlcm5hbF9kZWZpbmVzW2tleV07XG4gICAgfVxuICB9XG4gIGhhbmRsZURlZmluZXNDaGFuZ2VkKCk7XG59XG5cbmZ1bmN0aW9uIG9uU2hhZGVyQ2hhbmdlKGZpbGVuYW1lKSB7XG4gIGZvciAobGV0IGtleSBpbiBpbmNsdWRlcykge1xuICAgIGxvYWRJbmNsdWRlKGtleSk7XG4gIH1cbiAgc2hhZGVyUmVsb2FkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKF9nbG9iYWxzKSB7XG4gIGFwcGx5RGVmaW5lcygpO1xuICBnbG9iYWxzID0gX2dsb2JhbHM7XG5cbiAgZXJyb3JfZnAgPSBjcmVhdGUoJ2dsb3Yvc2hhZGVycy9lcnJvci5mcCcpO1xuICBlcnJvcl92cCA9IGNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2Vycm9yLnZwJyk7XG5cbiAgZmlsZXdhdGNoT24oJy5mcCcsIG9uU2hhZGVyQ2hhbmdlKTtcbiAgZmlsZXdhdGNoT24oJy52cCcsIG9uU2hhZGVyQ2hhbmdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEdsb2JhbChrZXksIHZlYykge1xuICBhc3NlcnQoIWdsb2JhbHNba2V5XSk7XG4gIGdsb2JhbHNba2V5XSA9IHZlYztcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmV4cG9ydCBjb25zdCBGQURFX0RFRkFVTFQgPSAwO1xuZXhwb3J0IGNvbnN0IEZBREVfT1VUID0gMTtcbmV4cG9ydCBjb25zdCBGQURFX0lOID0gMjtcbmV4cG9ydCBjb25zdCBGQURFID0gRkFERV9PVVQgKyBGQURFX0lOO1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IHsgZmlsZXdhdGNoT24gfSA9IHJlcXVpcmUoJy4vZmlsZXdhdGNoLmpzJyk7XG5jb25zdCB7IEhvd2wsIEhvd2xlciB9ID0gcmVxdWlyZSgnQGppbWJseS9ob3dsZXIvc3JjL2hvd2xlci5jb3JlLmpzJyk7XG5jb25zdCB7IGFicywgZmxvb3IsIG1heCwgbWluLCByYW5kb20gfSA9IE1hdGg7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHsgZGVmYXVsdHMsIHJpZHggfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5cbmNvbnN0IERFRkFVTFRfRkFERV9SQVRFID0gMC4wMDE7XG5cbmxldCBzb3VuZHMgPSB7fTtcbmxldCBudW1fbG9hZGluZyA9IDA7XG5cbi8vIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7IC8vIERpc2FibGUgV2ViQXVkaW8gZm9yIHRlc3RpbmcgSFRNTDUgZmFsbGJhY2tzXG5cbmNvbnN0IGRlZmF1bHRfcGFyYW1zID0ge1xuICBleHRfbGlzdDogWydtcDMnLCAnd2F2J10sIC8vIChyZWNvbW1lbmRlZCkgdHJ5IGxvYWRpbmcgLm1wMyB2ZXJzaW9ucyBmaXJzdCwgdGhlbiBmYWxsYmFjayB0byAud2F2XG4gIC8vICBhbHNvIGNvdmVycyBhbGwgYnJvd3NlcnM6IFsnd2VibScsICdtcDMnXVxuICBmYWRlX3JhdGU6IERFRkFVTFRfRkFERV9SQVRFLFxufTtcbmxldCBzb3VuZF9wYXJhbXM7XG5cbmxldCBsYXN0X3BsYXllZCA9IHt9O1xubGV0IGZyYW1lX3RpbWVzdGFtcCA9IDA7XG5sZXQgZmFkZXMgPSBbXTtcbmxldCBtdXNpYztcblxubGV0IHZvbHVtZV9vdmVycmlkZSA9IDE7XG5sZXQgdm9sdW1lX292ZXJyaWRlX3RhcmdldCA9IDE7XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgdm9sdW1lOiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG59KTtcblxuc2V0dGluZ3MucmVnaXN0ZXIoe1xuICBzb3VuZDoge1xuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbn0pO1xuXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIG11c2ljOiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZExvYWQoYmFzZSwgb3B0cywgY2IpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIGlmIChBcnJheS5pc0FycmF5KGJhc2UpKSB7XG4gICAgYXNzZXJ0KCFjYik7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGJhc2UubGVuZ3RoOyArK2lpKSB7XG4gICAgICBzb3VuZExvYWQoYmFzZVtpaV0sIG9wdHMpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGtleSA9IGJhc2U7XG4gIGlmIChzb3VuZHNba2V5XSkge1xuICAgIGlmIChjYikge1xuICAgICAgY2IoKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBtID0gYmFzZS5tYXRjaCgvXiguKilcXC4obXAzfG9nZ3x3YXZ8d2VibSkkL3UpO1xuICBsZXQgcHJlZmVycmVkX2V4dDtcbiAgaWYgKG0pIHtcbiAgICBiYXNlID0gbVsxXTtcbiAgICBwcmVmZXJyZWRfZXh0ID0gbVsyXTtcbiAgfVxuICBsZXQgc3JjID0gYHNvdW5kcy8ke2Jhc2V9YDtcbiAgbGV0IHNyY3MgPSBbXTtcbiAgbGV0IHN1ZmZpeCA9ICcnO1xuICBpZiAob3B0cy5mb3JfcmVsb2FkKSB7XG4gICAgc3VmZml4ID0gYD9ybD0ke0RhdGUubm93KCl9YDtcbiAgfVxuICBpZiAocHJlZmVycmVkX2V4dCkge1xuICAgIHNyY3MucHVzaChgJHt1cmxoYXNoLmdldFVSTEJhc2UoKX0ke3NyY30uJHtwcmVmZXJyZWRfZXh0fSR7c3VmZml4fWApO1xuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBzb3VuZF9wYXJhbXMuZXh0X2xpc3QubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGV4dCA9IHNvdW5kX3BhcmFtcy5leHRfbGlzdFtpaV07XG4gICAgaWYgKGV4dCAhPT0gcHJlZmVycmVkX2V4dCkge1xuICAgICAgc3Jjcy5wdXNoKGAke3VybGhhc2guZ2V0VVJMQmFzZSgpfSR7c3JjfS4ke2V4dH0ke3N1ZmZpeH1gKTtcbiAgICB9XG4gIH1cbiAgLy8gVHJ5IGxvYWRpbmcgZGVzaXJlZCBzb3VuZCB0eXBlcyBvbmUgYXQgYSB0aW1lLlxuICAvLyBDYW5ub3QgcmVseSBvbiBIb3dsZXIncyBidWlsdC1pbiBzdXBwb3J0IGZvciB0aGlzIGJlY2F1c2UgaXQgb25seSBjb250aW51ZXNcbiAgLy8gICB0aHJvdWdoIHRoZSBsaXN0IG9uICpzb21lKiBsb2FkIGVycm9ycywgbm90IGFsbCA6KC5cbiAgZnVuY3Rpb24gdHJ5TG9hZChpZHgpIHtcbiAgICBpZiAoaWR4ID09PSBzcmNzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBzb3VuZCAke2Jhc2V9OiBBbGwgZmFsbGJhY2tzIGV4aGF1c3RlZCwgZ2l2aW5nIHVwYCk7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgY2IoJ0Vycm9yIGxvYWRpbmcgc291bmQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgKytudW1fbG9hZGluZztcbiAgICBsZXQgb25jZSA9IGZhbHNlO1xuICAgIGxldCBzb3VuZCA9IG5ldyBIb3dsKHtcbiAgICAgIHNyYzogc3Jjcy5zbGljZShpZHgpLFxuICAgICAgaHRtbDU6IEJvb2xlYW4ob3B0cy5zdHJlYW1pbmcpLFxuICAgICAgbG9vcDogQm9vbGVhbihvcHRzLmxvb3ApLFxuICAgICAgdm9sdW1lOiAwLFxuICAgICAgb25sb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghb25jZSkge1xuICAgICAgICAgIC0tbnVtX2xvYWRpbmc7XG4gICAgICAgICAgb25jZSA9IHRydWU7XG4gICAgICAgICAgc291bmQuZ2xvdl9sb2FkX29wdHMgPSBvcHRzO1xuICAgICAgICAgIHNvdW5kc1trZXldID0gc291bmQ7XG4gICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICBjYihudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbmxvYWRlcnJvcjogZnVuY3Rpb24gKGlkLCBlcnIsIGV4dHJhKSB7XG4gICAgICAgIGlmIChpZHggPT09IHNyY3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgc291bmQgJHtzcmNzW2lkeF19OiAke2Vycn1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9hZGluZyBzb3VuZCAke3NyY3NbaWR4XX06ICR7ZXJyfSwgdHJ5aW5nIGZhbGxiYWNrLi4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvbmNlKSB7XG4gICAgICAgICAgLS1udW1fbG9hZGluZztcbiAgICAgICAgICBvbmNlID0gdHJ1ZTtcbiAgICAgICAgICB0cnlMb2FkKGlkeCArIDEpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHRyeUxvYWQoMCk7XG59XG5cbmZ1bmN0aW9uIHNvdW5kUmVsb2FkKGZpbGVuYW1lKSB7XG4gIGxldCBzb3VuZF9uYW1lID0gZmlsZW5hbWUubWF0Y2goL15zb3VuZHNcXC8oW14uXSspXFwuXFx3KyQvKTtcbiAgc291bmRfbmFtZSA9IHNvdW5kX25hbWUgJiYgc291bmRfbmFtZVsxXTtcbiAgaWYgKCFzb3VuZF9uYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghc291bmRzW3NvdW5kX25hbWVdKSB7XG4gICAgY29uc29sZS5sb2coYFJlbG9hZCB0cmlnZ2VkIGZvciBub24tZXhpc3RlbnQgc291bmQ6ICR7ZmlsZW5hbWV9YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBvcHRzID0gc291bmRzW3NvdW5kX25hbWVdLmdsb3ZfbG9hZF9vcHRzO1xuICBvcHRzLmZvcl9yZWxvYWQgPSB0cnVlO1xuICBkZWxldGUgc291bmRzW3NvdW5kX25hbWVdO1xuICBzb3VuZExvYWQoc291bmRfbmFtZSwgb3B0cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZFN0YXJ0dXAocGFyYW1zKSB7XG4gIHNvdW5kX3BhcmFtcyA9IGRlZmF1bHRzKHBhcmFtcyB8fCB7fSwgZGVmYXVsdF9wYXJhbXMpO1xuXG4gIC8vIE11c2ljXG4gIG11c2ljID0gW107IC8vIDAgaXMgY3VycmVudCwgMSBpcyBwcmV2aW91cyAoZmFkaW5nIG91dClcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDI7ICsraWkpIHtcbiAgICBtdXNpYy5wdXNoKHtcbiAgICAgIHNvdW5kOiBudWxsLFxuICAgICAgaWQ6IDAsXG4gICAgICBjdXJyZW50X3ZvbHVtZTogMCxcbiAgICAgIHRhcmdldF92b2x1bWU6IDAsXG4gICAgICBzeXNfdm9sdW1lOiAwLFxuICAgICAgbmVlZF9wbGF5OiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuICBmaWxld2F0Y2hPbignLm1wMycsIHNvdW5kUmVsb2FkKTtcbiAgZmlsZXdhdGNoT24oJy5vZ2cnLCBzb3VuZFJlbG9hZCk7XG4gIGZpbGV3YXRjaE9uKCcud2F2Jywgc291bmRSZWxvYWQpO1xuICBmaWxld2F0Y2hPbignLndlYm0nLCBzb3VuZFJlbG9hZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZFBhdXNlKCkge1xuICB2b2x1bWVfb3ZlcnJpZGUgPSB2b2x1bWVfb3ZlcnJpZGVfdGFyZ2V0ID0gMDtcbiAgLy8gSW1tZWRpYXRlbHkgbXV0ZSBhbGwgdGhlIG11c2ljXG4gIC8vIENhbid0IGRvIGEgbmljZSBmYWRlIG91dCBoZXJlIGJlY2F1c2Ugd2Ugc3RvcCBnZXR0aW5nIHRpY2tlZCB3aGVuIHdlJ3JlIG5vdCBpbiB0aGUgZm9yZWdyb3VuZFxuICBzb3VuZFRpY2soMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kUmVzdW1lKCkge1xuICB2b2x1bWVfb3ZlcnJpZGVfdGFyZ2V0ID0gMTtcblxuICAvLyBBY3R1YWwgY29udGV4dCByZXN1bWluZyBoYW5kbGVkIGludGVybmFsbHkgYnkgSG93bGVyLCBsZWF2aW5nIGhvb2tzIGluIGZvciBub3csIHRob3VnaFxuICAvLyBNYXliZSBtb3JlIHJlbGlhYmxlIHRoYW4gYEhvd2xlci5zYWZlVG9QbGF5YC4uLlxufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRSZXN1bWVkKCkge1xuICByZXR1cm4gIUhvd2xlci5ub0F1ZGlvICYmIEhvd2xlci5zYWZlVG9QbGF5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRUaWNrKGR0KSB7XG4gIGZyYW1lX3RpbWVzdGFtcCArPSBkdDtcbiAgaWYgKHZvbHVtZV9vdmVycmlkZSAhPT0gdm9sdW1lX292ZXJyaWRlX3RhcmdldCkge1xuICAgIGxldCBkZWx0YSA9IGR0ICogMC4wMDQ7XG4gICAgaWYgKHZvbHVtZV9vdmVycmlkZSA8IHZvbHVtZV9vdmVycmlkZV90YXJnZXQpIHtcbiAgICAgIHZvbHVtZV9vdmVycmlkZSA9IG1pbih2b2x1bWVfb3ZlcnJpZGUgKyBkZWx0YSwgdm9sdW1lX292ZXJyaWRlX3RhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZvbHVtZV9vdmVycmlkZSA9IG1heCh2b2x1bWVfb3ZlcnJpZGUgLSBkZWx0YSwgdm9sdW1lX292ZXJyaWRlX3RhcmdldCk7XG4gICAgfVxuICB9XG4gIGlmICghc291bmRSZXN1bWVkKCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gRG8gbXVzaWMgZmFkaW5nXG4gIC8vIENhbm5vdCByZWx5IG9uIEhvd2xlcidzIGZhZGluZyBiZWNhdXNlIHN0YXJ0aW5nIGEgZmFkZSB3aGVuIG9uZSBpcyBpbiBwcm9ncmVzc1xuICAvLyAgIG1lc3NlcyB0aGluZ3MgdXAsIGFzIHdlbGwgY2F1c2VzIHNuYXBzIGluIHZvbHVtZSA6KFxuICBsZXQgbWF4X2ZhZGUgPSBkdCAqIHNvdW5kX3BhcmFtcy5mYWRlX3JhdGU7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBtdXNpYy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgbXVzID0gbXVzaWNbaWldO1xuICAgIGlmICghbXVzLnNvdW5kKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IHRhcmdldCA9IHNldHRpbmdzLm11c2ljID8gbXVzLnRhcmdldF92b2x1bWUgOiAwO1xuICAgIGlmIChtdXMuY3VycmVudF92b2x1bWUgIT09IHRhcmdldCkge1xuICAgICAgbGV0IGRlbHRhID0gdGFyZ2V0IC0gbXVzLmN1cnJlbnRfdm9sdW1lO1xuICAgICAgbGV0IGZhZGVfYW10ID0gbWluKGFicyhkZWx0YSksIG1heF9mYWRlKTtcbiAgICAgIGlmIChkZWx0YSA8IDApIHtcbiAgICAgICAgbXVzLmN1cnJlbnRfdm9sdW1lID0gbWF4KHRhcmdldCwgbXVzLmN1cnJlbnRfdm9sdW1lIC0gZmFkZV9hbXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXVzLmN1cnJlbnRfdm9sdW1lID0gbWluKHRhcmdldCwgbXVzLmN1cnJlbnRfdm9sdW1lICsgZmFkZV9hbXQpO1xuICAgICAgfVxuICAgICAgaWYgKCFtdXMudGFyZ2V0X3ZvbHVtZSAmJiAhbXVzLmN1cnJlbnRfdm9sdW1lKSB7XG4gICAgICAgIGlmICghbXVzLm5lZWRfcGxheSkge1xuICAgICAgICAgIG11cy5zb3VuZC5zdG9wKG11cy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgbXVzLnNvdW5kID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG11cy5zb3VuZCkge1xuICAgICAgbGV0IHN5c192b2x1bWUgPSBtdXMuY3VycmVudF92b2x1bWUgKiBzZXR0aW5ncy52b2x1bWUgKiB2b2x1bWVfb3ZlcnJpZGU7XG4gICAgICBpZiAobXVzLm5lZWRfcGxheSkge1xuICAgICAgICBtdXMubmVlZF9wbGF5PSBmYWxzZTtcbiAgICAgICAgbXVzLmlkID0gbXVzLnNvdW5kLnBsYXkoKTtcbiAgICAgICAgbXVzLnN5c192b2x1bWUgPSAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChtdXMuc3lzX3ZvbHVtZSAhPT0gc3lzX3ZvbHVtZSkge1xuICAgICAgICBtdXMuc291bmQudm9sdW1lKHN5c192b2x1bWUsIG11cy5pZCk7XG4gICAgICAgIG11cy5zeXNfdm9sdW1lID0gc3lzX3ZvbHVtZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpaSA9IGZhZGVzLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICBsZXQgZmFkZSA9IGZhZGVzW2lpXTtcbiAgICBmYWRlLnZvbHVtZSA9IG1heCgwLCBmYWRlLnZvbHVtZSAtIG1heF9mYWRlKTtcbiAgICBmYWRlLnNvdW5kLnZvbHVtZShmYWRlLnZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZSAqIHZvbHVtZV9vdmVycmlkZSwgZmFkZS5pZCk7XG4gICAgaWYgKCFmYWRlLnZvbHVtZSkge1xuICAgICAgZmFkZS5zb3VuZC5zdG9wKGZhZGUuaWQpO1xuICAgICAgcmlkeChmYWRlcywgaWkpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRQbGF5KHNvdW5kbmFtZSwgdm9sdW1lLCBhc19tdXNpYykge1xuICB2b2x1bWUgPSB2b2x1bWUgfHwgMTtcbiAgaWYgKCFhc19tdXNpYyAmJiAhc2V0dGluZ3Muc291bmQgfHwgYXNfbXVzaWMgJiYgIXNldHRpbmdzLm11c2ljKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFzb3VuZFJlc3VtZWQoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHNvdW5kbmFtZSkpIHtcbiAgICBzb3VuZG5hbWUgPSBzb3VuZG5hbWVbZmxvb3IocmFuZG9tKCkgKiBzb3VuZG5hbWUubGVuZ3RoKV07XG4gIH1cbiAgbGV0IHNvdW5kID0gc291bmRzW3NvdW5kbmFtZV07XG4gIGlmICghc291bmQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgbGFzdF9wbGF5ZWRfdGltZSA9IGxhc3RfcGxheWVkW3NvdW5kbmFtZV0gfHwgLTllOTtcbiAgaWYgKGZyYW1lX3RpbWVzdGFtcCAtIGxhc3RfcGxheWVkX3RpbWUgPCA0NSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IGlkID0gc291bmQucGxheSh1bmRlZmluZWQsIHZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZSAqIHZvbHVtZV9vdmVycmlkZSk7XG4gIC8vIHNvdW5kLnZvbHVtZSh2b2x1bWUgKiBzZXR0aW5ncy52b2x1bWUgKiB2b2x1bWVfb3ZlcnJpZGUsIGlkKTtcbiAgbGFzdF9wbGF5ZWRbc291bmRuYW1lXSA9IGZyYW1lX3RpbWVzdGFtcDtcbiAgcmV0dXJuIHtcbiAgICBzdG9wOiBzb3VuZC5zdG9wLmJpbmQoc291bmQsIGlkKSxcbiAgICBwbGF5aW5nOiBzb3VuZC5wbGF5aW5nLmJpbmQoc291bmQsIGlkKSwgLy8gbm90IHJlbGlhYmxlIGlmIGl0IGhhc24ndCBzdGFydGVkIHlldD8gOihcbiAgICBmYWRlT3V0OiAodGltZSkgPT4ge1xuICAgICAgZmFkZXMucHVzaCh7XG4gICAgICAgIHZvbHVtZSxcbiAgICAgICAgc291bmQsXG4gICAgICAgIGlkLFxuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kUGxheU11c2ljKHNvdW5kbmFtZSwgdm9sdW1lLCB0cmFuc2l0aW9uKSB7XG4gIGlmICghc2V0dGluZ3MubXVzaWMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHZvbHVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdm9sdW1lID0gMTtcbiAgfVxuICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbiB8fCBGQURFX0RFRkFVTFQ7XG4gIHNvdW5kTG9hZChzb3VuZG5hbWUsIHsgc3RyZWFtaW5nOiB0cnVlLCBsb29wOiB0cnVlIH0sIChlcnIpID0+IHtcbiAgICBhc3NlcnQoIWVycik7XG4gICAgbGV0IHNvdW5kID0gc291bmRzW3NvdW5kbmFtZV07XG4gICAgYXNzZXJ0KHNvdW5kKTtcbiAgICBpZiAobXVzaWNbMF0uc291bmQgPT09IHNvdW5kKSB7XG4gICAgICAvLyBTYW1lIHNvdW5kLCBqdXN0IGFkanVzdCB2b2x1bWUsIGlmIHJlcXVpcmVkXG4gICAgICBtdXNpY1swXS50YXJnZXRfdm9sdW1lID0gdm9sdW1lO1xuICAgICAgaWYgKCF0cmFuc2l0aW9uKSB7XG4gICAgICAgIGlmICghdm9sdW1lKSB7XG4gICAgICAgICAgc291bmQuc3RvcChtdXNpY1swXS5pZCk7XG4gICAgICAgICAgbXVzaWNbMF0uc291bmQgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBzeXNfdm9sdW1lID0gbXVzaWNbMF0uc3lzX3ZvbHVtZSA9IHZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZSAqIHZvbHVtZV9vdmVycmlkZTtcbiAgICAgICAgICBzb3VuZC52b2x1bWUoc3lzX3ZvbHVtZSwgbXVzaWNbMF0uaWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZhZGUgb3V0IHByZXZpb3VzIG11c2ljLCBpZiBhbnlcbiAgICBpZiAobXVzaWNbMF0uY3VycmVudF92b2x1bWUpIHtcbiAgICAgIGlmICh0cmFuc2l0aW9uICYgRkFERV9PVVQpIHtcbiAgICAgICAgLy8gc3dhcCB0byBwb3NpdGlvbiAxLCBzdGFydCBmYWRlb3V0XG4gICAgICAgIGxldCB0ZW1wID0gbXVzaWNbMV07XG4gICAgICAgIG11c2ljWzFdID0gbXVzaWNbMF07XG4gICAgICAgIG11c2ljWzBdID0gdGVtcDtcbiAgICAgICAgbXVzaWNbMV0udGFyZ2V0X3ZvbHVtZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtdXNpY1swXS5zb3VuZCkge1xuICAgICAgbXVzaWNbMF0uc291bmQuc3RvcChtdXNpY1swXS5pZCk7XG4gICAgfVxuICAgIG11c2ljWzBdLnNvdW5kID0gc291bmQ7XG4gICAgbXVzaWNbMF0udGFyZ2V0X3ZvbHVtZSA9IHZvbHVtZTtcbiAgICBsZXQgc3RhcnRfdm9sID0gKHRyYW5zaXRpb24gJiBGQURFX0lOKSA/IDAgOiB2b2x1bWU7XG4gICAgbXVzaWNbMF0uY3VycmVudF92b2x1bWUgPSBzdGFydF92b2w7XG4gICAgaWYgKHNvdW5kUmVzdW1lZCgpKSB7XG4gICAgICBsZXQgc3lzX3ZvbHVtZSA9IHN0YXJ0X3ZvbCAqIHNldHRpbmdzLnZvbHVtZSAqIHZvbHVtZV9vdmVycmlkZTtcbiAgICAgIG11c2ljWzBdLmlkID0gc291bmQucGxheSh1bmRlZmluZWQsIHN5c192b2x1bWUpO1xuICAgICAgLy8gc291bmQudm9sdW1lKHN5c192b2x1bWUsIG11c2ljWzBdLmlkKTtcbiAgICAgIG11c2ljWzBdLnN5c192b2x1bWUgPSBzeXNfdm9sdW1lO1xuICAgICAgbXVzaWNbMF0ubmVlZF9wbGF5ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG11c2ljWzBdLm5lZWRfcGxheSA9IHRydWU7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kTG9hZGluZygpIHtcbiAgcmV0dXJuIG51bV9sb2FkaW5nO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgeyBmbG9vciwgcmFuZG9tIH0gPSBNYXRoO1xuXG5mdW5jdGlvbiBHbG92U3ByaXRlQW5pbWF0aW9uKHBhcmFtcykge1xuICB0aGlzLmZyYW1lID0gMDtcbiAgdGhpcy50aW1lID0gMDtcbiAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIHRoaXMuYW5pbSA9IG51bGw7XG4gIHRoaXMuYW5pbV9pZHggPSAwO1xuXG4gIGlmIChwYXJhbXMgaW5zdGFuY2VvZiBHbG92U3ByaXRlQW5pbWF0aW9uKSB7XG4gICAgdGhpcy5kYXRhID0gcGFyYW1zLmRhdGE7IC8vIGFscmVhZHkgaW5pdGlhbGl6ZWRcbiAgICB0aGlzLnNldFN0YXRlKHBhcmFtcy5zdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5kYXRhID0gcGFyYW1zO1xuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgIGxldCBhbmltID0gdGhpcy5kYXRhW2tleV07XG4gICAgICBpZiAodHlwZW9mIGFuaW0uZnJhbWVzID09PSAnbnVtYmVyJykge1xuICAgICAgICBhbmltLmZyYW1lcyA9IFthbmltLmZyYW1lc107XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGFuaW0udGltZXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGxldCBhcnIgPSBuZXcgQXJyYXkoYW5pbS5mcmFtZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFuaW0uZnJhbWVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICAgIGFycltpaV0gPSBhbmltLnRpbWVzO1xuICAgICAgICB9XG4gICAgICAgIGFuaW0udGltZXMgPSBhcnI7XG4gICAgICB9XG4gICAgICBhbmltLnRvdGFsX3RpbWUgPSAwO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFuaW0udGltZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGFuaW0udG90YWxfdGltZSArPSBhbmltLnRpbWVzW2lpXTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmltLmxvb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhbmltLmxvb3AgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IEdsb3ZTcHJpdGVBbmltYXRpb24ocGFyYW1zKTtcbn1cblxuR2xvdlNwcml0ZUFuaW1hdGlvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgR2xvdlNwcml0ZUFuaW1hdGlvbih0aGlzKTtcbn07XG5cbkdsb3ZTcHJpdGVBbmltYXRpb24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCBmb3JjZSkge1xuICBpZiAoc3RhdGUgPT09IHRoaXMuc3RhdGUgJiYgIWZvcmNlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICB0aGlzLmFuaW0gPSB0aGlzLmRhdGFbc3RhdGVdO1xuICBpZiAodGhpcy5hbmltLmluaXRfdGltZSkge1xuICAgIHRoaXMudGltZSA9IGZsb29yKHJhbmRvbSgpICogdGhpcy5hbmltLmluaXRfdGltZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy50aW1lID0gMDtcbiAgfVxuICB0aGlzLmFuaW1faWR4ID0gMDtcbiAgdGhpcy5mcmFtZSA9IHRoaXMuYW5pbS5mcmFtZXNbdGhpcy5hbmltX2lkeF07XG4gIHJldHVybiB0aGlzO1xufTtcblxuR2xvdlNwcml0ZUFuaW1hdGlvbi5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5hbmltKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgbGV0IHRpbWUgPSB0aGlzLnRpbWU7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmFuaW1faWR4OyArK2lpKSB7XG4gICAgdGltZSArPSB0aGlzLmFuaW0udGltZXNbaWldO1xuICB9XG4gIHJldHVybiB0aW1lIC8gdGhpcy5hbmltLnRvdGFsX3RpbWU7XG59O1xuXG5HbG92U3ByaXRlQW5pbWF0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgaWYgKCF0aGlzLmFuaW0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy50aW1lICs9IGR0O1xuICBpZiAodGhpcy50aW1lID4gdGhpcy5hbmltLnRpbWVzW3RoaXMuYW5pbV9pZHhdKSB7XG4gICAgdGhpcy50aW1lIC09IHRoaXMuYW5pbS50aW1lc1t0aGlzLmFuaW1faWR4XTtcbiAgICB0aGlzLmFuaW1faWR4ID0gdGhpcy5hbmltX2lkeCArIDE7XG4gICAgaWYgKHRoaXMuYW5pbV9pZHggPT09IHRoaXMuYW5pbS5mcmFtZXMubGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5hbmltLmxvb3ApIHtcbiAgICAgICAgdGhpcy5hbmltX2lkeCA9IHRoaXMuYW5pbV9pZHggJSB0aGlzLmFuaW0uZnJhbWVzLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGtlZXAgZmluYWwgZnJhbWVcbiAgICAgICAgdGhpcy5hbmltID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZyYW1lID0gdGhpcy5hbmltLmZyYW1lc1t0aGlzLmFuaW1faWR4XTtcbiAgICBpZiAodGhpcy50aW1lID49IHRoaXMuYW5pbS50aW1lc1t0aGlzLmFuaW1faWR4XSkge1xuICAgICAgdGhpcy50aW1lID0gdGhpcy5hbmltLnRpbWVzW3RoaXMuYW5pbV9pZHhdIC0gMTtcbiAgICB9XG4gIH1cbn07XG5cbkdsb3ZTcHJpdGVBbmltYXRpb24ucHJvdG90eXBlLmdldEZyYW1lID0gZnVuY3Rpb24gKGR0KSB7XG4gIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy51cGRhdGUoZHQpO1xuICB9XG4gIHJldHVybiB0aGlzLmZyYW1lO1xufTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBTb21lIGNvZGUgZnJvbSBUdXJidWxlbno6IENvcHlyaWdodCAoYykgMjAxMi0yMDEzIFR1cmJ1bGVueiBMaW1pdGVkXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnZW9tID0gcmVxdWlyZSgnLi9nZW9tLmpzJyk7XG5jb25zdCB7IGNvcywgbWF4LCBtaW4sIHJvdW5kLCBzaW4gfSA9IE1hdGg7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL3NoYWRlcnMuanMnKTtcbmNvbnN0IHsgbmV4dEhpZ2hlc3RQb3dlck9mVHdvIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyB2ZWMyLCB2ZWM0IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmV4cG9ydCBjb25zdCBCTEVORF9BTFBIQSA9IDA7XG5leHBvcnQgY29uc3QgQkxFTkRfQURESVRJVkUgPSAxO1xuXG5sZXQgc3ByaXRlX3ZzaGFkZXI7XG5sZXQgc3ByaXRlX2ZzaGFkZXI7XG5sZXQgc3ByaXRlX2R1YWxfZnNoYWRlcjtcbmxldCBjbGlwX3NwYWNlID0gdmVjNCgpO1xubGV0IHNwcml0ZV9zaGFkZXJfcGFyYW1zID0ge1xuICBjbGlwX3NwYWNlXG59O1xubGV0IGxhc3RfdWlkID0gMDtcblxubGV0IHNwcml0ZV9xdWV1ZSA9IFtdO1xuXG5sZXQgc3ByaXRlX2ZyZWVsaXN0ID0gW107XG5cbmxldCBzcHJpdGVfcXVldWVfc3RhY2sgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBzcHJpdGVRdWV1ZVB1c2gobmV3X2xpc3QpIHtcbiAgYXNzZXJ0KHNwcml0ZV9xdWV1ZV9zdGFjay5sZW5ndGggPCAxMCk7IC8vIHByb2JhYmx5IGxlYWtpbmdcbiAgc3ByaXRlX3F1ZXVlX3N0YWNrLnB1c2goc3ByaXRlX3F1ZXVlKTtcbiAgc3ByaXRlX3F1ZXVlID0gbmV3X2xpc3QgfHwgW107XG59XG5leHBvcnQgZnVuY3Rpb24gc3ByaXRlUXVldWVQb3AoZm9yX3BhdXNlKSB7XG4gIGFzc2VydChzcHJpdGVfcXVldWVfc3RhY2subGVuZ3RoKTtcbiAgYXNzZXJ0KGZvcl9wYXVzZSB8fCAhc3ByaXRlX3F1ZXVlLmxlbmd0aCk7XG4gIHNwcml0ZV9xdWV1ZSA9IHNwcml0ZV9xdWV1ZV9zdGFjay5wb3AoKTtcbn1cblxuZnVuY3Rpb24gU3ByaXRlRGF0YSgpIHtcbiAgLy8geDEgeTEgeDIgeTIgeDMgeTMgeDQgeTQgLSB2ZXJ0aWNlcyBbMCw4KVxuICAvLyBjciBjZyBjYiBjYSB1MSB2MSB1MiB2MiAtIG5vcm1hbGl6ZWQgY29sb3IgKyB0ZXh0dXJlIFs4LDE2KVxuICAvLyBkYXRhIGZvciBHTCBxdWV1aW5nXG4gIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xuICAvLyBkYXRhIGZvciBzb3J0aW5nL2JpbmRpbmcvZXRjXG4gIHRoaXMudGV4cyA9IG51bGw7XG4gIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgdGhpcy5zaGFkZXJfcGFyYW1zID0gbnVsbDtcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy55ID0gMDtcbiAgdGhpcy56ID0gMDtcbiAgdGhpcy5ibGVuZCA9IDA7IC8vIEJMRU5EX0FMUEhBXG4gIHRoaXMudWlkID0gMDtcbn1cblxuZnVuY3Rpb24gc3ByaXRlRGF0YUFsbG9jKCkge1xuICBpZiAoc3ByaXRlX2ZyZWVsaXN0Lmxlbmd0aCkge1xuICAgIHJldHVybiBzcHJpdGVfZnJlZWxpc3QucG9wKCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBTcHJpdGVEYXRhKCk7XG59XG5cbmZ1bmN0aW9uIGNtcFNwcml0ZShhLCBiKSB7XG4gIGlmIChhLnogIT09IGIueikge1xuICAgIHJldHVybiBhLnogLSBiLno7XG4gIH1cbiAgaWYgKGEueSAhPT0gYi55KSB7XG4gICAgcmV0dXJuIGEueSAtIGIueTtcbiAgfVxuICBpZiAoYS54ICE9PSBiLngpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xuICB9XG4gIHJldHVybiBhLnVpZCAtIGIudWlkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVldWVmbih6LCBmbikge1xuICBhc3NlcnQoaXNGaW5pdGUoeikpO1xuICBzcHJpdGVfcXVldWUucHVzaCh7XG4gICAgZm4sXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHosXG4gICAgdWlkOiArK2xhc3RfdWlkLFxuICB9KTtcbn1cblxuLy8gY29vcmRpbmF0ZXMgbXVzdCBiZSBpbiBjb3VudGVyLWNsb2Nrd2lzZSB3aW5kaW5nIG9yZGVyXG5leHBvcnQgZnVuY3Rpb24gcXVldWVyYXc0KFxuICB0ZXhzLCB4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHosXG4gIHUwLCB2MCwgdTEsIHYxLFxuICBjb2xvciwgc2hhZGVyLCBzaGFkZXJfcGFyYW1zLCBibGVuZFxuKSB7XG4gIGFzc2VydChpc0Zpbml0ZSh6KSk7XG4gIGxldCBlbGVtID0gc3ByaXRlRGF0YUFsbG9jKCk7XG4gIGxldCBkYXRhID0gZWxlbS5kYXRhO1xuICAvLyB4MSB5MSB4MiB5MiB4MyB5MyB4NCB5NCAtIHZlcnRpY2VzIFswLDgpXG4gIC8vIGNyIGNnIGNiIGNhIHUxIHYxIHUyIHYyIC0gbm9ybWFsaXplZCBjb2xvciArIHRleHR1cmUgWzgsMTYpXG4gIC8vIE1pbm9yIHBlcmYgaW1wcm92ZW1lbnQ6IGNvbnZlcnQgYnkgY2xpcF9zcGFjZSBoZXJlIChzdGlsbCBqdXN0IGEgc2luZ2xlIE1BRFxuICAvLyAgIGlmIHByZS1jYWxjdWxhdGVkIGluIHRoZSBjYW1lcmEpIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgc2hhZGVyLlxuICBkYXRhWzBdID0gKHgwIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzFdID0gKHkwIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzJdID0gKHgxIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzNdID0gKHkxIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzRdID0gKHgyIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzVdID0gKHkyIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzZdID0gKHgzIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzddID0gKHkzIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzhdID0gY29sb3JbMF07XG4gIGRhdGFbOV0gPSBjb2xvclsxXTtcbiAgZGF0YVsxMF0gPSBjb2xvclsyXTtcbiAgZGF0YVsxMV0gPSBjb2xvclszXTtcbiAgZGF0YVsxMl0gPSB1MDtcbiAgZGF0YVsxM10gPSB2MDtcbiAgZGF0YVsxNF0gPSB1MTtcbiAgZGF0YVsxNV0gPSB2MTtcblxuICBlbGVtLnRleHMgPSB0ZXhzO1xuICBlbGVtLnggPSBkYXRhWzBdO1xuICBlbGVtLnkgPSBkYXRhWzFdO1xuICBlbGVtLnogPSB6O1xuICBlbGVtLnNoYWRlciA9IHNoYWRlciB8fCBudWxsO1xuICBpZiAoc2hhZGVyX3BhcmFtcykge1xuICAgIHNoYWRlcl9wYXJhbXMuY2xpcF9zcGFjZSA9IHNwcml0ZV9zaGFkZXJfcGFyYW1zLmNsaXBfc3BhY2U7XG4gICAgZWxlbS5zaGFkZXJfcGFyYW1zID0gc2hhZGVyX3BhcmFtcztcbiAgfSBlbHNlIHtcbiAgICBlbGVtLnNoYWRlcl9wYXJhbXMgPSBudWxsO1xuICB9XG4gIGVsZW0uYmxlbmQgPSBibGVuZCB8fCAwOyAvLyBCTEVORF9BTFBIQVxuICAvL2VsZW0uYnVja2V0ID0gYnVja2V0IHx8IHRoaXMuZGVmYXVsdF9idWNrZXQ7XG4gIC8vZWxlbS50ZWNoX3BhcmFtcyA9IHRlY2hfcGFyYW1zIHx8IG51bGw7XG4gIGVsZW0udWlkID0gKytsYXN0X3VpZDtcbiAgc3ByaXRlX3F1ZXVlLnB1c2goZWxlbSk7XG4gIHJldHVybiBlbGVtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVldWVyYXcoXG4gIHRleHMsIHgsIHksIHosIHcsIGgsXG4gIHUwLCB2MCwgdTEsIHYxLFxuICBjb2xvciwgc2hhZGVyLCBzaGFkZXJfcGFyYW1zLCBibGVuZFxuKSB7XG4gIHJldHVybiBxdWV1ZXJhdzQodGV4cyxcbiAgICB4LCB5LFxuICAgIHgsIHkgKyBoLFxuICAgIHggKyB3LCB5ICsgaCxcbiAgICB4ICsgdywgeSxcbiAgICB6LFxuICAgIHUwLCB2MCwgdTEsIHYxLFxuICAgIGNvbG9yLCBzaGFkZXIsIHNoYWRlcl9wYXJhbXMsIGJsZW5kKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlc3ByaXRlKHNwcml0ZSwgeCwgeSwgeiwgdywgaCwgcm90LCB1dnMsIGNvbG9yLCBzaGFkZXIsIHNoYWRlcl9wYXJhbXMsIG5vem9vbSwgcGl4ZWxfcGVyZmVjdCkge1xuICBhc3NlcnQoaXNGaW5pdGUoeikpO1xuICBsZXQgZWxlbSA9IHNwcml0ZURhdGFBbGxvYygpO1xuICBlbGVtLnRleHMgPSBzcHJpdGUudGV4cztcbiAgeCA9ICh4IC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICB5ID0gKHkgLSBjYW1lcmEyZC5kYXRhWzFdKSAqIGNhbWVyYTJkLmRhdGFbNV07XG4gIGVsZW0ueiA9IHo7XG4gIHcgKj0gY2FtZXJhMmQuZGF0YVs0XTtcbiAgaCAqPSBjYW1lcmEyZC5kYXRhWzVdO1xuICBpZiAocGl4ZWxfcGVyZmVjdCkge1xuICAgIHggfD0gMDtcbiAgICB5IHw9IDA7XG4gICAgdyB8PSAwO1xuICAgIGggfD0gMDtcbiAgfVxuICBlbGVtLnggPSB4O1xuICBlbGVtLnkgPSB5O1xuICBjb2xvciA9IGNvbG9yIHx8IHNwcml0ZS5jb2xvcjtcbiAgbGV0IGRhdGEgPSBlbGVtLmRhdGE7XG4gIGlmICghcm90KSB7XG4gICAgbGV0IHgxID0geCAtIHNwcml0ZS5vcmlnaW5bMF0gKiB3O1xuICAgIGxldCB5MSA9IHkgLSBzcHJpdGUub3JpZ2luWzFdICogaDtcbiAgICBsZXQgeDIgPSB4MSArIHc7XG4gICAgbGV0IHkyID0geTEgKyBoO1xuICAgIGRhdGFbMF0gPSB4MTtcbiAgICBkYXRhWzFdID0geTE7XG4gICAgZGF0YVsyXSA9IHgxO1xuICAgIGRhdGFbM10gPSB5MjtcbiAgICBkYXRhWzRdID0geDI7XG4gICAgZGF0YVs1XSA9IHkyO1xuICAgIGRhdGFbNl0gPSB4MjtcbiAgICBkYXRhWzddID0geTE7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGR4ID0gc3ByaXRlLm9yaWdpblswXSAqIHc7XG4gICAgbGV0IGR5ID0gc3ByaXRlLm9yaWdpblsxXSAqIGg7XG5cbiAgICBsZXQgY29zciA9IGNvcyhyb3QpO1xuICAgIGxldCBzaW5yID0gc2luKHJvdCk7XG5cbiAgICBsZXQgeDEgPSB4IC0gY29zciAqIGR4ICsgc2luciAqIGR5O1xuICAgIGxldCB5MSA9IHkgLSBzaW5yICogZHggLSBjb3NyICogZHk7XG4gICAgbGV0IGNoID0gY29zciAqIGg7XG4gICAgbGV0IGN3ID0gY29zciAqIHc7XG4gICAgbGV0IHNoID0gc2luciAqIGg7XG4gICAgbGV0IHN3ID0gc2luciAqIHc7XG5cbiAgICBkYXRhWzBdID0geDE7XG4gICAgZGF0YVsxXSA9IHkxO1xuICAgIGRhdGFbMl0gPSB4MSAtIHNoO1xuICAgIGRhdGFbM10gPSB5MSArIGNoO1xuICAgIGRhdGFbNF0gPSB4MSArIGN3IC0gc2g7XG4gICAgZGF0YVs1XSA9IHkxICsgc3cgKyBjaDtcbiAgICBkYXRhWzZdID0geDEgKyBjdztcbiAgICBkYXRhWzddID0geTEgKyBzdztcbiAgfVxuXG4gIGRhdGFbOF0gPSBjb2xvclswXTtcbiAgZGF0YVs5XSA9IGNvbG9yWzFdO1xuICBkYXRhWzEwXSA9IGNvbG9yWzJdO1xuICBkYXRhWzExXSA9IGNvbG9yWzNdO1xuXG4gIGxldCB1YmlhcyA9IDA7XG4gIGxldCB2YmlhcyA9IDA7XG4gIGxldCB0ZXggPSBlbGVtLnRleHNbMF07XG4gIGlmICghbm96b29tICYmICF0ZXgubm96b29tKSB7XG4gICAgLy8gQmlhcyB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBkZXBlbmRpbmcgb24gdGhlIG1pbmlmaWNhdGlvbi9tYWduaWZpY2F0aW9uXG4gICAgLy8gICBsZXZlbCBzbyB3ZSBkbyBub3QgZ2V0IHBpeGVscyBmcm9tIG5laWdoYm9yaW5nIGZyYW1lcyBibGVlZGluZyBpblxuICAgIC8vIFVzZSBtaW4gaGVyZSAod2FzIG1heCBpbiBsaWJHbG92KSwgdG8gc29sdmUgdG9vbHRpcCBlZGdlcyBiZWluZyB3cm9uZyBpbiBzdHJpY3QgcGl4ZWx5XG4gICAgLy8gVXNlIG1heCBoZXJlIHRvIHNvbHZlIGJveCBidXR0b25zIG5vdCBsaW5pbmcgdXAsIGJ1dCBpbnN0ZWFkIHVzaW5nIG5vem9vbSBpbiBkcmF3Qm94L2RyYXdIQm94LFxuICAgIC8vICAgYnV0LCB0aGF0IG9ubHkgd29ya3MgZm9yIG1hZ25pZmljYXRpb24gLSBuZWVkIHRoZSBtYXggaGVyZSBmb3IgbWluaWZpY2F0aW9uIVxuICAgIGxldCB6b29tX2xldmVsID0gbWF4KFxuICAgICAgKHV2c1syXSAtIHV2c1swXSkgKiB0ZXgud2lkdGggLyB3LFxuICAgICAgKHV2c1szXSAtIHV2c1sxXSkgKiB0ZXguaGVpZ2h0IC8gaCxcbiAgICApOyAvLyBpbiB0ZXhlbHMgcGVyIHBpeGVsXG4gICAgaWYgKHpvb21fbGV2ZWwgPCAxKSB7IC8vIG1hZ25pZmljYXRpb25cbiAgICAgIGlmICh0ZXguZmlsdGVyX21hZyA9PT0gZ2wuTElORUFSKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gYmlhcyBieSBoYWxmIGEgdGV4ZWwsIHNvIHdlJ3JlIGRvaW5nIGFic29sdXRlbHkgbm8gYmxlbmRpbmcgd2l0aCB0aGUgbmVpZ2hib3JpbmcgdGV4ZWxcbiAgICAgICAgdWJpYXMgPSB2YmlhcyA9IDAuNTtcbiAgICAgIH0gZWxzZSBpZiAodGV4LmZpbHRlcl9tYWcgPT09IGdsLk5FQVJFU1QgJiYgZW5naW5lLmFudGlhbGlhcykge1xuICAgICAgICAvLyBXaGVuIGFudGlhbGlhc2luZyBpcyBvbiwgZXZlbiBuZWFyZXN0IHNhbXBsaW5nIHNhbXBsZXMgZnJvbSBhZGphY2VudCB0ZXhlbHMsIGRvIHNsaWdodCBiaWFzXG4gICAgICAgIC8vIFdhbnQgdG8gYmlhcyBieSBvbmUgKnBpeGVsJ3MqIHdvcnRoXG4gICAgICAgIHViaWFzID0gdmJpYXMgPSB6b29tX2xldmVsIC8gMjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHpvb21fbGV2ZWwgPiAxKSB7IC8vIG1pbmlmaWNhdGlvblxuICAgICAgLy8gbmVlZCB0byBhcHBseSB0aGlzIGJpYXMgZXZlbiB3aXRoIG5lYXJlc3QgZmlsdGVyaW5nLCBub3QgZXhhY3RseSBzdXJlIHdoeVxuICAgICAgbGV0IG1pcHBlZF90ZXhlbHMgPSB6b29tX2xldmVsIC8gMjtcbiAgICAgIHViaWFzID0gdmJpYXMgPSAwLjUgKyBtaXBwZWRfdGV4ZWxzO1xuXG4gICAgfVxuICAgIGlmICh1dnNbMF0gPiB1dnNbMl0pIHtcbiAgICAgIHViaWFzICo9IC0xO1xuICAgIH1cbiAgICBpZiAodXZzWzFdID4gdXZzWzNdKSB7XG4gICAgICB2YmlhcyAqPSAtMTtcbiAgICB9XG4gIH1cblxuICBkYXRhWzEyXSA9IHV2c1swXSArIHViaWFzIC8gdGV4LndpZHRoO1xuICBkYXRhWzEzXSA9IHV2c1sxXSArIHZiaWFzIC8gdGV4LmhlaWdodDtcbiAgZGF0YVsxNF0gPSB1dnNbMl0gLSB1YmlhcyAvIHRleC53aWR0aDtcbiAgZGF0YVsxNV0gPSB1dnNbM10gLSB2YmlhcyAvIHRleC5oZWlnaHQ7XG5cbiAgZWxlbS51aWQgPSArK2xhc3RfdWlkO1xuICBlbGVtLnNoYWRlciA9IHNoYWRlciB8fCBudWxsO1xuICBlbGVtLmJsZW5kID0gMDsgLy8gQkxFTkRfQUxQSEFcblxuICBpZiAoc2hhZGVyX3BhcmFtcykge1xuICAgIHNoYWRlcl9wYXJhbXMuY2xpcF9zcGFjZSA9IHNwcml0ZV9zaGFkZXJfcGFyYW1zLmNsaXBfc3BhY2U7XG4gICAgZWxlbS5zaGFkZXJfcGFyYW1zID0gc2hhZGVyX3BhcmFtcztcbiAgfSBlbHNlIHtcbiAgICBlbGVtLnNoYWRlcl9wYXJhbXMgPSBudWxsO1xuICB9XG4gIHNwcml0ZV9xdWV1ZS5wdXNoKGVsZW0pO1xufVxuXG5cbmxldCBjbGlwX3RlbXBfeHkgPSB2ZWMyKCk7XG5sZXQgY2xpcF90ZW1wX3doID0gdmVjMigpO1xuZnVuY3Rpb24gY2xpcENvb3Jkc1NjaXNzb3IoeCwgeSwgdywgaCkge1xuICBjYW1lcmEyZC52aXJ0dWFsVG9DYW52YXMoY2xpcF90ZW1wX3h5LCBbeCwgeV0pO1xuICBjbGlwX3RlbXBfeHlbMF0gPSByb3VuZChjbGlwX3RlbXBfeHlbMF0pO1xuICBjbGlwX3RlbXBfeHlbMV0gPSByb3VuZChjbGlwX3RlbXBfeHlbMV0pO1xuICBjYW1lcmEyZC52aXJ0dWFsVG9DYW52YXMoY2xpcF90ZW1wX3doLCBbeCArIHcsIHkgKyBoXSk7XG4gIGNsaXBfdGVtcF93aFswXSA9IHJvdW5kKGNsaXBfdGVtcF93aFswXSkgLSBjbGlwX3RlbXBfeHlbMF07XG4gIGNsaXBfdGVtcF93aFsxXSA9IHJvdW5kKGNsaXBfdGVtcF93aFsxXSkgLSBjbGlwX3RlbXBfeHlbMV07XG5cbiAgLy8gbGV0IGdkX3cgPSBlbmdpbmUucmVuZGVyX3dpZHRoIHx8IGVuZ2luZS53aWR0aDtcbiAgbGV0IGdkX2ggPSBlbmdpbmUucmVuZGVyX2hlaWdodCB8fCBlbmdpbmUuaGVpZ2h0O1xuICByZXR1cm4gW2NsaXBfdGVtcF94eVswXSwgZ2RfaCAtIChjbGlwX3RlbXBfeHlbMV0gKyBjbGlwX3RlbXBfd2hbMV0pLCBjbGlwX3RlbXBfd2hbMF0sIGNsaXBfdGVtcF93aFsxXV07XG59XG5cbmZ1bmN0aW9uIGNsaXBDb29yZHNEb20oeCwgeSwgdywgaCkge1xuICBsZXQgeHl3aCA9IHZlYzQoKTtcbiAgY2FtZXJhMmQudmlydHVhbFRvRG9tKHh5d2gsIFt4ICsgdywgeSArIGhdKTtcbiAgeHl3aFsyXSA9IHh5d2hbMF07XG4gIHh5d2hbM10gPSB4eXdoWzFdO1xuICBjYW1lcmEyZC52aXJ0dWFsVG9Eb20oeHl3aCwgW3gsIHldKTtcbiAgeHl3aFswXSA9IHJvdW5kKHh5d2hbMF0pO1xuICB4eXdoWzFdID0gcm91bmQoeHl3aFsxXSk7XG4gIHh5d2hbMl0gPSByb3VuZCh4eXdoWzJdKSAtIHh5d2hbMF07XG4gIHh5d2hbM10gPSByb3VuZCh4eXdoWzNdKSAtIHh5d2hbMV07XG5cbiAgcmV0dXJuIHh5d2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwKHpfc3RhcnQsIHpfZW5kLCB4LCB5LCB3LCBoKSB7XG4gIGxldCBzY2lzc29yID0gY2xpcENvb3Jkc1NjaXNzb3IoeCwgeSwgdywgaCk7XG4gIHF1ZXVlZm4oel9zdGFydCAtIDAuMDEsICgpID0+IHtcbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5zY2lzc29yKHNjaXNzb3JbMF0sIHNjaXNzb3JbMV0sIHNjaXNzb3JbMl0sIHNjaXNzb3JbM10pO1xuICB9KTtcbiAgcXVldWVmbih6X2VuZCAtIDAuMDEsICgpID0+IHtcbiAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIH0pO1xufVxuXG5sZXQgY2xpcF9zdGFjayA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGNsaXBwZWQoKSB7XG4gIHJldHVybiBjbGlwX3N0YWNrLmxlbmd0aCA+IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwUHVzaCh6LCB4LCB5LCB3LCBoKSB7XG4gIGFzc2VydChjbGlwX3N0YWNrLmxlbmd0aCA8IDEwKTsgLy8gcHJvYmFibHkgbGVha2luZ1xuICBsZXQgc2Npc3NvciA9IGNsaXBDb29yZHNTY2lzc29yKHgsIHksIHcsIGgpO1xuICBsZXQgZG9tX2NsaXAgPSBjbGlwQ29vcmRzRG9tKHgsIHksIHcsIGgpO1xuICBjYW1lcmEyZC5zZXRJbnB1dENsaXBwaW5nKGRvbV9jbGlwKTtcbiAgc3ByaXRlUXVldWVQdXNoKCk7XG4gIGNsaXBfc3RhY2sucHVzaCh7XG4gICAgeiwgc2Npc3NvciwgZG9tX2NsaXAsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpcFBvcCgpIHtcbiAgYXNzZXJ0KGNsaXBwZWQoKSk7XG4gIHF1ZXVlZm4oWi5UT09MVElQIC0gMC4xLCAoKSA9PiB7XG4gICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICB9KTtcbiAgbGV0IHsgeiwgc2Npc3NvciB9ID0gY2xpcF9zdGFjay5wb3AoKTtcbiAgbGV0IHNwcml0ZXMgPSBzcHJpdGVfcXVldWU7XG4gIHNwcml0ZVF1ZXVlUG9wKHRydWUpO1xuICBpZiAoY2xpcF9zdGFjay5sZW5ndGgpIHtcbiAgICBsZXQgeyBkb21fY2xpcCB9ID0gY2xpcF9zdGFja1tjbGlwX3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGNhbWVyYTJkLnNldElucHV0Q2xpcHBpbmcoZG9tX2NsaXApO1xuICB9IGVsc2Uge1xuICAgIGNhbWVyYTJkLnNldElucHV0Q2xpcHBpbmcobnVsbCk7XG4gIH1cbiAgcXVldWVmbih6LCAoKSA9PiB7XG4gICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgZ2wuc2Npc3NvcihzY2lzc29yWzBdLCBzY2lzc29yWzFdLCBzY2lzc29yWzJdLCBzY2lzc29yWzNdKTtcbiAgICBzcHJpdGVRdWV1ZVB1c2goKTtcbiAgICBzcHJpdGVfcXVldWUgPSBzcHJpdGVzO1xuICAgIGV4cG9ydHMuZHJhdygpO1xuICAgIHNwcml0ZVF1ZXVlUG9wKCk7XG4gICAgLy8gZG9uZSBhdCBaLlRPT0xUSVA6IGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgfSk7XG59XG5cbmxldCBjbGlwX3BhdXNlZDtcbmV4cG9ydCBmdW5jdGlvbiBjbGlwUGF1c2UoKSB7XG4gIC8vIFF1ZXVlIGJhY2sgaW50byB0aGUgcm9vdCBzcHJpdGUgcXVldWVcbiAgYXNzZXJ0KGNsaXBwZWQoKSk7XG4gIGFzc2VydCghY2xpcF9wYXVzZWQpO1xuICBjbGlwX3BhdXNlZCA9IHRydWU7XG4gIHNwcml0ZVF1ZXVlUHVzaChzcHJpdGVfcXVldWVfc3RhY2tbMF0pO1xuICBjYW1lcmEyZC5zZXRJbnB1dENsaXBwaW5nKG51bGwpO1xuICAvLyBwdXNoIG9udG8gdGhlIGNsaXAgc3RhY2sgc28gaWYgdGhlcmUncyBhbm90aGVyIGNsaXAgcHVzaC9wb3Agd2UgZ2V0IGJhY2sgdG9cbiAgLy8gZXNjYXBlZCB3aGVuIGl0IHBvcHMuXG4gIGNsaXBfc3RhY2sucHVzaCh7IGRvbV9jbGlwOiBudWxsIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsaXBSZXN1bWUoKSB7XG4gIGFzc2VydChjbGlwcGVkKCkpO1xuICBhc3NlcnQoY2xpcF9wYXVzZWQpO1xuICBjbGlwX3N0YWNrLnBvcCgpOyAvLyByZW1vdmUgdXNcbiAgY2xpcF9wYXVzZWQgPSBmYWxzZTtcbiAgYXNzZXJ0KGNsaXBwZWQoKSk7XG4gIGxldCB7IGRvbV9jbGlwIH0gPSBjbGlwX3N0YWNrW2NsaXBfc3RhY2subGVuZ3RoIC0gMV07XG4gIHNwcml0ZVF1ZXVlUG9wKHRydWUpO1xuICBjYW1lcmEyZC5zZXRJbnB1dENsaXBwaW5nKGRvbV9jbGlwKTtcbn1cblxuZnVuY3Rpb24gZGlmZlRleHR1cmVzKHRleHNhLCB0ZXhzYikge1xuICBpZiAodGV4c2EubGVuZ3RoICE9PSB0ZXhzYi5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4c2EubGVuZ3RoOyArK2lpKSB7XG4gICAgaWYgKHRleHNhW2lpXSAhPT0gdGV4c2JbaWldKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgYmF0Y2hfc3RhdGU7XG5sZXQgc3ByaXRlX2dlb207XG5sZXQgc3ByaXRlX2J1ZmZlcjsgLy8gRmxvYXQzMkFycmF5IHdpdGggOCBlbnRyaWVzIHBlciB2ZXJ0XG5sZXQgc3ByaXRlX2J1ZmZlcl9sZW4gPSAwOyAvLyBpbiB2ZXJ0c1xubGV0IHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQgPSAwO1xubGV0IHNwcml0ZV9idWZmZXJfaWR4ID0gMDsgLy8gaW4gdmVydHNcbmxldCBsYXN0X2JsZW5kX21vZGU7XG5sZXQgbGFzdF9ib3VuZF9zaGFkZXI7XG5jb25zdCBNQVhfVkVSVF9DT1VOVCA9IDY1NTM2O1xubGV0IGJhdGNoZXMgPSBbXTtcblxuZnVuY3Rpb24gY29tbWl0KCkge1xuICBpZiAoc3ByaXRlX2J1ZmZlcl9pZHggPT09IHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmF0Y2hlcy5wdXNoKHtcbiAgICBzdGF0ZTogYmF0Y2hfc3RhdGUsXG4gICAgc3RhcnQ6IHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQsXG4gICAgZW5kOiBzcHJpdGVfYnVmZmVyX2lkeCxcbiAgfSk7XG4gIHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQgPSBzcHJpdGVfYnVmZmVyX2lkeDtcbn1cblxuZnVuY3Rpb24gY29tbWl0QW5kRmx1c2goKSB7XG4gIGNvbW1pdCgpO1xuICBpZiAoIWJhdGNoZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydChzcHJpdGVfYnVmZmVyX2lkeCk7XG4gIHNwcml0ZV9nZW9tLnVwZGF0ZShzcHJpdGVfYnVmZmVyLCBzcHJpdGVfYnVmZmVyX2lkeCk7XG4gIHNwcml0ZV9nZW9tLmJpbmQoKTtcblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYmF0Y2hlcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgYmF0Y2ggPSBiYXRjaGVzW2lpXTtcbiAgICBsZXQgeyBzdGF0ZSwgc3RhcnQsIGVuZCB9ID0gYmF0Y2g7XG4gICAgaWYgKGxhc3RfYm91bmRfc2hhZGVyICE9PSBzdGF0ZS5zaGFkZXIgfHwgc3RhdGUuc2hhZGVyX3BhcmFtcykge1xuICAgICAgc2hhZGVycy5iaW5kKHNwcml0ZV92c2hhZGVyLFxuICAgICAgICBzdGF0ZS5zaGFkZXIgfHwgc3ByaXRlX2ZzaGFkZXIsXG4gICAgICAgIHN0YXRlLnNoYWRlcl9wYXJhbXMgfHwgc3ByaXRlX3NoYWRlcl9wYXJhbXMpO1xuICAgICAgbGFzdF9ib3VuZF9zaGFkZXIgPSBzdGF0ZS5zaGFkZXI7XG4gICAgfVxuICAgIGlmIChsYXN0X2JsZW5kX21vZGUgIT09IHN0YXRlLmJsZW5kKSB7XG4gICAgICBsYXN0X2JsZW5kX21vZGUgPSBzdGF0ZS5ibGVuZDtcbiAgICAgIGlmIChsYXN0X2JsZW5kX21vZGUgPT09IEJMRU5EX0FERElUSVZFKSB7XG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGV4dHVyZXMuYmluZEFycmF5KHN0YXRlLnRleHMpO1xuICAgIGdsLmRyYXdFbGVtZW50cyhzcHJpdGVfZ2VvbS5tb2RlLCAoZW5kIC0gc3RhcnQpICogMyAvIDIsIGdsLlVOU0lHTkVEX1NIT1JULCBzdGFydCAqIDMpO1xuICB9XG5cbiAgYmF0Y2hlcy5sZW5ndGggPSAwO1xuICBzcHJpdGVfYnVmZmVyX2lkeCA9IDA7XG4gIHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQgPSAwO1xufVxuXG5mdW5jdGlvbiBidWZmZXJTcHJpdGVEYXRhKGRhdGEpIHtcbiAgbGV0IGluZGV4ID0gc3ByaXRlX2J1ZmZlcl9pZHggKiA4O1xuICBzcHJpdGVfYnVmZmVyX2lkeCArPSA0O1xuXG4gIGxldCBjMSA9IGRhdGFbOF07XG4gIGxldCBjMiA9IGRhdGFbOV07XG4gIGxldCBjMyA9IGRhdGFbMTBdO1xuICBsZXQgYzQgPSBkYXRhWzExXTtcbiAgbGV0IHUxID0gZGF0YVsxMl07XG4gIGxldCB2MSA9IGRhdGFbMTNdO1xuICBsZXQgdTIgPSBkYXRhWzE0XTtcbiAgbGV0IHYyID0gZGF0YVsxNV07XG5cbiAgc3ByaXRlX2J1ZmZlcltpbmRleF0gPSBkYXRhWzBdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMV0gPSBkYXRhWzFdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMl0gPSBjMTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDNdID0gYzI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA0XSA9IGMzO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgNV0gPSBjNDtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDZdID0gdTE7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA3XSA9IHYxO1xuXG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA4XSA9IGRhdGFbMl07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA5XSA9IGRhdGFbM107XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxMF0gPSBjMTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDExXSA9IGMyO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTJdID0gYzM7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxM10gPSBjNDtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDE0XSA9IHUxO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTVdID0gdjI7XG5cbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDE2XSA9IGRhdGFbNF07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxN10gPSBkYXRhWzVdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMThdID0gYzE7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxOV0gPSBjMjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDIwXSA9IGMzO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjFdID0gYzQ7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyMl0gPSB1MjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDIzXSA9IHYyO1xuXG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyNF0gPSBkYXRhWzZdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjVdID0gZGF0YVs3XTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDI2XSA9IGMxO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjddID0gYzI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyOF0gPSBjMztcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDI5XSA9IGM0O1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMzBdID0gdTI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAzMV0gPSB2MTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXcoKSB7XG4gIGlmIChlbmdpbmUuZGVmaW5lcy5OT1NQUklURVMpIHtcbiAgICBzcHJpdGVfcXVldWUubGVuZ3RoID0gMDtcbiAgfVxuICBpZiAoIXNwcml0ZV9xdWV1ZS5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjbGlwX3NwYWNlWzBdID0gMiAvIGVuZ2luZS52aWV3cG9ydFsyXTtcbiAgY2xpcF9zcGFjZVsxXSA9IC0yIC8gZW5naW5lLnZpZXdwb3J0WzNdO1xuXG4gIGxhc3RfYmxlbmRfbW9kZSA9IC0xO1xuICBsYXN0X2JvdW5kX3NoYWRlciA9IC0xO1xuXG4gIGlmICghc3ByaXRlX2dlb20pIHtcbiAgICBzcHJpdGVfZ2VvbSA9IGdlb20uY3JlYXRlKFtcbiAgICAgIFtzaGFkZXJzLnNlbWFudGljLlBPU0lUSU9OLCBnbC5GTE9BVCwgMiwgZmFsc2VdLFxuICAgICAgW3NoYWRlcnMuc2VtYW50aWMuQ09MT1IsIGdsLkZMT0FULCA0LCBmYWxzZV0sXG4gICAgICBbc2hhZGVycy5zZW1hbnRpYy5URVhDT09SRCwgZ2wuRkxPQVQsIDIsIGZhbHNlXSxcbiAgICBdLCBbXSwgbnVsbCwgZ2VvbS5RVUFEUyk7XG4gICAgc3ByaXRlX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoMTAyNCk7XG4gICAgc3ByaXRlX2J1ZmZlcl9sZW4gPSBzcHJpdGVfYnVmZmVyLmxlbmd0aCAvIDg7XG4gIH1cblxuICBzcHJpdGVfcXVldWUuc29ydChjbXBTcHJpdGUpO1xuXG4gIGJhdGNoX3N0YXRlID0gbnVsbDtcbiAgYXNzZXJ0LmVxdWFsKHNwcml0ZV9idWZmZXJfaWR4LCAwKTtcbiAgYXNzZXJ0LmVxdWFsKHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQsIDApO1xuICBhc3NlcnQuZXF1YWwoYmF0Y2hlcy5sZW5ndGgsIDApO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc3ByaXRlX3F1ZXVlLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBlbGVtID0gc3ByaXRlX3F1ZXVlW2lpXTtcbiAgICBpZiAoZWxlbS5mbikge1xuICAgICAgY29tbWl0QW5kRmx1c2goKTtcbiAgICAgIGJhdGNoX3N0YXRlID0gbnVsbDtcbiAgICAgIGVsZW0uZm4oKTtcbiAgICAgIGxhc3RfYm91bmRfc2hhZGVyID0gLTE7XG4gICAgICBsYXN0X2JsZW5kX21vZGUgPSAtMTtcbiAgICAgIGFzc2VydC5lcXVhbChzcHJpdGVfYnVmZmVyX2lkeCwgMCk7XG4gICAgICBhc3NlcnQuZXF1YWwoc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCwgMCk7XG4gICAgICBhc3NlcnQuZXF1YWwoYmF0Y2hlcy5sZW5ndGgsIDApO1xuXG4gICAgICBjbGlwX3NwYWNlWzBdID0gMiAvIGVuZ2luZS52aWV3cG9ydFsyXTtcbiAgICAgIGNsaXBfc3BhY2VbMV0gPSAtMiAvIGVuZ2luZS52aWV3cG9ydFszXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFiYXRjaF9zdGF0ZSB8fFxuICAgICAgICBkaWZmVGV4dHVyZXMoZWxlbS50ZXhzLCBiYXRjaF9zdGF0ZS50ZXhzKSB8fFxuICAgICAgICBlbGVtLnNoYWRlciAhPT0gYmF0Y2hfc3RhdGUuc2hhZGVyIHx8XG4gICAgICAgIGVsZW0uc2hhZGVyX3BhcmFtcyAhPT0gYmF0Y2hfc3RhdGUuc2hhZGVyX3BhcmFtcyB8fFxuICAgICAgICBlbGVtLmJsZW5kICE9PSBiYXRjaF9zdGF0ZS5ibGVuZFxuICAgICAgKSB7XG4gICAgICAgIGNvbW1pdCgpO1xuICAgICAgICBiYXRjaF9zdGF0ZSA9IGVsZW07XG4gICAgICB9XG4gICAgICBpZiAoc3ByaXRlX2J1ZmZlcl9pZHggKyA0ID4gc3ByaXRlX2J1ZmZlcl9sZW4pIHtcbiAgICAgICAgY29tbWl0QW5kRmx1c2goKTtcbiAgICAgICAgLy8gYmF0Y2hfc3RhdGUgbGVmdCBhbG9uZVxuICAgICAgICBpZiAoc3ByaXRlX2J1ZmZlcl9sZW4gIT09IE1BWF9WRVJUX0NPVU5UKSB7XG4gICAgICAgICAgbGV0IG5ld19sZW5ndGggPSBtaW4oKHNwcml0ZV9idWZmZXJfbGVuICogMS4yNSArIDMpICYgfjMsIE1BWF9WRVJUX0NPVU5UKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gICAgICAgICAgc3ByaXRlX2J1ZmZlcl9sZW4gPSBuZXdfbGVuZ3RoO1xuICAgICAgICAgIHNwcml0ZV9idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KG5ld19sZW5ndGggKiA4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBidWZmZXJTcHJpdGVEYXRhKGVsZW0uZGF0YSk7XG4gICAgICBzcHJpdGVfZnJlZWxpc3QucHVzaChlbGVtKTtcbiAgICB9XG4gIH1cbiAgY29tbWl0QW5kRmx1c2goKTtcblxuICBzcHJpdGVfcXVldWUubGVuZ3RoID0gMDtcbiAgaWYgKGxhc3RfYmxlbmRfbW9kZSAhPT0gQkxFTkRfQUxQSEEpIHtcbiAgICAvLyBhbHdheXMgcmVzZXQgdG8gdGhpc1xuICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJlY3RzKHdzLCBocykge1xuICBsZXQgcmVjdHMgPSBbXTtcbiAgbGV0IHRvdGFsX3cgPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgdG90YWxfdyArPSB3c1tpaV07XG4gIH1cbiAgbGV0IHRvdGFsX2ggPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaHMubGVuZ3RoOyArK2lpKSB7XG4gICAgdG90YWxfaCArPSBoc1tpaV07XG4gIH1cbiAgbGV0IHRleF93ID0gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKHRvdGFsX3cpO1xuICBsZXQgdGV4X2ggPSBuZXh0SGlnaGVzdFBvd2VyT2ZUd28odG90YWxfaCk7XG4gIGxldCB3aCA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgd2gucHVzaCh3c1tpaV0gLyB0b3RhbF9oKTtcbiAgfVxuICBsZXQgaHcgPSBbXTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGhzLmxlbmd0aDsgKytpaSkge1xuICAgIGh3LnB1c2goaHNbaWldIC8gdG90YWxfdyk7XG4gIH1cbiAgbGV0IGFzcGVjdCA9IFtdO1xuICBsZXQgbm9uX3NxdWFyZSA9IGZhbHNlO1xuICBsZXQgeSA9IDA7XG4gIGZvciAobGV0IGpqID0gMDsgamogPCBocy5sZW5ndGg7ICsramopIHtcbiAgICBsZXQgeCA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHdzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IHIgPSB2ZWM0KHggLyB0ZXhfdywgeSAvIHRleF9oLFxuICAgICAgICAoeCArIHdzW2lpXSkgLyB0ZXhfdywgKHkgKyBoc1tqal0pIC8gdGV4X2gpO1xuICAgICAgcmVjdHMucHVzaChyKTtcbiAgICAgIGxldCBhc3AgPSB3c1tpaV0gLyBoc1tqal07XG4gICAgICBpZiAoYXNwICE9PSAxKSB7XG4gICAgICAgIG5vbl9zcXVhcmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgYXNwZWN0LnB1c2goYXNwKTtcbiAgICAgIHggKz0gd3NbaWldO1xuICAgIH1cbiAgICB5ICs9IGhzW2pqXTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoczogd3MsXG4gICAgaGVpZ2h0czogaHMsXG4gICAgd2gsXG4gICAgaHcsXG4gICAgcmVjdHMsXG4gICAgYXNwZWN0OiBub25fc3F1YXJlID8gYXNwZWN0IDogbnVsbCxcbiAgICB0b3RhbF93LFxuICAgIHRvdGFsX2gsXG4gIH07XG59XG5cbmZ1bmN0aW9uIFNwcml0ZShwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcy50ZXhzKSB7XG4gICAgdGhpcy50ZXhzID0gcGFyYW1zLnRleHM7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGV4dCA9IHBhcmFtcy5leHQgfHwgJy5wbmcnO1xuICAgIHRoaXMudGV4cyA9IFtdO1xuICAgIGlmIChwYXJhbXMudGV4KSB7XG4gICAgICB0aGlzLnRleHMucHVzaChwYXJhbXMudGV4KTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5sYXllcnMpIHtcbiAgICAgIGFzc2VydChwYXJhbXMubmFtZSk7XG4gICAgICB0aGlzLnRleHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwYXJhbXMubGF5ZXJzOyArK2lpKSB7XG4gICAgICAgIHRoaXMudGV4cy5wdXNoKHRleHR1cmVzLmxvYWQoe1xuICAgICAgICAgIHVybDogYGltZy8ke3BhcmFtcy5uYW1lfV8ke2lpfSR7ZXh0fWAsXG4gICAgICAgICAgZmlsdGVyX21pbjogcGFyYW1zLmZpbHRlcl9taW4sXG4gICAgICAgICAgZmlsdGVyX21hZzogcGFyYW1zLmZpbHRlcl9tYWcsXG4gICAgICAgICAgd3JhcF9zOiBwYXJhbXMud3JhcF9zLFxuICAgICAgICAgIHdyYXBfdDogcGFyYW1zLndyYXBfdCxcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFyYW1zLm5hbWUpIHtcbiAgICAgIHRoaXMudGV4cy5wdXNoKHRleHR1cmVzLmxvYWQoe1xuICAgICAgICB1cmw6IGBpbWcvJHtwYXJhbXMubmFtZX0ke2V4dH1gLFxuICAgICAgICBmaWx0ZXJfbWluOiBwYXJhbXMuZmlsdGVyX21pbixcbiAgICAgICAgZmlsdGVyX21hZzogcGFyYW1zLmZpbHRlcl9tYWcsXG4gICAgICAgIHdyYXBfczogcGFyYW1zLndyYXBfcyxcbiAgICAgICAgd3JhcF90OiBwYXJhbXMud3JhcF90LFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQocGFyYW1zLnVybCk7XG4gICAgICB0aGlzLnRleHMucHVzaCh0ZXh0dXJlcy5sb2FkKHBhcmFtcykpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMub3JpZ2luID0gcGFyYW1zLm9yaWdpbiB8fCB2ZWMyKDAsIDApOyAvLyBbMCwxXSByYW5nZVxuICB0aGlzLnNpemUgPSBwYXJhbXMuc2l6ZSB8fCB2ZWMyKDEsIDEpO1xuICB0aGlzLmNvbG9yID0gcGFyYW1zLmNvbG9yIHx8IHZlYzQoMSwxLDEsMSk7XG4gIHRoaXMudXZzID0gcGFyYW1zLnV2cyB8fCB2ZWM0KDAsIDAsIDEsIDEpO1xuICBpZiAoIXBhcmFtcy51dnMpIHtcbiAgICAvLyBGaXggdXAgbm9uLXBvd2VyLW9mLXR3byB0ZXh0dXJlc1xuICAgIHRoaXMudGV4c1swXS5vbkxvYWQoKHRleCkgPT4ge1xuICAgICAgdGhpcy51dnNbMl0gPSB0ZXguc3JjX3dpZHRoIC8gdGV4LndpZHRoO1xuICAgICAgdGhpcy51dnNbM10gPSB0ZXguc3JjX2hlaWdodCAvIHRleC5oZWlnaHQ7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFyYW1zLndzKSB7XG4gICAgdGhpcy51aWRhdGEgPSBidWlsZFJlY3RzKHBhcmFtcy53cywgcGFyYW1zLmhzKTtcbiAgfVxuICB0aGlzLnNoYWRlciA9IHBhcmFtcy5zaGFkZXIgfHwgbnVsbDtcbn1cblxuLy8gcGFyYW1zOlxuLy8gICByZXF1aXJlZDogeCwgeVxuLy8gICBvcHRpb25hbDogeiwgdywgaCwgdXZzLCBjb2xvciwgbm96b29tLCBwaXhlbF9wZXJmZWN0XG5TcHJpdGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIGlmIChwYXJhbXMudyA9PT0gMCB8fCBwYXJhbXMuaCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgdyA9IChwYXJhbXMudyB8fCAxKSAqIHRoaXMuc2l6ZVswXTtcbiAgbGV0IGggPSAocGFyYW1zLmggfHwgMSkgKiB0aGlzLnNpemVbMV07XG4gIGxldCB1dnMgPSAodHlwZW9mIHBhcmFtcy5mcmFtZSA9PT0gJ251bWJlcicpID8gdGhpcy51aWRhdGEucmVjdHNbcGFyYW1zLmZyYW1lXSA6IChwYXJhbXMudXZzIHx8IHRoaXMudXZzKTtcbiAgcXVldWVzcHJpdGUodGhpcywgcGFyYW1zLngsIHBhcmFtcy55LCBwYXJhbXMueiB8fCBaLlVJLCB3LCBoLCBwYXJhbXMucm90LCB1dnMsIHBhcmFtcy5jb2xvciB8fCB0aGlzLmNvbG9yLFxuICAgIHBhcmFtcy5zaGFkZXIgfHwgdGhpcy5zaGFkZXIsIHBhcmFtcy5zaGFkZXJfcGFyYW1zLCBwYXJhbXMubm96b29tLCBwYXJhbXMucGl4ZWxfcGVyZmVjdCk7XG59O1xuXG5TcHJpdGUucHJvdG90eXBlLmRyYXdEdWFsVGludCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcGFyYW1zLnNoYWRlciA9IHNwcml0ZV9kdWFsX2ZzaGFkZXI7XG4gIHBhcmFtcy5zaGFkZXJfcGFyYW1zID0ge1xuICAgIGNvbG9yMTogcGFyYW1zLmNvbG9yMSxcbiAgfTtcbiAgdGhpcy5kcmF3KHBhcmFtcyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IFNwcml0ZShwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgY2xpcF9zcGFjZVsyXSA9IC0xO1xuICBjbGlwX3NwYWNlWzNdID0gMTtcbiAgc3ByaXRlX3ZzaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL3Nwcml0ZS52cCcpO1xuICBzcHJpdGVfZnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvc3ByaXRlLmZwJyk7XG4gIHNwcml0ZV9kdWFsX2ZzaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL3Nwcml0ZV9kdWFsLmZwJyk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGRvdF9wcm9wID0gcmVxdWlyZSgnZG90LXByb3AnKTtcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi90aW55LWV2ZW50cy5qcycpO1xuY29uc3QgeyBmYkdldExvZ2luSW5mbyB9ID0gcmVxdWlyZSgnLi9mYmluc3RhbnQuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IG1kNSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9tZDUuanMnKTtcbmNvbnN0IHsgaXNQYWNrZXQgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9wYWNrZXQuanMnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG4vLyByZWxldmFudCBldmVudHM6XG4vLyAgIC5vbignY2hhbm5lbF9kYXRhJywgY2IoZGF0YSBbLCBtb2Rfa2V5LCBtb2RfdmFsdWVdKSk7XG5cbmZ1bmN0aW9uIENsaWVudENoYW5uZWxXb3JrZXIoc3VicywgY2hhbm5lbF9pZCwgYmFzZV9oYW5kbGVycykge1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgdGhpcy5zdWJzID0gc3VicztcbiAgdGhpcy5jaGFubmVsX2lkID0gY2hhbm5lbF9pZDtcbiAgdGhpcy5zdWJzY3JpcHRpb25zID0gMDtcbiAgdGhpcy5zdWJzY3JpYmVfZmFpbGVkID0gZmFsc2U7XG4gIHRoaXMuZ290X3N1YnNjcmliZSA9IGZhbHNlO1xuICB0aGlzLmltbWVkaWF0ZV9zdWJzY3JpYmUgPSAwO1xuICB0aGlzLmNoYW5uZWxfZGF0YV92ZXIgPSAwOyAvLyBmb3IgcG9sbGluZyBmb3IgY2hhbmdlc1xuICB0aGlzLmhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShiYXNlX2hhbmRsZXJzKTtcbiAgdGhpcy5kYXRhID0ge307XG59XG51dGlsLmluaGVyaXRzKENsaWVudENoYW5uZWxXb3JrZXIsIEV2ZW50RW1pdHRlcik7XG5cbi8vIGNiKGRhdGEpXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5vblN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYikge1xuICBhc3NlcnQodGhpcy5zdWJzY3JpcHRpb25zIHx8IHRoaXMuYXV0b3N1YnNjcmliZWQpO1xuICB0aGlzLm9uKCdzdWJzY3JpYmUnLCBjYik7XG4gIGlmICh0aGlzLmdvdF9zdWJzY3JpYmUpIHtcbiAgICBjYih0aGlzLmRhdGEpO1xuICB9XG59O1xuXG4vLyBjYihkYXRhKVxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUub25jZVN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYikge1xuICBhc3NlcnQodGhpcy5zdWJzY3JpcHRpb25zIHx8IHRoaXMuYXV0b3N1YnNjcmliZWQpO1xuICBpZiAodGhpcy5nb3Rfc3Vic2NyaWJlKSB7XG4gICAgY2IodGhpcy5kYXRhKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9uY2UoJ3N1YnNjcmliZScsIGNiKTtcbiAgfVxufTtcblxuXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5oYW5kbGVDaGFubmVsRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCByZXNwX2Z1bmMpIHtcbiAgY29uc29sZS5sb2coYGdvdCBjaGFubmVsX2RhdGEoJHt0aGlzLmNoYW5uZWxfaWR9KTogICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gICsrdGhpcy5jaGFubmVsX2RhdGFfdmVyO1xuICB0aGlzLmVtaXQoJ2NoYW5uZWxfZGF0YScsIHRoaXMuZGF0YSk7XG4gIHRoaXMuZ290X3N1YnNjcmliZSA9IHRydWU7XG4gIHRoaXMuZW1pdCgnc3Vic2NyaWJlJywgdGhpcy5kYXRhKTtcblxuICAvLyBHZXQgY29tbWFuZCBsaXN0IHVwb24gZmlyc3QgY29ubmVjdFxuICBsZXQgY2hhbm5lbF90eXBlID0gdGhpcy5jaGFubmVsX2lkLnNwbGl0KCcuJylbMF07XG4gIGxldCBjbWRfbGlzdCA9IHRoaXMuc3Vicy5jbWRzX2ZldGNoZWRfYnlfdHlwZTtcbiAgaWYgKGNtZF9saXN0ICYmICFjbWRfbGlzdFtjaGFubmVsX3R5cGVdKSB7XG4gICAgY21kX2xpc3RbY2hhbm5lbF90eXBlXSA9IHRydWU7XG4gICAgdGhpcy5zZW5kKCdjbWRwYXJzZScsICdjbWRfbGlzdCcsIChlcnIsIHJlc3ApID0+IHtcbiAgICAgIGlmIChlcnIpIHsgLy8gYWxyZWFkeSB1bnN1YnNjcmliZWQ/XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgY21kX2xpc3QgZm9yICR7Y2hhbm5lbF90eXBlfWApO1xuICAgICAgICBkZWxldGUgY21kX2xpc3RbY2hhbm5lbF90eXBlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3Vicy5jbWRfcGFyc2UuYWRkU2VydmVyQ29tbWFuZHMocmVzcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXNwX2Z1bmMoKTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmhhbmRsZUFwcGx5Q2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgcmVzcF9mdW5jKSB7XG4gIC8vIGFscmVhZHkgbG9nZ2VkIGluIGhhbmRsZUNoYW5uZWxNZXNzYWdlXG4gIC8vIGlmICghZGF0YS5xKSB7XG4gIC8vICAgY29uc29sZS5sb2coYGdvdCBjaGFubmVsIGRhdGEgbW9kOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuICAvLyB9XG4gIGlmIChkYXRhLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBkb3RfcHJvcC5kZWxldGUodGhpcy5kYXRhLCBkYXRhLmtleSk7XG4gIH0gZWxzZSB7XG4gICAgZG90X3Byb3Auc2V0KHRoaXMuZGF0YSwgZGF0YS5rZXksIGRhdGEudmFsdWUpO1xuICB9XG4gICsrdGhpcy5jaGFubmVsX2RhdGFfdmVyO1xuICB0aGlzLmVtaXQoJ2NoYW5uZWxfZGF0YScsIHRoaXMuZGF0YSwgZGF0YS5rZXksIGRhdGEudmFsdWUpO1xuICByZXNwX2Z1bmMoKTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmdldENoYW5uZWxEYXRhID0gZnVuY3Rpb24gKGtleSwgZGVmYXVsdF92YWx1ZSkge1xuICByZXR1cm4gZG90X3Byb3AuZ2V0KHRoaXMuZGF0YSwga2V5LCBkZWZhdWx0X3ZhbHVlKTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLnNldENoYW5uZWxEYXRhID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHNraXBfcHJlZGljdCwgcmVzcF9mdW5jKSB7XG4gIGlmICghc2tpcF9wcmVkaWN0KSB7XG4gICAgZG90X3Byb3Auc2V0KHRoaXMuZGF0YSwga2V5LCB2YWx1ZSk7XG4gIH1cbiAgbGV0IHEgPSB2YWx1ZSAmJiB2YWx1ZS5xIHx8IHVuZGVmaW5lZDtcbiAgbGV0IHBhayA9IHRoaXMuc3Vicy5jbGllbnQucGFrKCdzZXRfY2hhbm5lbF9kYXRhJyk7XG4gIHBhay53cml0ZUFuc2lTdHJpbmcodGhpcy5jaGFubmVsX2lkKTtcbiAgcGFrLndyaXRlQm9vbChxKTtcbiAgcGFrLndyaXRlQW5zaVN0cmluZyhrZXkpO1xuICBwYWsud3JpdGVKU09OKHZhbHVlKTtcbiAgcGFrLnNlbmQocmVzcF9mdW5jKTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLnJlbW92ZU1zZ0hhbmRsZXIgPSBmdW5jdGlvbiAobXNnLCBjYikge1xuICBhc3NlcnQodGhpcy5oYW5kbGVyc1ttc2ddID09PSBjYik7XG4gIGRlbGV0ZSB0aGlzLmhhbmRsZXJzW21zZ107XG59O1xuXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5vbk1zZyA9IGZ1bmN0aW9uIChtc2csIGNiKSB7XG4gIGFzc2VydCghdGhpcy5oYW5kbGVyc1ttc2ddIHx8IHRoaXMuaGFuZGxlcnNbbXNnXSA9PT0gY2IpO1xuICB0aGlzLmhhbmRsZXJzW21zZ10gPSBjYjtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLnBhayA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgbGV0IHBhayA9IHRoaXMuc3Vicy5jbGllbnQucGFrKCdjaGFubmVsX21zZycpO1xuICBwYWsud3JpdGVBbnNpU3RyaW5nKHRoaXMuY2hhbm5lbF9pZCk7XG4gIHBhay53cml0ZUFuc2lTdHJpbmcobXNnKTtcbiAgLy8gcGFrLndyaXRlSW50KGZsYWdzKTtcbiAgcmV0dXJuIHBhaztcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobXNnLCBkYXRhLCByZXNwX2Z1bmMsIG9sZF9mb3VydGgpIHtcbiAgYXNzZXJ0KCFyZXNwX2Z1bmMgfHwgdHlwZW9mIHJlc3BfZnVuYyA9PT0gJ2Z1bmN0aW9uJyk7XG4gIGFzc2VydCghb2xkX2ZvdXJ0aCk7XG4gIHRoaXMuc3Vicy5jbGllbnQuc2VuZCgnY2hhbm5lbF9tc2cnLCB7XG4gICAgY2hhbm5lbF9pZDogdGhpcy5jaGFubmVsX2lkLFxuICAgIG1zZywgZGF0YSxcbiAgfSwgcmVzcF9mdW5jKTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmNtZFBhcnNlID0gZnVuY3Rpb24gKGNtZCwgcmVzcF9mdW5jKSB7XG4gIHRoaXMuc2VuZCgnY21kcGFyc2UnLCBjbWQsIHJlc3BfZnVuYyk7XG59O1xuXG5mdW5jdGlvbiBTdWJzY3JpcHRpb25NYW5hZ2VyKGNsaWVudCwgY21kX3BhcnNlKSB7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgdGhpcy5jaGFubmVscyA9IHt9O1xuICB0aGlzLmxvZ2dlZF9pbiA9IGZhbHNlO1xuICB0aGlzLmxvZ2luX2NyZWRlbnRpYWxzID0gbnVsbDtcbiAgdGhpcy5sb2dnZWRfaW5fdXNlcm5hbWUgPSBudWxsO1xuICB0aGlzLndhc19sb2dnZWRfaW4gPSBmYWxzZTtcbiAgdGhpcy5sb2dnaW5nX2luID0gZmFsc2U7XG4gIHRoaXMubG9nZ2luZ19vdXQgPSBmYWxzZTtcbiAgdGhpcy5hdXRvX2NyZWF0ZV91c2VyID0gZmFsc2U7XG4gIHRoaXMuY21kX3BhcnNlID0gY21kX3BhcnNlO1xuICBpZiAoY21kX3BhcnNlKSB7XG4gICAgdGhpcy5jbWRzX2ZldGNoZWRfYnlfdHlwZSA9IHt9O1xuICB9XG4gIHRoaXMuYmFzZV9oYW5kbGVycyA9IHt9O1xuICB0aGlzLmNoYW5uZWxfaGFuZGxlcnMgPSB7fTsgLy8gY2hhbm5lbCB0eXBlIC0+IG1zZyAtPiBoYW5kbGVyXG5cbiAgdGhpcy5maXJzdF9jb25uZWN0ID0gdHJ1ZTtcbiAgdGhpcy5zZXJ2ZXJfdGltZSA9IDA7XG4gIHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwID0gMDtcbiAgY2xpZW50Lm9uTXNnKCdjb25uZWN0JywgdGhpcy5oYW5kbGVDb25uZWN0LmJpbmQodGhpcykpO1xuICBjbGllbnQub25Nc2coJ2NoYW5uZWxfbXNnJywgdGhpcy5oYW5kbGVDaGFubmVsTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgY2xpZW50Lm9uTXNnKCdzZXJ2ZXJfdGltZScsIHRoaXMuaGFuZGxlU2VydmVyVGltZS5iaW5kKHRoaXMpKTtcbiAgY2xpZW50Lm9uTXNnKCdjaGF0X2Jyb2FkY2FzdCcsIHRoaXMuaGFuZGxlQ2hhdEJyb2FkY2FzdC5iaW5kKHRoaXMpKTtcbiAgY2xpZW50Lm9uTXNnKCdyZXN0YXJ0aW5nJywgdGhpcy5oYW5kbGVSZXN0YXJ0aW5nLmJpbmQodGhpcykpO1xuICBpZiAoY21kX3BhcnNlKSB7XG4gICAgY2xpZW50Lm9uTXNnKCdjc3JfdG9fY2xpZW50JywgdGhpcy5oYW5kbGVDU1JUb0NsaWVudC5iaW5kKHRoaXMpKTtcbiAgfVxuICAvLyBBZGQgaGFuZGxlcnMgZm9yIGFsbCBjaGFubmVsIHR5cGVzXG4gIHRoaXMub25DaGFubmVsTXNnKG51bGwsICdjaGFubmVsX2RhdGEnLCBDbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5oYW5kbGVDaGFubmVsRGF0YSk7XG4gIHRoaXMub25DaGFubmVsTXNnKG51bGwsICdhcHBseV9jaGFubmVsX2RhdGEnLCBDbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5oYW5kbGVBcHBseUNoYW5uZWxEYXRhKTtcbn1cbnV0aWwuaW5oZXJpdHMoU3Vic2NyaXB0aW9uTWFuYWdlciwgRXZlbnRFbWl0dGVyKTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUub25jZUNvbm5lY3RlZCA9IGZ1bmN0aW9uIChjYikge1xuICBpZiAodGhpcy5jbGllbnQuY29ubmVjdGVkKSB7XG4gICAgcmV0dXJuIHZvaWQgY2IoKTtcbiAgfVxuICB0aGlzLm9uY2UoJ2Nvbm5lY3QnLCBjYik7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRCYXNlSGFuZGxlcnMgPSBmdW5jdGlvbiAoY2hhbm5lbF90eXBlKSB7XG4gIGxldCBoYW5kbGVycyA9IHRoaXMuY2hhbm5lbF9oYW5kbGVyc1tjaGFubmVsX3R5cGVdO1xuICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgaGFuZGxlcnMgPSB0aGlzLmNoYW5uZWxfaGFuZGxlcnNbY2hhbm5lbF90eXBlXSA9IE9iamVjdC5jcmVhdGUodGhpcy5iYXNlX2hhbmRsZXJzKTtcbiAgfVxuICByZXR1cm4gaGFuZGxlcnM7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5vbkNoYW5uZWxNc2cgPSBmdW5jdGlvbiAoY2hhbm5lbF90eXBlLCBtc2csIGNiKSB7XG4gIGxldCBoYW5kbGVycyA9IGNoYW5uZWxfdHlwZSA/IHRoaXMuZ2V0QmFzZUhhbmRsZXJzKGNoYW5uZWxfdHlwZSkgOiB0aGlzLmJhc2VfaGFuZGxlcnM7XG4gIGFzc2VydCghaGFuZGxlcnNbbXNnXSk7XG4gIGhhbmRsZXJzW21zZ10gPSBjYjtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUNoYXRCcm9hZGNhc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zb2xlLmVycm9yKGBbJHtkYXRhLnNyY31dICR7ZGF0YS5tc2d9YCk7XG4gIHRoaXMuZW1pdCgnY2hhdF9icm9hZGNhc3QnLCBkYXRhKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZVJlc3RhcnRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLnJlc3RhcnRpbmcgPSBkYXRhO1xuICB0aGlzLmVtaXQoJ3Jlc3RhcnRpbmcnLCBkYXRhKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUNvbm5lY3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBsZXQgcmVjb25uZWN0ID0gZmFsc2U7XG4gIGlmICh0aGlzLmZpcnN0X2Nvbm5lY3QpIHtcbiAgICB0aGlzLmZpcnN0X2Nvbm5lY3QgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZWNvbm5lY3QgPSB0cnVlO1xuICB9XG4gIHRoaXMucmVzdGFydGluZyA9IEJvb2xlYW4oZGF0YS5yZXN0YXJ0aW5nKTtcblxuICBpZiAoIXRoaXMuY2xpZW50LmNvbm5lY3RlZCB8fCB0aGlzLmNsaWVudC5zb2NrZXQucmVhZHlTdGF0ZSAhPT0gMSkgeyAvLyBXZWJTb2NrZXQuT1BFTlxuICAgIC8vIHdlIGdvdCBkaXNjb25uZWN0ZWQgd2hpbGUgdHJ5aW5nIHRvIGxvZyBpbiwgd2UnbGwgcmV0cnkgYWZ0ZXIgcmVjb25uZWN0aW9uXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHN1YnMgPSB0aGlzO1xuICBmdW5jdGlvbiByZXN1YigpIHtcbiAgICAvLyAocmUtKXN1YnNjcmliZSB0byBhbGwgY2hhbm5lbHNcbiAgICBmb3IgKGxldCBjaGFubmVsX2lkIGluIHN1YnMuY2hhbm5lbHMpIHtcbiAgICAgIGxldCBjaGFubmVsID0gc3Vicy5jaGFubmVsc1tjaGFubmVsX2lkXTtcbiAgICAgIGlmIChjaGFubmVsLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgc3Vicy5jbGllbnQuc2VuZCgnc3Vic2NyaWJlJywgY2hhbm5lbF9pZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNoYW5uZWwuc3Vic2NyaWJlX2ZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzdWJzY3JpYmluZyB0byAke2NoYW5uZWxfaWR9OiAke2Vycn1gKTtcbiAgICAgICAgICAgIGNoYW5uZWwuZW1pdCgnc3Vic2NyaWJlX2ZhaWwnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN1YnMuZW1pdCgnY29ubmVjdCcsIHJlY29ubmVjdCk7XG4gIH1cblxuICBpZiAodGhpcy5sb2dnaW5nX2luKSB7XG4gICAgLy8gYWxyZWFkeSBoYXZlIGEgbG9naW4gaW4tZmxpZ2h0LCBpdCBzaG91bGQgZXJyb3IgYmVmb3JlIHdlIHRyeSBhZ2FpblxuICB9IGVsc2UgaWYgKHRoaXMud2FzX2xvZ2dlZF9pbikge1xuICAgIC8vIFRyeSB0byByZS1jb25uZWN0IHRvIGV4aXN0aW5nIGxvZ2luXG4gICAgdGhpcy5sb2dpbkludGVybmFsKHRoaXMubG9naW5fY3JlZGVudGlhbHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyID09PSAnRVJSX0ZBSUxBTExfRElTQ09OTkVDVCcpIHtcbiAgICAgICAgLy8gd2UgZ290IGRpc2Nvbm5lY3RlZCB3aGlsZSB0cnlpbmcgdG8gbG9nIGluLCB3ZSdsbCByZXRyeSBhZnRlciByZWNvbm5lY3Rpb25cbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8vIEVycm9yIGxvZ2dpbmcgaW4gdXBvbiByZS1jb25uZWN0aW9uLCBubyBnb29kIHdheSB0byBoYW5kbGUgdGhpcz9cbiAgICAgICAgLy8gVE9ETzogU2hvdyBzb21lIG1lc3NhZ2UgdG8gdGhlIHVzZXIgYW5kIHByb21wdCB0aGVtIHRvIHJlZnJlc2g/ICBTdGF5IGluIFwiZGlzY29ubmVjdGVkXCIgc3RhdGU/XG4gICAgICAgIGFzc2VydChmYWxzZSwgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3ViKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVHJ5IGF1dG8tbG9naW5cbiAgICBpZiAod2luZG93LkZCSW5zdGFudCkge1xuICAgICAgdGhpcy5sb2dpbkZhY2Vib29rKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWdub3JlIGVycm9yIG9uIGF1dG8tbG9naW5cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobG9jYWxfc3RvcmFnZS5nZXQoJ25hbWUnKSAmJiBsb2NhbF9zdG9yYWdlLmdldCgncGFzc3dvcmQnKSkge1xuICAgICAgdGhpcy5sb2dpbihsb2NhbF9zdG9yYWdlLmdldCgnbmFtZScpLCBsb2NhbF9zdG9yYWdlLmdldCgncGFzc3dvcmQnKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZ25vcmUgZXJyb3Igb24gYXV0by1sb2dpblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzdWIoKTtcbiAgfVxuXG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVDaGFubmVsTWVzc2FnZSA9IGZ1bmN0aW9uIChwYWssIHJlc3BfZnVuYykge1xuICBhc3NlcnQoaXNQYWNrZXQocGFrKSk7XG4gIGxldCBjaGFubmVsX2lkID0gcGFrLnJlYWRBbnNpU3RyaW5nKCk7XG4gIGxldCBtc2cgPSBwYWsucmVhZEFuc2lTdHJpbmcoKTtcbiAgbGV0IGlzX3BhY2tldCA9IHBhay5yZWFkQm9vbCgpO1xuICBsZXQgZGF0YSA9IGlzX3BhY2tldCA/IHBhayA6IHBhay5yZWFkSlNPTigpO1xuICBpZiAoIWRhdGEgfHwgIWRhdGEucSkge1xuICAgIGxldCBkZWJ1Z19tc2c7XG4gICAgaWYgKCFpc19wYWNrZXQpIHtcbiAgICAgIGRlYnVnX21zZyA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEuY29udGVudHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlYnVnX21zZyA9IGRhdGEuY29udGVudHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdfbXNnID0gJyhwYWspJztcbiAgICB9XG4gICAgY29uc29sZS5sb2coYGdvdCBjaGFubmVsX21zZygke2NoYW5uZWxfaWR9KSAke21zZ306ICR7ZGVidWdfbXNnfWApO1xuICB9XG4gIGxldCBjaGFubmVsID0gdGhpcy5nZXRDaGFubmVsKGNoYW5uZWxfaWQpO1xuICBsZXQgaGFuZGxlciA9IGNoYW5uZWwuaGFuZGxlcnNbbXNnXTtcbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgY29uc29sZS5lcnJvcihgbm8gaGFuZGxlciBmb3IgY2hhbm5lbF9tc2coJHtjaGFubmVsX2lkfSkgJHttc2d9OiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuICAgIHJldHVybjtcbiAgfVxuICBoYW5kbGVyLmNhbGwoY2hhbm5lbCwgZGF0YSwgcmVzcF9mdW5jKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZVNlcnZlclRpbWUgPSBmdW5jdGlvbiAocGFrKSB7XG4gIHRoaXMuc2VydmVyX3RpbWUgPSBwYWsucmVhZEludCgpO1xuICBpZiAodGhpcy5zZXJ2ZXJfdGltZSA8IHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwICYmIHRoaXMuc2VydmVyX3RpbWUgPiB0aGlzLnNlcnZlcl90aW1lX2ludGVycCAtIDI1MCkge1xuICAgIC8vIHNsaWdodCB0aW1lIHRyYXZlbCBiYWNrd2FyZHMsIHRoaXMgb25lIHBhY2tldCBtdXN0IGhhdmUgYmVlbiBkZWxheWVkLFxuICAgIC8vIHNpbmNlIHdlIG9uY2UgZ290IGEgcGFja2V0IHF1aWNrZXIuIEp1c3QgaWdub3JlIHRoaXMsIGludGVycG9sYXRlIGZyb21cbiAgICAvLyB3aGVyZSB3ZSB3ZXJlIGJlZm9yZVxuICAgIC8vIFRPRE86IElmIHRoZSBzZXJ2ZXIgaGFkIGEgc2hvcnQgc3RhbGwgKGxlc3MgdGhhbiAyNTBtcykgd2UgbWlnaHQgYmVcbiAgICAvLyBhaGVhZCBmcm9tIG5vdyBvbiEgIFNsb3dseSBpbnRlcnAgYmFjayB0byB0aGUgc3BlY2lmaWVkIHRpbWVcbiAgICAvLyAocnVuIHNwZWVkIGF0IDkwJSB1bnRpbCBpdCBtYXRjaGVzPywgc2FtZSB0aGluZyBmb3IgY2F0Y2hpbmcgdXAgdG9cbiAgICAvLyBzbWFsbCBqdW1wcyBhaGVhZClcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNlcnZlcl90aW1lX2ludGVycCA9IHRoaXMuc2VydmVyX3RpbWU7XG4gIH1cbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldFNlcnZlclRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEludGVycG9sYXRlZCBzZXJ2ZXIgdGltZSBhcyBvZiBzdGFydCBvZiBsYXN0IHRpY2tcbiAgcmV0dXJuIHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChkdCkge1xuICB0aGlzLnNlcnZlcl90aW1lX2ludGVycCArPSBkdDtcbiAgZm9yIChsZXQgY2hhbm5lbF9pZCBpbiB0aGlzLmNoYW5uZWxzKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICAgIGlmIChjaGFubmVsLmltbWVkaWF0ZV9zdWJzY3JpYmUpIHtcbiAgICAgIGlmIChkdCA+PSBjaGFubmVsLmltbWVkaWF0ZV9zdWJzY3JpYmUpIHtcbiAgICAgICAgY2hhbm5lbC5pbW1lZGlhdGVfc3Vic2NyaWJlID0gMDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZShjaGFubmVsX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSAtPSBkdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjaGFubmVsX2lkKSB7XG4gIHRoaXMuZ2V0Q2hhbm5lbChjaGFubmVsX2lkLCB0cnVlKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldENoYW5uZWwgPSBmdW5jdGlvbiAoY2hhbm5lbF9pZCwgZG9fc3Vic2NyaWJlKSB7XG4gIGxldCBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaGFubmVsX2lkXTtcbiAgaWYgKCFjaGFubmVsKSB7XG4gICAgbGV0IGNoYW5uZWxfdHlwZSA9IGNoYW5uZWxfaWQuc3BsaXQoJy4nKVswXTtcbiAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmdldEJhc2VIYW5kbGVycyhjaGFubmVsX3R5cGUpO1xuICAgIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdID0gbmV3IENsaWVudENoYW5uZWxXb3JrZXIodGhpcywgY2hhbm5lbF9pZCwgaGFuZGxlcnMpO1xuICB9XG4gIGlmIChkb19zdWJzY3JpYmUpIHtcbiAgICBjaGFubmVsLnN1YnNjcmlwdGlvbnMrKztcbiAgICBpZiAodGhpcy5jbGllbnQuY29ubmVjdGVkICYmIGNoYW5uZWwuc3Vic2NyaXB0aW9ucyA9PT0gMSkge1xuICAgICAgY2hhbm5lbC5zdWJzY3JpYmVfZmFpbGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmNsaWVudC5zZW5kKCdzdWJzY3JpYmUnLCBjaGFubmVsX2lkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjaGFubmVsLnN1YnNjcmliZV9mYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHN1YnNjcmliaW5nIHRvICR7Y2hhbm5lbF9pZH06ICR7ZXJyfWApO1xuICAgICAgICAgIGNoYW5uZWwuZW1pdCgnc3Vic2NyaWJlX2ZhaWwnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYW5uZWw7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmxvZ2dlZEluKCk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRNeVVzZXJDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuICBsZXQgdXNlcl9pZCA9IHRoaXMubG9nZ2VkSW4oKTtcbiAgaWYgKCF1c2VyX2lkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmdldENoYW5uZWwoYHVzZXIuJHt1c2VyX2lkfWApO1xuICBpZiAoIXRoaXMubG9nZ2luZ19vdXQpIHtcbiAgICBjaGFubmVsLmF1dG9zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gY2hhbm5lbDtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWxfaWQpIHtcbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICBhc3NlcnQoY2hhbm5lbCk7XG4gIGFzc2VydChjaGFubmVsLnN1YnNjcmlwdGlvbnMpO1xuICBjaGFubmVsLnN1YnNjcmlwdGlvbnMtLTtcbiAgaWYgKCFjaGFubmVsLnN1YnNjcmlwdGlvbnMpIHtcbiAgICBjaGFubmVsLmdvdF9zdWJzY3JpYmUgPSBmYWxzZTtcbiAgfVxuICBpZiAodGhpcy5jbGllbnQuY29ubmVjdGVkICYmICFjaGFubmVsLnN1YnNjcmlwdGlvbnMgJiYgIWNoYW5uZWwuc3Vic2NyaWJlX2ZhaWxlZCkge1xuICAgIHRoaXMuY2xpZW50LnNlbmQoJ3Vuc3Vic2NyaWJlJywgY2hhbm5lbF9pZCk7XG4gIH1cbn07XG5cbi8vIEltbWVkaWF0ZS1tb2RlIGNoYW5uZWwgc3Vic2NyaXB0aW9uOyB3aWxsIHVuc3Vic2NyaWJlIGF1dG9tYXRpY2FsbHkgb24gbG9nb3V0XG4vLyAgIG9yIGlmIG5vdCBhY2Nlc3NlZCBmb3Igc29tZSB0aW1lXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRDaGFubmVsSW1tZWRpYXRlID0gZnVuY3Rpb24gKGNoYW5uZWxfaWQsIHRpbWVvdXQpIHtcbiAgdGltZW91dCA9IHRpbWVvdXQgfHwgNjAwMDA7XG4gIGxldCBjaGFubmVsID0gdGhpcy5nZXRDaGFubmVsKGNoYW5uZWxfaWQpO1xuICBpZiAoIWNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSkge1xuICAgIHRoaXMuc3Vic2NyaWJlKGNoYW5uZWxfaWQpO1xuICB9XG4gIGNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSA9IHRpbWVvdXQ7XG4gIHJldHVybiBjaGFubmVsO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUub25Mb2dpbiA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLm9uKCdsb2dpbicsIGNiKTtcbiAgaWYgKHRoaXMubG9nZ2VkX2luKSB7XG4gICAgcmV0dXJuIHZvaWQgY2IoKTtcbiAgfVxufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUubG9nZ2VkSW4gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmxvZ2dlZF9pbiA/IHRoaXMubG9nZ2VkX2luX3VzZXJuYW1lIHx8ICdtaXNzaW5nX25hbWUnIDogZmFsc2U7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVMb2dpblJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BfZnVuYywgZXJyLCByZXNwKSB7XG4gIHRoaXMubG9nZ2luZ19pbiA9IGZhbHNlO1xuICBpZiAoIWVycikge1xuICAgIHRoaXMubG9nZ2VkX2luX3VzZXJuYW1lID0gcmVzcC51c2VyX2lkO1xuICAgIHRoaXMubG9nZ2VkX2luX2Rpc3BsYXlfbmFtZSA9IHJlc3AuZGlzcGxheV9uYW1lO1xuICAgIHRoaXMubG9nZ2VkX2luID0gdHJ1ZTtcbiAgICB0aGlzLndhc19sb2dnZWRfaW4gPSB0cnVlO1xuICAgIGxldCB1c2VyX2NoYW5uZWwgPSB0aGlzLmdldE15VXNlckNoYW5uZWwoKTsgLy8gYXV0by1zdWJzY3JpYmUgdG8gaXRcbiAgICB1c2VyX2NoYW5uZWwub25jZVN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZGlkX21hc3Rlcl9zdWJzY3JpYmUgJiYgdXNlcl9jaGFubmVsLmdldENoYW5uZWxEYXRhKCdwdWJsaWMucGVybWlzc2lvbnMuc3lzYWRtaW4nKSkge1xuICAgICAgICAvLyBGb3IgY21kX3BhcnNlIGFjY2Vzc1xuICAgICAgICB0aGlzLmRpZF9tYXN0ZXJfc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoJ21hc3Rlci5tYXN0ZXInKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmVtaXQoJ2xvZ2luJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5lbWl0KCdsb2dpbl9mYWlsJywgZXJyKTtcbiAgfVxuICByZXNwX2Z1bmMoZXJyKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmxvZ2luSW50ZXJuYWwgPSBmdW5jdGlvbiAobG9naW5fY3JlZGVudGlhbHMsIHJlc3BfZnVuYykge1xuICBpZiAodGhpcy5sb2dnaW5nX2luKSB7XG4gICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKCdMb2dpbiBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG4gIH1cbiAgdGhpcy5sb2dnaW5nX2luID0gdHJ1ZTtcbiAgdGhpcy5sb2dnZWRfaW4gPSBmYWxzZTtcblxuICBpZiAobG9naW5fY3JlZGVudGlhbHMuZmIpIHtcbiAgICBmYkdldExvZ2luSW5mbygoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgdGhpcy5oYW5kbGVMb2dpblJlc3BvbnNlKHJlc3BfZnVuYywgZXJyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xpZW50LnNlbmQoJ2xvZ2luX2ZhY2Vib29rJywgcmVzdWx0LCB0aGlzLmhhbmRsZUxvZ2luUmVzcG9uc2UuYmluZCh0aGlzLCByZXNwX2Z1bmMpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNsaWVudC5zZW5kKCdsb2dpbicsIHtcbiAgICAgIHVzZXJfaWQ6IGxvZ2luX2NyZWRlbnRpYWxzLnVzZXJfaWQsXG4gICAgICBwYXNzd29yZDogbWQ1KHRoaXMuY2xpZW50LnNlY3JldCArIGxvZ2luX2NyZWRlbnRpYWxzLnBhc3N3b3JkKSxcbiAgICB9LCB0aGlzLmhhbmRsZUxvZ2luUmVzcG9uc2UuYmluZCh0aGlzLCByZXNwX2Z1bmMpKTtcbiAgfVxufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUudXNlckNyZWF0ZUludGVybmFsID0gZnVuY3Rpb24gKHBhcmFtcywgcmVzcF9mdW5jKSB7XG4gIGlmICh0aGlzLmxvZ2dpbmdfaW4pIHtcbiAgICByZXR1cm4gcmVzcF9mdW5jKCdMb2dpbiBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG4gIH1cbiAgdGhpcy5sb2dnaW5nX2luID0gdHJ1ZTtcbiAgdGhpcy5sb2dnZWRfaW4gPSBmYWxzZTtcbiAgcmV0dXJuIHRoaXMuY2xpZW50LnNlbmQoJ3VzZXJfY3JlYXRlJywgcGFyYW1zLCB0aGlzLmhhbmRsZUxvZ2luUmVzcG9uc2UuYmluZCh0aGlzLCByZXNwX2Z1bmMpKTtcbn07XG5cbmZ1bmN0aW9uIGhhc2hlZFBhc3N3b3JkKHVzZXJfaWQsIHBhc3N3b3JkKSB7XG4gIGlmIChwYXNzd29yZC5zcGxpdCgnJCQnKVswXSA9PT0gJ3ByZWhhc2hlZCcpIHtcbiAgICBwYXNzd29yZCA9IHBhc3N3b3JkLnNwbGl0KCckJCcpWzFdO1xuICB9IGVsc2Uge1xuICAgIHBhc3N3b3JkID0gbWQ1KG1kNSh1c2VyX2lkLnRvTG93ZXJDYXNlKCkpICsgcGFzc3dvcmQpO1xuICB9XG4gIHJldHVybiBwYXNzd29yZDtcbn1cblxuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQsIHJlc3BfZnVuYykge1xuICB1c2VybmFtZSA9ICh1c2VybmFtZSB8fCAnJykudHJpbSgpO1xuICBpZiAoIXVzZXJuYW1lKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnTWlzc2luZyB1c2VybmFtZScpO1xuICB9XG4gIHBhc3N3b3JkID0gKHBhc3N3b3JkIHx8ICcnKS50cmltKCk7XG4gIGlmICghcGFzc3dvcmQpIHtcbiAgICByZXR1cm4gcmVzcF9mdW5jKCdNaXNzaW5nIHBhc3N3b3JkJyk7XG4gIH1cbiAgbGV0IGhhc2hlZF9wYXNzd29yZCA9IGhhc2hlZFBhc3N3b3JkKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gIGlmIChoYXNoZWRfcGFzc3dvcmQgIT09IHBhc3N3b3JkKSB7XG4gICAgbG9jYWxfc3RvcmFnZS5zZXQoJ3Bhc3N3b3JkJywgYHByZWhhc2hlZCQkJHtoYXNoZWRfcGFzc3dvcmR9YCk7XG4gIH1cbiAgdGhpcy5sb2dpbl9jcmVkZW50aWFscyA9IHsgdXNlcl9pZDogdXNlcm5hbWUsIHBhc3N3b3JkOiBoYXNoZWRfcGFzc3dvcmQgfTtcbiAgaWYgKCF0aGlzLmF1dG9fY3JlYXRlX3VzZXIpIHtcbiAgICAvLyBKdXN0IHJldHVybiByZXN1bHQgZGlyZWN0bHlcbiAgICByZXR1cm4gdGhpcy5sb2dpbkludGVybmFsKHRoaXMubG9naW5fY3JlZGVudGlhbHMsIHJlc3BfZnVuYyk7XG4gIH1cbiAgcmV0dXJuIHRoaXMubG9naW5JbnRlcm5hbCh0aGlzLmxvZ2luX2NyZWRlbnRpYWxzLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgaWYgKCFlcnIgfHwgZXJyICE9PSAnRVJSX1VTRVJfTk9UX0ZPVU5EJykge1xuICAgICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKGVyciwgZGF0YSk7XG4gICAgfVxuICAgIC8vIHVzZXIgbm90IGZvdW5kLCBhdXRvLWNyZWF0ZVxuICAgIHRoaXMudXNlckNyZWF0ZSh7XG4gICAgICB1c2VyX2lkOiB1c2VybmFtZSxcbiAgICAgIHBhc3N3b3JkLFxuICAgICAgcGFzc3dvcmRfY29uZmlybTogcGFzc3dvcmQsXG4gICAgICBlbWFpbDogJ2F1dG9jcmVhdGVAZ2xvdmpzLm9yZycsXG4gICAgfSwgcmVzcF9mdW5jKTtcbiAgfSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5sb2dpbkZhY2Vib29rID0gZnVuY3Rpb24gKHJlc3BfZnVuYykge1xuICB0aGlzLmxvZ2luX2NyZWRlbnRpYWxzID0geyBmYjogdHJ1ZSB9O1xuICByZXR1cm4gdGhpcy5sb2dpbkludGVybmFsKHRoaXMubG9naW5fY3JlZGVudGlhbHMsIHJlc3BfZnVuYyk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS51c2VyQ3JlYXRlID0gZnVuY3Rpb24gKHBhcmFtcywgcmVzcF9mdW5jKSB7XG4gIHBhcmFtcy51c2VyX2lkID0gKHBhcmFtcy51c2VyX2lkIHx8ICcnKS50cmltKCk7XG4gIGlmICghcGFyYW1zLnVzZXJfaWQpIHtcbiAgICByZXR1cm4gcmVzcF9mdW5jKCdNaXNzaW5nIHVzZXJuYW1lJyk7XG4gIH1cbiAgcGFyYW1zLnBhc3N3b3JkID0gKHBhcmFtcy5wYXNzd29yZCB8fCAnJykudHJpbSgpO1xuICBpZiAoIXBhcmFtcy5wYXNzd29yZCkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgcGFzc3dvcmQnKTtcbiAgfVxuICBwYXJhbXMucGFzc3dvcmRfY29uZmlybSA9IChwYXJhbXMucGFzc3dvcmRfY29uZmlybSB8fCAnJykudHJpbSgpO1xuICBpZiAoIXRoaXMuYXV0b19jcmVhdGVfdXNlciAmJiAhcGFyYW1zLnBhc3N3b3JkX2NvbmZpcm0pIHtcbiAgICByZXR1cm4gcmVzcF9mdW5jKCdNaXNzaW5nIHBhc3N3b3JkIGNvbmZpcm1hdGlvbicpO1xuICB9XG4gIHBhcmFtcy5lbWFpbCA9IChwYXJhbXMuZW1haWwgfHwgJycpLnRyaW0oKTtcbiAgaWYgKCF0aGlzLmF1dG9fY3JlYXRlX3VzZXIgJiYgIXBhcmFtcy5lbWFpbCkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgZW1haWwnKTtcbiAgfVxuICBwYXJhbXMuZGlzcGxheV9uYW1lID0gKHBhcmFtcy5kaXNwbGF5X25hbWUgfHwgJycpLnRyaW0oKTtcbiAgbGV0IGhhc2hlZF9wYXNzd29yZCA9IGhhc2hlZFBhc3N3b3JkKHBhcmFtcy51c2VyX2lkLCBwYXJhbXMucGFzc3dvcmQpO1xuICBpZiAoaGFzaGVkX3Bhc3N3b3JkICE9PSBwYXJhbXMucGFzc3dvcmQpIHtcbiAgICBsb2NhbF9zdG9yYWdlLnNldCgncGFzc3dvcmQnLCBgcHJlaGFzaGVkJCQke2hhc2hlZF9wYXNzd29yZH1gKTtcbiAgfVxuICBsZXQgaGFzaGVkX3Bhc3N3b3JkX2NvbmZpcm0gPSBoYXNoZWRQYXNzd29yZChwYXJhbXMudXNlcl9pZCwgcGFyYW1zLnBhc3N3b3JkX2NvbmZpcm0pO1xuICBpZiAoaGFzaGVkX3Bhc3N3b3JkICE9PSBoYXNoZWRfcGFzc3dvcmRfY29uZmlybSkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKTtcbiAgfVxuICB0aGlzLmxvZ2luX2NyZWRlbnRpYWxzID0geyB1c2VyX2lkOiBwYXJhbXMudXNlcl9pZCwgcGFzc3dvcmQ6IGhhc2hlZF9wYXNzd29yZCB9O1xuICByZXR1cm4gdGhpcy51c2VyQ3JlYXRlSW50ZXJuYWwoe1xuICAgIGRpc3BsYXlfbmFtZTogcGFyYW1zLmRpc3BsYXlfbmFtZSB8fCBwYXJhbXMudXNlcl9pZCxcbiAgICB1c2VyX2lkOiBwYXJhbXMudXNlcl9pZCxcbiAgICBlbWFpbDogcGFyYW1zLmVtYWlsLFxuICAgIHBhc3N3b3JkOiBoYXNoZWRfcGFzc3dvcmQsXG4gIH0sIHJlc3BfZnVuYyk7XG59O1xuXG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMubG9nZ2VkX2luKTtcbiAgYXNzZXJ0KCF0aGlzLmxvZ2dpbmdfaW4pO1xuICBhc3NlcnQoIXRoaXMubG9nZ2luZ19vdXQpO1xuICAvLyBEb24ndCBrbm93IGhvdyB0byBncmFjZWZ1bGx5IGhhbmRsZSBsb2dnaW5nIG91dCB3aXRoIGFwcC1sZXZlbCBzdWJzY3JpcHRpb25zXG4gIC8vICAgY3VycmVudGx5LCBjbGVhbiB1cCB0aG9zZSB3ZSBjYW4sIGFzc2VydCB3ZSBoYXZlIG5vIG90aGVyc1xuICBpZiAodGhpcy5kaWRfbWFzdGVyX3N1YnNjcmliZSkge1xuICAgIHRoaXMuZGlkX21hc3Rlcl9zdWJzY3JpYmUgPSBmYWxzZTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCdtYXN0ZXIubWFzdGVyJyk7XG4gIH1cbiAgZm9yIChsZXQgY2hhbm5lbF9pZCBpbiB0aGlzLmNoYW5uZWxzKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICAgIGlmIChjaGFubmVsLmltbWVkaWF0ZV9zdWJzY3JpYmUpIHtcbiAgICAgIGNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSA9IDA7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKGNoYW5uZWxfaWQpO1xuICAgIH1cbiAgICBhc3NlcnQoIWNoYW5uZWwuc3Vic2NyaXB0aW9ucywgYFJlbWFpbmluZyBhY3RpdmUgc3Vic2NyaXB0aW9uIGZvciAke2NoYW5uZWxfaWR9YCk7XG4gICAgaWYgKGNoYW5uZWwuYXV0b3N1YnNjcmliZWQpIHtcbiAgICAgIGNoYW5uZWwuYXV0b3N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmxvZ2dpbmdfb3V0ID0gdHJ1ZTtcbiAgdGhpcy5jbGllbnQuc2VuZCgnbG9nb3V0JywgbnVsbCwgKGVycikgPT4ge1xuICAgIHRoaXMubG9nZ2luZ19vdXQgPSBmYWxzZTtcbiAgICBpZiAoIWVycikge1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXQoJ3Bhc3N3b3JkJywgdW5kZWZpbmVkKTtcbiAgICAgIHRoaXMubG9nZ2VkX2luID0gZmFsc2U7XG4gICAgICB0aGlzLmxvZ2dlZF9pbl91c2VybmFtZSA9IG51bGw7XG4gICAgICB0aGlzLndhc19sb2dnZWRfaW4gPSBmYWxzZTtcbiAgICAgIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSBudWxsO1xuICAgICAgdGhpcy5lbWl0KCdsb2dvdXQnKTtcbiAgICB9XG4gIH0pO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuc2VydmVyTG9nID0gZnVuY3Rpb24gKHR5cGUsIGRhdGEpIHtcbiAgdGhpcy5jbGllbnQuc2VuZCgnbG9nJywgeyB0eXBlLCBkYXRhIH0pO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuc2VuZENtZFBhcnNlID0gZnVuY3Rpb24gKGNvbW1hbmQsIHJlc3BfZnVuYykge1xuICB0aGlzLm9uY2VDb25uZWN0ZWQoKCkgPT4ge1xuICAgIGxldCBwYWsgPSB0aGlzLmNsaWVudC5wYWsoJ2NtZF9wYXJzZV9hdXRvJyk7XG4gICAgcGFrLndyaXRlU3RyaW5nKGNvbW1hbmQpO1xuICAgIHBhay5zZW5kKHJlc3BfZnVuYyk7XG4gIH0pO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlQ1NSVG9DbGllbnQgPSBmdW5jdGlvbiAocGFrLCByZXNwX2Z1bmMpIHtcbiAgbGV0IGNtZCA9IHBhay5yZWFkU3RyaW5nKCk7XG4gIGxldCBhY2Nlc3MgPSBwYWsucmVhZEpTT04oKTtcbiAgdGhpcy5jbWRfcGFyc2UuaGFuZGxlKHsgYWNjZXNzIH0sIGNtZCwgKGVyciwgcmVzcCkgPT4ge1xuICAgIGlmIChlcnIgJiYgdGhpcy5jbWRfcGFyc2Uud2FzX25vdF9mb3VuZCkge1xuICAgICAgLy8gYm91bmNlIGJhY2sgdG8gc2VydmVyXG4gICAgICByZXR1cm4gcmVzcF9mdW5jKG51bGwsIHsgZm91bmQ6IDAsIGVyciB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BfZnVuYyhlcnIsIHsgZm91bmQ6IDEsIHJlc3AgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShjbGllbnQsIGNtZF9wYXJzZSkge1xuICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbk1hbmFnZXIoY2xpZW50LCBjbWRfcGFyc2UpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCB7IGZpbGV3YXRjaE9uIH0gPSByZXF1aXJlKCcuL2ZpbGV3YXRjaC5qcycpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vbG9jYWxfc3RvcmFnZS5qcycpO1xuY29uc3Qgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzLmpzJyk7XG5jb25zdCB1cmxoYXNoID0gcmVxdWlyZSgnLi91cmxoYXNoLmpzJyk7XG5jb25zdCB7IGNhbGxFYWNoLCBpc1Bvd2VyT2ZUd28sIG5leHRIaWdoZXN0UG93ZXJPZlR3bywgcmlkeCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcblxuY29uc3QgVEVYX1VOTE9BRF9USU1FID0gNSAqIDYwICogMTAwMDsgLy8gZm9yIHRleHR1cmVzIGxvYWRlZCAoZWFjaCBmcmFtZSkgd2l0aCBhdXRvX3VubG9hZDogdHJ1ZVxuXG5leHBvcnQgbGV0IHRleHR1cmVzID0ge307XG5leHBvcnQgbGV0IGxvYWRfY291bnQgPSAwO1xubGV0IGFuaXNvID0gNDtcbmxldCBtYXhfYW5pc28gPSAwO1xubGV0IGFuaXNvX2VudW07XG5cbmxldCBkZWZhdWx0X2ZpbHRlcl9taW47XG5sZXQgZGVmYXVsdF9maWx0ZXJfbWFnO1xuXG5jb25zdCBjdWJlX2ZhY2VzID0gW1xuICB7IHRhcmdldDogJ1RFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCcsIHBvczogWzAsMV0gfSxcbiAgeyB0YXJnZXQ6ICdURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1gnLCBwb3M6IFswLDBdIH0sXG4gIHsgdGFyZ2V0OiAnVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZJywgcG9zOiBbMSwwXSB9LFxuICB7IHRhcmdldDogJ1RFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWScsIHBvczogWzEsMV0gfSxcbiAgeyB0YXJnZXQ6ICdURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1onLCBwb3M6IFsyLDBdIH0sXG4gIHsgdGFyZ2V0OiAnVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aJywgcG9zOiBbMiwxXSB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdCA9IHtcbiAgUjg6IHsgY291bnQ6IDEgfSxcbiAgUkdCODogeyBjb3VudDogMyB9LFxuICBSR0JBODogeyBjb3VudDogNCB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRGaWx0ZXJzKG1pbiwgbWFnKSB7XG4gIGRlZmF1bHRfZmlsdGVyX21pbiA9IG1pbjtcbiAgZGVmYXVsdF9maWx0ZXJfbWFnID0gbWFnO1xufVxuXG5sZXQgYm91bmRfdW5pdCA9IG51bGw7XG5sZXQgYm91bmRfdGV4ID0gW107XG5cbmxldCBoYW5kbGVfbG9hZGluZztcbmxldCBoYW5kbGVfZXJyb3I7XG5cbmxldCBmcmFtZV90aW1lc3RhbXA7XG5cbmZ1bmN0aW9uIHNldFVuaXQodW5pdCkge1xuICBpZiAodW5pdCAhPT0gYm91bmRfdW5pdCkge1xuICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB1bml0KTtcbiAgICBib3VuZF91bml0ID0gdW5pdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBiaW5kSGFuZGxlKHVuaXQsIHRhcmdldCwgaGFuZGxlKSB7XG4gIGlmIChib3VuZF90ZXhbdW5pdF0gIT09IGhhbmRsZSkge1xuICAgIHNldFVuaXQodW5pdCk7XG4gICAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCBoYW5kbGUpO1xuICAgIGJvdW5kX3RleFt1bml0XSA9IGhhbmRsZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bmJpbmRBbGwodGFyZ2V0KSB7XG4gIGZvciAobGV0IHVuaXQgPSAwOyB1bml0IDwgYm91bmRfdGV4Lmxlbmd0aDsgKyt1bml0KSB7XG4gICAgc2V0VW5pdCh1bml0KTtcbiAgICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRCA/IGhhbmRsZV9sb2FkaW5nIDogbnVsbCk7XG4gICAgYm91bmRfdGV4W3VuaXRdID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZCh1bml0LCB0ZXgpIHtcbiAgdGV4Lmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICAvLyBNYXkgb3IgbWF5IG5vdCBjaGFuZ2UgdGhlIHVuaXRcbiAgYmluZEhhbmRsZSh1bml0LCB0ZXgudGFyZ2V0LCB0ZXguZWZmX2hhbmRsZSk7XG59XG5cbi8vIGhvdCBwYXRoIGlubGluZWQgZm9yIHBlcmZcbmV4cG9ydCBmdW5jdGlvbiBiaW5kQXJyYXkodGV4cykge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgdGV4ID0gdGV4c1tpaV07XG4gICAgdGV4Lmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICAgIGxldCBoYW5kbGUgPSB0ZXguZWZmX2hhbmRsZTtcbiAgICBpZiAoYm91bmRfdGV4W2lpXSAhPT0gaGFuZGxlKSB7XG4gICAgICBpZiAoaWkgIT09IGJvdW5kX3VuaXQpIHtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGlpKTtcbiAgICAgICAgYm91bmRfdW5pdCA9IGlpO1xuICAgICAgfVxuICAgICAgZ2wuYmluZFRleHR1cmUodGV4LnRhcmdldCwgaGFuZGxlKTtcbiAgICAgIGJvdW5kX3RleFtpaV0gPSBoYW5kbGU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5Qm91bmQodGV4cykge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgdGV4ID0gdGV4c1tpaV07XG4gICAgbGV0IGhhbmRsZSA9IHRleC5lZmZfaGFuZGxlO1xuICAgIGlmIChib3VuZF90ZXhbaWldICE9PSBoYW5kbGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0dXJlc1Jlc2V0U3RhdGUoKSB7XG4gIGJvdW5kX3VuaXQgPSAtMTtcbiAgaWYgKGVuZ2luZS53ZWJnbDIpIHtcbiAgICB1bmJpbmRBbGwoZ2wuVEVYVFVSRV8yRF9BUlJBWSk7XG4gIH1cbiAgdW5iaW5kQWxsKGdsLlRFWFRVUkVfMkQpO1xuICBzZXRVbml0KDApO1xuICBnbC5nZXRFcnJvcigpO1xufVxuXG5cbmxldCBhdXRvX3VubG9hZF90ZXh0dXJlcyA9IFtdO1xuXG5mdW5jdGlvbiBUZXh0dXJlKHBhcmFtcykge1xuICB0aGlzLm5hbWUgPSBwYXJhbXMubmFtZTtcbiAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgdGhpcy5sb2FkX2ZhaWwgPSBmYWxzZTtcbiAgdGhpcy50YXJnZXQgPSBwYXJhbXMudGFyZ2V0IHx8IGdsLlRFWFRVUkVfMkQ7XG4gIHRoaXMuaXNfYXJyYXkgPSB0aGlzLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRF9BUlJBWTtcbiAgdGhpcy5pc19jdWJlID0gdGhpcy50YXJnZXQgPT09IGdsLlRFWFRVUkVfQ1VCRV9NQVA7XG4gIHRoaXMuaGFuZGxlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICB0aGlzLmVmZl9oYW5kbGUgPSBoYW5kbGVfbG9hZGluZztcbiAgdGhpcy5zZXRTYW1wbGVyU3RhdGUocGFyYW1zKTtcbiAgdGhpcy5zcmNfd2lkdGggPSB0aGlzLnNyY19oZWlnaHQgPSAxO1xuICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSAxO1xuICB0aGlzLm5vem9vbSA9IHBhcmFtcy5ub3pvb20gfHwgZmFsc2U7XG4gIHRoaXMub25fbG9hZCA9IFtdO1xuICB0aGlzLmdwdV9tZW0gPSAwO1xuICB0aGlzLnNvZnRfZXJyb3IgPSBwYXJhbXMuc29mdF9lcnJvciB8fCBmYWxzZTtcbiAgdGhpcy5sYXN0X3VzZSA9IGZyYW1lX3RpbWVzdGFtcDtcbiAgdGhpcy5hdXRvX3VubG9hZCA9IHBhcmFtcy5hdXRvX3VubG9hZCB8fCBmYWxzZTtcbiAgaWYgKHRoaXMuYXV0b191bmxvYWQpIHtcbiAgICBhdXRvX3VubG9hZF90ZXh0dXJlcy5wdXNoKHRoaXMpO1xuICB9XG5cbiAgdGhpcy5mb3JtYXQgPSBwYXJhbXMuZm9ybWF0IHx8IGZvcm1hdC5SR0JBODtcblxuICBpZiAocGFyYW1zLmRhdGEpIHtcbiAgICBsZXQgZXJyID0gdGhpcy51cGRhdGVEYXRhKHBhcmFtcy53aWR0aCwgcGFyYW1zLmhlaWdodCwgcGFyYW1zLmRhdGEpO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGFzc2VydChmYWxzZSwgYEVycm9yIGxvYWRpbmcgJHtwYXJhbXMubmFtZX06IEdMRXJyb3IoJHtlcnJ9KWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyB0ZXh0dXJlIGlzIG5vdCB2YWxpZCwgZG8gbm90IGxlYXZlIGJvdW5kXG4gICAgdW5iaW5kQWxsKHRoaXMudGFyZ2V0KTtcbiAgICBpZiAocGFyYW1zLnVybCkge1xuICAgICAgdGhpcy51cmwgPSBwYXJhbXMudXJsO1xuICAgICAgdGhpcy5sb2FkVVJMKHBhcmFtcy51cmwpO1xuICAgIH1cbiAgfVxufVxuXG5UZXh0dXJlLnByb3RvdHlwZS51cGRhdGVHUFVNZW0gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBuZXdfc2l6ZSA9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodCAqIHRoaXMuZm9ybWF0LmNvdW50O1xuICBpZiAodGhpcy5taXBtYXBzKSB7XG4gICAgbmV3X3NpemUgKj0gMS41O1xuICB9XG4gIGxldCBkaWZmID0gbmV3X3NpemUgLSB0aGlzLmdwdV9tZW07XG4gIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0udGV4ICs9IGRpZmY7XG4gIHRoaXMuZ3B1X21lbSA9IGRpZmY7XG59O1xuXG5mdW5jdGlvbiBiaW5kRm9yY2VkKHRleCkge1xuICBsZXQgdGFyZ2V0ID0gdGV4LnRhcmdldDtcbiAgc2V0VW5pdCgwKTtcbiAgYm91bmRfdGV4WzBdID0gbnVsbDsgLy8gRm9yY2UgYSByZS1iaW5kLCBubyBtYXR0ZXIgd2hhdFxuICBiaW5kSGFuZGxlKDAsIHRhcmdldCwgdGV4LmhhbmRsZSk7XG59XG5cblRleHR1cmUucHJvdG90eXBlLnNldFNhbXBsZXJTdGF0ZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICBiaW5kRm9yY2VkKHRoaXMpO1xuXG4gIHRoaXMuZmlsdGVyX21pbiA9IHBhcmFtcy5maWx0ZXJfbWluIHx8IGRlZmF1bHRfZmlsdGVyX21pbjtcbiAgdGhpcy5maWx0ZXJfbWFnID0gcGFyYW1zLmZpbHRlcl9tYWcgfHwgZGVmYXVsdF9maWx0ZXJfbWFnO1xuICBnbC50ZXhQYXJhbWV0ZXJpKHRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0aGlzLmZpbHRlcl9taW4pO1xuICBnbC50ZXhQYXJhbWV0ZXJpKHRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0aGlzLmZpbHRlcl9tYWcpO1xuICB0aGlzLndyYXBfcyA9IHBhcmFtcy53cmFwX3MgfHwgZ2wuUkVQRUFUO1xuICB0aGlzLndyYXBfdCA9IHBhcmFtcy53cmFwX3QgfHwgZ2wuUkVQRUFUO1xuICBnbC50ZXhQYXJhbWV0ZXJpKHRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIHRoaXMud3JhcF9zKTtcbiAgZ2wudGV4UGFyYW1ldGVyaSh0YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCB0aGlzLndyYXBfdCk7XG5cbiAgdGhpcy5taXBtYXBzID0gdGhpcy5maWx0ZXJfbWluID49IDB4MjcwMCAmJiB0aGlzLmZpbHRlcl9taW4gPD0gMHgyNzAzOyAvLyBQcm9iYWJseSBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUlxuXG4gIGlmIChtYXhfYW5pc28pIHtcbiAgICBpZiAodGhpcy5taXBtYXBzICYmIHBhcmFtcy5maWx0ZXJfbWFnICE9PSBnbC5ORUFSRVNUKSB7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsIGFuaXNvX2VudW0sIGFuaXNvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wudGV4UGFyYW1ldGVyZihnbC5URVhUVVJFXzJELCBhbmlzb19lbnVtLCAxKTtcbiAgICB9XG4gIH1cbn07XG5cblRleHR1cmUucHJvdG90eXBlLnVwZGF0ZURhdGEgPSBmdW5jdGlvbiB1cGRhdGVEYXRhKHcsIGgsIGRhdGEpIHtcbiAgYXNzZXJ0KCF0aGlzLmRlc3Ryb3llZCk7XG4gIGJpbmRGb3JjZWQodGhpcyk7XG4gIHRoaXMubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gIHRoaXMuc3JjX3dpZHRoID0gdztcbiAgdGhpcy5zcmNfaGVpZ2h0ID0gaDtcbiAgdGhpcy53aWR0aCA9IHc7XG4gIHRoaXMuaGVpZ2h0ID0gaDtcbiAgLy8gY2xlYXIgdGhlIGVycm9yIGZsYWcocykgaWYgdGhlcmUgYXJlIGFueVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgMTAgJiYgZ2wuZ2V0RXJyb3IoKTsgKytpaSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY3VybHlcbiAgLy8gUmVzaXplIE5QMiBpZiB0aGlzIGlzIG5vdCBiZWluZyB1c2VkIGZvciBhIHRleHR1cmUgYXJyYXksIGFuZCBpdCBpcyBub3QgZXhwbGljaXRseSBhbGxvd2VkIChub24tbWlwbWFwcGVkLCB3cmFwcGVkKVxuICBsZXQgbnAyID0gKCFpc1Bvd2VyT2ZUd28odykgfHwgIWlzUG93ZXJPZlR3byhoKSkgJiYgIXRoaXMuaXNfYXJyYXkgJiYgIXRoaXMuaXNfY3ViZSAmJlxuICAgICEoIXRoaXMubWlwbWFwcyAmJiB0aGlzLndyYXBfcyA9PT0gZ2wuQ0xBTVBfVE9fRURHRSAmJiB0aGlzLndyYXBfdCA9PT0gZ2wuQ0xBTVBfVE9fRURHRSk7XG4gIGlmIChucDIpIHtcbiAgICB0aGlzLndpZHRoID0gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKHcpO1xuICAgIHRoaXMuaGVpZ2h0ID0gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKGgpO1xuICAgIGdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLFxuICAgICAgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgbnVsbCk7XG4gIH1cbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgYXNzZXJ0KGRhdGEubGVuZ3RoID49IHcgKiBoICogdGhpcy5mb3JtYXQuY291bnQpO1xuICAgIGFzc2VydCghdGhpcy5pc19jdWJlKTtcbiAgICBpZiAodGhpcy5pc19hcnJheSkge1xuICAgICAgbGV0IG51bV9pbWFnZXMgPSBoIC8gdzsgLy8gYXNzdW1lIHNxdWFyZVxuICAgICAgZ2wudGV4SW1hZ2UzRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdywgdyxcbiAgICAgICAgbnVtX2ltYWdlcywgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgfSBlbHNlIGlmIChucDIpIHtcbiAgICAgIC8vIENvdWxkIGRvIG11bHRpcGxlIHVwbG9hZCB0aGluZyBsaWtlIGJlbG93LCBidXQgc21hcnRlciwgYnV0IHdlIHJlYWxseSBzaG91bGRuJ3QgYmUgZG9pbmcgdGhpcyBmb3JcbiAgICAgIC8vIGluLXByb2Nlc3MgZ2VuZXJhdGVkIGltYWdlcyFcbiAgICAgIGdsLnRleFN1YkltYWdlMkQodGhpcy50YXJnZXQsIDAsIDAsIDAsIHcsIGgsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC50ZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB3LCBoLCAwLFxuICAgICAgICB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGRhdGEud2lkdGgpOyAvLyBpbnN0YW5jZW9mIEltYWdlIGZhaWxzIHdpdGggdWJsb2NrIEFkQmxvY2tlcjsgYWxzbywgdGhpcyBpcyBlaXRoZXIgYW4gSW1hZ2Ugb3IgQ2FudmFzXG4gICAgaWYgKHRoaXMuaXNfY3ViZSkge1xuICAgICAgYXNzZXJ0LmVxdWFsKHcgKiAyLCBoICogMyk7XG4gICAgICBsZXQgdGV4X3NpemUgPSBoIC8gMjtcbiAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHRleF9zaXplO1xuICAgICAgY2FudmFzLmhlaWdodCA9IHRleF9zaXplO1xuICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGN1YmVfZmFjZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBmYWNlID0gY3ViZV9mYWNlc1tpaV07XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoZGF0YSwgZmFjZS5wb3NbMF0gKiB0ZXhfc2l6ZSwgZmFjZS5wb3NbMV0gKiB0ZXhfc2l6ZSwgdGV4X3NpemUsIHRleF9zaXplLFxuICAgICAgICAgIDAsIDAsIHRleF9zaXplLCB0ZXhfc2l6ZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2xbZmFjZS50YXJnZXRdLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLFxuICAgICAgICAgIGNhbnZhcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzX2FycmF5KSB7XG4gICAgICBsZXQgbnVtX2ltYWdlcyA9IGggLyB3O1xuICAgICAgZ2wudGV4SW1hZ2UzRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdywgdyxcbiAgICAgICAgbnVtX2ltYWdlcywgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG5cbiAgICAgIGlmIChnbC5nZXRFcnJvcigpKSB7XG4gICAgICAgIC8vIEZpeCBmb3IgU2Ftc3VuZyBkZXZpY2VzIChDaHJpcydzIGFuZCBHYWxheHkgUzggb24gQ3Jvc3NCcm93c2VyVGVzdGluZylcbiAgICAgICAgLy8gQWxzbyBmaXhlcyBsb2NhbGx5IG9uIENocm9tZSB3aGVuIHVzaW5nIGEgOEsgc291cmNlIHRleHR1cmUgKHdhcyA4OTZ4NTczNDQpLFxuICAgICAgICAvLyAgcGVyaGFwcyBzb21lIGF1dG8tc2NhbGluZyBpcyBnb2luZyBvbiBpbiB0aGUgZ2wudGV4SW1hZ2UzRCBjYWxsIGlmIHJlcXVpcmVkP1xuICAgICAgICAvLyBUcnkgZHJhd2luZyB0byBjYW52YXMgZmlyc3RcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGRhdGEsIDAsIDApO1xuICAgICAgICBnbC50ZXhJbWFnZTNEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB3LCB3LFxuICAgICAgICAgIG51bV9pbWFnZXMsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsIGNhbnZhcyk7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKG5wMikge1xuICAgICAgLy8gUGFkIHVwIHRvIHBvd2VyIG9mIHR3b1xuICAgICAgLy8gRHVwbGljYXRlIHJpZ2h0IGFuZCBib3R0b20gcGl4ZWwgcm93IGJ5IHNlbmRpbmcgaW1hZ2UgMyB0aW1lc1xuICAgICAgaWYgKHcgIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgMSwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBpZiAoaCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgMCwgMSwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBnbC50ZXhTdWJJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCAwLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgfVxuICB9XG4gIGxldCBnbF9lcnIgPSBnbC5nZXRFcnJvcigpO1xuICBpZiAoZ2xfZXJyKSB7XG4gICAgcmV0dXJuIGdsX2VycjtcbiAgfVxuICBpZiAodGhpcy5taXBtYXBzKSB7XG4gICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGhpcy50YXJnZXQpO1xuICAgIGdsX2VyciA9IGdsLmdldEVycm9yKCk7XG4gICAgaWYgKGdsX2Vycikge1xuICAgICAgcmV0dXJuIGdsX2VycjtcbiAgICB9XG4gIH1cbiAgdGhpcy51cGRhdGVHUFVNZW0oKTtcbiAgdGhpcy5lZmZfaGFuZGxlID0gdGhpcy5oYW5kbGU7XG4gIHRoaXMubG9hZGVkID0gdHJ1ZTtcblxuICBjYWxsRWFjaCh0aGlzLm9uX2xvYWQsIHRoaXMub25fbG9hZCA9IG51bGwsIHRoaXMpO1xuXG4gIHJldHVybiAwO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24gKGNiKSB7XG4gIGlmICh0aGlzLmxvYWRlZCkge1xuICAgIGNiKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub25fbG9hZC5wdXNoKGNiKTtcbiAgfVxufTtcblxubGV0IHRleHR1cmVfYmFzZV91cmwgPSAnJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlcm5hbFRleHR1cmVVUkwodXJsKSB7XG4gIGlmICghdXJsLm1hdGNoKC9eLnsyLDd9Oi8pKSB7XG4gICAgdXJsID0gYCR7dGV4dHVyZV9iYXNlX3VybHx8dXJsaGFzaC5nZXRVUkxCYXNlKCl9JHt1cmx9YDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEV4dGVybmFsVGV4dHVyZUJhc2VVUkwoYmFzZV91cmwpIHtcbiAgdGV4dHVyZV9iYXNlX3VybCA9IGJhc2VfdXJsO1xufVxuXG5jb25zdCBURVhfUkVUUllfQ09VTlQgPSA0O1xuVGV4dHVyZS5wcm90b3R5cGUubG9hZFVSTCA9IGZ1bmN0aW9uIGxvYWRVUkwodXJsLCBmaWx0ZXIpIHtcbiAgbGV0IHRleCA9IHRoaXM7XG4gIGFzc2VydCghdGV4LmRlc3Ryb3llZCk7XG5cbiAgLy8gV2hlbiBvdXIgYnJvd3NlcidzIGxvY2F0aW9uIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSAnc2l0ZS5jb20vZm9vLycgdG9cbiAgLy8gICdzaXRlLmNvbS9mb28vYmFyLzcnIG91ciByZWxhdGl2ZSBpbWFnZSBVUkxzIGFyZSBzdGlsbCByZWxhdGl2ZSB0byB0aGVcbiAgLy8gIGJhc2UuICBNYXliZSBzaG91bGQgc2V0IHNvbWUgbWV0YSB0YWcgdG8gZG8gdGhpcyBpbnN0ZWFkP1xuICBpZiAoIXVybC5tYXRjaCgvXi57Miw3fTovKSkge1xuICAgIHVybCA9IGAke3VybGhhc2guZ2V0VVJMQmFzZSgpfSR7dXJsfWA7XG4gIH1cblxuICBsZXQgbG9hZF9nZW4gPSB0ZXgubG9hZF9nZW4gPSAodGV4LmxvYWRfZ2VuIHx8IDApICsgMTtcbiAgZnVuY3Rpb24gdHJ5TG9hZChuZXh0KSB7XG4gICAgbGV0IGRpZF9uZXh0ID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gZG9uZShpbWcpIHtcbiAgICAgIGlmICghZGlkX25leHQpIHtcbiAgICAgICAgZGlkX25leHQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdm9pZCBuZXh0KGltZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBkb25lKGltZyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmYWlsKCkge1xuICAgICAgZG9uZShudWxsKTtcbiAgICB9XG4gICAgaW1nLm9uZXJyb3IgPSBmYWlsO1xuICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgIGltZy5zcmMgPSB1cmw7XG4gIH1cblxuICArK2xvYWRfY291bnQ7XG4gIGxldCByZXRyaWVzID0gMDtcbiAgZnVuY3Rpb24gaGFuZGxlTG9hZChpbWcpIHtcbiAgICBpZiAodGV4LmxvYWRfZ2VuICE9PSBsb2FkX2dlbiB8fCB0ZXguZGVzdHJveWVkKSB7XG4gICAgICAvLyBzb21lb25lIGVsc2UgcmVxdWVzdGVkIHRoaXMgdGV4dHVyZSB0byBiZSBsb2FkZWQhICBPciwgaXQgd2FzIGFscmVhZHkgdW5sb2FkZWRcbiAgICAgIC0tbG9hZF9jb3VudDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGVycl9kZXRhaWxzID0gJyc7XG4gICAgaWYgKGltZykge1xuICAgICAgdGV4LmZvcm1hdCA9IGZvcm1hdC5SR0JBODtcbiAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgaW1nID0gZmlsdGVyKHRleCwgaW1nKTtcbiAgICAgIH1cbiAgICAgIGxldCBlcnIgPSB0ZXgudXBkYXRlRGF0YShpbWcud2lkdGgsIGltZy5oZWlnaHQsIGltZyk7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGVycl9kZXRhaWxzID0gYDogR0xFcnJvcigke2Vycn0pYDtcbiAgICAgICAgLy8gU2Ftc3VuZyBUViBnZXRzIDEyODIgb24gdGV4dHVyZSBhcnJheXNcbiAgICAgICAgLy8gU2Ftc3VuZyBHYWxheHkgUzYgZ2V0cyAxMjgxIG9uIHRleHR1cmUgYXJyYXlzXG4gICAgICAgIC8vIE5vdGU6IEFueSBmYWlsZWQgaW1hZ2UgbG9hZCAocGFydGlhbCByZWFkIG9mIGEgYmFkIHBuZywgZXRjKSBhbHNvIHJlc3VsdHMgaW4gMTI4MSFcbiAgICAgICAgaWYgKHRleC5pc19hcnJheSAmJiAoU3RyaW5nKGVycikgPT09ICcxMjgyJyB8fCBTdHJpbmcoZXJyKSA9PT0gJzEyODEnKSAmJiBlbmdpbmUud2ViZ2wyICYmICFlbmdpbmUuREVCVUcpIHtcbiAgICAgICAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3dlYmdsMl9kaXNhYmxlJywge1xuICAgICAgICAgICAgdWE6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIGFycmF5IHRleHR1cmUgXCIke3VybH1cIiR7ZXJyX2RldGFpbHN9LCByZWxvYWRpbmcgd2l0aG91dCBXZWJHTDIuLmApO1xuICAgICAgICAgIGVuZ2luZS5yZWxvYWRTYWZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LmZvcl9yZWxvYWQpIHtcbiAgICAgICAgICByZXRyaWVzID0gVEVYX1JFVFJZX0NPVU5UOyAvLyBkbyBub3QgcmV0cnkgdGhpc1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAtLWxvYWRfY291bnQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGVyciA9IGBFcnJvciBsb2FkaW5nIHRleHR1cmUgXCIke3VybH1cIiR7ZXJyX2RldGFpbHN9YDtcbiAgICByZXRyaWVzKys7XG4gICAgaWYgKHJldHJpZXMgPiBURVhfUkVUUllfQ09VTlQpIHtcbiAgICAgIC0tbG9hZF9jb3VudDtcbiAgICAgIHRleC5lZmZfaGFuZGxlID0gaGFuZGxlX2Vycm9yO1xuICAgICAgdGV4LmxvYWRfZmFpbCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKGAke2Vycn0ke2Vycl9kZXRhaWxzID8gJycgOiAnLCByZXRyaWVzIGZhaWxlZCd9YCk7XG4gICAgICBpZiAodGV4LnNvZnRfZXJyb3IpIHtcbiAgICAgICAgdGV4LmVyciA9ICdMb2FkIGZhaWxlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoYCR7ZXJyfSwgcmV0cnlpbmcuLi4gYCk7XG4gICAgc2V0VGltZW91dCh0cnlMb2FkLmJpbmQobnVsbCwgaGFuZGxlTG9hZCksIDEwMCAqIHJldHJpZXMgKiByZXRyaWVzKTtcbiAgfVxuICB0cnlMb2FkKGhhbmRsZUxvYWQpO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuYWxsb2NGQk8gPSBmdW5jdGlvbiAodywgaCwgbmVlZF9kZXB0aCkge1xuICBjb25zdCBmYm9fZm9ybWF0ID0gc2V0dGluZ3MuZmJvX3JnYmEgPyBnbC5SR0JBIDogZ2wuUkdCO1xuICBiaW5kRm9yY2VkKHRoaXMpO1xuICBnbC50ZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCBmYm9fZm9ybWF0LCB3LCBoLCAwLCBmYm9fZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICB0aGlzLmZibyA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mYm8pO1xuICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRoaXMuaGFuZGxlLCAwKTtcblxuICB0aGlzLmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICB0aGlzLnNyY193aWR0aCA9IHRoaXMud2lkdGggPSB3O1xuICB0aGlzLnNyY19oZWlnaHQgPSB0aGlzLmhlaWdodCA9IGg7XG4gIHRoaXMudXBkYXRlR1BVTWVtKCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5jYXB0dXJlU3RhcnQgPSBmdW5jdGlvbiAodywgaCkge1xuICBhc3NlcnQoIXRoaXMuY2FwdHVyZSk7XG4gIHRoaXMuY2FwdHVyZSA9IHsgdywgaCB9O1xuICBpZiAodGhpcy5mYm8pIHtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZmJvKTtcbiAgfVxufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuY2FwdHVyZUVuZCA9IGZ1bmN0aW9uIChmaWx0ZXJfbGluZWFyLCB3cmFwKSB7XG4gIGFzc2VydCh0aGlzLmNhcHR1cmUpO1xuICBsZXQgY2FwdHVyZSA9IHRoaXMuY2FwdHVyZTtcbiAgdGhpcy5jYXB0dXJlID0gbnVsbDtcbiAgaWYgKHRoaXMuZmJvKSB7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNvcHlUZXhJbWFnZSgwLCAwLCBjYXB0dXJlLncsIGNhcHR1cmUuaCk7XG4gIH1cbiAgbGV0IGZpbHRlciA9IGZpbHRlcl9saW5lYXIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUO1xuICB0aGlzLnNldFNhbXBsZXJTdGF0ZSh7XG4gICAgZmlsdGVyX21pbjogZmlsdGVyLFxuICAgIGZpbHRlcl9tYWc6IGZpbHRlcixcbiAgICB3cmFwX3M6IHdyYXAgPyBnbC5SRVBFQVQgOiBnbC5DTEFNUF9UT19FREdFLFxuICAgIHdyYXBfdDogd3JhcCA/IGdsLlJFUEVBVCA6IGdsLkNMQU1QX1RPX0VER0UsXG4gIH0pO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuY29weVRleEltYWdlID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcbiAgYXNzZXJ0KCF0aGlzLmRlc3Ryb3llZCk7XG4gIGFzc2VydCh3ICYmIGgpO1xuICBiaW5kSGFuZGxlKDAsIHRoaXMudGFyZ2V0LCB0aGlzLmhhbmRsZSk7XG4gIGdsLmNvcHlUZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCBnbC5SR0IsIHgsIHksIHcsIGgsIDApO1xuICB0aGlzLmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICB0aGlzLnNyY193aWR0aCA9IHRoaXMud2lkdGggPSB3O1xuICB0aGlzLnNyY19oZWlnaHQgPSB0aGlzLmhlaWdodCA9IGg7XG4gIHRoaXMudXBkYXRlR1BVTWVtKCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYXNzZXJ0KHRoaXMubmFtZSk7XG4gIGxldCBhdXRvX3VubG9hZCA9IHRoaXMuYXV0b191bmxvYWQ7XG4gIGlmIChhdXRvX3VubG9hZCkge1xuICAgIHRoaXMuYXV0b191bmxvYWQgPSBudWxsO1xuICAgIGxldCBpZHggPSBhdXRvX3VubG9hZF90ZXh0dXJlcy5pbmRleE9mKHRoaXMpO1xuICAgIGFzc2VydChpZHggIT09IC0xKTtcbiAgICByaWR4KGF1dG9fdW5sb2FkX3RleHR1cmVzLCBpZHgpO1xuICB9XG4gIGRlbGV0ZSB0ZXh0dXJlc1t0aGlzLm5hbWVdO1xuICB1bmJpbmRBbGwodGhpcy50YXJnZXQpO1xuICBnbC5kZWxldGVUZXh0dXJlKHRoaXMuaGFuZGxlKTtcbiAgaWYgKHRoaXMuZmJvKSB7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZibyk7XG4gIH1cbiAgdGhpcy53aWR0aCA9IHRoaXMuaGVpZ2h0ID0gMDtcbiAgdGhpcy51cGRhdGVHUFVNZW0oKTtcbiAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICBpZiAodHlwZW9mIGF1dG9fdW5sb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXV0b191bmxvYWQoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICBhc3NlcnQocGFyYW1zLm5hbWUpO1xuICBsZXQgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHBhcmFtcyk7XG4gIHRleHR1cmVzW3BhcmFtcy5uYW1lXSA9IHRleHR1cmU7XG4gIHJldHVybiB0ZXh0dXJlO1xufVxuXG5sZXQgbGFzdF90ZW1wb3JhcnlfaWQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvckNhcHR1cmUodW5pcXVlX25hbWUsIGF1dG9fdW5sb2FkKSB7XG4gIGxldCBuYW1lID0gdW5pcXVlX25hbWUgfHwgYHNjcmVlbl90ZW1wb3JhcnlfdGV4XyR7KytsYXN0X3RlbXBvcmFyeV9pZH1gO1xuICBhc3NlcnQoIXRleHR1cmVzW25hbWVdKTtcbiAgbGV0IHRleHR1cmUgPSBjcmVhdGUoe1xuICAgIGZpbHRlcl9taW46IGdsLk5FQVJFU1QsXG4gICAgZmlsdGVyX21hZzogZ2wuTkVBUkVTVCxcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgIGZvcm1hdDogZm9ybWF0LlJHQjgsXG4gICAgbmFtZSxcbiAgICBhdXRvX3VubG9hZCxcbiAgfSk7XG4gIHRleHR1cmUubG9hZGVkID0gdHJ1ZTtcbiAgdGV4dHVyZS5lZmZfaGFuZGxlID0gdGV4dHVyZS5oYW5kbGU7XG4gIHJldHVybiB0ZXh0dXJlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChwYXJhbXMpIHtcbiAgbGV0IGtleSA9IHBhcmFtcy5uYW1lID0gcGFyYW1zLm5hbWUgfHwgcGFyYW1zLnVybDtcbiAgYXNzZXJ0KGtleSk7XG4gIGxldCB0ZXggPSB0ZXh0dXJlc1trZXldO1xuICBpZiAoIXRleCkge1xuICAgIHRleCA9IGNyZWF0ZShwYXJhbXMpO1xuICB9XG4gIHRleC5sYXN0X3VzZSA9IGZyYW1lX3RpbWVzdGFtcDtcbiAgcmV0dXJuIHRleDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNuYW1lKGtleSkge1xuICBsZXQgaWR4ID0ga2V5Lmxhc3RJbmRleE9mKCcvJyk7XG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAga2V5ID0ga2V5LnNsaWNlKGlkeCsxKTtcbiAgfVxuICBpZHggPSBrZXkuaW5kZXhPZignLicpO1xuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIGtleSA9IGtleS5zbGljZSgwLCBpZHgpO1xuICB9XG4gIHJldHVybiBrZXkudG9Mb3dlckNhc2UoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kVGV4Rm9yUmVwbGFjZW1lbnQoc2VhcmNoX2tleSkge1xuICBzZWFyY2hfa2V5ID0gY25hbWUoc2VhcmNoX2tleSk7XG4gIGZvciAobGV0IGtleSBpbiB0ZXh0dXJlcykge1xuICAgIGxldCBjb21wYXJlX2tleSA9IGNuYW1lKGtleSk7XG4gICAgaWYgKGNvbXBhcmVfa2V5ID09PSBzZWFyY2hfa2V5KSB7XG4gICAgICByZXR1cm4gdGV4dHVyZXNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmxldCB0aWNrX25leHRfdGV4ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiB0ZXh0dXJlc1RpY2soKSB7XG4gIGZyYW1lX3RpbWVzdGFtcCA9IGVuZ2luZS5mcmFtZV90aW1lc3RhbXA7XG4gIGxldCBsZW4gPSBhdXRvX3VubG9hZF90ZXh0dXJlcy5sZW5ndGg7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0aWNrX25leHRfdGV4ID49IGxlbikge1xuICAgIHRpY2tfbmV4dF90ZXggPSAwO1xuICB9XG4gIGxldCB0ZXggPSBhdXRvX3VubG9hZF90ZXh0dXJlc1t0aWNrX25leHRfdGV4XTtcbiAgaWYgKHRleC5sYXN0X3VzZSA8IGZyYW1lX3RpbWVzdGFtcCAtIFRFWF9VTkxPQURfVElNRSkge1xuICAgIGNvbnNvbGUubG9nKGBVbmxvYWRpbmcgdGV4dHVyZSAke3RleC5uYW1lfWApO1xuICAgIHRleC5kZXN0cm95KCk7XG4gIH0gZWxzZSB7XG4gICAgKyt0aWNrX25leHRfdGV4O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0dXJlc1VubG9hZER5bmFtaWMoKSB7XG4gIHdoaWxlIChhdXRvX3VubG9hZF90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICBhdXRvX3VubG9hZF90ZXh0dXJlc1swXS5kZXN0cm95KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGV4dHVyZVJlbG9hZChmaWxlbmFtZSkge1xuICBsZXQgdGV4ID0gdGV4dHVyZXNbZmlsZW5hbWVdO1xuICBpZiAodGV4ICYmIHRleC51cmwpIHtcbiAgICB0ZXguZm9yX3JlbG9hZCA9IHRydWU7XG4gICAgdGV4LmxvYWRVUkwoYCR7dGV4LnVybH0/cmw9JHtEYXRlLm5vdygpfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG5cbiAgZGVmYXVsdF9maWx0ZXJfbWluID0gZ2wuTElORUFSX01JUE1BUF9MSU5FQVI7XG4gIGRlZmF1bHRfZmlsdGVyX21hZyA9IGdsLkxJTkVBUjtcblxuICBmb3JtYXQuUjguaW50ZXJuYWxfdHlwZSA9IGdsLkxVTUlOQU5DRTtcbiAgZm9ybWF0LlI4LmdsX3R5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICBmb3JtYXQuUkdCOC5pbnRlcm5hbF90eXBlID0gZ2wuUkdCO1xuICBmb3JtYXQuUkdCOC5nbF90eXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgZm9ybWF0LlJHQkE4LmludGVybmFsX3R5cGUgPSBnbC5SR0JBO1xuICBmb3JtYXQuUkdCQTguZ2xfdHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG5cbiAgbGV0IGV4dF9hbmlzb3Ryb3BpYyA9IChcbiAgICBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKVxuICApO1xuICBpZiAoZXh0X2FuaXNvdHJvcGljKSB7XG4gICAgYW5pc29fZW51bSA9IGV4dF9hbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVDtcbiAgICBhbmlzbyA9IG1heF9hbmlzbyA9IGdsLmdldFBhcmFtZXRlcihleHRfYW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTtcbiAgfVxuXG4gIGhhbmRsZV9lcnJvciA9IGxvYWQoe1xuICAgIG5hbWU6ICdlcnJvcicsXG4gICAgd2lkdGg6IDIsIGhlaWdodDogMixcbiAgICBub3pvb206IHRydWUsXG4gICAgZm9ybWF0OiBmb3JtYXQuUkdCQTgsXG4gICAgZmlsdGVyX21hZzogZ2wuTkVBUkVTVCxcbiAgICBkYXRhOiBuZXcgVWludDhBcnJheShbXG4gICAgICAyNTUsIDIwLCAxNDcsIDI1NSxcbiAgICAgIDI1NSwgMCwgMCwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyMCwgMTQ3LCAyNTVcbiAgICBdKSxcbiAgfSkuaGFuZGxlO1xuXG4gIGhhbmRsZV9sb2FkaW5nID0gbG9hZCh7XG4gICAgbmFtZTogJ2xvYWRpbmcnLFxuICAgIHdpZHRoOiAyLCBoZWlnaHQ6IDIsXG4gICAgbm96b29tOiB0cnVlLFxuICAgIGZvcm1hdDogZm9ybWF0LlJHQkE4LFxuICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDEyNywgMTI3LCAxMjcsIDI1NSxcbiAgICAgIDAsIDAsIDAsIDI1NSxcbiAgICAgIDY0LCA2NCwgNjQsIDI1NSxcbiAgICAgIDEyNywgMTI3LCAxMjcsIDI1NSxcbiAgICBdKSxcbiAgfSkuaGFuZGxlO1xuXG4gIGxvYWQoe1xuICAgIG5hbWU6ICd3aGl0ZScsXG4gICAgd2lkdGg6IDIsIGhlaWdodDogMixcbiAgICBub3pvb206IHRydWUsXG4gICAgZm9ybWF0OiBmb3JtYXQuUkdCQTgsXG4gICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgIF0pLFxuICB9KTtcblxuICBsb2FkKHtcbiAgICBuYW1lOiAnaW52aXNpYmxlJyxcbiAgICB3aWR0aDogMiwgaGVpZ2h0OiAyLFxuICAgIG5vem9vbTogdHJ1ZSxcbiAgICBmb3JtYXQ6IGZvcm1hdC5SR0JBOCxcbiAgICBkYXRhOiBuZXcgVWludDhBcnJheShbXG4gICAgICAwLCAwLCAwLCAwLFxuICAgICAgMCwgMCwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDAsXG4gICAgICAwLCAwLCAwLCAwLFxuICAgIF0pLFxuICB9KTtcblxuICBmaWxld2F0Y2hPbignLnBuZycsIHRleHR1cmVSZWxvYWQpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGdsb3ZfZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgYXBwbHlDb3B5LCBlZmZlY3RzUXVldWUsIGVmZmVjdHNJc0ZpbmFsIH0gPSByZXF1aXJlKCcuL2VmZmVjdHMuanMnKTtcbmNvbnN0IHsgZnJhbWVidWZmZXJDYXB0dXJlLCBmcmFtZWJ1ZmZlclN0YXJ0LCBmcmFtZWJ1ZmZlckVuZCwgdGVtcG9yYXJ5VGV4dHVyZUNsYWltIH0gPSByZXF1aXJlKCcuL2ZyYW1lYnVmZmVyLmpzJyk7XG5jb25zdCB7IGZsb29yLCBtaW4sIHBvdywgcmFuZG9tIH0gPSBNYXRoO1xuY29uc3Qgc3ByaXRlcyA9IHJlcXVpcmUoJy4vc3ByaXRlcy5qcycpO1xuY29uc3Qgc2hhZGVycyA9IHJlcXVpcmUoJy4vc2hhZGVycy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCBnbG92X3VpID0gcmVxdWlyZSgnLi91aS5qcycpO1xuY29uc3QgeyBlYXNlT3V0IH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyB1bml0X3ZlYywgdmVjNCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5sZXQgdHJhbnNpdGlvbnMgPSBbXTtcblxuZXhwb3J0IGNvbnN0IElNTUVESUFURSA9ICdpbW1lZGlhdGUnO1xuXG5leHBvcnQgY29uc3QgUkVNT1ZFID0gJ3JlbW92ZSc7XG5leHBvcnQgY29uc3QgQ09OVElOVUUgPSAnY29udGludWUnO1xuXG5jb25zdCBzaGFkZXJfZGF0YSA9IHtcbiAgdHJhbnNpdGlvbl9waXhlbGF0ZToge1xuICAgIGZwOiAnZ2xvdi9zaGFkZXJzL3RyYW5zaXRpb25fcGl4ZWxhdGUuZnAnLFxuICB9LFxufTtcblxuZnVuY3Rpb24gZ2V0U2hhZGVyKGtleSkge1xuICBsZXQgZWxlbSA9IHNoYWRlcl9kYXRhW2tleV07XG4gIGlmICghZWxlbS5zaGFkZXIpIHtcbiAgICBlbGVtLnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKGVsZW0uZnApO1xuICB9XG4gIHJldHVybiBlbGVtLnNoYWRlcjtcbn1cblxuZnVuY3Rpb24gR2xvdlRyYW5zaXRpb24oeiwgZnVuYykge1xuICB0aGlzLnogPSB6O1xuICB0aGlzLmNhcHR1cmUgPSBudWxsO1xuICB0aGlzLmZ1bmMgPSBmdW5jO1xuICB0aGlzLmFjY3VtX3RpbWUgPSAwO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uQ2FwdHVyZSh0cmFucykge1xuICAvLyBXYXJuaW5nOiBTbG93IG9uIGlPU1xuICBhc3NlcnQoIXRyYW5zLmNhcHR1cmUpO1xuICB0cmFucy5jYXB0dXJlID0gdGV4dHVyZXMuY3JlYXRlRm9yQ2FwdHVyZSgpO1xuICBmcmFtZWJ1ZmZlckNhcHR1cmUodHJhbnMuY2FwdHVyZSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25DYXB0dXJlRnJhbWVidWZmZXIodHJhbnMpIHtcbiAgYXNzZXJ0KCF0cmFucy5jYXB0dXJlKTtcbiAgdHJhbnMuY2FwdHVyZSA9IGZyYW1lYnVmZmVyRW5kKCk7XG4gIHRlbXBvcmFyeVRleHR1cmVDbGFpbSh0cmFucy5jYXB0dXJlKTtcbiAgaWYgKHRyYW5zLmNhcHR1cmUuZmJvKSB7XG4gICAgLy8gbmV3IGZyYW1lYnVmZmVyIGJvdW5kLCBlZmZlY3RpdmVseSBjbGVhcmVkLCBuZWVkIHRvIGJsaXQgdGhpcyB0byBpdCFcbiAgICBhcHBseUNvcHkoeyBzb3VyY2U6IHRyYW5zLmNhcHR1cmUsIGZpbmFsOiBlZmZlY3RzSXNGaW5hbCgpIH0pO1xuICB9IGVsc2Uge1xuICAgIGZyYW1lYnVmZmVyU3RhcnQoe1xuICAgICAgd2lkdGg6IHRyYW5zLmNhcHR1cmUud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRyYW5zLmNhcHR1cmUuaGVpZ2h0LFxuICAgICAgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlKHosIGZuKSB7XG4gIGFzc2VydCghZ2xvdl9lbmdpbmUuaGFkXzNkX3RoaXNfZnJhbWUpOyAvLyBDYW5ub3QgcXVldWUgYSB0cmFuc2l0aW9uIGFmdGVyIHdlJ3ZlIGFscmVhZHkgc3RhcnRlZCAzZCByZW5kZXJpbmcvY2xlYXJlZFxuICBsZXQgaW1tZWRpYXRlID0gZmFsc2U7XG4gIGlmICh6ID09PSBJTU1FRElBVEUpIHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlO1xuICAgIHogPSBaLlRSQU5TSVRJT05fRklOQUw7XG4gIH1cblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdHJhbnNpdGlvbnMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHRyYW5zID0gdHJhbnNpdGlvbnNbaWldO1xuICAgIGlmICh0cmFucy56ID09PSB6KSB7XG4gICAgICAvLyBzYW1lIFpcbiAgICAgIGFzc2VydCh0cmFucy5jYXB0dXJlKTtcbiAgICAgIGlmICghdHJhbnMuY2FwdHVyZSkge1xuICAgICAgICAvLyB0d28gdHJhbnNpdGlvbnMgYXQgdGhlIHNhbWUgWiBvbiBvbmUgZnJhbWUhICBpZ25vcmUgc2Vjb25kXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHRyYW5zID0gbmV3IEdsb3ZUcmFuc2l0aW9uKHosIGZuKTtcbiAgdHJhbnNpdGlvbnMucHVzaCh0cmFucyk7XG5cbiAgaWYgKGltbWVkaWF0ZSkge1xuICAgIHRyYW5zaXRpb25DYXB0dXJlKHRyYW5zKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBxdWV1ZSB1cCBhIGNhcHR1cmUgcGFzdCB0aGUgc3BlY2lmaWVkIFosIHNvIHRyYW5zaXRpb25zIHJlbmRlcmluZyBhdCB0aGF0IFogKHBsdXMgYSBoYW5kZnVsKSBnZXQgY2FwdHVyZWRcbiAgICBlZmZlY3RzUXVldWUoeiArIFouVFJBTlNJVElPTl9SQU5HRSwgdHJhbnNpdGlvbkNhcHR1cmVGcmFtZWJ1ZmZlci5iaW5kKG51bGwsIHRyYW5zKSk7XG4gICAgLy9zcHJpdGVzLnF1ZXVlZm4oeiArIFouVFJBTlNJVElPTl9SQU5HRSwgdHJhbnNpdGlvbkNhcHR1cmUuYmluZChudWxsLCB0cmFucykpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXgpIHtcbiAgdGV4LmRlc3Ryb3koKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihkdCkge1xuICBkdCA9IG1pbihkdCwgMTAwKTsgLy8gZGVidWc6IGNsYW1wIGZyYW1lIHRpbWVzXG4gIGZvciAobGV0IHRyYW5zX2lkeCA9IDA7IHRyYW5zX2lkeCA8IHRyYW5zaXRpb25zLmxlbmd0aDsgKyt0cmFuc19pZHgpIHtcbiAgICBsZXQgdHJhbnMgPSB0cmFuc2l0aW9uc1t0cmFuc19pZHhdO1xuICAgIHRyYW5zLmFjY3VtX3RpbWUgKz0gZHQ7XG4gICAgYXNzZXJ0KHRyYW5zLmNhcHR1cmUpO1xuICAgIC8vIGNhbGwgdGhlIGZ1bmN0aW9uIGFuZCBnaXZlIHRoZW0gdGhlIFpcbiAgICAvLyBJZiBub3QgdGhlIGxhc3Qgb25lLCB3YW50IGl0IHRvIGVuZCBub3chXG4gICAgbGV0IGZvcmNlX2VuZCA9IHRyYW5zX2lkeCA8IHRyYW5zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgbGV0IHJldCA9IHRyYW5zLmZ1bmModHJhbnMueiwgdHJhbnMuY2FwdHVyZSwgdHJhbnMuYWNjdW1fdGltZSwgZm9yY2VfZW5kKTtcbiAgICBpZiAocmV0ID09PSBSRU1PVkUpIHtcbiAgICAgIHNldFRpbWVvdXQoZGVzdHJveVRleHR1cmUuYmluZChudWxsLCB0cmFucy5jYXB0dXJlKSwgMCk7XG4gICAgICB0cmFuc2l0aW9ucy5zcGxpY2UodHJhbnNfaWR4LCAxKTtcbiAgICAgIHRyYW5zX2lkeC0tO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWN0aXZlKCkge1xuICByZXR1cm4gdHJhbnNpdGlvbnMubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnbG92VHJhbnNpdGlvbkZhZGVGdW5jKGZhZGVfdGltZSwgeiwgaW5pdGlhbCwgbXNfc2luY2Vfc3RhcnQsIGZvcmNlX2VuZCkge1xuICBsZXQgcHJvZ3Jlc3MgPSBtaW4obXNfc2luY2Vfc3RhcnQgLyBmYWRlX3RpbWUsIDEpO1xuICBsZXQgYWxwaGEgPSAoMSAtIGVhc2VPdXQocHJvZ3Jlc3MsIDIpKTtcbiAgbGV0IGNvbG9yID0gdmVjNCgxLCAxLCAxLCBhbHBoYSk7XG4gIGNhbWVyYTJkLnNldE5vcm1hbGl6ZWQoKTtcbiAgc3ByaXRlcy5xdWV1ZXJhdzQoW2luaXRpYWxdLFxuICAgIDAsIDAsIDAsIDEsXG4gICAgMSwgMSwgMSwgMCxcbiAgICB6LFxuICAgIDAsIDEsIDEsIDAsXG4gICAgY29sb3IpO1xuXG4gIGlmIChmb3JjZV9lbmQgfHwgcHJvZ3Jlc3MgPT09IDEpIHtcbiAgICByZXR1cm4gUkVNT1ZFO1xuICB9XG4gIHJldHVybiBDT05USU5VRTtcbn1cblxuXG4vKlxuICAvLyBEb2Vzbid0IHdvcmsgYmVjYXVzZSB3ZSBuZWVkIG1vcmUgdGhhbiBqdXN0IDIgVVYgdmFsdWVzIGluIHRoZSBxdWV1ZSBjYWxsXG5mdW5jdGlvbiBnbG92VHJhbnNpdGlvbldpcGVGdW5jKHdpcGVfdGltZSwgd2lwZV9hbmdsZSwgeiwgdGV4LCBtc19zaW5jZV9zdGFydCwgZm9yY2VfZW5kKSB7XG4gIGxldCBwcm9ncmVzcyA9IG1pbihtc19zaW5jZV9zdGFydCAvIHdpcGVfdGltZSwgMSk7XG5cbiAgY2FtZXJhMmQuc2V0Tm9ybWFsaXplZCgpO1xuXG4gIGxldCB1dnMgPSBbWzAsMV0sIFsxLDBdXTtcblxuICBsZXQgcG9pbnRzID0gW3t9LCB7fSwge30sIHt9XTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDQ7IGlpKyspIHtcbiAgICBsZXQgeCA9IChpaSA9PT0gMSB8fCBpaSA9PT0gMikgPyAxIDogMDtcbiAgICBsZXQgeSA9IChpaSA+PSAyKSA/IDEgOiAwO1xuICAgIHBvaW50c1tpaV0ueCA9IHg7XG4gICAgcG9pbnRzW2lpXS55ID0geTtcbiAgfVxuXG4gIHdoaWxlICh3aXBlX2FuZ2xlID4gUEkpIHtcbiAgICB3aXBlX2FuZ2xlIC09ICgyICogUEkpO1xuICB9XG4gIHdoaWxlICh3aXBlX2FuZ2xlIDwgLVBJKSB7XG4gICAgd2lwZV9hbmdsZSArPSAoMiAqIFBJKTtcbiAgfVxuXG4gIC8vIFRPRE86IGlmIGFueW9uZSBldmVyIHVzZXMgdGhpcywgY2hhbmdlIDAgZGVncmVlcyB0byBiZSB1cCwgbm90IHJpZ2h0LCB0byBtYXRjaCBvdGhlciB0aGluZ3M/XG4gIGlmICh3aXBlX2FuZ2xlID49IC1QSV80ICYmIHdpcGVfYW5nbGUgPD0gUElfNCkge1xuICAgIC8vIGhvcml6b250YWwgd2lwZSBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBsZXQgeDAgPSBwcm9ncmVzcyAqIDI7IC8vIHJpZ2h0bW9zdCB4XG4gICAgbGV0IHgxID0geDAgLSBzaW4oYWJzKHdpcGVfYW5nbGUpKSAvIFNRUlQxXzI7IC8vIGxlZnRtb3N0IHhcbiAgICBpZiAod2lwZV9hbmdsZSA8IDApIHtcbiAgICAgIHBvaW50c1swXS54ID0geDE7XG4gICAgICBwb2ludHNbM10ueCA9IHgwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludHNbMF0ueCA9IHgwO1xuICAgICAgcG9pbnRzWzNdLnggPSB4MTtcbiAgICB9XG4gICAgcG9pbnRzWzFdLnggPSBwb2ludHNbMl0ueCA9IDI7XG4gIH0gZWxzZSBpZiAod2lwZV9hbmdsZSA+PSBQSV8yICsgUElfNCB8fCB3aXBlX2FuZ2xlIDw9IC1QSV8yIC0gUElfNCkge1xuICAgIC8vIGhvcml6b250YWwgd2lwZSBmcm9tIHJpZ2h0IHRvIGxlZnRcbiAgICBsZXQgeDAgPSAxIC0gcHJvZ3Jlc3MgKiAyOyAvLyBsZWZ0bW9zdCB4XG4gICAgbGV0IHgxID0geDAgKyBzaW4oYWJzKHdpcGVfYW5nbGUpKSAvIFNRUlQxXzI7IC8vIHJpZ2h0bW9zdCB4LFxuICAgIGlmICh3aXBlX2FuZ2xlIDwgMCkge1xuICAgICAgcG9pbnRzWzFdLnggPSB4MTtcbiAgICAgIHBvaW50c1syXS54ID0geDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50c1sxXS54ID0geDA7XG4gICAgICBwb2ludHNbMl0ueCA9IHgxO1xuICAgIH1cbiAgICBwb2ludHNbMF0ueCA9IHBvaW50c1szXS54ID0gLTE7XG4gIH0gZWxzZSBpZiAod2lwZV9hbmdsZSA+IFBJXzQgJiYgd2lwZV9hbmdsZSA8PSBQSV8yICsgUElfNCkge1xuICAgIC8vIHZlcnRpY2FsIHdpcGUsIHRvcCB0byBib3R0b21cbiAgICBsZXQgeTAgPSBwcm9ncmVzcyAqIDI7IC8vIGJvdHRvbW1vc3QgeVxuICAgIGxldCBvZmZzID0gY29zKHdpcGVfYW5nbGUpIC8gU1FSVDFfMjtcbiAgICBsZXQgeTEgPSB5MCAtIGFicyhvZmZzKTsgLy8gdG9wbW9zdCB5LFxuICAgIGlmIChvZmZzID4gMCkge1xuICAgICAgcG9pbnRzWzBdLnkgPSB5MDtcbiAgICAgIHBvaW50c1sxXS55ID0geTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50c1swXS55ID0geTE7XG4gICAgICBwb2ludHNbMV0ueSA9IHkwO1xuICAgIH1cbiAgICBwb2ludHNbMl0ueSA9IHBvaW50c1szXS55ID0gMjtcbiAgfSBlbHNlIHtcbiAgICAvLyB2ZXJ0aWNhbCB3aXBlLCBib3R0b20gdG8gdG9wXG4gICAgbGV0IHkwID0gMSAtIHByb2dyZXNzICogMjsgLy8gdG9wbW9zdCB5XG4gICAgbGV0IG9mZnMgPSBjb3Mod2lwZV9hbmdsZSkgLyBTUVJUMV8yO1xuICAgIGxldCB5MSA9IHkwICsgYWJzKG9mZnMpOyAvLyBib3R0b21tb3N0IHksXG4gICAgaWYgKG9mZnMgPiAwKSB7XG4gICAgICBwb2ludHNbMl0ueSA9IHkxO1xuICAgICAgcG9pbnRzWzNdLnkgPSB5MDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRzWzJdLnkgPSB5MDtcbiAgICAgIHBvaW50c1szXS55ID0geTE7XG4gICAgfVxuICAgIHBvaW50c1swXS55ID0gcG9pbnRzWzFdLnkgPSAtMTtcbiAgfVxuICAvLyBpbnRlcnAgVVZzIGJhc2VkIG9uIHBvaW50c1xuICBwb2ludHNbMF0udSA9IGxlcnAocG9pbnRzWzBdLngsIHV2c1swXVswXSwgdXZzWzFdWzBdKTtcbiAgcG9pbnRzWzFdLnUgPSBsZXJwKHBvaW50c1sxXS54LCB1dnNbMF1bMF0sIHV2c1sxXVswXSk7XG4gIHBvaW50c1syXS51ID0gbGVycChwb2ludHNbMl0ueCwgdXZzWzBdWzBdLCB1dnNbMV1bMF0pO1xuICBwb2ludHNbM10udSA9IGxlcnAocG9pbnRzWzNdLngsIHV2c1swXVswXSwgdXZzWzFdWzBdKTtcbiAgcG9pbnRzWzBdLnYgPSBsZXJwKHBvaW50c1swXS55LCB1dnNbMF1bMV0sIHV2c1sxXVsxXSk7XG4gIHBvaW50c1sxXS52ID0gbGVycChwb2ludHNbMV0ueSwgdXZzWzBdWzFdLCB1dnNbMV1bMV0pO1xuICBwb2ludHNbMl0udiA9IGxlcnAocG9pbnRzWzJdLnksIHV2c1swXVsxXSwgdXZzWzFdWzFdKTtcbiAgcG9pbnRzWzNdLnYgPSBsZXJwKHBvaW50c1szXS55LCB1dnNbMF1bMV0sIHV2c1sxXVsxXSk7XG5cbiAgc3ByaXRlcy5xdWV1ZXJhdzQoW3RleF0sXG4gICAgcG9pbnRzWzBdLngsIHBvaW50c1swXS55LCBwb2ludHNbM10ueCwgcG9pbnRzWzNdLnksXG4gICAgcG9pbnRzWzJdLngsIHBvaW50c1syXS55LCBwb2ludHNbMV0ueCwgcG9pbnRzWzFdLnksXG4gICAgeixcbiAgICBwb2ludHNbMF0udSwgcG9pbnRzWzBdLnYsIHBvaW50c1syXS51LCBwb2ludHNbMl0udixcbiAgICB1bml0X3ZlYywgJ2FscGhhX25lYXJlc3QnKTtcblxuICBpZiAoZm9yY2VfZW5kIHx8IHByb2dyZXNzID09PSAxKSB7XG4gICAgcmV0dXJuIFJFTU9WRTtcbiAgfVxuICByZXR1cm4gQ09OVElOVUU7XG59XG5cbiovXG5cbmZ1bmN0aW9uIGdsb3ZUcmFuc2l0aW9uU3BsaXRTY3JlZW5GdW5jKHRpbWUsIGJvcmRlcl93aWR0aCwgc2xpZGVfd2luZG93LCB6LCB0ZXgsIG1zX3NpbmNlX3N0YXJ0LCBmb3JjZV9lbmQpIHtcbiAgbGV0IGJvcmRlcl9jb2xvciA9IHZlYzQoMSwgMSwgMSwgMSk7XG4gIGxldCBwcm9ncmVzcyA9IGVhc2VPdXQobWluKG1zX3NpbmNlX3N0YXJ0IC8gdGltZSwgMSksIDIpO1xuICBjYW1lcmEyZC5zZXROb3JtYWxpemVkKCk7XG5cbiAgbGV0IHV2cyA9IFtbMCwxXSwgWzEsMF1dO1xuXG4gIGxldCB4b2ZmcyA9IHByb2dyZXNzO1xuICBsZXQgdl9oYWxmID0gdXZzWzBdWzFdICsgKHV2c1sxXVsxXSAtIHV2c1swXVsxXSkgLyAyO1xuICBpZiAoc2xpZGVfd2luZG93KSB7IC8vIHNsaWRlIHdpbmRvd1xuICAgIHNwcml0ZXMucXVldWVyYXcoW3RleF0sIDAsIDAsIHosIDEgLSB4b2ZmcywgMSAvIDIsXG4gICAgICAwLCB1dnNbMF1bMV0sIHV2c1sxXVswXSAqICgxIC0gcHJvZ3Jlc3MpLCB2X2hhbGYsXG4gICAgICB1bml0X3ZlYyk7XG4gICAgc3ByaXRlcy5xdWV1ZXJhdyhbdGV4XSwgMCArIHhvZmZzLCAxIC8gMiwgeiwgMSAtIHhvZmZzLCAxIC8gMixcbiAgICAgIHV2c1sxXVswXSAqIHByb2dyZXNzLCB2X2hhbGYsIHV2c1sxXVswXSwgdXZzWzFdWzFdLFxuICAgICAgdW5pdF92ZWMpO1xuICB9IGVsc2UgeyAvLyBzbGlkZSBpbWFnZVxuICAgIHNwcml0ZXMucXVldWVyYXcoW3RleF0sIDAgLSB4b2ZmcywgMCwgeiwgMSwgMSAvIDIsXG4gICAgICB1dnNbMF1bMF0sIHV2c1swXVsxXSwgdXZzWzFdWzBdLCB2X2hhbGYsXG4gICAgICB1bml0X3ZlYyk7XG4gICAgc3ByaXRlcy5xdWV1ZXJhdyhbdGV4XSwgMCArIHhvZmZzLCAxIC8gMiwgeiwgMSwgMSAvIDIsXG4gICAgICB1dnNbMF1bMF0sIHZfaGFsZiwgdXZzWzFdWzBdLCB1dnNbMV1bMV0sXG4gICAgICB1bml0X3ZlYyk7XG4gIH1cbiAgbGV0IGJvcmRlcl9ncm93X3Byb2dyZXNzID0gbWluKHByb2dyZXNzICogNCwgMSk7XG4gIGJvcmRlcl9jb2xvclszXSA9IGJvcmRlcl9ncm93X3Byb2dyZXNzO1xuICBib3JkZXJfd2lkdGggKj0gYm9yZGVyX2dyb3dfcHJvZ3Jlc3M7XG4gIC8vIFRPRE86IFdvdWxkIGxvb2sgYmV0dGVyIGlmIHRoZSBob3Jpem9udGFsIGJvcmRlciBncmV3IGZyb20gdGhlIG1pZGRsZSBvdXQsIHNvIHRoZSBvdmVybGFwcGluZyBiaXQgaXMgaWRlbnRpY2FsXG4gIC8vIG9uIGJvdGggc2lkZXNcbiAgZ2xvdl91aS5kcmF3UmVjdCgwLCAwLjUgLSBib3JkZXJfd2lkdGgsIDEgLSB4b2ZmcywgMC41LCB6ICsgMSwgYm9yZGVyX2NvbG9yKTtcbiAgZ2xvdl91aS5kcmF3UmVjdCgxIC0geG9mZnMgLSBib3JkZXJfd2lkdGgsIDAsIDEgLSB4b2ZmcywgMC41LCB6ICsgMSwgYm9yZGVyX2NvbG9yKTtcbiAgZ2xvdl91aS5kcmF3UmVjdCh4b2ZmcywgMC41LCAxLCAwLjUgKyBib3JkZXJfd2lkdGgsIHogKyAxLCBib3JkZXJfY29sb3IpO1xuICBnbG92X3VpLmRyYXdSZWN0KHhvZmZzLCAwLjUsIHhvZmZzICsgYm9yZGVyX3dpZHRoLCAxLCB6ICsgMSwgYm9yZGVyX2NvbG9yKTtcblxuICBpZiAoZm9yY2VfZW5kIHx8IHByb2dyZXNzID09PSAxKSB7XG4gICAgcmV0dXJuIFJFTU9WRTtcbiAgfVxuICByZXR1cm4gQ09OVElOVUU7XG59XG5cbmNvbnN0IHJlbmRlcl9zY2FsZSA9IDE7XG5sZXQgdHJhbnNpdGlvbl9waXhlbGF0ZV90ZXh0dXJlcyA9IFtudWxsXTtcblxuZnVuY3Rpb24gdHJhbnNpdGlvblBpeGVsYXRlQ2FwdHVyZSgpIHtcbiAgbGV0IHRleCA9IGZyYW1lYnVmZmVyRW5kKCk7XG4gIGZyYW1lYnVmZmVyU3RhcnQoe1xuICAgIHdpZHRoOiB0ZXgud2lkdGgsXG4gICAgaGVpZ2h0OiB0ZXguaGVpZ2h0LFxuICAgIGZpbmFsOiBlZmZlY3RzSXNGaW5hbCgpLFxuICB9KTtcbiAgdHJhbnNpdGlvbl9waXhlbGF0ZV90ZXh0dXJlc1swXSA9IHRleDtcbn1cblxuZnVuY3Rpb24gZ2xvdlRyYW5zaXRpb25QaXhlbGF0ZUZ1bmModGltZSwgeiwgdGV4LCBtc19zaW5jZV9zdGFydCwgZm9yY2VfZW5kKSB7XG4gIC8vbXNfc2luY2Vfc3RhcnQgJT0gdGltZTtcbiAgLy9sZXQgdmlld3BvcnQgPSBnbG92X2VuZ2luZS5ncmFwaGljc19kZXZpY2UuZ2V0Vmlld3BvcnQoKTtcbiAgLy9sZXQgZ2Rfd2lkdGggPSB2aWV3cG9ydFsyXTtcbiAgbGV0IGdkX3dpZHRoID0gZ2xvdl9lbmdpbmUud2lkdGg7XG4gIGxldCBwcm9ncmVzcyA9IG1pbihtc19zaW5jZV9zdGFydCAvIHRpbWUsIDEpO1xuICBjYW1lcmEyZC5zZXROb3JtYWxpemVkKCk7XG5cbiAgdHJhbnNpdGlvbl9waXhlbGF0ZV90ZXh0dXJlc1swXSA9IHRleDtcbiAgaWYgKHByb2dyZXNzID4gMC41KSB7XG4gICAgZWZmZWN0c1F1ZXVlKHosIHRyYW5zaXRpb25QaXhlbGF0ZUNhcHR1cmUpOyAvLyBtb2RpZmllcyB0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmVzW11cbiAgfVxuXG4gIGxldCBwYXJ0aWFsX3Byb2dyZXNzID0gKHByb2dyZXNzID4gMC41ID8gMSAtIHByb2dyZXNzIDogcHJvZ3Jlc3MpICogMjtcbiAgLy8gVXNlIHBvd2VyIG9mIHR3byBzY2FsaW5ncywgYnV0IHRoZW4gc2NhbGUgcmVsYXRpdmUgdG8gYSAxMDI0cHggdmlydHVhbCBzY3JlZW4sIHNvIHRoZSBiaWdnZXN0XG4gIC8vICBwaXhlbCBpcyBhYm91dCB0aGUgc2FtZSBwZXJjZW50YWdlIG9mIHRoZSBzY3JlZW4gcmVnYXJkbGVzcyBvZiByZXNvbHV0aW9uLlxuICBsZXQgcGl4ZWxfc2NhbGUgPSBwb3coMiwgZmxvb3IocGFydGlhbF9wcm9ncmVzcyAqIDguOSkpIC8gMTAyNCAqIGdkX3dpZHRoICogcmVuZGVyX3NjYWxlO1xuXG4gIGxldCBwYXJhbTAgPSB2ZWM0KHRleC53aWR0aCAvIHBpeGVsX3NjYWxlLCB0ZXguaGVpZ2h0IC8gcGl4ZWxfc2NhbGUsXG4gICAgcGl4ZWxfc2NhbGUgLyB0ZXgud2lkdGgsIHBpeGVsX3NjYWxlIC8gdGV4LmhlaWdodCk7XG4gIGxldCBwYXJhbTEgPSB2ZWM0KDAuNSAvIHRleC53aWR0aCwgMC41IC8gdGV4LmhlaWdodCxcbiAgICAodGV4LnRleFNpemVYIC0gMSkgLyB0ZXgud2lkdGgsICh0ZXgudGV4U2l6ZVkgLSAxKSAvIHRleC5oZWlnaHQpO1xuXG5cbiAgc3ByaXRlcy5xdWV1ZXJhdyh0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmVzLCAwLCAwLCB6ICsgMSwgMSwgMSxcbiAgICAwLCAxLCAxLCAwLFxuICAgIHVuaXRfdmVjLCBnZXRTaGFkZXIoJ3RyYW5zaXRpb25fcGl4ZWxhdGUnKSwge1xuICAgICAgcGFyYW0wLFxuICAgICAgcGFyYW0xLFxuICAgIH0pO1xuXG4gIGlmIChmb3JjZV9lbmQgfHwgcHJvZ3Jlc3MgPT09IDEpIHtcbiAgICByZXR1cm4gUkVNT1ZFO1xuICB9XG4gIHJldHVybiBDT05USU5VRTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZhZGUoZmFkZV90aW1lKSB7XG4gIHJldHVybiBnbG92VHJhbnNpdGlvbkZhZGVGdW5jLmJpbmQobnVsbCwgZmFkZV90aW1lKTtcbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIHdpcGUod2lwZV90aW1lLCB3aXBlX2FuZ2xlKSB7XG4vLyAgIHJldHVybiBnbG92VHJhbnNpdGlvbldpcGVGdW5jLmJpbmQobnVsbCwgd2lwZV90aW1lLCB3aXBlX2FuZ2xlKTtcbi8vIH1cblxuLy8gYm9yZGVyX3dpZHRoIGluIGNhbWVyYS1yZWxhdGl2ZSBzaXplXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRTY3JlZW4odGltZSwgYm9yZGVyX3dpZHRoLCBzbGlkZV93aW5kb3cpIHtcbiAgYm9yZGVyX3dpZHRoIC89IGNhbWVyYTJkLncoKTsgLy8gY29udmVydCB0byBub3JtYWxpemVkIHVuaXRzXG4gIHJldHVybiBnbG92VHJhbnNpdGlvblNwbGl0U2NyZWVuRnVuYy5iaW5kKG51bGwsIHRpbWUsIGJvcmRlcl93aWR0aCwgc2xpZGVfd2luZG93KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBpeGVsYXRlKGZhZGVfdGltZSkge1xuICByZXR1cm4gZ2xvdlRyYW5zaXRpb25QaXhlbGF0ZUZ1bmMuYmluZChudWxsLCBmYWRlX3RpbWUpO1xufVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gbG9nb1pvb20odGltZSwgbG9nbykge1xuLy8gICByZXR1cm4gZ2xvdlRyYW5zaXRpb25Mb2dvWm9vbUZ1bmMuYmluZChudWxsLCB0aW1lLCBsb2dvKTtcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVRyYW5zaXRpb24oZmFkZV90aW1lX3NjYWxlKSB7XG4gIGZhZGVfdGltZV9zY2FsZSA9IGZhZGVfdGltZV9zY2FsZSB8fCAxO1xuICBsZXQgaWR4ID0gZmxvb3IocmFuZG9tKCkgKiAzKTtcbiAgc3dpdGNoIChpZHgpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4gZmFkZSg1MDAgKiBmYWRlX3RpbWVfc2NhbGUpO1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiBzcGxpdFNjcmVlbigyNTAgKiBmYWRlX3RpbWVfc2NhbGUsIDIsIGZhbHNlKTtcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gcGl4ZWxhdGUoNzUwICogZmFkZV90aW1lX3NjYWxlKTtcbiAgICAvLyBjYXNlIDM6XG4gICAgLy8gICByZXR1cm4gd2lwZSgyNTAgKiBmYWRlX3RpbWVfc2NhbGUsIHJhbmRvbSgpICogMiAqIFBJKTtcbiAgICAvLyBjYXNlIDQ6XG4gICAgLy8gICBpZiAoIWxvZ28pIHtcbiAgICAvLyAgICAgR2xvdlRleHR1cmVMb2FkT3B0aW9ucyBvcHRpb25zO1xuICAgIC8vICAgICBvcHRpb25zLmNsYW1wX3MgPSBvcHRpb25zLmNsYW1wX3QgPSB0cnVlO1xuICAgIC8vICAgICBsb2dvID0gR2xvdlRleHR1cmVzOjpsb2FkdGV4KFwiZGF0YS9TYW1wbGVMb2dvVHJhbnNpdGlvbi5wbmdcIiwgJm9wdGlvbnMpO1xuICAgIC8vICAgfVxuICAgIC8vICAgZ2xvdlRyYW5zaXRpb25RdWV1ZShaX1RSQU5TSVRJT05fRklOQUwsIGdsb3ZUcmFuc2l0aW9uTG9nb1pvb20oNTAwLCBsb2dvKSk7XG4gICAgLy8gICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXNzZXJ0KDApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby11bmRlcnNjb3JlLWRhbmdsZTpvZmYgKi9cblxud2luZG93LlogPSB3aW5kb3cuWiB8fCB7fTtcblouQk9SREVSUyA9IFouQk9SREVSUyB8fCA5MDtcblouVUkgPSBaLlVJIHx8IDEwMDtcblouTU9EQUwgPSBaLk1PREFMIHx8IDEwMDA7XG5aLlRPT0xUSVAgPSBaLlRPT0xUSVAgfHwgMjAwMDtcblouREVCVUcgPSBaLkRFQlVHIHx8IDk4MDA7XG5cbi8vIHZlcnkgaGlnaCwgYnV0IGNhbiBzdGlsbCBhZGQgaW50ZWdlcnNcblouVFJBTlNJVElPTl9GSU5BTCA9IFouVFJBTlNJVElPTl9GSU5BTCB8fCA5OTAwO1xuLy8gaG93IG11Y2ggWiByYW5nZSBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIHRyYW5zaXRpb25zIC0gdGhlIGNhcHR1cmUgaGFwcGVucyBhdCB6ICsgWl9UUkFOU0lUSU9OX1JBTkdFXG5aLlRSQU5TSVRJT05fUkFOR0UgPSBaLlRSQU5TSVRJT05fUkFOR0UgfHwgMTA7XG5cblouRlBTTUVURVIgPSBaLkZQU01FVEVSIHx8IDEwMDAwO1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgZ2xvdl9lZGl0X2JveCA9IHJlcXVpcmUoJy4vZWRpdF9ib3guanMnKTtcbmNvbnN0IGVmZmVjdHMgPSByZXF1aXJlKCcuL2VmZmVjdHMuanMnKTtcbmNvbnN0IHsgZWZmZWN0c1F1ZXVlIH0gPSBlZmZlY3RzO1xuY29uc3QgZ2xvdl9lbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgZ2xvdl9mb250ID0gcmVxdWlyZSgnLi9mb250LmpzJyk7XG5jb25zdCBnbG92X2lucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgeyBsaW5rVGljayB9ID0gcmVxdWlyZSgnLi9saW5rLmpzJyk7XG5jb25zdCB7IGFicywgbWF4LCBtaW4sIHJvdW5kLCBzcXJ0IH0gPSBNYXRoO1xuY29uc3QgeyBzb3VuZExvYWQsIHNvdW5kUGxheSB9ID0gcmVxdWlyZSgnLi9zb3VuZC5qcycpO1xuY29uc3QgZ2xvdl9zcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgY2xhbXAsIGNsb25lLCBsZXJwLCBtZXJnZSB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgbWF0NDMsIG00M2lkZW50aXR5LCBtNDNtdWwgfSA9IHJlcXVpcmUoJy4vbWF0NDMuanMnKTtcbmNvbnN0IHsgdmVjMiwgdmVjNCwgdjRzY2FsZSwgdW5pdF92ZWMgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgTU9EQUxfREFSS0VOID0gMC43NTtcbmxldCBLRVlTO1xubGV0IFBBRDtcblxuY29uc3QgbWVudV9mYWRlX3BhcmFtc19kZWZhdWx0ID0ge1xuICBibHVyOiBbMC4xMjUsIDAuODY1XSxcbiAgc2F0dXJhdGlvbjogWzAuNSwgMC4xXSxcbiAgYnJpZ2h0bmVzczogWzEsIDEgLSBNT0RBTF9EQVJLRU5dLFxuICBmYWxsYmFja19kYXJrZW46IHZlYzQoMCwgMCwgMCwgTU9EQUxfREFSS0VOKSxcbiAgejogWi5NT0RBTCxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c2xvZyguLi5hcmdzKSB7XG4gIC8vIGNvbnNvbGUubG9nKGBmb2N1c2xvZygke2dsb3ZfZW5naW5lLmZyYW1lX2luZGV4fSk6IGAsIC4uLmFyZ3MpO1xufVxuXG5sZXQgY29sb3Jfc2V0X3NoYWRlcyA9IHZlYzQoMSwgMC44LCAwLjcsIDAuNCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ29sb3JTZXQoY29sb3IpIHtcbiAgbGV0IHJldCA9IHtcbiAgICByZWd1bGFyOiB2ZWM0KCksXG4gICAgcm9sbG92ZXI6IHZlYzQoKSxcbiAgICBkb3duOiB2ZWM0KCksXG4gICAgZGlzYWJsZWQ6IHZlYzQoKSxcbiAgfTtcbiAgdjRzY2FsZShyZXQucmVndWxhciwgY29sb3IsIGNvbG9yX3NldF9zaGFkZXNbMF0pO1xuICB2NHNjYWxlKHJldC5yb2xsb3ZlciwgY29sb3IsIGNvbG9yX3NldF9zaGFkZXNbMV0pO1xuICB2NHNjYWxlKHJldC5kb3duLCBjb2xvciwgY29sb3Jfc2V0X3NoYWRlc1syXSk7XG4gIHY0c2NhbGUocmV0LmRpc2FibGVkLCBjb2xvciwgY29sb3Jfc2V0X3NoYWRlc1szXSk7XG4gIGZvciAobGV0IGZpZWxkIGluIHJldCkge1xuICAgIHJldFtmaWVsZF1bM10gPSBjb2xvclszXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5sZXQgaG9va3MgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBhZGRIb29rKGRyYXcsIGNsaWNrKSB7XG4gIGhvb2tzLnB1c2goe1xuICAgIGRyYXcsXG4gICAgY2xpY2ssXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkb0JsdXJFZmZlY3QoZmFjdG9yKSB7XG4gIGVmZmVjdHMuYXBwbHlHYXVzc2lhbkJsdXIoe1xuICAgIGJsdXI6IGZhY3RvcixcbiAgICAvLyBtaW5fc2l6ZTogMTI4LFxuICB9KTtcbn1cblxubGV0IGRlc2F0dXJhdGVfeGZvcm0gPSBtYXQ0MygpO1xubGV0IGRlc2F0dXJhdGVfdG1wID0gbWF0NDMoKTtcbmZ1bmN0aW9uIGRvRGVzYXR1cmF0ZUVmZmVjdChzYXR1cmF0aW9uLCBicmlnaHRuZXNzKSB7XG4gIG00M2lkZW50aXR5KGRlc2F0dXJhdGVfeGZvcm0pO1xuXG4gIGVmZmVjdHMuc2F0dXJhdGlvbk1hdHJpeChkZXNhdHVyYXRlX3RtcCwgc2F0dXJhdGlvbik7XG4gIG00M211bChkZXNhdHVyYXRlX3hmb3JtLCBkZXNhdHVyYXRlX3hmb3JtLCBkZXNhdHVyYXRlX3RtcCk7XG5cbiAgZWZmZWN0cy5icmlnaHRuZXNzU2NhbGVNYXRyaXgoZGVzYXR1cmF0ZV90bXAsIGJyaWdodG5lc3MpO1xuICBtNDNtdWwoZGVzYXR1cmF0ZV94Zm9ybSwgZGVzYXR1cmF0ZV94Zm9ybSwgZGVzYXR1cmF0ZV90bXApO1xuXG4gIC8vIGlmICgoaHVlICUgKE1hdGguUEkgKiAyKSkgIT09IDApIHtcbiAgLy8gICBlZmZlY3RzLmh1ZU1hdHJpeCh0bXAsIGh1ZSk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAoY29udHJhc3QgIT09IDEpIHtcbiAgLy8gICBlZmZlY3RzLmNvbnRyYXN0TWF0cml4KHRtcCwgY29udHJhc3QpO1xuICAvLyAgIG00M211bCh4Zm9ybSwgeGZvcm0sIHRtcCk7XG4gIC8vIH1cbiAgLy8gaWYgKGJyaWdodG5lc3MgIT09IDApIHtcbiAgLy8gICBlZmZlY3RzLmJyaWdodG5lc3NNYXRyaXgodG1wLCBicmlnaHRuZXNzKTtcbiAgLy8gICBtNDNtdWwoeGZvcm0sIHhmb3JtLCB0bXApO1xuICAvLyB9XG4gIC8vIGlmIChhZGRpdGl2ZVJHQlswXSAhPT0gMCB8fCBhZGRpdGl2ZVJHQlsxXSAhPT0gMCB8fCBhZGRpdGl2ZVJHQlsyXSAhPT0gMCkge1xuICAvLyAgIGVmZmVjdHMuYWRkaXRpdmVNYXRyaXgodG1wLCBhZGRpdGl2ZVJHQik7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAoZ3JheXNjYWxlKSB7XG4gIC8vICAgZWZmZWN0cy5ncmF5U2NhbGVNYXRyaXgodG1wKTtcbiAgLy8gICBtNDNtdWwoeGZvcm0sIHhmb3JtLCB0bXApO1xuICAvLyB9XG4gIC8vIGlmIChuZWdhdGl2ZSkge1xuICAvLyAgIGVmZmVjdHMubmVnYXRpdmVNYXRyaXgodG1wKTtcbiAgLy8gICBtNDNtdWwoeGZvcm0sIHhmb3JtLCB0bXApO1xuICAvLyB9XG4gIC8vIGlmIChzZXBpYSkge1xuICAvLyAgIGVmZmVjdHMuc2VwaWFNYXRyaXgodG1wKTtcbiAgLy8gICBtNDNtdWwoeGZvcm0sIHhmb3JtLCB0bXApO1xuICAvLyB9XG4gIGVmZmVjdHMuYXBwbHlDb2xvck1hdHJpeCh7XG4gICAgY29sb3JNYXRyaXg6IGRlc2F0dXJhdGVfeGZvcm0sXG4gIH0pO1xufVxuXG4vLyBvdmVycmlkZWFibGUgZGVmYXVsdCBwYXJhbWV0ZXJzXG5leHBvcnQgbGV0IGJ1dHRvbl9oZWlnaHQgPSAzMjtcbmV4cG9ydCBsZXQgZm9udF9oZWlnaHQgPSAyNDtcbmV4cG9ydCBsZXQgYnV0dG9uX3dpZHRoID0gMjAwO1xuZXhwb3J0IGxldCBtb2RhbF9idXR0b25fd2lkdGggPSAxMDA7XG5leHBvcnQgbGV0IGJ1dHRvbl9pbWdfc2l6ZSA9IGJ1dHRvbl9oZWlnaHQ7XG5leHBvcnQgbGV0IG1vZGFsX3dpZHRoID0gNjAwO1xuZXhwb3J0IGxldCBtb2RhbF95MCA9IDIwMDtcbmV4cG9ydCBsZXQgbW9kYWxfdGl0bGVfc2NhbGUgPSAxLjI7XG5leHBvcnQgbGV0IG1vZGFsX3BhZCA9IDE2O1xuZXhwb3J0IGxldCBwYW5lbF9waXhlbF9zY2FsZSA9IDMyIC8gMTM7IC8vIGJ1dHRvbl9oZWlnaHQgLyBidXR0b24gcGl4ZWwgcmVzb2x1dGlvblxuZXhwb3J0IGxldCB0b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlID0gcGFuZWxfcGl4ZWxfc2NhbGU7XG5leHBvcnQgbGV0IHRvb2x0aXBfd2lkdGggPSA0MDA7XG5leHBvcnQgbGV0IHRvb2x0aXBfcGFkID0gODtcblxuZXhwb3J0IGxldCBmb250X3N0eWxlX2ZvY3VzZWQgPSBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICBjb2xvcjogMHgwMDAwMDBmZixcbiAgb3V0bGluZV93aWR0aDogMixcbiAgb3V0bGluZV9jb2xvcjogMHhGRkZGRkZmZixcbn0pO1xuZXhwb3J0IGxldCBmb250X3N0eWxlX25vcm1hbCA9IGdsb3ZfZm9udC5zdHlsZUNvbG9yZWQobnVsbCwgMHgwMDAwMDBmZik7XG5cbmV4cG9ydCBsZXQgZm9udDtcbmV4cG9ydCBsZXQgdGl0bGVfZm9udDtcbmV4cG9ydCBsZXQgc3ByaXRlcyA9IHt9O1xuXG5leHBvcnQgbGV0IGNvbG9yX2J1dHRvbiA9IG1ha2VDb2xvclNldChbMSwxLDEsMV0pO1xuZXhwb3J0IGxldCBjb2xvcl9wYW5lbCA9IHZlYzQoMSwgMSwgMC43NSwgMSk7XG5leHBvcnQgbGV0IG1vZGFsX2ZvbnRfc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGVDb2xvcmVkKG51bGwsIDB4MDAwMDAwZmYpO1xuXG5sZXQgc291bmRzID0ge307XG5leHBvcnQgbGV0IGJ1dHRvbl9tb3VzZW92ZXIgPSBmYWxzZTsgLy8gZm9yIGNhbGxlcnMgdG8gcG9sbCB0aGUgdmVyeSBsYXN0IGJ1dHRvblxuZXhwb3J0IGxldCBidXR0b25fZm9jdXNlZCA9IGZhbHNlOyAvLyBmb3IgY2FsbGVycyB0byBwb2xsIHRoZSB2ZXJ5IGxhc3QgYnV0dG9uXG5leHBvcnQgbGV0IGJ1dHRvbl9jbGljayA9IG51bGw7IC8vIG9uIGNsaWNrLCBmb3IgY2FsbGVycyB0byBwb2xsIHdoaWNoIG1vdXNlIGJ1dHRvbiwgZXRjXG5leHBvcnQgbGV0IHRvdWNoX2NoYW5nZWRfZm9jdXMgPSBmYWxzZTsgLy8gZGlkIGEgdG91Y2ggZXZlbiB0aGlzIGZyYW1lIGNoYW5nZSBmb2N1cz9cbi8vIEZvciB0cmFja2luZyBnbG9iYWwgbW91c2VvdmVyIHN0YXRlXG5sZXQgbGFzdF9mcmFtZV9idXR0b25fbW91c2VvdmVyID0gZmFsc2U7XG5sZXQgZnJhbWVfYnV0dG9uX21vdXNlb3ZlciA9IGZhbHNlO1xuXG5sZXQgbW9kYWxfZGlhbG9nID0gbnVsbDtcbmxldCBtb2RhbF9zdGVhbGluZ19mb2N1cyA9IGZhbHNlO1xuZXhwb3J0IGxldCBtZW51X3VwID0gZmFsc2U7IC8vIEJvb2xlYW4gdG8gYmUgc2V0IGJ5IGFwcCB0byBpbXBhY3QgYmVoYXZpb3IsIHNpbWlsYXIgdG8gYSBtb2RhbFxubGV0IG1lbnVfZmFkZV9wYXJhbXMgPSBtZXJnZSh7fSwgbWVudV9mYWRlX3BhcmFtc19kZWZhdWx0KTtcbmxldCBtZW51X3VwX3RpbWUgPSAwO1xuXG5leHBvcnRzLnRoaXNfZnJhbWVfZWRpdF9ib3hlcyA9IFtdO1xubGV0IGxhc3RfZnJhbWVfZWRpdF9ib3hlcyA9IFtdO1xubGV0IGRvbV9lbGVtcyA9IFtdO1xubGV0IGRvbV9lbGVtc19pc3N1ZWQgPSAwO1xuXG4vLyBmb3IgbW9kYWwgZGlhbG9nc1xubGV0IGJ1dHRvbl9rZXlzO1xuXG5sZXQgZm9jdXNlZF9sYXN0X2ZyYW1lO1xubGV0IGZvY3VzZWRfdGhpc19mcmFtZTtcbmxldCBmb2N1c2VkX2tleV9ub3Q7XG5sZXQgZm9jdXNlZF9rZXk7XG5sZXQgZm9jdXNlZF9rZXlfcHJldjE7XG5sZXQgZm9jdXNlZF9rZXlfcHJldjI7XG5cbmxldCBwYWRfZm9jdXNfbGVmdDtcbmxldCBwYWRfZm9jdXNfcmlnaHQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xvclNldFNldFNoYWRlcyhyb2xsb3ZlciwgZG93biwgZGlzYWJsZWQpIHtcbiAgY29sb3Jfc2V0X3NoYWRlc1sxXSA9IHJvbGxvdmVyO1xuICBjb2xvcl9zZXRfc2hhZGVzWzJdID0gZG93bjtcbiAgY29sb3Jfc2V0X3NoYWRlc1szXSA9IGRpc2FibGVkO1xuICBjb2xvcl9idXR0b24gPSBtYWtlQ29sb3JTZXQoWzEsMSwxLDFdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVSVNwcml0ZShuYW1lLCB3cywgaHMsIG92ZXJyaWRlcywgb25seV9vdmVycmlkZSkge1xuICBsZXQgb3ZlcnJpZGUgPSBvdmVycmlkZXMgJiYgb3ZlcnJpZGVzW25hbWVdO1xuICBpZiAob3ZlcnJpZGUgPT09IG51bGwpIHtcbiAgICAvLyBza2lwIGl0LCBhc3N1bWUgbm90IHVzZWRcbiAgfSBlbHNlIGlmIChvdmVycmlkZSkge1xuICAgIHNwcml0ZXNbbmFtZV0gPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHtcbiAgICAgIG5hbWU6IG92ZXJyaWRlWzBdLFxuICAgICAgd3M6IG92ZXJyaWRlWzFdLFxuICAgICAgaHM6IG92ZXJyaWRlWzJdLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCFvbmx5X292ZXJyaWRlKSB7XG4gICAgc3ByaXRlc1tuYW1lXSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgICAgbmFtZTogYHVpLyR7bmFtZX1gLFxuICAgICAgd3MsXG4gICAgICBocyxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cChwYXJhbSkge1xuICBmb250ID0gcGFyYW0uZm9udDtcbiAgdGl0bGVfZm9udCA9IHBhcmFtLnRpdGxlX2ZvbnQgfHwgZm9udDtcbiAgbGV0IG92ZXJyaWRlcyA9IHBhcmFtLnVpX3Nwcml0ZXM7XG4gIEtFWVMgPSBnbG92X2lucHV0LktFWVM7XG4gIFBBRCA9IGdsb3ZfaW5wdXQuUEFEO1xuICBpZiAocGFyYW0ucGFkX2ZvY3VzX2RwYWQpIHtcbiAgICBwYWRfZm9jdXNfbGVmdCA9IFBBRC5MRUZUO1xuICAgIHBhZF9mb2N1c19yaWdodCA9IFBBRC5SSUdIVDtcbiAgfSBlbHNlIHtcbiAgICBwYWRfZm9jdXNfbGVmdCA9IFBBRC5MRUZUX0JVTVBFUjtcbiAgICBwYWRfZm9jdXNfcmlnaHQgPSBQQUQuUklHSFRfQlVNUEVSO1xuICB9XG5cbiAgbG9hZFVJU3ByaXRlKCdidXR0b24nLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIHNwcml0ZXMuYnV0dG9uX3JlZ3VsYXIgPSBzcHJpdGVzLmJ1dHRvbjtcbiAgbG9hZFVJU3ByaXRlKCdidXR0b25fcm9sbG92ZXInLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcywgdHJ1ZSk7XG4gIGxvYWRVSVNwcml0ZSgnYnV0dG9uX2Rvd24nLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnYnV0dG9uX2Rpc2FibGVkJywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3BhbmVsJywgWzMsIDIsIDNdLCBbMywgMTAsIDNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ21lbnVfZW50cnknLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnbWVudV9zZWxlY3RlZCcsIFs0LCA1LCA0XSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdtZW51X2Rvd24nLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnbWVudV9oZWFkZXInLCBbNCwgNSwgMTJdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3NsaWRlcicsIFs2LCAyLCA2XSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgLy8gbG9hZFVJU3ByaXRlKCdzbGlkZXJfbm90Y2gnLCBbM10sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2xpZGVyX2hhbmRsZScsIFs5XSwgWzEzXSwgb3ZlcnJpZGVzKTtcblxuICBsb2FkVUlTcHJpdGUoJ3Njcm9sbGJhcl9ib3R0b20nLCBbMTFdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3Njcm9sbGJhcl90cm91Z2gnLCBbMTFdLCBbOF0sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2Nyb2xsYmFyX3RvcCcsIFsxMV0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2Nyb2xsYmFyX2hhbmRsZV9ncmFiYmVyJywgWzExXSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdzY3JvbGxiYXJfaGFuZGxlJywgWzExXSwgWzMsIDcsIDNdLCBvdmVycmlkZXMpO1xuXG4gIHNwcml0ZXMud2hpdGUgPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHsgdXJsOiAnd2hpdGUnIH0pO1xuXG4gIGJ1dHRvbl9rZXlzID0ge1xuICAgIG9rOiB7IGtleTogW0tFWVMuT10sIHBhZDogW1BBRC5YXSwgbG93X2tleTogW0tFWVMuRVNDXSB9LFxuICAgIGNhbmNlbDogeyBrZXk6IFtLRVlTLkVTQ10sIHBhZDogW1BBRC5CLCBQQUQuWV0gfSxcbiAgfTtcbiAgYnV0dG9uX2tleXMueWVzID0gY2xvbmUoYnV0dG9uX2tleXMub2spO1xuICBidXR0b25fa2V5cy55ZXMua2V5LnB1c2goS0VZUy5ZKTtcbiAgYnV0dG9uX2tleXMubm8gPSBjbG9uZShidXR0b25fa2V5cy5jYW5jZWwpO1xuICBidXR0b25fa2V5cy5uby5rZXkucHVzaChLRVlTLk4pO1xufVxuXG5sZXQgZHluYW1pY190ZXh0X2VsZW07XG5sZXQgcGVyX2ZyYW1lX2RvbV9hbGxvYyA9IFswLDAsMCwwLDAsMCwwXTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtKGFsbG93X21vZGFsLCBsYXN0X2VsZW0pIHtcbiAgaWYgKG1vZGFsX2RpYWxvZyAmJiAhYWxsb3dfbW9kYWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoZG9tX2VsZW1zX2lzc3VlZCA+PSBkb21fZWxlbXMubGVuZ3RoIHx8ICFsYXN0X2VsZW0pIHtcbiAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGlmIChnbG92X2VuZ2luZS5ERUJVRyAmJiAhZ2xvdl9lbmdpbmUucmVzaXppbmcoKSkge1xuICAgICAgcGVyX2ZyYW1lX2RvbV9hbGxvY1tnbG92X2VuZ2luZS5mcmFtZV9pbmRleCAlIHBlcl9mcmFtZV9kb21fYWxsb2MubGVuZ3RoXSA9IDE7XG4gICAgICBsZXQgc3VtID0gMDtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwZXJfZnJhbWVfZG9tX2FsbG9jLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBzdW0gKz0gcGVyX2ZyYW1lX2RvbV9hbGxvY1tpaV07XG4gICAgICB9XG4gICAgICBhc3NlcnQoc3VtIDwgcGVyX2ZyYW1lX2RvbV9hbGxvYy5sZW5ndGgpO1xuICAgIH1cbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZ2xvdnVpX2R5bmFtaWMnKTtcbiAgICBpZiAoIWR5bmFtaWNfdGV4dF9lbGVtKSB7XG4gICAgICBkeW5hbWljX3RleHRfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljX3RleHQnKTtcbiAgICB9XG4gICAgZHluYW1pY190ZXh0X2VsZW0uYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgZG9tX2VsZW1zLnB1c2goZWxlbSk7XG4gICAgbGFzdF9lbGVtID0gZWxlbTtcbiAgfVxuICBpZiAoZG9tX2VsZW1zW2RvbV9lbGVtc19pc3N1ZWRdICE9PSBsYXN0X2VsZW0pIHtcbiAgICBmb3IgKGxldCBpaSA9IGRvbV9lbGVtc19pc3N1ZWQgKyAxOyBpaSA8IGRvbV9lbGVtcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGlmIChkb21fZWxlbXNbaWldID09PSBsYXN0X2VsZW0pIHtcbiAgICAgICAgZG9tX2VsZW1zW2lpXSA9IGRvbV9lbGVtc1tkb21fZWxlbXNfaXNzdWVkXTtcbiAgICAgICAgZG9tX2VsZW1zW2RvbV9lbGVtc19pc3N1ZWRdID0gbGFzdF9lbGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgZWxlbSA9IGRvbV9lbGVtc1tkb21fZWxlbXNfaXNzdWVkXTtcbiAgZG9tX2VsZW1zX2lzc3VlZCsrO1xuICByZXR1cm4gZWxlbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRTb3VuZHMoX3NvdW5kcykge1xuICBzb3VuZHMgPSBfc291bmRzO1xuICBmb3IgKGxldCBrZXkgaW4gc291bmRzKSB7XG4gICAgc291bmRMb2FkKHNvdW5kc1trZXldKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0hCb3goY29vcmRzLCBzLCBjb2xvcikge1xuICBsZXQgdWlkYXRhID0gcy51aWRhdGE7XG4gIGxldCB3cyA9IFt1aWRhdGEud2hbMF0gKiBjb29yZHMuaCwgMCwgdWlkYXRhLndoWzJdICogY29vcmRzLmhdO1xuICBsZXQgeCA9IGNvb3Jkcy54O1xuICB3c1sxXSA9IG1heCgwLCBjb29yZHMudyAtIHdzWzBdIC0gd3NbMl0pO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG15X3cgPSB3c1tpaV07XG4gICAgcy5kcmF3KHtcbiAgICAgIHgsXG4gICAgICB5OiBjb29yZHMueSxcbiAgICAgIHo6IGNvb3Jkcy56LFxuICAgICAgY29sb3IsXG4gICAgICB3OiBteV93LFxuICAgICAgaDogY29vcmRzLmgsXG4gICAgICB1dnM6IHVpZGF0YS5yZWN0c1tpaV0sXG4gICAgICAvLyBub3pvb206IHRydWUsIC8vIG5vem9vbSBzaW5jZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGJveCBnZXQgem9vbWVkIGRpZmZlcmVudGx5XG4gICAgfSk7XG4gICAgeCArPSBteV93O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3VkJveChjb29yZHMsIHMsIGNvbG9yKSB7XG4gIGxldCB1aWRhdGEgPSBzLnVpZGF0YTtcbiAgbGV0IGhzID0gW3VpZGF0YS5od1swXSAqIGNvb3Jkcy53LCAwLCB1aWRhdGEuaHdbMl0gKiBjb29yZHMud107XG4gIGxldCB5ID0gY29vcmRzLnk7XG4gIGhzWzFdID0gbWF4KDAsIGNvb3Jkcy5oIC0gaHNbMF0gLSBoc1syXSk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBocy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgbXlfaCA9IGhzW2lpXTtcbiAgICBzLmRyYXcoe1xuICAgICAgeDogY29vcmRzLngsXG4gICAgICB5LFxuICAgICAgejogY29vcmRzLnosXG4gICAgICBjb2xvcixcbiAgICAgIHc6IGNvb3Jkcy53LFxuICAgICAgaDogbXlfaCxcbiAgICAgIHV2czogdWlkYXRhLnJlY3RzW2lpXSxcbiAgICAgIC8vIG5vem9vbTogdHJ1ZSwgLy8gbm96b29tIHNpbmNlIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgYm94IGdldCB6b29tZWQgZGlmZmVyZW50bHlcbiAgICB9KTtcbiAgICB5ICs9IG15X2g7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdCb3goY29vcmRzLCBzLCBwaXhlbF9zY2FsZSwgY29sb3IpIHtcbiAgbGV0IHVpZGF0YSA9IHMudWlkYXRhO1xuICBsZXQgc2NhbGUgPSBwaXhlbF9zY2FsZTtcbiAgbGV0IHdzID0gW3VpZGF0YS53aWR0aHNbMF0gKiBzY2FsZSwgMCwgdWlkYXRhLndpZHRoc1syXSAqIHNjYWxlXTtcbiAgd3NbMV0gPSBtYXgoMCwgY29vcmRzLncgLSB3c1swXSAtIHdzWzJdKTtcbiAgbGV0IGhzID0gW3VpZGF0YS5oZWlnaHRzWzBdICogc2NhbGUsIDAsIHVpZGF0YS5oZWlnaHRzWzJdICogc2NhbGVdO1xuICBoc1sxXSA9IG1heCgwLCBjb29yZHMuaCAtIGhzWzBdIC0gaHNbMl0pO1xuICBsZXQgeCA9IGNvb3Jkcy54O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG15X3cgPSB3c1tpaV07XG4gICAgaWYgKG15X3cpIHtcbiAgICAgIGxldCB5ID0gY29vcmRzLnk7XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgaHMubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgIGxldCBteV9oID0gaHNbampdO1xuICAgICAgICBpZiAobXlfaCkge1xuICAgICAgICAgIHMuZHJhdyh7XG4gICAgICAgICAgICB4LCB5LCB6OiBjb29yZHMueixcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgdzogbXlfdyxcbiAgICAgICAgICAgIGg6IG15X2gsXG4gICAgICAgICAgICB1dnM6IHVpZGF0YS5yZWN0c1tqaiAqIDMgKyBpaV0sXG4gICAgICAgICAgICBub3pvb206IHRydWUsIC8vIG5vem9vbSBzaW5jZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGJveCBnZXQgem9vbWVkIGRpZmZlcmVudGx5XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgeSArPSBteV9oO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB4ICs9IG15X3c7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5VUlTb3VuZChuYW1lLCB2b2x1bWUpIHtcbiAgaWYgKG5hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgbmFtZSA9ICdidXR0b25fY2xpY2snO1xuICB9XG4gIGlmIChzb3VuZHNbbmFtZV0pIHtcbiAgICBzb3VuZFBsYXkoc291bmRzW25hbWVdLCB2b2x1bWUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNb3VzZU92ZXIoa2V5LCBxdWlldCkge1xuICBpZiAobGFzdF9mcmFtZV9idXR0b25fbW91c2VvdmVyICE9PSBrZXkgJiYgZnJhbWVfYnV0dG9uX21vdXNlb3ZlciAhPT0ga2V5ICYmICFxdWlldCkge1xuICAgIHBsYXlVSVNvdW5kKCdyb2xsb3ZlcicpO1xuICB9XG4gIGZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgPSBrZXk7XG4gIGJ1dHRvbl9tb3VzZW92ZXIgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNTdGVhbChrZXkpIHtcbiAgaWYgKGtleSAhPT0gZm9jdXNlZF9rZXkpIHtcbiAgICBmb2N1c2xvZygnZm9jdXNTdGVhbCAnLCBrZXkpO1xuICB9XG4gIGZvY3VzZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gIGZvY3VzZWRfa2V5ID0ga2V5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNDYW52YXMoKSB7XG4gIGZvY3VzU3RlYWwoJ2NhbnZhcycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGb2N1c2VkUGVlayhrZXkpIHtcbiAgcmV0dXJuIGZvY3VzZWRfa2V5ID09PSBrZXk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGb2N1c2VkKGtleSkge1xuICBpZiAoa2V5ICE9PSBmb2N1c2VkX2tleV9wcmV2Mikge1xuICAgIGZvY3VzZWRfa2V5X3ByZXYxID0gZm9jdXNlZF9rZXlfcHJldjI7XG4gICAgZm9jdXNlZF9rZXlfcHJldjIgPSBrZXk7XG4gIH1cbiAgaWYgKGtleSA9PT0gZm9jdXNlZF9rZXkgfHwga2V5ICE9PSBmb2N1c2VkX2tleV9ub3QgJiYgIWZvY3VzZWRfdGhpc19mcmFtZSAmJlxuICAgICFmb2N1c2VkX2xhc3RfZnJhbWVcbiAgKSB7XG4gICAgaWYgKGtleSAhPT0gZm9jdXNlZF9rZXkpIHtcbiAgICAgIGZvY3VzbG9nKCdpc0ZvY3VzZWQtPmZvY3VzU3RlYWwnKTtcbiAgICB9XG4gICAgZm9jdXNTdGVhbChrZXkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzTmV4dChrZXkpIHtcbiAgZm9jdXNsb2coJ2ZvY3VzTmV4dCAnLCBrZXkpO1xuICBwbGF5VUlTb3VuZCgncm9sbG92ZXInKTtcbiAgZm9jdXNlZF9rZXkgPSBudWxsO1xuICBmb2N1c2VkX2xhc3RfZnJhbWUgPSBmb2N1c2VkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgZm9jdXNlZF9rZXlfbm90ID0ga2V5O1xuICAvLyBFYXQgaW5wdXQgZXZlbnRzIHNvIGEgcGFpciBvZiBrZXlzIChlLmcuIFNETEtfRE9XTiBhbmQgU0RMS19DT05UUk9MTEVSX0RPV04pXG4gIC8vIGRvbid0IGdldCBjb25zdW1lZCBieSB0d28gc2VwYXJhdGUgd2lkZ2V0c1xuICBnbG92X2lucHV0LmVhdEFsbElucHV0KHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNQcmV2KGtleSkge1xuICBmb2N1c2xvZygnZm9jdXNQcmV2ICcsIGtleSk7XG4gIHBsYXlVSVNvdW5kKCdyb2xsb3ZlcicpO1xuICBpZiAoa2V5ID09PSBmb2N1c2VkX2tleV9wcmV2Mikge1xuICAgIGZvY3VzU3RlYWwoZm9jdXNlZF9rZXlfcHJldjEpO1xuICB9IGVsc2Uge1xuICAgIGZvY3VzU3RlYWwoZm9jdXNlZF9rZXlfcHJldjIpO1xuICB9XG4gIGdsb3ZfaW5wdXQuZWF0QWxsSW5wdXQodHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c0NoZWNrKGtleSkge1xuICBpZiAobW9kYWxfc3RlYWxpbmdfZm9jdXMpIHtcbiAgICAvLyBoaWRkZW4gYnkgbW9kYWwsIGV0Y1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBSZXR1cm5zIHRydWUgZXZlbiBpZiBmb2N1c2luZyBwcmV2aW91cyBlbGVtZW50LCBzaW5jZSBmb3IgdGhpcyBmcmFtZSwgd2UgYXJlIHN0aWxsIGVmZmVjdGl2ZWx5IGZvY3VzZWQhXG4gIGxldCBmb2N1c2VkID0gaXNGb2N1c2VkKGtleSk7XG4gIGlmIChmb2N1c2VkKSB7XG4gICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5UQUIpKSB7XG4gICAgICBpZiAoZ2xvdl9pbnB1dC5rZXlEb3duKEtFWVMuU0hJRlQpKSB7XG4gICAgICAgIGZvY3VzUHJldihrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9jdXNOZXh0KGtleSk7XG4gICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UocGFkX2ZvY3VzX3JpZ2h0KSkge1xuICAgICAgZm9jdXNOZXh0KGtleSk7XG4gICAgICBmb2N1c2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKHBhZF9mb2N1c19sZWZ0KSkge1xuICAgICAgZm9jdXNQcmV2KGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmb2N1c2VkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFuZWwocGFyYW0pIHtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLncgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS5oID09PSAnbnVtYmVyJyk7XG4gIHBhcmFtLnogPSBwYXJhbS56IHx8IChaLlVJIC0gMSk7XG4gIGxldCBjb2xvciA9IHBhcmFtLmNvbG9yIHx8IGNvbG9yX3BhbmVsO1xuICBkcmF3Qm94KHBhcmFtLCBzcHJpdGVzLnBhbmVsLCBwYXJhbS5waXhlbF9zY2FsZSB8fCBwYW5lbF9waXhlbF9zY2FsZSwgY29sb3IpO1xuICBnbG92X2lucHV0LmNsaWNrKHBhcmFtKTtcbiAgZ2xvdl9pbnB1dC5tb3VzZU92ZXIocGFyYW0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1Rvb2x0aXAocGFyYW0pIHtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnRvb2x0aXAgPT09ICdzdHJpbmcnKTtcblxuICBsZXQgdG9vbHRpcF93ID0gcGFyYW0udG9vbHRpcF93aWR0aCB8fCB0b29sdGlwX3dpZHRoO1xuICBsZXQgeCA9IHBhcmFtLng7XG4gIGlmICh4ICsgdG9vbHRpcF93ID4gY2FtZXJhMmQueDEoKSkge1xuICAgIHggPSBjYW1lcmEyZC54MSgpIC0gdG9vbHRpcF93O1xuICB9XG4gIGxldCB6ID0gcGFyYW0ueiB8fCBaLlRPT0xUSVA7XG4gIGxldCB0b29sdGlwX3kwID0gcGFyYW0ueTtcbiAgbGV0IGVmZl90b29sdGlwX3BhZCA9IHBhcmFtLnRvb2x0aXBfcGFkIHx8IHRvb2x0aXBfcGFkO1xuICBsZXQgdyA9IHRvb2x0aXBfdyAtIGVmZl90b29sdGlwX3BhZCAqIDI7XG4gIGlmIChwYXJhbS50b29sdGlwX2Fib3ZlKSB7XG4gICAgdG9vbHRpcF95MCAtPSBmb250X2hlaWdodCAqIGZvbnQubnVtTGluZXMobW9kYWxfZm9udF9zdHlsZSwgdywgMCwgZm9udF9oZWlnaHQsIHBhcmFtLnRvb2x0aXApICsgZWZmX3Rvb2x0aXBfcGFkICogMjtcbiAgfVxuICBsZXQgeSA9IHRvb2x0aXBfeTAgKyBlZmZfdG9vbHRpcF9wYWQ7XG4gIHkgKz0gZm9udC5kcmF3U2l6ZWRXcmFwcGVkKG1vZGFsX2ZvbnRfc3R5bGUsXG4gICAgeCArIGVmZl90b29sdGlwX3BhZCwgeSwgeisxLCB3LCAwLCBmb250X2hlaWdodCxcbiAgICBwYXJhbS50b29sdGlwKTtcbiAgeSArPSBlZmZfdG9vbHRpcF9wYWQ7XG4gIGxldCBwaXhlbF9zY2FsZSA9IHBhcmFtLnBpeGVsX3NjYWxlIHx8IHRvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGU7XG5cbiAgcGFuZWwoe1xuICAgIHgsXG4gICAgeTogdG9vbHRpcF95MCxcbiAgICB6LFxuICAgIHc6IHRvb2x0aXBfdyxcbiAgICBoOiB5IC0gdG9vbHRpcF95MCxcbiAgICBwaXhlbF9zY2FsZSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0hvb2tzKHBhcmFtLCBjbGljaykge1xuICBpZiAocGFyYW0uaG9vaykge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBob29rcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGlmIChjbGljaykge1xuICAgICAgICBob29rc1tpaV0uY2xpY2socGFyYW0pO1xuICAgICAgfVxuICAgICAgaG9va3NbaWldLmRyYXcocGFyYW0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGJ1dHRvblNoYXJlZChwYXJhbSkge1xuICBwYXJhbS56ID0gcGFyYW0ueiB8fCBaLlVJO1xuICBsZXQgc3RhdGUgPSAncmVndWxhcic7XG4gIGxldCByZXQgPSBmYWxzZTtcbiAgaWYgKHBhcmFtLmRyYXdfb25seSkge1xuICAgIHJldHVybiB7IHJldCwgc3RhdGUgfTtcbiAgfVxuICBsZXQga2V5ID0gcGFyYW0ua2V5IHx8IGAke3BhcmFtLnh9XyR7cGFyYW0ueX1gO1xuICBsZXQgcm9sbG92ZXJfcXVpZXQgPSBwYXJhbS5yb2xsb3Zlcl9xdWlldDtcbiAgbGV0IGZvY3VzZWQgPSAhcGFyYW0uZGlzYWJsZWQgJiYgIXBhcmFtLm5vX2ZvY3VzICYmIGZvY3VzQ2hlY2soa2V5KTtcbiAgbGV0IGtleV9vcHRzID0gcGFyYW0uaW5fZXZlbnRfY2IgPyB7IGluX2V2ZW50X2NiOiBwYXJhbS5pbl9ldmVudF9jYiB9IDogbnVsbDtcbiAgYnV0dG9uX21vdXNlb3ZlciA9IGZhbHNlO1xuICBpZiAocGFyYW0uZGlzYWJsZWQpIHtcbiAgICBpZiAoZ2xvdl9pbnB1dC5tb3VzZU92ZXIocGFyYW0pKSB7IC8vIFN0aWxsIGVhdCBtb3VzZSBldmVudHNcbiAgICAgIGlmIChwYXJhbS5kaXNhYmxlZF9tb3VzZW92ZXIpIHtcbiAgICAgICAgc2V0TW91c2VPdmVyKGtleSwgcm9sbG92ZXJfcXVpZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZSA9ICdkaXNhYmxlZCc7XG4gIH0gZWxzZSBpZiAocGFyYW0uZHJhZ190YXJnZXQgJiYgKHJldCA9IGdsb3ZfaW5wdXQuZHJhZ0Ryb3AocGFyYW0pKSkge1xuICAgIGlmICghZ2xvdl9pbnB1dC5tb3VzZVBvc0lzVG91Y2goKSkge1xuICAgICAgc2V0TW91c2VPdmVyKGtleSwgcm9sbG92ZXJfcXVpZXQpO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtLm5vX2ZvY3VzKSB7XG4gICAgICBmb2N1c1N0ZWFsKGtleSk7XG4gICAgICBmb2N1c2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgYnV0dG9uX2NsaWNrID0geyBkcmFnOiB0cnVlIH07XG4gIH0gZWxzZSBpZiAoKGJ1dHRvbl9jbGljayA9IGdsb3ZfaW5wdXQuY2xpY2socGFyYW0pKSB8fFxuICAgIHBhcmFtLmxvbmdfcHJlc3MgJiYgKGJ1dHRvbl9jbGljayA9IGdsb3ZfaW5wdXQubG9uZ1ByZXNzKHBhcmFtKSlcbiAgKSB7XG4gICAgaWYgKHBhcmFtLnRvdWNoX3R3aWNlICYmICFmb2N1c2VkICYmIGdsb3ZfaW5wdXQubW91c2VQb3NJc1RvdWNoKCkpIHtcbiAgICAgIC8vIEp1c3QgZm9jdXMsIHNob3cgdG9vbHRpcFxuICAgICAgdG91Y2hfY2hhbmdlZF9mb2N1cyA9IHRydWU7XG4gICAgICBzZXRNb3VzZU92ZXIoa2V5LCByb2xsb3Zlcl9xdWlldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldCA9IHRydWU7XG4gICAgfVxuICAgIGlmICghcGFyYW0ubm9fZm9jdXMpIHtcbiAgICAgIGZvY3VzU3RlYWwoa2V5KTtcbiAgICAgIGZvY3VzZWQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwYXJhbS5kcmFnX3RhcmdldCAmJiBnbG92X2lucHV0LmRyYWdPdmVyKHBhcmFtKSkge1xuICAgIC8vIE1vdXNlb3ZlciBldmVuIGlmIHRvdWNoP1xuICAgIHNldE1vdXNlT3ZlcihrZXksIHJvbGxvdmVyX3F1aWV0KTtcbiAgICBzdGF0ZSA9IGdsb3ZfaW5wdXQubW91c2VEb3duKHsgbWF4X2Rpc3Q6IEluZmluaXR5IH0pID8gJ2Rvd24nIDogJ3JvbGxvdmVyJztcbiAgfSBlbHNlIGlmIChwYXJhbS5kcmFnX292ZXIgJiYgZ2xvdl9pbnB1dC5kcmFnT3ZlcihwYXJhbSkpIHtcbiAgICAvLyBkbyBub3RoaW5nXG4gIH0gZWxzZSBpZiAoZ2xvdl9pbnB1dC5tb3VzZU92ZXIocGFyYW0pKSB7XG4gICAgc3RhdGUgPSBnbG92X2lucHV0Lm1vdXNlRG93bihwYXJhbSkgPyAnZG93bicgOiAncm9sbG92ZXInO1xuICAgIC8vIE9uIHRvdWNoLCBvbmx5IHNldCBtb3VzZW92ZXIgaWYgYWxzbyBkb3duXG4gICAgaWYgKCFnbG92X2lucHV0Lm1vdXNlUG9zSXNUb3VjaCgpIHx8IHN0YXRlID09PSAnZG93bicpIHtcbiAgICAgIHNldE1vdXNlT3ZlcihrZXksIHJvbGxvdmVyX3F1aWV0KTtcbiAgICB9XG4gIH1cbiAgYnV0dG9uX2ZvY3VzZWQgPSBmb2N1c2VkO1xuICBpZiAoZm9jdXNlZCkge1xuICAgIGlmIChnbG92X2lucHV0LmtleURvd25FZGdlKEtFWVMuU1BBQ0UsIGtleV9vcHRzKSB8fCBnbG92X2lucHV0LmtleURvd25FZGdlKEtFWVMuUkVUVVJOLCBrZXlfb3B0cykgfHxcbiAgICAgIGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoUEFELkEpXG4gICAgKSB7XG4gICAgICBidXR0b25fY2xpY2sgPSB7IGtiOiB0cnVlIH07XG4gICAgICByZXQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAocmV0KSB7XG4gICAgc3RhdGUgPSAnZG93bic7XG4gICAgcGxheVVJU291bmQoJ2J1dHRvbl9jbGljaycpO1xuICB9XG4gIGlmIChidXR0b25fbW91c2VvdmVyICYmIHBhcmFtLnRvb2x0aXApIHtcbiAgICBkcmF3VG9vbHRpcCh7XG4gICAgICB4OiBwYXJhbS54LFxuICAgICAgeTogcGFyYW0udG9vbHRpcF9hYm92ZSA/IHBhcmFtLnkgLSAyIDogcGFyYW0ueSArIHBhcmFtLmggKyAyLFxuICAgICAgdG9vbHRpcF9hYm92ZTogcGFyYW0udG9vbHRpcF9hYm92ZSxcbiAgICAgIHRvb2x0aXA6IHBhcmFtLnRvb2x0aXAsXG4gICAgICB0b29sdGlwX3dpZHRoOiBwYXJhbS50b29sdGlwX3dpZHRoLFxuICAgIH0pO1xuICB9XG4gIHBhcmFtLnogKz0gcGFyYW0uel9iaWFzICYmIHBhcmFtLnpfYmlhc1tzdGF0ZV0gfHwgMDtcbiAgY2hlY2tIb29rcyhwYXJhbSwgcmV0KTtcbiAgcmV0dXJuIHsgcmV0LCBzdGF0ZSwgZm9jdXNlZCB9O1xufVxuXG5leHBvcnQgbGV0IGJ1dHRvbl9sYXN0X2NvbG9yO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1dHRvblRleHREcmF3KHBhcmFtLCBzdGF0ZSwgZm9jdXNlZCkge1xuICBsZXQgY29sb3JzID0gcGFyYW0uY29sb3JzIHx8IGNvbG9yX2J1dHRvbjtcbiAgbGV0IGNvbG9yID0gYnV0dG9uX2xhc3RfY29sb3IgPSBjb2xvcnNbc3RhdGVdO1xuICBsZXQgYmFzZV9uYW1lID0gcGFyYW0uYmFzZV9uYW1lIHx8ICdidXR0b24nO1xuICBsZXQgc3ByaXRlX25hbWUgPSBgJHtiYXNlX25hbWV9XyR7c3RhdGV9YDtcbiAgbGV0IHNwcml0ZSA9IHNwcml0ZXNbc3ByaXRlX25hbWVdO1xuICAvLyBOb3RlOiB3YXMgaWYgKHNwcml0ZSkgY29sb3IgPSBjb2xvcnMucmVndWxhciBmb3Igc3BlY2lmaWMtc3ByaXRlIG1hdGNoZXNcbiAgaWYgKCFzcHJpdGUpIHtcbiAgICBzcHJpdGUgPSBzcHJpdGVzW2Jhc2VfbmFtZV07XG4gIH1cblxuICBkcmF3SEJveChwYXJhbSwgc3ByaXRlLCBjb2xvcik7XG4gIGxldCBocGFkID0gbWluKHBhcmFtLmZvbnRfaGVpZ2h0ICogMC4yNSwgcGFyYW0udyAqIDAuMSk7XG4gIGZvbnQuZHJhd1NpemVkQWxpZ25lZChcbiAgICBmb2N1c2VkID8gZm9udF9zdHlsZV9mb2N1c2VkIDogZm9udF9zdHlsZV9ub3JtYWwsXG4gICAgcGFyYW0ueCArIGhwYWQsIHBhcmFtLnksIHBhcmFtLnogKyAwLjEsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICBwYXJhbS5mb250X2hlaWdodCwgZ2xvdl9mb250LkFMSUdOLkhDRU5URVJGSVQgfCBnbG92X2ZvbnQuQUxJR04uVkNFTlRFUiwgcGFyYW0udyAtIGhwYWQgKiAyLCBwYXJhbS5oLCBwYXJhbS50ZXh0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1dHRvblRleHQocGFyYW0pIHtcbiAgLy8gcmVxdWlyZWQgcGFyYW1zXG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueCA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnkgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS50ZXh0ID09PSAnc3RyaW5nJyk7XG4gIC8vIG9wdGlvbmFsIHBhcmFtc1xuICAvLyBwYXJhbS56ID0gcGFyYW0ueiB8fCBaLlVJO1xuICBwYXJhbS53ID0gcGFyYW0udyB8fCBidXR0b25fd2lkdGg7XG4gIHBhcmFtLmggPSBwYXJhbS5oIHx8IGJ1dHRvbl9oZWlnaHQ7XG4gIHBhcmFtLmZvbnRfaGVpZ2h0ID0gcGFyYW0uZm9udF9oZWlnaHQgfHwgZm9udF9oZWlnaHQ7XG5cbiAgbGV0IHsgcmV0LCBzdGF0ZSwgZm9jdXNlZCB9ID0gYnV0dG9uU2hhcmVkKHBhcmFtKTtcbiAgYnV0dG9uVGV4dERyYXcocGFyYW0sIHN0YXRlLCBmb2N1c2VkKTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1dHRvbkltYWdlKHBhcmFtKSB7XG4gIC8vIHJlcXVpcmVkIHBhcmFtc1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnggPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS55ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydChwYXJhbS5pbWcgJiYgcGFyYW0uaW1nLmRyYXcpOyAvLyBzaG91bGQgYmUgYSBzcHJpdGVcbiAgLy8gb3B0aW9uYWwgcGFyYW1zXG4gIHBhcmFtLnogPSBwYXJhbS56IHx8IFouVUk7XG4gIHBhcmFtLncgPSBwYXJhbS53IHx8IGJ1dHRvbl9pbWdfc2l6ZTtcbiAgcGFyYW0uaCA9IHBhcmFtLmggfHwgcGFyYW0udyB8fCBidXR0b25faW1nX3NpemU7XG4gIHBhcmFtLnNocmluayA9IHBhcmFtLnNocmluayB8fCAwLjc1O1xuICAvL3BhcmFtLmltZ19yZWN0OyBudWxsIC0+IGZ1bGwgaW1hZ2VcbiAgbGV0IHV2cyA9IHBhcmFtLmltZ19yZWN0O1xuICBpZiAodHlwZW9mIHBhcmFtLmZyYW1lID09PSAnbnVtYmVyJykge1xuICAgIHV2cyA9IHBhcmFtLmltZy51aWRhdGEucmVjdHNbcGFyYW0uZnJhbWVdO1xuICB9XG5cbiAgbGV0IHsgcmV0LCBzdGF0ZSB9ID0gYnV0dG9uU2hhcmVkKHBhcmFtKTtcbiAgbGV0IGNvbG9ycyA9IHBhcmFtLmNvbG9ycyB8fCBjb2xvcl9idXR0b247XG4gIGxldCBjb2xvciA9IGJ1dHRvbl9sYXN0X2NvbG9yID0gY29sb3JzW3N0YXRlXTtcbiAgaWYgKCFwYXJhbS5ub19iZykge1xuICAgIGxldCBiYXNlX25hbWUgPSBwYXJhbS5iYXNlX25hbWUgfHwgJ2J1dHRvbic7XG4gICAgbGV0IHNwcml0ZV9uYW1lID0gYCR7YmFzZV9uYW1lfV8ke3N0YXRlfWA7XG4gICAgbGV0IHNwcml0ZSA9IHNwcml0ZXNbc3ByaXRlX25hbWVdO1xuICAgIGlmICghc3ByaXRlKSB7XG4gICAgICBzcHJpdGUgPSBzcHJpdGVzW2Jhc2VfbmFtZV07XG4gICAgfVxuXG4gICAgZHJhd0hCb3gocGFyYW0sIHNwcml0ZSwgY29sb3IpO1xuICB9XG4gIGxldCBpbWdfb3JpZ2luID0gcGFyYW0uaW1nLm9yaWdpbjtcbiAgbGV0IGltZ193ID0gcGFyYW0uaW1nLnNpemVbMF07XG4gIGxldCBpbWdfaCA9IHBhcmFtLmltZy5zaXplWzFdO1xuICBsZXQgYXNwZWN0ID0gaW1nX3cgLyBpbWdfaDtcbiAgaWYgKHR5cGVvZiBwYXJhbS5mcmFtZSA9PT0gJ251bWJlcicpIHtcbiAgICBhc3BlY3QgPSBwYXJhbS5pbWcudWlkYXRhLmFzcGVjdCA/IHBhcmFtLmltZy51aWRhdGEuYXNwZWN0W3BhcmFtLmZyYW1lXSA6IDE7XG4gIH1cbiAgbGV0IGxhcmdlc3Rfd19ob3JpeiA9IHBhcmFtLncgKiBwYXJhbS5zaHJpbms7XG4gIGxldCBsYXJnZXN0X3dfdmVydCA9IHBhcmFtLmggKiBwYXJhbS5zaHJpbmsgKiBhc3BlY3Q7XG4gIGltZ193ID0gbWluKGxhcmdlc3Rfd19ob3JpeiwgbGFyZ2VzdF93X3ZlcnQpO1xuICBpbWdfaCA9IGltZ193IC8gYXNwZWN0O1xuICBsZXQgcGFkX3RvcCA9IChwYXJhbS5oIC0gaW1nX2gpIC8gMjtcbiAgbGV0IGRyYXdfcGFyYW0gPSB7XG4gICAgeDogcGFyYW0ueCArIChwYXJhbS5sZWZ0X2FsaWduID8gcGFkX3RvcCA6IChwYXJhbS53IC0gaW1nX3cpIC8gMikgKyBpbWdfb3JpZ2luWzBdICogaW1nX3csXG4gICAgeTogcGFyYW0ueSArIHBhZF90b3AgKyBpbWdfb3JpZ2luWzFdICogaW1nX2gsXG4gICAgejogcGFyYW0ueiArIDAuMSxcbiAgICAvLyB1c2UgaW1nX2NvbG9yIGlmIHByb3ZpZGVkLCB1c2UgZXhwbGljaXQgdGludCBpZiBkb2luZyBkdWFsLXRpbnRpbmcsIG90aGVyd2lzZSBidXR0b24gY29sb3JcbiAgICBjb2xvcjogcGFyYW0uaW1nX2NvbG9yIHx8IHBhcmFtLmNvbG9yMSAmJiBwYXJhbS5jb2xvciB8fCBjb2xvcixcbiAgICBjb2xvcjE6IHBhcmFtLmNvbG9yMSxcbiAgICB3OiBpbWdfdyAvIHBhcmFtLmltZy5zaXplWzBdLFxuICAgIGg6IGltZ19oIC8gcGFyYW0uaW1nLnNpemVbMV0sXG4gICAgdXZzLFxuICAgIHJvdDogcGFyYW0ucm90YXRpb24sXG4gIH07XG4gIGlmIChwYXJhbS5mbGlwKSB7XG4gICAgbGV0IHsgeCwgdyB9ID0gZHJhd19wYXJhbTtcbiAgICBkcmF3X3BhcmFtLnggPSB4ICsgdztcbiAgICBkcmF3X3BhcmFtLncgPSAtdztcbiAgfVxuICBpZiAocGFyYW0uY29sb3IxKSB7XG4gICAgcGFyYW0uaW1nLmRyYXdEdWFsVGludChkcmF3X3BhcmFtKTtcbiAgfSBlbHNlIHtcbiAgICBwYXJhbS5pbWcuZHJhdyhkcmF3X3BhcmFtKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnQoc3R5bGUsIHgsIHksIHosIHRleHQpIHtcbiAgcmV0dXJuIGZvbnQuZHJhd1NpemVkKHN0eWxlLCB4LCB5LCB6LCBmb250X2hlaWdodCwgdGV4dCk7XG59XG5cbi8vIE5vdGU6IG1vZGFsIGRpYWxvZ3Mgbm90IHJlYWxseSBjb21wYXRpYmxlIHdpdGggSFRNTCBvdmVybGF5IG9uIHRvcCBvZiB0aGUgY2FudmFzIVxuZXhwb3J0IGZ1bmN0aW9uIG1vZGFsRGlhbG9nKHBhcmFtKSB7XG4gIGFzc2VydCghcGFyYW0udGl0bGUgfHwgdHlwZW9mIHBhcmFtLnRpdGxlID09PSAnc3RyaW5nJyk7XG4gIGFzc2VydCghcGFyYW0udGV4dCB8fCB0eXBlb2YgcGFyYW0udGV4dCA9PT0gJ3N0cmluZycpO1xuICBhc3NlcnQoIXBhcmFtLmJ1dHRvbnMgfHwgdHlwZW9mIHBhcmFtLmJ1dHRvbnMgPT09ICdvYmplY3QnKTtcbiAgLy8gYXNzZXJ0KE9iamVjdC5rZXlzKHBhcmFtLmJ1dHRvbnMpLmxlbmd0aCk7XG5cbiAgbW9kYWxfZGlhbG9nID0gcGFyYW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2RhbERpYWxvZ0NsZWFyKCkge1xuICBtb2RhbF9kaWFsb2cgPSBudWxsO1xufVxuXG5sZXQgZG9tX3JlcXVpcmVtZW50ID0gdmVjMigyNCwyNCk7XG5sZXQgdmlydHVhbF9zaXplID0gdmVjMigpO1xuZnVuY3Rpb24gbW9kYWxEaWFsb2dSdW4oKSB7XG4gIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKHZpcnR1YWxfc2l6ZSwgZG9tX3JlcXVpcmVtZW50KTtcbiAgbGV0IGZ1bGxzY3JlZW5fbW9kZSA9IGZhbHNlO1xuICBsZXQgZWZmX2ZvbnRfaGVpZ2h0ID0gbW9kYWxfZGlhbG9nLmZvbnRfaGVpZ2h0IHx8IGZvbnRfaGVpZ2h0O1xuICBsZXQgZWZmX2J1dHRvbl9oZWlnaHQgPSBidXR0b25faGVpZ2h0O1xuICBsZXQgcGFkID0gbW9kYWxfcGFkO1xuICBsZXQgdnBhZCA9IG1vZGFsX3BhZCAqIDAuNTtcbiAgbGV0IGdlbmVyYWxfc2NhbGUgPSAxO1xuICBpZiAodmlydHVhbF9zaXplWzBdID4gMC4xICogY2FtZXJhMmQuaCgpICYmIGNhbWVyYTJkLncoKSA+IGNhbWVyYTJkLmgoKSAqIDIpIHtcbiAgICAvLyBJZiBhIDI0LXB0IGZvbnQgaXMgbW9yZSB0aGFuIDEwJSBvZiB0aGUgY2FtZXJhIGhlaWdodCwgd2UncmUgcHJvYmFibHkgc3VwZXItd2lkZS1zY3JlZW5cbiAgICAvLyBvbiBhIG1vYmlsZSBkZXZpY2UgZHVlIHRvIGtleWJvYXJkIGJlaW5nIHZpc2libGVcbiAgICBmdWxsc2NyZWVuX21vZGUgPSB0cnVlO1xuICAgIGVmZl9idXR0b25faGVpZ2h0ID0gZWZmX2ZvbnRfaGVpZ2h0O1xuICAgIHZwYWQgPSBwYWQgPSA0O1xuXG4gICAgbGV0IG9sZF9oID0gY2FtZXJhMmQuaCgpO1xuICAgIGNhbWVyYTJkLnB1c2goKTtcbiAgICBjYW1lcmEyZC5zZXRBc3BlY3RGaXhlZDIoMSwgZWZmX2ZvbnRfaGVpZ2h0ICogKG1vZGFsX3RpdGxlX3NjYWxlICsgMikgKyBwYWQgKiA0LjUpO1xuICAgIGdlbmVyYWxfc2NhbGUgPSBjYW1lcmEyZC5oKCkgLyBvbGRfaDtcbiAgfVxuXG4gIGxldCB7IGJ1dHRvbnMsIGNsaWNrX2FueXdoZXJlIH0gPSBtb2RhbF9kaWFsb2c7XG4gIGxldCBrZXlzID0gT2JqZWN0LmtleXMoYnV0dG9ucyB8fCB7fSk7XG5cbiAgY29uc3QgZ2FtZV93aWR0aCA9IGNhbWVyYTJkLngxKCkgLSBjYW1lcmEyZC54MCgpO1xuICBjb25zdCBlZmZfbW9kYWxfd2lkdGggPSBmdWxsc2NyZWVuX21vZGUgPyBnYW1lX3dpZHRoIDogKG1vZGFsX2RpYWxvZy53aWR0aCB8fCBtb2RhbF93aWR0aCk7XG4gIGxldCBlZmZfYnV0dG9uX3dpZHRoID0gbW9kYWxfZGlhbG9nLmJ1dHRvbl93aWR0aCB8fCBtb2RhbF9idXR0b25fd2lkdGg7XG4gIGxldCBtYXhfdG90YWxfYnV0dG9uX3dpZHRoID0gZWZmX21vZGFsX3dpZHRoICogMiAvIDM7XG4gIGVmZl9idXR0b25fd2lkdGggPSBtaW4oZWZmX2J1dHRvbl93aWR0aCwgbWF4X3RvdGFsX2J1dHRvbl93aWR0aCAvIGtleXMubGVuZ3RoKTtcbiAgY29uc3QgdGV4dF93ID0gZWZmX21vZGFsX3dpZHRoIC0gcGFkICogMjtcbiAgY29uc3QgeDAgPSBjYW1lcmEyZC54MCgpICsgcm91bmQoKGdhbWVfd2lkdGggLSBlZmZfbW9kYWxfd2lkdGgpIC8gMik7XG4gIGxldCB4ID0geDAgKyBwYWQ7XG4gIGNvbnN0IHkwID0gZnVsbHNjcmVlbl9tb2RlID8gMCA6IChtb2RhbF9kaWFsb2cueTAgfHwgbW9kYWxfeTApO1xuICBsZXQgeSA9IHJvdW5kKHkwICsgcGFkKTtcblxuICBpZiAoZ2xvdl9pbnB1dC5wb2ludGVyTG9ja2VkKCkpIHtcbiAgICBnbG92X2lucHV0LnBvaW50ZXJMb2NrRXhpdCgpO1xuICB9XG5cbiAgaWYgKG1vZGFsX2RpYWxvZy50aXRsZSkge1xuICAgIGlmIChmdWxsc2NyZWVuX21vZGUpIHtcbiAgICAgIHRpdGxlX2ZvbnQuZHJhd1NpemVkQWxpZ25lZChtb2RhbF9mb250X3N0eWxlLCB4LCB5LCBaLk1PREFMLCBlZmZfZm9udF9oZWlnaHQgKiBtb2RhbF90aXRsZV9zY2FsZSxcbiAgICAgICAgZ2xvdl9mb250LkFMSUdOLkhGSVQsIHRleHRfdywgMCwgbW9kYWxfZGlhbG9nLnRpdGxlKTtcbiAgICAgIHkgKz0gZWZmX2ZvbnRfaGVpZ2h0ICogbW9kYWxfdGl0bGVfc2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgKz0gdGl0bGVfZm9udC5kcmF3U2l6ZWRXcmFwcGVkKG1vZGFsX2ZvbnRfc3R5bGUsXG4gICAgICAgIHgsIHksIFouTU9EQUwsIHRleHRfdywgMCwgZWZmX2ZvbnRfaGVpZ2h0ICogbW9kYWxfdGl0bGVfc2NhbGUsXG4gICAgICAgIG1vZGFsX2RpYWxvZy50aXRsZSk7XG4gICAgfVxuICAgIHkgPSByb3VuZCh5ICsgdnBhZCAqIDEuNSk7XG4gIH1cblxuICBpZiAobW9kYWxfZGlhbG9nLnRleHQpIHtcbiAgICBpZiAoZnVsbHNjcmVlbl9tb2RlKSB7XG4gICAgICBmb250LmRyYXdTaXplZEFsaWduZWQobW9kYWxfZm9udF9zdHlsZSwgeCwgeSwgWi5NT0RBTCwgZWZmX2ZvbnRfaGVpZ2h0LFxuICAgICAgICBnbG92X2ZvbnQuQUxJR04uSEZJVCwgdGV4dF93LCAwLCBtb2RhbF9kaWFsb2cudGV4dCk7XG4gICAgICB5ICs9IGVmZl9mb250X2hlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgeSArPSBmb250LmRyYXdTaXplZFdyYXBwZWQobW9kYWxfZm9udF9zdHlsZSwgeCwgeSwgWi5NT0RBTCwgdGV4dF93LCAwLCBlZmZfZm9udF9oZWlnaHQsXG4gICAgICAgIG1vZGFsX2RpYWxvZy50ZXh0KTtcbiAgICB9XG4gICAgeSA9IHJvdW5kKHkgKyB2cGFkKTtcbiAgfVxuXG4gIGxldCB0aWNrX2tleTtcbiAgaWYgKG1vZGFsX2RpYWxvZy50aWNrKSB7XG4gICAgbGV0IGF2YWlsX3dpZHRoID0gZWZmX21vZGFsX3dpZHRoIC0gcGFkICogMjtcbiAgICBpZiAoZnVsbHNjcmVlbl9tb2RlKSB7XG4gICAgICBhdmFpbF93aWR0aCAtPSAocGFkICsgZWZmX2J1dHRvbl93aWR0aCkgKiBrZXlzLmxlbmd0aDtcbiAgICB9XG4gICAgbGV0IHBhcmFtID0ge1xuICAgICAgeCwgeSxcbiAgICAgIG1vZGFsX3dpZHRoOiBlZmZfbW9kYWxfd2lkdGgsXG4gICAgICBhdmFpbF93aWR0aCxcbiAgICAgIGZvbnRfaGVpZ2h0OiBlZmZfZm9udF9oZWlnaHQsXG4gICAgICBmdWxsc2NyZWVuX21vZGUsXG4gICAgfTtcbiAgICB0aWNrX2tleSA9IG1vZGFsX2RpYWxvZy50aWNrKHBhcmFtKTtcbiAgICB5ID0gcGFyYW0ueTtcbiAgfVxuXG4gIHggPSB4MCArIGVmZl9tb2RhbF93aWR0aCAtIChwYWQgKyBlZmZfYnV0dG9uX3dpZHRoKSAqIGtleXMubGVuZ3RoO1xuICBsZXQgZGlkX2J1dHRvbiA9IC0xO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwga2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQga2V5ID0ga2V5c1tpaV07XG4gICAgbGV0IGVmZl9idXR0b25fa2V5cyA9IGJ1dHRvbl9rZXlzW2tleS50b0xvd2VyQ2FzZSgpXTtcbiAgICBsZXQgcHJlc3NlZCA9IDA7XG4gICAgaWYgKGVmZl9idXR0b25fa2V5cykge1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IGVmZl9idXR0b25fa2V5cy5rZXkubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgIHByZXNzZWQgKz0gZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShlZmZfYnV0dG9uX2tleXMua2V5W2pqXSk7XG4gICAgICAgIGlmIChlZmZfYnV0dG9uX2tleXMua2V5W2pqXSA9PT0gdGlja19rZXkpIHtcbiAgICAgICAgICBwcmVzc2VkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBlZmZfYnV0dG9uX2tleXMucGFkLmxlbmd0aDsgKytqaikge1xuICAgICAgICBwcmVzc2VkICs9IGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoZWZmX2J1dHRvbl9rZXlzLnBhZFtqal0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xpY2tfYW55d2hlcmUgJiYgaWkgPT09IDAgJiYgZ2xvdl9pbnB1dC5jbGljaygpKSB7XG4gICAgICArK3ByZXNzZWQ7XG4gICAgfVxuICAgIGlmIChwcmVzc2VkKSB7XG4gICAgICBkaWRfYnV0dG9uID0gaWk7XG4gICAgfVxuICAgIGlmIChidXR0b25UZXh0KHtcbiAgICAgIHg6IHgsXG4gICAgICB5LFxuICAgICAgejogWi5NT0RBTCxcbiAgICAgIHc6IGVmZl9idXR0b25fd2lkdGgsXG4gICAgICBoOiBlZmZfYnV0dG9uX2hlaWdodCxcbiAgICAgIHRleHQ6IGtleVxuICAgIH0pKSB7XG4gICAgICBkaWRfYnV0dG9uID0gaWk7XG4gICAgfVxuICAgIHggPSByb3VuZCh4ICsgcGFkICsgZWZmX2J1dHRvbl93aWR0aCk7XG4gIH1cbiAgLy8gQWxzbyBjaGVjayBsb3ctcHJpb3JpdHkga2V5c1xuICBpZiAoZGlkX2J1dHRvbiA9PT0gLTEpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwga2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBrZXkgPSBrZXlzW2lpXTtcbiAgICAgIGxldCBlZmZfYnV0dG9uX2tleXMgPSBidXR0b25fa2V5c1trZXkudG9Mb3dlckNhc2UoKV07XG4gICAgICBpZiAoZWZmX2J1dHRvbl9rZXlzICYmIGVmZl9idXR0b25fa2V5cy5sb3dfa2V5KSB7XG4gICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBlZmZfYnV0dG9uX2tleXMubG93X2tleS5sZW5ndGg7ICsramopIHtcbiAgICAgICAgICBpZiAoZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShlZmZfYnV0dG9uX2tleXMubG93X2tleVtqal0pIHx8IGVmZl9idXR0b25fa2V5cy5sb3dfa2V5W2pqXSA9PT0gdGlja19rZXkpIHtcbiAgICAgICAgICAgIGRpZF9idXR0b24gPSBpaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRpZF9idXR0b24gIT09IC0xKSB7XG4gICAgbGV0IGtleSA9IGtleXNbZGlkX2J1dHRvbl07XG4gICAgcGxheVVJU291bmQoJ2J1dHRvbl9jbGljaycpO1xuICAgIG1vZGFsX2RpYWxvZyA9IG51bGw7XG4gICAgaWYgKGJ1dHRvbnNba2V5XSkge1xuICAgICAgYnV0dG9uc1trZXldKCk7XG4gICAgfVxuICB9XG4gIHkgKz0gZWZmX2J1dHRvbl9oZWlnaHQ7XG4gIHkgPSByb3VuZCh5ICsgdnBhZCArIHBhZCk7XG4gIHBhbmVsKHtcbiAgICB4OiB4MCxcbiAgICB5OiB5MCxcbiAgICB6OiBaLk1PREFMIC0gMSxcbiAgICB3OiBlZmZfbW9kYWxfd2lkdGgsXG4gICAgaDogKGZ1bGxzY3JlZW5fbW9kZSA/IGNhbWVyYTJkLnkxKCkgOiB5KSAtIHkwLFxuICAgIHBpeGVsX3NjYWxlOiBwYW5lbF9waXhlbF9zY2FsZSAqIGdlbmVyYWxfc2NhbGUsXG4gIH0pO1xuXG4gIGdsb3ZfaW5wdXQuZWF0QWxsSW5wdXQoKTtcbiAgbW9kYWxfc3RlYWxpbmdfZm9jdXMgPSB0cnVlO1xuICBpZiAoZnVsbHNjcmVlbl9tb2RlKSB7XG4gICAgY2FtZXJhMmQucG9wKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGFsVGV4dEVudHJ5KHBhcmFtKSB7XG4gIGxldCBlYiA9IGdsb3ZfZWRpdF9ib3guY3JlYXRlKHtcbiAgICBhbGxvd19tb2RhbDogdHJ1ZSxcbiAgICBpbml0aWFsX2ZvY3VzOiB0cnVlLFxuICAgIHNwZWxsY2hlY2s6IGZhbHNlLFxuICAgIGluaXRpYWxfc2VsZWN0OiB0cnVlLFxuICAgIHRleHQ6IHBhcmFtLmVkaXRfdGV4dCxcbiAgICBtYXhfbGVuOiBwYXJhbS5tYXhfbGVuLFxuICAgIGVzY19jbGVhcnM6IGZhbHNlLFxuICB9KTtcbiAgbGV0IGJ1dHRvbnMgPSB7fTtcbiAgZm9yIChsZXQga2V5IGluIHBhcmFtLmJ1dHRvbnMpIHtcbiAgICBsZXQgdmFsID0gcGFyYW0uYnV0dG9uc1trZXldO1xuICAgIGlmICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YWwgPSAoZnVuY3Rpb24gKG9sZF9mbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9sZF9mbihlYi5nZXRUZXh0KCkpO1xuICAgICAgICB9O1xuICAgICAgfSh2YWwpKTtcbiAgICB9XG4gICAgYnV0dG9uc1trZXldID0gdmFsO1xuICB9XG4gIHBhcmFtLmJ1dHRvbnMgPSBidXR0b25zO1xuICBwYXJhbS50ZXh0ID0gYCR7cGFyYW0udGV4dCB8fCAnJ31gO1xuICBsZXQgb2xkX3RpY2sgPSBwYXJhbS50aWNrO1xuICBwYXJhbS50aWNrID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgIGxldCBlYl9yZXQgPSBlYi5ydW4oe1xuICAgICAgeDogcGFyYW1zLngsXG4gICAgICB5OiBwYXJhbXMueSxcbiAgICAgIHc6IHBhcmFtcy5hdmFpbF93aWR0aCB8fCBwYXJhbS5lZGl0X3csXG4gICAgICBmb250X2hlaWdodDogcGFyYW1zLmZvbnRfaGVpZ2h0LFxuICAgIH0pO1xuICAgIGlmICghcGFyYW1zLmZ1bGxzY3JlZW5fbW9kZSkge1xuICAgICAgcGFyYW1zLnkgKz0gcGFyYW1zLmZvbnRfaGVpZ2h0ICsgbW9kYWxfcGFkO1xuICAgIH1cbiAgICBsZXQgcmV0O1xuICAgIGlmIChlYl9yZXQgPT09IGViLlNVQk1JVCkge1xuICAgICAgcmV0ID0gS0VZUy5POyAvLyBEbyBPSywgWWVzXG4gICAgfSBlbHNlIGlmIChlYl9yZXQgPT09IGViLkNBTkNFTCkge1xuICAgICAgcmV0ID0gS0VZUy5FU0M7IC8vIERvIENhbmNlbCwgTm9cbiAgICB9XG4gICAgaWYgKG9sZF90aWNrKSB7XG4gICAgICByZXQgPSBvbGRfdGljayhwYXJhbXMpIHx8IHJldDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgbW9kYWxEaWFsb2cocGFyYW0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFZGl0Qm94KHBhcmFtKSB7XG4gIHJldHVybiBnbG92X2VkaXRfYm94LmNyZWF0ZShwYXJhbSk7XG59XG5cbmxldCBzbGlkZXJfZGVmYXVsdF92c2hyaW5rID0gMS4wO1xubGV0IHNsaWRlcl9kZWZhdWx0X2hhbmRsZV9zaHJpbmsgPSAxLjA7XG5leHBvcnQgZnVuY3Rpb24gc2V0U2xpZGVyRGVmYXVsdFNocmluayh2c2hyaW5rLCBoYW5kbGVfc2hyaW5rKSB7XG4gIHNsaWRlcl9kZWZhdWx0X3ZzaHJpbmsgPSB2c2hyaW5rO1xuICBzbGlkZXJfZGVmYXVsdF9oYW5kbGVfc2hyaW5rID0gaGFuZGxlX3Nocmluaztcbn1cbmNvbnN0IGNvbG9yX3NsaWRlcl9oYW5kbGUgPSB2ZWM0KDEsMSwxLDEpO1xuY29uc3QgY29sb3Jfc2xpZGVyX2hhbmRsZV9ncmFiID0gdmVjNCgwLjUsMC41LDAuNSwxKTtcbmNvbnN0IGNvbG9yX3NsaWRlcl9oYW5kbGVfb3ZlciA9IHZlYzQoMC43NSwwLjc1LDAuNzUsMSk7XG5leHBvcnQgbGV0IHNsaWRlcl9kcmFnZ2luZyA9IGZhbHNlOyAvLyBmb3IgY2FsbGVyIHBvbGxpbmdcbi8vIFJldHVybnMgbmV3IHZhbHVlXG5leHBvcnQgZnVuY3Rpb24gc2xpZGVyKHZhbHVlLCBwYXJhbSkge1xuICAvLyByZXF1aXJlZCBwYXJhbXNcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQocGFyYW0ubWluIDwgcGFyYW0ubWF4KTsgLy8gYWxzbyBtdXN0IGJlIG51bWJlcnNcbiAgLy8gb3B0aW9uYWwgcGFyYW1zXG4gIHBhcmFtLnogPSBwYXJhbS56IHx8IFouVUk7XG4gIHBhcmFtLncgPSBwYXJhbS53IHx8IGJ1dHRvbl93aWR0aDtcbiAgcGFyYW0uaCA9IHBhcmFtLmggfHwgYnV0dG9uX2hlaWdodDtcbiAgbGV0IHZzaHJpbmsgPSBwYXJhbS52c2hyaW5rIHx8IHNsaWRlcl9kZWZhdWx0X3ZzaHJpbms7XG4gIGxldCBoYW5kbGVfc2hyaW5rID0gcGFyYW0uaGFuZGxlX3NocmluayB8fCBzbGlkZXJfZGVmYXVsdF9oYW5kbGVfc2hyaW5rO1xuICBsZXQgZGlzYWJsZWQgPSBwYXJhbS5kaXNhYmxlZCB8fCBmYWxzZTtcbiAgbGV0IGhhbmRsZV9oID0gcGFyYW0uaCAqIGhhbmRsZV9zaHJpbms7XG4gIGxldCBoYW5kbGVfdyA9IHNwcml0ZXMuc2xpZGVyX2hhbmRsZS51aWRhdGEud2hbMF0gKiBoYW5kbGVfaDtcblxuICBzbGlkZXJfZHJhZ2dpbmcgPSBmYWxzZTtcblxuICBsZXQgc2hyaW5rZGlmZiA9IGhhbmRsZV9zaHJpbmsgLSB2c2hyaW5rICsgMC40O1xuICBkcmF3SEJveCh7XG4gICAgeDogcGFyYW0ueCArIHBhcmFtLmggKiBzaHJpbmtkaWZmLzIsXG4gICAgeTogcGFyYW0ueSArIHBhcmFtLmggKiAoMSAtIHZzaHJpbmspLzIsXG4gICAgdzogcGFyYW0udyAtIHBhcmFtLmggKiBzaHJpbmtkaWZmLFxuICAgIGg6IHBhcmFtLmggKiB2c2hyaW5rLFxuICB9LCBzcHJpdGVzLnNsaWRlciwgcGFyYW0uY29sb3IpO1xuXG4gIGxldCB4b2ZmcyA9IHJvdW5kKG1heChzcHJpdGVzLnNsaWRlci51aWRhdGEud2hbMF0gKiBwYXJhbS5oICogdnNocmluaywgaGFuZGxlX3cpIC8gMik7XG4gIGxldCBkcmFnZ2FibGVfd2lkdGggPSBwYXJhbS53IC0geG9mZnMgKiAyO1xuXG4gIC8vIERyYXcgbm90Y2hlcyAtIHdvdWxkIGFsc28gbmVlZCB0byBxdWFudGl6ZSB0aGUgdmFsdWVzIGJlbG93XG4gIC8vIGlmICghc2xpZGVyLT5ub19ub3RjaGVzKSB7XG4gIC8vICAgZmxvYXQgc3BhY2VfZm9yX25vdGNoZXMgPSB3aWR0aCAtIHhvZmZzICogNDtcbiAgLy8gICBpbnQgbnVtX25vdGNoZXMgPSBtYXggLSAxO1xuICAvLyAgIGZsb2F0IG5vdGNoX3cgPSB0aWxlX3NjYWxlICogZ2xvdl91aV9zbGlkZXJfbm90Y2gtPkdldFRpbGVXaWR0aCgpO1xuICAvLyAgIGZsb2F0IG5vdGNoX2ggPSB0aWxlX3NjYWxlICogZ2xvdl91aV9zbGlkZXJfbm90Y2gtPkdldFRpbGVIZWlnaHQoKTtcbiAgLy8gICBmbG9hdCBtYXhfbm90Y2hlcyA9IHNwYWNlX2Zvcl9ub3RjaGVzIC8gKG5vdGNoX3cgKyAyKTtcbiAgLy8gICBpbnQgbm90Y2hfaW5jID0gMTtcbiAgLy8gICBpZiAobnVtX25vdGNoZXMgPiBtYXhfbm90Y2hlcylcbiAgLy8gICAgIG5vdGNoX2luYyA9IGNlaWwobnVtX25vdGNoZXMgLyBmbG9vcihtYXhfbm90Y2hlcykpO1xuXG4gIC8vICAgZm9yIChpbnQgaWkgPSAxOyBpaSpub3RjaF9pbmMgPD0gbnVtX25vdGNoZXM7IGlpKyspIHtcbiAgLy8gICAgIGZsb2F0IG5vdGNoX3hfbWlkID0geCArIHhvZmZzICsgZHJhZ2dhYmxlX3dpZHRoICogaWkgKiBub3RjaF9pbmMgLyAoZmxvYXQpbWF4O1xuICAvLyAgICAgaWYgKG5vdGNoX3hfbWlkIC0gbm90Y2hfdy8yIDwgeCArIHhvZmZzICogMilcbiAgLy8gICAgICAgY29udGludWU7XG4gIC8vICAgICBpZiAobm90Y2hfeF9taWQgKyBub3RjaF93LzIgPiB4ICsgd2lkdGggLSB4b2ZmcyAqIDIpXG4gIC8vICAgICAgIGNvbnRpbnVlO1xuICAvLyAgICAgZ2xvdl91aV9zbGlkZXJfbm90Y2gtPkRyYXdTdHJldGNoZWRDb2xvcihub3RjaF94X21pZCAtIG5vdGNoX3cgLyAyLCB5ICsgeW9mZnMsXG4gIC8vICAgICAgIHogKyAwLjI1LCBub3RjaF93LCBub3RjaF9oLCAwLCBjb2xvcik7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gSGFuZGxlXG4gIGxldCBkcmFnID0gIWRpc2FibGVkICYmIGdsb3ZfaW5wdXQuZHJhZyhwYXJhbSk7XG4gIGxldCBncmFiYmVkID0gQm9vbGVhbihkcmFnKTtcbiAgbGV0IGNsaWNrID0gZ2xvdl9pbnB1dC5jbGljayhwYXJhbSk7XG4gIGlmIChjbGljaykge1xuICAgIGdyYWJiZWQgPSBmYWxzZTtcbiAgICAvLyB1cGRhdGUgcG9zXG4gICAgdmFsdWUgPSAoY2xpY2sucG9zWzBdIC0gKHBhcmFtLnggKyB4b2ZmcykpIC8gZHJhZ2dhYmxlX3dpZHRoO1xuICAgIHZhbHVlID0gcGFyYW0ubWluICsgKHBhcmFtLm1heCAtIHBhcmFtLm1pbikgKiBjbGFtcCh2YWx1ZSwgMCwgMSk7XG4gICAgcGxheVVJU291bmQoJ2J1dHRvbl9jbGljaycpO1xuICB9IGVsc2UgaWYgKGdyYWJiZWQpIHtcbiAgICAvLyB1cGRhdGUgcG9zXG4gICAgdmFsdWUgPSAoZHJhZy5jdXJfcG9zWzBdIC0gKHBhcmFtLnggKyB4b2ZmcykpIC8gZHJhZ2dhYmxlX3dpZHRoO1xuICAgIHZhbHVlID0gcGFyYW0ubWluICsgKHBhcmFtLm1heCAtIHBhcmFtLm1pbikgKiBjbGFtcCh2YWx1ZSwgMCwgMSk7XG4gICAgLy8gRWF0IGFsbCBtb3VzZW92ZXJzIHdoaWxlIGRyYWdnaW5nXG4gICAgZ2xvdl9pbnB1dC5tb3VzZU92ZXIoKTtcbiAgICBzbGlkZXJfZHJhZ2dpbmcgPSB0cnVlO1xuICB9XG4gIGxldCByb2xsb3ZlciA9ICFkaXNhYmxlZCAmJiBnbG92X2lucHV0Lm1vdXNlT3ZlcihwYXJhbSk7XG4gIGxldCBoYW5kbGVfY2VudGVyX3BvcyA9IHBhcmFtLnggKyB4b2ZmcyArIGRyYWdnYWJsZV93aWR0aCAqICh2YWx1ZSAtIHBhcmFtLm1pbikgLyAocGFyYW0ubWF4IC0gcGFyYW0ubWluKTtcbiAgbGV0IGhhbmRsZV94ID0gaGFuZGxlX2NlbnRlcl9wb3MgLSBoYW5kbGVfdyAvIDI7XG4gIGxldCBoYW5kbGVfeSA9IHBhcmFtLnkgKyBwYXJhbS5oIC8gMiAtIGhhbmRsZV9oIC8gMjtcbiAgbGV0IGhhbmRsZV9jb2xvciA9IGNvbG9yX3NsaWRlcl9oYW5kbGU7XG4gIGlmIChncmFiYmVkKSB7XG4gICAgaGFuZGxlX2NvbG9yID0gY29sb3Jfc2xpZGVyX2hhbmRsZV9ncmFiO1xuICB9IGVsc2UgaWYgKHJvbGxvdmVyKSB7XG4gICAgaGFuZGxlX2NvbG9yID0gY29sb3Jfc2xpZGVyX2hhbmRsZV9vdmVyO1xuICB9XG5cbiAgc3ByaXRlcy5zbGlkZXJfaGFuZGxlLmRyYXcoe1xuICAgIHg6IGhhbmRsZV94LFxuICAgIHk6IGhhbmRsZV95LFxuICAgIHo6IHBhcmFtLnogKyAwLjEsXG4gICAgdzogaGFuZGxlX3csXG4gICAgaDogaGFuZGxlX2gsXG4gICAgY29sb3I6IGhhbmRsZV9jb2xvcixcbiAgICBmcmFtZTogMCxcbiAgfSk7XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5sZXQgcHBfYmFkX2ZyYW1lcyA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01lbnVVcCgpIHtcbiAgcmV0dXJuIG1vZGFsX2RpYWxvZyB8fCBtZW51X3VwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGlja1VJKGR0KSB7XG4gIGxhc3RfZnJhbWVfYnV0dG9uX21vdXNlb3ZlciA9IGZyYW1lX2J1dHRvbl9tb3VzZW92ZXI7XG4gIGZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgPSBmYWxzZTtcbiAgZm9jdXNlZF9sYXN0X2ZyYW1lID0gZm9jdXNlZF90aGlzX2ZyYW1lO1xuICBmb2N1c2VkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgZm9jdXNlZF9rZXlfbm90ID0gbnVsbDtcbiAgbW9kYWxfc3RlYWxpbmdfZm9jdXMgPSBmYWxzZTtcbiAgdG91Y2hfY2hhbmdlZF9mb2N1cyA9IGZhbHNlO1xuICBwZXJfZnJhbWVfZG9tX2FsbG9jW2dsb3ZfZW5naW5lLmZyYW1lX2luZGV4ICUgcGVyX2ZyYW1lX2RvbV9hbGxvYy5sZW5ndGhdID0gMDtcblxuICBsYXN0X2ZyYW1lX2VkaXRfYm94ZXMgPSBleHBvcnRzLnRoaXNfZnJhbWVfZWRpdF9ib3hlcztcbiAgZXhwb3J0cy50aGlzX2ZyYW1lX2VkaXRfYm94ZXMgPSBbXTtcbiAgbGlua1RpY2soKTtcblxuICBkb21fZWxlbXNfaXNzdWVkID0gMDtcblxuICBsZXQgcHBfdGhpc19mcmFtZSA9IGZhbHNlO1xuICBpZiAobW9kYWxfZGlhbG9nIHx8IG1lbnVfdXApIHtcbiAgICBsZXQgcGFyYW1zID0gbWVudV9mYWRlX3BhcmFtcztcbiAgICBpZiAoIW1lbnVfdXApIHtcbiAgICAgIC8vIE1vZGFscyBnZXQgZGVmYXVsdHNcbiAgICAgIHBhcmFtcyA9IG1lbnVfZmFkZV9wYXJhbXNfZGVmYXVsdDtcbiAgICB9XG4gICAgbWVudV91cF90aW1lICs9IGR0O1xuICAgIC8vIEVmZmVjdHMgZHVyaW5nIG1vZGFsIGRpYWxvZ3NcbiAgICBsZXQgZmFjdG9yID0gbWluKG1lbnVfdXBfdGltZSAvIDUwMCwgMSk7XG4gICAgaWYgKGdsb3ZfZW5naW5lLnBvc3Rwcm9jZXNzaW5nICYmICFnbG92X2VuZ2luZS5kZWZpbmVzLk5PUFApIHtcbiAgICAgIC8vIE5vdGU6IHRoaXMgbGVycCB1c2VkIHRvIGJlIGRvbmUgbGF0ZXIgaW4gdGhlIGZyYW1lIChkdXJpbmcgZHJhd2luZywgbm90IHF1ZXVlaW5nKSBhIHByb2JsZW0/XG4gICAgICBsZXQgYmx1cl9mYWN0b3IgPSBsZXJwKGZhY3RvciwgcGFyYW1zLmJsdXJbMF0sIHBhcmFtcy5ibHVyWzFdKTtcbiAgICAgIGlmIChibHVyX2ZhY3Rvcikge1xuICAgICAgICBlZmZlY3RzUXVldWUocGFyYW1zLnogLSAyLCBkb0JsdXJFZmZlY3QuYmluZChudWxsLCBibHVyX2ZhY3RvcikpO1xuICAgICAgfVxuICAgICAgbGV0IHNhdHVyYXRpb24gPSBsZXJwKGZhY3RvciwgcGFyYW1zLnNhdHVyYXRpb25bMF0sIHBhcmFtcy5zYXR1cmF0aW9uWzFdKTtcbiAgICAgIGxldCBicmlnaHRuZXNzID0gbGVycChmYWN0b3IsIHBhcmFtcy5icmlnaHRuZXNzWzBdLCBwYXJhbXMuYnJpZ2h0bmVzc1sxXSk7XG4gICAgICBpZiAoc2F0dXJhdGlvbiAhPT0gMSB8fCBicmlnaHRuZXNzICE9PSAxKSB7XG4gICAgICAgIGVmZmVjdHNRdWV1ZShwYXJhbXMueiAtIDEsIGRvRGVzYXR1cmF0ZUVmZmVjdC5iaW5kKG51bGwsIHNhdHVyYXRpb24sIGJyaWdodG5lc3MpKTtcbiAgICAgIH1cbiAgICAgIHBwX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPciwganVzdCBkYXJrZW5cbiAgICAgIHNwcml0ZXMud2hpdGUuZHJhdyh7XG4gICAgICAgIHg6IGNhbWVyYTJkLngwUmVhbCgpLFxuICAgICAgICB5OiBjYW1lcmEyZC55MFJlYWwoKSxcbiAgICAgICAgejogcGFyYW1zLnogLSAyLFxuICAgICAgICBjb2xvcjogcGFyYW1zLmZhbGxiYWNrX2RhcmtlbixcbiAgICAgICAgdzogY2FtZXJhMmQud1JlYWwoKSxcbiAgICAgICAgaDogY2FtZXJhMmQuaFJlYWwoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtZW51X3VwX3RpbWUgPSAwO1xuICB9XG4gIG1lbnVfdXAgPSBmYWxzZTtcblxuICBpZiAoIWdsb3ZfZW5naW5lLmlzX2xvYWRpbmcgJiYgZ2xvdl9lbmdpbmUuZ2V0RnJhbWVEdEFjdHVhbCgpID4gNTAgJiYgcHBfdGhpc19mcmFtZSkge1xuICAgIHBwX2JhZF9mcmFtZXMgPSAocHBfYmFkX2ZyYW1lcyB8fCAwKSArIDE7XG4gICAgaWYgKHBwX2JhZF9mcmFtZXMgPj0gNikgeyAvLyA2IGluIGEgcm93LCBkaXNhYmxlIHN1cGVyZmx1b3VzIHBvc3Rwcm9jZXNzaW5nXG4gICAgICBnbG92X2VuZ2luZS5wb3N0cHJvY2Vzc2luZ0FsbG93KGZhbHNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHBfYmFkX2ZyYW1lcykge1xuICAgIHBwX2JhZF9mcmFtZXMgPSAwO1xuICB9XG5cblxuICBpZiAobW9kYWxfZGlhbG9nKSB7XG4gICAgbW9kYWxEaWFsb2dSdW4oKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5kRnJhbWUoKSB7XG4gIGlmIChnbG92X2lucHV0LmNsaWNrKHtcbiAgICB4OiAtSW5maW5pdHksIHk6IC1JbmZpbml0eSxcbiAgICB3OiBJbmZpbml0eSwgaDogSW5maW5pdHksXG4gIH0pKSB7XG4gICAgZm9jdXNTdGVhbCgnY2FudmFzJyk7XG4gIH1cblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGFzdF9mcmFtZV9lZGl0X2JveGVzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBlZGl0X2JveCA9IGxhc3RfZnJhbWVfZWRpdF9ib3hlc1tpaV07XG4gICAgbGV0IGlkeCA9IGV4cG9ydHMudGhpc19mcmFtZV9lZGl0X2JveGVzLmluZGV4T2YoZWRpdF9ib3gpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICBlZGl0X2JveC51bnJ1bigpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChkb21fZWxlbXNfaXNzdWVkIDwgZG9tX2VsZW1zLmxlbmd0aCkge1xuICAgIGxldCBlbGVtID0gZG9tX2VsZW1zLnBvcCgpO1xuICAgIGR5bmFtaWNfdGV4dF9lbGVtLnJlbW92ZUNoaWxkKGVsZW0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwRE9NRWxlbXMoKSB7XG4gIHdoaWxlIChkb21fZWxlbXMubGVuZ3RoKSB7XG4gICAgbGV0IGVsZW0gPSBkb21fZWxlbXMucG9wKCk7XG4gICAgZHluYW1pY190ZXh0X2VsZW0ucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbnVVcChwYXJhbSkge1xuICBtZXJnZShtZW51X2ZhZGVfcGFyYW1zLCBtZW51X2ZhZGVfcGFyYW1zX2RlZmF1bHQpO1xuICBpZiAocGFyYW0pIHtcbiAgICBtZXJnZShtZW51X2ZhZGVfcGFyYW1zLCBwYXJhbSk7XG4gIH1cbiAgbWVudV91cCA9IHRydWU7XG4gIG1vZGFsX3N0ZWFsaW5nX2ZvY3VzID0gdHJ1ZTtcbiAgZ2xvdl9pbnB1dC5lYXRBbGxJbnB1dCgpO1xufVxuXG5mdW5jdGlvbiBjb3B5VGV4dFRvQ2xpcGJvYXJkKHRleHQpIHtcbiAgbGV0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgdGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICB0ZXh0QXJlYS5zdHlsZS50b3AgPSAwO1xuICB0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gMDtcbiAgdGV4dEFyZWEuc3R5bGUud2lkdGggPSAnMmVtJztcbiAgdGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gJzJlbSc7XG4gIHRleHRBcmVhLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnO1xuICB0ZXh0QXJlYS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcbiAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0O1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpO1xuICB0ZXh0QXJlYS5mb2N1cygpO1xuICB0ZXh0QXJlYS5zZWxlY3QoKTtcblxuICBsZXQgcmV0ID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgcmV0ID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gZG8gbm90aGluZ1xuICB9XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm92aWRlVXNlclN0cmluZyh0aXRsZSwgdGhpbmcsIHN0cikge1xuICBsZXQgY29weV9zdWNjZXNzID0gY29weVRleHRUb0NsaXBib2FyZChzdHIpO1xuICBtb2RhbFRleHRFbnRyeSh7XG4gICAgZWRpdF93OiA0MDAsXG4gICAgZWRpdF90ZXh0OiBzdHIsXG4gICAgdGl0bGUsXG4gICAgdGV4dDogY29weV9zdWNjZXNzID8gYCR7dGhpbmd9IGNvcGllZCB0byBjbGlwYm9hcmQhYCA6ICdDb3B5IHRvIGNsaXBib2FyZCBGQUlMRUQsIHBsZWFzZSBjb3B5IGZyb20gYmVsb3dcXG4nLFxuICAgIGJ1dHRvbnM6IHtcbiAgICAgIE9LOiBudWxsLFxuICAgIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1JlY3QoeDAsIHkwLCB4MSwgeTEsIHosIGNvbG9yKSB7XG4gIGxldCBteCA9IG1pbih4MCwgeDEpO1xuICBsZXQgbXkgPSBtaW4oeTAsIHkxKTtcbiAgbGV0IE14ID0gbWF4KHgwLCB4MSk7XG4gIGxldCBNeSA9IG1heCh5MCwgeTEpO1xuICBzcHJpdGVzLndoaXRlLmRyYXcoe1xuICAgIHg6IG14LFxuICAgIHk6IG15LFxuICAgIHosXG4gICAgY29sb3IsXG4gICAgdzogTXggLSBteCxcbiAgICBoOiBNeSAtIG15LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdSZWN0MihwYXJhbSkge1xuICBkcmF3UmVjdChwYXJhbS54LCBwYXJhbS55LCBwYXJhbS54ICsgcGFyYW0udywgcGFyYW0ueSArIHBhcmFtLmgsIHBhcmFtLnosIHBhcmFtLmNvbG9yKTtcbn1cblxuZnVuY3Rpb24gc3ByZWFkVGVjaFBhcmFtcyhzcHJlYWQpIHtcbiAgLy8gc3ByZWFkPTAgLT4gMVxuICAvLyBzcHJlYWQ9MC41IC0+IDJcbiAgLy8gc3ByZWFkPTAuNzUgLT4gNFxuICAvLyBzcHJlYWQ9MSAtPiBsYXJnZSBlbm91Z2ggdG8gQUFcbiAgc3ByZWFkID0gbWluKG1heChzcHJlYWQsIDApLCAwLjk5KTtcblxuICBsZXQgdGVjaF9wYXJhbXMgPSB7XG4gICAgcGFyYW0wOiB2ZWM0KDAsMCwwLDApLFxuICB9O1xuXG4gIHRlY2hfcGFyYW1zLnBhcmFtMFswXSA9IDEgLyAoMSAtIHNwcmVhZCk7XG4gIHRlY2hfcGFyYW1zLnBhcmFtMFsxXSA9IC0wLjUgKiB0ZWNoX3BhcmFtcy5wYXJhbTBbMF0gKyAwLjU7XG4gIHJldHVybiB0ZWNoX3BhcmFtcztcbn1cblxuZnVuY3Rpb24gZHJhd0VsaXBzZUludGVybmFsKHNwcml0ZSwgeDAsIHkwLCB4MSwgeTEsIHosIHNwcmVhZCwgdHUwLCB0djAsIHR1MSwgdHYxLCBjb2xvciwgYmxlbmQpIHtcbiAgZ2xvdl9zcHJpdGVzLnF1ZXVlcmF3KHNwcml0ZS50ZXhzLFxuICAgIHgwLCB5MCwgeiwgeDEgLSB4MCwgeTEgLSB5MCxcbiAgICB0dTAsIHR2MCwgdHUxLCB0djEsXG4gICAgY29sb3IsIGdsb3ZfZm9udC5mb250X3NoYWRlcnMuZm9udF9hYSwgc3ByZWFkVGVjaFBhcmFtcyhzcHJlYWQpLCBibGVuZCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdDaXJjbGVJbnRlcm5hbChzcHJpdGUsIHgsIHksIHosIHIsIHNwcmVhZCwgdHUwLCB0djAsIHR1MSwgdHYxLCBjb2xvciwgYmxlbmQpIHtcbiAgbGV0IHgwID0geCAtIHIgKiAyICsgciAqIDQgKiB0dTA7XG4gIGxldCB4MSA9IHggLSByICogMiArIHIgKiA0ICogdHUxO1xuICBsZXQgeTAgPSB5IC0gciAqIDIgKyByICogNCAqIHR2MDtcbiAgbGV0IHkxID0geSAtIHIgKiAyICsgciAqIDQgKiB0djE7XG4gIGRyYXdFbGlwc2VJbnRlcm5hbChzcHJpdGUsIHgwLCB5MCwgeDEsIHkxLCB6LCBzcHJlYWQsIHR1MCwgdHYwLCB0dTEsIHR2MSwgY29sb3IsIGJsZW5kKTtcbn1cblxuZnVuY3Rpb24gaW5pdENpcmNsZVNwcml0ZSgpIHtcbiAgY29uc3QgQ0lSQ0xFX1NJWkUgPSAzMjtcbiAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDSVJDTEVfU0laRSpDSVJDTEVfU0laRSk7XG4gIGxldCBtaWRwID0gKENJUkNMRV9TSVpFIC0gMSkgLyAyO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IENJUkNMRV9TSVpFOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IENJUkNMRV9TSVpFOyBqKyspIHtcbiAgICAgIGxldCBkID0gc3FydCgoaSAtIG1pZHApKihpIC0gbWlkcCkgKyAoaiAtIG1pZHApKihqIC0gbWlkcCkpIC8gbWlkcDtcbiAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgZGF0YVtpICsgaipDSVJDTEVfU0laRV0gPSB2ICogMjU1O1xuICAgIH1cbiAgfVxuICBzcHJpdGVzLmNpcmNsZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgIHVybDogJ2NpcmNsZScsXG4gICAgd2lkdGg6IENJUkNMRV9TSVpFLCBoZWlnaHQ6IENJUkNMRV9TSVpFLFxuICAgIGZvcm1hdDogdGV4dHVyZXMuZm9ybWF0LlI4LFxuICAgIGRhdGEsXG4gICAgZmlsdGVyX21pbjogZ2wuTElORUFSLFxuICAgIGZpbHRlcl9tYWc6IGdsLkxJTkVBUixcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgIG9yaWdpbjogdmVjMigwLjUsIDAuNSksXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0VsaXBzZSh4MCwgeTAsIHgxLCB5MSwgeiwgc3ByZWFkLCBjb2xvciwgYmxlbmQpIHtcbiAgaWYgKCFzcHJpdGVzLmNpcmNsZSkge1xuICAgIGluaXRDaXJjbGVTcHJpdGUoKTtcbiAgfVxuICBkcmF3RWxpcHNlSW50ZXJuYWwoc3ByaXRlcy5jaXJjbGUsIHgwLCB5MCwgeDEsIHkxLCB6LCBzcHJlYWQsIDAsIDAsIDEsIDEsIGNvbG9yLCBibGVuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3Q2lyY2xlKHgsIHksIHosIHIsIHNwcmVhZCwgY29sb3IsIGJsZW5kKSB7XG4gIGlmICghc3ByaXRlcy5jaXJjbGUpIHtcbiAgICBpbml0Q2lyY2xlU3ByaXRlKCk7XG4gIH1cbiAgZHJhd0NpcmNsZUludGVybmFsKHNwcml0ZXMuY2lyY2xlLCB4LCB5LCB6LCByLCBzcHJlYWQsIDAsIDAsIDEsIDEsIGNvbG9yLCBibGVuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SG9sbG93Q2lyY2xlKHgsIHksIHosIHIsIHNwcmVhZCwgY29sb3IsIGJsZW5kKSB7XG4gIGlmICghc3ByaXRlcy5ob2xsb3dfY2lyY2xlKSB7XG4gICAgY29uc3QgQ0lSQ0xFX1NJWkUgPSAxMjg7XG4gICAgY29uc3QgTElORV9XID0gMjtcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KENJUkNMRV9TSVpFKkNJUkNMRV9TSVpFKTtcbiAgICBsZXQgbWlkcCA9IChDSVJDTEVfU0laRSAtIDEpIC8gMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IENJUkNMRV9TSVpFOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgQ0lSQ0xFX1NJWkU7IGorKykge1xuICAgICAgICBsZXQgZCA9IHNxcnQoKGkgLSBtaWRwKSooaSAtIG1pZHApICsgKGogLSBtaWRwKSooaiAtIG1pZHApKSAvIG1pZHA7XG4gICAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgICBpZiAodiA+IDAuNSkge1xuICAgICAgICAgIHYgPSAxIC0gdjtcbiAgICAgICAgfVxuICAgICAgICB2ICs9IChMSU5FX1cgLyBDSVJDTEVfU0laRSk7XG4gICAgICAgIGRhdGFbaSArIGoqQ0lSQ0xFX1NJWkVdID0gdiAqIDI1NTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3ByaXRlcy5ob2xsb3dfY2lyY2xlID0gZ2xvdl9zcHJpdGVzLmNyZWF0ZSh7XG4gICAgICB1cmw6ICdob2xsb3dfY2lyY2xlJyxcbiAgICAgIHdpZHRoOiBDSVJDTEVfU0laRSwgaGVpZ2h0OiBDSVJDTEVfU0laRSxcbiAgICAgIGZvcm1hdDogdGV4dHVyZXMuZm9ybWF0LlI4LFxuICAgICAgZGF0YSxcbiAgICAgIGZpbHRlcl9taW46IGdsLkxJTkVBUixcbiAgICAgIGZpbHRlcl9tYWc6IGdsLkxJTkVBUixcbiAgICAgIHdyYXBfczogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgIG9yaWdpbjogdmVjMigwLjUsIDAuNSksXG4gICAgfSk7XG4gIH1cbiAgZHJhd0NpcmNsZUludGVybmFsKHNwcml0ZXMuaG9sbG93X2NpcmNsZSwgeCwgeSwgeiwgciwgc3ByZWFkLCAwLCAwLCAxLCAxLCBjb2xvciwgYmxlbmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0xpbmUoeDAsIHkwLCB4MSwgeTEsIHosIHcsIHNwcmVhZCwgY29sb3IpIHtcbiAgaWYgKCFzcHJpdGVzLmxpbmUpIHtcbiAgICBjb25zdCBMSU5FX1NJWkU9MzI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShMSU5FX1NJWkUqTElORV9TSVpFKTtcbiAgICBsZXQgbWlkcCA9IChMSU5FX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBMSU5FX1NJWkU7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBMSU5FX1NJWkU7IGorKykge1xuICAgICAgICBsZXQgZCA9IGFicygoaSAtIG1pZHApIC8gbWlkcCk7XG4gICAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgICBkYXRhW2kgKyBqKkxJTkVfU0laRV0gPSB2ICogMjU1O1xuICAgICAgfVxuICAgIH1cbiAgICBzcHJpdGVzLmxpbmUgPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHtcbiAgICAgIHVybDogJ2xpbmUnLFxuICAgICAgd2lkdGg6IExJTkVfU0laRSwgaGVpZ2h0OiBMSU5FX1NJWkUsXG4gICAgICBmb3JtYXQ6IHRleHR1cmVzLmZvcm1hdC5SOCxcbiAgICAgIGRhdGEsXG4gICAgICBmaWx0ZXJfbWluOiBnbC5MSU5FQVIsXG4gICAgICBmaWx0ZXJfbWFnOiBnbC5MSU5FQVIsXG4gICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGR4ID0geDEgLSB4MDtcbiAgbGV0IGR5ID0geTEgLSB5MDtcbiAgbGV0IGxlbmd0aCA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcbiAgZHggLz0gbGVuZ3RoO1xuICBkeSAvPSBsZW5ndGg7XG4gIGxldCB0YW5neCA9IC1keSAqIHc7XG4gIGxldCB0YW5neSA9IGR4ICogdztcblxuICBnbG92X3Nwcml0ZXMucXVldWVyYXc0KHNwcml0ZXMubGluZS50ZXhzLFxuICAgIHgwICsgdGFuZ3gsIHkwICsgdGFuZ3ksXG4gICAgeDEgKyB0YW5neCwgeTEgKyB0YW5neSxcbiAgICB4MSAtIHRhbmd4LCB5MSAtIHRhbmd5LFxuICAgIHgwIC0gdGFuZ3gsIHkwIC0gdGFuZ3ksXG4gICAgeixcbiAgICAwLCAwLCAxLCAxLFxuICAgIGNvbG9yLCBnbG92X2ZvbnQuZm9udF9zaGFkZXJzLmZvbnRfYWEsIHNwcmVhZFRlY2hQYXJhbXMoc3ByZWFkKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SG9sbG93UmVjdCh4MCwgeTAsIHgxLCB5MSwgeiwgdywgc3ByZWFkLCBjb2xvcikge1xuICBkcmF3TGluZSh4MCwgeTAsIHgxLCB5MCwgeiwgdywgc3ByZWFkLCBjb2xvcik7XG4gIGRyYXdMaW5lKHgxLCB5MCwgeDEsIHkxLCB6LCB3LCBzcHJlYWQsIGNvbG9yKTtcbiAgZHJhd0xpbmUoeDEsIHkxLCB4MCwgeTEsIHosIHcsIHNwcmVhZCwgY29sb3IpO1xuICBkcmF3TGluZSh4MCwgeTEsIHgwLCB5MCwgeiwgdywgc3ByZWFkLCBjb2xvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SG9sbG93UmVjdDIocGFyYW0pIHtcbiAgZHJhd0hvbGxvd1JlY3QocGFyYW0ueCwgcGFyYW0ueSwgcGFyYW0ueCArIHBhcmFtLncsIHBhcmFtLnkgKyBwYXJhbS5oLFxuICAgIHBhcmFtLnogfHwgWi5VSSwgcGFyYW0ubGluZV93aWR0aCB8fCAxLCBwYXJhbS5zcHJlYWQgfHwgMSwgcGFyYW0uY29sb3IgfHwgdW5pdF92ZWMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0NvbmUoeDAsIHkwLCB4MSwgeTEsIHosIHcwLCB3MSwgc3ByZWFkLCBjb2xvcikge1xuICBpZiAoIXNwcml0ZXMuY29uZSkge1xuICAgIGNvbnN0IENPTkVfU0laRSA9IDMyO1xuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoQ09ORV9TSVpFKkNPTkVfU0laRSk7XG4gICAgbGV0IG1pZHAgPSAoQ09ORV9TSVpFIC0gMSkgLyAyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ09ORV9TSVpFOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgQ09ORV9TSVpFOyBqKyspIHtcbiAgICAgICAgbGV0IGR4ID0gMDtcbiAgICAgICAgbGV0IGR5ID0gMDtcbiAgICAgICAgbGV0IGQgPSAwO1xuICAgICAgICBpZiAoaSA+IG1pZHApIHtcbiAgICAgICAgICBkeCA9IChpIC0gbWlkcCkgLyBtaWRwO1xuICAgICAgICAgIGR5ID0gYWJzKGogLSBtaWRwKSAvIG1pZHA7XG4gICAgICAgICAgbGV0IGRDaXJjbGUgPSBzcXJ0KGR4KmR4ICsgZHkqZHkpO1xuICAgICAgICAgIGQgPSBkeCAqIGRDaXJjbGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBjbGFtcCgxIC0gZCwgMCwgMSk7XG4gICAgICAgIGRhdGFbaSArIGoqQ09ORV9TSVpFXSA9IHYgKiAyNTU7XG4gICAgICB9XG4gICAgfVxuICAgIHNwcml0ZXMuY29uZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgICAgdXJsOiAnY29uZScsXG4gICAgICB3aWR0aDogQ09ORV9TSVpFLCBoZWlnaHQ6IENPTkVfU0laRSxcbiAgICAgIGZvcm1hdDogdGV4dHVyZXMuZm9ybWF0LlI4LFxuICAgICAgZGF0YSxcbiAgICAgIGZpbHRlcl9taW46IGdsLkxJTkVBUixcbiAgICAgIGZpbHRlcl9tYWc6IGdsLkxJTkVBUixcbiAgICAgIHdyYXBfczogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgIG9yaWdpbjogdmVjMigwLjUsIDAuNSksXG4gICAgfSk7XG4gIH1cbiAgbGV0IGR4ID0geDEgLSB4MDtcbiAgbGV0IGR5ID0geTEgLSB5MDtcbiAgbGV0IGxlbmd0aCA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcbiAgZHggLz0gbGVuZ3RoO1xuICBkeSAvPSBsZW5ndGg7XG4gIGxldCB0YW5neCA9IC1keTtcbiAgbGV0IHRhbmd5ID0gZHg7XG4gIGdsb3Zfc3ByaXRlcy5xdWV1ZXJhdzQoc3ByaXRlcy5jb25lLnRleHMsXG4gICAgeDAgLSB0YW5neCp3MCwgeTAgLSB0YW5neSp3MCxcbiAgICB4MCArIHRhbmd4KncwLCB5MCArIHRhbmd5KncwLFxuICAgIHgxICsgdGFuZ3gqdzEsIHkxICsgdGFuZ3kqdzEsXG4gICAgeDEgLSB0YW5neCp3MSwgeTEgLSB0YW5neSp3MSxcbiAgICB6LFxuICAgIDAsIDAsIDEsIDEsXG4gICAgY29sb3IsIGdsb3ZfZm9udC5mb250X3NoYWRlcnMuZm9udF9hYSwgc3ByZWFkVGVjaFBhcmFtcyhzcHJlYWQpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlU2l6ZXMoc2NhbGUpIHtcbiAgYnV0dG9uX2hlaWdodCA9IHJvdW5kKDMyICogc2NhbGUpO1xuICBmb250X2hlaWdodCA9IHJvdW5kKDI0ICogc2NhbGUpO1xuICBidXR0b25fd2lkdGggPSByb3VuZCgyMDAgKiBzY2FsZSk7XG4gIGJ1dHRvbl9pbWdfc2l6ZSA9IGJ1dHRvbl9oZWlnaHQ7XG4gIG1vZGFsX2J1dHRvbl93aWR0aCA9IHJvdW5kKGJ1dHRvbl93aWR0aCAvIDIpO1xuICBtb2RhbF93aWR0aCA9IHJvdW5kKDYwMCAqIHNjYWxlKTtcbiAgbW9kYWxfeTAgPSByb3VuZCgyMDAgKiBzY2FsZSk7XG4gIG1vZGFsX3RpdGxlX3NjYWxlID0gMS4yO1xuICBtb2RhbF9wYWQgPSByb3VuZCgxNiAqIHNjYWxlKTtcbiAgdG9vbHRpcF93aWR0aCA9IHJvdW5kKDQwMCAqIHNjYWxlKTtcbiAgdG9vbHRpcF9wYWQgPSByb3VuZCg4ICogc2NhbGUpO1xuICBwYW5lbF9waXhlbF9zY2FsZSA9IGJ1dHRvbl9oZWlnaHQgLyAxMzsgLy8gYnV0dG9uX2hlaWdodCAvIHBhbmVsIHBpeGVsIHJlc29sdXRpb25cbiAgdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSA9IHBhbmVsX3BpeGVsX3NjYWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UGFuZWxQaXhlbFNjYWxlKHNjYWxlKSB7XG4gIHRvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGUgPSBwYW5lbF9waXhlbF9zY2FsZSA9IHNjYWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TW9kYWxTaXplcyhfbW9kYWxfYnV0dG9uX3dpZHRoLCB3aWR0aCwgeTAsIHRpdGxlX3NjYWxlLCBwYWQpIHtcbiAgbW9kYWxfYnV0dG9uX3dpZHRoID0gX21vZGFsX2J1dHRvbl93aWR0aCB8fCByb3VuZChidXR0b25fd2lkdGggLyAyKTtcbiAgbW9kYWxfd2lkdGggPSB3aWR0aCB8fCA2MDA7XG4gIG1vZGFsX3kwID0geTAgfHwgMjAwO1xuICBtb2RhbF90aXRsZV9zY2FsZSA9IHRpdGxlX3NjYWxlIHx8IDEuMjtcbiAgbW9kYWxfcGFkID0gcGFkIHx8IG1vZGFsX3BhZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEZvbnRIZWlnaHQoX2ZvbnRfaGVpZ2h0KSB7XG4gIGZvbnRfaGVpZ2h0ID0gX2ZvbnRfaGVpZ2h0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VG9vbHRpcFdpZHRoKF90b29sdGlwX3dpZHRoLCBfdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSkge1xuICB0b29sdGlwX3dpZHRoID0gX3Rvb2x0aXBfd2lkdGg7XG4gIHRvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGUgPSBfdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZTtcbiAgdG9vbHRpcF9wYWQgPSBtb2RhbF9wYWQgLyAyICogX3Rvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGU7XG59XG5cbnNjYWxlU2l6ZXMoMSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG4vKlxuICBBUEkgdXNhZ2U6XG4gIGVuZ2luZS5kZWZpbmVzID0gdXJsaGFzaC5yZWdpc3Rlcih7XG4gICAga2V5OiAnRCcsXG4gICAgdHlwZTogU0VULFxuICB9KTtcbiAgdXJsaGFzaC5yZWdpc3Rlcih7XG4gICAga2V5OiAncG9zJyxcbiAgICAvLyB0eXBlOiBUWVBFX1NUUklORyxcbiAgICBjaGFuZ2U6IChuZXd2YWx1ZSkgPT4ge30sXG4gICAgdGl0bGU6ICh2YWx1ZSkgPT4gJ3N0cmluZycsXG4gICAgZGVmOiAnMSwyJyxcbiAgICBoaWRlczogeyBvdGhlcmZpZWxkOiB0cnVlIH0sXG4gICAgcHVzaDogdHJ1ZSwgLy8gZG8gYSBwdXNoU3RhdGUgaW5zdGVhZCBvZiByZXBsYWNlU3RhdGUgd2hlbiB0aGlzIGNoYW5nZXNcbiAgICBoaWRlX3ZhbHVlczogeyBmb286IHRydWUgfSwgLy8gZG8gbm90IGFkZCB0byBVUkwgaWYgdmFsdWVzIGlzIGluIHRoZSBwcm92aWRlZCBzZXRcbiAgfSk7XG4gIHVybGhhc2guc2V0KCdwb3MnLCAnMyw0Jyk7XG4gIHVybGhhc2guZ2V0KCdwb3MnKVxuXG4gIHVybGhhc2gucm91dGUoJ3cvOncnKSAgICAgLy8gdXNlIFVSTHMgbGlrZSBmb28uY29tL3cvMSAgIGluc3RlYWQgb2YgZm9vLmNvbS8/dz0xXG4gIHVybGhhc2gucm91dGUoJ3cvOncvOndnJykgIC8vIHVzZSBVUkxzIGxpa2UgZm9vLmNvbS93LzEvMiBpbnN0ZWFkIG9mIGZvby5jb20vP3c9MSZ3Zz0yXG5cbiAgLy8gQ2FsbGVkIHdoZW5ldmVyIHRoZSBVUkwgc3RhdGUgaXMgcHVzaGVkLCBldmVuIGlmIHRvIGV4YWN0bHkgdGhlIHNhbWUgVVJMIChlLmcuIG9uIGxpbmsgY2xpY2spXG4gIHVybGhhc2gub25DaGFuZ2UoY2IpXG4qL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgY2FsbEVhY2ggfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5cbmNvbnN0IEhJU1RPUllfVVBEQVRFX1RJTUUgPSAxMDAwO1xuXG5leHBvcnQgbGV0IFRZUEVfU0VUID0gJ3NldCc7XG5leHBvcnQgbGV0IFRZUEVfU1RSSU5HID0gJ3N0cmluZyc7XG5cbmxldCBwYXJhbXMgPSB7fTtcblxubGV0IHRpdGxlX3N1ZmZpeCA9ICcnO1xuXG5sZXQgcGFnZV9iYXNlID0gKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfHwgJycpLm1hdGNoKC9eW14jP10rLylbMF07XG5pZiAoIXBhZ2VfYmFzZS5lbmRzV2l0aCgnLycpKSB7IC8vIGUuZy4gaHR0cDovL2Zvby5iYXIvaW5kZXguaHRtbFxuICBwYWdlX2Jhc2UgKz0gJz8nO1xufVxuLy9SZW1vdmVzIGluZGV4Lmh0bWwgZXQgYWxsXG5sZXQgdXJsX2Jhc2UgPSBwYWdlX2Jhc2UucmVwbGFjZSgvW14vXSokLywnJyk7XG5sZXQgb25fY2hhbmdlID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVUkxCYXNlKCkge1xuICByZXR1cm4gdXJsX2Jhc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVUkxQYWdlQmFzZSgpIHtcbiAgcmV0dXJuIHBhZ2VfYmFzZTtcbn1cblxubGV0IGFwaV9wYXRoO1xuLy8gUGF0aCBiYXNlIGxpa2UgaHR0cDovL2Zvby5iYXIvYXBpLyAod2l0aCB0cmFpbGluZyBzbGFzaFxuZXhwb3J0IGZ1bmN0aW9uIHNldEFQSVBhdGgocGF0aCkge1xuICBhcGlfcGF0aCA9IHBhdGg7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QVBJUGF0aCgpIHtcbiAgcmV0dXJuIGFwaV9wYXRoIHx8IGAke2dldFVSTEJhc2UoKX1hcGkvYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ2hhbmdlKGNiKSB7XG4gIG9uX2NoYW5nZS5wdXNoKGNiKTtcbn1cblxuZnVuY3Rpb24gY21wTnVtS2V5cyhhLCBiKSB7XG4gIGxldCBkID0gYi5rZXlzLmxlbmd0aCAtIGEua2V5cy5sZW5ndGg7XG4gIGlmIChkKSB7XG4gICAgcmV0dXJuIGQ7XG4gIH1cbiAgLy8gb3RoZXJ3aXNlIGFscGhhYmV0aWNhbCBmb3Igc3RhYmlsaXR5XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBhLmtleXMubGVuZ3RoOyArK2lpKSB7XG4gICAgaWYgKGEua2V5c1tpaV0gPCBiLmtleXNbaWldKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIGlmIChhLmtleXNbaWldID4gYi5rZXlzW2lpXSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9XG4gIGFzc2VydChmYWxzZSk7IC8vIHR3byByb3V0ZXMgd2l0aCBpZGVudGljYWwga2V5c1xuICByZXR1cm4gMDtcbn1cblxuY29uc3Qgcm91dGVfcGFyYW1fcmVnZXggPSAvOihcXHcrKS9nO1xubGV0IHJvdXRlcyA9IFtdO1xuXG5mdW5jdGlvbiBxdWVyeVN0cmluZygpIHtcbiAgbGV0IGhyZWYgPSBTdHJpbmcoZG9jdW1lbnQubG9jYXRpb24pO1xuICByZXR1cm4gaHJlZi5zbGljZShwYWdlX2Jhc2UubGVuZ3RoKTtcbn1cblxuY29uc3QgcmVnZXhfdmFsdWUgPSAvW15cXHddXFx3Kz0oW14mXSspLztcbmZ1bmN0aW9uIGdldFZhbHVlKHF1ZXJ5X3N0cmluZywgb3B0cykge1xuICBpZiAob3B0cy5yb3V0ZXMpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgb3B0cy5yb3V0ZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgciA9IG9wdHMucm91dGVzW2lpXTtcbiAgICAgIGxldCBtID0gcXVlcnlfc3RyaW5nLm1hdGNoKHIucmVnZXgpO1xuICAgICAgaWYgKG0pIHtcbiAgICAgICAgbGV0IGlkeCA9IHIua2V5cy5pbmRleE9mKG9wdHMua2V5KTtcbiAgICAgICAgcmV0dXJuIG1bMSArIGlkeF07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBtID0gcXVlcnlfc3RyaW5nLm1hdGNoKG9wdHMucmVnZXgpIHx8IFtdO1xuICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCkge1xuICAgIGxldCByID0ge307XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG0ubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgbTIgPSBtW2lpXS5tYXRjaChyZWdleF92YWx1ZSk7XG4gICAgICBhc3NlcnQobTIpO1xuICAgICAgclttMlsxXV0gPSAxO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbVsxXSB8fCBvcHRzLmRlZjtcbiAgfVxufVxuXG5sZXQgbGFzdF9oaXN0b3J5X3N0ciA9IG51bGw7IC8vIGFsd2F5cyByZS1zZXQgaXQgb24gdGhlIGZpcnN0IHVwZGF0ZVxuXG5mdW5jdGlvbiBnb0ludGVybmFsKHF1ZXJ5X3N0cmluZykgeyAvLyB3aXRoIHRoZSAnPydcbiAgLy8gVXBkYXRlIGFsbCB2YWx1ZXMsIGV4Y2VwdCB0aG9zZSBoaWRkZW4gYnkgd2hhdCBpcyBjdXJyZW50bHkgaW4gdGhlIHF1ZXJ5IHN0cmluZ1xuICBsZXQgaGlkZGVuID0ge307XG4gIGZvciAobGV0IGtleSBpbiBwYXJhbXMpIHtcbiAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXldO1xuICAgIGlmIChvcHRzLmhpZGVzKSB7XG4gICAgICBpZiAoZ2V0VmFsdWUocXVlcnlfc3RyaW5nLCBvcHRzKSkge1xuICAgICAgICBmb3IgKGxldCBvdGhlcmtleSBpbiBvcHRzLmhpZGVzKSB7XG4gICAgICAgICAgaGlkZGVuW290aGVya2V5XSA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXQgZGlydHkgPSB7fTtcbiAgZm9yIChsZXQga2V5IGluIHBhcmFtcykge1xuICAgIGlmIChoaWRkZW5ba2V5XSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gICAgbGV0IG5ld192YWx1ZSA9IGdldFZhbHVlKHF1ZXJ5X3N0cmluZywgb3B0cyk7XG4gICAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQpIHtcbiAgICAgIGZvciAobGV0IHYgaW4gbmV3X3ZhbHVlKSB7XG4gICAgICAgIGlmICghb3B0cy52YWx1ZVt2XSkge1xuICAgICAgICAgIG9wdHMudmFsdWVbdl0gPSAxO1xuICAgICAgICAgIGRpcnR5W2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCB2IGluIG9wdHMudmFsdWUpIHtcbiAgICAgICAgaWYgKCFuZXdfdmFsdWVbdl0pIHtcbiAgICAgICAgICBkZWxldGUgb3B0cy52YWx1ZVt2XTtcbiAgICAgICAgICBkaXJ0eVtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmV3X3ZhbHVlICE9PSBvcHRzLnZhbHVlKSB7XG4gICAgICAgIGRpcnR5W2tleV0gPSB0cnVlO1xuICAgICAgICBvcHRzLnZhbHVlID0gbmV3X3ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENhbGwgYWxsIGNoYW5nZSBjYWxsYmFja3NcbiAgZm9yIChsZXQga2V5IGluIGRpcnR5KSB7XG4gICAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgICBpZiAob3B0cy5jaGFuZ2UpIHtcbiAgICAgIG9wdHMuY2hhbmdlKG9wdHMudmFsdWUpO1xuICAgIH1cbiAgfVxuICBjYWxsRWFjaChvbl9jaGFuZ2UpO1xufVxuXG5sZXQgZWZmX3RpdGxlO1xuZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIGVmZl90aXRsZSA9ICcnO1xuICBsZXQgdmFsdWVzID0gW107XG4gIGxldCBoaWRkZW4gPSB7fTtcbiAgZm9yIChsZXQga2V5IGluIHBhcmFtcykge1xuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gICAgaWYgKG9wdHMuaGlkZXMgJiYgb3B0cy52YWx1ZSkge1xuICAgICAgZm9yIChsZXQgb3RoZXJrZXkgaW4gb3B0cy5oaWRlcykge1xuICAgICAgICBoaWRkZW5bb3RoZXJrZXldID0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJvb3RfdmFsdWUgPSAnJztcbiAgb3V0ZXI6IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbGFiZWxzXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCByb3V0ZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHIgPSByb3V0ZXNbaWldO1xuICAgIGxldCByb3V0ZV90aXRsZSA9ICcnO1xuICAgIGZvciAobGV0IGpqID0gMDsgamogPCByLmtleXMubGVuZ3RoOyArK2pqKSB7XG4gICAgICBsZXQga2V5ID0gci5rZXlzW2pqXTtcbiAgICAgIGlmIChoaWRkZW5ba2V5XSkge1xuICAgICAgICBjb250aW51ZSBvdXRlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sYWJlbHNcbiAgICAgIH1cbiAgICAgIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gICAgICBpZiAob3B0cy5oaWRlX3ZhbHVlc1tvcHRzLnZhbHVlXSkge1xuICAgICAgICBjb250aW51ZSBvdXRlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sYWJlbHNcbiAgICAgIH1cbiAgICAgIC8vIGhhcyBhIHZhbHVlLCBpcyBub3QgaGlkZGVuLCBjb250aW51ZVxuICAgICAgaWYgKCFyb3V0ZV90aXRsZSAmJiBvcHRzLnRpdGxlKSB7XG4gICAgICAgIHJvdXRlX3RpdGxlID0gb3B0cy50aXRsZShvcHRzLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcm91dGUgaXMgZ29vZCFcbiAgICByb290X3ZhbHVlID0gci5yb3V0ZV9zdHJpbmcucmVwbGFjZShyb3V0ZV9wYXJhbV9yZWdleCwgZnVuY3Rpb24gKGlnbm9yZWQsIGtleSkge1xuICAgICAgaGlkZGVuW2tleV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIFN0cmluZyhwYXJhbXNba2V5XS52YWx1ZSk7XG4gICAgfSk7XG4gICAgaWYgKCFlZmZfdGl0bGUgJiYgcm91dGVfdGl0bGUpIHtcbiAgICAgIGVmZl90aXRsZSA9IHJvdXRlX3RpdGxlO1xuICAgIH1cbiAgICBicmVhaztcbiAgfVxuICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGhpZGRlbltrZXldKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCkge1xuICAgICAgZm9yIChsZXQgdiBpbiBvcHRzLnZhbHVlKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGAke2tleX09JHt2fWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW9wdHMuaGlkZV92YWx1ZXNbb3B0cy52YWx1ZV0pIHtcbiAgICAgICAgdmFsdWVzLnB1c2goYCR7a2V5fT0ke29wdHMudmFsdWV9YCk7XG4gICAgICAgIGlmICghZWZmX3RpdGxlICYmIG9wdHMudGl0bGUpIHtcbiAgICAgICAgICBlZmZfdGl0bGUgPSBvcHRzLnRpdGxlKG9wdHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh0aXRsZV9zdWZmaXgpIHtcbiAgICBpZiAoZWZmX3RpdGxlKSB7XG4gICAgICBlZmZfdGl0bGUgPSBgJHtlZmZfdGl0bGV9IHwgJHt0aXRsZV9zdWZmaXh9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWZmX3RpdGxlID0gdGl0bGVfc3VmZml4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYCR7cm9vdF92YWx1ZX0ke3ZhbHVlcy5sZW5ndGggPyAnPycgOiAnJ30ke3ZhbHVlcy5qb2luKCcmJyl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hUaXRsZSgpIHtcbiAgdG9TdHJpbmcoKTtcbiAgaWYgKGVmZl90aXRsZSAmJiBlZmZfdGl0bGUgIT09IGRvY3VtZW50LnRpdGxlKSB7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBlZmZfdGl0bGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVyaW9kaWNSZWZyZXNoVGl0bGUoKSB7XG4gIHJlZnJlc2hUaXRsZSgpO1xuICBzZXRUaW1lb3V0KHBlcmlvZGljUmVmcmVzaFRpdGxlLCAxMDAwKTtcbn1cblxuZnVuY3Rpb24gb25Qb3BTdGF0ZSgpIHtcbiAgbGV0IHF1ZXJ5X3N0cmluZyA9IHF1ZXJ5U3RyaW5nKCk7XG4gIGxhc3RfaGlzdG9yeV9zdHIgPSBxdWVyeV9zdHJpbmc7XG4gIGdvSW50ZXJuYWwocXVlcnlfc3RyaW5nKTtcbiAgcmVmcmVzaFRpdGxlKCk7XG59XG5cbmxldCBvbl91cmxfY2hhbmdlO1xuZXhwb3J0IGZ1bmN0aW9uIG9uVVJMQ2hhbmdlKGNiKSB7XG4gIG9uX3VybF9jaGFuZ2UgPSBjYjtcbn1cblxubGV0IGxhc3RfaGlzdG9yeV9zZXRfdGltZSA9IDA7XG5sZXQgc2NoZWR1bGVkID0gZmFsc2U7XG5sZXQgbmVlZF9wdXNoX3N0YXRlID0gZmFsc2U7XG5mdW5jdGlvbiB1cGRhdGVIaXN0b3J5KG5ld19uZWVkX3B1c2hfc3RhdGUpIHtcbiAgbGV0IG5ld19zdHIgPSB0b1N0cmluZygpO1xuICBpZiAobGFzdF9oaXN0b3J5X3N0ciA9PT0gbmV3X3N0cikge1xuICAgIHJldHVybjtcbiAgfVxuICBuZWVkX3B1c2hfc3RhdGUgPSBuZWVkX3B1c2hfc3RhdGUgfHwgbmV3X25lZWRfcHVzaF9zdGF0ZTtcbiAgbGFzdF9oaXN0b3J5X3N0ciA9IG5ld19zdHI7XG4gIGlmIChzY2hlZHVsZWQpIHtcbiAgICAvLyBhbHJlYWR5IHF1ZXVlZCB1cFxuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZGVsYXkgPSBISVNUT1JZX1VQREFURV9USU1FO1xuICBpZiAoRGF0ZS5ub3coKSAtIGxhc3RfaGlzdG9yeV9zZXRfdGltZSA+IEhJU1RPUllfVVBEQVRFX1RJTUUpIHtcbiAgICAvLyBCZWVuIGF3aGlsZSwgYXBwbHkgXCJpbnN0YW50bHlcIiAoYnV0IHN0aWxsIHdhaXQgdW50aWwgbmV4dCB0aWNrIHRvIGVuc3VyZVxuICAgIC8vICAgYW55IG90aGVyIGltbWVkaWF0ZSBjaGFuZ2VzIGFyZSByZWdpc3RlcmVkKVxuICAgIGRlbGF5ID0gMTtcbiAgfVxuICBzY2hlZHVsZWQgPSB0cnVlO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBsYXN0X2hpc3Rvcnlfc2V0X3RpbWUgPSBEYXRlLm5vdygpO1xuICAgIGxldCB1cmwgPSBgJHtwYWdlX2Jhc2V9JHtsYXN0X2hpc3Rvcnlfc3RyfWA7XG4gICAgaWYgKHVybC5lbmRzV2l0aCgnPycpKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKG5lZWRfcHVzaF9zdGF0ZSkge1xuICAgICAgICBuZWVkX3B1c2hfc3RhdGUgPSBmYWxzZTtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHVuZGVmaW5lZCwgZWZmX3RpdGxlLCB1cmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHVuZGVmaW5lZCwgZWZmX3RpdGxlLCB1cmwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGlnbm9yZTsgc29tZSBicm93c2VycyBkaXNhbGxvdyB0aGlzLCBJIGd1ZXNzXG4gICAgfVxuICAgIGlmIChlZmZfdGl0bGUpIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gZWZmX3RpdGxlO1xuICAgIH1cbiAgICBpZiAob25fdXJsX2NoYW5nZSkge1xuICAgICAgb25fdXJsX2NoYW5nZSgpO1xuICAgIH1cbiAgICAvL3dpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh1bmRlZmluZWQsIGVmZl90aXRsZSwgYCMke2xhc3RfaGlzdG9yeV9zdHJ9YCk7XG4gIH0sIGRlbGF5KTtcbn1cblxuLy8gT3B0aW9uYWwgc3RhcnR1cFxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAocGFyYW0pIHtcbiAgYXNzZXJ0KCF0aXRsZV9zdWZmaXgpO1xuICB0aXRsZV9zdWZmaXggPSBwYXJhbS50aXRsZV9zdWZmaXg7XG5cbiAgLy8gUmVmcmVzaCB0aGUgY3VycmVudCBVUkwsIGl0IG1pZ2h0IGJlIGluIHRoZSBub24tcm91dGUgZm9ybWF0XG4gIHVwZGF0ZUhpc3RvcnkoZmFsc2UpO1xuXG4gIGlmICh0aXRsZV9zdWZmaXgpIHtcbiAgICByZWZyZXNoVGl0bGUoKTtcbiAgICBzZXRUaW1lb3V0KHBlcmlvZGljUmVmcmVzaFRpdGxlLCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91dGUocm91dGVfc3RyaW5nKSB7XG4gIGxldCBrZXlzID0gW107XG4gIC8vIGZvby86a2V5LzpiYXIgPT4gZm9vLyhbXi8mP10rKS8oW14vJj9dKylcbiAgbGV0IGJhc2UgPSByb3V0ZV9zdHJpbmcucmVwbGFjZShyb3V0ZV9wYXJhbV9yZWdleCwgZnVuY3Rpb24gKGlnbm9yZWQsIG1hdGNoKSB7XG4gICAga2V5cy5wdXNoKG1hdGNoKTtcbiAgICByZXR1cm4gJyhbXi8mP10rKSc7XG4gIH0pO1xuICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKGBeJHtiYXNlfSg/OiR8XFxcXD8pYCk7XG4gIGxldCBuZXdfcm91dGUgPSB7XG4gICAgcm91dGVfc3RyaW5nLFxuICAgIHJlZ2V4LFxuICAgIGtleXMsXG4gIH07XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBrZXlzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleXNbaWldXTtcbiAgICAvLyBNdXN0IGhhdmUgYWxyZWFkeSByZWdpc3RlcmVkIHRoZXNlIGtleXNcbiAgICBhc3NlcnQob3B0cyk7XG4gICAgb3B0cy5yb3V0ZXMgPSBvcHRzLnJvdXRlcyB8fCBbXTtcbiAgICBvcHRzLnJvdXRlcy5wdXNoKG5ld19yb3V0ZSk7XG4gICAgLy8gVXBkYXRlIGluaXRpYWwgdmFsdWVcbiAgICBvcHRzLnZhbHVlID0gZ2V0VmFsdWUocXVlcnlTdHJpbmcoKSwgb3B0cyk7XG4gIH1cbiAgcm91dGVzLnB1c2gobmV3X3JvdXRlKTtcbiAgcm91dGVzLnNvcnQoY21wTnVtS2V5cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihvcHRzKSB7XG4gIGFzc2VydChvcHRzLmtleSk7XG4gIGFzc2VydCghcGFyYW1zW29wdHMua2V5XSk7XG4gIG9wdHMudHlwZSA9IG9wdHMudHlwZSB8fCBUWVBFX1NUUklORztcbiAgbGV0IHJlZ2V4X3NlYXJjaCA9IGAoPzpbXlxcXFx3XSkke29wdHMua2V5fT0oW14mXSspYDtcbiAgbGV0IHJlZ2V4X3R5cGUgPSAnJztcbiAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQpIHtcbiAgICByZWdleF90eXBlID0gJ2cnO1xuICB9IGVsc2Uge1xuICAgIG9wdHMuZGVmID0gb3B0cy5kZWYgfHwgJyc7XG4gICAgb3B0cy5oaWRlX3ZhbHVlcyA9IG9wdHMuaGlkZV92YWx1ZXMgfHwge307XG4gICAgb3B0cy5oaWRlX3ZhbHVlc1tvcHRzLmRlZl0gPSB0cnVlO1xuICB9XG4gIG9wdHMucmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4X3NlYXJjaCwgcmVnZXhfdHlwZSk7XG4gIHBhcmFtc1tvcHRzLmtleV0gPSBvcHRzO1xuICAvLyBHZXQgaW5pdGlhbCB2YWx1ZVxuICBvcHRzLnZhbHVlID0gZ2V0VmFsdWUocXVlcnlTdHJpbmcoKSwgb3B0cyk7XG4gIGxldCByZXQgPSBvcHRzLnZhbHVlO1xuICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCAmJiB0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBBdXRvLWFwcGx5IGNoYW5nZXMgdG8gVVJMIGlmIHNvbWVvbmUgbW9kaWZpZXMgdGhlIHByb3h5XG4gICAgcmV0ID0gbmV3IFByb3h5KG9wdHMudmFsdWUsIHtcbiAgICAgIHNldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdGFyZ2V0W3Byb3BdID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdGFyZ2V0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhpc3RvcnkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIXdpbmRvdy5vbnBvcHN0YXRlKSB7XG4gICAgd2luZG93Lm9ucG9wc3RhdGUgPSBvblBvcFN0YXRlO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCB2YWx1ZTIpIHtcbiAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgYXNzZXJ0KG9wdHMpO1xuICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCkge1xuICAgIGlmIChCb29sZWFuKG9wdHMudmFsdWVbdmFsdWVdKSAhPT0gQm9vbGVhbih2YWx1ZTIpKSB7XG4gICAgICBvcHRzLnZhbHVlW3ZhbHVlXSA9IHZhbHVlMiA/IDEgOiAwO1xuICAgICAgdXBkYXRlSGlzdG9yeShvcHRzLnB1c2gpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAob3B0cy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIG9wdHMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHVwZGF0ZUhpc3Rvcnkob3B0cy5wdXNoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgYXNzZXJ0KG9wdHMpO1xuICByZXR1cm4gb3B0cy52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvKHF1ZXJ5X3N0cmluZykgeyAvLyB3aXRoIHRoZSAnPydcbiAgZ29JbnRlcm5hbChxdWVyeV9zdHJpbmcpO1xuICB1cGRhdGVIaXN0b3J5KHRydWUpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiAqL1xuXG4vLyBWZWN0b3IgbWF0aCBmdW5jdGlvbnMgcmVxdWlyZWQgYnkgdGhlIHJlc3Qgb2YgdGhlIGVuZ2luZSB0YWtlbiBwaWVjZW1lYWwgZnJvbVxuLy8gZ2wtbWF0cml4IGFuZCByZWxhdGVkLCBhcyB3ZWxsIGFzIHNvbWUgZ2VuZXJpYyBtYXRoIHV0aWxpdGllc1xuZXhwb3J0cy5tYXQzID0gcmVxdWlyZSgnZ2wtbWF0My9jcmVhdGUnKTtcbmV4cG9ydHMubWF0NCA9IHJlcXVpcmUoJ2dsLW1hdDQvY3JlYXRlJyk7XG5cbmNvbnN0IHsgYWJzLCBtYXgsIG1pbiwgZmxvb3IsIHJvdW5kLCBzcXJ0IH0gPSBNYXRoO1xuXG5leHBvcnQgZnVuY3Rpb24gdmVjMSh2KSB7XG4gIHJldHVybiBuZXcgRmxvYXQ2NEFycmF5KFt2XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWMyKGEsIGIpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQ2NEFycmF5KDIpO1xuICBpZiAoYSB8fCBiKSB7XG4gICAgclswXSA9IGE7XG4gICAgclsxXSA9IGI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWMzKGEsIGIsIGMpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQ2NEFycmF5KDMpO1xuICBpZiAoYSB8fCBiIHx8IGMpIHtcbiAgICByWzBdID0gYTtcbiAgICByWzFdID0gYjtcbiAgICByWzJdID0gYztcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlYzQoYSwgYiwgYywgZCkge1xuICBsZXQgciA9IG5ldyBGbG9hdDY0QXJyYXkoNCk7XG4gIGlmIChhIHx8IGIgfHwgYyB8fCBkKSB7XG4gICAgclswXSA9IGE7XG4gICAgclsxXSA9IGI7XG4gICAgclsyXSA9IGM7XG4gICAgclszXSA9IGQ7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGZyb3plblZlYzQoYSxiLGMsZCkge1xuICAvLyBpZiAoZGVidWcpIHtcbiAgLy8gICByZXR1cm4gT2JqZWN0LmZyZWV6ZShbYSxiLGMsZF0pOyAvLyBOb3QgYSB2ZWM0LCBidXQgbGV0cyB1cyBjYXRjaCBidWdzXG4gIC8vIH1cbiAgcmV0dXJuIHZlYzQoYSxiLGMsZCk7XG59XG5cbmV4cG9ydCBjb25zdCB1bml0X3ZlYyA9IGZyb3plblZlYzQoMSwxLDEsMSk7XG5leHBvcnQgY29uc3QgaGFsZl92ZWMgPSBmcm96ZW5WZWM0KDAuNSwwLjUsMC41LDAuNSk7XG5leHBvcnQgY29uc3QgemVyb192ZWMgPSBmcm96ZW5WZWM0KDAsMCwwLDApO1xuZXhwb3J0IGNvbnN0IGlkZW50aXR5X21hdDMgPSBleHBvcnRzLm1hdDMoKTtcbmV4cG9ydCBjb25zdCBpZGVudGl0eV9tYXQ0ID0gZXhwb3J0cy5tYXQ0KCk7XG5leHBvcnQgY29uc3QgeGF4aXMgPSBmcm96ZW5WZWM0KDEsMCwwLDApO1xuZXhwb3J0IGNvbnN0IHlheGlzID0gZnJvemVuVmVjNCgwLDEsMCwwKTtcbmV4cG9ydCBjb25zdCB6YXhpcyA9IGZyb3plblZlYzQoMCwwLDEsMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmFicyhvdXQsIGEpIHtcbiAgb3V0WzBdID0gYWJzKGFbMF0pO1xuICBvdXRbMV0gPSBhYnMoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJhZGRTY2FsZShvdXQsIGEsIGIsIHMpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmRpc3RTcShhLCBiKSB7XG4gIHJldHVybiAoYVswXSAtIGJbMF0pICogKGFbMF0gLSBiWzBdKSArXG4gICAgKGFbMV0gLSBiWzFdKSAqIChhWzFdIC0gYlsxXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmRpdihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IGZsb29yKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJsZW5ndGhTcShhKSB7XG4gIHJldHVybiBhWzBdKmFbMF0gKyBhWzFdKmFbMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmxlcnAob3V0LCB0LCBhLCBiKSB7XG4gIGxldCBpdCA9IDEgLSB0O1xuICBvdXRbMF0gPSBpdCAqIGFbMF0gKyB0ICogYlswXTtcbiAgb3V0WzFdID0gaXQgKiBhWzFdICsgdCAqIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2Mm11bChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJub3JtYWxpemUob3V0LCBhKSB7XG4gIGxldCBsZW4gPSBhWzBdKmFbMF0gKyBhWzFdKmFbMV07XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIHNxcnQobGVuKTtcbiAgICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICAgIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYyc2FtZShhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MnNjYWxlKG91dCwgYSwgcykge1xuICBvdXRbMF0gPSBhWzBdICogcztcbiAgb3V0WzFdID0gYVsxXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MnNldChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYTtcbiAgb3V0WzFdID0gYjtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYyc3ViKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2FkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaUFkZChhLCBiKSB7XG4gIGFbMF0gKz0gYlswXTtcbiAgYVsxXSArPSBiWzFdO1xuICBhWzJdICs9IGJbMl07XG4gIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNhZGRTY2FsZShvdXQsIGEsIGIsIHMpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHM7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogcztcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIGxldCBhMCA9IGFbMF07XG4gIGxldCBhMSA9IGFbMV07XG4gIGxldCBhMiA9IGFbMl07XG4gIGxldCBiMCA9IGJbMF07XG4gIGxldCBiMSA9IGJbMV07XG4gIGxldCBiMiA9IGJbMl07XG4gIG91dFswXSA9ICgoYTEgKiBiMikgLSAoYTIgKiBiMSkpO1xuICBvdXRbMV0gPSAoKGEyICogYjApIC0gKGEwICogYjIpKTtcbiAgb3V0WzJdID0gKChhMCAqIGIxKSAtIChhMSAqIGIwKSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8vIGRldGVybWluYW50IG9mIHRoZSBtYXRyaXggbWFkZSBieSAoY29sdW1ucz8pIFthLCBiLCBjXTtcbmV4cG9ydCBmdW5jdGlvbiB2M2RldGVybWluYW50KGEsIGIsIGMpIHtcbiAgLy8gbGV0IGEwMCA9IGFbMF07XG4gIC8vIGxldCBhMDEgPSBhWzFdO1xuICAvLyBsZXQgYTAyID0gYVsyXTtcbiAgLy8gbGV0IGExMCA9IGJbMF07XG4gIC8vIGxldCBhMTEgPSBiWzFdO1xuICAvLyBsZXQgYTEyID0gYlsyXTtcbiAgLy8gbGV0IGEyMCA9IGNbMF07XG4gIC8vIGxldCBhMjEgPSBjWzJdO1xuICAvLyBsZXQgYTIyID0gY1syXTtcbiAgbGV0IGEwMCA9IGFbMF07XG4gIGxldCBhMDEgPSBiWzBdO1xuICBsZXQgYTAyID0gY1swXTtcbiAgbGV0IGExMCA9IGFbMV07XG4gIGxldCBhMTEgPSBiWzFdO1xuICBsZXQgYTEyID0gY1sxXTtcbiAgbGV0IGEyMCA9IGFbMl07XG4gIGxldCBhMjEgPSBiWzJdO1xuICBsZXQgYTIyID0gY1syXTtcblxuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzZGlzdFNxKGEsIGIpIHtcbiAgcmV0dXJuIChhWzBdIC0gYlswXSkgKiAoYVswXSAtIGJbMF0pICtcbiAgICAoYVsxXSAtIGJbMV0pICogKGFbMV0gLSBiWzFdKSArXG4gICAgKGFbMl0gLSBiWzJdKSAqIChhWzJdIC0gYlsyXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2Rpc3QoYSxiKSB7XG4gIHJldHVybiBzcXJ0KHYzZGlzdFNxKGEsYikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNkaXYob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lGbG9vcihhKSB7XG4gIGFbMF0gPSBmbG9vcihhWzBdKTtcbiAgYVsxXSA9IGZsb29yKGFbMV0pO1xuICBhWzJdID0gZmxvb3IoYVsyXSk7XG4gIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IGZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBmbG9vcihhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzbGVuZ3RoU3EoYSkge1xuICByZXR1cm4gYVswXSphWzBdICsgYVsxXSphWzFdICsgYVsyXSphWzJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNsZXJwKG91dCwgdCwgYSwgYikge1xuICBsZXQgaXQgPSAxIC0gdDtcbiAgb3V0WzBdID0gaXQgKiBhWzBdICsgdCAqIGJbMF07XG4gIG91dFsxXSA9IGl0ICogYVsxXSArIHQgKiBiWzFdO1xuICBvdXRbMl0gPSBpdCAqIGFbMl0gKyB0ICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaU1heChhLCBiKSB7XG4gIGFbMF0gPSBtYXgoYVswXSwgYlswXSk7XG4gIGFbMV0gPSBtYXgoYVsxXSwgYlsxXSk7XG4gIGFbMl0gPSBtYXgoYVsyXSwgYlsyXSk7XG4gIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNpTWluKGEsIGIpIHtcbiAgYVswXSA9IG1pbihhWzBdLCBiWzBdKTtcbiAgYVsxXSA9IG1pbihhWzFdLCBiWzFdKTtcbiAgYVsyXSA9IG1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M211bChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzbXVsTWF0NChvdXQsIGEsIG0pIHtcbiAgbGV0IHggPSBhWzBdO1xuICBsZXQgeSA9IGFbMV07XG4gIGxldCB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVs0XSArIHogKiBtWzhdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzVdICsgeiAqIG1bOV07XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M25vcm1hbGl6ZShvdXQsIGEpIHtcbiAgbGV0IGxlbiA9IGFbMF0qYVswXSArIGFbMV0qYVsxXSArIGFbMl0qYVsyXTtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gc3FydChsZW4pO1xuICAgIG91dFswXSA9IGFbMF0gKiBsZW47XG4gICAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lOb3JtYWxpemUoYSkge1xuICBsZXQgbGVuID0gYVswXSphWzBdICsgYVsxXSphWzFdICsgYVsyXSphWzJdO1xuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBzcXJ0KGxlbik7XG4gICAgYVswXSAqPSBsZW47XG4gICAgYVsxXSAqPSBsZW47XG4gICAgYVsyXSAqPSBsZW47XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbi8vIFRyZWF0cyBgYWAgYXMgdmVjMyBpbnB1dCB3aXRoIHcgYXNzdW1lZCB0byBiZSAxXG4vLyBvdXRbMF0vWzFdIGhhdmUgaGFkIHBlcnNwZWN0aXZlIGRpdmlkZSBhbmQgY29udmVydGVkIHRvIG5vcm1hbGl6ZWQgMC0xIHJhbmdlXG4vLyBvdXRbMl0gaXMgZGlzdGFuY2VcbmV4cG9ydCBmdW5jdGlvbiB2M3BlcnNwZWN0aXZlUHJvamVjdChvdXQsIGEsIG0pIHtcbiAgbGV0IHggPSBhWzBdO1xuICBsZXQgeSA9IGFbMV07XG4gIGxldCB6ID0gYVsyXTtcbiAgbGV0IHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIGxldCBpbnZ3ID0gMC41IC8gKHcgfHwgMC4wMDAwMSk7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgKiBpbnZ3ICsgMC41O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pICogLWludncgKyAwLjU7XG4gIG91dFsyXSA9IG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IHJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSByb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gcm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3NhbWUoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3NjYWxlKG91dCwgYSwgcykge1xuICBvdXRbMF0gPSBhWzBdICogcztcbiAgb3V0WzFdID0gYVsxXSAqIHM7XG4gIG91dFsyXSA9IGFbMl0gKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNzZXQob3V0LCBhLCBiLCBjKSB7XG4gIG91dFswXSA9IGE7XG4gIG91dFsxXSA9IGI7XG4gIG91dFsyXSA9IGM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3N1YihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaVNjYWxlKGEsIHMpIHtcbiAgYVswXSAqPSBzO1xuICBhWzFdICo9IHM7XG4gIGFbMl0gKj0gcztcbiAgcmV0dXJuIGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lTdWIoYSwgYikge1xuICBhWzBdIC09IGJbMF07XG4gIGFbMV0gLT0gYlsxXTtcbiAgYVsyXSAtPSBiWzJdO1xuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzemVybyhvdXQpIHtcbiAgb3V0WzBdID0gb3V0WzFdID0gb3V0WzJdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0YWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0Y2xvbmUoYSkge1xuICByZXR1cm4gYS5zbGljZSgwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0Y29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0bGVycChvdXQsIHQsIGEsIGIpIHtcbiAgbGV0IGl0ID0gMSAtIHQ7XG4gIG91dFswXSA9IGl0ICogYVswXSArIHQgKiBiWzBdO1xuICBvdXRbMV0gPSBpdCAqIGFbMV0gKyB0ICogYlsxXTtcbiAgb3V0WzJdID0gaXQgKiBhWzJdICsgdCAqIGJbMl07XG4gIG91dFszXSA9IGl0ICogYVszXSArIHQgKiBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjRtdWwob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIG91dFszXSA9IGFbM10gKiBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjRtdWxBZGQob3V0LCBhLCBiLCBjKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdICsgY1swXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV0gKyBjWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXSArIGNbMl07XG4gIG91dFszXSA9IGFbM10gKiBiWzNdICsgY1szXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0c2FtZShhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjRzY2FsZShvdXQsIGEsIHMpIHtcbiAgb3V0WzBdID0gYVswXSAqIHM7XG4gIG91dFsxXSA9IGFbMV0gKiBzO1xuICBvdXRbMl0gPSBhWzJdICogcztcbiAgb3V0WzNdID0gYVszXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NHNldChvdXQsIGEsIGIsIGMsIGQpIHtcbiAgb3V0WzBdID0gYTtcbiAgb3V0WzFdID0gYjtcbiAgb3V0WzJdID0gYztcbiAgb3V0WzNdID0gZDtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0emVybyhvdXQpIHtcbiAgb3V0WzBdID0gb3V0WzFdID0gb3V0WzJdID0gb3V0WzNdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IHsgZmxvb3IgfSA9IE1hdGg7XG5cbmxldCBvZmZzID0gMDtcbmZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIERhdGUubm93KCkgKyBvZmZzO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gbm93O1xuZXhwb3J0cy5ub3cgPSBub3c7XG5leHBvcnRzLnN5bmMgPSBmdW5jdGlvbiAoc2VydmVyX3RpbWUpIHtcbiAgb2ZmcyA9IHNlcnZlcl90aW1lIC0gRGF0ZS5ub3coKTtcbn07XG5leHBvcnRzLnNlY29uZHMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFNlY29uZHMgc2luY2UgSmFuIDFzdCwgMjAyMFxuICByZXR1cm4gZmxvb3Iobm93KCkgLyAxMDAwKSAtIDE1Nzc4MzY4MDA7XG59O1xuIiwiY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGZpbGV3YXRjaE9uLCBmaWxld2F0Y2hUcmlnZ2VyQ2hhbmdlIH0gPSByZXF1aXJlKCcuL2ZpbGV3YXRjaC5qcycpO1xuY29uc3QgdXJsaGFzaCA9IHJlcXVpcmUoJy4vdXJsaGFzaC5qcycpO1xuXG5sZXQgZnMgPSB3aW5kb3cuZ2xvdl93ZWJmcyA9IHdpbmRvdy5nbG92X3dlYmZzIHx8IHt9O1xubGV0IGRlY29kZWQgPSB7fTtcbmxldCB1c2VkID0ge307XG4vLyBleHBvcnQgZnVuY3Rpb24gd2ViRlNSZWFkeSgpIHtcbi8vICAgLy8gVE9ETzogYXN5bmMgcmVhZHkgc3RhdGU/XG4vLyB9XG5cbmZ1bmN0aW9uIGRlY29kZShkYXRhKSB7XG4gIGxldCBsZW4gPSBkYXRhWzBdO1xuICBsZXQgc3RyID0gZGF0YVsxXTtcbiAgbGV0IHU4ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgbGV0IGlkeG8gPSAwO1xuICBsZXQgaWR4aSA9IDA7XG4gIHdoaWxlIChpZHhvIDwgbGVuKSB7XG4gICAgbGV0IGJ5dGUgPSBzdHIuY2hhckNvZGVBdChpZHhpKyspO1xuICAgIGlmIChieXRlID09PSAxMjYpIHtcbiAgICAgIGJ5dGUgPSAwO1xuICAgIH0gZWxzZSBpZiAoYnl0ZSA9PT0gMjcpIHtcbiAgICAgIGJ5dGUgPSBzdHIuY2hhckNvZGVBdChpZHhpKyspO1xuICAgIH1cbiAgICB1OFtpZHhvKytdID0gYnl0ZTtcbiAgfVxuICBhc3NlcnQuZXF1YWwoaWR4aSwgc3RyLmxlbmd0aCk7XG4gIGFzc2VydC5lcXVhbChpZHhvLCBsZW4pO1xuICByZXR1cm4gdTg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3ZWJGU0dldEZpbGUoZmlsZW5hbWUsIGVuY29kaW5nKSB7XG4gIGxldCByZXQgPSBkZWNvZGVkW2ZpbGVuYW1lXTtcbiAgaWYgKHJldCkge1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgdXNlZFtmaWxlbmFtZV0gPSB0cnVlO1xuICBsZXQgZGF0YSA9IGZzW2ZpbGVuYW1lXTtcbiAgYXNzZXJ0KGRhdGEsIGBFcnJvciBsb2FkaW5nIGZpbGU6ICR7ZmlsZW5hbWV9YCk7XG4gIGlmIChlbmNvZGluZyA9PT0gJ3RleHQnKSB7XG4gICAgcmV0ID0gZGF0YVsxXTtcbiAgfSBlbHNlIHtcbiAgICByZXQgPSBkZWNvZGUoZGF0YSk7XG4gIH1cbiAgZGVjb2RlZFtmaWxlbmFtZV0gPSByZXQ7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3ZWJGU0V4aXN0cyhmaWxlbmFtZSkge1xuICByZXR1cm4gQm9vbGVhbihmc1tmaWxlbmFtZV0pO1xufVxuXG4vLyBEb24ndCByZXBvcnQgb24gZmlsZXMgd2Uga25vdyBhcmUgbG9hZGVkIGR5bmFtaWNhbGx5LCBhbmQgYXJlIHNtYWxsXG5jb25zdCByZXBvcnRfaWdub3JlX3JlZ2V4ID0gL1xcLihmcHx2cHx2bSkkLztcbmV4cG9ydCBmdW5jdGlvbiB3ZWJGU1JlcG9ydFVudXNlZCgpIHtcbiAgbGV0IHRvdF9zaXplID0gMDtcbiAgZm9yIChsZXQgZmlsZW5hbWUgaW4gZnMpIHtcbiAgICBpZiAoIXVzZWRbZmlsZW5hbWVdICYmICFmaWxlbmFtZS5tYXRjaChyZXBvcnRfaWdub3JlX3JlZ2V4KSkge1xuICAgICAgY29uc29sZS53YXJuKGBXZWJGUyBmaWxlIGJ1bmRsZWQgYnV0IHVucmVmZXJlbmNlZDogJHtmaWxlbmFtZX1gKTtcbiAgICAgIHRvdF9zaXplICs9IGZzW2ZpbGVuYW1lXVswXTtcbiAgICB9XG4gIH1cbiAgaWYgKHRvdF9zaXplKSB7XG4gICAgY29uc29sZS53YXJuKGBXZWJGUyB3YXN0aW5nICR7dG90X3NpemV9IGJ5dGVzYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2ViRlNSZWxvYWQoKSB7XG4gIHdpbmRvdy5nbG92X3dlYmZzID0ge307XG4gIGxldCBzY3JpcHRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0VGFnLnNyYyA9IGAke3VybGhhc2guZ2V0VVJMQmFzZSgpfWZzZGF0YS5qcz9ybD0ke0RhdGUubm93KCl9YDtcbiAgc2NyaXB0VGFnLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAod2luZG93Lmdsb3Zfd2ViZnMpIHtcbiAgICAgIGxldCBvbGRfZnMgPSBmcztcbiAgICAgIGZzID0gd2luZG93Lmdsb3Zfd2ViZnM7XG4gICAgICBkZWNvZGVkID0ge307XG4gICAgICB1c2VkID0ge307XG4gICAgICBmb3IgKGxldCBrZXkgaW4gZnMpIHtcbiAgICAgICAgbGV0IG9sZF92YWx1ZSA9IG9sZF9mc1trZXldO1xuICAgICAgICBsZXQgbmV3X3ZhbHVlID0gZnNba2V5XTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5ld192YWx1ZS5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICBpZiAoIW9sZF92YWx1ZSB8fCBuZXdfdmFsdWVbaWldICE9PSBvbGRfdmFsdWVbaWldKSB7XG4gICAgICAgICAgICBmaWxld2F0Y2hUcmlnZ2VyQ2hhbmdlKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTtcbn1cblxuZmlsZXdhdGNoT24oJ2ZzZGF0YS5qcycsIHdlYkZTUmVsb2FkKTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBPcmlnaW5hbGx5IGZyb20gU3Bsb2R5LCB1c2VkIHdpdGggcGVybWlzc2lvblxuLyogZXNsaW50IG5vLW11bHRpLXNwYWNlczpvZmYsIGFycmF5LWJyYWNrZXQtc3BhY2luZzpvZmYgKi9cblxuY29uc3QgeyBtYXNoU3RyaW5nIH0gPSByZXF1aXJlKCcuLi9yYW5kX2FsZWEuanMnKTtcbmNvbnN0IHsgcmFuZEZhc3RDcmVhdGUgfSA9IHJlcXVpcmUoJy4uL3JhbmRfZmFzdC5qcycpO1xuY29uc3QgeyBwcm9mYW5pdHlGaWx0ZXJDb21tb24sIHByb2Zhbml0eUNvbW1vblN0YXJ0dXAgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbW1vbi93b3Jkcy9wcm9mYW5pdHlfY29tbW9uLmpzJyk7XG5jb25zdCB7IHdlYkZTR2V0RmlsZSB9ID0gcmVxdWlyZSgnLi4vd2ViZnMuanMnKTtcblxubGV0IG5vbl9wcm9mYW5pdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9mYW5pdHlTdGFydHVwKCkge1xuICBub25fcHJvZmFuaXR5ID0gd2ViRlNHZXRGaWxlKCdnbG92L3dvcmRzL3JlcGxhY2VtZW50cy50eHQnLCAndGV4dCcpLnNwbGl0KCdcXG4nKS5maWx0ZXIoKGEpID0+IGEpO1xuICBwcm9mYW5pdHlDb21tb25TdGFydHVwKHdlYkZTR2V0RmlsZSgnLi4vY29tbW9uL3dvcmRzL2ZpbHRlci5na2cnLCAndGV4dCcpKTtcbn1cblxubGV0IHJhbmQgPSByYW5kRmFzdENyZWF0ZSgpO1xuXG5sZXQgbGFzdF93b3JkO1xuZnVuY3Rpb24gcmFuZFdvcmQoKSB7XG4gIGlmIChsYXN0X3dvcmQgPT09IC0xKSB7XG4gICAgbGFzdF93b3JkID0gcmFuZC5yYW5nZShub25fcHJvZmFuaXR5Lmxlbmd0aCk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGNob2ljZSA9IHJhbmQucmFuZ2Uobm9uX3Byb2Zhbml0eS5sZW5ndGggLSAxKTtcbiAgICBsYXN0X3dvcmQgPSBjaG9pY2UgPCBsYXN0X3dvcmQgPyBjaG9pY2UgOiBjaG9pY2UgKyAxO1xuICB9XG4gIHJldHVybiBub25fcHJvZmFuaXR5W2xhc3Rfd29yZF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9mYW5pdHlGaWx0ZXIodXNlcl9zdHIpIHtcbiAgbGFzdF93b3JkID0gLTE7XG4gIHJhbmQuc2VlZCA9IG1hc2hTdHJpbmcodXNlcl9zdHIpO1xuICByZXR1cm4gcHJvZmFuaXR5RmlsdGVyQ29tbW9uKHVzZXJfc3RyLCByYW5kV29yZCk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZ2xvYmFsIFdlYlNvY2tldCwgWE1MSHR0cFJlcXVlc3QgKi9cblxuY29uc3QgYWNrID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL2Fjay5qcycpO1xuY29uc3QgeyBhY2tJbml0UmVjZWl2ZXIgfSA9IGFjaztcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBlcnJvclJlcG9ydFNldERldGFpbHMgfSA9IHJlcXVpcmUoJy4vZXJyb3JfcmVwb3J0LmpzJyk7XG5jb25zdCB7IG1pbiB9ID0gTWF0aDtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHdhbGx0aW1lID0gcmVxdWlyZSgnLi93YWxsdGltZS5qcycpO1xuY29uc3Qgd3Njb21tb24gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vd3Njb21tb24uanMnKTtcbmNvbnN0IHsgd3NIYW5kbGVNZXNzYWdlIH0gPSB3c2NvbW1vbjtcblxuLy8gbGV0IG5ldF90aW1lID0gMDtcbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXROZXRUaW1lKCkge1xuLy8gICBsZXQgciA9IG5ldF90aW1lO1xuLy8gICBuZXRfdGltZSA9IDA7XG4vLyAgIHJldHVybiByO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gV1NDbGllbnQocGF0aCkge1xuICB0aGlzLmlkID0gbnVsbDtcbiAgdGhpcy5teV9pZHMgPSB7fTsgLy8gc2V0IG9mIGFsbCBJRHMgSSd2ZSBiZWVuIGR1cmluZyB0aGlzIHNlc3Npb25cbiAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICB0aGlzLnNvY2tldCA9IG51bGw7XG4gIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gIHRoaXMuZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gIHRoaXMucmV0cnlfc2NoZWR1bGVkID0gZmFsc2U7XG4gIHRoaXMucmV0cnlfY291bnQgPSAwO1xuICB0aGlzLmRpc2Nvbm5lY3RfdGltZSA9IERhdGUubm93KCk7XG4gIHRoaXMubGFzdF9yZWNlaXZlX3RpbWUgPSBEYXRlLm5vdygpO1xuICB0aGlzLmlkbGVfY291bnRlciA9IDA7XG4gIHRoaXMubGFzdF9zZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICB0aGlzLmF1dG9fcGF0aCA9ICFwYXRoO1xuICBhY2tJbml0UmVjZWl2ZXIodGhpcyk7XG5cbiAgaWYgKHRoaXMuYXV0b19wYXRoKSB7XG5cbiAgICBwYXRoID0gZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKS5tYXRjaCgvXlteIz9dKy8pWzBdOyAvLyByZW1vdmUgc2VhcmNoIGFuZCBhbmNob3JcblxuXG4gICAgaWYgKHBhdGguc2xpY2UoLTEpICE9PSAnLycpIHtcbiAgICAgIC8vIC9maWxlLmh0bWwgb3IgL3BhdGgvZmlsZS5odG1sIG9yIC9wYXRoXG4gICAgICBsZXQgaWR4ID0gcGF0aC5sYXN0SW5kZXhPZignLycpO1xuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gcGF0aC5zbGljZShpZHgrMSk7XG4gICAgICAgIGlmIChmaWxlbmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICAgICAgcGF0aCA9IHBhdGguc2xpY2UoMCwgaWR4KzEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGggKz0gJy8nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRoICs9ICcvJztcbiAgICAgIH1cbiAgICB9XG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXmh0dHAvLCAnd3MnKTtcbiAgICB0aGlzLnBhdGggPSBgJHtwYXRofXdzYDtcblxuICB9IGVsc2Uge1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gIH1cblxuICBpZiAocGF0aC5tYXRjaCgvOlxcZCtcXC8vKSkge1xuICAgIC8vIGhhcyBwb3J0LCBkb24ndCB0cnkgYW55dGhpbmcgZmFuY3lcbiAgICB0aGlzLnBhdGgyID0gdGhpcy5wYXRoO1xuICB9IGVsc2UgaWYgKHBhdGgubWF0Y2goL153czovKSkge1xuICAgIC8vIG5vIHBvcnQsIHRyeSB3c3M6Ly8gaWYgdGhpcyBmYWlsc1xuICAgIC8vIFNob3VsZCBmaXggQ29tY2FzdCBpbmplY3Rpb24gaXNzdWVcbiAgICB0aGlzLnBhdGgyID0gdGhpcy5wYXRoLnJlcGxhY2UoL153czovLCAnd3NzOicpO1xuICB9IGVsc2Uge1xuICAgIC8vIFVzaW5nIHdzczovLyBzb21lIGJyb3dzZXJzIHdpbGwgbm90IGFsbG93IGNvbm5lY3RpbmcgdG8gd3M6Ly8sIHNvIGRvbid0IGV2ZW4gdHJ5XG4gICAgdGhpcy5wYXRoMiA9IHRoaXMucGF0aDtcbiAgfVxuXG4gIHRoaXMuY29ubmVjdChmYWxzZSk7XG5cbiAgdGhpcy5vbk1zZygnY2FjaycsIHRoaXMub25Db25uZWN0QWNrLmJpbmQodGhpcykpO1xuICB0aGlzLm9uTXNnKCdhcHBfdmVyJywgdGhpcy5vbkFwcFZlci5iaW5kKHRoaXMpKTtcbiAgdGhpcy5vbk1zZygnZXJyb3InLCB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSk7XG59XG5cbldTQ2xpZW50LnByb3RvdHlwZS50aW1lU2luY2VEaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZGlzY29ubmVjdF90aW1lO1xufTtcblxuV1NDbGllbnQucHJvdG90eXBlLm9uQXBwVmVyID0gZnVuY3Rpb24gKHZlcikge1xuICBpZiAodmVyICE9PSBCVUlMRF9USU1FU1RBTVApIHtcbiAgICBpZiAodGhpcy5vbl9hcHBfdmVyX21pc21hdGNoKSB7XG4gICAgICB0aGlzLm9uX2FwcF92ZXJfbWlzbWF0Y2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuYXV0b19wYXRoKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEFwcCB2ZXJzaW9uIG1pc21hdGNoIChzZXJ2ZXI6ICR7dmVyfSwgY2xpZW50OiAke0JVSUxEX1RJTUVTVEFNUH0pLCByZWxvYWRpbmdgKTtcbiAgICAgICAgaWYgKHdpbmRvdy5yZWxvYWRTYWZlKSB7XG4gICAgICAgICAgd2luZG93LnJlbG9hZFNhZmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBBcHAgdmVyc2lvbiBtaXNtYXRjaCAoc2VydmVyOiAke3Zlcn0sIGNsaWVudDogJHtCVUlMRF9USU1FU1RBTVB9KSwgaWdub3JpbmdgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5vbkNvbm5lY3RBY2sgPSBmdW5jdGlvbiAoZGF0YSwgcmVzcF9mdW5jKSB7XG4gIGxldCBjbGllbnQgPSB0aGlzO1xuICB3YWxsdGltZS5zeW5jKGRhdGEudGltZSk7XG4gIGNsaWVudC5jb25uZWN0ZWQgPSB0cnVlO1xuICBjbGllbnQuZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gIGNsaWVudC5pZCA9IGRhdGEuaWQ7XG4gIGNsaWVudC5teV9pZHNbZGF0YS5pZF0gPSB0cnVlO1xuICBlcnJvclJlcG9ydFNldERldGFpbHMoJ2NsaWVudF9pZCcsIGNsaWVudC5pZCk7XG4gIGNsaWVudC5zZWNyZXQgPSBkYXRhLnNlY3JldDtcbiAgaWYgKGRhdGEuYXBwX3Zlcikge1xuICAgIGNsaWVudC5vbkFwcFZlcihkYXRhLmFwcF92ZXIpO1xuICB9XG4gIC8vIEZpcmUgdXNlci1sZXZlbCBjb25uZWN0IGhhbmRsZXIgYXMgd2VsbFxuICBhc3NlcnQoY2xpZW50LmhhbmRsZXJzLmNvbm5lY3QpO1xuICBjbGllbnQuaGFuZGxlcnMuY29ubmVjdChjbGllbnQsIHtcbiAgICBjbGllbnRfaWQ6IGNsaWVudC5pZCxcbiAgICByZXN0YXJ0aW5nOiBkYXRhLnJlc3RhcnRpbmcsXG4gIH0pO1xuICByZXNwX2Z1bmMoKTtcbn07XG5cblxuV1NDbGllbnQucHJvdG90eXBlLnBhayA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgcmV0dXJuIHdzY29tbW9uLndzUGFrKG1zZywgbnVsbCwgdGhpcyk7XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChtc2csIGRhdGEsIHJlc3BfZnVuYykge1xuICB3c2NvbW1vbi5zZW5kTWVzc2FnZS5jYWxsKHRoaXMsIG1zZywgZGF0YSwgcmVzcF9mdW5jKTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgY29uc29sZS5lcnJvcignV1NDbGllbnQgRXJyb3InKTtcbiAgY29uc29sZS5lcnJvcihlKTtcbiAgdGhyb3cgZTtcbn07XG5cbi8vIGNiKGNsaWVudCwgZGF0YSwgcmVzcF9mdW5jKVxuV1NDbGllbnQucHJvdG90eXBlLm9uTXNnID0gZnVuY3Rpb24gKG1zZywgY2IpIHtcbiAgYXNzZXJ0Lm9rKCF0aGlzLmhhbmRsZXJzW21zZ10pO1xuICB0aGlzLmhhbmRsZXJzW21zZ10gPSBmdW5jdGlvbiB3cmFwcGVkQ2FsbGJhY2soY2xpZW50LCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgICAvLyBDbGllbnQgaW50ZXJmYWNlIGRvZXMgbm90IG5lZWQgYSBjbGllbnQgcGFzc2VkIHRvIGl0IVxuICAgIHJldHVybiBjYihkYXRhLCByZXNwX2Z1bmMpO1xuICB9O1xufTtcblxuV1NDbGllbnQucHJvdG90eXBlLmNoZWNrRm9yTmV3QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuYXBwX3Zlcl9jaGVja19pbl9wcm9ncmVzcykge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmFwcF92ZXJfY2hlY2tfaW5fcHJvZ3Jlc3MgPSB0cnVlO1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdHRVQnLCBgJHt1cmxoYXNoLmdldFVSTEJhc2UoKX1hcHAudmVyLmpzb25gLCB0cnVlKTtcbiAgLy8geGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJzsgLy8gY2F1c2VzIHVuLWNhdGNoYWJsZSwgdW4tcmVwb3J0ZWQgZXJyb3JzXG4gIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5hcHBfdmVyX2NoZWNrX2luX3Byb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IHRleHQ7XG4gICAgdHJ5IHtcbiAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgbGV0IG9iaiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICBpZiAob2JqICYmIG9iai52ZXIpIHtcbiAgICAgICAgdGhpcy5vbkFwcFZlcihvYmoudmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWNlaXZlZCBpbnZhbGlkIHJlc3BvbnNlIHdoZW4gY2hlY2tpbmcgYXBwIHZlcnNpb246JywgdGV4dCB8fCAnPGVtcHR5IHJlc3BvbnNlPicpO1xuICAgICAgLy8gUHJvYmFibHkgaW50ZXJuYWwgc2VydmVyIGVycm9yIG9yIHN1Y2ggYXMgdGhlIHNlcnZlciBpcyByZXN0YXJ0LCB0cnkgYWdhaW4gbW9tZW50YXJpbHlcbiAgICAgIC8vIFRoaXMgaXMgbm90IHRyaWdnZXJlZCBvbiBjb25uZWN0aW9uIGVycm9ycywgb25seSBpZiB3ZSBnb3QgYSAobm9uLXBhcnNlYWJsZSkgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyXG4gICAgICBpZiAoIXRoaXMuZGVsYXllZF9yZWNoZWNrKSB7XG4gICAgICAgIHRoaXMuZGVsYXllZF9yZWNoZWNrID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kZWxheWVkX3JlY2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNoZWNrRm9yTmV3QXBwVmVyc2lvbigpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHhoci5vbmVycm9yID0gKCkgPT4ge1xuICAgIHRoaXMuYXBwX3Zlcl9jaGVja19pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICB9O1xuICB4aHIuc2VuZChudWxsKTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5yZXRyeUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBjbGllbnQgPSB0aGlzO1xuICBhc3NlcnQoIWNsaWVudC5zb2NrZXQpO1xuICBhc3NlcnQoIWNsaWVudC5yZXRyeV9zY2hlZHVsZWQpO1xuICBjbGllbnQucmV0cnlfc2NoZWR1bGVkID0gdHJ1ZTtcbiAgKytjbGllbnQucmV0cnlfY291bnQ7XG4gIHRoaXMuY2hlY2tGb3JOZXdBcHBWZXJzaW9uKCk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGFzc2VydChjbGllbnQucmV0cnlfc2NoZWR1bGVkKTtcbiAgICBhc3NlcnQoIWNsaWVudC5zb2NrZXQpO1xuICAgIGNsaWVudC5yZXRyeV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBjbGllbnQuY29ubmVjdCh0cnVlKTtcbiAgfSwgbWluKGNsaWVudC5yZXRyeV9jb3VudCAqIGNsaWVudC5yZXRyeV9jb3VudCAqIDEwMCwgMTUwMDApKTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5jaGVja0Rpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNvbm5lY3RlZCAmJiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlICE9PSAxKSB7IC8vIFdlYlNvY2tldC5PUEVOXG4gICAgLy8gV2UgdGhpbmsgd2UncmUgY29ubmVjdGVkLCBidXQgd2UncmUgbm90LCB3ZSBtdXN0IGhhdmUgcmVjZWl2ZWQgYW5cbiAgICAvLyBhbmltYXRpb24gZnJhbWUgYmVmb3JlIHRoZSBjbG9zZSBldmVudCB3aGVuIHBob25lIHdhcyBsb2NrZWQgb3Igc29tZXRoaW5nXG4gICAgdGhpcy5vbl9jbG9zZSgpO1xuICAgIGFzc2VydCghdGhpcy5jb25uZWN0ZWQpO1xuICB9XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChmb3JfcmVjb25uZWN0KSB7XG4gIGxldCBjbGllbnQgPSB0aGlzO1xuXG4gIGxldCBwYXRoID0gYCR7KGNsaWVudC5yZXRyeV9jb3VudCAlIDIpID8gY2xpZW50LnBhdGgyIDogY2xpZW50LnBhdGh9P3B2ZXI9JHt3c2NvbW1vbi5QUk9UT0NPTF9WRVJTSU9OfSR7XG4gICAgZm9yX3JlY29ubmVjdCAmJiBjbGllbnQuaWQgJiYgY2xpZW50LnNlY3JldCA/IGAmcmVjb25uZWN0PSR7Y2xpZW50LmlkfSZzZWNyZXQ9JHtjbGllbnQuc2VjcmV0fWAgOiAnJ1xuICB9YDtcbiAgbGV0IHNvY2tldCA9IG5ldyBXZWJTb2NrZXQocGF0aCk7XG4gIHNvY2tldC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgY2xpZW50LnNvY2tldCA9IHNvY2tldDtcblxuICAvLyBQcm90ZWN0IGNhbGxiYWNrcyBmcm9tIGV2ZXIgZmlyaW5nIGlmIHdlJ3ZlIGFscmVhZHkgZGlzY29ubmVjdGVkIHRoaXMgc29ja2V0XG4gIC8vICAgZnJvbSB0aGUgV1NDbGllbnRcbiAgZnVuY3Rpb24gZ3VhcmQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgIGlmIChjbGllbnQuc29ja2V0ICE9PSBzb2NrZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm4oLi4uYXJncyk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0KHNraXBfY2xvc2UpIHtcbiAgICBjbGllbnQuc29ja2V0ID0gbnVsbDtcbiAgICBpZiAoY2xpZW50LmNvbm5lY3RlZCkge1xuICAgICAgY2xpZW50LmRpc2Nvbm5lY3RfdGltZSA9IERhdGUubm93KCk7XG4gICAgICBjbGllbnQuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIGVycm9yUmVwb3J0U2V0RGV0YWlscygnZGlzY29ubmVjdGVkJywgMSk7XG4gICAgfVxuICAgIGNsaWVudC5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICBpZiAoIXNraXBfY2xvc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICAgIH1cbiAgICB9XG4gICAgYWNrLmZhaWxBbGwoY2xpZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHJ5KHNraXBfY2xvc2UpIHtcbiAgICBhYm9ydChza2lwX2Nsb3NlKTtcbiAgICBjbGllbnQucmV0cnlDb25uZWN0aW9uKCk7XG4gIH1cblxuICAvLyBMb2NhbCBzdGF0ZSwgZm9yIHRoaXMgb25lIGNvbm5lY3Rpb25cbiAgbGV0IGNvbm5lY3RlZCA9IGZhbHNlO1xuICBjbGllbnQuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZ3VhcmQoZnVuY3Rpb24gKGVycikge1xuICAgIGlmICghY29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGVycm9yIGR1cmluZyBpbml0aWFsIGNvbm5lY3Rpb24sIHJldHJ5aW5nLi4uJywgZXJyKTtcbiAgICAgIHJldHJ5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcicsIGVycik7XG4gICAgICAvLyBEaXNjb25uZWN0IGFuZCByZWNvbm5lY3QgaGVyZSwgaXMgdGhpcyBhIHRlcm1pbmFsIGVycm9yPyBQcm9iYWJseSBub3QsIHdlJ2xsIGdldCBhICdjbG9zZScgZXZlbnQgaWYgaXQgaXM/XG4gICAgICAvLyBXZSBzb21lIGVycm9yIG9jY2FzaW9uYWxseSBvbiBpT1MsIG5vdCBzdXJlIHdoYXQgZXJyb3IsIGJ1dCBpdCBhdXRvLXJlY29ubmVjdHMgZmluZSwgc28gbGV0J3NcbiAgICAgIC8vIG5vdCBkbyBhIHRocm93XG4gICAgICAvLyBjbGllbnQub25FcnJvcihlcnIpO1xuICAgIH1cbiAgfSkpO1xuXG4gIGNsaWVudC5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGd1YXJkKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgLy8gbmV0X3RpbWUgLT0gRGF0ZS5ub3coKTtcbiAgICBhc3NlcnQobWVzc2FnZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICAgIHdzSGFuZGxlTWVzc2FnZShjbGllbnQsIG5ldyBVaW50OEFycmF5KG1lc3NhZ2UuZGF0YSkpO1xuICAgIC8vIG5ldF90aW1lICs9IERhdGUubm93KCk7XG4gIH0pKTtcblxuICBjbGllbnQuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBndWFyZChmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBvcGVuJyk7XG4gICAgY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAvLyByZXNldCByZXRyeSBjb3VudCBzbyBuZXh0IHJldHJ5IGlzIGZhc3QgaWYgd2UgZ2V0IGRpc2Nvbm5lY3RlZFxuICAgIGNsaWVudC5yZXRyeV9jb3VudCA9IDA7XG4gIH0pKTtcblxuICAvLyBUaGlzIG1heSBnZXQgY2FsbGVkIGJlZm9yZSB0aGUgY2xvc2UgZXZlbnQgZ2V0cyB0byB1c2VcbiAgY2xpZW50Lm9uX2Nsb3NlID0gZ3VhcmQoZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY2xvc2UsIHJldHJ5aW5nIGNvbm5lY3Rpb24uLi4nKTtcbiAgICByZXRyeSh0cnVlKTtcbiAgfSk7XG4gIGNsaWVudC5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBjbGllbnQub25fY2xvc2UpO1xuXG4gIGxldCBkb1BpbmcgPSBndWFyZChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKERhdGUubm93KCkgLSBjbGllbnQubGFzdF9zZW5kX3RpbWUgPiB3c2NvbW1vbi5QSU5HX1RJTUUgJiYgY2xpZW50LmNvbm5lY3RlZCAmJiBjbGllbnQuc29ja2V0LnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgIGNsaWVudC5zZW5kKCdwaW5nJyk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQoZG9QaW5nLCB3c2NvbW1vbi5QSU5HX1RJTUUpO1xuICB9KTtcbiAgc2V0VGltZW91dChkb1BpbmcsIHdzY29tbW9uLlBJTkdfVElNRSk7XG5cbiAgLy8gRm9yIGRlYnVnZ2luZyByZWNvbm5lY3QgaGFuZGxpbmdcbiAgLy8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gIC8vICAgaWYgKGNvbm5lY3RlZCkge1xuICAvLyAgICAgc29ja2V0LmNsb3NlKCk7XG4gIC8vICAgfVxuICAvLyB9LCA1MDAwKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz17XCJmb250X3NpemVcIjo4LFwiaW1hZ2VXXCI6MTI4LFwiaW1hZ2VIXCI6MTI4LFwic3ByZWFkXCI6MixcIm5vRmlsdGVyXCI6MSxcImNoYW5uZWxzXCI6MSxcImNoYXJfaW5mb3NcIjpbe1wiY1wiOjMyLFwieDBcIjo2MSxcInkwXCI6NjMsXCJ4cGFkXCI6NCxcIndcIjowLFwiaFwiOjB9LHtcImNcIjozMyxcIngwXCI6OTIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoxLFwiaFwiOjV9LHtcImNcIjozNCxcIngwXCI6MTYsXCJ5MFwiOjYzLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjoyfSx7XCJjXCI6MzUsXCJ4MFwiOjk4LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6MzYsXCJ4MFwiOjM4LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo2fSx7XCJjXCI6MzcsXCJ4MFwiOjEwOCxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjUsXCJoXCI6NX0se1wiY1wiOjM4LFwieDBcIjoxMTgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjozOSxcIngwXCI6MjQsXCJ5MFwiOjYzLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjoyfSx7XCJjXCI6NDAsXCJ4MFwiOjIsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo1fSx7XCJjXCI6NDEsXCJ4MFwiOjksXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo1fSx7XCJjXCI6NDIsXCJ4MFwiOjEwOSxcInkwXCI6NTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjN9LHtcImNcIjo0MyxcIngwXCI6MTE3LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6M30se1wiY1wiOjQ0LFwieDBcIjozMCxcInkwXCI6NjMsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MSxcIndcIjoyLFwiaFwiOjJ9LHtcImNcIjo0NSxcIngwXCI6NjcsXCJ5MFwiOjYzLFwieW9mZnNcIjozLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjoxfSx7XCJjXCI6NDYsXCJ4MFwiOjc1LFwieTBcIjo2MyxcInlvZmZzXCI6NSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjQ3LFwieDBcIjoxNixcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo0OCxcIngwXCI6MjYsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NDksXCJ4MFwiOjM1LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoyLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjUwLFwieDBcIjo0MixcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1MSxcIngwXCI6NTEsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTIsXCJ4MFwiOjYwLFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjUzLFwieDBcIjo2OSxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1NCxcIngwXCI6NzgsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTUsXCJ4MFwiOjg3LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjU2LFwieDBcIjo5NixcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1NyxcIngwXCI6MTA1LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjU4LFwieDBcIjoyLFwieTBcIjo2MyxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6M30se1wiY1wiOjU5LFwieDBcIjoxMTUsXCJ5MFwiOjQ0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo0fSx7XCJjXCI6NjAsXCJ4MFwiOjExNCxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo2MSxcIngwXCI6OCxcInkwXCI6NjMsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjN9LHtcImNcIjo2MixcIngwXCI6MTIyLFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjYzLFwieDBcIjoyLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjY0LFwieDBcIjoxMSxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo2NSxcIngwXCI6MjEsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NjYsXCJ4MFwiOjMwLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjY3LFwieDBcIjozOSxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo2OCxcIngwXCI6NDcsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NjksXCJ4MFwiOjU2LFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjcwLFwieDBcIjo2NCxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo3MSxcIngwXCI6NzIsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NzIsXCJ4MFwiOjgxLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjczLFwieDBcIjo5MCxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo3NCxcIngwXCI6OTgsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NzUsXCJ4MFwiOjEwNyxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo3NixcIngwXCI6MTE2LFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjc3LFwieDBcIjoyLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjUsXCJoXCI6NX0se1wiY1wiOjc4LFwieDBcIjoxMixcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo3OSxcIngwXCI6MjEsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODAsXCJ4MFwiOjMwLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjgxLFwieDBcIjo0NyxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6Nn0se1wiY1wiOjgyLFwieDBcIjozOSxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo4MyxcIngwXCI6NDgsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODQsXCJ4MFwiOjU3LFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjg1LFwieDBcIjo2NSxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo4NixcIngwXCI6NzQsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODcsXCJ4MFwiOjgzLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjUsXCJoXCI6NX0se1wiY1wiOjg4LFwieDBcIjo5MyxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo4OSxcIngwXCI6MTAyLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjkwLFwieDBcIjoxMTEsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6OTEsXCJ4MFwiOjExOSxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoyLFwiaFwiOjV9LHtcImNcIjo5MixcIngwXCI6MixcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo5MyxcIngwXCI6MTIsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo1fSx7XCJjXCI6OTQsXCJ4MFwiOjM3LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6Mn0se1wiY1wiOjk1LFwieDBcIjo4MSxcInkwXCI6NjMsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjF9LHtcImNcIjo5NixcIngwXCI6NDUsXCJ5MFwiOjYzLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjoyfSx7XCJjXCI6OTcsXCJ4MFwiOjEyMSxcInkwXCI6NDQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjo5OCxcIngwXCI6MTksXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6OTksXCJ4MFwiOjIsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo0fSx7XCJjXCI6MTAwLFwieDBcIjoyOCxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjoxMDEsXCJ4MFwiOjEwLFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjEwMixcIngwXCI6MzcsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6MTAzLFwieDBcIjo1NixcInkwXCI6MixcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6Nn0se1wiY1wiOjEwNCxcIngwXCI6NDUsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6MTA1LFwieDBcIjo1NCxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoxLFwiaFwiOjV9LHtcImNcIjoxMDYsXCJ4MFwiOjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoyLFwiaFwiOjd9LHtcImNcIjoxMDcsXCJ4MFwiOjYwLFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjEwOCxcIngwXCI6NjksXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo1fSx7XCJjXCI6MTA5LFwieDBcIjoxOSxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjR9LHtcImNcIjoxMTAsXCJ4MFwiOjI5LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExMSxcIngwXCI6MzgsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6MTEyLFwieDBcIjo2NSxcInkwXCI6MixcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6Nn0se1wiY1wiOjExMyxcIngwXCI6NzQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjoxMTQsXCJ4MFwiOjQ3LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NH0se1wiY1wiOjExNSxcIngwXCI6NTUsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6MTE2LFwieDBcIjo3NSxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjoxMTcsXCJ4MFwiOjY0LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExOCxcIngwXCI6NzMsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6MTE5LFwieDBcIjo4MixcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjR9LHtcImNcIjoxMjAsXCJ4MFwiOjkyLFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NH0se1wiY1wiOjEyMSxcIngwXCI6ODMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjoxMjIsXCJ4MFwiOjEwMCxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMjMsXCJ4MFwiOjgzLFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjEyNCxcIngwXCI6OTEsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo1fSx7XCJjXCI6MTI1LFwieDBcIjo5NyxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjoxMjYsXCJ4MFwiOjUyLFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6Mn0se1wiY1wiOjE2MCxcIngwXCI6OTAsXCJ5MFwiOjYzLFwieHBhZFwiOjMsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6NjU1MzMsXCJ4MFwiOjEwNSxcInkwXCI6NDQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjoxMjgyNjMsXCJ4MFwiOjksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoxMCxcImhcIjo3fSx7XCJjXCI6MTI4MjY0LFwieDBcIjoyNCxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjksXCJoXCI6N31dfSIsIm1vZHVsZS5leHBvcnRzPXtcImZvbnRfc2l6ZVwiOjE2LFwiaW1hZ2VXXCI6MTAyNCxcImltYWdlSFwiOjY0LFwic3ByZWFkXCI6MixcIm5vRmlsdGVyXCI6MSxcImNoYW5uZWxzXCI6MSxcImNoYXJfaW5mb3NcIjpbe1wiY1wiOjMyLFwieDBcIjoxNzIsXCJ5MFwiOjIxLFwieHBhZFwiOjgsXCJ3XCI6MCxcImhcIjowfSx7XCJjXCI6MzMsXCJ4MFwiOjEzNyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6MTB9LHtcImNcIjozNCxcIngwXCI6ODEsXCJ5MFwiOjIxLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjo0fSx7XCJjXCI6MzUsXCJ4MFwiOjE0NCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6MzYsXCJ4MFwiOjU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjM3LFwieDBcIjoxNTksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjM4LFwieDBcIjoxNzQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjM5LFwieDBcIjo5MixcInkwXCI6MjEsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjR9LHtcImNcIjo0MCxcIngwXCI6MTg5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxMH0se1wiY1wiOjQxLFwieDBcIjoxOTgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjEwfSx7XCJjXCI6NDIsXCJ4MFwiOjQxLFwieTBcIjoyMSxcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6Nn0se1wiY1wiOjQzLFwieDBcIjo1MixcInkwXCI6MjEsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo0NCxcIngwXCI6OTksXCJ5MFwiOjIxLFwieW9mZnNcIjoxMSxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjQ1LFwieDBcIjoxNDEsXCJ5MFwiOjIxLFwieW9mZnNcIjo3LFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoyfSx7XCJjXCI6NDYsXCJ4MFwiOjE1MixcInkwXCI6MjEsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjIsXCJ3XCI6MixcImhcIjoyfSx7XCJjXCI6NDcsXCJ4MFwiOjIwNyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6NDgsXCJ4MFwiOjIyMixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo0OSxcIngwXCI6MjM1LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjYsXCJ3XCI6NCxcImhcIjoxMH0se1wiY1wiOjUwLFwieDBcIjoyNDQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTEsXCJ4MFwiOjI1NyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1MixcIngwXCI6MjcwLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjUzLFwieDBcIjoyODMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTQsXCJ4MFwiOjI5NixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1NSxcIngwXCI6MzA5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjU2LFwieDBcIjozMjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTcsXCJ4MFwiOjMzNSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1OCxcIngwXCI6NjMsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6MixcImhcIjo2fSx7XCJjXCI6NTksXCJ4MFwiOjg3NyxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6OH0se1wiY1wiOjYwLFwieDBcIjozNDgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NjEsXCJ4MFwiOjcwLFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6Nn0se1wiY1wiOjYyLFwieDBcIjozNTksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NjMsXCJ4MFwiOjM3MCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo2NCxcIngwXCI6MzgzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjo2NSxcIngwXCI6Mzk4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjY2LFwieDBcIjo0MTEsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NjcsXCJ4MFwiOjQyNCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjo2OCxcIngwXCI6NDM1LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjY5LFwieDBcIjo0NDgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzAsXCJ4MFwiOjQ1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjo3MSxcIngwXCI6NDcwLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjcyLFwieDBcIjo0ODMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NzMsXCJ4MFwiOjQ5NixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjo3NCxcIngwXCI6NTA3LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjc1LFwieDBcIjo1MjAsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NzYsXCJ4MFwiOjUzMyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjo3NyxcIngwXCI6NTQ0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjo3OCxcIngwXCI6NTU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjc5LFwieDBcIjo1NzIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODAsXCJ4MFwiOjU4NSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4MSxcIngwXCI6NzIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEyfSx7XCJjXCI6ODIsXCJ4MFwiOjU5OCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4MyxcIngwXCI6NjExLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjg0LFwieDBcIjo2MjQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6ODUsXCJ4MFwiOjYzNSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4NixcIngwXCI6NjQ4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjg3LFwieDBcIjo2NjEsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjg4LFwieDBcIjo2NzYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODksXCJ4MFwiOjY4OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo5MCxcIngwXCI6NzAyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjkxLFwieDBcIjo3MTMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjEwfSx7XCJjXCI6OTIsXCJ4MFwiOjcyMixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6OTMsXCJ4MFwiOjczNyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6MTB9LHtcImNcIjo5NCxcIngwXCI6MTA4LFwieTBcIjoyMSxcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6NH0se1wiY1wiOjk1LFwieDBcIjoxNTksXCJ5MFwiOjIxLFwieW9mZnNcIjoxMSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6Mn0se1wiY1wiOjk2LFwieDBcIjoxMTksXCJ5MFwiOjIxLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6OTcsXCJ4MFwiOjg4NCxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjk4LFwieDBcIjo3NDYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6OTksXCJ4MFwiOjg5NyxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6OH0se1wiY1wiOjEwMCxcIngwXCI6NzU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjEwMSxcIngwXCI6OTA4LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTAyLFwieDBcIjo3NzIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6MTAzLFwieDBcIjo4NSxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTJ9LHtcImNcIjoxMDQsXCJ4MFwiOjc4MyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjoxMDUsXCJ4MFwiOjc5NixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6MTB9LHtcImNcIjoxMDYsXCJ4MFwiOjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjE0fSx7XCJjXCI6MTA3LFwieDBcIjo4MDMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6MTA4LFwieDBcIjo4MTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MTA5LFwieDBcIjo5MjEsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjo4fSx7XCJjXCI6MTEwLFwieDBcIjo5MzYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMTEsXCJ4MFwiOjk0OSxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjExMixcIngwXCI6OTgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEyfSx7XCJjXCI6MTEzLFwieDBcIjoxMTEsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEyfSx7XCJjXCI6MTE0LFwieDBcIjo5NjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjh9LHtcImNcIjoxMTUsXCJ4MFwiOjk3MyxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjExNixcIngwXCI6ODIzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjExNyxcIngwXCI6OTg2LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTE4LFwieDBcIjo5OTksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMTksXCJ4MFwiOjIsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6OH0se1wiY1wiOjEyMCxcIngwXCI6MTcsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjo4fSx7XCJjXCI6MTIxLFwieDBcIjoxMjQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEyfSx7XCJjXCI6MTIyLFwieDBcIjoyOCxcInkwXCI6MjEsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMjMsXCJ4MFwiOjgzNCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjoxMjQsXCJ4MFwiOjg0NSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6MTB9LHtcImNcIjoxMjUsXCJ4MFwiOjg1MixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjoxMjYsXCJ4MFwiOjEyOCxcInkwXCI6MjEsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjR9LHtcImNcIjoxNjAsXCJ4MFwiOjE3OCxcInkwXCI6MjEsXCJ4cGFkXCI6NyxcIndcIjoxLFwiaFwiOjF9LHtcImNcIjo2NTUzMyxcIngwXCI6ODYzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjEsXCJ3XCI6OSxcImhcIjoxMH0se1wiY1wiOjEyODI2MyxcIngwXCI6MTEsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoxOSxcImhcIjoxNH0se1wiY1wiOjEyODI2NCxcIngwXCI6MzUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoxOSxcImhcIjoxNH1dfSIsIm1vZHVsZS5leHBvcnRzPXtcImZvbnRfc2l6ZVwiOjMyLFwiaW1hZ2VXXCI6MTAyNCxcImltYWdlSFwiOjUxMixcInNwcmVhZFwiOjgsXCJjaGFubmVsc1wiOjEsXCJjaGFyX2luZm9zXCI6W3tcImNcIjoxMyxcIngwXCI6MzA3LFwieTBcIjozODEsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6MzIsXCJ4MFwiOjMyNSxcInkwXCI6MzgxLFwieHBhZFwiOjYuMTAxNTYsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6MzMsXCJ4MFwiOjQzNixcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMTMyODEsXCJ3XCI6NixcImhcIjoyMn0se1wiY1wiOjM0LFwieDBcIjo4NzksXCJ5MFwiOjM0NyxcInlvZmZzXCI6NCxcIndcIjoxMCxcImhcIjo4fSx7XCJjXCI6MzUsXCJ4MFwiOjY3MyxcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcIndcIjoxNixcImhcIjoxN30se1wiY1wiOjM2LFwieDBcIjoyMTUsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjoyOX0se1wiY1wiOjM3LFwieDBcIjo5MzMsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjc3MzQzOCxcIndcIjoyNixcImhcIjoyM30se1wiY1wiOjM4LFwieDBcIjo5NzYsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjU3MDMxMyxcIndcIjoyMCxcImhcIjoyM30se1wiY1wiOjM5LFwieDBcIjo5MDYsXCJ5MFwiOjM0NyxcInlvZmZzXCI6NCxcIndcIjo1LFwiaFwiOjh9LHtcImNcIjo0MCxcIngwXCI6OCxcInkwXCI6MTkwLFwieW9mZnNcIjo1LFwid1wiOjgsXCJoXCI6MjN9LHtcImNcIjo0MSxcIngwXCI6MzMsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjg5MDYyNSxcIndcIjo3LFwiaFwiOjIzfSx7XCJjXCI6NDIsXCJ4MFwiOjY0NSxcInkwXCI6MzQ3LFwieW9mZnNcIjoyLFwid1wiOjExLFwiaFwiOjExfSx7XCJjXCI6NDMsXCJ4MFwiOjcwNixcInkwXCI6MzA5LFwieW9mZnNcIjo5LFwieHBhZFwiOjAuNDE0MDYzLFwid1wiOjE1LFwiaFwiOjE3fSx7XCJjXCI6NDQsXCJ4MFwiOjkyOCxcInkwXCI6MzQ3LFwieW9mZnNcIjoyMixcIndcIjo1LFwiaFwiOjh9LHtcImNcIjo0NSxcIngwXCI6MjUyLFwieTBcIjozODEsXCJ5b2Zmc1wiOjE2LFwid1wiOjksXCJoXCI6M30se1wiY1wiOjQ2LFwieDBcIjoxNTYsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MjIsXCJ3XCI6NSxcImhcIjo0fSx7XCJjXCI6NDcsXCJ4MFwiOjU3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTMsXCJoXCI6MjN9LHtcImNcIjo0OCxcIngwXCI6NDU5LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC42NzE4NzUsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjo0OSxcIngwXCI6NDAyLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6NS42NzE4OCxcIndcIjoxMixcImhcIjoyMX0se1wiY1wiOjUwLFwieDBcIjo0MzEsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjY3MTg4LFwid1wiOjE2LFwiaFwiOjIxfSx7XCJjXCI6NTEsXCJ4MFwiOjQ5MyxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjEuNjcxODgsXCJ3XCI6MTYsXCJoXCI6MjJ9LHtcImNcIjo1MixcIngwXCI6NDY0LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC42NzE4NzUsXCJ3XCI6MTcsXCJoXCI6MjF9LHtcImNcIjo1MyxcIngwXCI6NTI2LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS42NzE4OCxcIndcIjoxNixcImhcIjoyMn0se1wiY1wiOjU0LFwieDBcIjo1NTksXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjY3MTg3NSxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjU1LFwieDBcIjo0OTgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjY3MTg4LFwid1wiOjE2LFwiaFwiOjIxfSx7XCJjXCI6NTYsXCJ4MFwiOjU5MyxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjcxODc1LFwid1wiOjE3LFwiaFwiOjIyfSx7XCJjXCI6NTcsXCJ4MFwiOjYyNyxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjcxODc1LFwid1wiOjE3LFwiaFwiOjIyfSx7XCJjXCI6NTgsXCJ4MFwiOjQwMSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMixcIndcIjo1LFwiaFwiOjE0fSx7XCJjXCI6NTksXCJ4MFwiOjY1MSxcInkwXCI6MzA5LFwieW9mZnNcIjoxMixcIndcIjo1LFwiaFwiOjE4fSx7XCJjXCI6NjAsXCJ4MFwiOjg2NyxcInkwXCI6MTAzLFwieW9mZnNcIjo0LFwid1wiOjEyLFwiaFwiOjI1fSx7XCJjXCI6NjEsXCJ4MFwiOjg0NyxcInkwXCI6MzQ3LFwieW9mZnNcIjoxNCxcIndcIjoxNSxcImhcIjo5fSx7XCJjXCI6NjIsXCJ4MFwiOjg5NixcInkwXCI6MTAzLFwieW9mZnNcIjo0LFwid1wiOjEyLFwiaFwiOjI1fSx7XCJjXCI6NjMsXCJ4MFwiOjY2MSxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuMTk1MzEzLFwid1wiOjEyLFwiaFwiOjIyfSx7XCJjXCI6NjQsXCJ4MFwiOjg3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MS4yMTA5NCxcIndcIjoyMyxcImhcIjoyM30se1wiY1wiOjY1LFwieDBcIjo1MzEsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxOSxcImhcIjoyMX0se1wiY1wiOjY2LFwieDBcIjo1NjcsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjg4MjgxMyxcIndcIjoxOCxcImhcIjoyMX0se1wiY1wiOjY3LFwieDBcIjo2OTAsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjk0NTMxMyxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjY4LFwieDBcIjo2MDIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjAxNTYzLFwid1wiOjIwLFwiaFwiOjIxfSx7XCJjXCI6NjksXCJ4MFwiOjYzOSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjIxfSx7XCJjXCI6NzAsXCJ4MFwiOjY3MixcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwid1wiOjE1LFwiaFwiOjIxfSx7XCJjXCI6NzEsXCJ4MFwiOjcyNCxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjEuNzUsXCJ3XCI6MTgsXCJoXCI6MjJ9LHtcImNcIjo3MixcIngwXCI6NzA0LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi41MzkwNixcIndcIjoxOCxcImhcIjoyMX0se1wiY1wiOjczLFwieDBcIjo3MzksXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjU0Njg4LFwid1wiOjYsXCJoXCI6MjF9LHtcImNcIjo3NCxcIngwXCI6NzU5LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi43NTc4MSxcIndcIjo2LFwiaFwiOjIyfSx7XCJjXCI6NzUsXCJ4MFwiOjc2MixcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjIxfSx7XCJjXCI6NzYsXCJ4MFwiOjc5OCxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwid1wiOjE2LFwiaFwiOjIxfSx7XCJjXCI6NzcsXCJ4MFwiOjgzMSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuMjczNDQsXCJ3XCI6MjEsXCJoXCI6MjF9LHtcImNcIjo3OCxcIngwXCI6ODY5LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi43NDIxOSxcIndcIjoxOSxcImhcIjoyMX0se1wiY1wiOjc5LFwieDBcIjoxMjcsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjIzfSx7XCJjXCI6ODAsXCJ4MFwiOjkwNSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6ODEsXCJ4MFwiOjE2NSxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6MjN9LHtcImNcIjo4MixcIngwXCI6OTM5LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo4MyxcIngwXCI6MjAzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjg0LFwieDBcIjo5NzUsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxNyxcImhcIjoyMX0se1wiY1wiOjg1LFwieDBcIjo3ODIsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjIyfSx7XCJjXCI6ODYsXCJ4MFwiOjgsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcIndcIjoxOSxcImhcIjoyMX0se1wiY1wiOjg3LFwieDBcIjo0NCxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwid1wiOjMwLFwiaFwiOjIxfSx7XCJjXCI6ODgsXCJ4MFwiOjgxOCxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwid1wiOjIwLFwiaFwiOjIyfSx7XCJjXCI6ODksXCJ4MFwiOjkxLFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjo5MCxcIngwXCI6MTI2LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC4yMjY1NjMsXCJ3XCI6MTcsXCJoXCI6MjF9LHtcImNcIjo5MSxcIngwXCI6OTI1LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjQsXCJ3XCI6OSxcImhcIjoyNX0se1wiY1wiOjkyLFwieDBcIjoyMzUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcIndcIjoxMyxcImhcIjoyM30se1wiY1wiOjkzLFwieDBcIjo5NTEsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjcwMzEzLFwid1wiOjcsXCJoXCI6MjV9LHtcImNcIjo5NCxcIngwXCI6OTUwLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjE0LFwieHBhZFwiOjAuMTg3NSxcIndcIjoxMyxcImhcIjo4fSx7XCJjXCI6OTUsXCJ4MFwiOjI3OCxcInkwXCI6MzgxLFwieW9mZnNcIjoyMyxcInhwYWRcIjowLjQzNzUsXCJ3XCI6MTIsXCJoXCI6M30se1wiY1wiOjk2LFwieDBcIjo1NyxcInkwXCI6MzgxLFwieW9mZnNcIjozLFwid1wiOjYsXCJoXCI6Nn0se1wiY1wiOjk3LFwieDBcIjo3MzgsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoxN30se1wiY1wiOjk4LFwieDBcIjoyNjUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjg5MDYyNSxcIndcIjoxNixcImhcIjoyM30se1wiY1wiOjk5LFwieDBcIjo3NjksXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MTd9LHtcImNcIjoxMDAsXCJ4MFwiOjI5OCxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjIuMDcwMzEsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoxMDEsXCJ4MFwiOjgwMCxcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjE3fSx7XCJjXCI6MTAyLFwieDBcIjo4NTUsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcIndcIjoxMCxcImhcIjoyMn0se1wiY1wiOjEwMyxcIngwXCI6MzMwLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjIuMDcwMzEsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoxMDQsXCJ4MFwiOjg4MixcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMTAxNTYsXCJ3XCI6MTYsXCJoXCI6MjJ9LHtcImNcIjoxMDUsXCJ4MFwiOjE2MCxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjEuMzQzNzUsXCJ3XCI6NixcImhcIjoyMX0se1wiY1wiOjEwNixcIngwXCI6NzgsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjEuMDcwMzEsXCJ3XCI6NyxcImhcIjoyOH0se1wiY1wiOjEwNyxcIngwXCI6OTE1LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC4xNzE4NzUsXCJ3XCI6MTUsXCJoXCI6MjJ9LHtcImNcIjoxMDgsXCJ4MFwiOjk0NyxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuNDY4NzUsXCJ3XCI6NixcImhcIjoyMn0se1wiY1wiOjEwOSxcIngwXCI6NTAsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MS4xNDA2MyxcIndcIjoyNSxcImhcIjoxNn0se1wiY1wiOjExMCxcIngwXCI6OTIsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6Mi4wMzkwNixcIndcIjoxNSxcImhcIjoxNn0se1wiY1wiOjExMSxcIngwXCI6ODMyLFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjE3fSx7XCJjXCI6MTEyLFwieDBcIjozNjIsXCJ5MFwiOjE5MCxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC44OTA2MjUsXCJ3XCI6MTYsXCJoXCI6MjN9LHtcImNcIjoxMTMsXCJ4MFwiOjM5NSxcInkwXCI6MTkwLFwieW9mZnNcIjoxMCxcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MTE0LFwieDBcIjoxODQsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC4yMDMxMjUsXCJ3XCI6MTAsXCJoXCI6MTV9LHtcImNcIjoxMTUsXCJ4MFwiOjg2NSxcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjI4MTI1LFwid1wiOjEzLFwiaFwiOjE3fSx7XCJjXCI6MTE2LFwieDBcIjo1ODcsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NyxcInhwYWRcIjowLjIzNDM3NSxcIndcIjoxMCxcImhcIjoyMH0se1wiY1wiOjExNyxcIngwXCI6MTI0LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MTZ9LHtcImNcIjoxMTgsXCJ4MFwiOjIxMSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcIndcIjoxNSxcImhcIjoxNX0se1wiY1wiOjExOSxcIngwXCI6MjQzLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwid1wiOjIzLFwiaFwiOjE1fSx7XCJjXCI6MTIwLFwieDBcIjoyODMsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ3XCI6MTYsXCJoXCI6MTV9LHtcImNcIjoxMjEsXCJ4MFwiOjk3MCxcInkwXCI6MjMwLFwieW9mZnNcIjoxMSxcIndcIjoxNSxcImhcIjoyMn0se1wiY1wiOjEyMixcIngwXCI6MzE2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuODUxNTYzLFwid1wiOjEzLFwiaFwiOjE1fSx7XCJjXCI6MTIzLFwieDBcIjoxMDAyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjYsXCJ3XCI6OSxcImhcIjoyMn0se1wiY1wiOjEyNCxcIngwXCI6OCxcInkwXCI6OCxcIndcIjo3LFwiaFwiOjMyfSx7XCJjXCI6MTI1LFwieDBcIjo4LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjYsXCJ4cGFkXCI6MC40NjA5MzgsXCJ3XCI6OCxcImhcIjoyMn0se1wiY1wiOjEyNixcIngwXCI6MTI3LFwieTBcIjozODEsXCJ5b2Zmc1wiOjE2LFwieHBhZFwiOjAuMzEyNSxcIndcIjoxMixcImhcIjo1fSx7XCJjXCI6MTQ0LFwieDBcIjo5ODAsXCJ5MFwiOjM0NyxcInlvZmZzXCI6LTUsXCJ3XCI6MTQsXCJoXCI6OH0se1wiY1wiOjE2MCxcIngwXCI6MzQzLFwieTBcIjozODEsXCJ4cGFkXCI6Ni4xMDE1NixcIndcIjoxLFwiaFwiOjF9LHtcImNcIjoxNjEsXCJ4MFwiOjMzLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4xMzI4MSxcIndcIjo2LFwiaFwiOjIyfSx7XCJjXCI6MTYyLFwieDBcIjo0MjcsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NyxcInhwYWRcIjowLjI3MzQzOCxcIndcIjoxNCxcImhcIjoyM30se1wiY1wiOjE2MyxcIngwXCI6MTgzLFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC4zMDQ2ODgsXCJ3XCI6MTQsXCJoXCI6MjF9LHtcImNcIjoxNjQsXCJ4MFwiOjYxNCxcInkwXCI6MzA5LFwieW9mZnNcIjo5LFwieHBhZFwiOjAuMzI4MTI1LFwid1wiOjIwLFwiaFwiOjIwfSx7XCJjXCI6MTY1LFwieDBcIjoyMTQsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcIndcIjoxOCxcImhcIjoyMX0se1wiY1wiOjE2NixcIngwXCI6NDU4LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6Mi4xMDE1NixcIndcIjo2LFwiaFwiOjIzfSx7XCJjXCI6MTY3LFwieDBcIjoxMDIsXCJ5MFwiOjU3LFwieW9mZnNcIjoyLFwieHBhZFwiOjEuMjUsXCJ3XCI6MTcsXCJoXCI6Mjh9LHtcImNcIjoxNjgsXCJ4MFwiOjE3OCxcInkwXCI6MzgxLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuNDUzMTI1LFwid1wiOjksXCJoXCI6NH0se1wiY1wiOjE2OSxcIngwXCI6NDgxLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC42MjUsXCJ3XCI6MjUsXCJoXCI6MjN9LHtcImNcIjoxNzAsXCJ4MFwiOjU1MSxcInkwXCI6MzQ3LFwieW9mZnNcIjo0LFwieHBhZFwiOjAuMjk2ODc1LFwid1wiOjEwLFwiaFwiOjEyfSx7XCJjXCI6MTcxLFwieDBcIjo2NzMsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTMsXCJ4cGFkXCI6MC4xNDA2MjUsXCJ3XCI6MTEsXCJoXCI6MTF9LHtcImNcIjoxNzIsXCJ4MFwiOjcyOSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMyxcInhwYWRcIjowLjM4MjgxMyxcIndcIjoxNSxcImhcIjoxMH0se1wiY1wiOjE3MyxcIngwXCI6MzYxLFwieTBcIjozODEsXCJ4cGFkXCI6Mi45NDUzMSxcIndcIjoxLFwiaFwiOjF9LHtcImNcIjoxNzQsXCJ4MFwiOjI0OSxcInkwXCI6MzA5LFwieW9mZnNcIjoxLFwieHBhZFwiOjAuMzEyNSxcIndcIjoyMixcImhcIjoyMX0se1wiY1wiOjE3NSxcIngwXCI6MjA0LFwieTBcIjozODEsXCJ5b2Zmc1wiOjQsXCJ3XCI6OSxcImhcIjo0fSx7XCJjXCI6MTc2LFwieDBcIjozMixcInkwXCI6MzgxLFwieW9mZnNcIjo0LFwid1wiOjgsXCJoXCI6N30se1wiY1wiOjE3NyxcIngwXCI6ODk1LFwieTBcIjozMDksXCJ5b2Zmc1wiOjksXCJ3XCI6MTQsXCJoXCI6MTd9LHtcImNcIjoxNzgsXCJ4MFwiOjQyMyxcInkwXCI6MzQ3LFwieW9mZnNcIjoyLFwieHBhZFwiOjAuODkwNjI1LFwid1wiOjExLFwiaFwiOjE0fSx7XCJjXCI6MTc5LFwieDBcIjoxNTYsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcInhwYWRcIjoxLjUyMzQ0LFwid1wiOjExLFwiaFwiOjE2fSx7XCJjXCI6MTgwLFwieDBcIjo4MCxcInkwXCI6MzgxLFwieW9mZnNcIjozLFwid1wiOjYsXCJoXCI6Nn0se1wiY1wiOjE4MSxcIngwXCI6NTYsXCJ5MFwiOjI3MCxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MS44NTkzOCxcIndcIjoxNSxcImhcIjoyMn0se1wiY1wiOjE4MixcIngwXCI6Mjg4LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC41LFwid1wiOjI2LFwiaFwiOjIxfSx7XCJjXCI6MTgzLFwieDBcIjoyMzAsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MTYsXCJ3XCI6NSxcImhcIjo0fSx7XCJjXCI6MTg0LFwieDBcIjo4LFwieTBcIjozODEsXCJ5b2Zmc1wiOjI1LFwieHBhZFwiOjAuMDcwMzEyNSxcIndcIjo3LFwiaFwiOjh9LHtcImNcIjoxODUsXCJ4MFwiOjQ1MSxcInkwXCI6MzQ3LFwieW9mZnNcIjoyLFwieHBhZFwiOjAuNjg3NSxcIndcIjoxMCxcImhcIjoxNH0se1wiY1wiOjE4NixcIngwXCI6NTc4LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC42MjUsXCJ3XCI6MTEsXCJoXCI6MTJ9LHtcImNcIjoxODcsXCJ4MFwiOjcwMSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMyxcInhwYWRcIjowLjE0MDYyNSxcIndcIjoxMSxcImhcIjoxMX0se1wiY1wiOjE4OCxcIngwXCI6MjQ3LFwieTBcIjo4LFwieW9mZnNcIjoyLFwieHBhZFwiOjAuMDU0Njg3NSxcIndcIjoyNSxcImhcIjoyOX0se1wiY1wiOjE4OSxcIngwXCI6MTM2LFwieTBcIjo1NyxcInlvZmZzXCI6MixcInhwYWRcIjoxLjIyNjU2LFwid1wiOjI1LFwiaFwiOjI4fSx7XCJjXCI6MTkwLFwieDBcIjoyODksXCJ5MFwiOjgsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MC4xMDkzNzUsXCJ3XCI6MjYsXCJoXCI6Mjl9LHtcImNcIjoxOTEsXCJ4MFwiOjg4LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjYsXCJ4cGFkXCI6MC4wOTM3NSxcIndcIjoxMyxcImhcIjoyMn0se1wiY1wiOjE5MixcIngwXCI6MTc4LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjoxOTMsXCJ4MFwiOjIxNCxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MTk0LFwieDBcIjoyNTAsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcIndcIjoxOSxcImhcIjoyOH0se1wiY1wiOjE5NSxcIngwXCI6NjQ4LFwieTBcIjoxMDMsXCJ3XCI6MTksXCJoXCI6MjZ9LHtcImNcIjoxOTYsXCJ4MFwiOjI1MixcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcIndcIjoxOSxcImhcIjoyN30se1wiY1wiOjE5NyxcIngwXCI6Mjg2LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjoxOTgsXCJ4MFwiOjMzMSxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6MjcsXCJoXCI6MjF9LHtcImNcIjoxOTksXCJ4MFwiOjMyMixcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC45NDUzMTMsXCJ3XCI6MTcsXCJoXCI6Mjh9LHtcImNcIjoyMDAsXCJ4MFwiOjM1NixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MjAxLFwieDBcIjozODksXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyOH0se1wiY1wiOjIwMixcIngwXCI6NDIyLFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC42MTcxODgsXCJ3XCI6MTYsXCJoXCI6Mjh9LHtcImNcIjoyMDMsXCJ4MFwiOjI4OCxcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyN30se1wiY1wiOjIwNCxcIngwXCI6NDU1LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS41NDY4OCxcIndcIjo3LFwiaFwiOjI4fSx7XCJjXCI6MjA1LFwieDBcIjo0NzksXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjowLjU0Njg3NSxcIndcIjo4LFwiaFwiOjI4fSx7XCJjXCI6MjA2LFwieDBcIjo1MDQsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcIndcIjoxMSxcImhcIjoyOH0se1wiY1wiOjIwNyxcIngwXCI6MzIxLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwid1wiOjksXCJoXCI6Mjd9LHtcImNcIjoyMDgsXCJ4MFwiOjM3NSxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjAsXCJoXCI6MjF9LHtcImNcIjoyMDksXCJ4MFwiOjY4NCxcInkwXCI6MTAzLFwieHBhZFwiOjIuNzQyMTksXCJ3XCI6MTksXCJoXCI6MjZ9LHtcImNcIjoyMTAsXCJ4MFwiOjMzMixcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyOX0se1wiY1wiOjIxMSxcIngwXCI6MzcwLFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI5fSx7XCJjXCI6MjEyLFwieDBcIjo0MDgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjl9LHtcImNcIjoyMTMsXCJ4MFwiOjM0NyxcInkwXCI6MTAzLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjd9LHtcImNcIjoyMTQsXCJ4MFwiOjUzMixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjh9LHtcImNcIjoyMTUsXCJ4MFwiOjM0NixcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjM1OTM3NSxcIndcIjoxNSxcImhcIjoxNX0se1wiY1wiOjIxNixcIngwXCI6NTIzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyM30se1wiY1wiOjIxNyxcIngwXCI6NDQ2LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MjE4LFwieDBcIjo0ODIsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjl9LHtcImNcIjoyMTksXCJ4MFwiOjUxOCxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjIyMCxcIngwXCI6NTcwLFwieTBcIjo1NyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyOH0se1wiY1wiOjIyMSxcIngwXCI6NjA2LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTgsXCJoXCI6Mjh9LHtcImNcIjoyMjIsXCJ4MFwiOjQxMixcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjEuMDA3ODEsXCJ3XCI6MTcsXCJoXCI6MjF9LHtcImNcIjoyMjMsXCJ4MFwiOjQ0NixcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjEuMzA0NjksXCJ3XCI6MTcsXCJoXCI6MjF9LHtcImNcIjoyMjQsXCJ4MFwiOjY5LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyNH0se1wiY1wiOjIyNSxcIngwXCI6MTAwLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyNH0se1wiY1wiOjIyNixcIngwXCI6MTMxLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyNH0se1wiY1wiOjIyNyxcIngwXCI6NTYxLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyM30se1wiY1wiOjIyOCxcIngwXCI6NTkyLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyM30se1wiY1wiOjIyOSxcIngwXCI6OTc1LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyNX0se1wiY1wiOjIzMCxcIngwXCI6OTI2LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuOTYwOTM4LFwid1wiOjI0LFwiaFwiOjE3fSx7XCJjXCI6MjMxLFwieDBcIjo2MjMsXCJ5MFwiOjE5MCxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoyMzIsXCJ4MFwiOjE2MixcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjoyMzMsXCJ4MFwiOjE5NCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjoyMzQsXCJ4MFwiOjIyNixcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjoyMzUsXCJ4MFwiOjY1NCxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyMzYsXCJ4MFwiOjY4NixcInkwXCI6MTkwLFwieW9mZnNcIjozLFwieHBhZFwiOjEuMzQzNzUsXCJ3XCI6NixcImhcIjoyM30se1wiY1wiOjIzNyxcIngwXCI6NzA5LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjMsXCJ3XCI6OCxcImhcIjoyM30se1wiY1wiOjIzOCxcIngwXCI6NzM0LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjMsXCJ3XCI6MTEsXCJoXCI6MjN9LHtcImNcIjoyMzksXCJ4MFwiOjExOCxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjksXCJoXCI6MjJ9LHtcImNcIjoyNDAsXCJ4MFwiOjc2MixcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuNTMxMjUsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyNDEsXCJ4MFwiOjE0NCxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MjJ9LHtcImNcIjoyNDIsXCJ4MFwiOjI1OCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjI0fSx7XCJjXCI6MjQzLFwieDBcIjoyOTEsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoyNH0se1wiY1wiOjI0NCxcIngwXCI6MzI0LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjR9LHtcImNcIjoyNDUsXCJ4MFwiOjc5NCxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjIzfSx7XCJjXCI6MjQ2LFwieDBcIjo4MjcsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoyM30se1wiY1wiOjI0NyxcIngwXCI6NDc4LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuNDUzMTI1LFwid1wiOjE0LFwiaFwiOjE0fSx7XCJjXCI6MjQ4LFwieDBcIjo5NjcsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MTd9LHtcImNcIjoyNDksXCJ4MFwiOjM1NyxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjoyNTAsXCJ4MFwiOjM4OSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjoyNTEsXCJ4MFwiOjQyMSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjoyNTIsXCJ4MFwiOjg2MCxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyNTMsXCJ4MFwiOjY0LFwieTBcIjo4LFwieW9mZnNcIjozLFwid1wiOjE1LFwiaFwiOjMwfSx7XCJjXCI6MjU0LFwieDBcIjo1NTQsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC44OTA2MjUsXCJ3XCI6MTYsXCJoXCI6Mjl9LHtcImNcIjoyNTUsXCJ4MFwiOjU4NyxcInkwXCI6OCxcInlvZmZzXCI6NCxcIndcIjoxNSxcImhcIjoyOX0se1wiY1wiOjI1NixcIngwXCI6NzIwLFwieTBcIjoxMDMsXCJ3XCI6MTksXCJoXCI6MjZ9LHtcImNcIjoyNTcsXCJ4MFwiOjg5MixcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoyNTgsXCJ4MFwiOjM4NSxcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcIndcIjoxOSxcImhcIjoyN30se1wiY1wiOjI1OSxcIngwXCI6NDUzLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MS4yOTY4OCxcIndcIjoxNCxcImhcIjoyNH0se1wiY1wiOjI2MCxcIngwXCI6NjQxLFwieTBcIjo1NyxcInlvZmZzXCI6NSxcIndcIjoyMSxcImhcIjoyOH0se1wiY1wiOjI2MSxcIngwXCI6OTIzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjEwLFwid1wiOjE2LFwiaFwiOjIzfSx7XCJjXCI6MjYyLFwieDBcIjo2MTksXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuOTQ1MzEzLFwid1wiOjE3LFwiaFwiOjI5fSx7XCJjXCI6MjYzLFwieDBcIjo0ODQsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjI3MzQzOCxcIndcIjoxNCxcImhcIjoyNH0se1wiY1wiOjI2OCxcIngwXCI6NjUzLFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjowLjk0NTMxMyxcIndcIjoxNyxcImhcIjoyOX0se1wiY1wiOjI2OSxcIngwXCI6NTE1LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyNzAsXCJ4MFwiOjY3OSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMDE1NjMsXCJ3XCI6MjAsXCJoXCI6Mjh9LHtcImNcIjoyNzEsXCJ4MFwiOjk1NixcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwid1wiOjIyLFwiaFwiOjIzfSx7XCJjXCI6MjcyLFwieDBcIjo0ODAsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIwLFwiaFwiOjIxfSx7XCJjXCI6MjczLFwieDBcIjo5OTUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjA3MDMxMjUsXCJ3XCI6MTcsXCJoXCI6MjN9LHtcImNcIjoyNzQsXCJ4MFwiOjc1NixcInkwXCI6MTAzLFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI2fSx7XCJjXCI6Mjc1LFwieDBcIjo4LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4wNDY4OCxcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjI3OCxcIngwXCI6NDIxLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI3fSx7XCJjXCI6Mjc5LFwieDBcIjo0MCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyODAsXCJ4MFwiOjcxNixcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC42MTcxODgsXCJ3XCI6MTYsXCJoXCI6Mjh9LHtcImNcIjoyODEsXCJ4MFwiOjcyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyODIsXCJ4MFwiOjc0OSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MjgzLFwieDBcIjo1NDYsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6Mjg2LFwieDBcIjo3ODIsXCJ5MFwiOjU3LFwieW9mZnNcIjotMSxcInhwYWRcIjoxLjc1LFwid1wiOjE4LFwiaFwiOjI4fSx7XCJjXCI6Mjg3LFwieDBcIjo5NixcInkwXCI6OCxcInlvZmZzXCI6MyxcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjMwfSx7XCJjXCI6MjkwLFwieDBcIjo4MTcsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjEuNzUsXCJ3XCI6MTgsXCJoXCI6Mjh9LHtcImNcIjoyOTEsXCJ4MFwiOjMyLFwieTBcIjo4LFwieW9mZnNcIjoyLFwieHBhZFwiOjIuMDcwMzEsXCJ3XCI6MTUsXCJoXCI6MzF9LHtcImNcIjoyOTgsXCJ4MFwiOjc4OSxcInkwXCI6MTAzLFwid1wiOjksXCJoXCI6MjZ9LHtcImNcIjoyOTksXCJ4MFwiOjE3NixcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjksXCJoXCI6MjJ9LHtcImNcIjozMDIsXCJ4MFwiOjg1MixcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC41NDY4NzUsXCJ3XCI6OCxcImhcIjoyOH0se1wiY1wiOjMwMyxcIngwXCI6ODc3LFwieTBcIjo1NyxcInlvZmZzXCI6NSxcIndcIjo4LFwiaFwiOjI4fSx7XCJjXCI6MzA0LFwieDBcIjo0NTQsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6MS41NDY4OCxcIndcIjo3LFwiaFwiOjI3fSx7XCJjXCI6MzA1LFwieDBcIjozNzgsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MS4zNDM3NSxcIndcIjo2LFwiaFwiOjE1fSx7XCJjXCI6MzEwLFwieDBcIjo2ODcsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6Mjl9LHtcImNcIjozMTEsXCJ4MFwiOjEyOCxcInkwXCI6OCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjE3MTg3NSxcIndcIjoxNSxcImhcIjozMH0se1wiY1wiOjMxMyxcIngwXCI6OTAyLFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTYsXCJoXCI6Mjh9LHtcImNcIjozMTQsXCJ4MFwiOjgxNSxcInkwXCI6MTAzLFwid1wiOjgsXCJoXCI6MjZ9LHtcImNcIjozMTUsXCJ4MFwiOjcyMyxcInkwXCI6OCxcInlvZmZzXCI6NSxcIndcIjoxNixcImhcIjoyOX0se1wiY1wiOjMxNixcIngwXCI6MTYwLFwieTBcIjo4LFwieW9mZnNcIjo0LFwieHBhZFwiOjEuNDY4NzUsXCJ3XCI6NixcImhcIjozMH0se1wiY1wiOjMxNyxcIngwXCI6MjAyLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTYsXCJoXCI6MjJ9LHtcImNcIjozMTgsXCJ4MFwiOjIzNSxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjEyLFwiaFwiOjIyfSx7XCJjXCI6MzIxLFwieDBcIjo1MTcsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjowLjA0Njg3NSxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjMyMixcIngwXCI6MjY0LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTEsXCJoXCI6MjJ9LHtcImNcIjozMjMsXCJ4MFwiOjkzNSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuNzQyMTksXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjozMjQsXCJ4MFwiOjEwNCxcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozMjUsXCJ4MFwiOjc1NixcInkwXCI6OCxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjc0MjE5LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzI2LFwieDBcIjo1NzgsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6Mi4wMzkwNixcIndcIjoxNSxcImhcIjoyNH0se1wiY1wiOjMyNyxcIngwXCI6OTcxLFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6Mi43NDIxOSxcIndcIjoxOSxcImhcIjoyOH0se1wiY1wiOjMyOCxcIngwXCI6MTM2LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6Mi4wMzkwNixcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjMzMixcIngwXCI6NDc4LFwieTBcIjoxMDMsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyN30se1wiY1wiOjMzMyxcIngwXCI6MTY4LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjN9LHtcImNcIjozMzYsXCJ4MFwiOjc5MixcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyOX0se1wiY1wiOjMzNyxcIngwXCI6NjEwLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjR9LHtcImNcIjozMzgsXCJ4MFwiOjI5MixcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuMzkwNjI1LFwid1wiOjI5LFwiaFwiOjIyfSx7XCJjXCI6MzM5LFwieDBcIjo4LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuNjU2MjUsXCJ3XCI6MjUsXCJoXCI6MTd9LHtcImNcIjozNDAsXCJ4MFwiOjgsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTIsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjozNDEsXCJ4MFwiOjIwMSxcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjAuMjAzMTI1LFwid1wiOjEwLFwiaFwiOjIzfSx7XCJjXCI6MzQyLFwieDBcIjo4MzAsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6Mjl9LHtcImNcIjozNDMsXCJ4MFwiOjIyOCxcInkwXCI6MjMwLFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjIwMzEyNSxcIndcIjoxMCxcImhcIjoyM30se1wiY1wiOjM0NCxcIngwXCI6NDQsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTIsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjozNDUsXCJ4MFwiOjI1NSxcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjAuMjAzMTI1LFwid1wiOjEwLFwiaFwiOjIzfSx7XCJjXCI6MzQ2LFwieDBcIjo4NjYsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6Mjl9LHtcImNcIjozNDcsXCJ4MFwiOjY0MyxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6MTMsXCJoXCI6MjR9LHtcImNcIjozNTAsXCJ4MFwiOjg5OCxcInkwXCI6OCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjMyMDMxLFwid1wiOjE1LFwiaFwiOjI5fSx7XCJjXCI6MzUxLFwieDBcIjoyODIsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC4yODEyNSxcIndcIjoxMyxcImhcIjoyM30se1wiY1wiOjM1MixcIngwXCI6OTMwLFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjMyMDMxLFwid1wiOjE1LFwiaFwiOjI5fSx7XCJjXCI6MzUzLFwieDBcIjo2NzMsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjI4MTI1LFwid1wiOjEzLFwiaFwiOjI0fSx7XCJjXCI6MzU0LFwieDBcIjo4MCxcInkwXCI6MTAzLFwieW9mZnNcIjo1LFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MzU1LFwieDBcIjo4NDAsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NyxcInhwYWRcIjowLjIzNDM3NSxcIndcIjoxMCxcImhcIjoyNn0se1wiY1wiOjM1NixcIngwXCI6MTE0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MzU3LFwieDBcIjozMTIsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjM2MixcIngwXCI6NTE2LFwieTBcIjoxMDMsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyN30se1wiY1wiOjM2MyxcIngwXCI6MzQ0LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS42NDg0NCxcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjM2NixcIngwXCI6OTYyLFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzY3LFwieDBcIjo4LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MS42NDg0NCxcIndcIjoxNSxcImhcIjoyNX0se1wiY1wiOjM2OCxcIngwXCI6OCxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjl9LHtcImNcIjozNjksXCJ4MFwiOjcwMyxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjozNzAsXCJ4MFwiOjE0OCxcInkwXCI6MTAzLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjozNzEsXCJ4MFwiOjMzOCxcInkwXCI6MjcwLFwieW9mZnNcIjoxMSxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjM3NixcIngwXCI6NTUyLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwid1wiOjE4LFwiaFwiOjI3fSx7XCJjXCI6Mzc3LFwieDBcIjoxODQsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC4yMjY1NjMsXCJ3XCI6MTcsXCJoXCI6Mjh9LHtcImNcIjozNzgsXCJ4MFwiOjM3NixcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjAuODUxNTYzLFwid1wiOjEzLFwiaFwiOjIzfSx7XCJjXCI6Mzc5LFwieDBcIjo1ODcsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6MC4yMjY1NjMsXCJ3XCI6MTcsXCJoXCI6Mjd9LHtcImNcIjozODAsXCJ4MFwiOjM3MixcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuODUxNTYzLFwid1wiOjEzLFwiaFwiOjIyfSx7XCJjXCI6MzgxLFwieDBcIjoyMTgsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC4yMjY1NjMsXCJ3XCI6MTcsXCJoXCI6Mjh9LHtcImNcIjozODIsXCJ4MFwiOjQwNixcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjAuODUxNTYzLFwid1wiOjEzLFwiaFwiOjIzfSx7XCJjXCI6NDAyLFwieDBcIjo0MCxcInkwXCI6MTQ4LFwieW9mZnNcIjo0LFwid1wiOjEyLFwiaFwiOjI1fSx7XCJjXCI6NTM2LFwieDBcIjoxODMsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjozMH0se1wiY1wiOjUzNyxcIngwXCI6NzM1LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6MTMsXCJoXCI6MjR9LHtcImNcIjo1MzgsXCJ4MFwiOjQ0LFwieTBcIjo1NyxcInlvZmZzXCI6NSxcIndcIjoxNyxcImhcIjoyOX0se1wiY1wiOjUzOSxcIngwXCI6NjIxLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yMzQzNzUsXCJ3XCI6MTAsXCJoXCI6Mjd9LHtcImNcIjo4MjI2LFwieDBcIjoxMDMsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MTMsXCJ4cGFkXCI6MC4yODEyNSxcIndcIjo3LFwiaFwiOjZ9LHtcImNcIjo4NDgyLFwieDBcIjo2MDYsXCJ5MFwiOjM0NyxcInlvZmZzXCI6NSxcInhwYWRcIjowLjg4MjgxMyxcIndcIjoyMixcImhcIjoxMn0se1wiY1wiOjg1OTIsXCJ4MFwiOjc2MSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjg4MjgxMyxcIndcIjoyNixcImhcIjoxMH0se1wiY1wiOjg1OTMsXCJ4MFwiOjc2NSxcInkwXCI6MTQ4LFwieW9mZnNcIjo0LFwieHBhZFwiOjcuODgyODEsXCJ3XCI6MTksXCJoXCI6MjR9LHtcImNcIjo4NTk0LFwieDBcIjo4MDQsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MjYsXCJoXCI6MTB9LHtcImNcIjo4NTk1LFwieDBcIjo4MDEsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcInhwYWRcIjo3Ljg4MjgxLFwid1wiOjE5LFwiaFwiOjI0fSx7XCJjXCI6ODczNCxcIngwXCI6NTA5LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuNjg3NSxcIndcIjoyNSxcImhcIjoxNH0se1wiY1wiOjk3NDIsXCJ4MFwiOjgzNyxcInkwXCI6MTQ4LFwieW9mZnNcIjo0LFwid1wiOjMxLFwiaFwiOjI0fSx7XCJjXCI6OTc0MyxcIngwXCI6ODg1LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ3XCI6MzEsXCJoXCI6MjR9LHtcImNcIjo2NTUzMyxcIngwXCI6NTUwLFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ3XCI6MjAsXCJoXCI6MjF9XX0iLCIvKmVzbGludCBnbG9iYWwtcmVxdWlyZTpvZmYqL1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vZ2xvdi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5sb2NhbF9zdG9yYWdlLnN0b3JhZ2VfcHJlZml4ID0gJ2dhbGF4eS1nZW4nOyAvLyBCZWZvcmUgcmVxdWlyaW5nIGFueXRoaW5nIGVsc2UgdGhhdCBtaWdodCBsb2FkIGZyb20gdGhpc1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9nbG92L2NhbWVyYTJkLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2dsb3YvZW5naW5lLmpzJyk7XG5jb25zdCB7IGNyZWF0ZUdhbGF4eSwgZGlzdFNxLCBMQVlFUl9TVEVQIH0gPSByZXF1aXJlKCcuL2dhbGF4eS5qcycpO1xuY29uc3QgeyBhYnMsIGNvcywgZmxvb3IsIG1heCwgbWluLCBwb3csIHJvdW5kLCBzaW4sIHNxcnQsIFBJIH0gPSBNYXRoO1xuY29uc3QgaW5wdXQgPSByZXF1aXJlKCcuL2dsb3YvaW5wdXQuanMnKTtcbmNvbnN0IHsgS0VZUyB9ID0gaW5wdXQ7XG5jb25zdCBuZXQgPSByZXF1aXJlKCcuL2dsb3YvbmV0LmpzJyk7XG5jb25zdCBwZXJmID0gcmVxdWlyZSgnLi9nbG92L3BlcmYuanMnKTtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL2dsb3Yvc2hhZGVycy5qcycpO1xuY29uc3Qgc3ByaXRlcyA9IHJlcXVpcmUoJy4vZ2xvdi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vZ2xvdi90ZXh0dXJlcy5qcycpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL2dsb3YvdWkuanMnKTtcbmNvbnN0IHsgY2xhbXAsIGNsb25lLCBkZWVwRXF1YWwsIGVhc2VPdXQgfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHVuaXRfdmVjLCB2ZWMyLCB2MmFkZCwgdjJhZGRTY2FsZSwgdjJjb3B5LCB2MmZsb29yLCB2MnNldCwgdmVjNCB9ID0gcmVxdWlyZSgnLi9nbG92L3ZtYXRoLmpzJyk7XG5jb25zdCBjcmVhdGVTcHJpdGUgPSBzcHJpdGVzLmNyZWF0ZTtcbmNvbnN0IHsgQkxFTkRfQURESVRJVkUgfSA9IHNwcml0ZXM7XG5cbndpbmRvdy5aID0gd2luZG93LlogfHwge307XG5aLkJBQ0tHUk9VTkQgPSAxO1xuWi5TUFJJVEVTID0gMTA7XG5aLlBBUlRJQ0xFUyA9IDIwO1xuWi5VSV9URVNUID0gMjAwO1xuXG4vLyBsZXQgYXBwID0gZXhwb3J0cztcbi8vIFZpcnR1YWwgdmlld3BvcnQgZm9yIG91ciBnYW1lIGxvZ2ljXG5jb25zdCBnYW1lX3dpZHRoID0gMjU2ICsgOTA7XG5jb25zdCBnYW1lX2hlaWdodCA9IDI1NjtcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG4gIGlmIChlbmdpbmUuREVCVUcpIHtcbiAgICAvLyBFbmFibGUgYXV0by1yZWxvYWQsIGV0Y1xuICAgIG5ldC5pbml0KHsgZW5naW5lIH0pO1xuICB9XG5cbiAgbGV0IHZpZXcgPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ3ZpZXcnLCAxKTtcblxuICBjb25zdCBmb250X2luZm9fMDRiMDN4MiA9IHJlcXVpcmUoJy4vaW1nL2ZvbnQvMDRiMDNfOHgyLmpzb24nKTtcbiAgY29uc3QgZm9udF9pbmZvXzA0YjAzeDEgPSByZXF1aXJlKCcuL2ltZy9mb250LzA0YjAzXzh4MS5qc29uJyk7XG4gIGNvbnN0IGZvbnRfaW5mb19wYWxhbnF1aW4zMiA9IHJlcXVpcmUoJy4vaW1nL2ZvbnQvcGFsYW5xdWluMzIuanNvbicpO1xuICBsZXQgcGl4ZWx5ID0gdmlldyA9PT0gMSA/ICdzdHJpY3QnIDogJ29uJztcbiAgbGV0IGZvbnQ7XG4gIGlmIChwaXhlbHkgPT09ICdzdHJpY3QnIHx8IHRydWUpIHtcbiAgICBmb250ID0geyBpbmZvOiBmb250X2luZm9fMDRiMDN4MSwgdGV4dHVyZTogJ2ZvbnQvMDRiMDNfOHgxJyB9O1xuICB9IGVsc2UgaWYgKHBpeGVseSAmJiBwaXhlbHkgIT09ICdvZmYnKSB7XG4gICAgZm9udCA9IHsgaW5mbzogZm9udF9pbmZvXzA0YjAzeDIsIHRleHR1cmU6ICdmb250LzA0YjAzXzh4MicgfTtcbiAgfSBlbHNlIHtcbiAgICBmb250ID0geyBpbmZvOiBmb250X2luZm9fcGFsYW5xdWluMzIsIHRleHR1cmU6ICdmb250L3BhbGFucXVpbjMyJyB9O1xuICB9XG5cbiAgaWYgKCFlbmdpbmUuc3RhcnR1cCh7XG4gICAgZ2FtZV93aWR0aCxcbiAgICBnYW1lX2hlaWdodCxcbiAgICBwaXhlbHksXG4gICAgZm9udCxcbiAgICB2aWV3cG9ydF9wb3N0cHJvY2VzczogZmFsc2UsXG4gICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICBkb19ib3JkZXJzOiBmYWxzZSxcbiAgfSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9udCA9IGVuZ2luZS5mb250O1xuXG4gIHVpLnNjYWxlU2l6ZXMoMTMgLyAzMik7XG4gIHVpLnNldEZvbnRIZWlnaHQoOCk7XG5cbiAgbGV0IHRleF9wYWxldHRlID0gdGV4dHVyZXMubG9hZCh7XG4gICAgdXJsOiAncGFsZXR0ZS9wYWwyLnBuZycsXG4gICAgZmlsdGVyX21pbjogZ2wuTkVBUkVTVCxcbiAgICBmaWx0ZXJfbWFnOiBnbC5ORUFSRVNULFxuICAgIHdyYXBfczogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gIH0pO1xuXG4gIGxldCBzaGFkZXJfZ2FsYXh5X3BpeGVsID0gc2hhZGVycy5jcmVhdGUoJ3NoYWRlcnMvZ2FsYXh5X2JsZW5kX3BpeGVsLmZwJyk7XG4gIGxldCBzaGFkZXJfZ2FsYXh5X2JsZW5kID0gc2hhZGVycy5jcmVhdGUoJ3NoYWRlcnMvZ2FsYXh5X2JsZW5kLmZwJyk7XG4gIGxldCB3aGl0ZV90ZXggPSB0ZXh0dXJlcy50ZXh0dXJlcy53aGl0ZTtcblxuICBjb25zdCBNQVhfWk9PTSA9IDE2O1xuICBjb25zdCBidWZfZGltID0gMjU2O1xuICBsZXQgcGFyYW1zID0ge1xuICAgIGJ1Zl9kaW0sXG4gICAgZGl0aGVyOiAwLjUsXG4gICAgYXJtczogNyxcbiAgICBsZW5fbW9kczogNCxcbiAgICB0d2lybDogNCxcbiAgICBjZW50ZXI6IDAuMDksXG4gICAgc2VlZDogMSxcbiAgICBub2lzZV9mcmVxOiA1LFxuICAgIG5vaXNlX3dlaWdodDogMC4yMixcbiAgICBwb2lfY291bnQ6IDIwMCxcbiAgICB3aWR0aF9seTogMTI4KjEwMjQsXG4gICAgc3Rhcl9jb3VudDogMTAwKjEwMDAqMTAwMCoxMDAwLFxuICAgIG1heF96b29tOiBNQVhfWk9PTSxcblxuICAgIGxheWVyMToge1xuICAgICAgbm9pc2VfZnJlcTogMjAsXG4gICAgICBub2lzZV93ZWlnaHQ6IDAuMixcbiAgICB9LFxuICAgIGxheWVyMjoge1xuICAgICAgbm9pc2VfZnJlcTogODAsXG4gICAgICBub2lzZV93ZWlnaHQ6IDAuMixcbiAgICB9LFxuICAgIGxheWVyMzoge1xuICAgICAgbm9pc2VfZnJlcTogMjUwLFxuICAgICAgbm9pc2Vfd2VpZ2h0OiAwLjIsXG4gICAgfSxcbiAgICBsYXllcjQ6IHtcbiAgICAgIG5vaXNlX2ZyZXE6IDc1MCxcbiAgICAgIG5vaXNlX3dlaWdodDogMC4yNSxcbiAgICB9LFxuICAgIGxheWVyNToge1xuICAgICAgbm9pc2VfZnJlcTogMjUwMCxcbiAgICAgIG5vaXNlX3dlaWdodDogMC4zLFxuICAgIH0sXG4gIH07XG4gIGxldCBnZW5fcGFyYW1zO1xuICBsZXQgZGVidWdfc3ByaXRlO1xuICBsZXQgZ2FsYXh5O1xuICBmdW5jdGlvbiBhbGxvY1Nwcml0ZSgpIHtcbiAgICBpZiAoIWRlYnVnX3Nwcml0ZSkge1xuICAgICAgbGV0IHRleCA9IGdhbGF4eS5nZXRDZWxsVGV4dHVyZWQoMCwgMCkudGV4O1xuICAgICAgZGVidWdfc3ByaXRlID0gY3JlYXRlU3ByaXRlKHtcbiAgICAgICAgdGV4czogW3RleCwgdGV4LCB0ZXhdLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcm91bmQ0KHYpIHtcbiAgICByZXR1cm4gcm91bmQodiAqIDEwMDApLzEwMDA7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXQodikge1xuICAgIGFzc2VydCh2ID49IDApO1xuICAgIGlmICghdikge1xuICAgICAgcmV0dXJuICcwJztcbiAgICB9XG4gICAgaWYgKHYgPiA5MDAwMDAwMDApIHtcbiAgICAgIHJldHVybiBgJHsodi8xMDAwMDAwMDAwKS50b0ZpeGVkKDEpfUJgO1xuICAgIH1cbiAgICBpZiAodiA+IDkwMDAwMCkge1xuICAgICAgcmV0dXJuIGAkeyh2LzEwMDAwMDApLnRvRml4ZWQoMSl9TWA7XG4gICAgfVxuICAgIGlmICh2ID4gOTAwKSB7XG4gICAgICByZXR1cm4gYCR7KHYvMTAwMCkudG9GaXhlZCgxKX1LYDtcbiAgICB9XG4gICAgaWYgKHYgPiA5KSB7XG4gICAgICByZXR1cm4gYCR7cm91bmQodil9YDtcbiAgICB9XG4gICAgbGV0IHByZWNpcyA9IDE7XG4gICAgbGV0IGNoZWNrID0gMC4yO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAodiA+IGNoZWNrKSB7XG4gICAgICAgIHJldHVybiB2LnRvRml4ZWQocHJlY2lzKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrICo9IDAuMTtcbiAgICAgIHByZWNpcysrO1xuICAgIH1cbiAgfVxuXG4gIGxldCBjZWxsc19kcmF3biA9IDA7XG4gIHBlcmYuYWRkTWV0cmljKHtcbiAgICBuYW1lOiAnY2VsbHMnLFxuICAgIHNob3dfc3RhdDogJ3RydWUnLFxuICAgIGxhYmVsczoge1xuICAgICAgJ2NlbGxzOiAnOiAoKSA9PiBjZWxsc19kcmF3bi50b1N0cmluZygpLFxuICAgIH0sXG4gIH0pO1xuXG5cbiAgbGV0IHpvb21fbGV2ZWwgPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ3pvb20nLCAwKTtcbiAgbGV0IHRhcmdldF96b29tX2xldmVsID0gem9vbV9sZXZlbDtcbiAgbGV0IHpvb21fb2ZmcyA9IHZlYzIobG9jYWxfc3RvcmFnZS5nZXRKU09OKCdvZmZzeCcsIDApLGxvY2FsX3N0b3JhZ2UuZ2V0SlNPTignb2Zmc3knLCAwKSk7XG4gIGxldCBzdHlsZSA9IGZvbnQuc3R5bGVDb2xvcmVkKG51bGwsIDB4MDAwMDAwZmYpO1xuICBsZXQgbW91c2VfcG9zID0gdmVjMigpO1xuICBsZXQgdXNlX21vdXNlX3BvcyA9IGZhbHNlO1xuICBjb25zdCBjb2xvcl9oaWdobGlnaHQgPSB2ZWM0KDEsMSwwLDAuNzUpO1xuICBjb25zdCBjb2xvcl90ZXh0X2JhY2tkcm9wID0gdmVjNCgwLDAsMCwwLjUpO1xuICBmdW5jdGlvbiBkb1pvb21BY3R1YWwoeCwgeSwgZGVsdGEpIHtcbiAgICBsZXQgY3VyX3pvb20gPSBwb3coMiwgem9vbV9sZXZlbCk7XG4gICAgbGV0IG5ld196b29tX2xldmVsID0gbWF4KDAsIG1pbih6b29tX2xldmVsICsgZGVsdGEsIE1BWF9aT09NKSk7XG4gICAgbGV0IG5ld196b29tID0gcG93KDIsIG5ld196b29tX2xldmVsKTtcbiAgICAvLyBDYWxjIGFjdHVhbCBjb29yZHMgYXQgW3gseV1cbiAgICBsZXQgcG9pbnRfeCA9IHpvb21fb2Zmc1swXSArIHggLyBjdXJfem9vbTtcbiAgICBsZXQgcG9pbnRfeSA9IHpvb21fb2Zmc1sxXSArIHkgLyBjdXJfem9vbTtcbiAgICAvLyBDYWxjIG5ldyB4MCBhdCBuZXcgem9vbSByZWxhdGl2ZSB0byB0aGVzZSBjb29yZHNcbiAgICB6b29tX29mZnNbMF0gPSBwb2ludF94IC0geCAvIG5ld196b29tO1xuICAgIHpvb21fb2Zmc1sxXSA9IHBvaW50X3kgLSB5IC8gbmV3X3pvb207XG4gICAgem9vbV9sZXZlbCA9IG5ld196b29tX2xldmVsO1xuXG4gICAgaWYgKHpvb21fbGV2ZWwgPT09IDApIHtcbiAgICAgIC8vIHJlY2VudGVyXG4gICAgICB6b29tX29mZnNbMF0gPSB6b29tX29mZnNbMV0gPSAwO1xuICAgIH1cbiAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ29mZnN4Jywgem9vbV9vZmZzWzBdKTtcbiAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ29mZnN5Jywgem9vbV9vZmZzWzFdKTtcbiAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3pvb20nLCB6b29tX2xldmVsKTtcbiAgfVxuICBsZXQgcXVldWVkX3pvb21zID0gW107XG4gIGZ1bmN0aW9uIHpvb21UaWNrKCkge1xuICAgIGxldCBkdCA9IGVuZ2luZS5mcmFtZV9kdDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcXVldWVkX3pvb21zLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IHptID0gcXVldWVkX3pvb21zW2lpXTtcbiAgICAgIGxldCBuZXdfcHJvZ3Jlc3MgPSBtaW4oMSwgem0ucHJvZ3Jlc3MgKyBkdC81MDApO1xuICAgICAgbGV0IGRwID0gZWFzZU91dChuZXdfcHJvZ3Jlc3MsIDIpIC0gZWFzZU91dCh6bS5wcm9ncmVzcywgMik7XG4gICAgICB6bS5wcm9ncmVzcyA9IG5ld19wcm9ncmVzcztcbiAgICAgIGRvWm9vbUFjdHVhbCh6bS54LCB6bS55LCB6bS5kZWx0YSAqIGRwKTtcbiAgICAgIGlmIChuZXdfcHJvZ3Jlc3MgPT09IDEpIHtcbiAgICAgICAgcXVldWVkX3pvb21zLnNwbGljZShpaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRvWm9vbSh4LCB5LCBkZWx0YSkge1xuICAgIHRhcmdldF96b29tX2xldmVsID0gbWF4KDAsIG1pbih0YXJnZXRfem9vbV9sZXZlbCArIGRlbHRhLCBNQVhfWk9PTSkpO1xuICAgIHF1ZXVlZF96b29tcy5wdXNoKHtcbiAgICAgIHgsIHksIGRlbHRhLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBjb2xvcl9ibGFjayA9IHZlYzQoMCwwLDAsMSk7XG4gIGNvbnN0IGNvbG9yX29yYml0ID0gdmVjNCgwLjUsIDAuNSwgMCwgMSk7XG4gIGNvbnN0IFZTQ0FMRSA9IDAuNTtcbiAgZnVuY3Rpb24gZHJhd0VsaXBzZSh4LCB5LCB6LCByMCwgcjEsIGNvbG9yKSB7XG4gICAgbGV0IHNlZ21lbnRzID0gbWF4KDIwLCByMCAtIDEwKTtcbiAgICBsZXQgbGFzdF9wb3MgPSBbMCwwXTtcbiAgICBsZXQgY3VyX3BvcyA9IFswLDBdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPD0gc2VnbWVudHMgKyAxOyArK2lpKSB7XG4gICAgICB2MmNvcHkobGFzdF9wb3MsIGN1cl9wb3MpO1xuICAgICAgbGV0IHRoZXRhID0gaWkgLyBzZWdtZW50cyAqIFBJICogMiArIDAuMTtcbiAgICAgIHYyc2V0KGN1cl9wb3MsIHggKyBjb3ModGhldGEpICogcjAsIHkgKyBzaW4odGhldGEpICogcjEpO1xuICAgICAgaWYgKHZpZXcgPT09IDEpIHtcbiAgICAgICAgdjJmbG9vcihjdXJfcG9zLCBjdXJfcG9zKTtcbiAgICAgICAgdjJhZGRTY2FsZShjdXJfcG9zLCBjdXJfcG9zLCB1bml0X3ZlYywgMC41KTtcbiAgICAgIH1cbiAgICAgIGlmIChpaSkge1xuICAgICAgICB1aS5kcmF3TGluZShsYXN0X3Bvc1swXSwgbGFzdF9wb3NbMV0sIGN1cl9wb3NbMF0sIGN1cl9wb3NbMV0sIHosIDEsIDAuOSwgY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBPUkJJVF9SQVRFID0gMC4wMDAyO1xuICBmdW5jdGlvbiBkcmF3U29sYXJTeXN0ZW0oc29sYXJfc3lzdGVtLCB4MCwgeTAsIHosIHcsIGgpIHtcbiAgICBsZXQgeyBzdGFyX2RhdGEsIHBsYW5ldHMgfSA9IHNvbGFyX3N5c3RlbTtcbiAgICBsZXQgeG1pZCA9IHgwICsgdy8yO1xuICAgIGxldCB5bWlkID0geTAgKyBoLzI7XG4gICAgbGV0IHN1bl9yYWRpdXMgPSBzdGFyX2RhdGEuZ2FtZV9yYWRpdXM7XG4gICAgbGV0IHN1bl9wYWQgPSB3ICogMC4xO1xuICAgIHVpLmRyYXdDaXJjbGUoeG1pZCwgeW1pZCwgeiwgc3VuX3JhZGl1cyArIDIsIDAuMjUsIHN0YXJfZGF0YS5jb2xvciwgQkxFTkRfQURESVRJVkUpO1xuICAgIHVpLmRyYXdDaXJjbGUoeG1pZCwgeW1pZCwgeiArIDAuMDA1LCBzdW5fcmFkaXVzLCAwLjk1LCBzdGFyX2RhdGEuY29sb3IpO1xuICAgIGxldCByc3RlcCA9ICh3LzIgLSBzdW5fcGFkKSAvIChwbGFuZXRzLmxlbmd0aCArIDIpO1xuICAgIGxldCByMCA9IHN1bl9wYWQgKyByc3RlcDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcGxhbmV0cy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCByID0gcjAgKyByc3RlcCAqIGlpO1xuICAgICAgbGV0IHBsYW5ldCA9IHBsYW5ldHNbaWldO1xuICAgICAgbGV0IHggPSB4bWlkICsgY29zKHBsYW5ldC5vcmJpdCArIHBsYW5ldC5vcmJpdF9zcGVlZCAqIGVuZ2luZS5mcmFtZV90aW1lc3RhbXAqT1JCSVRfUkFURSkgKiByO1xuICAgICAgbGV0IHkgPSB5bWlkICsgc2luKHBsYW5ldC5vcmJpdCArIHBsYW5ldC5vcmJpdF9zcGVlZCAqIGVuZ2luZS5mcmFtZV90aW1lc3RhbXAqT1JCSVRfUkFURSkgKiByICogVlNDQUxFO1xuICAgICAgbGV0IHp6ID0geiArICh5IC0geW1pZCkvaDtcbiAgICAgIHVpLmRyYXdDaXJjbGUoeCwgeSwgenosIHBsYW5ldC5zaXplICsgMiwgMC45OSwgY29sb3JfYmxhY2spO1xuICAgICAgdWkuZHJhd0NpcmNsZSh4LCB5LCB6eiArIDAuMDAwMDEsIHBsYW5ldC5zaXplLCAwLjk5LCBwbGFuZXQudHlwZS5jb2xvcik7XG4gICAgICBkcmF3RWxpcHNlKHhtaWQsIHltaWQsIHogLSAyLCByLCByICogVlNDQUxFLCBjb2xvcl9vcmJpdCk7XG4gICAgfVxuXG4gICAgLy8gZHJhdyBiYWNrZHJvcFxuICAgIGxldCBicjAgPSB3LzI7XG4gICAgbGV0IGJyMSA9IGgvMipWU0NBTEU7XG4gICAgdWkuZHJhd0VsaXBzZSh4bWlkIC0gYnIwLCB5bWlkIC0gYnIxLCB4bWlkICsgYnIwLCB5bWlkICsgYnIxLCB6IC0gMi4xLCAwLCBjb2xvcl9ibGFjayk7XG4gIH1cblxuICBsZXQgZHJhZ190ZW1wID0gdmVjMigpO1xuICBmdW5jdGlvbiB0ZXN0KGR0KSB7XG5cbiAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xuICAgIGxldCB6ID0gWi5VSTtcblxuICAgIGxldCB4ID0gNDtcbiAgICBsZXQgYnV0dG9uX3NwYWNpbmcgPSB1aS5idXR0b25faGVpZ2h0ICsgNjtcbiAgICBsZXQgeSA9IDQ7XG5cbiAgICBsZXQgdyA9IG1pbihnYW1lX3dpZHRoLCBnYW1lX2hlaWdodCk7XG4gICAgbGV0IG1hcF94MCA9IGdhbWVfd2lkdGggLSB3O1xuICAgIGxldCBtYXBfeTAgPSAwO1xuXG4gICAgaWYgKGdhbGF4eSkge1xuICAgICAgZ2FsYXh5LmxvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWRlZXBFcXVhbChwYXJhbXMsIGdlbl9wYXJhbXMpKSB7XG4gICAgICBnZW5fcGFyYW1zID0gY2xvbmUocGFyYW1zKTtcbiAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICBpZiAoZ2FsYXh5KSB7XG4gICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgIGdhbGF4eS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICBnYWxheHkgPSBjcmVhdGVHYWxheHkocGFyYW1zKTtcbiAgICAgIGdhbGF4eS5sb2FkaW5nID0gZmlyc3Q7XG4gICAgICBhbGxvY1Nwcml0ZSgpO1xuICAgIH1cblxuICAgIGlmICh1aS5idXR0b25UZXh0KHsgeCwgeSwgdGV4dDogYFZpZXc6ICR7dmlldyA/ICdQaXhlbHknIDogJ1Jhdyd9YCwgdzogdWkuYnV0dG9uX3dpZHRoICogMC43NSB9KSB8fFxuICAgICAgaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5WKVxuICAgICkge1xuICAgICAgdmlldyA9ICh2aWV3ICsgMSkgJSAyO1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCd2aWV3Jywgdmlldyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IGVuZ2luZS5zZXRQaXhlbHlTdHJpY3QodmlldyA9PT0gMSksIDApO1xuICAgICAgLy9lbmdpbmUucmVsb2FkU2FmZSgpO1xuICAgIH1cbiAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuXG4gICAgLy8gaWYgKHZpZXcgPT09IDEpIHtcbiAgICAvLyAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgRGl0aGVyOiAke3BhcmFtcy5kaXRoZXJ9YCk7XG4gICAgLy8gICB5ICs9IHVpLmZvbnRfaGVpZ2h0O1xuICAgIC8vICAgcGFyYW1zLmRpdGhlciA9IHJvdW5kNCh1aS5zbGlkZXIocGFyYW1zLmRpdGhlciwgeyB4LCB5LCB6LCBtaW46IDAsIG1heDogMSB9KSk7XG4gICAgLy8gICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuICAgIC8vIH1cblxuICAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgU2VlZDogJHtwYXJhbXMuc2VlZH1gKTtcbiAgICB5ICs9IHVpLmZvbnRfaGVpZ2h0O1xuICAgIHBhcmFtcy5zZWVkID0gcm91bmQodWkuc2xpZGVyKHBhcmFtcy5zZWVkLCB7IHgsIHksIHosIG1pbjogMSwgbWF4OiA5OTk5IH0pKTtcbiAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuXG4gICAgaWYgKHpvb21fbGV2ZWwgPCAxLjkpIHsgLy8gR2FsYXh5XG4gICAgICB1aS5wcmludChzdHlsZSwgeCwgeSwgeiwgYEFybXM6ICR7cGFyYW1zLmFybXN9YCk7XG4gICAgICB5ICs9IHVpLmZvbnRfaGVpZ2h0O1xuICAgICAgcGFyYW1zLmFybXMgPSByb3VuZCh1aS5zbGlkZXIocGFyYW1zLmFybXMsIHsgeCwgeSwgeiwgbWluOiAxLCBtYXg6IDE2IH0pKTtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG5cbiAgICAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgQXJtIE1vZHM6ICR7cGFyYW1zLmxlbl9tb2RzfWApO1xuICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgIHBhcmFtcy5sZW5fbW9kcyA9IHJvdW5kKHVpLnNsaWRlcihwYXJhbXMubGVuX21vZHMsIHsgeCwgeSwgeiwgbWluOiAxLCBtYXg6IDMyIH0pKTtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG5cbiAgICAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgVHdpcmw6ICR7cGFyYW1zLnR3aXJsfWApO1xuICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgIHBhcmFtcy50d2lybCA9IHJvdW5kNCh1aS5zbGlkZXIocGFyYW1zLnR3aXJsLCB7IHgsIHksIHosIG1pbjogMCwgbWF4OiA4IH0pKTtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG5cbiAgICAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgQ2VudGVyOiAke3BhcmFtcy5jZW50ZXJ9YCk7XG4gICAgICB5ICs9IHVpLmZvbnRfaGVpZ2h0O1xuICAgICAgcGFyYW1zLmNlbnRlciA9IHJvdW5kNCh1aS5zbGlkZXIocGFyYW1zLmNlbnRlciwgeyB4LCB5LCB6LCBtaW46IDAsIG1heDogMC4zIH0pKTtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG5cbiAgICAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgTm9pc2UgRnJlcTogJHtwYXJhbXMubm9pc2VfZnJlcX1gKTtcbiAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICBwYXJhbXMubm9pc2VfZnJlcSA9IHJvdW5kNCh1aS5zbGlkZXIocGFyYW1zLm5vaXNlX2ZyZXEsIHsgeCwgeSwgeiwgbWluOiAwLjEsIG1heDogMTAgfSkpO1xuICAgICAgeSArPSBidXR0b25fc3BhY2luZztcblxuICAgICAgdWkucHJpbnQoc3R5bGUsIHgsIHksIHosIGBOb2lzZSBXZWlnaHQ6ICR7cGFyYW1zLm5vaXNlX3dlaWdodH1gKTtcbiAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICBwYXJhbXMubm9pc2Vfd2VpZ2h0ID0gcm91bmQ0KHVpLnNsaWRlcihwYXJhbXMubm9pc2Vfd2VpZ2h0LCB7IHgsIHksIHosIG1pbjogMCwgbWF4OiA0IH0pKTtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG5cbiAgICAgIHVpLnByaW50KHN0eWxlLCB4LCB5LCB6LCBgTG9uZSBDbHVzdGVyczogJHtwYXJhbXMucG9pX2NvdW50fWApO1xuICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgIHBhcmFtcy5wb2lfY291bnQgPSByb3VuZCh1aS5zbGlkZXIocGFyYW1zLnBvaV9jb3VudCwgeyB4LCB5LCB6LCBtaW46IDAsIG1heDogMTAwMCB9KSk7XG4gICAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbGF5ZXJfaWR4ID0gcm91bmQoem9vbV9sZXZlbCAvIChMQVlFUl9TVEVQIC8gMikpO1xuICAgICAgdWkucHJpbnQoc3R5bGUsIHgsIHksIHosIGBMYXllciAjJHtsYXllcl9pZHh9OmApO1xuICAgICAgeSArPSB1aS5mb250X2hlaWdodCArIDI7XG4gICAgICBsZXQga2V5ID0gYGxheWVyJHtsYXllcl9pZHh9YDtcbiAgICAgIGlmIChwYXJhbXNba2V5XSkge1xuICAgICAgICB1aS5wcmludChzdHlsZSwgeCwgeSwgeiwgYE5vaXNlIEZyZXE6ICR7cGFyYW1zW2tleV0ubm9pc2VfZnJlcX1gKTtcbiAgICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgICAgcGFyYW1zW2tleV0ubm9pc2VfZnJlcSA9IHJvdW5kNCh1aS5zbGlkZXIocGFyYW1zW2tleV0ubm9pc2VfZnJlcSxcbiAgICAgICAgICB7IHgsIHksIHosIG1pbjogMC4xLCBtYXg6IDEwMCAqIHBvdygyLCBsYXllcl9pZHgpIH0pKTtcbiAgICAgICAgeSArPSBidXR0b25fc3BhY2luZztcblxuICAgICAgICB1aS5wcmludChzdHlsZSwgeCwgeSwgeiwgYE5vaXNlIFdlaWdodDogJHtwYXJhbXNba2V5XS5ub2lzZV93ZWlnaHR9YCk7XG4gICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgIHBhcmFtc1trZXldLm5vaXNlX3dlaWdodCA9IHJvdW5kNCh1aS5zbGlkZXIocGFyYW1zW2tleV0ubm9pc2Vfd2VpZ2h0LCB7IHgsIHksIHosIG1pbjogMCwgbWF4OiA0IH0pKTtcbiAgICAgICAgeSArPSBidXR0b25fc3BhY2luZztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1aS5wYW5lbCh7XG4gICAgICB4OiB4IC0gNCwgeTogMCwgdzogdWkuYnV0dG9uX3dpZHRoICsgOCwgaDogeSwgejogeiAtIDEsXG4gICAgfSk7XG5cblxuICAgIHggPSBnYW1lX3dpZHRoIC0gdyArIDQ7XG4gICAgeSA9IHcgLSB1aS5idXR0b25faGVpZ2h0O1xuXG4gICAgaWYgKHVpLmJ1dHRvblRleHQoeyB4LCB5LCB6LCB3OiB1aS5idXR0b25faGVpZ2h0LCB0ZXh0OiAnLScgfSkgfHxcbiAgICAgIGlucHV0LmtleURvd25FZGdlKEtFWVMuTUlOVVMpIHx8IGlucHV0LmtleURvd25FZGdlKEtFWVMuUSlcbiAgICApIHtcbiAgICAgIHVzZV9tb3VzZV9wb3MgPSBmYWxzZTtcbiAgICAgIGRvWm9vbSgwLjUsIDAuNSwgLTEpO1xuICAgIH1cbiAgICB4ICs9IHVpLmJ1dHRvbl9oZWlnaHQgKyAyO1xuICAgIGNvbnN0IFNMSURFUl9XID0gMTEwO1xuICAgIGxldCBuZXdfem9vbSA9IHVpLnNsaWRlcih0YXJnZXRfem9vbV9sZXZlbCwgeyB4LCB5LCB6LCB3OiBTTElERVJfVywgbWluOiAwLCBtYXg6IE1BWF9aT09NIH0pO1xuICAgIGlmIChhYnMobmV3X3pvb20gLSB0YXJnZXRfem9vbV9sZXZlbCkgPiAwLjAwMDAwMSkge1xuICAgICAgZG9ab29tKDAuNSwgMC41LCBuZXdfem9vbSAtIHRhcmdldF96b29tX2xldmVsKTtcbiAgICB9XG4gICAgeCArPSBTTElERVJfVyArIDI7XG4gICAgaWYgKHVpLmJ1dHRvblRleHQoeyB4LCB5LCB6LCB3OiB1aS5idXR0b25faGVpZ2h0LCB0ZXh0OiAnKycgfSkgfHxcbiAgICAgIGlucHV0LmtleURvd25FZGdlKEtFWVMuRVFVQUxTKSB8fFxuICAgICAgaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5FKVxuICAgICkge1xuICAgICAgdXNlX21vdXNlX3BvcyA9IGZhbHNlO1xuICAgICAgZG9ab29tKDAuNSwgMC41LCAxKTtcbiAgICB9XG4gICAgeCArPSB1aS5idXR0b25faGVpZ2h0ICsgMjtcbiAgICBsZXQgbW91c2Vfd2hlZWwgPSBpbnB1dC5tb3VzZVdoZWVsKCk7XG4gICAgaWYgKG1vdXNlX3doZWVsKSB7XG4gICAgICB1c2VfbW91c2VfcG9zID0gdHJ1ZTtcbiAgICAgIGlucHV0Lm1vdXNlUG9zKG1vdXNlX3Bvcyk7XG4gICAgICBkb1pvb20oKG1vdXNlX3Bvc1swXSAtIG1hcF94MCkgLyB3LCAobW91c2VfcG9zWzFdIC0gbWFwX3kwKSAvIHcsIG1vdXNlX3doZWVsKjAuMjUpO1xuICAgIH1cblxuICAgIHpvb21UaWNrKCk7XG4gICAgbGV0IHpvb20gPSBwb3coMiwgem9vbV9sZXZlbCk7XG4gICAgbGV0IHpvb21fdGV4dF95ID0gZmxvb3IoeSArICh1aS5idXR0b25faGVpZ2h0IC0gdWkuZm9udF9oZWlnaHQpLzIpO1xuICAgIGxldCB6b29tX3RleHRfdyA9IHVpLnByaW50KG51bGwsIHgsIHpvb21fdGV4dF95LCB6LFxuICAgICAgYCR7em9vbS50b0ZpeGVkKDApfVhgKTtcbiAgICB1aS5kcmF3UmVjdCh4IC0gMiwgem9vbV90ZXh0X3ksIHggKyB6b29tX3RleHRfdyArIDIsIHpvb21fdGV4dF95ICsgdWkuZm9udF9oZWlnaHQsIHogLSAxLCBjb2xvcl90ZXh0X2JhY2tkcm9wKTtcblxuICAgIHggPSBnYW1lX3dpZHRoIC0gdztcbiAgICAvLyB5IC09IHVpLmZvbnRfaGVpZ2h0O1xuICAgIC8vIHVpLnByaW50KG51bGwsIHgrMiwgeSwgeiwgYE9mZnNldDogJHtyb3VuZDQoem9vbV9vZmZzWzBdKX0sJHtyb3VuZDQoem9vbV9vZmZzWzFdKX1gKTtcblxuICAgIGxldCBsZWdlbmRfc2NhbGUgPSAwLjI1O1xuICAgIGxldCBsZWdlbmRfeDAgPSBnYW1lX3dpZHRoIC0gdypsZWdlbmRfc2NhbGUgLSAyO1xuICAgIGxldCBsZWdlbmRfeDEgPSBnYW1lX3dpZHRoIC0gNDtcbiAgICB5ID0gdztcbiAgICB1aS5kcmF3TGluZShsZWdlbmRfeDAgLSAwLjUsIHkgLSA0LjUsIGxlZ2VuZF94MSArIDAuNSwgeSAtIDQuNSwgeiwgMSwgMSwgdW5pdF92ZWMpO1xuICAgIHVpLmRyYXdMaW5lKGxlZ2VuZF94MCAtIDAuNSwgeSAtIDcsIGxlZ2VuZF94MCAtIDAuNSwgeSAtIDIsIHosIDEsIDEsIHVuaXRfdmVjKTtcbiAgICB1aS5kcmF3TGluZShsZWdlbmRfeDEgKyAwLjUsIHkgLSA3LCBsZWdlbmRfeDEgKyAwLjUsIHkgLSAyLCB6LCAxLCAxLCB1bml0X3ZlYyk7XG4gICAgbGV0IGx5ID0gbGVnZW5kX3NjYWxlICogcGFyYW1zLndpZHRoX2x5IC8gem9vbTtcbiAgICBsZXQgbGVnZW5kX3kgPSB5IC0gNiAtIHVpLmZvbnRfaGVpZ2h0O1xuICAgIGZvbnQuZHJhd1NpemVkQWxpZ25lZChudWxsLCBsZWdlbmRfeDAsIGxlZ2VuZF95LCB6LCB1aS5mb250X2hlaWdodCwgZm9udC5BTElHTi5IQ0VOVEVSLCBsZWdlbmRfeDEgLSBsZWdlbmRfeDAsIDAsXG4gICAgICBgJHtmb3JtYXQobHkpfWx5YCk7XG4gICAgdWkuZHJhd1JlY3QobGVnZW5kX3gwIC0gMiwgbGVnZW5kX3ksIGxlZ2VuZF94MSArIDIsIHksIHogLSAxLCBjb2xvcl90ZXh0X2JhY2tkcm9wKTtcblxuICAgIHggPSBtYXBfeDA7XG4gICAgeSA9IG1hcF95MDtcblxuICAgIHYyc2V0KGRyYWdfdGVtcCwgMCwgMCk7XG4gICAgbGV0IGtiX3NjYWxlID0gaW5wdXQua2V5RG93bihLRVlTLlNISUZUKSA/IDAuNSA6IDAuMTI1O1xuICAgIGRyYWdfdGVtcFswXSArPSBpbnB1dC5rZXlEb3duKEtFWVMuQSkgKiBrYl9zY2FsZTtcbiAgICBkcmFnX3RlbXBbMF0gLT0gaW5wdXQua2V5RG93bihLRVlTLkQpICoga2Jfc2NhbGU7XG4gICAgZHJhZ190ZW1wWzFdICs9IGlucHV0LmtleURvd24oS0VZUy5XKSAqIGtiX3NjYWxlO1xuICAgIGRyYWdfdGVtcFsxXSAtPSBpbnB1dC5rZXlEb3duKEtFWVMuUykgKiBrYl9zY2FsZTtcbiAgICBsZXQgZHJhZyA9IGlucHV0LmRyYWcoKTtcbiAgICBpZiAoZHJhZyAmJiBkcmFnLmRlbHRhKSB7XG4gICAgICB2MmFkZChkcmFnX3RlbXAsIGRyYWdfdGVtcCwgZHJhZy5kZWx0YSk7XG4gICAgICB1c2VfbW91c2VfcG9zID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRyYWdfdGVtcFswXSB8fCBkcmFnX3RlbXBbMV0pIHtcbiAgICAgIHpvb21fb2Zmc1swXSAtPSBkcmFnX3RlbXBbMF0gLyB3IC8gem9vbTtcbiAgICAgIHpvb21fb2Zmc1sxXSAtPSBkcmFnX3RlbXBbMV0gLyB3IC8gem9vbTtcbiAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTignb2Zmc3gnLCB6b29tX29mZnNbMF0pO1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCdvZmZzeScsIHpvb21fb2Zmc1sxXSk7XG4gICAgfVxuICAgIHpvb21fb2Zmc1swXSA9IGNsYW1wKHpvb21fb2Zmc1swXSwgLTEvem9vbSwgMSk7XG4gICAgem9vbV9vZmZzWzFdID0gY2xhbXAoem9vbV9vZmZzWzFdLCAtMS96b29tLCAxKTtcblxuICAgIGlmIChpbnB1dC5tb3VzZU1vdmVkKCkpIHtcbiAgICAgIHVzZV9tb3VzZV9wb3MgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodXNlX21vdXNlX3Bvcykge1xuICAgICAgaW5wdXQubW91c2VQb3MobW91c2VfcG9zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91c2VfcG9zWzBdID0gbWFwX3gwICsgdy8yO1xuICAgICAgbW91c2VfcG9zWzFdID0gbWFwX3kwICsgdy8yO1xuICAgIH1cbiAgICBtb3VzZV9wb3NbMF0gPSB6b29tX29mZnNbMF0gKyAobW91c2VfcG9zWzBdIC0gbWFwX3gwKSAvIHcgLyB6b29tO1xuICAgIG1vdXNlX3Bvc1sxXSA9IHpvb21fb2Zmc1sxXSArIChtb3VzZV9wb3NbMV0gLSBtYXBfeTApIC8gdyAvIHpvb207XG5cbiAgICBsZXQgb3ZlcmxheV95ID0gMDtcbiAgICBsZXQgb3ZlcmxheV94ID0gbWFwX3gwICsgMjtcbiAgICBsZXQgb3ZlcmxheV93ID0gMDtcbiAgICBmdW5jdGlvbiBvdmVybGF5VGV4dChsaW5lKSB7XG4gICAgICBsZXQgdGV4dHcgPSB1aS5wcmludChudWxsLCBvdmVybGF5X3gsIG92ZXJsYXlfeSwgeiwgbGluZSk7XG4gICAgICBvdmVybGF5X3cgPSBtYXgob3ZlcmxheV93LCB0ZXh0dyk7XG4gICAgICBvdmVybGF5X3kgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgfVxuICAgIGlmICgwKSB7XG4gICAgICBvdmVybGF5VGV4dChgJHt1c2VfbW91c2VfcG9zPydNb3VzZSc6J1RhcmdldCd9OiAke21vdXNlX3Bvc1swXS50b0ZpeGVkKDkpfSwke21vdXNlX3Bvc1sxXS50b0ZpeGVkKDkpfWApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoaWdobGlnaHRDZWxsKGNlbGwpIHtcbiAgICAgIGxldCB4cCA9IHggKyAoY2VsbC54MCAtIHpvb21fb2Zmc1swXSkgKiB6b29tICogdztcbiAgICAgIGxldCB5cCA9IHkgKyAoY2VsbC55MCAtIHpvb21fb2Zmc1sxXSkgKiB6b29tICogdztcbiAgICAgIGxldCB3cCA9IHcgKiB6b29tICogY2VsbC53O1xuICAgICAgbGV0IGhwID0gdyAqIHpvb20gKiBjZWxsLmg7XG4gICAgICBpZiAodmlldyA9PT0gMSkge1xuICAgICAgICB4cCA9IHJvdW5kKHhwKTtcbiAgICAgICAgeXAgPSByb3VuZCh5cCk7XG4gICAgICAgIGhwID0gcm91bmQoaHApO1xuICAgICAgICB3cCA9IHJvdW5kKHdwKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmdpbmUuZGVmaW5lcy5DRUxMKSB7XG4gICAgICAgIHVpLmRyYXdIb2xsb3dSZWN0Mih7XG4gICAgICAgICAgeDogeHAgLSAwLjUsXG4gICAgICAgICAgeTogeXAgLSAwLjUsXG4gICAgICAgICAgdzogd3AgKyAxLFxuICAgICAgICAgIGg6IGhwICsgMSxcbiAgICAgICAgICB6OiBaLlVJIC0gOCxcbiAgICAgICAgICBjb2xvcjogY29sb3JfaGlnaGxpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgICAgb3ZlcmxheVRleHQoYExheWVyICR7Y2VsbC5sYXllcl9pZHh9LCBDZWxsICR7Y2VsbC5jZWxsX2lkeH0gKCR7Y2VsbC5jeH0sJHtjZWxsLmN5fSlgKTtcbiAgICAgICAgb3ZlcmxheVRleHQoYFN0YXJzOiAke2Zvcm1hdChjZWxsLnN0YXJfY291bnQpfWApO1xuICAgICAgICBpZiAoY2VsbC5wb2lzLmxlbmd0aCkge1xuICAgICAgICAgIG92ZXJsYXlUZXh0KGBQT0lzOiAke2NlbGwucG9pcy5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVuZ2luZS5kZWZpbmVzLkNVUlNPUikge1xuICAgICAgICBsZXQgZHggPSBmbG9vcigobW91c2VfcG9zWzBdIC0gY2VsbC54MCkgLyBjZWxsLncgKiBnYWxheHkuYnVmX2RpbSk7XG4gICAgICAgIGxldCBkeSA9IGZsb29yKChtb3VzZV9wb3NbMV0gLSBjZWxsLnkwKSAvIGNlbGwudyAqIGdhbGF4eS5idWZfZGltKTtcbiAgICAgICAgbGV0IGRkID0gY2VsbC5kYXRhW2R5ICogZ2FsYXh5LmJ1Zl9kaW0gKyBkeF07XG4gICAgICAgIG92ZXJsYXlUZXh0KGBWYWx1ZTogJHtkZC50b0ZpeGVkKDUpfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBkaWRfaGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gY2hlY2tDZWxsSGlnaGxpZ2h0KGNlbGwpIHtcbiAgICAgIGlmIChjZWxsLnJlYWR5ICYmICFkaWRfaGlnaGxpZ2h0ICYmXG4gICAgICAgIG1vdXNlX3Bvc1swXSA+PSBjZWxsLngwICYmIG1vdXNlX3Bvc1swXSA8IGNlbGwueDAgKyBjZWxsLncgJiZcbiAgICAgICAgbW91c2VfcG9zWzFdID49IGNlbGwueTAgJiYgbW91c2VfcG9zWzFdIDwgY2VsbC55MCArIGNlbGwuaFxuICAgICAgKSB7XG4gICAgICAgIGRpZF9oaWdobGlnaHQgPSB0cnVlO1xuICAgICAgICBoaWdobGlnaHRDZWxsKGNlbGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNlbGxzX2RyYXduID0gMDtcbiAgICBmdW5jdGlvbiBkcmF3Q2VsbChhbHBoYSwgcGFyZW50LCBjZWxsKSB7XG4gICAgICArK2NlbGxzX2RyYXduO1xuICAgICAgbGV0IHF4ID0gY2VsbC5jeCAtIHBhcmVudC5jeCAqIExBWUVSX1NURVA7XG4gICAgICBsZXQgcXkgPSBjZWxsLmN5IC0gcGFyZW50LmN5ICogTEFZRVJfU1RFUDtcbiAgICAgIGxldCBkcmF3X3BhcmFtID0ge1xuICAgICAgICB4OiB4ICsgKGNlbGwueDAgLSB6b29tX29mZnNbMF0pICogem9vbSAqIHcsXG4gICAgICAgIHk6IHkgKyAoY2VsbC55MCAtIHpvb21fb2Zmc1sxXSkgKiB6b29tICogdyxcbiAgICAgICAgdzogdyAqIHpvb20gKiBjZWxsLncsXG4gICAgICAgIGg6IHcgKiB6b29tICogY2VsbC5oLFxuICAgICAgICB6OiBaLlVJIC0gMTAsXG4gICAgICAgIG5vem9vbTogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBsZXQgcGFydGlhbCA9IGZhbHNlO1xuICAgICAgaWYgKCFwYXJlbnQudGV4KSB7XG4gICAgICAgIGlmICghY2VsbC50ZXgpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWxwaGEgPSAxO1xuICAgICAgICBwYXJ0aWFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIWNlbGwudGV4KSB7XG4gICAgICAgIGFscGhhID0gMDtcbiAgICAgICAgcGFydGlhbCA9IHRydWU7XG4gICAgICB9XG4gICAgICBkcmF3X3BhcmFtLnNoYWRlciA9IHZpZXcgPT09IDEgPyBzaGFkZXJfZ2FsYXh5X3BpeGVsIDogc2hhZGVyX2dhbGF4eV9ibGVuZDtcbiAgICAgIGRyYXdfcGFyYW0uc2hhZGVyX3BhcmFtcyA9IHtcbiAgICAgICAgcGFyYW1zOiBbYWxwaGEgPyBidWZfZGltIDogYnVmX2RpbSAvIExBWUVSX1NURVAsIHBhcmFtcy5kaXRoZXJdLFxuICAgICAgICBzY2FsZTogW3F4L0xBWUVSX1NURVAsIHF5L0xBWUVSX1NURVAsIDEvTEFZRVJfU1RFUCwgYWxwaGFdLFxuICAgICAgfTtcbiAgICAgIGxldCB0ZXhzID0gY2VsbC50ZXhzO1xuICAgICAgaWYgKCF0ZXhzKSB7XG4gICAgICAgIHRleHMgPSBbY2VsbC50ZXggfHwgd2hpdGVfdGV4LCBwYXJlbnQudGV4IHx8IHdoaXRlX3RleCwgdGV4X3BhbGV0dGVdO1xuICAgICAgICBpZiAoIXBhcnRpYWwpIHtcbiAgICAgICAgICBjZWxsLnRleHMgPSB0ZXhzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZWJ1Z19zcHJpdGUudGV4cyA9IHRleHM7XG4gICAgICBkZWJ1Z19zcHJpdGUuZHJhdyhkcmF3X3BhcmFtKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZHJhd0xldmVsKGxheWVyX2lkeCwgYWxwaGEsIGRvX2hpZ2hsaWdodCkge1xuICAgICAgbGV0IGdhbF94MCA9IChjYW1lcmEyZC54MFJlYWwoKSAtIG1hcF94MCkgLyB3IC8gem9vbSArIHpvb21fb2Zmc1swXTtcbiAgICAgIGxldCBnYWxfeDEgPSAoY2FtZXJhMmQueDFSZWFsKCkgLSBtYXBfeDApIC8gdyAvIHpvb20gKyB6b29tX29mZnNbMF07XG4gICAgICBsZXQgZ2FsX3kwID0gKGNhbWVyYTJkLnkwUmVhbCgpIC0gbWFwX3kwKSAvIHcgLyB6b29tICsgem9vbV9vZmZzWzFdO1xuICAgICAgbGV0IGdhbF95MSA9IChjYW1lcmEyZC55MVJlYWwoKSAtIG1hcF95MCkgLyB3IC8gem9vbSArIHpvb21fb2Zmc1sxXTtcbiAgICAgIGxldCBsYXllcl9yZXMgPSBwb3coTEFZRVJfU1RFUCwgbGF5ZXJfaWR4KTtcbiAgICAgIGxldCBsYXllcl94MCA9IG1heCgwLCBmbG9vcihnYWxfeDAgKiBsYXllcl9yZXMpKTtcbiAgICAgIGxldCBsYXllcl94MSA9IG1pbihsYXllcl9yZXMgLSAxLCBmbG9vcihnYWxfeDEgKiBsYXllcl9yZXMpKTtcbiAgICAgIGxldCBsYXllcl95MCA9IG1heCgwLCBmbG9vcihnYWxfeTAgKiBsYXllcl9yZXMpKTtcbiAgICAgIGxldCBsYXllcl95MSA9IG1pbihsYXllcl9yZXMgLSAxLCBmbG9vcihnYWxfeTEgKiBsYXllcl9yZXMpKTtcbiAgICAgIGxldCBwcmVzID0gcG93KExBWUVSX1NURVAsIGxheWVyX2lkeCAtIDEpO1xuICAgICAgZm9yIChsZXQgY3kgPSBsYXllcl95MDsgY3kgPD0gbGF5ZXJfeTE7ICsrY3kpIHtcbiAgICAgICAgZm9yIChsZXQgY3ggPSBsYXllcl94MDsgY3ggPD0gbGF5ZXJfeDE7ICsrY3gpIHtcbiAgICAgICAgICBsZXQgY2VsbCA9IGdhbGF4eS5nZXRDZWxsVGV4dHVyZWQobGF5ZXJfaWR4LCBjeSAqIGxheWVyX3JlcyArIGN4KTtcbiAgICAgICAgICBsZXQgcHggPSBmbG9vcihjeCAvIExBWUVSX1NURVApO1xuICAgICAgICAgIGxldCBweSA9IGZsb29yKGN5IC8gTEFZRVJfU1RFUCk7XG4gICAgICAgICAgbGV0IHBhcmVudCA9IGdhbGF4eS5nZXRDZWxsVGV4dHVyZWQobGF5ZXJfaWR4IC0gMSwgcHkgKiBwcmVzICsgcHgpO1xuXG4gICAgICAgICAgZHJhd0NlbGwoYWxwaGEsIHBhcmVudCwgY2VsbCk7XG5cbiAgICAgICAgICBpZiAoZG9faGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBjaGVja0NlbGxIaWdobGlnaHQoY2VsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrQ2VsbEhpZ2hsaWdodChwYXJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBibGVuZF9yYW5nZSA9IDE7XG4gICAgbGV0IGRyYXdfbGV2ZWwgPSBtYXgoMCwgKHpvb21fbGV2ZWwgLSAxKSAvIChMQVlFUl9TVEVQLzIpICsgYmxlbmRfcmFuZ2UvMik7XG4gICAgbGV0IGxldmVsMCA9IGZsb29yKGRyYXdfbGV2ZWwpO1xuICAgIGxldCBleHRyYSA9IG1pbigoZHJhd19sZXZlbCAtIGxldmVsMCkgLyBibGVuZF9yYW5nZSwgMSk7XG4gICAgaWYgKCFleHRyYSAmJiBsZXZlbDApIHtcbiAgICAgIGxldmVsMC0tO1xuICAgICAgZXh0cmEgPSAxO1xuICAgIH1cbiAgICBkcmF3TGV2ZWwobGV2ZWwwICsgMSwgZXh0cmEsIEJvb2xlYW4oZXh0cmEpKTtcblxuICAgIGlmICh6b29tX2xldmVsID49IDEyKSB7XG4gICAgICBsZXQgc3RhciA9IGdhbGF4eS5zdGFyc05lYXIobW91c2VfcG9zWzBdLCBtb3VzZV9wb3NbMV0sIDEpO1xuICAgICAgc3RhciA9IHN0YXIgJiYgc3RhclswXTtcbiAgICAgIGlmIChzdGFyICYmIHNxcnQoZGlzdFNxKHN0YXIueCwgc3Rhci55LCBtb3VzZV9wb3NbMF0sIG1vdXNlX3Bvc1sxXSkpICogem9vbSAqIHcgPiA0MCkge1xuICAgICAgICBzdGFyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFyKSB7XG4gICAgICAgIG92ZXJsYXlUZXh0KGBTdGFyICMke3N0YXIuaWR9LCBzZWVkPSR7c3Rhci5zZWVkfWApO1xuICAgICAgICBsZXQgbWF4X3pvb20gPSBwb3coMiwgTUFYX1pPT00pO1xuICAgICAgICBsZXQgeHAgPSBmbG9vcihzdGFyLnggKiBtYXhfem9vbSAqIGJ1Zl9kaW0pO1xuICAgICAgICBsZXQgeXAgPSBmbG9vcihzdGFyLnkgKiBtYXhfem9vbSAqIGJ1Zl9kaW0pO1xuICAgICAgICB4cCA9IHggKyAoeHAqem9vbS9tYXhfem9vbS9idWZfZGltIC0gem9vbV9vZmZzWzBdICogem9vbSkgKiB3O1xuICAgICAgICB5cCA9IHkgKyAoeXAqem9vbS9tYXhfem9vbS9idWZfZGltIC0gem9vbV9vZmZzWzFdICogem9vbSkgKiB3O1xuICAgICAgICBpZiAodmlldyA9PT0gMSkge1xuICAgICAgICAgIHhwID0gcm91bmQoeHApO1xuICAgICAgICAgIHlwID0gcm91bmQoeXApO1xuICAgICAgICB9XG4gICAgICAgIGxldCByID0gNCAvICgxICsgTUFYX1pPT00gLSB6b29tX2xldmVsKTtcbiAgICAgICAgdWkuZHJhd0hvbGxvd0NpcmNsZSh4cCArIDAuNSwgeXAgKyAwLjUsIFouVUkgLSA1LCByLCAwLjUsIFsxLDEsMCwxXSwgQkxFTkRfQURESVRJVkUpO1xuXG4gICAgICAgIGdhbGF4eS5nZXRTdGFyRGF0YShzdGFyKTtcbiAgICAgICAgbGV0IHNvbGFyX3N5c3RlbSA9IHN0YXIuc29sYXJfc3lzdGVtO1xuICAgICAgICBpZiAoc29sYXJfc3lzdGVtKSB7XG4gICAgICAgICAgbGV0IHsgcGxhbmV0cywgc3Rhcl9kYXRhIH0gPSBzb2xhcl9zeXN0ZW07XG4gICAgICAgICAgb3ZlcmxheVRleHQoYCAgU3RhciBUeXBlOiAke3N0YXJfZGF0YS5sYWJlbH1gKTtcbiAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcGxhbmV0cy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICAgIGxldCBwbGFuZXQgPSBwbGFuZXRzW2lpXTtcbiAgICAgICAgICAgIG92ZXJsYXlUZXh0KGAgICAgUGxhbmV0ICMke2lpKzF9OiBDbGFzcyAke3BsYW5ldC50eXBlLm5hbWV9LCBSPSR7cm91bmQocGxhbmV0LnNpemUpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoem9vbV9sZXZlbCA+IDE1LjUpIHtcbiAgICAgICAgICAgIGRyYXdTb2xhclN5c3RlbShzb2xhcl9zeXN0ZW0sIG1hcF94MCwgbWFwX3kwLCBaLlVJIC0gMSwgdywgdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdWkuZHJhd1JlY3Qob3ZlcmxheV94IC0gMiwgMCwgb3ZlcmxheV94ICsgb3ZlcmxheV93ICsgMiwgb3ZlcmxheV95LCB6IC0gMSwgY29sb3JfdGV4dF9iYWNrZHJvcCk7XG4gIH1cblxuICBmdW5jdGlvbiB0ZXN0SW5pdChkdCkge1xuICAgIGVuZ2luZS5zZXRTdGF0ZSh0ZXN0KTtcbiAgICB0ZXN0KGR0KTtcbiAgfVxuXG4gIGVuZ2luZS5zZXRTdGF0ZSh0ZXN0SW5pdCk7XG59XG4iLCIvKmVzbGludCBnbG9iYWwtcmVxdWlyZTpvZmYqL1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vZ2xvdi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5sb2NhbF9zdG9yYWdlLnN0b3JhZ2VfcHJlZml4ID0gJ2dsb3Zqcy1tdWx0aXBsYXllcic7IC8vIEJlZm9yZSByZXF1aXJpbmcgYW55dGhpbmcgZWxzZSB0aGF0IG1pZ2h0IGxvYWQgZnJvbSB0aGlzXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vZ2xvdi9jbWRzLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2dsb3YvZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2dsb3YvZm9udC5qcycpO1xuY29uc3QgaW5wdXQgPSByZXF1aXJlKCcuL2dsb3YvaW5wdXQuanMnKTtcbmNvbnN0IHsgYXRhbjIsIHJhbmRvbSB9ID0gTWF0aDtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJy4vZ2xvdi9uZXQuanMnKTtcbmNvbnN0IG5ldF9wb3NpdGlvbl9tYW5hZ2VyID0gcmVxdWlyZSgnLi9nbG92L25ldF9wb3NpdGlvbl9tYW5hZ2VyLmpzJyk7XG5jb25zdCBwYXJ0aWNsZXMgPSByZXF1aXJlKCcuL2dsb3YvcGFydGljbGVzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9nbG92L3NoYWRlcnMuanMnKTtcbmNvbnN0IHsgc291bmRMb2FkLCBzb3VuZFBsYXkgfSA9IHJlcXVpcmUoJy4vZ2xvdi9zb3VuZC5qcycpO1xuY29uc3QgZ2xvdl9zcHJpdGVzID0gcmVxdWlyZSgnLi9nbG92L3Nwcml0ZXMuanMnKTtcbmNvbnN0IHNwcml0ZV9hbmltYXRpb24gPSByZXF1aXJlKCcuL2dsb3Yvc3ByaXRlX2FuaW1hdGlvbi5qcycpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL2dsb3YvdWkuanMnKTtcbmNvbnN0IHsgdG9OdW1iZXIgfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi91dGlsLmpzJyk7XG5cbmNvbnN0IHBhcnRpY2xlX2RhdGEgPSByZXF1aXJlKCcuL3BhcnRpY2xlX2RhdGEuanMnKTtcbmNvbnN0IHsgdmVjMiwgdmVjMywgdjJzdWIsIHZlYzQsIHY0Y29weSB9ID0gcmVxdWlyZSgnLi9nbG92L3ZtYXRoLmpzJyk7XG5cbndpbmRvdy5aID0gd2luZG93LlogfHwge307XG5aLkJBQ0tHUk9VTkQgPSAxO1xuWi5TUFJJVEVTID0gMTA7XG5aLlBBUlRJQ0xFUyA9IDIwO1xuXG5sZXQgYXBwID0gZXhwb3J0cztcbndpbmRvdy5hcHAgPSBhcHA7IC8vIGZvciBkZWJ1Z2dpbmdcblxuY29uc3QgcG9zX21hbmFnZXIgPSBuZXRfcG9zaXRpb25fbWFuYWdlci5jcmVhdGUoeyBuOiAzLCBkaW1fcG9zOiAyLCBkaW1fcm90OiAxIH0pO1xuXG5jb25zdCBST09NX1JFUVVJUkVTX0xPR0lOID0gdHJ1ZTtcblxuLy8gVmlydHVhbCB2aWV3cG9ydCBmb3Igb3VyIGdhbWUgbG9naWNcbmV4cG9ydCBjb25zdCBnYW1lX3dpZHRoID0gMTI4MDtcbmV4cG9ydCBjb25zdCBnYW1lX2hlaWdodCA9IDk2MDtcblxuZXhwb3J0IGxldCBzcHJpdGVzID0ge307XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2Jpbl9nZXQnLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBhcHAuY2hhdF91aS5jaGFubmVsLnBhaygnYmluX2dldCcpLnNlbmQoZnVuY3Rpb24gKGVyciwgcGFrKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiB2b2lkIHJlc3BfZnVuYyhlcnIpO1xuICAgICAgfVxuICAgICAgcmVzcF9mdW5jKG51bGwsIHBhay5yZWFkQnVmZmVyKGZhbHNlKS5qb2luKCcsJykpO1xuICAgIH0pO1xuICB9LFxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2Jpbl9zZXQnLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgcGFrID0gYXBwLmNoYXRfdWkuY2hhbm5lbC5wYWsoJ2Jpbl9zZXQnKTtcbiAgICBwYWsud3JpdGVCdWZmZXIobmV3IFVpbnQ4QXJyYXkoc3RyLnNwbGl0KCcgJykubWFwKHRvTnVtYmVyKSkpO1xuICAgIHBhay5zZW5kKHJlc3BfZnVuYyk7XG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG4gIG5ldC5pbml0KHtcbiAgICBlbmdpbmUsXG4gICAgY21kX3BhcnNlLFxuICAgIGF1dG9fY3JlYXRlX3VzZXI6IGZhbHNlLFxuICB9KTtcblxuICBpZiAoIWVuZ2luZS5zdGFydHVwKHtcbiAgICBnYW1lX3dpZHRoLFxuICAgIGdhbWVfaGVpZ2h0LFxuICAgIHBpeGVseTogZmFsc2UsXG4gICAgZm9udDoge1xuICAgICAgaW5mbzogcmVxdWlyZSgnLi9pbWcvZm9udC9wYWxhbnF1aW4zMi5qc29uJyksXG4gICAgICB0ZXh0dXJlOiAnZm9udC9wYWxhbnF1aW4zMicsXG4gICAgfSxcbiAgICBzYWZlYXJlYV9pZ25vcmVfYm90dG9tOiB0cnVlLCAvLyBXZSBrZWVwIHRoZSBjaGF0IGJ1dHRvbiBvdXQgb2YgdGhlIGJvdHRvbSBjZW50ZXIgc2FmZSBhcmVhIHRyb3VibGUgc3BvdFxuICAgIHVpX3NvdW5kczoge1xuICAgICAgbXNnX2VycjogJ21zZ19lcnInLFxuICAgICAgbXNnX2luOiAnbXNnX2luJyxcbiAgICAgIG1zZ19vdXQ6ICdtc2dfb3V0JyxcbiAgICAgIG1zZ19vdXRfZXJyOiAnbXNnX291dF9lcnInLFxuICAgICAgdXNlcl9qb2luOiAndXNlcl9qb2luJyxcbiAgICAgIHVzZXJfbGVhdmU6ICd1c2VyX2xlYXZlJyxcbiAgICB9LFxuICB9KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHRlc3Rfc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoJ3NoYWRlcnMvdGVzdC5mcCcpO1xuXG4gIC8vIGNvbnN0IGZvbnQgPSBlbmdpbmUuZm9udDtcblxuXG4gIGNvbnN0IGNyZWF0ZVNwcml0ZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGU7XG4gIGNvbnN0IGNyZWF0ZUFuaW1hdGlvbiA9IHNwcml0ZV9hbmltYXRpb24uY3JlYXRlO1xuXG4gIGFwcC5hY2NvdW50X3VpID0gcmVxdWlyZSgnLi9hY2NvdW50X3VpLmpzJykuY3JlYXRlKCk7XG4gIGFwcC5jaGF0X3VpID0gcmVxdWlyZSgnLi9nbG92L2NoYXRfdWkuanMnKS5jcmVhdGUoeyBtYXhfbGVuOiAxMDAwIH0pO1xuXG4gIGNvbnN0IGNvbG9yX3doaXRlID0gdmVjNCgxLCAxLCAxLCAxKTtcbiAgY29uc3QgY29sb3JfZ3JheSA9IHZlYzQoMC41LCAwLjUsIDAuNSwgMSk7XG4gIGNvbnN0IGNvbG9yX3JlZCA9IHZlYzQoMSwgMCwgMCwgMSk7XG4gIGNvbnN0IGNvbG9yX3llbGxvdyA9IHZlYzQoMSwgMSwgMCwgMSk7XG5cbiAgLy8gQ2FjaGUgS0VZU1xuICBjb25zdCBLRVlTID0gaW5wdXQuS0VZUztcbiAgY29uc3QgUEFEID0gaW5wdXQuUEFEO1xuXG4gIGNvbnN0IHNwcml0ZV9zaXplID0gNjQ7XG4gIGZ1bmN0aW9uIGluaXRHcmFwaGljcygpIHtcbiAgICBwYXJ0aWNsZXMucHJlbG9hZFBhcnRpY2xlRGF0YShwYXJ0aWNsZV9kYXRhKTtcblxuICAgIHNvdW5kTG9hZCgndGVzdCcpO1xuXG4gICAgc3ByaXRlcy53aGl0ZSA9IGNyZWF0ZVNwcml0ZSh7IHVybDogJ3doaXRlJyB9KTtcblxuICAgIHNwcml0ZXMudGVzdCA9IGNyZWF0ZVNwcml0ZSh7XG4gICAgICBuYW1lOiAndGVzdCcsXG4gICAgICBzaXplOiB2ZWMyKHNwcml0ZV9zaXplLCBzcHJpdGVfc2l6ZSksXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICAgIHNwcml0ZXMudGVzdF90aW50ID0gY3JlYXRlU3ByaXRlKHtcbiAgICAgIG5hbWU6ICd0aW50ZWQnLFxuICAgICAgd3M6IFsxNiwgMTYsIDE2LCAxNl0sXG4gICAgICBoczogWzE2LCAxNiwgMTZdLFxuICAgICAgc2l6ZTogdmVjMihzcHJpdGVfc2l6ZSwgc3ByaXRlX3NpemUpLFxuICAgICAgbGF5ZXJzOiAyLFxuICAgICAgb3JpZ2luOiB2ZWMyKDAuNSwgMC41KSxcbiAgICB9KTtcbiAgICBzcHJpdGVzLmFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbih7XG4gICAgICBpZGxlX2xlZnQ6IHtcbiAgICAgICAgZnJhbWVzOiBbMCwxXSxcbiAgICAgICAgdGltZXM6IFsyMDAsIDUwMF0sXG4gICAgICB9LFxuICAgICAgaWRsZV9yaWdodDoge1xuICAgICAgICBmcmFtZXM6IFszLDJdLFxuICAgICAgICB0aW1lczogWzIwMCwgNTAwXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgc3ByaXRlcy5hbmltYXRpb24uc2V0U3RhdGUoJ2lkbGVfbGVmdCcpO1xuXG4gICAgc3ByaXRlcy5nYW1lX2JnID0gY3JlYXRlU3ByaXRlKHtcbiAgICAgIHVybDogJ3doaXRlJyxcbiAgICAgIHNpemU6IHZlYzIoZ2FtZV93aWR0aCwgZ2FtZV9oZWlnaHQpLFxuICAgIH0pO1xuICB9XG5cblxuICBsZXQgdGVzdF9yb29tO1xuICBsZXQgdGVzdDtcblxuICBmdW5jdGlvbiBwbGF5ZXJNb3Rpb24oZHQpIHtcbiAgICAvLyBOZXR3b3JrIHNlbmRcbiAgICBpZiAocG9zX21hbmFnZXIuY2hlY2tOZXQoKHBvcykgPT4ge1xuICAgICAgdGVzdC5jaGFyYWN0ZXIueCA9IHBvc1swXTtcbiAgICAgIHRlc3QuY2hhcmFjdGVyLnkgPSBwb3NbMV07XG4gICAgICB0ZXN0LmNoYXJhY3Rlci5yb3QgPSBwb3NbMl07XG4gICAgfSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0ZXN0LmNoYXJhY3Rlci5keCA9IDA7XG4gICAgdGVzdC5jaGFyYWN0ZXIuZHggLT0gaW5wdXQua2V5RG93bihLRVlTLkxFRlQpICsgaW5wdXQua2V5RG93bihLRVlTLkEpICsgaW5wdXQucGFkQnV0dG9uRG93bihQQUQuTEVGVCk7XG4gICAgdGVzdC5jaGFyYWN0ZXIuZHggKz0gaW5wdXQua2V5RG93bihLRVlTLlJJR0hUKSArIGlucHV0LmtleURvd24oS0VZUy5EKSArIGlucHV0LnBhZEJ1dHRvbkRvd24oUEFELlJJR0hUKTtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keSA9IDA7XG4gICAgdGVzdC5jaGFyYWN0ZXIuZHkgLT0gaW5wdXQua2V5RG93bihLRVlTLlVQKSArIGlucHV0LmtleURvd24oS0VZUy5XKSArIGlucHV0LnBhZEJ1dHRvbkRvd24oUEFELlVQKTtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keSArPSBpbnB1dC5rZXlEb3duKEtFWVMuRE9XTikgKyBpbnB1dC5rZXlEb3duKEtFWVMuUykgKyBpbnB1dC5wYWRCdXR0b25Eb3duKFBBRC5ET1dOKTtcbiAgICBpZiAodGVzdC5jaGFyYWN0ZXIuZHggPCAwKSB7XG4gICAgICBzcHJpdGVzLmFuaW1hdGlvbi5zZXRTdGF0ZSgnaWRsZV9sZWZ0Jyk7XG4gICAgfSBlbHNlIGlmICh0ZXN0LmNoYXJhY3Rlci5keCA+IDApIHtcbiAgICAgIHNwcml0ZXMuYW5pbWF0aW9uLnNldFN0YXRlKCdpZGxlX3JpZ2h0Jyk7XG4gICAgfVxuXG4gICAgdGVzdC5jaGFyYWN0ZXIueCArPSB0ZXN0LmNoYXJhY3Rlci5keCAqIDAuMjtcbiAgICB0ZXN0LmNoYXJhY3Rlci55ICs9IHRlc3QuY2hhcmFjdGVyLmR5ICogMC4yO1xuICAgIGxldCBib3VuZHMgPSB7XG4gICAgICB4OiB0ZXN0LmNoYXJhY3Rlci54IC0gc3ByaXRlX3NpemUvMixcbiAgICAgIHk6IHRlc3QuY2hhcmFjdGVyLnkgLSBzcHJpdGVfc2l6ZS8yLFxuICAgICAgdzogc3ByaXRlX3NpemUsXG4gICAgICBoOiBzcHJpdGVfc2l6ZSxcbiAgICB9O1xuICAgIGlmIChpbnB1dC5tb3VzZURvd24oYm91bmRzKSkge1xuICAgICAgdjRjb3B5KHRlc3QuY29sb3Jfc3ByaXRlLCBjb2xvcl95ZWxsb3cpO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQuY2xpY2soYm91bmRzKSkge1xuICAgICAgdjRjb3B5KHRlc3QuY29sb3Jfc3ByaXRlLCAodGVzdC5jb2xvcl9zcHJpdGVbMl0gPT09IDApID8gY29sb3Jfd2hpdGUgOiBjb2xvcl9yZWQpO1xuICAgICAgc291bmRQbGF5KCd0ZXN0Jyk7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5tb3VzZU92ZXIoYm91bmRzKSkge1xuICAgICAgdjRjb3B5KHRlc3QuY29sb3Jfc3ByaXRlLCBjb2xvcl93aGl0ZSk7XG4gICAgICB0ZXN0LmNvbG9yX3Nwcml0ZVszXSA9IDAuNTtcbiAgICB9IGVsc2Uge1xuICAgICAgdjRjb3B5KHRlc3QuY29sb3Jfc3ByaXRlLCBjb2xvcl93aGl0ZSk7XG4gICAgICB0ZXN0LmNvbG9yX3Nwcml0ZVszXSA9IDE7XG4gICAgfVxuXG4gICAgbGV0IGFpbSA9IHYyc3ViKHZlYzIoKSwgaW5wdXQubW91c2VQb3MoKSwgW3Rlc3QuY2hhcmFjdGVyLngsIHRlc3QuY2hhcmFjdGVyLnldKTtcbiAgICB0ZXN0LmNoYXJhY3Rlci5yb3QgPSBhdGFuMihhaW1bMF0sIC1haW1bMV0pO1xuXG4gICAgLy8gTmV0d29yayBzZW5kXG4gICAgcG9zX21hbmFnZXIudXBkYXRlTXlQb3MobmV3IEZsb2F0NjRBcnJheShbdGVzdC5jaGFyYWN0ZXIueCwgdGVzdC5jaGFyYWN0ZXIueSwgdGVzdC5jaGFyYWN0ZXIucm90XSksICdpZGxlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSb29tKCkge1xuICAgIGlmICghdGVzdF9yb29tKSB7XG4gICAgICB0ZXN0X3Jvb20gPSBuZXQuc3Vicy5nZXRDaGFubmVsKCd0ZXN0LnRlc3QnLCB0cnVlKTtcbiAgICAgIHBvc19tYW5hZ2VyLnJlaW5pdCh7XG4gICAgICAgIGNoYW5uZWw6IHRlc3Rfcm9vbSxcbiAgICAgICAgZGVmYXVsdF9wb3M6IHZlYzMoXG4gICAgICAgICAgKHJhbmRvbSgpICogKGdhbWVfd2lkdGggLSBzcHJpdGVfc2l6ZSkgKyAoc3ByaXRlX3NpemUgKiAwLjUpKSxcbiAgICAgICAgICAocmFuZG9tKCkgKiAoZ2FtZV9oZWlnaHQgLSBzcHJpdGVfc2l6ZSkgKyAoc3ByaXRlX3NpemUgKiAwLjUpKSxcbiAgICAgICAgICAwXG4gICAgICAgICksXG4gICAgICB9KTtcbiAgICAgIGFwcC5jaGF0X3VpLnNldENoYW5uZWwodGVzdF9yb29tKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcmVMb2dvdXQoKSB7XG4gICAgaWYgKHRlc3Rfcm9vbSkge1xuICAgICAgYXNzZXJ0KHRlc3Rfcm9vbS5zdWJzY3JpcHRpb25zKTtcbiAgICAgIG5ldC5zdWJzLnVuc3Vic2NyaWJlKHRlc3Rfcm9vbS5jaGFubmVsX2lkKTtcbiAgICAgIGFwcC5jaGF0X3VpLnNldENoYW5uZWwobnVsbCk7XG4gICAgICB0ZXN0X3Jvb20gPSBudWxsO1xuICAgICAgaWYgKCFST09NX1JFUVVJUkVTX0xPR0lOKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZ2V0Um9vbSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGVzdCA9IGZ1bmN0aW9uIChkdCkge1xuICAgIC8vIEFsbG93IGZvY3VzaW5nIHRoZSBjYW52YXMsIGFuZCBiZWZvcmUgY2hhdC5cbiAgICB1aS5mb2N1c0NoZWNrKCdjYW52YXMnKTtcblxuICAgIGFwcC5jaGF0X3VpLnJ1bihkdCk7XG4gICAgYXBwLmFjY291bnRfdWkuc2hvd0xvZ2luKHtcbiAgICAgIHg6IDAsIHk6IDAsXG4gICAgICBwcmVsb2dvdXQ6IHByZUxvZ291dCwgY2VudGVyOiBmYWxzZSxcbiAgICAgIHN0eWxlOiBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICAgICAgICBvdXRsaW5lX3dpZHRoOiAyLFxuICAgICAgICBvdXRsaW5lX2NvbG9yOiAweEZGRkZGRmZmLFxuICAgICAgICBjb2xvcjogMHgwMDAwMDBmZixcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgaWYgKCF0ZXN0LmNvbG9yX3Nwcml0ZSkge1xuICAgICAgdGVzdC5jb2xvcl9zcHJpdGUgPSB2NGNvcHkodmVjNCgpLCBjb2xvcl93aGl0ZSk7XG4gICAgICB0ZXN0LmNoYXJhY3RlciA9IHsgeDogMCwgeTogMCwgcm90OiAwIH07XG4gICAgfVxuXG4gICAgaWYgKHRlc3Rfcm9vbSAmJiB0ZXN0X3Jvb20uc3Vic2NyaXB0aW9ucykge1xuICAgICAgcGxheWVyTW90aW9uKGR0KTtcblxuICAgICAgc3ByaXRlcy5nYW1lX2JnLmRyYXcoe1xuICAgICAgICB4OiAwLCB5OiAwLCB6OiBaLkJBQ0tHUk9VTkQsXG4gICAgICAgIGNvbG9yOiBbMC41LCAwLjYsIDAuNywgMV0sXG4gICAgICAgIHNoYWRlcjogdGVzdF9zaGFkZXIsXG4gICAgICAgIHNoYWRlcl9wYXJhbXM6IHtcbiAgICAgICAgICBwYXJhbXM6IFsxLjAsIDEuMCwgMS4wLCBlbmdpbmUuZ2V0RnJhbWVUaW1lc3RhbXAoKSAqIDAuMDAwNSAlIDEwMDBdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHNwcml0ZXMudGVzdF90aW50LmRyYXdEdWFsVGludCh7XG4gICAgICAgIHg6IHRlc3QuY2hhcmFjdGVyLngsXG4gICAgICAgIHk6IHRlc3QuY2hhcmFjdGVyLnksXG4gICAgICAgIHo6IFouU1BSSVRFUyxcbiAgICAgICAgcm90OiB0ZXN0LmNoYXJhY3Rlci5yb3QsXG4gICAgICAgIGNvbG9yOiBbMSwgMSwgMCwgMV0sXG4gICAgICAgIGNvbG9yMTogWzEsIDAsIDEsIDFdLFxuICAgICAgICBzaXplOiBbc3ByaXRlX3NpemUsIHNwcml0ZV9zaXplXSxcbiAgICAgICAgZnJhbWU6IHNwcml0ZXMuYW5pbWF0aW9uLmdldEZyYW1lKGR0KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBEcmF3IG90aGVyIHVzZXJzXG4gICAgICBsZXQgcm9vbV9jbGllbnRzID0gdGVzdF9yb29tLmdldENoYW5uZWxEYXRhKCdwdWJsaWMuY2xpZW50cycsIHt9KTtcbiAgICAgIGZvciAobGV0IGNsaWVudF9pZCBpbiByb29tX2NsaWVudHMpIHtcbiAgICAgICAgbGV0IG90aGVyX2NsaWVudCA9IHJvb21fY2xpZW50c1tjbGllbnRfaWRdO1xuICAgICAgICBpZiAob3RoZXJfY2xpZW50LnBvcyAmJiBvdGhlcl9jbGllbnQuaWRzKSB7XG4gICAgICAgICAgbGV0IHBjZCA9IHBvc19tYW5hZ2VyLnVwZGF0ZU90aGVyQ2xpZW50KGNsaWVudF9pZCwgZHQpO1xuICAgICAgICAgIGlmIChwY2QpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwY2QucG9zO1xuICAgICAgICAgICAgc3ByaXRlcy50ZXN0LmRyYXcoe1xuICAgICAgICAgICAgICB4OiBwb3NbMF0sIHk6IHBvc1sxXSwgejogWi5TUFJJVEVTIC0gMSxcbiAgICAgICAgICAgICAgcm90OiBwb3NbMl0sXG4gICAgICAgICAgICAgIGNvbG9yOiBjb2xvcl9ncmF5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoZ2xvdl9mb250LnN0eWxlQ29sb3JlZChudWxsLCAweDAwMDAwMDgwKSxcbiAgICAgICAgICAgICAgcG9zWzBdLCBwb3NbMV0gLSA2NCwgWi5TUFJJVEVTIC0gMSxcbiAgICAgICAgICAgICAgdWkuZm9udF9oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSLCAwLCAwLFxuICAgICAgICAgICAgICBvdGhlcl9jbGllbnQuaWRzLmRpc3BsYXlfbmFtZSB8fCBgY2xpZW50XyR7Y2xpZW50X2lkfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGFwcC5jaGF0X3VpLnJ1bkxhdGUoZHQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHRlc3RJbml0KGR0KSB7XG4gICAgZW5naW5lLnNldFN0YXRlKHRlc3QpO1xuICAgIGlmICghUk9PTV9SRVFVSVJFU19MT0dJTikge1xuICAgICAgZ2V0Um9vbSgpO1xuICAgIH1cblxuICAgIG5ldC5zdWJzLm9uTG9naW4oZ2V0Um9vbSk7XG5cbiAgICB0ZXN0KGR0KTtcbiAgfVxuXG4gIGluaXRHcmFwaGljcygpO1xuICBlbmdpbmUuc2V0U3RhdGUodGVzdEluaXQpO1xufVxuIiwiZXhwb3J0IGxldCBkZWZzID0ge307XG5cbmRlZnMuZXhwbG9zaW9uID0ge1xuICBwYXJ0aWNsZXM6IHtcbiAgICBwYXJ0MDoge1xuICAgICAgYmxlbmQ6ICdhbHBoYScsXG4gICAgICB0ZXh0dXJlOiAncGFydGljbGVzL2NpcmNsZTY0JyxcbiAgICAgIGNvbG9yOiBbMSwxLDEsMV0sIC8vIG11bHRpcGxpZWQgYnkgYW5pbWF0aW9uIHRyYWNrLCBkZWZhdWx0IDEsMSwxLDEsIGNhbiBiZSBvbWl0dGVkXG4gICAgICBjb2xvcl90cmFjazogW1xuICAgICAgICAvLyBqdXN0IHZhbHVlcywgTk9UIHJhbmRvbSByYW5nZVxuICAgICAgICB7IHQ6IDAuMCwgdjogWzEsMSwxLDBdIH0sXG4gICAgICAgIHsgdDogMC4yLCB2OiBbMSwxLDEsMV0gfSxcbiAgICAgICAgeyB0OiAwLjQsIHY6IFsxLDEsMC41LDAuNV0gfSxcbiAgICAgICAgeyB0OiAxLjAsIHY6IFsxLDAsMCwwXSB9LFxuICAgICAgXSxcbiAgICAgIHNpemU6IFtbNDgsOF0sIFs0OCw4XV0sIC8vIG11bHRpcGxpZWQgYnkgYW5pbWF0aW9uIHRyYWNrXG4gICAgICBzaXplX3RyYWNrOiBbXG4gICAgICAgIC8vIGp1c3QgdmFsdWVzLCBOT1QgcmFuZG9tIHJhbmdlXG4gICAgICAgIHsgdDogMC4wLCB2OiBbMSwxXSB9LFxuICAgICAgICB7IHQ6IDAuMiwgdjogWzIsMl0gfSxcbiAgICAgICAgeyB0OiAwLjQsIHY6IFsxLDFdIH0sXG4gICAgICAgIHsgdDogMS4wLCB2OiBbMS41LDEuNV0gfSxcbiAgICAgIF0sXG4gICAgICBhY2NlbDogWzAsMCwwXSxcbiAgICAgIHJvdDogWzAsMzYwXSwgLy8gZGVncmVlc1xuICAgICAgcm90X3ZlbDogWzEwLDJdLCAvLyBkZWdyZWVzIHBlciBzZWNvbmRcbiAgICAgIGxpZmVzcGFuOiBbMjUwMCwwXSwgLy8gbWlsbGlzZWNvbmRzXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IDUsXG4gICAgfSxcbiAgfSxcbiAgZW1pdHRlcnM6IHtcbiAgICBwYXJ0MDoge1xuICAgICAgcGFydGljbGU6ICdwYXJ0MCcsXG4gICAgICAvLyBSYW5kb20gcmFuZ2VzIGFmZmVjdCBlYWNoIGVtaXR0ZWQgcGFydGljbGU6XG4gICAgICBwb3M6IFtbLTE2LDMyXSwgWy0xNiwzMl0sIDBdLFxuICAgICAgdmVsOiBbMCwwLDBdLFxuICAgICAgZW1pdF9yYXRlOiBbMTUsMF0sIC8vIGVtaXNzaW9ucyBwZXIgc2Vjb25kXG4gICAgICAvLyBSYW5kb20gcmFuZ2VzIG9ubHkgY2FsY3VsYXRlZCB1cG9uIGluc3RhbnRpYXRpb246XG4gICAgICBlbWl0X3RpbWU6IFswLDEwMDBdLFxuICAgICAgZW1pdF9pbml0aWFsOiAxMCxcbiAgICAgIG1heF9wYXJ0czogSW5maW5pdHksXG4gICAgfSxcbiAgfSxcbiAgc3lzdGVtX2xpZmVzcGFuOiAyNTAwLFxufTtcbiIsImNvbnN0IHsgUEkgfSA9IE1hdGg7XG5jb25zdCB7IHJhbmRDcmVhdGUsIG1hc2hTdHJpbmcgfSA9IHJlcXVpcmUoJy4vZ2xvdi9yYW5kX2FsZWEuanMnKTtcbmNvbnN0IHsgc3RhclR5cGVEYXRhLCBzdGFyVHlwZUZyb21JRCB9ID0gcmVxdWlyZSgnLi9zdGFyX3R5cGVzLmpzJyk7XG5jb25zdCB7IHZlYzQgfSA9IHJlcXVpcmUoJy4vZ2xvdi92bWF0aC5qcycpO1xuXG5sZXQgcmFuZCA9IFtcbiAgcmFuZENyZWF0ZSgwKSxcbiAgcmFuZENyZWF0ZSgwKSxcbiAgcmFuZENyZWF0ZSgwKSxcbiAgcmFuZENyZWF0ZSgwKSxcbl07XG5cbmxldCBwbGFuZXRfdHlwZXMgPSBbXG4gIC8vIENsYXNzIEQgKHBsYW5ldG9pZCBvciBtb29uIHdpdGggbGl0dGxlIHRvIG5vIGF0bW9zcGhlcmUpXG4gIHsgbmFtZTogJ0QnLCBjb2xvcjogdmVjNCgwLjcsMC43LDAuNywxKSB9LFxuICAvLyBDbGFzcyBIIChnZW5lcmFsbHkgdW5pbmhhYml0YWJsZSlcbiAgeyBuYW1lOiAnSCcsIGNvbG9yOiB2ZWM0KDAuMywwLjQsMC41LDEpIH0sXG4gIC8vIENsYXNzIEogKGdhcyBnaWFudClcbiAgeyBuYW1lOiAnSicsIGNvbG9yOiB2ZWM0KDAuOSwwLjYsMCwxKSB9LFxuICAvLyBDbGFzcyBLIChoYWJpdGFibGUsIGFzIGxvbmcgYXMgcHJlc3N1cmUgZG9tZXMgYXJlIHVzZWQpXG4gIHsgbmFtZTogJ0snLCBjb2xvcjogdmVjNCgwLjUsMC4zLDAuMiwxKSB9LFxuICAvLyBDbGFzcyBMIChtYXJnaW5hbGx5IGhhYml0YWJsZSwgd2l0aCB2ZWdldGF0aW9uIGJ1dCBubyBhbmltYWwgbGlmZSlcbiAgeyBuYW1lOiAnTCcsIGNvbG9yOiB2ZWM0KDAuMywwLjcsMC4zLDEpIH0sXG4gIC8vIENsYXNzIE0gKHRlcnJlc3RyaWFsKVxuICB7IG5hbWU6ICdNJywgY29sb3I6IHZlYzQoMCwxLDAsMSkgfSxcbiAgLy8gQ2xhc3MgTiAoc3VsZnVyaWMpXG4gIHsgbmFtZTogJ04nLCBjb2xvcjogdmVjNCgwLjYsMC42LDAsMSkgfSxcbiAgLy8gQ2xhc3MgUCAoZ2xhY2lhbClcbiAgeyBuYW1lOiAnUCcsIGNvbG9yOiB2ZWM0KDAuNSwwLjcsMSwxKSB9LFxuICAvLyBDbGFzcyBSIChhIHJvZ3VlIHBsYW5ldCwgbm90IGFzIGhhYml0YWJsZSBhcyBhIHRlcnJlc3RyaWFsIHBsYW5ldClcbiAgeyBuYW1lOiAnUicsIGNvbG9yOiB2ZWM0KDAuMiwwLjMsMC4yLDEpIH0sXG4gIC8vIENsYXNzIFQgKGdhcyBnaWFudClcbiAgeyBuYW1lOiAnVCcsIGNvbG9yOiB2ZWM0KDAuNiwwLjksMCwxKSB9LFxuICAvLyBDbGFzcyBZICh0b3hpYyBhdG1vc3BoZXJlLCBoaWdoIHRlbXBlcmF0dXJlcylcbiAgeyBuYW1lOiAnWScsIGNvbG9yOiB2ZWM0KDEsMC4zLDAsMSkgfSxcbl07XG5cbmZ1bmN0aW9uIHJhbmRFeHAoaWR4LCBtaW4sIG1heCkge1xuICBsZXQgdiA9IHJhbmRbaWR4XS5yYW5kb20oKTtcbiAgdiAqPSB2O1xuICByZXR1cm4gbWluICsgKG1heCAtIG1pbikgKiB2O1xufVxuXG5mdW5jdGlvbiBnZW5QbGFuZXQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcGxhbmV0X3R5cGVzW3JhbmRbMl0ucmFuZ2UocGxhbmV0X3R5cGVzLmxlbmd0aCldLFxuICAgIHNpemU6IHJhbmRFeHAoMywgNCwgMjApLFxuICAgIG9yYml0OiByYW5kWzBdLmZsb2F0QmV0d2VlbigwLCBQSSoyKSxcbiAgICBvcmJpdF9zcGVlZDogcmFuZEV4cCgxLCAwLjEsIDEpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBjbXBTaXplKGEsIGIpIHtcbiAgcmV0dXJuIGEuc2l6ZSAtIGIuc2l6ZTtcbn1cblxuZnVuY3Rpb24gU29sYXJTeXN0ZW0oZ2xvYmFsX3NlZWQsIHN0YXIpIHtcbiAgbGV0IHsgLyp4LCB5LCovIGlkIH0gPSBzdGFyO1xuICBsZXQgY2xhc3NpZiA9IHN0YXJUeXBlRnJvbUlEKGlkKTtcbiAgbGV0IHN0YXJfZGF0YSA9IHN0YXJUeXBlRGF0YShjbGFzc2lmKTtcbiAgdGhpcy5zdGFyX2RhdGEgPSBzdGFyX2RhdGE7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCByYW5kLmxlbmd0aDsgKytpaSkge1xuICAgIHJhbmRbaWldLnJlc2VlZChtYXNoU3RyaW5nKGAke2lkfV8ke2dsb2JhbF9zZWVkfV8ke2lpfWApKTtcbiAgfVxuICBsZXQgbnVtX3BsYW5ldHMgPSByYW5kWzBdLnJhbmdlKDQpO1xuICBsZXQgY2hhbmNlID0gMC41O1xuICBsZXQgcGxhbmV0cyA9IFtdO1xuICB3aGlsZSAobnVtX3BsYW5ldHMpIHtcbiAgICBwbGFuZXRzLnB1c2goZ2VuUGxhbmV0KCkpO1xuICAgIC0tbnVtX3BsYW5ldHM7XG4gICAgaWYgKCFudW1fcGxhbmV0cykge1xuICAgICAgaWYgKHJhbmRbMV0ucmFuZG9tKCkgPCBjaGFuY2UpIHtcbiAgICAgICAgKytudW1fcGxhbmV0cztcbiAgICAgICAgY2hhbmNlICo9IDAuOTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gc3BsaXQgaW4gdHdvLCBzb3J0IGJ5IHNpemUsIHB1dCBiaWdnZXIgaW4gdGhlIG1pZGRsZVxuICBsZXQgcDEgPSBbXTtcbiAgbGV0IHAyID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBwbGFuZXRzLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChyYW5kWzBdLnJhbmdlKDIpKSB7XG4gICAgICBwMS5wdXNoKHBsYW5ldHNbaWldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcDIucHVzaChwbGFuZXRzW2lpXSk7XG4gICAgfVxuICB9XG4gIHAxLnNvcnQoY21wU2l6ZSk7XG4gIHAyLnNvcnQoY21wU2l6ZSkucmV2ZXJzZSgpO1xuICB0aGlzLnBsYW5ldHMgPSBwMS5jb25jYXQocDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc29sYXJTeXN0ZW1DcmVhdGUoZ2xvYmFsX3NlZWQsIHN0YXIpIHtcbiAgcmV0dXJuIG5ldyBTb2xhclN5c3RlbShnbG9iYWxfc2VlZCwgc3Rhcik7XG59XG4iLCIvKiBlc2xpbnQgbm8tbXVsdGktc3BhY2VzOm9mZiwga2V5LXNwYWNpbmc6b2ZmICovXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZ2xvdi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgbWFzaEk1MyB9ID0gcmVxdWlyZSgnLi9nbG92L3JhbmRfYWxlYS5qcycpO1xuY29uc3QgeyB2ZWM0IH0gPSByZXF1aXJlKCcuL2dsb3Yvdm1hdGguanMnKTtcblxuY29uc3QgY29sb3JzID0gW1xuICB2ZWM0KDAuODE2LDEsMSwxKSxcbiAgdmVjNCgwLjk4LDAuMjA0LDAsMSksXG4gIHZlYzQoMSwwLjQ2NywwLDEpLFxuICB2ZWM0KDEsMSwwLjQwOCwxKSwgLy8gR1xuICB2ZWM0KDEsMSwwLjgsMSksXG4gIHZlYzQoMC45MjIsMSwxLDEpLFxuICB2ZWM0KDAuODc1LDEsMSwxKSxcbiAgdmVjNCgwLjgxNiwxLDEsMSksXG5dO1xuXG4vLyBGcm9tIGh0dHA6Ly93d3cuYXRsYXNvZnRoZXVuaXZlcnNlLmNvbS9zdGFydHlwZS5odG1sXG4vLyBsYWJlbCwgb2RkcywgY29sb3IgaW5kZXgsIGFzdHJvX3JhZGl1cywgbWFzcywgbHVtaW5vc2l0eSwgZ2FtZV9yYWRpdXNcbmNvbnN0IHNnX3NjYWxlID0gMC4wMDEgLyAoMC4wMDEgKyAwLjEgKyAwLjcgKyAyICsgMy41ICsgOCArIDgwKTtcbmNvbnN0IHN0YXJfdHlwZXMgPSAoZnVuY3Rpb24gKCkge1xuICBsZXQgcmF3ID0ge1xuICAgIE86ICAgWydPJywgICAgICAgICAgICAwLjAwMSwgICAgICAgICAgNywgICAgMTAsICA1MCwgIDEwMDAwMCwgMzBdLFxuICAgIEI6ICAgWydCJywgICAgICAgICAgICAwLjEsICAgICAgICAgICAgNiwgICAgIDUsICAxMCwgICAgMTAwMCwgMjVdLFxuICAgIEE6ICAgWydBJywgICAgICAgICAgICAwLjcsICAgICAgICAgICAgNSwgICAxLjcsICAgMiwgICAgICAyMCwgMjNdLFxuICAgIEY6ICAgWydGJywgICAgICAgICAgICAyLCAgICAgICAgICAgICAgNCwgICAxLjMsIDEuNSwgICAgICAgNCwgMjJdLFxuICAgIEc6ICAgWydHJywgICAgICAgICAgICAzLjUsICAgICAgICAgICAgMywgICAgIDEsICAgMSwgICAgICAgMSwgMjFdLFxuICAgIEs6ICAgWydLJywgICAgICAgICAgICA4LCAgICAgICAgICAgICAgMiwgICAwLjgsIDAuNywgICAgIDAuMiwgMjBdLFxuICAgIE06ICAgWydNJywgICAgICAgICAgICA4MCwgICAgICAgICAgICAgMSwgICAwLjMsIDAuMiwgICAgMC4wMSwgMThdLFxuICAgIGdHOiAgWydHaWFudCBHJywgICAgICAwLjQqKDQvOTIpLCAgICAgMywgICAgNTAsICAgNSwgICAgMTAwMCwgMzZdLFxuICAgIGdLOiAgWydHaWFudCBLJywgICAgICAwLjQqKDgvOTIpLCAgICAgMiwgICAgMjAsIDMuNSwgICAgIDQwMCwgMzNdLFxuICAgIGdNOiAgWydHaWFudCBNJywgICAgICAwLjQqKDgwLzkyKSwgICAgMSwgICAgMTAsICAgMSwgICAgICA1MCwgMzBdLFxuICAgIEQ6ICAgWydXaGl0ZSBEd2FyZicsICA1LCAgICAgICAgICAgICAgNiwgIDAuMDEsIDEuNCwgICAgMC4wMSwgIDZdLFxuICAgIHNnTzogWydTdXBlcmdpYW50IE8nLCBzZ19zY2FsZSAqIDAuMDAxLCA3LCA1MDAsICA3MCwgMTAwMDAwMCwgNDBdLFxuICAgIHNnQjogWydTdXBlcmdpYW50IEInLCBzZ19zY2FsZSAqIDAuMSwgNiwgICAzMDAsICA2MCwgICA4MjAwMCwgMzddLFxuICAgIHNnQTogWydTdXBlcmdpYW50IEEnLCBzZ19zY2FsZSAqIDAuNywgNSwgICAxMjAsICA1MCwgICA2MDAwMCwgMzVdLFxuICAgIHNnRjogWydTdXBlcmdpYW50IEYnLCBzZ19zY2FsZSAqIDIsICAgNCwgICAxMDAsICAzNSwgICA1MDAwMCwgMzRdLFxuICAgIHNnRzogWydTdXBlcmdpYW50IEcnLCBzZ19zY2FsZSAqIDMuNSwgMywgICAgODAsICAxNiwgICA0NDAwMCwgMzNdLFxuICAgIHNnSzogWydTdXBlcmdpYW50IEsnLCBzZ19zY2FsZSAqIDgsICAgMiwgICAgNzIsICAxMiwgICAzODAwMCwgMzJdLFxuICAgIHNnTTogWydTdXBlcmdpYW50IE0nLCBzZ19zY2FsZSAqIDgwLCAgMSwgICAgMzAsICAxMCwgICAzMDAwMCwgMzBdLFxuICB9O1xuICBsZXQgcmV0ID0ge307XG4gIGZvciAobGV0IGtleSBpbiByYXcpIHtcbiAgICBsZXQgcmQgPSByYXdba2V5XTtcbiAgICByZXRba2V5XSA9IHtcbiAgICAgIGxhYmVsOiByZFswXSxcbiAgICAgIG9kZHM6IHJkWzFdLFxuICAgICAgaHVlOiByZFsyXSxcbiAgICAgIGNvbG9yOiBjb2xvcnNbcmRbMl1dLFxuICAgICAgYXN0cm9fcmFkaXVzOiByZFszXSxcbiAgICAgIG1hc3M6IHJkWzRdLFxuICAgICAgbHVtaW46IHJkWzVdLFxuICAgICAgZ2FtZV9yYWRpdXM6IHJkWzZdLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn0oKSk7XG5jb25zdCBzdGFyX3R5cGVzX3RvdGFsID0gKGZ1bmN0aW9uICgpIHtcbiAgbGV0IHJldCA9IDA7XG4gIGZvciAobGV0IGtleSBpbiBzdGFyX3R5cGVzKSB7XG4gICAgcmV0ICs9IHN0YXJfdHlwZXNba2V5XS5vZGRzO1xuICB9XG4gIHJldHVybiByZXQ7XG59KCkpO1xuXG5mdW5jdGlvbiBzdGFyVHlwZShjaG9pY2UpIHtcbiAgY2hvaWNlICo9IHN0YXJfdHlwZXNfdG90YWw7XG4gIGZvciAobGV0IGtleSBpbiBzdGFyX3R5cGVzKSB7XG4gICAgY2hvaWNlIC09IHN0YXJfdHlwZXNba2V5XS5vZGRzO1xuICAgIGlmIChjaG9pY2UgPD0gMCkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbiAgYXNzZXJ0KCFlbmdpbmUuREVCVUcpO1xuICByZXR1cm4gJ00nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhclR5cGVGcm9tSUQoaWQpIHtcbiAgcmV0dXJuIHN0YXJUeXBlKG1hc2hJNTMoaWQpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZUZyb21JRChpZCkge1xuICByZXR1cm4gc3Rhcl90eXBlc1tzdGFyVHlwZShtYXNoSTUzKGlkKSldLmh1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhclR5cGVEYXRhKGtleSkge1xuICByZXR1cm4gc3Rhcl90eXBlc1trZXldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHVlRnJvbVR5cGUoa2V5KSB7XG4gIHJldHVybiBzdGFyX3R5cGVzW2tleV0uaHVlO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgaXNQYWNrZXQgfSA9IHJlcXVpcmUoJy4vcGFja2V0LmpzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2tJbml0UmVjZWl2ZXIocmVjZWl2ZXIpIHtcbiAgcmVjZWl2ZXIubGFzdF9wYWtfaWQgPSAwO1xuICByZWNlaXZlci5yZXNwX2NicyA9IHt9O1xuICByZWNlaXZlci5yZXNwb25zZXNfd2FpdGluZyA9IDA7XG59XG5cbmNvbnN0IEVSUl9GQUlMQUxMX0RJU0NPTk5FQ1QgPSAnRVJSX0ZBSUxBTExfRElTQ09OTkVDVCc7XG5cbmNvbnN0IEFDS0ZMQUdfSVNfUkVTUCA9IDE8PDM7XG5jb25zdCBBQ0tGTEFHX0VSUiA9IDE8PDQ7XG5jb25zdCBBQ0tGTEFHX0RBVEFfSlNPTiA9IDE8PDU7XG4vLyBgcmVjZWl2ZXJgIGlzIHJlYWxseSB0aGUgc2VuZGVyLCBoZXJlLCBidXQgd2lsbCByZWNlaXZlIGFueSByZXNwb25zZVxuZXhwb3J0IGZ1bmN0aW9uIGFja1dyYXBQYWtTdGFydChwYWssIHJlY2VpdmVyLCBtc2cpIHtcbiAgbGV0IGZsYWdzID0gMDtcblxuICBwYWsuYWNrX2RhdGEgPSB7XG4gICAgcmVjZWl2ZXIsXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBtc2cgPT09ICdudW1iZXInKSB7XG4gICAgZmxhZ3MgfD0gQUNLRkxBR19JU19SRVNQO1xuICAgIHBhay53cml0ZUludChtc2cpO1xuICB9IGVsc2Uge1xuICAgIHBhay53cml0ZUFuc2lTdHJpbmcobXNnKTtcbiAgfVxuICBsZXQgcmVzcF9wYWtfaWQgPSByZWNlaXZlciA/ICsrcmVjZWl2ZXIubGFzdF9wYWtfaWQgOiAwO1xuICBwYWsuYWNrX2RhdGEucmVzcF9wYWtfaWQgPSByZXNwX3Bha19pZDtcbiAgcGFrLmFja19kYXRhLnJlc3BfcGFrX2lkX29mZnMgPSBwYWsuZ2V0T2Zmc2V0KCk7XG4gIHBhay53cml0ZUludChyZXNwX3Bha19pZCk7XG5cbiAgcGFrLmFja19kYXRhLmRhdGFfb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgcGFrLmFja19kYXRhLmZsYWdzID0gZmxhZ3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2tXcmFwUGFrUGF5bG9hZChwYWssIGRhdGEpIHtcbiAgaWYgKGlzUGFja2V0KGRhdGEpKSB7XG4gICAgcGFrLmFwcGVuZFJlbWFpbmluZyhkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICBwYWsuYWNrX2RhdGEuZmxhZ3MgfD0gQUNLRkxBR19EQVRBX0pTT047XG4gICAgcGFrLndyaXRlSlNPTihkYXRhKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWNrV3JhcFBha0ZpbmlzaChwYWssIGVyciwgcmVzcF9mdW5jKSB7XG4gIGxldCBmbGFncyA9IHBhay5hY2tfZGF0YS5mbGFncztcbiAgbGV0IG9mZnMgPSBwYWsuZ2V0T2Zmc2V0KCk7XG4gIGlmIChlcnIpIHtcbiAgICAvLyBOb3RoaW5nIGVsc2UgbXVzdCBoYXZlIGJlZW4gd3JpdHRlblxuICAgIGFzc2VydC5lcXVhbChwYWsuYWNrX2RhdGEuZGF0YV9vZmZzLCBvZmZzKTtcbiAgICBmbGFncyB8PSBBQ0tGTEFHX0VSUjtcbiAgICBwYWsud3JpdGVTdHJpbmcoU3RyaW5nKGVycikpO1xuICAgIG9mZnMgPSBwYWsuZ2V0T2Zmc2V0KCk7XG4gIH1cbiAgcGFrLm1ha2VSZWFkYWJsZSgpO1xuICBsZXQgcmVzcF9wYWtfaWQgPSAwO1xuICBpZiAocmVzcF9mdW5jICYmIHJlc3BfZnVuYy5leHBlY3RpbmdfcmVzcG9uc2UgIT09IGZhbHNlKSB7XG4gICAgcmVzcF9wYWtfaWQgPSBwYWsuYWNrX2RhdGEucmVzcF9wYWtfaWQ7XG4gICAgYXNzZXJ0KHJlc3BfcGFrX2lkKTtcbiAgICBhc3NlcnQocGFrLmFja19kYXRhLnJlY2VpdmVyKTtcbiAgICBwYWsuYWNrX2RhdGEucmVjZWl2ZXIucmVzcF9jYnNbcmVzcF9wYWtfaWRdID0gcmVzcF9mdW5jO1xuICB9IGVsc2Uge1xuICAgIHBhay5zZWVrKHBhay5hY2tfZGF0YS5yZXNwX3Bha19pZF9vZmZzKTtcbiAgICBwYWsuemVyb0ludCgpO1xuICAgIHBhay5zZWVrKG9mZnMpO1xuICB9XG4gIHBhay51cGRhdGVGbGFncyhmbGFncyk7XG4gIGRlbGV0ZSBwYWsuYWNrX2RhdGE7XG4gIHJldHVybiByZXNwX3Bha19pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFja1JlYWRIZWFkZXIocGFrKSB7XG4gIGxldCBmbGFncyA9IHBhay5nZXRGbGFncygpO1xuICBsZXQgbXNnID0gKGZsYWdzICYgQUNLRkxBR19JU19SRVNQKSA/IHBhay5yZWFkSW50KCkgOiBwYWsucmVhZEFuc2lTdHJpbmcoKTtcbiAgbGV0IHBha19pZCA9IHBhay5yZWFkSW50KCk7XG4gIGxldCBlcnIgPSAoZmxhZ3MgJiBBQ0tGTEFHX0VSUikgPyBwYWsucmVhZFN0cmluZygpIDogdW5kZWZpbmVkO1xuICBsZXQgZGF0YTtcbiAgaWYgKGZsYWdzICYgQUNLRkxBR19EQVRBX0pTT04pIHtcbiAgICBkYXRhID0gcGFrLnJlYWRKU09OKCk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YSA9IHBhaztcbiAgfVxuICByZXR1cm4ge1xuICAgIG1zZyxcbiAgICBlcnIsXG4gICAgZGF0YSxcbiAgICBwYWtfaWQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWlsQWxsKHJlY2VpdmVyLCBlcnIpIHtcbiAgZXJyID0gZXJyIHx8IEVSUl9GQUlMQUxMX0RJU0NPTk5FQ1Q7XG4gIGxldCBjYnMgPSByZWNlaXZlci5yZXNwX2NicztcbiAgcmVjZWl2ZXIucmVzcF9jYnMgPSB7fTtcbiAgcmVjZWl2ZXIucmVzcG9uc2VzX3dhaXRpbmcgPSAwO1xuICBmb3IgKGxldCBwYWtfaWQgaW4gY2JzKSB7XG4gICAgY2JzW3Bha19pZF0oZXJyKTtcbiAgfVxufVxuXG4vLyBgc291cmNlYCBpcyBhIHN0cmluZyBmb3IgZGVidWcvbG9nZ2luZyBvbmx5XG4vLyBgcmVjZWl2ZXJgIG5lZWRzIGluaXRSZWNlaWN2ZXIgY2FsbGVkIG9uIGl0LCBoYXZlIC5vbkVycm9yKCkgaW4gdGhlIHByb3RvdHlwZSBhbmQgb3B0aW9uYWxseSAubG9nKClcbi8vIHNlbmRGdW5jKG1zZywgZXJyLCBkYXRhLCByZXNwX2Z1bmMpXG4vLyBoYW5kbGVGdW5jKG1zZywgZGF0YSwgcmVzcF9mdW5jKVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gYWNrSGFuZGxlTWVzc2FnZShyZWNlaXZlciwgc291cmNlLCBuZXRfZGF0YV9vcl9wYWssIHNlbmRfZnVuYywgcGFrX2Z1bmMsIGhhbmRsZV9mdW5jLCBmaWx0ZXJfZnVuYykge1xuICBpZiAocmVjZWl2ZXIubG9nUGFja2V0RGlzcGF0Y2gpIHtcbiAgICByZWNlaXZlci5sb2dQYWNrZXREaXNwYXRjaChzb3VyY2UsIG5ldF9kYXRhX29yX3Bhayk7XG4gIH1cbiAgbGV0IG5ldF9kYXRhID0gaXNQYWNrZXQobmV0X2RhdGFfb3JfcGFrKSA/IGFja1JlYWRIZWFkZXIobmV0X2RhdGFfb3JfcGFrKSA6IG5ldF9kYXRhX29yX3BhaztcbiAgbGV0IHsgZXJyLCBkYXRhLCBtc2csIHBha19pZCB9ID0gbmV0X2RhdGE7XG4gIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICBsZXQgZXhwZWN0aW5nX3Jlc3BvbnNlID0gQm9vbGVhbihwYWtfaWQpO1xuICBsZXQgdGltZW91dF9pZDtcbiAgaWYgKGV4cGVjdGluZ19yZXNwb25zZSkge1xuICAgIHRpbWVvdXRfaWQgPSAncGVuZGluZyc7XG4gIH1cbiAgbGV0IHNlbnRfcmVzcG9uc2UgPSBmYWxzZTtcbiAgbGV0IHN0YXJ0X3RpbWUgPSBub3c7XG5cbiAgaWYgKGZpbHRlcl9mdW5jICYmICFmaWx0ZXJfZnVuYyhyZWNlaXZlciwgbXNnLCBkYXRhKSkge1xuICAgIC8vIFNpbXBseSBkaXNjYXJkIHRoaXMgbWVzc2FnZVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZVNlbmRSZXNwKGVycikge1xuICAgIGFzc2VydCghc2VudF9yZXNwb25zZSwgJ1Jlc3BvbnNlIGZ1bmN0aW9uIGNhbGxlZCB0d2ljZScpO1xuICAgIHNlbnRfcmVzcG9uc2UgPSB0cnVlO1xuXG4gICAgaWYgKGV4cGVjdGluZ19yZXNwb25zZSkge1xuICAgICAgaWYgKHRpbWVvdXRfaWQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXRfaWQgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0X2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVyciA9PT0gRVJSX0ZBSUxBTExfRElTQ09OTkVDVCkge1xuICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHJlc3VsdCBvZiBhIGZhaWxBbGwoKSBjYWxsLCBhIHJlc3BvbnNlIHdhcyBub3QgYWN0dWFsbHkgc2VudCFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAocmVjZWl2ZXIubG9nID8gcmVjZWl2ZXIgOiBjb25zb2xlKS5sb2coYFJlc3BvbnNlIGZpbmFsbHkgc2VudCBmb3IgJHttc2dcbiAgICAgICAgICB9IGFmdGVyICR7KChEYXRlLm5vdygpIC0gc3RhcnRfdGltZSkgLyAxMDAwKS50b0ZpeGVkKDEpfXNgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjZWl2ZXIucmVzcG9uc2VzX3dhaXRpbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNwRnVuYyhlcnIsIHJlc3BfZGF0YSwgcmVzcF9mdW5jKSB7XG4gICAgcHJlU2VuZFJlc3AoZXJyKTtcbiAgICAvLyB0aGUgY2FsbGJhY2sgd2FudHMgdG8gc2VuZCBhIHJlc3BvbnNlLCBhbmQgcG9zc2libHkgZ2V0IGEgcmVzcG9uc2UgZnJvbSB0aGF0IVxuICAgIGlmICghZXhwZWN0aW5nX3Jlc3BvbnNlKSB7XG4gICAgICAvLyBCdXQsIHRoZSBvdGhlciBlbmQgaXMgbm90IGV4cGVjdGluZyBhIHJlc3BvbnNlIGZyb20gdGhpcyBwYWNrZXQsIGJsYWNrLWhvbGUgaXRcbiAgICAgIGlmIChyZXNwX2Z1bmMpIHtcbiAgICAgICAgLy8gV2UgYmV0dGVyIG5vdCBiZSBleHBlY3RpbmcgYSByZXNwb25zZSB0byBvdXIgcmVzcG9uc2UhXG4gICAgICAgIHJlY2VpdmVyLm9uRXJyb3IoYFNlbmRpbmcgYSByZXNwb25zZSB0byBhIHBhY2tldCAoJHttc2d9KSB0aGF0IGRpZCBub3QgZXhwZWN0YCArXG4gICAgICAgICAgJyBvbmUsIGJ1dCB3ZSBhcmUgZXhwZWN0aW5nIGEgcmVzcG9uc2UnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gaG93ZXZlciwgaWYgdGhlcmUgd2FzIGFuIGVycm9yLCBsZXQncyBmb3J3YXJkIHRoYXQgYWxvbmcgYXMgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAgaWYgKGVycikge1xuICAgICAgICBzZW5kX2Z1bmMoJ2Vycm9yJywgbnVsbCwgZXJyLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VuZF9mdW5jKHBha19pZCwgZXJyLCByZXNwX2RhdGEsIHJlc3BfZnVuYyk7XG4gIH1cbiAgcmVzcEZ1bmMuZXhwZWN0aW5nX3Jlc3BvbnNlID0gZXhwZWN0aW5nX3Jlc3BvbnNlO1xuICByZXNwRnVuYy5wYWsgPSBmdW5jdGlvbiAocmVmX3Bhaykge1xuICAgIGFzc2VydChleHBlY3RpbmdfcmVzcG9uc2UpO1xuICAgIGxldCBwYWsgPSBwYWtfZnVuYyhwYWtfaWQsIHJlZl9wYWspO1xuICAgIGxldCBvcmlnX3NlbmQgPSBwYWsuc2VuZDtcbiAgICBwYWsuc2VuZCA9IGZ1bmN0aW9uIChlcnIsIHJlc3BfZnVuYykge1xuICAgICAgcHJlU2VuZFJlc3AoZXJyKTtcbiAgICAgIG9yaWdfc2VuZC5jYWxsKHBhaywgZXJyLCByZXNwX2Z1bmMpO1xuICAgIH07XG4gICAgcmV0dXJuIHBhaztcbiAgfTtcblxuICBpZiAodHlwZW9mIG1zZyA9PT0gJ251bWJlcicpIHtcbiAgICBsZXQgY2IgPSByZWNlaXZlci5yZXNwX2Nic1ttc2ddO1xuICAgIGlmICghY2IpIHtcbiAgICAgIHJldHVybiB2b2lkIHJlY2VpdmVyLm9uRXJyb3IoYFJlY2VpdmVkIHJlc3BvbnNlIHRvIHVua25vd24gcGFja2V0IHdpdGggaWQgJHttc2d9IGZyb20gJHtzb3VyY2V9YCk7XG4gICAgfVxuICAgIGRlbGV0ZSByZWNlaXZlci5yZXNwX2Nic1ttc2ddO1xuICAgIGNiKGVyciwgZGF0YSwgcmVzcEZ1bmMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghbXNnKSB7XG4gICAgICByZXR1cm4gdm9pZCByZWNlaXZlci5vbkVycm9yKGBSZWNlaXZlZCBtZXNzYWdlIHdpdGggbm8gLm1zZyBmcm9tICR7c291cmNlfWApO1xuICAgIH1cbiAgICBoYW5kbGVfZnVuYyhtc2csIGRhdGEsIHJlc3BGdW5jKTtcbiAgfVxuICBpZiAoZXhwZWN0aW5nX3Jlc3BvbnNlKSB7XG4gICAgLy8gTm90ZSwgdGhpcyBtYXkgYmUgLTEgaWYgcmVzcEZ1bmMgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcbiAgICByZWNlaXZlci5yZXNwb25zZXNfd2FpdGluZysrO1xuICAgIGlmICghc2VudF9yZXNwb25zZSAmJiAhcmVzcEZ1bmMuc3VwcHJlc3NfdGltZW91dCkge1xuICAgICAgLy8gdGltZW91dCB3YXJuaW5nIGZvciByZXNwb25zZVxuICAgICAgdGltZW91dF9pZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aW1lb3V0X2lkID0gbnVsbDtcbiAgICAgICAgaWYgKCFyZXNwRnVuYy5zdXBwcmVzc190aW1lb3V0KSB7XG4gICAgICAgICAgKHJlY2VpdmVyLmxvZyA/IHJlY2VpdmVyIDogY29uc29sZSkubG9nKGBSZXNwb25zZSBub3Qgc2VudCBmb3IgJHttc2dcbiAgICAgICAgICB9IGZyb20gJHtzb3VyY2V9IGFmdGVyICR7KChEYXRlLm5vdygpIC0gc3RhcnRfdGltZSkgLyAxMDAwKS50b0ZpeGVkKDEpfXNgKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTUqMTAwMCk7XG4gICAgfVxuICB9XG59XG4iLCJjb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuLy8gVmFyaW91cyBhc3luYyBmdW5jdGlvbnNcblxuLy8gRG8gKm5vdCogbmV4dFRpY2sgdXBvbiBlbXB0eSByZXF1ZXN0LCB0aGlzIGNhdXNlcyBkaWZmZXJlbnQgYmVoYXZpb3Igd2hlbiBlbXB0eSFcbi8vIGxldCBuZXh0VGljayA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/XG4vLyAgIHByb2Nlc3MubmV4dFRpY2sgOlxuLy8gICB3aW5kb3cuc2V0SW1tZWRpYXRlID8gd2luZG93LnNldEltbWVkaWF0ZSA6IChmbikgPT4gc2V0VGltZW91dChmbiwgMSk7XG5cbi8vIERlcml2ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vaHVnaHNrL2FzeW5jLXNlcmllcyAtIE1JVCBMaWNlbnNlZFxuZnVuY3Rpb24gc2VyaWVzKGFyciwgZG9uZSkge1xuICBsZXQgbGVuZ3RoID0gYXJyLmxlbmd0aDtcblxuICBpZiAoIWxlbmd0aCkge1xuICAgIHJldHVybiB2b2lkIGRvbmUoKTsgLy8gdm9pZCBuZXh0VGljayhkb25lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUl0ZW0oaWR4KSB7XG4gICAgYXJyW2lkeF0oZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKGlkeCA8IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUl0ZW0oaWR4ICsgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlSXRlbSgwKTtcbn1cbmV4cG9ydHMuc2VyaWVzID0gc2VyaWVzO1xuXG4vLyBPcmlnaW5hbGx5IGRlcml2ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL3J1bi1wYXJhbGxlbC1saW1pdCAtIE1JVCBsaWNlbnNlZFxuZnVuY3Rpb24gZWFjaExpbWl0KGFyciwgbGltaXQsIHByb2MsIGRvbmUpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBsaW1pdCwgJ251bWJlcicpO1xuICBhc3NlcnQoQXJyYXkuaXNBcnJheShhcnIpKTtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBwcm9jLCAnZnVuY3Rpb24nKTtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBkb25lLCAnZnVuY3Rpb24nKTtcbiAgbGV0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGxldCBwZW5kaW5nID0gbGVuO1xuICBsZXQgaXNfZXJyb3JlZDtcblxuICBsZXQgbmV4dDtcbiAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgZnVuY3Rpb24gZG9OZXh0KGlkeCwgZXJyLCByZXN1bHQpIHtcbiAgICByZXN1bHRzW2lkeF0gPSByZXN1bHQ7XG4gICAgaWYgKGVycikge1xuICAgICAgaXNfZXJyb3JlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICgtLXBlbmRpbmcgPT09IDAgfHwgZXJyKSB7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBkb25lKGVyciwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgICBkb25lID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCFpc19lcnJvcmVkICYmIG5leHQgPCBsZW4pIHtcbiAgICAgIGxldCBrZXkgPSBuZXh0Kys7XG4gICAgICBwcm9jKGFycltrZXldLCBkb05leHQuYmluZChudWxsLCBrZXkpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXBlbmRpbmcpIHtcbiAgICAvLyBlbXB0eVxuICAgIHJldHVybiB2b2lkIGRvbmUobnVsbCwgcmVzdWx0cyk7IC8vIHZvaWQgbmV4dFRpY2soZG9uZS5iaW5kKG51bGwsIG51bGwsIHJlc3VsdHMpKTtcbiAgfVxuICBuZXh0ID0gbGltaXQ7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcnIubGVuZ3RoICYmIGlpIDwgbGltaXQ7ICsraWkpIHtcbiAgICBwcm9jKGFycltpaV0sIGRvTmV4dC5iaW5kKG51bGwsIGlpKSk7XG4gIH1cbn1cbmV4cG9ydHMuZWFjaExpbWl0ID0gZWFjaExpbWl0O1xuXG5mdW5jdGlvbiBlYWNoKGFyciwgcHJvYywgZG9uZSkge1xuICBlYWNoTGltaXQoYXJyLCBJbmZpbml0eSwgcHJvYywgZG9uZSk7XG59XG5leHBvcnRzLmVhY2ggPSBlYWNoO1xuXG5mdW5jdGlvbiBwYXJhbGxlbExpbWl0KHRhc2tzLCBsaW1pdCwgZG9uZSkge1xuICBlYWNoTGltaXQodGFza3MsIGxpbWl0LCBmdW5jdGlvbiAodGFzaywgbmV4dCkge1xuICAgIHRhc2sobmV4dCk7XG4gIH0sIGRvbmUpO1xufVxuZXhwb3J0cy5wYXJhbGxlbExpbWl0ID0gcGFyYWxsZWxMaW1pdDtcblxuZnVuY3Rpb24gcGFyYWxsZWwodGFza3MsIGRvbmUpIHtcbiAgcGFyYWxsZWxMaW1pdCh0YXNrcywgSW5maW5pdHksIGRvbmUpO1xufVxuZXhwb3J0cy5wYXJhbGxlbCA9IHBhcmFsbGVsO1xuXG5mdW5jdGlvbiBsaW1pdGVyKG1heF9wYXJhbGxlbCkge1xuICBsZXQgYXZhaWwgPSBtYXhfcGFyYWxsZWw7XG4gIGxldCBoZWFkID0gbnVsbDtcbiAgbGV0IHRhaWwgPSBudWxsO1xuICBmdW5jdGlvbiBvbkZpbmlzaCgpIHtcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgICsrYXZhaWw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBuZXh0ID0gaGVhZDtcbiAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgIGlmICghaGVhZCkge1xuICAgICAgdGFpbCA9IG51bGw7XG4gICAgfVxuICAgIG5leHQob25GaW5pc2gpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBsaW1pdGVyUnVuKGV4ZWMpIHtcbiAgICBpZiAoIWF2YWlsKSB7XG4gICAgICBpZiAoIWhlYWQpIHtcbiAgICAgICAgaGVhZCA9IHRhaWwgPSBleGVjO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFpbC5uZXh0ID0gZXhlYztcbiAgICAgICAgdGFpbCA9IGV4ZWM7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC0tYXZhaWw7XG4gICAgZXhlYyhvbkZpbmlzaCk7XG4gIH07XG59XG5leHBvcnRzLmxpbWl0ZXIgPSBsaW1pdGVyO1xuXG5PYmplY3Qua2V5cyhleHBvcnRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgZXhwb3J0c1tgYXN5bmMke2tleVswXS50b1VwcGVyQ2FzZSgpfSR7a2V5LnNsaWNlKDEpfWBdID0gZXhwb3J0c1trZXldO1xufSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG4vKiBnbG9iYWxzIGF0b2IgKi9cblxuLy8gRW5jb2RpbmcgaXMgZmFzdGVzdCB3aXRoIG5vbi1uYXRpdmUgY2FsbHM6IGh0dHA6Ly9qc3BlcmYuY29tL2Jhc2U2NC1lbmNvZGVcbi8vIERlY29kaW5nIGlzIGZhc3Rlc3QgdXNpbmcgd2luZG93LmJ0b2E6IGh0dHA6Ly9qc3BlcmYuY29tL2Jhc2U2NC1kZWNvZGVcblxuY29uc3QgeyBmbG9vciB9ID0gTWF0aDtcblxuY29uc3QgY2hyX3RhYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nLnNwbGl0KCcnKTtcbmNvbnN0IFBBRCA9ICc9JztcblxuLy8gZHYgaXMgYSBEYXRhVmlldyB3aXRoIGEgLnU4IHByb3BlcnR5XG5mdW5jdGlvbiBlbmNvZGUoZHYsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGxldCBkYXRhID0gZHYudTg7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgbGV0IGk7XG4gIGxldCBlZmZpO1xuICAvLyBDb252ZXJ0IGV2ZXJ5IHRocmVlIGJ5dGVzIHRvIDQgYXNjaWkgY2hhcmFjdGVycy5cbiAgZm9yIChpID0gMDsgaSA8IChsZW5ndGggLSAyKTsgaSArPSAzKSB7XG4gICAgZWZmaSA9IG9mZnNldCArIGk7XG4gICAgcmVzdWx0ICs9IGNocl90YWJsZVtkYXRhW2VmZmldID4+IDJdO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKChkYXRhW2VmZmldICYgMHgwMykgPDwgNCkgKyAoZGF0YVtlZmZpICsgMV0gPj4gNCldO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKChkYXRhW2VmZmkgKyAxXSAmIDB4MGYpIDw8IDIpICsgKGRhdGFbZWZmaSArIDJdID4+IDYpXTtcbiAgICByZXN1bHQgKz0gY2hyX3RhYmxlW2RhdGFbZWZmaSArIDJdICYgMHgzZl07XG4gIH1cblxuICAvLyBDb252ZXJ0IHRoZSByZW1haW5pbmcgMSBvciAyIGJ5dGVzLCBwYWQgb3V0IHRvIDQgY2hhcmFjdGVycy5cbiAgaWYgKGxlbmd0aCAlIDMpIHtcbiAgICBpID0gbGVuZ3RoIC0gKGxlbmd0aCAlIDMpO1xuICAgIGVmZmkgPSBvZmZzZXQgKyBpO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbZGF0YVtlZmZpXSA+PiAyXTtcbiAgICBpZiAoKGxlbmd0aCAlIDMpID09PSAyKSB7XG4gICAgICByZXN1bHQgKz0gY2hyX3RhYmxlWygoZGF0YVtlZmZpXSAmIDB4MDMpIDw8IDQpICsgKGRhdGFbZWZmaSArIDFdID4+IDQpXTtcbiAgICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKGRhdGFbZWZmaSArIDFdICYgMHgwZikgPDwgMl07XG4gICAgICByZXN1bHQgKz0gUEFEO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgKz0gY2hyX3RhYmxlWyhkYXRhW2VmZmldICYgMHgwMykgPDwgNF07XG4gICAgICByZXN1bHQgKz0gUEFEICsgUEFEO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGRlY29kZU5hdGl2ZUJyb3dzZXIoZGF0YSwgYWxsb2NhdG9yKSB7XG4gIGxldCBzdHIgPSBhdG9iKGRhdGEpO1xuICBsZXQgbGVuID0gc3RyLmxlbmd0aDtcbiAgbGV0IGR2ID0gYWxsb2NhdG9yKGxlbik7XG4gIGxldCB1OCA9IGR2LnU4O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuOyArK2lpKSB7XG4gICAgdThbaWldID0gc3RyLmNoYXJDb2RlQXQoaWkpO1xuICB9XG4gIGR2LmRlY29kZV9zaXplID0gbGVuO1xuICByZXR1cm4gZHY7XG59XG5cbmZ1bmN0aW9uIGVuY29kZU5hdGl2ZU5vZGUoZHYsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIC8vIEFsbG9jYXRlcyBhIEJ1ZmZlcigpIG9iamVjdCBlYWNoIHRpbWUgLSBjb3VsZCBoYXZlIG91ciBhbGxvY0RhdGFWaWV3IGRvIHRoYXQgaWYgbmVlZGVkIGZvciBwZXJmXG4gIHJldHVybiBCdWZmZXIuZnJvbShkdi5idWZmZXIpLnRvU3RyaW5nKCdiYXNlNjQnLCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG59XG4vLyBGYXN0ZXIsIGJ1dCB1c2VzIGFuIGludGVybmFsIGZ1bmN0aW9uIHRoYXQgbWlnaHQgYnJlYWs6XG4vLyBmdW5jdGlvbiBlbmNvZGVOYXRpdmVOb2RlKGR2LCBvZmZzZXQsIGxlbmd0aCkge1xuLy8gICByZXR1cm4gQnVmZmVyLnByb3RvdHlwZS5iYXNlNjRTbGljZS5jYWxsKGR2LnU4LCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4vLyB9XG5cbmZ1bmN0aW9uIGRlY29kZU5hdGl2ZU5vZGUoZGF0YSwgYWxsb2NhdG9yKSB7XG4gIGxldCBidWZmZXJfbGVuID0gKGRhdGEubGVuZ3RoID4+IDIpICogMyArIGZsb29yKChkYXRhLmxlbmd0aCAlIDQpIC8gMS41KTtcbiAgbGV0IGR2ID0gYWxsb2NhdG9yKGJ1ZmZlcl9sZW4pO1xuICBsZXQgYnVmZmVyID0gQnVmZmVyLmZyb20oZHYuYnVmZmVyKTtcbiAgZHYuZGVjb2RlX3NpemUgPSBidWZmZXIud3JpdGUoZGF0YSwgJ2Jhc2U2NCcpO1xuICByZXR1cm4gZHY7XG59XG5cbmNvbnN0IEJST1dTRVIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLy8gc3RyaW5nIC0+IFVpbnQ4QXJyYXkgb3IgQnVmZmVyXG5leHBvcnRzLmJhc2U2NERlY29kZSA9IEJST1dTRVIgPyBkZWNvZGVOYXRpdmVCcm93c2VyIDogZGVjb2RlTmF0aXZlTm9kZTtcbi8vIFVpbnQ4QXJyYXkgb3IgQnVmZmVyIC0+IHN0cmluZ1xuZXhwb3J0cy5iYXNlNjRFbmNvZGUgPSBCUk9XU0VSID8gZW5jb2RlIDogZW5jb2RlTmF0aXZlTm9kZTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBpc0ludGVnZXIgfSA9IHJlcXVpcmUoJy4vdXRpbC5qcycpO1xuXG5leHBvcnQgZnVuY3Rpb24gY2Fub25pY2FsKGNtZCkge1xuICByZXR1cm4gY21kLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW18uXS9nLCAnJyk7XG59XG5cbmV4cG9ydCBjb25zdCBUWVBFX0lOVCA9IDA7XG5leHBvcnQgY29uc3QgVFlQRV9GTE9BVCA9IDE7XG5leHBvcnQgY29uc3QgVFlQRV9TVFJJTkcgPSAyO1xuY29uc3QgVFlQRV9OQU1FID0gWydJTlRFR0VSJywgJ05VTUJFUicsICdTVFJJTkcnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRIYW5kbGVyKGVyciwgcmVzcCkge1xuICBpZiAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIsIHJlc3ApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuaW5mbyhyZXNwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0FjY2VzcyhhY2Nlc3MsIGxpc3QpIHtcbiAgaWYgKGxpc3QpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGlzdC5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGlmICghYWNjZXNzIHx8ICFhY2Nlc3NbbGlzdFtpaV1dKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIENtZFBhcnNlKHBhcmFtcykge1xuICB0aGlzLmNtZHMgPSB7fTtcbiAgdGhpcy5jbWRzX2Zvcl9jb21wbGV0ZSA9IHRoaXMuY21kcztcbiAgdGhpcy53YXNfbm90X2ZvdW5kID0gZmFsc2U7XG4gIHRoaXMuc3RvcmFnZSA9IHBhcmFtcyAmJiBwYXJhbXMuc3RvcmFnZTsgLy8gZXhwZWN0cyAuc2V0SlNPTigpLCAuZ2V0SlNPTigpXG4gIHRoaXMuZGVmYXVsdF9oYW5kbGVyID0gZGVmYXVsdEhhbmRsZXI7XG4gIHRoaXMucmVnaXN0ZXIoe1xuICAgIGNtZDogJ2NtZF9saXN0JyxcbiAgICBmdW5jOiB0aGlzLmNtZExpc3QuYmluZCh0aGlzKSxcbiAgICBhY2Nlc3Nfc2hvdzogWydoaWRkZW4nXSxcbiAgfSk7XG59XG5DbWRQYXJzZS5wcm90b3R5cGUuY21kTGlzdCA9IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICBpZiAoIXRoaXMuY21kX2xpc3QpIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMuY21kX2xpc3QgPSB7fTtcbiAgICBmb3IgKGxldCBjbWQgaW4gdGhpcy5jbWRzKSB7XG4gICAgICBsZXQgY21kX2RhdGEgPSB0aGlzLmNtZHNbY21kXTtcbiAgICAgIGxldCBhY2Nlc3MgPSBbXTsgLy8gY29tYmluZSBmb3IgZGF0YSBjb21wYWN0aW9uXG4gICAgICBpZiAoY21kX2RhdGEuYWNjZXNzX3Nob3cpIHtcbiAgICAgICAgYWNjZXNzID0gYWNjZXNzLmNvbmNhdChjbWRfZGF0YS5hY2Nlc3Nfc2hvdyk7XG4gICAgICB9XG4gICAgICBpZiAoY21kX2RhdGEuYWNjZXNzX3J1bikge1xuICAgICAgICBhY2Nlc3MgPSBhY2Nlc3MuY29uY2F0KGNtZF9kYXRhLmFjY2Vzc19ydW4pO1xuICAgICAgfVxuICAgICAgaWYgKGFjY2Vzcy5pbmRleE9mKCdoaWRkZW4nKSAhPT0gLTEpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgbmFtZTogY21kX2RhdGEubmFtZSxcbiAgICAgICAgaGVscDogY21kX2RhdGEuaGVscCxcbiAgICAgIH07XG4gICAgICBpZiAoY21kX2RhdGEudXNhZ2UpIHtcbiAgICAgICAgZGF0YS51c2FnZSA9IGNtZF9kYXRhLnVzYWdlO1xuICAgICAgfVxuICAgICAgaWYgKGFjY2Vzcy5sZW5ndGgpIHtcbiAgICAgICAgZGF0YS5hY2Nlc3Nfc2hvdyA9IGFjY2VzcztcbiAgICAgIH1cbiAgICAgIGxpc3RbY21kXSA9IGRhdGE7XG4gICAgfVxuICB9XG4gIHJlc3BfZnVuYyhudWxsLCB0aGlzLmNtZF9saXN0KTtcbn07XG5cbkNtZFBhcnNlLnByb3RvdHlwZS5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChmbikge1xuICBhc3NlcnQodGhpcy5kZWZhdWx0X2hhbmRsZXIgPT09IGRlZmF1bHRIYW5kbGVyKTsgLy8gU2hvdWxkIG9ubHkgc2V0IHRoaXMgb25jZVxuICB0aGlzLmRlZmF1bHRfaGFuZGxlciA9IGZuO1xufTtcbkNtZFBhcnNlLnByb3RvdHlwZS5oYW5kbGUgPSBmdW5jdGlvbiAoc2VsZiwgc3RyLCByZXNwX2Z1bmMpIHtcbiAgcmVzcF9mdW5jID0gcmVzcF9mdW5jIHx8IHRoaXMuZGVmYXVsdF9oYW5kbGVyO1xuICB0aGlzLndhc19ub3RfZm91bmQgPSBmYWxzZTtcbiAgbGV0IG0gPSBzdHIubWF0Y2goL14oW15cXHNdKykoPzpcXHMrKC4qKSk/JC8pO1xuICBpZiAoIW0pIHtcbiAgICByZXNwX2Z1bmMoJ01pc3NpbmcgY29tbWFuZCcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGxldCBjbWQgPSBjYW5vbmljYWwobVsxXSk7XG4gIGxldCBjbWRfZGF0YSA9IHRoaXMuY21kc1tjbWRdO1xuICBpZiAoY21kX2RhdGEgJiYgIWNoZWNrQWNjZXNzKHNlbGYgJiYgc2VsZi5hY2Nlc3MsIGNtZF9kYXRhLmFjY2Vzc19ydW4pKSB7XG4gICAgLy8gdGhpcy53YXNfbm90X2ZvdW5kID0gdHJ1ZTtcbiAgICByZXNwX2Z1bmMoYEFjY2VzcyBkZW5pZWQ6IFwiJHttWzFdfVwiYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghY21kX2RhdGEpIHtcbiAgICB0aGlzLndhc19ub3RfZm91bmQgPSB0cnVlO1xuICAgIHJlc3BfZnVuYyhgVW5rbm93biBjb21tYW5kOiBcIiR7bVsxXX1cImApO1xuICAgIHRoaXMud2FzX25vdF9mb3VuZCA9IGZhbHNlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjbWRfZGF0YS5mbi5jYWxsKHNlbGYsIG1bMl0gfHwgJycsIHJlc3BfZnVuYyk7XG4gIHJldHVybiB0cnVlO1xufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgcGFyYW0sICdvYmplY3QnKTtcbiAgbGV0IHsgY21kLCBmdW5jLCBoZWxwLCB1c2FnZSwgYWNjZXNzX3Nob3csIGFjY2Vzc19ydW4gfSA9IHBhcmFtO1xuICBhc3NlcnQoY21kICYmIGZ1bmMpO1xuICB0aGlzLmNtZHNbY2Fub25pY2FsKGNtZCldID0ge1xuICAgIG5hbWU6IGNtZCxcbiAgICBmbjogZnVuYyxcbiAgICBoZWxwOiBoZWxwIHx8ICcnLFxuICAgIHVzYWdlOiB1c2FnZSB8fCB1bmRlZmluZWQsXG4gICAgYWNjZXNzX3Nob3csXG4gICAgYWNjZXNzX3J1bixcbiAgfTtcbn07XG5cbkNtZFBhcnNlLnByb3RvdHlwZS5yZWdpc3RlclZhbHVlID0gZnVuY3Rpb24gKGNtZCwgcGFyYW0pIHtcbiAgYXNzZXJ0KFRZUEVfTkFNRVtwYXJhbS50eXBlXSB8fCAhcGFyYW0uc2V0KTtcbiAgYXNzZXJ0KHBhcmFtLnNldCB8fCBwYXJhbS5nZXQpO1xuICBsZXQgbGFiZWwgPSBwYXJhbS5sYWJlbCB8fCBjbWQ7XG4gIGxldCBzdG9yZSA9IHBhcmFtLnN0b3JlICYmIHRoaXMuc3RvcmFnZSB8fCBmYWxzZTtcbiAgbGV0IHN0b3JlX2tleSA9IGBjbWRfcGFyc2VfJHtjYW5vbmljYWwoY21kKX1gO1xuICBpZiAocGFyYW0udmVyKSB7XG4gICAgc3RvcmVfa2V5ICs9IGBfJHtwYXJhbS52ZXJ9YDtcbiAgfVxuICBpZiAoc3RvcmUpIHtcbiAgICBhc3NlcnQocGFyYW0uc2V0KTtcbiAgICBsZXQgaW5pdF92YWx1ZSA9IHRoaXMuc3RvcmFnZS5nZXRKU09OKHN0b3JlX2tleSk7XG4gICAgaWYgKGluaXRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZW5mb3JjZSBzdG9yZWQgdmFsdWVzIHdpdGhpbiBjdXJyZW50IHJhbmdlXG4gICAgICBpZiAocGFyYW0ucmFuZ2UpIHtcbiAgICAgICAgaW5pdF92YWx1ZSA9IE51bWJlcihpbml0X3ZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShpbml0X3ZhbHVlKSB8fCBpbml0X3ZhbHVlIDwgcGFyYW0ucmFuZ2VbMF0gfHwgaW5pdF92YWx1ZSA+IHBhcmFtLnJhbmdlWzFdKSB7XG4gICAgICAgICAgaW5pdF92YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluaXRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJhbS5zZXQoaW5pdF92YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBmbiA9IChzdHIsIHJlc3BfZnVuYykgPT4ge1xuICAgIGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmVzcF9mdW5jKG51bGwsIGAke2xhYmVsfSA9ICR7cGFyYW0uZ2V0KCl9YCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzYWdlKCkge1xuICAgICAgcmVzcF9mdW5jKGBVc2FnZTogLyR7Y21kfSAke1RZUEVfTkFNRVtwYXJhbS50eXBlXX1gKTtcbiAgICB9XG4gICAgaWYgKCFzdHIpIHtcbiAgICAgIGlmIChwYXJhbS5nZXQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdXNhZ2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJhbS5zZXQpIHtcbiAgICAgIHJldHVybiByZXNwX2Z1bmMoYFVzYWdlOiAvJHtjbWR9YCk7XG4gICAgfVxuICAgIGxldCBuID0gTnVtYmVyKHN0cik7XG4gICAgaWYgKHBhcmFtLnJhbmdlKSB7XG4gICAgICBpZiAobiA8IHBhcmFtLnJhbmdlWzBdKSB7XG4gICAgICAgIG4gPSBwYXJhbS5yYW5nZVswXTtcbiAgICAgIH0gZWxzZSBpZiAobiA+IHBhcmFtLnJhbmdlWzFdKSB7XG4gICAgICAgIG4gPSBwYXJhbS5yYW5nZVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0b3JlX3ZhbHVlID0gbjtcbiAgICBpZiAocGFyYW0udHlwZSA9PT0gVFlQRV9JTlQpIHtcbiAgICAgIGlmICghaXNJbnRlZ2VyKG4pKSB7XG4gICAgICAgIHJldHVybiB1c2FnZSgpO1xuICAgICAgfVxuICAgICAgcGFyYW0uc2V0KG4pO1xuICAgIH0gZWxzZSBpZiAocGFyYW0udHlwZSA9PT0gVFlQRV9GTE9BVCkge1xuICAgICAgaWYgKCFpc0Zpbml0ZShuKSkge1xuICAgICAgICByZXR1cm4gdXNhZ2UoKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtLnNldChuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmVfdmFsdWUgPSBzdHI7XG4gICAgICBwYXJhbS5zZXQoc3RyKTtcbiAgICB9XG4gICAgaWYgKHN0b3JlKSB7XG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SlNPTihzdG9yZV9rZXksIHN0b3JlX3ZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtLm9uX2NoYW5nZSkge1xuICAgICAgcGFyYW0ub25fY2hhbmdlKCk7XG4gICAgfVxuICAgIGlmIChwYXJhbS5nZXQpIHtcbiAgICAgIHJldHVybiB2YWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzcF9mdW5jKG51bGwsIGAke2xhYmVsfSB1ZHBhdGVkYCk7XG4gICAgfVxuICB9O1xuICB0aGlzLnJlZ2lzdGVyKHtcbiAgICBjbWQsXG4gICAgZnVuYzogZm4sXG4gICAgaGVscDogcGFyYW0uaGVscCB8fCAoKHBhcmFtLmdldCAmJiBwYXJhbS5zZXQpID9cbiAgICAgIGBTZXQgb3IgZGlzcGxheSBcIiR7bGFiZWx9XCIgdmFsdWVgIDpcbiAgICAgIHBhcmFtLnNldCA/IGBTZXQgXCIke2xhYmVsfVwiIHZhbHVlYCA6IGBEaXNwbGF5IFwiJHtsYWJlbH1cIiB2YWx1ZWApLFxuICAgIHVzYWdlOiBwYXJhbS51c2FnZSB8fCAoKHBhcmFtLmdldCA/IGBEaXNwbGF5IFwiJHtsYWJlbH1cIiB2YWx1ZVxcbiAgVXNhZ2U6IC8ke2NtZH1cXG5gIDogJycpICtcbiAgICAgIChwYXJhbS5zZXQgPyBgU2V0IFwiJHtsYWJlbH1cIiB2YWx1ZVxcbiAgVXNhZ2U6IC8ke2NtZH0gTmV3VmFsdWVgIDogJycpKSxcbiAgICBhY2Nlc3Nfc2hvdzogcGFyYW0uYWNjZXNzX3Nob3csXG4gICAgYWNjZXNzX3J1bjogcGFyYW0uYWNjZXNzX3J1bixcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBjbXBDbWQoYSwgYikge1xuICBpZiAoYS5jbmFtZSA8IGIuY25hbWUpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIDE7XG59XG5cbi8vIGZvciBhdXRvLWNvbXBsZXRlXG5DbWRQYXJzZS5wcm90b3R5cGUuYWRkU2VydmVyQ29tbWFuZHMgPSBmdW5jdGlvbiAobmV3X2NtZHMpIHtcbiAgbGV0IGNtZHMgPSB0aGlzLmNtZHNfZm9yX2NvbXBsZXRlO1xuICBpZiAodGhpcy5jbWRzX2Zvcl9jb21wbGV0ZSA9PT0gdGhpcy5jbWRzKSB7XG4gICAgY21kcyA9IHRoaXMuY21kc19mb3JfY29tcGxldGUgPSB7fTtcbiAgICBmb3IgKGxldCBjbmFtZSBpbiB0aGlzLmNtZHMpIHtcbiAgICAgIGNtZHNbY25hbWVdID0gdGhpcy5jbWRzW2NuYW1lXTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgY25hbWUgaW4gbmV3X2NtZHMpIHtcbiAgICBpZiAoIWNtZHNbY25hbWVdKSB7XG4gICAgICBjbWRzW2NuYW1lXSA9IG5ld19jbWRzW2NuYW1lXTtcbiAgICB9XG4gIH1cbn07XG5cbkNtZFBhcnNlLnByb3RvdHlwZS5hdXRvQ29tcGxldGUgPSBmdW5jdGlvbiAoc3RyLCBhY2Nlc3MpIHtcbiAgbGV0IGxpc3QgPSBbXTtcbiAgc3RyID0gc3RyLnNwbGl0KCcgJyk7XG4gIGxldCBmaXJzdF90b2sgPSBjYW5vbmljYWwoc3RyWzBdKTtcbiAgZm9yIChsZXQgY25hbWUgaW4gdGhpcy5jbWRzX2Zvcl9jb21wbGV0ZSkge1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAxICYmIGNuYW1lLnNsaWNlKDAsIGZpcnN0X3Rvay5sZW5ndGgpID09PSBmaXJzdF90b2sgfHxcbiAgICAgIHN0ci5sZW5ndGggPiAxICYmIGNuYW1lID09PSBmaXJzdF90b2tcbiAgICApIHtcbiAgICAgIGxldCBjbWRfZGF0YSA9IHRoaXMuY21kc19mb3JfY29tcGxldGVbY25hbWVdO1xuICAgICAgaWYgKGNoZWNrQWNjZXNzKGFjY2VzcywgY21kX2RhdGEuYWNjZXNzX3Nob3cpICYmIGNoZWNrQWNjZXNzKGFjY2VzcywgY21kX2RhdGEuYWNjZXNzX3J1bikpIHtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICBjbmFtZSxcbiAgICAgICAgICBjbWQ6IGNtZF9kYXRhLm5hbWUsXG4gICAgICAgICAgaGVscDogY21kX2RhdGEuaGVscCxcbiAgICAgICAgICB1c2FnZTogY21kX2RhdGEudXNhZ2UsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsaXN0LnNvcnQoY21wQ21kKTtcbiAgcmV0dXJuIGxpc3Q7IC8vIC5zbGljZSgwLCAyMCk7IE1heWJlP1xufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLmNhbm9uaWNhbCA9IGNhbm9uaWNhbDtcblxuQ21kUGFyc2UucHJvdG90eXBlLlRZUEVfSU5UID0gVFlQRV9JTlQ7XG5DbWRQYXJzZS5wcm90b3R5cGUuVFlQRV9GTE9BVCA9IFRZUEVfRkxPQVQ7XG5DbWRQYXJzZS5wcm90b3R5cGUuVFlQRV9TVFJJTkcgPSBUWVBFX1NUUklORztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBDbWRQYXJzZShwYXJhbXMpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuZXhwb3J0IGxldCBGUklFTkRfQURERUQgPSAxO1xuZXhwb3J0IGxldCBGUklFTkRfQURERURfQVVUTyA9IDI7XG5leHBvcnQgbGV0IEZSSUVORF9SRU1PVkVEID0gMztcblxuZXhwb3J0IGxldCBQUkVTRU5DRV9PRkZMSU5FID0gMDsgLy8gZm9yIGludmlzaWJsZSwgZXRjXG5leHBvcnQgbGV0IFBSRVNFTkNFX0FDVElWRSA9IDE7XG5leHBvcnQgbGV0IFBSRVNFTkNFX0lOQUNUSVZFID0gMjtcbiIsIi8qKlxuICpcbiAqICBNRDUgKE1lc3NhZ2UtRGlnZXN0IEFsZ29yaXRobSlcbiAqICBodHRwOi8vd3d3LndlYnRvb2xraXQuaW5mby9cbiAqXG4gKiBNb2RpZmllZCBieSByYWlsR3VuIHRvIGhhbmRsZSBub2RlLmpzIEJ1ZmZlciBvYmplY3RzXG4gKlxuICoqL1xuXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYsIG5ldy1jYXA6b2ZmKi9cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG5mdW5jdGlvbiBzdHJpbmdVdGY4RW5jb2RlKHN0cikge1xuICBsZXQgYztcbiAgbGV0IG47XG4gIGxldCB1dGZ0ZXh0ID0gW107XG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpO1xuICBmb3IgKG4gPSAwOyBuIDwgc3RyLmxlbmd0aDsgKytuKSB7XG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KG4pO1xuICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICB1dGZ0ZXh0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjKSk7XG4gICAgfSBlbHNlIGlmICgoYyA+IDEyNykgJiYgKGMgPCAyMDQ4KSkge1xuICAgICAgdXRmdGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgPj4gNikgfCAxOTIpKTtcbiAgICAgIHV0ZnRleHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgNjMpIHwgMTI4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHV0ZnRleHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+IDEyKSB8IDIyNCkpO1xuICAgICAgdXRmdGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKChjID4+IDYpICYgNjMpIHwgMTI4KSk7XG4gICAgICB1dGZ0ZXh0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdXRmdGV4dC5qb2luKCcnKTtcbn1cblxuXG5mdW5jdGlvbiByb3RhdGVMZWZ0KGxWYWx1ZSwgaVNoaWZ0Qml0cykge1xuICByZXR1cm4gKGxWYWx1ZTw8aVNoaWZ0Qml0cykgfCAobFZhbHVlPj4+KDMyLWlTaGlmdEJpdHMpKTtcbn1cblxuZnVuY3Rpb24gYWRkVW5zaWduZWQobFgsbFkpIHtcbiAgbGV0IGxYOCA9IChsWCAmIDB4ODAwMDAwMDApO1xuICBsZXQgbFk4ID0gKGxZICYgMHg4MDAwMDAwMCk7XG4gIGxldCBsWDQgPSAobFggJiAweDQwMDAwMDAwKTtcbiAgbGV0IGxZNCA9IChsWSAmIDB4NDAwMDAwMDApO1xuICBsZXQgbFJlc3VsdCA9IChsWCAmIDB4M0ZGRkZGRkYpKyhsWSAmIDB4M0ZGRkZGRkYpO1xuICBpZiAobFg0ICYgbFk0KSB7XG4gICAgcmV0dXJuIChsUmVzdWx0IF4gMHg4MDAwMDAwMCBeIGxYOCBeIGxZOCk7XG4gIH1cbiAgaWYgKGxYNCB8IGxZNCkge1xuICAgIGlmIChsUmVzdWx0ICYgMHg0MDAwMDAwMCkge1xuICAgICAgcmV0dXJuIChsUmVzdWx0IF4gMHhDMDAwMDAwMCBeIGxYOCBeIGxZOCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAobFJlc3VsdCBeIDB4NDAwMDAwMDAgXiBsWDggXiBsWTgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKGxSZXN1bHQgXiBsWDggXiBsWTgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIEYoeCx5LHopIHtcbiAgcmV0dXJuICh4ICYgeSkgfCAoKH54KSAmIHopO1xufVxuZnVuY3Rpb24gRyh4LHkseikge1xuICByZXR1cm4gKHggJiB6KSB8ICh5ICYgKH56KSk7XG59XG5mdW5jdGlvbiBIKHgseSx6KSB7XG4gIHJldHVybiAoeCBeIHkgXiB6KTtcbn1cbmZ1bmN0aW9uIEkoeCx5LHopIHtcbiAgcmV0dXJuICh5IF4gKHggfCAofnopKSk7XG59XG5cbmZ1bmN0aW9uIEZGKGEsYixjLGQseCxzLGFjKSB7XG4gIGEgPSBhZGRVbnNpZ25lZChhLCBhZGRVbnNpZ25lZChhZGRVbnNpZ25lZChGKGIsIGMsIGQpLCB4KSwgYWMpKTtcbiAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBHRyhhLGIsYyxkLHgscyxhYykge1xuICBhID0gYWRkVW5zaWduZWQoYSwgYWRkVW5zaWduZWQoYWRkVW5zaWduZWQoRyhiLCBjLCBkKSwgeCksIGFjKSk7XG4gIHJldHVybiBhZGRVbnNpZ25lZChyb3RhdGVMZWZ0KGEsIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gSEgoYSxiLGMsZCx4LHMsYWMpIHtcbiAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEgoYiwgYywgZCksIHgpLCBhYykpO1xuICByZXR1cm4gYWRkVW5zaWduZWQocm90YXRlTGVmdChhLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIElJKGEsYixjLGQseCxzLGFjKSB7XG4gIGEgPSBhZGRVbnNpZ25lZChhLCBhZGRVbnNpZ25lZChhZGRVbnNpZ25lZChJKGIsIGMsIGQpLCB4KSwgYWMpKTtcbiAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VG9Xb3JkQXJyYXkoc3RyaW5nKSB7XG4gIGxldCBsV29yZENvdW50O1xuICBsZXQgbE1lc3NhZ2VMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICBsZXQgbE51bWJlck9mV29yZHNfdGVtcDE9bE1lc3NhZ2VMZW5ndGggKyA4O1xuICBsZXQgbE51bWJlck9mV29yZHNfdGVtcDI9XG4gICAgKGxOdW1iZXJPZldvcmRzX3RlbXAxLShsTnVtYmVyT2ZXb3Jkc190ZW1wMSAlIDY0KSkvNjQ7XG4gIGxldCBsTnVtYmVyT2ZXb3JkcyA9IChsTnVtYmVyT2ZXb3Jkc190ZW1wMisxKSoxNjtcbiAgbGV0IGxXb3JkQXJyYXk9bmV3IEFycmF5KGxOdW1iZXJPZldvcmRzLTEpO1xuICBsZXQgbEJ5dGVQb3NpdGlvbiA9IDA7XG4gIGxldCBsQnl0ZUNvdW50ID0gMDtcbiAgd2hpbGUgKGxCeXRlQ291bnQgPCBsTWVzc2FnZUxlbmd0aCkge1xuICAgIGxXb3JkQ291bnQgPSAobEJ5dGVDb3VudC0obEJ5dGVDb3VudCAlIDQpKS80O1xuICAgIGxCeXRlUG9zaXRpb24gPSAobEJ5dGVDb3VudCAlIDQpKjg7XG4gICAgbFdvcmRBcnJheVtsV29yZENvdW50XSB8PSBzdHJpbmcuY2hhckNvZGVBdChsQnl0ZUNvdW50KSA8PCBsQnl0ZVBvc2l0aW9uO1xuICAgIGxCeXRlQ291bnQrKztcbiAgfVxuICBsV29yZENvdW50ID0gKGxCeXRlQ291bnQtKGxCeXRlQ291bnQgJSA0KSkvNDtcbiAgbEJ5dGVQb3NpdGlvbiA9IChsQnl0ZUNvdW50ICUgNCkqODtcbiAgbFdvcmRBcnJheVtsV29yZENvdW50XSB8PSAoMHg4MDw8bEJ5dGVQb3NpdGlvbik7XG4gIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMtMl0gPSBsTWVzc2FnZUxlbmd0aDw8MztcbiAgbFdvcmRBcnJheVtsTnVtYmVyT2ZXb3Jkcy0xXSA9IGxNZXNzYWdlTGVuZ3RoPj4+Mjk7XG4gIHJldHVybiBsV29yZEFycmF5O1xufVxuXG4vLyBmdW5jdGlvbiBjb252ZXJ0Qnl0ZUFycmF5dG9Xb3JkQXJyYXkoYXJyKSB7XG4vLyAgIGxldCBsV29yZENvdW50O1xuLy8gICBsZXQgbE1lc3NhZ2VMZW5ndGggPSBhcnIubGVuZ3RoO1xuLy8gICBsZXQgbE51bWJlck9mV29yZHNfdGVtcDEgPSBsTWVzc2FnZUxlbmd0aCArIDg7XG4vLyAgIGxldCBsTnVtYmVyT2ZXb3Jkc190ZW1wMiA9XG4vLyAgICAgKGxOdW1iZXJPZldvcmRzX3RlbXAxIC0gKGxOdW1iZXJPZldvcmRzX3RlbXAxICUgNjQpKSAvIDY0O1xuLy8gICBsZXQgbE51bWJlck9mV29yZHMgPSAobE51bWJlck9mV29yZHNfdGVtcDIgKyAxKSAqIDE2O1xuLy8gICBsZXQgbFdvcmRBcnJheSA9IG5ldyBBcnJheShsTnVtYmVyT2ZXb3JkcyAtIDEpO1xuLy8gICBsZXQgbEJ5dGVQb3NpdGlvbiA9IDA7XG4vLyAgIGxldCBsQnl0ZUNvdW50ID0gMDtcbi8vICAgd2hpbGUgKGxCeXRlQ291bnQgPCBsTWVzc2FnZUxlbmd0aCkge1xuLy8gICAgIGxXb3JkQ291bnQgPSAobEJ5dGVDb3VudCAtIChsQnl0ZUNvdW50ICUgNCkpIC8gNDtcbi8vICAgICBsQnl0ZVBvc2l0aW9uID0gKGxCeXRlQ291bnQgJSA0KSAqIDg7XG4vLyAgICAgbFdvcmRBcnJheVtsV29yZENvdW50XSB8PSBhcnJbbEJ5dGVDb3VudF0gPDwgbEJ5dGVQb3NpdGlvbjtcbi8vICAgICBsQnl0ZUNvdW50Kys7XG4vLyAgIH1cbi8vICAgbFdvcmRDb3VudCA9IChsQnl0ZUNvdW50IC0gKGxCeXRlQ291bnQgJSA0KSkgLyA0O1xuLy8gICBsQnl0ZVBvc2l0aW9uID0gKGxCeXRlQ291bnQgJSA0KSAqIDg7XG4vLyAgIGxXb3JkQXJyYXlbbFdvcmRDb3VudF0gfD0gMHg4MCA8PCBsQnl0ZVBvc2l0aW9uO1xuLy8gICBsV29yZEFycmF5W2xOdW1iZXJPZldvcmRzIC0gMl0gPSBsTWVzc2FnZUxlbmd0aCA8PCAzO1xuLy8gICBsV29yZEFycmF5W2xOdW1iZXJPZldvcmRzIC0gMV0gPSBsTWVzc2FnZUxlbmd0aCA+Pj4gMjk7XG4vLyAgIHJldHVybiBsV29yZEFycmF5O1xuLy8gfVxuXG5mdW5jdGlvbiB3b3JkVG9IZXgobFZhbHVlKSB7XG4gIGxldCB3b3JkVG9IZXhWYWx1ZT0nJztcblxuXG4gIGxldCB3b3JkVG9IZXhWYWx1ZV90ZW1wPScnO1xuXG5cbiAgbGV0IGxCeXRlO1xuICBsZXQgbENvdW50O1xuICBmb3IgKGxDb3VudCA9IDA7IGxDb3VudDw9MzsgbENvdW50KyspIHtcbiAgICBsQnl0ZSA9IChsVmFsdWU+Pj4obENvdW50KjgpKSAmIDI1NTtcbiAgICB3b3JkVG9IZXhWYWx1ZV90ZW1wID0gYDAke2xCeXRlLnRvU3RyaW5nKDE2KX1gO1xuICAgIHdvcmRUb0hleFZhbHVlICs9XG4gICAgICB3b3JkVG9IZXhWYWx1ZV90ZW1wLnN1YnN0cih3b3JkVG9IZXhWYWx1ZV90ZW1wLmxlbmd0aC0yLDIpO1xuICB9XG4gIHJldHVybiB3b3JkVG9IZXhWYWx1ZTtcbn1cblxuLy8gc3RyaW5nIGNhbiBlaXRoZXIgYmUgYSBzdHJpbmcsIG5vZGUuanMgQnVmZmVyLCBhcnJheSAob2YgbnVtYmVycyA8IDI1Nilcbi8vIG9yIGEgdHlwZWQgYXJyYXlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWQ1KHN0cmluZykge1xuICBsZXQgQUE7XG4gIGxldCBCQjtcbiAgbGV0IENDO1xuICBsZXQgREQ7XG4gIGxldCBhO1xuICBsZXQgYjtcbiAgbGV0IGM7XG4gIGxldCBkO1xuICBsZXQgaztcbiAgbGV0IFMxMT03O1xuICBsZXQgUzEyPTEyO1xuICBsZXQgUzEzPTE3O1xuICBsZXQgUzE0PTIyO1xuICBsZXQgUzIxPTU7XG4gIGxldCBTMjI9OTtcbiAgbGV0IFMyMz0xNDtcbiAgbGV0IFMyND0yMDtcbiAgbGV0IFMzMT00O1xuICBsZXQgUzMyPTExO1xuICBsZXQgUzMzPTE2O1xuICBsZXQgUzM0PTIzO1xuICBsZXQgUzQxPTY7XG4gIGxldCBTNDI9MTA7XG4gIGxldCBTNDM9MTU7XG4gIGxldCBTNDQ9MjE7XG5cbiAgbGV0IHg7XG4gIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9IHN0cmluZ1V0ZjhFbmNvZGUoc3RyaW5nKTtcbiAgICB4ID0gY29udmVydFRvV29yZEFycmF5KHN0cmluZyk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGZhbHNlKTsgLy8gZGlzYWJsZSBkdWUgdG8gbm90IHVzZWRcbiAgICAvLyBub2RlLmpzIGJ1ZmZlciBvciBBcnJheVxuICAgIC8vIHggPSBjb252ZXJ0Qnl0ZUFycmF5dG9Xb3JkQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIGEgPSAweDY3NDUyMzAxO1xuICBiID0gMHhFRkNEQUI4OTtcbiAgYyA9IDB4OThCQURDRkU7XG4gIGQgPSAweDEwMzI1NDc2O1xuXG4gIGZvciAoaz0wOyBrPHgubGVuZ3RoOyBrKz0xNikge1xuICAgIEFBPWE7XG4gICAgQkI9YjtcbiAgICBDQz1jO1xuICAgIEREPWQ7XG4gICAgYT1GRihhLGIsYyxkLHhba10sIFMxMSwweEQ3NkFBNDc4KTtcbiAgICBkPUZGKGQsYSxiLGMseFtrKzFdLCBTMTIsMHhFOEM3Qjc1Nik7XG4gICAgYz1GRihjLGQsYSxiLHhbaysyXSwgUzEzLDB4MjQyMDcwREIpO1xuICAgIGI9RkYoYixjLGQsYSx4W2srM10sIFMxNCwweEMxQkRDRUVFKTtcbiAgICBhPUZGKGEsYixjLGQseFtrKzRdLCBTMTEsMHhGNTdDMEZBRik7XG4gICAgZD1GRihkLGEsYixjLHhbays1XSwgUzEyLDB4NDc4N0M2MkEpO1xuICAgIGM9RkYoYyxkLGEsYix4W2srNl0sIFMxMywweEE4MzA0NjEzKTtcbiAgICBiPUZGKGIsYyxkLGEseFtrKzddLCBTMTQsMHhGRDQ2OTUwMSk7XG4gICAgYT1GRihhLGIsYyxkLHhbays4XSwgUzExLDB4Njk4MDk4RDgpO1xuICAgIGQ9RkYoZCxhLGIsYyx4W2srOV0sIFMxMiwweDhCNDRGN0FGKTtcbiAgICBjPUZGKGMsZCxhLGIseFtrKzEwXSxTMTMsMHhGRkZGNUJCMSk7XG4gICAgYj1GRihiLGMsZCxhLHhbaysxMV0sUzE0LDB4ODk1Q0Q3QkUpO1xuICAgIGE9RkYoYSxiLGMsZCx4W2srMTJdLFMxMSwweDZCOTAxMTIyKTtcbiAgICBkPUZGKGQsYSxiLGMseFtrKzEzXSxTMTIsMHhGRDk4NzE5Myk7XG4gICAgYz1GRihjLGQsYSxiLHhbaysxNF0sUzEzLDB4QTY3OTQzOEUpO1xuICAgIGI9RkYoYixjLGQsYSx4W2srMTVdLFMxNCwweDQ5QjQwODIxKTtcbiAgICBhPUdHKGEsYixjLGQseFtrKzFdLCBTMjEsMHhGNjFFMjU2Mik7XG4gICAgZD1HRyhkLGEsYixjLHhbays2XSwgUzIyLDB4QzA0MEIzNDApO1xuICAgIGM9R0coYyxkLGEsYix4W2srMTFdLFMyMywweDI2NUU1QTUxKTtcbiAgICBiPUdHKGIsYyxkLGEseFtrXSwgUzI0LDB4RTlCNkM3QUEpO1xuICAgIGE9R0coYSxiLGMsZCx4W2srNV0sIFMyMSwweEQ2MkYxMDVEKTtcbiAgICBkPUdHKGQsYSxiLGMseFtrKzEwXSxTMjIsMHgyNDQxNDUzKTtcbiAgICBjPUdHKGMsZCxhLGIseFtrKzE1XSxTMjMsMHhEOEExRTY4MSk7XG4gICAgYj1HRyhiLGMsZCxhLHhbays0XSwgUzI0LDB4RTdEM0ZCQzgpO1xuICAgIGE9R0coYSxiLGMsZCx4W2srOV0sIFMyMSwweDIxRTFDREU2KTtcbiAgICBkPUdHKGQsYSxiLGMseFtrKzE0XSxTMjIsMHhDMzM3MDdENik7XG4gICAgYz1HRyhjLGQsYSxiLHhbayszXSwgUzIzLDB4RjRENTBEODcpO1xuICAgIGI9R0coYixjLGQsYSx4W2srOF0sIFMyNCwweDQ1NUExNEVEKTtcbiAgICBhPUdHKGEsYixjLGQseFtrKzEzXSxTMjEsMHhBOUUzRTkwNSk7XG4gICAgZD1HRyhkLGEsYixjLHhbaysyXSwgUzIyLDB4RkNFRkEzRjgpO1xuICAgIGM9R0coYyxkLGEsYix4W2srN10sIFMyMywweDY3NkYwMkQ5KTtcbiAgICBiPUdHKGIsYyxkLGEseFtrKzEyXSxTMjQsMHg4RDJBNEM4QSk7XG4gICAgYT1ISChhLGIsYyxkLHhbays1XSwgUzMxLDB4RkZGQTM5NDIpO1xuICAgIGQ9SEgoZCxhLGIsYyx4W2srOF0sIFMzMiwweDg3NzFGNjgxKTtcbiAgICBjPUhIKGMsZCxhLGIseFtrKzExXSxTMzMsMHg2RDlENjEyMik7XG4gICAgYj1ISChiLGMsZCxhLHhbaysxNF0sUzM0LDB4RkRFNTM4MEMpO1xuICAgIGE9SEgoYSxiLGMsZCx4W2srMV0sIFMzMSwweEE0QkVFQTQ0KTtcbiAgICBkPUhIKGQsYSxiLGMseFtrKzRdLCBTMzIsMHg0QkRFQ0ZBOSk7XG4gICAgYz1ISChjLGQsYSxiLHhbays3XSwgUzMzLDB4RjZCQjRCNjApO1xuICAgIGI9SEgoYixjLGQsYSx4W2srMTBdLFMzNCwweEJFQkZCQzcwKTtcbiAgICBhPUhIKGEsYixjLGQseFtrKzEzXSxTMzEsMHgyODlCN0VDNik7XG4gICAgZD1ISChkLGEsYixjLHhba10sIFMzMiwweEVBQTEyN0ZBKTtcbiAgICBjPUhIKGMsZCxhLGIseFtrKzNdLCBTMzMsMHhENEVGMzA4NSk7XG4gICAgYj1ISChiLGMsZCxhLHhbays2XSwgUzM0LDB4NDg4MUQwNSk7XG4gICAgYT1ISChhLGIsYyxkLHhbays5XSwgUzMxLDB4RDlENEQwMzkpO1xuICAgIGQ9SEgoZCxhLGIsYyx4W2srMTJdLFMzMiwweEU2REI5OUU1KTtcbiAgICBjPUhIKGMsZCxhLGIseFtrKzE1XSxTMzMsMHgxRkEyN0NGOCk7XG4gICAgYj1ISChiLGMsZCxhLHhbaysyXSwgUzM0LDB4QzRBQzU2NjUpO1xuICAgIGE9SUkoYSxiLGMsZCx4W2tdLCBTNDEsMHhGNDI5MjI0NCk7XG4gICAgZD1JSShkLGEsYixjLHhbays3XSwgUzQyLDB4NDMyQUZGOTcpO1xuICAgIGM9SUkoYyxkLGEsYix4W2srMTRdLFM0MywweEFCOTQyM0E3KTtcbiAgICBiPUlJKGIsYyxkLGEseFtrKzVdLCBTNDQsMHhGQzkzQTAzOSk7XG4gICAgYT1JSShhLGIsYyxkLHhbaysxMl0sUzQxLDB4NjU1QjU5QzMpO1xuICAgIGQ9SUkoZCxhLGIsYyx4W2srM10sIFM0MiwweDhGMENDQzkyKTtcbiAgICBjPUlJKGMsZCxhLGIseFtrKzEwXSxTNDMsMHhGRkVGRjQ3RCk7XG4gICAgYj1JSShiLGMsZCxhLHhbaysxXSwgUzQ0LDB4ODU4NDVERDEpO1xuICAgIGE9SUkoYSxiLGMsZCx4W2srOF0sIFM0MSwweDZGQTg3RTRGKTtcbiAgICBkPUlJKGQsYSxiLGMseFtrKzE1XSxTNDIsMHhGRTJDRTZFMCk7XG4gICAgYz1JSShjLGQsYSxiLHhbays2XSwgUzQzLDB4QTMwMTQzMTQpO1xuICAgIGI9SUkoYixjLGQsYSx4W2srMTNdLFM0NCwweDRFMDgxMUExKTtcbiAgICBhPUlJKGEsYixjLGQseFtrKzRdLCBTNDEsMHhGNzUzN0U4Mik7XG4gICAgZD1JSShkLGEsYixjLHhbaysxMV0sUzQyLDB4QkQzQUYyMzUpO1xuICAgIGM9SUkoYyxkLGEsYix4W2srMl0sIFM0MywweDJBRDdEMkJCKTtcbiAgICBiPUlJKGIsYyxkLGEseFtrKzldLCBTNDQsMHhFQjg2RDM5MSk7XG4gICAgYT1hZGRVbnNpZ25lZChhLEFBKTtcbiAgICBiPWFkZFVuc2lnbmVkKGIsQkIpO1xuICAgIGM9YWRkVW5zaWduZWQoYyxDQyk7XG4gICAgZD1hZGRVbnNpZ25lZChkLEREKTtcbiAgfVxuXG4gIGxldCB0ZW1wID0gd29yZFRvSGV4KGEpK3dvcmRUb0hleChiKSt3b3JkVG9IZXgoYykrd29yZFRvSGV4KGQpO1xuICByZXR1cm4gdGVtcC50b0xvd2VyQ2FzZSgpO1xufTtcblxuLyogLy8gVW5jb21tZW50IHRoaXMgYW5kIHJ1biBcIm5vZGUgTUQ1LmpzIGZpbGUuZXh0XCJcbnZhciBGUyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgZGF0YSA9IEZTLnJlYWRGaWxlU3luYyhwcm9jZXNzLmFyZ3ZbMl0pO1xudmFyIG1kNSA9IG1vZHVsZS5leHBvcnRzKGRhdGEpO1xuY29uc29sZS5sb2coJ01ENSA9ICcgKyBtZDUpO1xuLy8gKi9cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBTb21lIGNvZGUgZGVyaXZlZCBmcm9tIGxpYkdMT1YgKEMrKyksIGFsc28gTUlUIExpY2Vuc2VkXG5cbi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiAqL1xuXG4vLyBVcG9uIHJlYWQsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiB0aGVyZSBpcyBhbnkgZGF0YSByZWFkIGVycm9yIChlLmcuIHJlYWQgb2ZmIG9mIGVuZCBvZiBwYWNrZXQpXG5cbi8vIFRPRE86IE1heWJlOiBIYXZlIDIgb2Zmc2V0cywgb25lIGZvciB3cml0aW5nIChkYXRhX2xlbj8pLCBvbmUgZm9yIHJlYWRpbmcgKGJ1Zl9vZmZzPyksXG4vLyAgIHRoZW4gdGhlcmUgc2hvdWxkIGJlIG1hbnkgZmV3ZXIgP3Bhay5yZWFkYWJsZSBicmFuY2hlc1xuLy8gICB0aGF0IHJldHVybiBkaWZmZXJlbnQgdmFsdWVzIHVuZGVyIGRpZmZlcmVudCBjaXJjdW1zdGFuY2VzLCBhbmQgbWF5YmUgZmV3ZXIgLm1ha2VSZWFkYWJsZSgpIGNhbGxzIG5lZWRlZC5cblxuXG4vLyAzIGJpdHMgb2YgZmxhZ3MgcmVzZXJ2ZWQgZm9yIGludGVybmFsIHVzZVxuY29uc3QgUEFDS0VUX0RFQlVHID0gZXhwb3J0cy5QQUNLRVRfREVCVUcgPSAxPDwwO1xuY29uc3QgUEFDS0VUX1JFU0VSVkVEMSA9IGV4cG9ydHMuUEFDS0VUX1JFU0VSVkVEMSA9IDE8PDE7XG5jb25zdCBQQUNLRVRfUkVTRVJWRUQyID0gZXhwb3J0cy5QQUNLRVRfUkVTRVJWRUQyID0gMTw8MjtcbmNvbnN0IEZMQUdfUEFDS0VUX0lOVEVSTkFMID0gUEFDS0VUX0RFQlVHIHwgUEFDS0VUX1JFU0VSVkVEMSB8IFBBQ0tFVF9SRVNFUlZFRDI7XG5cbi8vIEludGVybmFsLCBydW50aW1lLW9ubHkgKG5vdCBzZXJpYWxpemVkKSBmbGFncyA8IDggYml0c1xuY29uc3QgUEFDS0VUX1VOT1dORURfQlVGRkVSID0gMSA8PCA4O1xuXG5leHBvcnRzLmRlZmF1bHRfZmxhZ3MgPSAwO1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgbWF4IH0gPSBNYXRoO1xuY29uc3QgeyBpc0ludGVnZXIsIGxvZzIgfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi91dGlsLmpzJyk7XG4vLyBjb25zdCB7IGlzSW50ZWdlciwgbG9nMiB9ID0gcmVxdWlyZSgnLi4vLi4vYnVpbGQuZGV2L2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IGJhc2U2NEVuY29kZSwgYmFzZTY0RGVjb2RlIH0gPSByZXF1aXJlKCcuLi9jb21tb24vYmFzZTY0LmpzJyk7XG5cbmNvbnN0IEZBTFNZUyA9IFt1bmRlZmluZWQsIG51bGwsIDAsIGZhbHNlLCAnJywgTmFOXTtcbmNvbnN0IFBBS19CVUZfREVGQVVMVF9TSVpFID0gMTAyNDtcblxuY29uc3QgVU5ERVJSVU4gPSAnUEtURVJSX1VOREVSUlVOJztcblxuY29uc3QgUE9PTF9QQUNLRVRTID0gNTAwMDtcbmNvbnN0IFBPT0xfVElNRU9VVCA9IDUwMDA7XG5jb25zdCBQT09MX0JVRl9CWV9TSVpFID0gW1xuICAwLCAvLyAyXjAgOiAxIC0gc2hvdWxkbid0IGJlIGFsbG9jYXRlZCBldmVyP1xuICAxMCwgLy8gMl4xIDogMlxuICAxMCwgLy8gMl4yIDogNFxuICAyMCwgLy8gMl4zIDogOFxuICAyMCwgLy8gMl40IDogMTZcbiAgMjAsIC8vIDJeNSA6IDMyXG4gIDIwLCAvLyAyXjYgOiA2NFxuICAyMCwgLy8gMl43IDogMTI4XG4gIDIwLCAvLyAyXjggOiAyNTZcbiAgMjAsIC8vIDJeOSA6IDUxMlxuICA1MDAwLCAvLyAyXjEwIDogMTAyNCAtIHN0YW5kYXJkIFBhY2tldCBzaXplXG4gIDIwLCAvLyAyXjExIDogMjA0OFxuICAyMCwgLy8gMl4xMiA6IDQwOTZcbiAgMjAsIC8vIDJeMTMgOiA4MTkyXG4gIDIwLCAvLyAyXjE0IDogMTYzODRcbiAgMjAsIC8vIDJeMTUgOiAzMjc2OFxuICAyMCwgLy8gMl4xNiA6IDY1NTM2XG4gIDEwLCAvLyAyXjE3IDogMTMxMDcyXG4gIDEwLCAvLyAyXjE4IDogMjYyMTQ0LFxuXTtcblxubGV0IHBha19wb29sID0gW107XG5sZXQgcGFrX2RlYnVnX3Bvb2wgPSBbXTtcbmxldCBidWZfcG9vbCA9IFBPT0xfQlVGX0JZX1NJWkUubWFwKCgpID0+IFtdKTtcblxuZnVuY3Rpb24gYWxsb2NEYXRhVmlldyhzaXplKSB7XG4gIGxldCBwb29sX2lkeCA9IGxvZzIoc2l6ZSk7XG4gIGFzc2VydChwb29sX2lkeCk7XG4gIGlmIChwb29sX2lkeCA+PSBidWZfcG9vbC5sZW5ndGgpIHtcbiAgICBwb29sX2lkeCA9IDA7XG4gIH1cbiAgaWYgKHBvb2xfaWR4KSB7XG4gICAgc2l6ZSA9IDEgPDwgcG9vbF9pZHg7XG4gICAgaWYgKGJ1Zl9wb29sW3Bvb2xfaWR4XS5sZW5ndGgpIHtcbiAgICAgIC8vIE5vIHJlaW5pdCBoZXJlLCBqdXN0IGEgY29udGFpbmVyXG4gICAgICAvL2NvbnNvbGUubG9nKGBCdWZmZXIgRlJPTVBPT0w6JHtzaXplfS8ke3Bvb2xfaWR4fWApO1xuICAgICAgcmV0dXJuIGJ1Zl9wb29sW3Bvb2xfaWR4XS5wb3AoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRW5hYmxlIHRoaXMgKGFuZCBsb3dlciBwb29sIHNpemUpIHRvIHRyYWNrIGRvd24gYmlnIHBhY2tldHM6XG4gICAgLy8gY29uc29sZS5sb2coYEFsbG9jYXRpbmcgVU5QT09MQUJMRSBidWZmZXIgb2Ygc2l6ZSAke3NpemV9IGZyb20gJHtuZXcgRXJyb3IoKS5zdGFja31gKTtcbiAgfVxuICAvL2NvbnNvbGUubG9nKGBCdWZmZXIgQUxMT0M6JHtzaXplfWApO1xuICBsZXQgdTggPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgbGV0IGR2ID0gbmV3IERhdGFWaWV3KHU4LmJ1ZmZlcik7XG4gIGR2LnU4ID0gdTg7XG4gIGlmIChwb29sX2lkeCkge1xuICAgIGR2LnBhY2tldF9wb29sX2lkeCA9IHBvb2xfaWR4O1xuICB9XG4gIHJldHVybiBkdjtcbn1cblxuZnVuY3Rpb24gd3JhcFU4QXNEYXRhVmlldyh1OCkge1xuICBsZXQgZHYgPSBuZXcgRGF0YVZpZXcodTguYnVmZmVyLCB1OC5ieXRlT2Zmc2V0LCB1OC5ieXRlTGVuZ3RoKTtcbiAgZHYudTggPSB1ODtcbiAgcmV0dXJuIGR2O1xufVxuXG5mdW5jdGlvbiB1dGY4Qnl0ZUxlbmd0aChzdHIpIHtcbiAgbGV0IGxlbiA9IHN0ci5sZW5ndGg7XG4gIGxldCByZXQgPSBsZW47XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW47ICsraWkpIHtcbiAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGlpKTtcbiAgICBpZiAoYyA+IDB4N0YpIHtcbiAgICAgICsrcmV0O1xuICAgICAgaWYgKGMgPiAweDA3RkYpIHtcbiAgICAgICAgKytyZXQ7XG4gICAgICAgIGlmIChjID4gMHhGRkZGKSB7XG4gICAgICAgICAgKytyZXQ7XG4gICAgICAgICAgaWYgKGMgPiAweDFGRkZGRikge1xuICAgICAgICAgICAgKytyZXQ7XG4gICAgICAgICAgICBpZiAoYyA+IDB4M0ZGRkZGRikge1xuICAgICAgICAgICAgICArK3JldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQXNzdW1lcyBidWZmZXIgd2lsbCBmaXQgaXRcbmZ1bmN0aW9uIHV0ZjhXcml0ZUNoYXIoYnVmLCBidWZfb2ZmcywgYykge1xuICBpZiAoYyA8PSAweDdGKSB7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gYztcbiAgfSBlbHNlIGlmIChjIDw9IDB4MDdGRikge1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjID4+IDYpIHwgMHhDMDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyAmIDB4M0YpIHwgMHg4MDtcbiAgfSBlbHNlIGlmIChjIDw9IDB4RkZGRikge1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjID4+IDEyKSB8IDB4RTA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDYpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjICYgMHgzRikgfCAweDgwO1xuICB9IGVsc2UgaWYgKGMgPD0gMHgxRkZGRkYpIHtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyA+PiAxOCkgfCAweEYwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiAxMikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDYpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjICYgMHgzRikgfCAweDgwO1xuICB9IGVsc2UgaWYgKGMgPD0gMHgzRkZGRkZGKSB7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgPj4gMjQpIHwgMHhGODtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gMTgpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiAxMikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDYpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjICYgMHgzRikgfCAweDgwO1xuICB9IGVsc2UgaWYgKGMgPD0gMHg3RkZGRkZGRikge1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjID4+IDMwKSB8IDB4RkM7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDI0KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gMTgpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiAxMikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDYpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjICYgMHgzRikgfCAweDgwO1xuICB9XG4gIHJldHVybiBidWZfb2Zmcztcbn1cblxuZnVuY3Rpb24gcG9vbEJ1Zihkdikge1xuICAvLyBpZiBpdCdzIHBvb2xhYmxlIChub3QgcGFydCBvZiBhbm90aGVyIEJ1ZmZlciksIHBvb2wgaXQhXG4gIGFzc2VydChkdik7XG4gIGFzc2VydChkdi51OCk7XG4gIGxldCBwb29sX2lkeCA9IGR2LnBhY2tldF9wb29sX2lkeDtcbiAgaWYgKHBvb2xfaWR4KSB7XG4gICAgbGV0IGFyciA9IGJ1Zl9wb29sW3Bvb2xfaWR4XTtcbiAgICBpZiAoYXJyLmxlbmd0aCA8IFBPT0xfQlVGX0JZX1NJWkVbcG9vbF9pZHhdKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKGBCdWZmZXIgVE9QT09MOiR7ZHYuYnl0ZUxlbmd0aH0vJHtwb29sX2lkeH1gKTtcbiAgICAgIGFyci5wdXNoKGR2KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS5sb2coYEJ1ZmZlciBVTlBPT0xBQkxFOiR7ZHYuYnl0ZUxlbmd0aH1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFja2V0QnVmUG9vbEFsbG9jKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jRGF0YVZpZXcoc2l6ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFja2V0QnVmUG9vbEZyZWUoZHYpIHtcbiAgcG9vbEJ1Zihkdik7XG59XG5cbmZ1bmN0aW9uIFBhY2tldChmbGFncywgaW5pdF9zaXplLCBwYWtfZGVidWcpIHtcbiAgdGhpcy5yZWluaXQoZmxhZ3MsIGluaXRfc2l6ZSwgcGFrX2RlYnVnKTtcbn1cblBhY2tldC5wcm90b3R5cGUucmVpbml0ID0gZnVuY3Rpb24gKGZsYWdzLCBpbml0X3NpemUsIHBha19kZWJ1Zykge1xuICB0aGlzLmZsYWdzID0gZmxhZ3MgfHwgMDtcbiAgdGhpcy5oYXNfZmxhZ3MgPSBmYWxzZTtcbiAgdGhpcy5idWYgPSBudWxsO1xuICB0aGlzLmJ1Zl9sZW4gPSAwO1xuICB0aGlzLmJ1Zl9vZmZzID0gMDtcbiAgdGhpcy5idWZzID0gbnVsbDtcbiAgdGhpcy5ic2l6ZXMgPSBudWxsO1xuICB0aGlzLnJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMucmVmX2NvdW50ID0gMTtcbiAgdGhpcy5wYWtfZGVidWcgPSBwYWtfZGVidWc7XG4gIGlmIChpbml0X3NpemUpIHtcbiAgICB0aGlzLmZpdChpbml0X3NpemUsIHRydWUpO1xuICAgIHRoaXMuYnVmX2xlbiA9IGluaXRfc2l6ZTtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQodGhpcy5yZWZfY291bnQpOyAvLyBtdXN0IG5vdCBhbHJlYWR5IGJlIHBvb2xlZCFcbiAgKyt0aGlzLnJlZl9jb3VudDtcbn07XG5QYWNrZXQucHJvdG90eXBlLnBvb2wgPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzLnJlZl9jb3VudCk7XG4gIGlmICgtLXRoaXMucmVmX2NvdW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIERvIG5vdCBjbGVhciBvbiBwb29sKCksIGNhbGxlcnMgKHJlYWRJbnQoKSkgbWF5IHN0aWxsIG1vbWVudGFyaWx5IHJlZmVyZW5jZSAuYnVmLCBldGNcbiAgaWYgKHRoaXMuZmxhZ3MgJiBQQUNLRVRfVU5PV05FRF9CVUZGRVIpIHtcbiAgICAvLyBkb2luZyBub3RoaW5nIHdpdGggYnVmZmVycywgc3RpbGwgcG9vbGluZyB0aGUgcGFja2V0XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuYnVmKSB7XG4gICAgICBwb29sQnVmKHRoaXMuYnVmKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVmcykge1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuYnVmcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgcG9vbEJ1Zih0aGlzLmJ1ZnNbaWldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHBha19wb29sLmxlbmd0aCA8IFBPT0xfUEFDS0VUUykge1xuICAgIHBha19wb29sLnB1c2godGhpcyk7XG4gIH1cbiAgaWYgKHRoaXMucGFrX2RlYnVnKSB7XG4gICAgdGhpcy5wYWtfZGVidWcucG9vbERlYnVnKCk7XG4gIH1cbn07XG5cblBhY2tldC5wcm90b3R5cGUudG90YWxTaXplID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcmV0ID0gMDtcbiAgaWYgKHRoaXMucmVhZGFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5idWZfbGVuO1xuICB9XG4gIGlmICh0aGlzLmJzaXplcykge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmJzaXplcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHJldCArPSB0aGlzLmJzaXplc1tpaV07XG4gICAgfVxuICB9XG4gIHJldCArPSB0aGlzLmJ1Zl9vZmZzO1xuICByZXR1cm4gcmV0O1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5zZXRSZWFkYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMuYnVmKTtcbiAgYXNzZXJ0KCF0aGlzLmJ1ZnMpO1xuICBhc3NlcnQoIXRoaXMucmVhZGFibGUpO1xuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUubWFrZVJlYWRhYmxlID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQodGhpcy5idWYpO1xuICBhc3NlcnQoIXRoaXMucmVhZGFibGUpOyAvLyBvdGhlcndpc2UganVzdCByZXNldCBvZmZzZXQ/IG9yIGRvIG5vdGhpbmc/XG4gIGxldCB0b3RhbCA9IHRoaXMudG90YWxTaXplKCk7IC8vIGJlZm9yZSB0aGlzLnJlYWRhYmxlID0gdHJ1ZVxuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcbiAgaWYgKCF0aGlzLmJ1ZnMpIHtcbiAgICB0aGlzLmJ1Zl9sZW4gPSB0b3RhbDtcbiAgICB0aGlzLmJ1Zl9vZmZzID0gMDtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGJ1ZiA9IGFsbG9jRGF0YVZpZXcodG90YWwpO1xuICBsZXQgdTggPSBidWYudTg7XG4gIGxldCBvZmZzID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuYnVmcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgYnNpemUgPSB0aGlzLmJzaXplc1tpaV07XG4gICAgbGV0IGR2ID0gdGhpcy5idWZzW2lpXTtcbiAgICBpZiAob2ZmcyArIGR2LnU4Lmxlbmd0aCA+IHRvdGFsKSB7XG4gICAgICAvLyB1bnVzZWQgcG9ydGlvbiB3b3VsZCBvdmVycnVuXG4gICAgICBhc3NlcnQuZXF1YWwoZHYuYnl0ZU9mZnNldCwgMCk7XG4gICAgICB1OC5zZXQobmV3IFVpbnQ4QXJyYXkoZHYuYnVmZmVyLCAwLCBic2l6ZSksIG9mZnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1OC5zZXQoZHYudTgsIG9mZnMpO1xuICAgIH1cbiAgICBvZmZzICs9IGJzaXplO1xuICAgIHBvb2xCdWYoZHYpO1xuICB9XG4gIGFzc2VydC5lcXVhbCh0aGlzLmJ1Zi5ieXRlT2Zmc2V0LCAwKTsgLy8gV291bGQgaGFuZGxlIGl0LCBidXQgc2hvdWxkIG5ldmVyIGhhcHBlbiBoZXJlLCB0aGVzZSBhcmUgb3VyIHBvb2xlZCBidWZmZXJzP1xuICB1OC5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWYuYnVmZmVyLCB0aGlzLmJ1Zi5ieXRlT2Zmc2V0LCB0aGlzLmJ1Zl9vZmZzKSwgb2Zmcyk7XG4gIHBvb2xCdWYodGhpcy5idWYpO1xuICBhc3NlcnQuZXF1YWwob2ZmcyArIHRoaXMuYnVmX29mZnMsIHRvdGFsKTtcbiAgdGhpcy5idWZzID0gdGhpcy5ic2l6ZXMgPSBudWxsO1xuICB0aGlzLmJ1ZiA9IGJ1ZjtcbiAgdGhpcy5idWZfb2ZmcyA9IDA7XG4gIHRoaXMuYnVmX2xlbiA9IHRvdGFsOyAvLyBidWZmZXIgaXMgYWN0dWFsbHkgYnVmLmJ1ZmZlci5ieXRlTGVuZ3RoLCBidXQgd2UgY2FuJ3QgcmVhZCBwYXN0IGB0b3RhbGBcbn07XG5cblBhY2tldC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB7IGJ1ZiwgYnVmX29mZnMgfSA9IHRoaXM7XG4gIGlmICghdGhpcy5idWZzKSB7XG4gICAgdGhpcy5idWZzID0gW2J1Zl07XG4gICAgdGhpcy5ic2l6ZXMgPSBbYnVmX29mZnNdO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYnVmcy5wdXNoKGJ1Zik7XG4gICAgdGhpcy5ic2l6ZXMucHVzaChidWZfb2Zmcyk7XG4gIH1cbiAgdGhpcy5idWYgPSBudWxsO1xuICB0aGlzLmJ1Zl9sZW4gPSAwO1xuICB0aGlzLmJ1Zl9vZmZzID0gMDtcbn07XG5QYWNrZXQucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChleHRyYV9ieXRlcywgbm9fYWR2YW5jZSkge1xuICBsZXQgeyBidWYsIGJ1Zl9sZW4sIGJ1Zl9vZmZzIH0gPSB0aGlzO1xuICBsZXQgbmV3X29mZnMgPSBidWZfb2ZmcyArIGV4dHJhX2J5dGVzO1xuICBpZiAobmV3X29mZnMgPD0gYnVmX2xlbikge1xuICAgIGlmICghbm9fYWR2YW5jZSkge1xuICAgICAgdGhpcy5idWZfb2ZmcyA9IG5ld19vZmZzO1xuICAgIH1cbiAgICByZXR1cm4gYnVmX29mZnM7XG4gIH1cbiAgYXNzZXJ0KCF0aGlzLnJlYWRhYmxlKTsgLy8gU2hvdWxkbid0IGhhcHBlbiBvbiBjb25jYXRlbmF0ZWQgYnVmZmVyc1xuICBpZiAoYnVmKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9XG4gIHRoaXMuYnVmX2xlbiA9IGJ1Zl9sZW4gPSBtYXgoUEFLX0JVRl9ERUZBVUxUX1NJWkUsIGV4dHJhX2J5dGVzKTtcbiAgdGhpcy5idWYgPSBhbGxvY0RhdGFWaWV3KGJ1Zl9sZW4pO1xuICB0aGlzLmJ1Zl9vZmZzID0gbm9fYWR2YW5jZSA/IDAgOiBleHRyYV9ieXRlcztcbiAgcmV0dXJuIDA7XG59O1xuUGFja2V0LnByb3RvdHlwZS5hZHZhbmNlID0gZnVuY3Rpb24gKGJ5dGVzKSB7XG4gIGxldCBvZmZzID0gdGhpcy5idWZfb2ZmcztcbiAgbGV0IG5ld19vZmZzID0gb2ZmcyArIGJ5dGVzO1xuICB0aGlzLmJ1Zl9vZmZzID0gbmV3X29mZnM7XG4gIGlmIChuZXdfb2ZmcyA+IHRoaXMuYnVmX2xlbikge1xuICAgIHRocm93IG5ldyBFcnJvcihVTkRFUlJVTik7XG4gIH1cbiAgaWYgKG5ld19vZmZzID09PSB0aGlzLmJ1Zl9sZW4pIHtcbiAgICB0aGlzLnBvb2woKTtcbiAgfVxuICByZXR1cm4gb2Zmcztcbn07XG5QYWNrZXQucHJvdG90eXBlLmVuZGVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5idWZfb2ZmcyA9PT0gdGhpcy5idWZfbGVuO1xufTtcblxuLy8gbG93LWxldmVsIHdyaXRlL3JlYWQgZnVuY3Rpb25zXG5QYWNrZXQucHJvdG90eXBlLndyaXRlVTggPSBmdW5jdGlvbiAodikge1xuICBhc3NlcnQodiA+PSAwICYmIHYgPCAyNTYpO1xuICBsZXQgb2ZmcyA9IHRoaXMuZml0KDEpO1xuICB0aGlzLmJ1Zi51OFtvZmZzXSA9IHY7XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWFkVTggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmJ1Zi51OFt0aGlzLmFkdmFuY2UoMSldO1xufTtcbi8vIFBhY2tlZCBpbnQsIGZpcnN0IGJ5dGU6XG4vLyAwLTI0NyBieXRlXG4vLyAyNDggcG9zaXRpdmUgMTYtYml0XG4vLyAyNDkgbmVnYXRpdmUgMTYtYml0XG4vLyAyNTAgcG9zaXRpdmUgMzItYml0XG4vLyAyNTEgbmVnYXRpdmUgMzItYml0XG4vLyAyNTIgcG9zaXRpdmUgNjQtYml0XG4vLyAyNTMgbmVnYXRpdmUgNjQtYml0XG4vLyAyNTQgdW51c2VkXG4vLyAyNTUgbmVnYXRpdmUgYnl0ZVxuUGFja2V0LnByb3RvdHlwZS53cml0ZUludCA9IGZ1bmN0aW9uICh2KSB7XG4gIGFzc2VydChpc0ludGVnZXIodikpO1xuICBsZXQgb2ZmcyA9IHRoaXMuZml0KDksIHRydWUpOyAvLyA5IGlzIG1heCBzaXplIG9mIGEgcGFja2VkIGludFxuICBsZXQgYnVmID0gdGhpcy5idWY7XG4gIGxldCBuZWcgPSAodiA8IDApID8gMSA6IDA7XG4gIGlmIChuZWcpIHtcbiAgICB2ID0gLXY7XG4gIH1cbiAgaWYgKHYgPCAyNDgpIHsgLy8gfHwgbmVnICYmIHYgPCAyNTYgd291bGQgYWxzbyBkZWNvZGUgcmlnaHRcbiAgICBpZiAobmVnKSB7XG4gICAgICBidWYudThbb2ZmcysrXSA9IDI1NTtcbiAgICB9XG4gICAgYnVmLnU4W29mZnMrK10gPSB2O1xuICB9IGVsc2Uge1xuICAgIGlmICh2IDwgNjU1MzYpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gMjQ4ICsgbmVnO1xuICAgICAgYnVmLnNldFVpbnQxNihvZmZzLCB2LCB0cnVlKTtcbiAgICAgIG9mZnMgKz0gMjtcbiAgICB9IGVsc2UgaWYgKHYgPCA0Mjk0OTY3Mjk2KSB7XG4gICAgICBidWYudThbb2ZmcysrXSA9IDI1MCArIG5lZztcbiAgICAgIGJ1Zi5zZXRVaW50MzIob2ZmcywgdiwgdHJ1ZSk7XG4gICAgICBvZmZzICs9IDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gMjUyICsgbmVnO1xuICAgICAgbGV0IGxvd19iaXRzID0gdiA+Pj4gMDtcbiAgICAgIGJ1Zi5zZXRVaW50MzIob2ZmcywgbG93X2JpdHMsIHRydWUpO1xuICAgICAgb2ZmcyArPSA0O1xuICAgICAgYnVmLnNldFVpbnQzMihvZmZzLCAodiAtIGxvd19iaXRzKSAvIDQyOTQ5NjcyOTYsIHRydWUpO1xuICAgICAgb2ZmcyArPSA0O1xuICAgIH1cbiAgfVxuICB0aGlzLmJ1Zl9vZmZzID0gb2Zmcztcbn07XG5QYWNrZXQucHJvdG90eXBlLnplcm9JbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIE92ZXJ3cml0ZSBhbiBleGlzdGluZyBpbnQgd2l0aCBhIHplcm8sIGtlZXBpbmcgdGhlIHNhbWUgcGFja2VkIHNpemVcbiAgbGV0IGIxID0gdGhpcy5idWYudThbdGhpcy5idWZfb2Zmc107XG4gIGlmIChiMSA8IDI0OCkge1xuICAgIHRoaXMuYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBPdGhlcndpc2UsIGxlYXZlIGhlYWRlciBiaXRcbiAgdGhpcy5idWZfb2ZmcysrO1xuICBsZXQgemVyb2VzID0gMTtcbiAgc3dpdGNoIChiMSkge1xuICAgIGNhc2UgMjUzOlxuICAgIGNhc2UgMjUyOiAvLyA4XG4gICAgICB6ZXJvZXMgKz0gNDtcbiAgICBjYXNlIDI1MTogIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICBjYXNlIDI1MDogLy8gNFxuICAgICAgemVyb2VzICs9IDI7XG4gICAgY2FzZSAyNDk6ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgY2FzZSAyNDg6IC8vIDJcbiAgICAgIHplcm9lcysrO1xuICAgIGNhc2UgMjU1OiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgLy8gMVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEtURVJSX1BBQ0tFRF9JTlQnKTtcbiAgfVxuICB3aGlsZSAoemVyb2VzKSB7XG4gICAgLS16ZXJvZXM7XG4gICAgdGhpcy5idWYudThbdGhpcy5idWZfb2ZmcysrXSA9IDA7XG4gIH1cbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRJbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBiMSA9IHRoaXMuYnVmLnU4W3RoaXMuYWR2YW5jZSgxKV07XG4gIGlmIChiMSA8IDI0OCkge1xuICAgIHJldHVybiBiMTtcbiAgfVxuICBsZXQgc2lnbiA9IDE7XG4gIHN3aXRjaCAoYjEpIHtcbiAgICBjYXNlIDI0OTpcbiAgICAgIHNpZ24gPSAtMTtcbiAgICBjYXNlIDI0ODogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgcmV0dXJuIHNpZ24gKiB0aGlzLmJ1Zi5nZXRVaW50MTYodGhpcy5hZHZhbmNlKDIpLCB0cnVlKTtcbiAgICBjYXNlIDI1MTpcbiAgICAgIHNpZ24gPSAtMTtcbiAgICBjYXNlIDI1MDogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgcmV0dXJuIHNpZ24gKiB0aGlzLmJ1Zi5nZXRVaW50MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbiAgICBjYXNlIDI1MzpcbiAgICAgIHNpZ24gPSAtMTtcbiAgICBjYXNlIDI1MjogeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICBsZXQgbG93X2JpdHMgPSB0aGlzLmJ1Zi5nZXRVaW50MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbiAgICAgIGxldCBoaWdoX2JpdHMgPSB0aGlzLmJ1Zi5nZXRVaW50MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbiAgICAgIHJldHVybiBzaWduICogKGhpZ2hfYml0cyAqIDQyOTQ5NjcyOTYgKyBsb3dfYml0cyk7XG4gICAgfVxuICAgIGNhc2UgMjU1OlxuICAgICAgcmV0dXJuIC10aGlzLmJ1Zi51OFt0aGlzLmFkdmFuY2UoMSldO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BLVEVSUl9QQUNLRURfSU5UJyk7XG4gIH1cbn07XG5QYWNrZXQucHJvdG90eXBlLndyaXRlRmxvYXQgPSBmdW5jdGlvbiAodikge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHYsICdudW1iZXInKTtcbiAgaWYgKCF2KSB7XG4gICAgdGhpcy5idWYudThbdGhpcy5maXQoMSldID0gMDtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG9mZnMgPSB0aGlzLmZpdCg1LCB0cnVlKTtcbiAgdGhpcy5idWYuc2V0RmxvYXQzMihvZmZzLCB2LCB0cnVlKTtcbiAgaWYgKHRoaXMuYnVmLnU4W29mZnNdIDw9IDEpIHsgLy8gZXNjYXBlIGEgMCBvciAxIGluIHRoZSBmaXJzdCBieXRlXG4gICAgdGhpcy5idWYudThbb2ZmcysrXSA9IDE7XG4gICAgdGhpcy5idWYuc2V0RmxvYXQzMihvZmZzLCB2LCB0cnVlKTtcbiAgfVxuICB0aGlzLmJ1Zl9vZmZzID0gb2ZmcyArIDQ7XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWFkRmxvYXQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvZmZzID0gdGhpcy5hZHZhbmNlKDEpO1xuICBsZXQgYjEgPSB0aGlzLmJ1Zi51OFtvZmZzXTtcbiAgaWYgKCFiMSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChiMSA9PT0gMSkge1xuICAgIHJldHVybiB0aGlzLmJ1Zi5nZXRGbG9hdDMyKHRoaXMuYWR2YW5jZSg0KSwgdHJ1ZSk7XG4gIH1cbiAgdGhpcy5hZHZhbmNlKDMpO1xuICByZXR1cm4gdGhpcy5idWYuZ2V0RmxvYXQzMihvZmZzLCB0cnVlKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLndyaXRlVTMyID0gZnVuY3Rpb24gKHYpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiB2LCAnbnVtYmVyJyk7XG4gIHRoaXMuYnVmLnNldFVpbnQzMih0aGlzLmZpdCg0KSwgdiwgdHJ1ZSk7XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWFkVTMyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5idWYuZ2V0VWludDMyKHRoaXMuYWR2YW5jZSg0KSwgdHJ1ZSk7XG59O1xuUGFja2V0LnByb3RvdHlwZS53cml0ZVN0cmluZyA9IGZ1bmN0aW9uICh2KSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgdiwgJ3N0cmluZycpOyAvLyBDb3VsZCBtYXliZSBkbyBhIHRvU3RyaW5nKCkgaGVyZSBpZiBub3RcbiAgbGV0IGJ5dGVfbGVuZ3RoID0gdXRmOEJ5dGVMZW5ndGgodik7XG4gIHRoaXMud3JpdGVJbnQoYnl0ZV9sZW5ndGgpOyAvLyBKdXN0IDEgYnl0ZSBmb3Igc21hbGwgc3RyaW5nc1xuICBpZiAoIWJ5dGVfbGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBvZmZzID0gdGhpcy5maXQoYnl0ZV9sZW5ndGgpO1xuICBsZXQgYnVmID0gdGhpcy5idWY7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB2Lmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBjID0gdi5jaGFyQ29kZUF0KGlpKTtcbiAgICBpZiAoYyA8PSAweDdGKSB7XG4gICAgICBidWYudThbb2ZmcysrXSA9IGM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnMgPSB1dGY4V3JpdGVDaGFyKGJ1Ziwgb2ZmcywgYyk7XG4gICAgfVxuICB9XG59O1xuLy8gT25seSBjYWxsZWQgb24gbXVsdGktYnl0ZSBjaGFyYWN0ZXJzOyBTdXBwbGllZCB0aGUgZmlyc3QgYnl0ZSBmb3IgZWZmaWNpZW5jeVxuUGFja2V0LnByb3RvdHlwZS51dGY4UmVhZENoYXIgPSBmdW5jdGlvbiAoYykge1xuICBsZXQgYnVmID0gdGhpcy5idWY7XG4gIGlmIChjID49IDB4QzAgJiYgYyA8IDB4RTApIHtcbiAgICByZXR1cm4gKChjICYgMHgxRikgPDwgNikgfFxuICAgICAgKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRik7XG4gIH0gZWxzZSBpZiAoYyA+PSAweEUwICYmIGMgPCAweEYwKSB7XG4gICAgcmV0dXJuICgoYyAmIDB4MEYpIDw8IDEyKSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgNikgfFxuICAgICAgKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRik7XG4gIH0gZWxzZSBpZiAoYyA+PSAweEYwICYmIGMgPCAweEY4KSB7XG4gICAgcmV0dXJuICgoYyAmIDB4MEYpIDw8IDE4KSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgMTIpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIGlmIChjID49IDB4RjggJiYgYyA8IDB4RkMpIHtcbiAgICByZXR1cm4gKChjICYgMHgwRikgPDwgMjQpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCAxOCkgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDEyKSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgNikgfFxuICAgICAgKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRik7XG4gIH0gZWxzZSB7IC8vaWYgKGMgPj0gMHhGQykge1xuICAgIHJldHVybiAoKGMgJiAweDBGKSA8PCAzMCkgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDI0KSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgMTgpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCAxMikgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDYpIHxcbiAgICAgIChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpO1xuICB9XG59O1xuXG5sZXQgc3RyaW5nX2Fzc2VtYmx5ID0gW107XG5QYWNrZXQucHJvdG90eXBlLnJlYWRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBieXRlX2xlbmd0aCA9IHRoaXMucmVhZEludCgpO1xuICBpZiAoIWJ5dGVfbGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGlmICh0aGlzLmJ1Zl9vZmZzICsgYnl0ZV9sZW5ndGggPiB0aGlzLmJ1Zl9sZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoVU5ERVJSVU4pO1xuICB9XG5cbiAgbGV0IHsgYnVmIH0gPSB0aGlzO1xuICBsZXQgZW5kX29mZnNldCA9IHRoaXMuYnVmX29mZnMgKyBieXRlX2xlbmd0aDtcbiAgbGV0IHJldDtcbiAgaWYgKGJ5dGVfbGVuZ3RoID4gODE5Mikge1xuICAgIHJldCA9ICcnO1xuICAgIHdoaWxlICh0aGlzLmJ1Zl9vZmZzIDwgZW5kX29mZnNldCkge1xuICAgICAgbGV0IGMgPSBidWYudThbdGhpcy5idWZfb2ZmcysrXTtcbiAgICAgIGlmIChjID4gMHg3Rikge1xuICAgICAgICBjID0gdGhpcy51dGY4UmVhZENoYXIoYyk7XG4gICAgICB9XG4gICAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3RyaW5nX2Fzc2VtYmx5Lmxlbmd0aCA9IGJ5dGVfbGVuZ3RoO1xuICAgIGxldCBpaSA9IDA7XG4gICAgd2hpbGUgKHRoaXMuYnVmX29mZnMgPCBlbmRfb2Zmc2V0KSB7XG4gICAgICBsZXQgYyA9IGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdO1xuICAgICAgaWYgKGMgPiAweDdGKSB7XG4gICAgICAgIGMgPSB0aGlzLnV0ZjhSZWFkQ2hhcihjKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZ19hc3NlbWJseVtpaSsrXSA9IGM7XG4gICAgfVxuICAgIGlmIChzdHJpbmdfYXNzZW1ibHkubGVuZ3RoICE9PSBpaSkge1xuICAgICAgLy8gdHJ1bmNhdGUgaWYgbXVsdGktYnl0ZSBVVEY4IHByb2R1Y2VkIHNpbmdsZSBjaGFyYWN0ZXJzXG4gICAgICBzdHJpbmdfYXNzZW1ibHkubGVuZ3RoID0gaWk7XG4gICAgfVxuICAgIHJldCA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkodW5kZWZpbmVkLCBzdHJpbmdfYXNzZW1ibHkpO1xuICB9XG4gIGlmICh0aGlzLmJ1Zl9vZmZzID09PSB0aGlzLmJ1Zl9sZW4pIHtcbiAgICB0aGlzLnBvb2woKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcbi8vIE11Y2ggbW9yZSBlZmZpY2llbnQgdGhhbiB3cml0ZVN0cmluZyBpZiB0aGUgaW5wdXQgaXMga25vd24gdG8gYmUgQU5TSS1pc2ggKGFsbCBjaGFyYWN0ZXJzIDw9IDI1NSlcblBhY2tldC5wcm90b3R5cGUud3JpdGVBbnNpU3RyaW5nID0gZnVuY3Rpb24gKHYpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiB2LCAnc3RyaW5nJyk7IC8vIENvdWxkIG1heWJlIGRvIGEgdG9TdHJpbmcoKSBoZXJlIGlmIG5vdFxuICBsZXQgYnl0ZV9sZW5ndGggPSB2Lmxlbmd0aDtcbiAgdGhpcy53cml0ZUludChieXRlX2xlbmd0aCk7XG4gIGxldCBvZmZzID0gdGhpcy5maXQoYnl0ZV9sZW5ndGgpO1xuICBsZXQgeyBidWYgfSA9IHRoaXM7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBieXRlX2xlbmd0aDsgKytpaSkge1xuICAgIGJ1Zi51OFtvZmZzKytdID0gdi5jaGFyQ29kZUF0KGlpKTtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUucmVhZEFuc2lTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBsZW4gPSB0aGlzLnJlYWRJbnQoKTtcbiAgaWYgKCFsZW4pIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgbGV0IG9mZnMgPSB0aGlzLmFkdmFuY2UobGVuKTtcbiAgbGV0IHsgYnVmIH0gPSB0aGlzO1xuICBzdHJpbmdfYXNzZW1ibHkubGVuZ3RoID0gbGVuO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuOyArK2lpKSB7XG4gICAgc3RyaW5nX2Fzc2VtYmx5W2lpXSA9IGJ1Zi51OFtvZmZzKytdO1xuICB9XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KHVuZGVmaW5lZCwgc3RyaW5nX2Fzc2VtYmx5KTtcbn07XG5cbi8vIGhpZ2gtbGV2ZWwgd3JpdGUvcmVhZCBmdW5jdGlvbnNcblBhY2tldC5wcm90b3R5cGUud3JpdGVKU09OID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCF2KSB7XG4gICAgbGV0IGlkeCA9IEZBTFNZUy5pbmRleE9mKHYpO1xuICAgIGFzc2VydChpZHggIT09IC0xKTtcbiAgICB0aGlzLndyaXRlVTgoaWR4ICsgMSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMud3JpdGVVOCgwKTtcbiAgdGhpcy53cml0ZVN0cmluZyhKU09OLnN0cmluZ2lmeSh2KSk7XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWFkSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGJ5dGUgPSB0aGlzLnJlYWRVOCgpO1xuICBpZiAoYnl0ZSkge1xuICAgIGlmIChieXRlIC0gMSA+PSBGQUxTWVMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BLVEVSUl9KU09OX0hFQURFUicpO1xuICAgIH1cbiAgICByZXR1cm4gRkFMU1lTW2J5dGUgLSAxXTtcbiAgfVxuICBsZXQgc3RyID0gdGhpcy5yZWFkU3RyaW5nKCk7XG4gIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG59O1xuLy8gVWludDhBcnJheSBvciBCdWZmZXIgb2JqZWN0P1xuUGFja2V0LnByb3RvdHlwZS53cml0ZUJ1ZmZlciA9IGZ1bmN0aW9uICh2KSB7XG4gIHRoaXMud3JpdGVJbnQodi5sZW5ndGgpO1xuICBpZiAodi5sZW5ndGgpIHtcbiAgICBsZXQgb2ZmcyA9IHRoaXMuZml0KHYubGVuZ3RoKTtcbiAgICB0aGlzLmJ1Zi51OC5zZXQodiwgb2Zmcyk7XG4gIH1cbn07XG5jb25zdCBudWxsX2J1ZiA9IG5ldyBVaW50OEFycmF5KDApO1xuUGFja2V0LnByb3RvdHlwZS5yZWFkQnVmZmVyID0gZnVuY3Rpb24gKGRvX2NvcHkpIHtcbiAgbGV0IGxlbiA9IHRoaXMucmVhZEludCgpO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiBudWxsX2J1ZjtcbiAgfVxuICBsZXQgb2ZmcyA9IHRoaXMuYWR2YW5jZShsZW4pO1xuICBpZiAoZG9fY29weSkge1xuICAgIHJldHVybiB0aGlzLmJ1Zi51OC5zbGljZShvZmZzLCBvZmZzICsgbGVuKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgeyBidWYgfSA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0ICsgb2ZmcywgbGVuKTtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUud3JpdGVCb29sID0gZnVuY3Rpb24gKHYpIHtcbiAgdGhpcy53cml0ZVU4KHY/MTowKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRCb29sID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRVOCgpKTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHBhaykge1xuICBhc3NlcnQuZXF1YWwodGhpcy5mbGFncyAmIEZMQUdfUEFDS0VUX0lOVEVSTkFMLCBwYWsuZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTCk7XG4gIGlmIChwYWsuYnVmcykge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwYWsuYnVmcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBidWYgPSBwYWsuYnVmc1tpaV07XG4gICAgICBsZXQgYnNpemUgPSBwYWsuYnNpemVzW2lpXTtcbiAgICAgIGxldCBvZmZzID0gdGhpcy5maXQoYnNpemUpO1xuICAgICAgaWYgKGJzaXplICE9PSBidWYuYnl0ZUxlbmd0aCkge1xuICAgICAgICB0aGlzLmJ1Zi51OC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIGJzaXplKSwgb2Zmcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJ1Zi51OC5zZXQoYnVmLnU4LCBvZmZzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHBhay5idWYpIHtcbiAgICBsZXQgYnVmID0gcGFrLmJ1ZjtcbiAgICBsZXQgYnNpemUgPSBwYWsucmVhZGFibGUgPyBwYWsuYnVmX2xlbiA6IHBhay5idWZfb2ZmcztcbiAgICBsZXQgb2ZmcyA9IHRoaXMuZml0KGJzaXplKTtcbiAgICBpZiAoYnNpemUgIT09IGJ1Zi5ieXRlTGVuZ3RoKSB7XG4gICAgICB0aGlzLmJ1Zi51OC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIGJzaXplKSwgb2Zmcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnVmLnU4LnNldChidWYudTgsIG9mZnMpO1xuICAgIH1cbiAgfVxufTtcblxuUGFja2V0LnByb3RvdHlwZS5hcHBlbmRSZW1haW5pbmcgPSBmdW5jdGlvbiAocGFrKSB7XG4gIGFzc2VydC5lcXVhbCh0aGlzLmZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUwsIHBhay5mbGFncyAmIEZMQUdfUEFDS0VUX0lOVEVSTkFMKTtcbiAgYXNzZXJ0KHBhay5yZWFkYWJsZSk7XG4gIGFzc2VydCghcGFrLmJ1ZnMpO1xuICBhc3NlcnQocGFrLmJ1Zik7XG4gIGFzc2VydChwYWsuYnVmX29mZnMgPD0gcGFrLmJ1Zl9sZW4pO1xuICBsZXQgYnNpemUgPSBwYWsuYnVmX2xlbiAtIHBhay5idWZfb2ZmcztcbiAgaWYgKGJzaXplKSB7XG4gICAgbGV0IG9mZnMgPSB0aGlzLmZpdChic2l6ZSk7XG4gICAgdGhpcy5idWYudTguc2V0KG5ldyBVaW50OEFycmF5KHBhay5idWYuYnVmZmVyLCBwYWsuYnVmLmJ5dGVPZmZzZXQgKyBwYWsuYnVmX29mZnMsIGJzaXplKSwgb2Zmcyk7XG4gIH1cbiAgLy8gZXZlcnl0aGluZyBjb25zdW1lZCwgcG9vbCBpdFxuICBwYWsucG9vbCgpO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCByZXQgPSB7XG4gICAgZjogdGhpcy5mbGFncyxcbiAgfTtcblxuICBpZiAodGhpcy5idWZzKSB7XG4gICAgcmV0LmIgPSBbXTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5idWZzLmxlbmd0aDsgKytpaSkge1xuICAgICAgcmV0LmIucHVzaChiYXNlNjRFbmNvZGUodGhpcy5idWZzW2lpXSwgMCwgdGhpcy5ic2l6ZXNbaWldKSk7XG4gICAgfVxuICB9XG4gIGlmICh0aGlzLmJ1Zikge1xuICAgIGlmICh0aGlzLnJlYWRhYmxlKSB7XG4gICAgICByZXQuZCA9IGJhc2U2NEVuY29kZSh0aGlzLmJ1ZiwgMCwgdGhpcy5idWZfbGVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0LmQgPSBiYXNlNjRFbmNvZGUodGhpcy5idWYsIDAsIHRoaXMuYnVmX29mZnMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5zZXRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmLCBidWZfbGVuKSB7XG4gIGFzc2VydCghdGhpcy5idWYpO1xuICBhc3NlcnQoIXRoaXMuYnVmcyk7XG4gIGFzc2VydCh0aGlzLmZsYWdzICYgUEFDS0VUX1VOT1dORURfQlVGRkVSKTsgLy8gUHJvYmFibHkgb2theSBpZiBub3Q/XG4gIGFzc2VydChidWYgaW5zdGFuY2VvZiBVaW50OEFycmF5KTtcbiAgdGhpcy5idWYgPSB3cmFwVThBc0RhdGFWaWV3KGJ1Zik7XG4gIHRoaXMuYnVmX2xlbiA9IGJ1Zl9sZW47XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzLmJ1Zik7XG4gIGFzc2VydCghdGhpcy5idWZzKTtcbiAgcmV0dXJuIHRoaXMuYnVmLnU4O1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5nZXRCdWZmZXJMZW4gPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzLmJ1Zik7XG4gIGFzc2VydCghdGhpcy5idWZzKTtcbiAgcmV0dXJuIHRoaXMucmVhZGFibGUgPyB0aGlzLmJ1Zl9sZW4gOiB0aGlzLmJ1Zl9vZmZzO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5nZXRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlYWRhYmxlKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVmX29mZnM7XG4gIH1cbiAgcmV0dXJuIHRoaXMudG90YWxTaXplKCk7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbiAocG9zKSB7XG4gIGFzc2VydCh0aGlzLnJlYWRhYmxlKTsgLy8gLm1ha2VSZWFkYWJsZSBzaG91bGQgYmUgY2FsbGVkIHNvIHRoYXQgaXQgaXMgYSBzaW5nbGUgYnVmZmVyXG4gIGFzc2VydChwb3MgPj0gMCAmJiBwb3MgPD0gdGhpcy5idWZfbGVuKTtcbiAgdGhpcy5idWZfb2ZmcyA9IHBvcztcbn07XG5cblBhY2tldC5wcm90b3R5cGUud3JpdGVGbGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KCF0aGlzLmhhc19mbGFncyk7XG4gIGFzc2VydC5lcXVhbCh0aGlzLmJ1Zl9vZmZzLCAwKTtcbiAgdGhpcy53cml0ZVU4KHRoaXMuZmxhZ3MpO1xuICB0aGlzLmhhc19mbGFncyA9IHRydWU7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnVwZGF0ZUZsYWdzID0gZnVuY3Rpb24gKGZsYWdzKSB7XG4gIGFzc2VydCh0aGlzLmhhc19mbGFncyk7XG4gIGFzc2VydCghKGZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUwpKTtcbiAgdGhpcy5mbGFncyA9IHRoaXMuZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTCB8IGZsYWdzO1xuICBsZXQgYnVmID0gdGhpcy5idWZzID8gdGhpcy5idWZzWzBdIDogdGhpcy5idWY7XG4gIGJ1Zi51OFswXSA9IHRoaXMuZmxhZ3M7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnJlYWRGbGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHJlYWQgPSB0aGlzLnJlYWRVOCgpO1xuICBhc3NlcnQuZXF1YWwocmVhZCwgdGhpcy5mbGFncyAmIDB4RkYpO1xuICB0aGlzLmhhc19mbGFncyA9IHRydWU7XG4gIHJldHVybiB0aGlzLmZsYWdzO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5nZXRGbGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZmxhZ3M7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEludGVybmFsRmxhZ3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUw7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmNvbnRlbnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gYHBhaygke3RoaXMudG90YWxTaXplKCl9YilgO1xufTtcblxuZnVuY3Rpb24gUGFja2V0RGVidWcoZmxhZ3MsIGluaXRfc2l6ZSkge1xuICB0aGlzLnJlaW5pdChmbGFncywgaW5pdF9zaXplKTtcbn1cblBhY2tldERlYnVnLnByb3RvdHlwZS5yZWluaXQgPSBmdW5jdGlvbiAoZmxhZ3MsIGluaXRfc2l6ZSkge1xuICB0aGlzLmluX3Bvb2wgPSBmYWxzZTtcbiAgaWYgKHBha19wb29sLmxlbmd0aCkge1xuICAgIHRoaXMucGFrID0gcGFrX3Bvb2wucG9wKCk7XG4gICAgdGhpcy5wYWsucmVpbml0KGZsYWdzLCBpbml0X3NpemUsIHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucGFrID0gbmV3IFBhY2tldChmbGFncywgaW5pdF9zaXplLCB0aGlzKTtcbiAgfVxuICB0aGlzLndhcm5lZCA9IGZhbHNlO1xuICB0aGlzLnBvb2xfdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zb2xlLndhcm4oYFBhY2tldCBub3QgcG9vbGVkIGFmdGVyIDVzOiAke3RoaXMuY29udGVudHMoKX1gKTtcbiAgICB0aGlzLndhcm5lZCA9IHRydWU7XG4gIH0sIFBPT0xfVElNRU9VVCk7XG59O1xuUGFja2V0RGVidWcucHJvdG90eXBlLnBvb2xEZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMud2FybmVkKSB7XG4gICAgY29uc29sZS53YXJuKCdQYWNrZXQgcG9vbGVkIGFmdGVyIHRpbWVvdXQnKTtcbiAgfSBlbHNlIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5wb29sX3RpbWVyKTtcbiAgfVxuICBhc3NlcnQoIXRoaXMuaW5fcG9vbCk7XG4gIHRoaXMuaW5fcG9vbCA9IHRydWU7IC8vIFNldCB0aGlzLCBhcyBpZiBwb29sZWQsIGV2ZW4gaWYgZGlzY2FyZGVkXG4gIGlmIChwYWtfZGVidWdfcG9vbC5sZW5ndGggPCBQT09MX1BBQ0tFVFMpIHtcbiAgICBwYWtfZGVidWdfcG9vbC5wdXNoKHRoaXMpO1xuICB9XG59O1xuY29uc3QgdHlwZXMgPSBbbnVsbCwgJ1U4JywgJ1UzMicsICdJbnQnLCAnRmxvYXQnLCAnU3RyaW5nJywgJ0Fuc2lTdHJpbmcnLCAnSlNPTicsICdCb29sJywgJ0J1ZmZlciddO1xuLy8gRnVuY3Rpb25zICh0eXBlcykgdGhhdCByZWFkIGFuZCB3cml0ZSBhIGRlYnVnIGJ5dGVcbnR5cGVzLmZvckVhY2goKHR5cGUsIGlkeCkgPT4ge1xuICBpZiAoIXR5cGUpIHsgLy8gZG9uJ3QgdXNlIGRlYnVnIElEIDBcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHdyaXRlID0gYHdyaXRlJHt0eXBlfWA7XG4gIGxldCByZWFkID0gYHJlYWQke3R5cGV9YDtcbiAgbGV0IHdyaXRlX2ZuID0gUGFja2V0LnByb3RvdHlwZVt3cml0ZV07XG4gIGxldCByZWFkX2ZuID0gUGFja2V0LnByb3RvdHlwZVtyZWFkXTtcbiAgUGFja2V0RGVidWcucHJvdG90eXBlW3dyaXRlXSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgdGhpcy5wYWsud3JpdGVVOChpZHgpO1xuICAgIHdyaXRlX2ZuLmNhbGwodGhpcy5wYWssIHYpO1xuICB9O1xuICBQYWNrZXREZWJ1Zy5wcm90b3R5cGVbcmVhZF0gPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICBsZXQgZm91bmRfaWR4ID0gdGhpcy5wYWsucmVhZFU4KCk7XG4gICAgaWYgKGZvdW5kX2lkeCAhPT0gaWR4KSB7XG4gICAgICBhc3NlcnQoZmFsc2UsIGBQYWNrZXREZWJ1ZyBlcnJvcjogRXhwZWN0ZWQgJHt0eXBlfSgke2lkeH0pLCBmb3VuZCAke3R5cGVzW2ZvdW5kX2lkeF19KCR7Zm91bmRfaWR4fSlgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWRfZm4uY2FsbCh0aGlzLnBhaywgcGFyYW0pO1xuICB9O1xufSk7XG5QYWNrZXREZWJ1Zy5wcm90b3R5cGUuemVyb0ludCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5wYWsud3JpdGVVOCgzKTsgLy8gdHlwZXMuaW5kZXhvZignSW50JylcbiAgdGhpcy5wYWsuemVyb0ludCgpO1xufTtcbi8vIEZ1bmN0aW9ucyB0aGF0IHNpbXBseSBmYWxsIHRocm91Z2hcbltcbiAgJ2VuZGVkJyxcbiAgJ2dldEJ1ZmZlcicsXG4gICdnZXRCdWZmZXJMZW4nLFxuICAnZ2V0RmxhZ3MnLFxuICAnZ2V0SW50ZXJuYWxGbGFncycsXG4gICdnZXRPZmZzZXQnLFxuICAnbWFrZVJlYWRhYmxlJyxcbiAgJ3Bvb2wnLFxuICAncmVhZEZsYWdzJywgLy8gKm5vdCogd3JhcHBlZCBpbiBkZWJ1ZyBoZWFkZXJzXG4gICdyZWYnLFxuICAnc2VlaycsXG4gICdzZXRCdWZmZXInLFxuICAnc2V0UmVhZGFibGUnLFxuICAndG9KU09OJyxcbiAgJ3RvdGFsU2l6ZScsXG4gICd1cGRhdGVGbGFncycsXG4gICd3cml0ZUZsYWdzJywgLy8gKm5vdCogd3JhcHBlZCBpbiBkZWJ1ZyBoZWFkZXJzXG5dLmZvckVhY2goKGZuYW1lKSA9PiB7XG4gIGxldCBmbiA9IFBhY2tldC5wcm90b3R5cGVbZm5hbWVdO1xuICBQYWNrZXREZWJ1Zy5wcm90b3R5cGVbZm5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLnBhaywgYXJndW1lbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgfTtcbn0pO1xuUGFja2V0RGVidWcucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChwYWspIHtcbiAgYXNzZXJ0KHBhayBpbnN0YW5jZW9mIFBhY2tldERlYnVnKTtcbiAgdGhpcy5wYWsuYXBwZW5kKHBhay5wYWspO1xufTtcblBhY2tldERlYnVnLnByb3RvdHlwZS5hcHBlbmRSZW1haW5pbmcgPSBmdW5jdGlvbiAocGFrKSB7XG4gIGFzc2VydChwYWsgaW5zdGFuY2VvZiBQYWNrZXREZWJ1Zyk7XG4gIHRoaXMucGFrLmFwcGVuZFJlbWFpbmluZyhwYWsucGFrKTtcbn07XG5mdW5jdGlvbiBmb3JtYXQodikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGlmICh2IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gYHU4PCR7di5sZW5ndGh9PmA7XG4gICAgICB9XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2O1xuICB9XG59XG5QYWNrZXREZWJ1Zy5wcm90b3R5cGUuY29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB7IHBhayB9ID0gdGhpcztcbiAgbGV0IGN1cl9vZmZzID0gcGFrLmdldE9mZnNldCgpO1xuICBsZXQgcmVhZF9sZW4gPSBjdXJfb2ZmcztcbiAgbGV0IHJldCA9IFtgYnVmOiR7cGFrLmJ1Zl9vZmZzfS8ke3Bhay5idWZfbGVufWBdO1xuICBpZiAocGFrLmJ1ZnMpIHtcbiAgICAvLyB3cml0ZSBwYWNrZXQsIGp1c3QgY29tYmluZSBhbmQgcmVzZXQgbG9jYXRpb24gd2hlbiBkb25lXG4gICAgcGFrLm1ha2VSZWFkYWJsZSgpO1xuICAgIHJldC5wdXNoKCdidWZzJyk7XG4gIH0gZWxzZSBpZiAocGFrLmJ1Zikge1xuICAgIC8vIHJlYWQgcGFja2V0LCBvciB3cml0ZSBwYWNrZXQgdGhhdCBpcyBhIHNpbmdsZSBidWZcbiAgICBpZiAocGFrLnJlYWRhYmxlKSB7XG4gICAgICByZWFkX2xlbiA9IHBhay5idWZfbGVuO1xuICAgIH1cbiAgICBwYWsuYnVmX29mZnMgPSAwO1xuICB9IGVsc2Uge1xuICAgIHJldC5wdXNoKCdlbXB0eScpO1xuICAgIHJlYWRfbGVuID0gLTE7XG4gIH1cbiAgbGV0IHNhdmVkX3JlZl9jb3VudCA9IHBhay5yZWZfY291bnQ7XG4gIHBhay5yZWZfY291bnQgPSAyOyAvLyBwcmV2ZW50IGF1dG8gcG9vbGluZywgZG9uJ3QgYXNzZXJ0IG9uIHJlZigpIGlmIHVucmVmJ2QuXG4gIHRyeSB7XG4gICAgaWYgKCFzYXZlZF9yZWZfY291bnQpIHtcbiAgICAgIHJldC5wdXNoKCchcmVmX2NvdW50PTAhJyk7XG4gICAgfVxuICAgIGlmIChwYWsuaGFzX2ZsYWdzKSB7XG4gICAgICByZXQucHVzaChgZmxhZ3M6JHtwYWsucmVhZFU4KCl9YCk7XG4gICAgfVxuICAgIHdoaWxlIChwYWsuYnVmX29mZnMgPCByZWFkX2xlbikge1xuICAgICAgbGV0IHR5cGVfaWR4ID0gcGFrLnJlYWRVOCgpO1xuICAgICAgbGV0IHR5cGUgPSB0eXBlc1t0eXBlX2lkeF07XG4gICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgcmV0LnB1c2goYFVua25vd25UeXBlOiR7dHlwZV9pZHh9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGV0IHZhbCA9IHBha1tgcmVhZCR7dHlwZX1gXSgpO1xuICAgICAgcmV0LnB1c2goYCR7dHlwZX06JHtmb3JtYXQodmFsKX1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXQucHVzaChgRXJyb3IgZHVtcGluZyBwYWNrZXQgY29udGVudHM6ICR7ZX1gKTtcbiAgfVxuICBwYWsucmVmX2NvdW50ID0gc2F2ZWRfcmVmX2NvdW50O1xuICBwYWsuYnVmX29mZnMgPSBjdXJfb2ZmcztcbiAgcmV0dXJuIHJldC5qb2luKCcsJyk7XG59O1xuXG5mdW5jdGlvbiBwYWNrZXRDcmVhdGUoZmxhZ3MsIGluaXRfc2l6ZSkge1xuICBpZiAoZmxhZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgIGZsYWdzID0gZXhwb3J0cy5kZWZhdWx0X2ZsYWdzO1xuICB9XG4gIGxldCBwb29sID0gKGZsYWdzICYgUEFDS0VUX0RFQlVHKSA/IHBha19kZWJ1Z19wb29sIDogcGFrX3Bvb2w7XG4gIGlmIChwb29sLmxlbmd0aCkge1xuICAgIGxldCBwYWsgPSBwb29sLnBvcCgpO1xuICAgIHBhay5yZWluaXQoZmxhZ3MsIGluaXRfc2l6ZSk7XG4gICAgcmV0dXJuIHBhaztcbiAgfVxuICBpZiAoZmxhZ3MgJiBQQUNLRVRfREVCVUcpIHtcbiAgICByZXR1cm4gbmV3IFBhY2tldERlYnVnKGZsYWdzLCBpbml0X3NpemUpO1xuICB9XG4gIHJldHVybiBuZXcgUGFja2V0KGZsYWdzLCBpbml0X3NpemUpO1xufVxuZXhwb3J0cy5wYWNrZXRDcmVhdGUgPSBwYWNrZXRDcmVhdGU7XG5cbmZ1bmN0aW9uIHBhY2tldEZyb21CdWZmZXIoYnVmLCBidWZfbGVuLCBuZWVkX2NvcHkpIHtcbiAgbGV0IGZsYWdzID0gYnVmWzBdO1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIGZsYWdzLCAnbnVtYmVyJyk7IC8vIGBidWZgIHNob3VsZCBiZSBhIEJ1ZmZlciBvciBVaW50OEFycmF5LCBub3QgYSBEYXRhVmlldyBsaWtlIG90aGVyIGZ1bmNzIGhlcmVcbiAgaWYgKG5lZWRfY29weSkge1xuICAgIGFzc2VydChidWZfbGVuKTtcbiAgICBhc3NlcnQoYnVmLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgICBsZXQgcGFrID0gcGFja2V0Q3JlYXRlKGZsYWdzLCBidWZfbGVuKTtcbiAgICBpZiAoYnVmLmJ5dGVMZW5ndGggIT09IGJ1Zl9sZW4pIHtcbiAgICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGJ1Zi5idWZmZXIsIDAsIGJ1Zl9sZW4pO1xuICAgIH1cbiAgICBwYWsuZ2V0QnVmZmVyKCkuc2V0KGJ1Zik7XG4gICAgcGFrLnNldFJlYWRhYmxlKCk7XG4gICAgcmV0dXJuIHBhaztcbiAgfSBlbHNlIHtcbiAgICAvLyByZWZlcmVuY2UgdW5vd25lZC91bnBvb2xhYmxlIGJ1ZmZlclxuICAgIGFzc2VydChidWYgaW5zdGFuY2VvZiBVaW50OEFycmF5KTtcbiAgICBsZXQgcGFrID0gcGFja2V0Q3JlYXRlKGZsYWdzIHwgUEFDS0VUX1VOT1dORURfQlVGRkVSKTtcbiAgICBwYWsuc2V0QnVmZmVyKGJ1ZiwgYnVmX2xlbiB8fCBidWYuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHBhaztcbiAgfVxufVxuZXhwb3J0cy5wYWNrZXRGcm9tQnVmZmVyID0gcGFja2V0RnJvbUJ1ZmZlcjtcblxuZnVuY3Rpb24gcGFja2V0RnJvbUpTT04oanNfb2JqKSB7XG4gIGxldCBwYWsgPSBwYWNrZXRDcmVhdGUoanNfb2JqLmYpO1xuXG4gIGxldCBwYXlsb2FkID0gcGFrLnBhayB8fCBwYWs7XG5cbiAgZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICAgIHJldHVybiBiYXNlNjREZWNvZGUoc3RyLCBhbGxvY0RhdGFWaWV3KTtcbiAgfVxuICBpZiAoanNfb2JqLmIpIHtcbiAgICBwYXlsb2FkLmJzaXplcyA9IFtdO1xuICAgIHBheWxvYWQuYnVmcyA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBqc19vYmouYi5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBidWYgPSBkZWNvZGUoanNfb2JqLmJbaWldKTtcbiAgICAgIHBheWxvYWQuYnVmcy5wdXNoKGJ1Zik7XG4gICAgICBwYXlsb2FkLmJzaXplcy5wdXNoKGJ1Zi5kZWNvZGVfc2l6ZSk7XG4gICAgICBkZWxldGUgYnVmLmRlY29kZV9zaXplO1xuICAgIH1cbiAgfVxuICBpZiAoanNfb2JqLmQpIHtcbiAgICBwYXlsb2FkLmJ1ZiA9IGRlY29kZShqc19vYmouZCk7XG4gICAgcGF5bG9hZC5idWZfbGVuID0gcGF5bG9hZC5idWYuZGVjb2RlX3NpemU7XG4gICAgZGVsZXRlIHBheWxvYWQuYnVmLmRlY29kZV9zaXplO1xuICAgIHBheWxvYWQuYnVmX29mZnMgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHBhaztcbn1cbmV4cG9ydHMucGFja2V0RnJvbUpTT04gPSBwYWNrZXRGcm9tSlNPTjtcblxuZnVuY3Rpb24gaXNQYWNrZXQodGhpbmcpIHtcbiAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgUGFja2V0IHx8IHRoaW5nIGluc3RhbmNlb2YgUGFja2V0RGVidWc7XG59XG5leHBvcnRzLmlzUGFja2V0ID0gaXNQYWNrZXQ7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IHByZWZlci1yZXN0LXBhcmFtczpvZmYsIG5vLXVuZGVyc2NvcmUtZGFuZ2xlOm9mZiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVlLCB0eXBlLCBmbiwgb25jZSkge1xuICBhc3NlcnQodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcbiAgbGV0IGFyciA9IGVlLl9saXN0ZW5lcnNbdHlwZV07XG4gIGlmICghYXJyKSB7XG4gICAgYXJyID0gZWUuX2xpc3RlbmVyc1t0eXBlXSA9IFtdO1xuICB9XG4gIGFyci5wdXNoKHtcbiAgICBvbmNlLFxuICAgIGZuLFxuICB9KTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBsZXQgYXJyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBpZiAoIWFycikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChhcnJbaWldLmZuID09PSBmbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgZm4sIDApO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBhZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBmbiwgMSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBsZXQgYXJyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBhc3NlcnQoYXJyKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyci5sZW5ndGg7ICsraWkpIHtcbiAgICBpZiAoYXJyW2lpXS5mbiA9PT0gZm4pIHtcbiAgICAgIGFyci5zcGxpY2UoaWksIDEpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG4gIGFzc2VydChmYWxzZSk7IC8vIGV4cGVjdGVkIHRvIGZpbmQgdGhlIGxpc3RlbmVyIVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZpbHRlck5vdE9uY2UoZWxlbSkge1xuICByZXR1cm4gIWVsZW0ub25jZTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKHR5cGUsIC4uLmFyZ3MpIHtcbiAgbGV0IGFyciA9IHRoaXMuX2xpc3RlbmVyc1t0eXBlXTtcbiAgaWYgKCFhcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgYW55ID0gZmFsc2U7XG4gIGxldCBhbnlfb25jZSA9IGZhbHNlO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBlbGVtID0gYXJyW2lpXTtcbiAgICBhbnkgPSB0cnVlO1xuICAgIGVsZW0uZm4oLi4uYXJncyk7XG4gICAgaWYgKGVsZW0ub25jZSkge1xuICAgICAgYW55X29uY2UgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoYW55X29uY2UpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gPSBhcnIuZmlsdGVyKGZpbHRlck5vdE9uY2UpO1xuICB9XG5cbiAgcmV0dXJuIGFueTtcbn07XG5cbi8vIEFsaWFzZXNcbi8vIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGFicywgZmxvb3IsIG1pbiwgbWF4LCByYW5kb20sIHJvdW5kLCBwb3csIHNxcnQgfSA9IE1hdGg7XG5cbmV4cG9ydCBmdW5jdGlvbiBub3AoKSB7XG4gIC8vIGVtcHR5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGZuKC4uLmFyZ3MpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkob2JqKSB7XG4gIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXQodiwgYSkge1xuICBsZXQgdmEgPSBwb3codiwgYSk7XG4gIHJldHVybiB2YSAvICh2YSArIHBvdygxIC0gdiwgYSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluKHYsIGEpIHtcbiAgcmV0dXJuIDIgKiBlYXNlSW5PdXQoMC41ICogdiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0KHYsIGEpIHtcbiAgcmV0dXJuIDIgKiBlYXNlSW5PdXQoMC41ICsgMC41ICogdiwgYSkgLSAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG4gIGZvciAobGV0IGYgaW4gc3JjKSB7XG4gICAgZGVzdFtmXSA9IHNyY1tmXTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhcyhvYmosIGZpZWxkKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBmaWVsZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cyhkZXN0LCBzcmMpIHtcbiAgZm9yIChsZXQgZiBpbiBzcmMpIHtcbiAgICBpZiAoIWhhcyhkZXN0LCBmKSkge1xuICAgICAgZGVzdFtmXSA9IHNyY1tmXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0c0RlZXAoZGVzdCwgc3JjKSB7XG4gIGZvciAobGV0IGYgaW4gc3JjKSB7XG4gICAgaWYgKCFoYXMoZGVzdCwgZikpIHtcbiAgICAgIGRlc3RbZl0gPSBzcmNbZl07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVzdFtmXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGRlZmF1bHRzRGVlcChkZXN0W2ZdLCBzcmNbZl0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lU2hhbGxvdyhzcmMpIHtcbiAgcmV0dXJuIG1lcmdlKHt9LCBzcmMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYS5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKGFbaWldLCBiW2lpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodHlwZW9mIGIgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghYSB8fCAhYikgeyAvLyBhdCBsZWFzdCBvbmUgaXMgbnVsbFxuICAgICAgcmV0dXJuICFhICYmICFiOyAvLyBlcXVhbCBpZiBib3RoIGFyZSBudWxsXG4gICAgfVxuICAgIGZvciAobGV0IGtleSBpbiBhKSB7XG4gICAgICAvLyBiIG11c3QgaGF2ZSBrZXksIG9yIGJvdGggYVtrZXldIGFuZCBiW2tleV0gYXJlIHVuZGVmaW5lZFxuICAgICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGIpIHtcbiAgICAgIC8vIGlmIGIgaGFzIGtleSBhbmQgaXQncyBkZWZpbmVkLCBhIG11c3QgYWxzbyBiZSBkZWZpbmVkIChhbmQgd291bGQgaGF2ZSBjaGVja2VkIGVxdWFsaXR5IGFib3ZlKVxuICAgICAgaWYgKGJba2V5XSAhPT0gdW5kZWZpbmVkICYmIGFba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2LCBtbiwgbXgpIHtcbiAgcmV0dXJuIG1pbihtYXgobW4sIHYpLCBteCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKGEsIHYwLCB2MSkge1xuICByZXR1cm4gKDEgLSBhKSAqIHYwICsgYSAqIHYxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWl4KHYwLCB2MSwgYSkgeyAvLyBHTFNMIHNlbWFudGljc1xuICByZXR1cm4gKDEgLSBhKSAqIHYwICsgYSAqIHYxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbihhKSB7XG4gIHJldHVybiBhIDwgMCA/IC0xIDogYSA+IDAgPyAxIDogMDtcbn1cblxuLy8gbG9nMiByb3VuZGVkIHVwIHRvIG5lYXJlc3QgaW50ZWdlclxuZXhwb3J0IGZ1bmN0aW9uIGxvZzIodmFsKSB7XG4gIGZvciAobGV0IGlpPTEsIGpqPTA7IDsgaWkgPDw9IDEsICsramopIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gICAgaWYgKGlpID49IHZhbCkge1xuICAgICAgcmV0dXJuIGpqO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmlkeChhcnIsIGlkeCkge1xuICBhcnJbaWR4XSA9IGFyclthcnIubGVuZ3RoIC0gMV07XG4gIGFyci5wb3AoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kMTAwKGEpIHtcbiAgcmV0dXJuIHJvdW5kKGEgKiAxMDApIC8gMTAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQxMDAwKGEpIHtcbiAgcmV0dXJuIHJvdW5kKGEgKiAxMDAwKSAvIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFjdChhKSB7XG4gIHJldHVybiBhIC0gZmxvb3IoYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZWFyU2FtZShhLCBiLCB0b2wpIHtcbiAgcmV0dXJuIGFicyhiIC0gYSkgPD0gdG9sO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGl0bGVDYXNlKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCcgJykubWFwKCh3b3JkKSA9PiBgJHt3b3JkWzBdLnRvVXBwZXJDYXNlKCl9JHt3b3JkLnNsaWNlKDEpfWApXG4gICAgLmpvaW4oJyAnKTtcbn1cblxuY29uc3QgRVBTSUxPTiA9IDAuMDAwMDE7XG5cbi8vIGh0dHA6Ly9sb2NhbC53YXNwLnV3YS5lZHUuYXUvfnBib3Vya2UvZ2VvbWV0cnkvc3BoZXJlbGluZS9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lQ2lyY2xlSW50ZXJzZWN0KHAxLCBwMiwgcENpcmNsZSwgcmFkaXVzKSB7XG4gIGxldCBkcCA9IFtcbiAgICBwMlswXSAtIHAxWzBdLFxuICAgIHAyWzFdIC0gcDFbMV1cbiAgXTtcbiAgbGV0IGEgPSBkcFswXSAqIGRwWzBdICsgZHBbMV0gKiBkcFsxXTtcbiAgbGV0IGIgPSAyICogKGRwWzBdICogKHAxWzBdIC0gcENpcmNsZVswXSkgKyBkcFsxXSAqIChwMVsxXSAtIHBDaXJjbGVbMV0pKTtcbiAgbGV0IGMgPSBwQ2lyY2xlWzBdICogcENpcmNsZVswXSArIHBDaXJjbGVbMV0gKiBwQ2lyY2xlWzFdO1xuICBjICs9IHAxWzBdICogcDFbMF0gKyBwMVsxXSAqIHAxWzFdO1xuICBjIC09IDIgKiAocENpcmNsZVswXSAqIHAxWzBdICsgcENpcmNsZVsxXSAqIHAxWzFdKTtcbiAgYyAtPSByYWRpdXMgKiByYWRpdXM7XG4gIGxldCBiYjRhYyA9IGIgKiBiIC0gNCAqIGEgKiBjO1xuICBpZiAoYWJzKGEpIDwgRVBTSUxPTiB8fCBiYjRhYyA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgbXUxID0gKC1iICsgc3FydChiYjRhYykpIC8gKDIgKiBhKTtcbiAgbGV0IG11MiA9ICgtYiAtIHNxcnQoYmI0YWMpKSAvICgyICogYSk7XG4gIGlmIChtdTEgPj0gMCAmJiBtdTEgPD0gMSB8fCBtdTIgPj0gMCAmJiBtdTIgPD0gMSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gIC8vIEZyb20gTm9kZS5qc1xuICBhc3NlcnQodHlwZW9mIHN1cGVyQ3RvciA9PT0gJ2Z1bmN0aW9uJyk7XG4gIC8vIG5vdCBuZWVkZWQ/IGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlXG4gIC8vIHNlY29uZCBwYXJhbWV0ZXIgYWxzbyBub3QgYWN0dWFsbHkgbmVlZGVkLCBqdXN0IGRlZmluZXMgbmV3IEZvbygpLmNvbnN0cnVjdG9yID09PSBGb28/XG4gIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Bvd2VyT2ZUd28obikge1xuICByZXR1cm4gKChuICYgKG4gLSAxKSkgPT09IDApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRIaWdoZXN0UG93ZXJPZlR3byh4KSB7XG4gIC0teDtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCAzMjsgaSA8PD0gMSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICB4IHw9IHggPj4gaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gIH1cbiAgcmV0dXJuIHggKyAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nZGF0YShkYXRhKSB7XG4gIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgbGV0IHIgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgaWYgKHIubGVuZ3RoIDwgMTIwKSB7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgcmV0dXJuIGAke3Iuc2xpY2UoMCwgMTIwLTMpfS4uLmA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodikge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHYpICYmIGZsb29yKHYpID09PSB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9OdW1iZXIodikge1xuICByZXR1cm4gTnVtYmVyKHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tTm90KG5vdF92YWx1ZSwgbWF4X3ZhbHVlKSB7XG4gIGxldCBuZXdfdmFsdWU7XG4gIGRvIHtcbiAgICBuZXdfdmFsdWUgPSBmbG9vcihyYW5kb20oKSAqIG1heF92YWx1ZSk7XG4gIH0gd2hpbGUgKG5ld192YWx1ZSA9PT0gbm90X3ZhbHVlKTtcbiAgcmV0dXJuIG5ld192YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXlfbGlrZSkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlfbGlrZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaEFsbChzdHIsIHJlKSB7XG4gIGxldCByZXQgPSBbXTtcbiAgbGV0IG07XG4gIGRvIHtcbiAgICBtID0gcmUuZXhlYyhzdHIpO1xuICAgIGlmIChtKSB7XG4gICAgICByZXQucHVzaChtWzFdKTtcbiAgICB9XG4gIH0gd2hpbGUgKG0pO1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsbEVhY2goYXJyLCBwcmVfY2xlYXIsIC4uLmFyZ3MpIHtcbiAgaWYgKGFyciAmJiBhcnIubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyci5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGFycltpaV0oLi4uYXJncyk7XG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBjaGFyYWN0ZXJzIGNhdXNlIHByb2JsZW1zIHdpdGggbG93ZXIgbGV2ZWwgc3lzdGVtcyAoR29vZ2xlIEZpcmVzdG9yZSlcbi8vIHRoYXQgcHJlc3VtYWJseSB0cnkgdG8gY29udmVydCB0byBVVEYtMTYuXG5jb25zdCB1dGYxNl9zdXJyb2dhdGVzID0gL1tcXHVEODAwLVxcdURGRkZdL2c7XG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemUoc3RyKSB7XG4gIHJldHVybiAoc3RyIHx8ICcnKS5yZXBsYWNlKHV0ZjE2X3N1cnJvZ2F0ZXMsICcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsdXJhbChudW1iZXIsIGxhYmVsKSB7XG4gIHJldHVybiBgJHtsYWJlbH0ke251bWJlciA9PT0gMSA/ICcnIDogJ3MnfWA7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gT3JpZ2luYWxseSBmcm9tIFNwbG9keSwgdXNlZCB3aXRoIHBlcm1pc3Npb25cbi8qIGVzbGludCBuby1tdWx0aS1zcGFjZXM6b2ZmLCBhcnJheS1icmFja2V0LXNwYWNpbmc6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBtYXggfSA9IE1hdGg7XG5cbmNvbnN0IHRyYW5zX3NyYyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSsnO1xuY29uc3QgdHJhbnNfZHN0ID0gJzRiY2QzZmdoMWprMW1uMHBxcjU3dXZ3eHkyNGJjZDNmZ2gxamsxbW4wcHFyNTd1dnd4eTIwMTIzNDU2Nzg5Nyc7XG5jb25zdCB0cmFuc19zcmNfcmVnZXggPSAvW2EtekEtWjAtOStdKy9nO1xubGV0IHRyYW5zX2xvb2t1cCA9IHt9O1xuZnVuY3Rpb24gY2Fub25pemUoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJycpLm1hcCgoYykgPT4gKHRyYW5zX2xvb2t1cFtjXSB8fCBjKSkuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIHJvdDEzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCcnKS5tYXAoKGMpID0+IHtcbiAgICBjID0gYy5jaGFyQ29kZUF0KDApO1xuICAgIGlmIChjID49IDk3LyphKi8gJiYgYyA8PSAxMjIvKnoqLykge1xuICAgICAgYyA9IDk3ICsgKCgoYyAtIDk3KSArIDEzKSAlIDI2KTtcbiAgICB9IGVsc2UgaWYgKGMgPj0gNjUvKkEqLyAmJiBjIDw9IDkwLypaKi8pIHtcbiAgICAgIGMgPSA2NSArICgoKGMgLSA2NSkgKyAxMykgJSAyNik7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICB9KS5qb2luKCcnKTtcbn1cblxubGV0IHByb2Zhbml0eSA9IHt9O1xuXG4vLyBzaG9ydGVyIGZpcnN0LCBpZiBzdWJzdHJpbmdzIChqdXN0ICdzJyBhbmQgJ2VzJy8nZXJzJylcbmxldCBzdWZmaXhlcyA9ICAgICAgICAgICBbICcnLCAncycsICAncycsICdpbicsICdpbmcnLCAnZXInLCAnZXJzJywgJ2VkJywgJ3knIF07XG5sZXQgc3VmZml4ZXNfY2Fub25pemVkID0gWyAnJywgJzUnLCAnMzUnLCAnMW4nLCAnMW5nJywgJzNyJywgJzNyNScsICczZCcsICd5JyBdO1xuXG5sZXQgbWF4X2xlbiA9IDA7XG5sZXQgaW5pdGVkID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gcHJvZmFuaXR5Q29tbW9uU3RhcnR1cChmaWx0ZXJfZ2tnKSB7XG4gIGFzc2VydCghaW5pdGVkKTtcbiAgaW5pdGVkID0gdHJ1ZTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRyYW5zX3NyYy5sZW5ndGg7ICsraWkpIHtcbiAgICB0cmFuc19sb29rdXBbdHJhbnNfc3JjW2lpXV0gPSB0cmFuc19kc3RbaWldO1xuICB9XG4gIGxldCBkYXRhID0gZmlsdGVyX2drZy5zcGxpdCgnXFxuJykuZmlsdGVyKChhKSA9PiBhKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRhdGEubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHMgPSByb3QxMyhkYXRhW2lpXSk7XG4gICAgbGV0IHN0YXJ0X2xlbiA9IHMubGVuZ3RoO1xuICAgIHMgPSBjYW5vbml6ZShzKTtcbiAgICBhc3NlcnQuZXF1YWwoc3RhcnRfbGVuLCBzLmxlbmd0aCk7IC8vIE90aGVyd2lzZSBnb3QgYSBiYWQgY2hhcmFjdGVyIGluIHRoZSBzb3VyY2UgZGF0YT9cbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgc3VmZml4ZXNfY2Fub25pemVkLmxlbmd0aDsgKytqaikge1xuICAgICAgbGV0IHN0ciA9IHMgKyBzdWZmaXhlc19jYW5vbml6ZWRbampdO1xuICAgICAgbGV0IGV4aXN0aW5nID0gcHJvZmFuaXR5W3N0cl07XG4gICAgICBpZiAoIWV4aXN0aW5nIHx8IGV4aXN0aW5nID4gamopIHtcbiAgICAgICAgbWF4X2xlbiA9IG1heChtYXhfbGVuLCBzdHIubGVuZ3RoKTtcbiAgICAgICAgcHJvZmFuaXR5W3N0cl0gPSBqaiArIDE7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmxldCByYW5kV29yZDtcbmZ1bmN0aW9uIGZpbHRlcldvcmQod29yZF9zcmMpIHtcbiAgaWYgKHdvcmRfc3JjLmxlbmd0aCA+PSBtYXhfbGVuKSB7XG4gICAgcmV0dXJuIHdvcmRfc3JjO1xuICB9XG5cbiAgbGV0IGlzX3VwcGVyY2FzZSA9IHdvcmRfc3JjWzBdLnRvVXBwZXJDYXNlKCkgPT09IHdvcmRfc3JjWzBdO1xuICBsZXQgd29yZF9jYW5vbiA9IGNhbm9uaXplKHdvcmRfc3JjKTtcbiAgbGV0IHN1ZmZpeF9pZHggPSBwcm9mYW5pdHlbd29yZF9jYW5vbl07XG4gIC8vIGRvIGxvb2t1cCwgcmVwbGFjZVxuICBpZiAoIXN1ZmZpeF9pZHgpIHtcbiAgICByZXR1cm4gd29yZF9zcmM7XG4gIH1cbiAgLS1zdWZmaXhfaWR4O1xuICBsZXQgd29yZCA9IHJhbmRXb3JkKCk7XG4gIGlmIChpc191cHBlcmNhc2UpIHtcbiAgICB3b3JkID0gd29yZFswXS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKTtcbiAgfVxuICBsZXQgc3VmZml4ID0gc3VmZml4ZXNbc3VmZml4X2lkeF07XG4gIGlmICh3b3JkW3dvcmQubGVuZ3RoIC0gMV0gPT09IHN1ZmZpeFswXSkgeyAvLyBlLmcuIHJlcGxhY2VtZW50IHdvcmQgZW5kcyBpbiBhbiAnZSdcbiAgICBzdWZmaXggPSBzdWZmaXguc2xpY2UoMSk7XG4gIH1cbiAgaWYgKHdvcmQuZW5kc1dpdGgoJ2UnKSAmJiBzdWZmaXhbMF0gPT09ICdpJykge1xuICAgIHdvcmQgPSB3b3JkLnNsaWNlKDAsIC0xKTtcbiAgfVxuICB3b3JkICs9IHN1ZmZpeDtcbiAgcmV0dXJuIHdvcmQ7XG59XG5cbmxldCBpc19wcm9mYW5lO1xuZnVuY3Rpb24gY2hlY2tXb3JkKHdvcmRfc3JjKSB7XG4gIGlmICh3b3JkX3NyYy5sZW5ndGggPj0gbWF4X2xlbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwcm9mYW5pdHlbY2Fub25pemUod29yZF9zcmMpXSkge1xuICAgIGlzX3Byb2ZhbmUgPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9mYW5pdHlGaWx0ZXJDb21tb24odXNlcl9zdHIsIHJhbmRfd29yZF9mbikge1xuICBhc3NlcnQoaW5pdGVkKTtcbiAgcmFuZFdvcmQgPSByYW5kX3dvcmRfZm47XG4gIHJldHVybiB1c2VyX3N0ci5yZXBsYWNlKHRyYW5zX3NyY19yZWdleCwgZmlsdGVyV29yZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb2ZhbmUodXNlcl9zdHIpIHtcbiAgYXNzZXJ0KGluaXRlZCk7XG4gIGlzX3Byb2ZhbmUgPSBmYWxzZTtcbiAgdXNlcl9zdHIucmVwbGFjZSh0cmFuc19zcmNfcmVnZXgsIGNoZWNrV29yZCk7XG4gIHJldHVybiBpc19wcm9mYW5lO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuZXhwb3J0IGxldCB3c3N0YXRzID0geyBtc2dzOiAwLCBieXRlczogMCB9O1xuZXhwb3J0IGxldCB3c3N0YXRzX291dCA9IHsgbXNnczogMCwgYnl0ZXM6IDAgfTtcblxuY29uc3QgYWNrID0gcmVxdWlyZSgnLi9hY2suanMnKTtcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBhY2tIYW5kbGVNZXNzYWdlLCBhY2tSZWFkSGVhZGVyLCBhY2tXcmFwUGFrU3RhcnQsIGFja1dyYXBQYWtQYXlsb2FkLCBhY2tXcmFwUGFrRmluaXNoIH0gPSBhY2s7XG5jb25zdCBwYWNrZXQgPSByZXF1aXJlKCcuL3BhY2tldC5qcycpO1xuY29uc3QgeyBpc1BhY2tldCwgcGFja2V0Q3JlYXRlLCBwYWNrZXRGcm9tQnVmZmVyIH0gPSBwYWNrZXQ7XG5cbmV4cG9ydCBjb25zdCBDT05ORUNUSU9OX1RJTUVPVVQgPSA2MDAwMDtcbmV4cG9ydCBjb25zdCBQSU5HX1RJTUUgPSBDT05ORUNUSU9OX1RJTUVPVVQgLyAyO1xuZXhwb3J0cy5QUk9UT0NPTF9WRVJTSU9OID0gJzEnO1xuXG4vLyBSb3VnaCBlc3RpbWF0ZSwgaWYgb3Zlciwgd2lsbCBwcmV2ZW50IHJlc2l6aW5nIHRoZSBwYWNrZXRcbmNvbnN0IFBBS19IRUFERVJfU0laRSA9IDEgKyAvLyBmbGFnc1xuICAxKzE2ICsgLy8gbWVzc2FnZSBpZFxuICAxKzk7IC8vIHJlc3BfcGFrX2lkXG5cbmV4cG9ydCBmdW5jdGlvbiB3c1Bha1NlbmREZXN0KGNsaWVudCwgcGFrKSB7XG4gIGlmICghY2xpZW50LmNvbm5lY3RlZCB8fCBjbGllbnQuc29ja2V0LnJlYWR5U3RhdGUgIT09IDEpIHtcbiAgICAvLyBXZSBvbmx5IGdldCB0byB0aGlzIHBhcnRpY3VsYXIgbG9jYXRpb24gZnJvbSB3c3NlcnZlci5icm9hZGNhc3QqLCBhbGxcbiAgICAvLyAgIG90aGVyIHBhdGhzIHdpbGwgcHJpbnQgdGhlIGFjdHVhbCBtZXNzYWdlIGFuZCBlcnJvciBlYXJsaWVyLlxuICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBzZW5kIG9uIGEgZGlzY29ubmVjdGVkIGxpbmsgKGNsaWVudF9pZDoke2NsaWVudC5pZH0pLCBpZ25vcmluZ2ApO1xuICAgIHBhay5wb29sKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBidWYgPSBwYWsuZ2V0QnVmZmVyKCk7IC8vIGEgVWludDhBcnJheVxuICBsZXQgYnVmX2xlbiA9IHBhay5nZXRCdWZmZXJMZW4oKTtcbiAgaWYgKGJ1Zl9sZW4gIT09IGJ1Zi5sZW5ndGgpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmX2xlbik7XG4gIH1cbiAgd3NzdGF0c19vdXQubXNncysrO1xuICB3c3N0YXRzX291dC5ieXRlcyArPSBidWYubGVuZ3RoO1xuICBpZiAoY2xpZW50LndzX3NlcnZlcikge1xuICAgIGNsaWVudC5zb2NrZXQuc2VuZChidWYsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHBhay5wb29sKCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2xpZW50LnNvY2tldC5zZW5kKGJ1Zik7XG4gICAgcGFrLnBvb2woKTtcbiAgfVxuICBjbGllbnQubGFzdF9zZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xufVxuXG5mdW5jdGlvbiB3c1Bha1NlbmRGaW5pc2gocGFrLCBlcnIsIHJlc3BfZnVuYykge1xuICBsZXQgeyBjbGllbnQsIG1zZyB9ID0gcGFrLndzX2RhdGE7XG4gIGRlbGV0ZSBwYWsud3NfZGF0YTtcbiAgbGV0IGFja19yZXNwX3BrdF9pZCA9IGFja1dyYXBQYWtGaW5pc2gocGFrLCBlcnIsIHJlc3BfZnVuYyk7XG5cbiAgaWYgKCFjbGllbnQuY29ubmVjdGVkIHx8IGNsaWVudC5zb2NrZXQucmVhZHlTdGF0ZSAhPT0gMSkgeyAvLyBXZWJTb2NrZXQuT1BFTlxuICAgIGlmIChtc2cgPT09ICdjaGFubmVsX21zZycpIHsgLy8gY2xpZW50IC0+IHNlcnZlciBjaGFubmVsIG1lc3NhZ2UsIGF0dGFjaCBhZGRpdGlvbmFsIGRlYnVnZ2luZyBpbmZvXG4gICAgICBwYWsuc2VlaygwKTtcbiAgICAgIHBhay5yZWFkRmxhZ3MoKTtcbiAgICAgIGxldCBoZWFkZXIgPSBhY2tSZWFkSGVhZGVyKHBhayk7XG4gICAgICBsZXQgaXNfcGFja2V0ID0gaXNQYWNrZXQoaGVhZGVyLmRhdGEpO1xuICAgICAgbGV0IGNoYW5uZWxfaWQ7XG4gICAgICBsZXQgc3VibXNnO1xuICAgICAgaWYgKGlzX3BhY2tldCkge1xuICAgICAgICBwYWsucmVmKCk7IC8vIGRlYWwgd2l0aCBhdXRvLXBvb2wgb2YgYW4gZW1wdHkgcGFja2V0XG4gICAgICAgIGNoYW5uZWxfaWQgPSBwYWsucmVhZEFuc2lTdHJpbmcoKTtcbiAgICAgICAgc3VibXNnID0gcGFrLnJlYWRBbnNpU3RyaW5nKCk7XG4gICAgICAgIGlmICghcGFrLmVuZGVkKCkpIHtcbiAgICAgICAgICBwYWsucG9vbCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFubmVsX2lkID0gaGVhZGVyLmRhdGEuY2hhbm5lbF9pZDtcbiAgICAgICAgc3VibXNnID0gaGVhZGVyLmRhdGEubXNnO1xuICAgICAgfVxuICAgICAgbXNnID0gYGNoYW5uZWxfbXNnOiR7Y2hhbm5lbF9pZH06JHtzdWJtc2d9YDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBtc2cgIT09ICdudW1iZXInKSB7XG4gICAgICAoY2xpZW50LmxvZyA/IGNsaWVudCA6IGNvbnNvbGUpLmxvZyhgQXR0ZW1wdGluZyB0byBzZW5kIG1zZz0ke21zZ30gb24gYSBkaXNjb25uZWN0ZWQgbGluaywgaWdub3JpbmdgKTtcbiAgICAgIGlmICghY2xpZW50LmxvZyAmJiBjbGllbnQub25FcnJvciAmJiBtc2cpIHtcbiAgICAgICAgLy8gT24gdGhlIGNsaWVudCwgaWYgd2UgdHJ5IHRvIHNlbmQgYSBuZXcgcGFja2V0IHdoaWxlIGRpc2Nvbm5lY3RlZCwgdGhpcyBpcyBhbiBhcHBsaWNhdGlvbiBlcnJvclxuICAgICAgICBjbGllbnQub25FcnJvcihgQXR0ZW1wdGluZyB0byBzZW5kIG1zZz0ke21zZ30gb24gYSBkaXNjb25uZWN0ZWQgbGlua2ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhY2tfcmVzcF9wa3RfaWQpIHtcbiAgICAgIC8vIENhbGxiYWNrIHdpbGwgbmV2ZXIgYmUgZGlzcGF0Y2hlZCB0aHJvdWdoIGFjay5qcywgcmVtb3ZlIHRoZSBjYWxsYmFjayBoZXJlXG4gICAgICBkZWxldGUgY2xpZW50LnJlc3BfY2JzW2Fja19yZXNwX3BrdF9pZF07XG4gICAgfVxuICAgIHBhay5wb29sKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXNzZXJ0LmVxdWFsKEJvb2xlYW4ocmVzcF9mdW5jICYmIHJlc3BfZnVuYy5leHBlY3RpbmdfcmVzcG9uc2UgIT09IGZhbHNlKSwgQm9vbGVhbihhY2tfcmVzcF9wa3RfaWQpKTtcblxuICB3c1Bha1NlbmREZXN0KGNsaWVudCwgcGFrKTtcbn1cblxuZnVuY3Rpb24gd3NQYWtTZW5kKGVyciwgcmVzcF9mdW5jKSB7XG4gIGxldCBwYWsgPSB0aGlzOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG4gIGlmICh0eXBlb2YgZXJyID09PSAnZnVuY3Rpb24nICYmICFyZXNwX2Z1bmMpIHtcbiAgICByZXNwX2Z1bmMgPSBlcnI7XG4gICAgZXJyID0gbnVsbDtcbiAgfVxuICB3c1Bha1NlbmRGaW5pc2gocGFrLCBlcnIsIHJlc3BfZnVuYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3c1Bhayhtc2csIHJlZl9wYWssIGNsaWVudCkge1xuICBhc3NlcnQodHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1zZyA9PT0gJ251bWJlcicpO1xuXG4gIC8vIEFzc3VtZSBuZXcgcGFja2V0IG5lZWRzIHRvIGJlIGNvbXBhcmFibGUgdG8gb2xkIHBhY2tldCwgaW4gZmxhZ3MgYW5kIHNpemVcbiAgbGV0IHBhayA9IHBhY2tldENyZWF0ZShyZWZfcGFrID8gcmVmX3Bhay5nZXRJbnRlcm5hbEZsYWdzKCkgOiBwYWNrZXQuZGVmYXVsdF9mbGFncyxcbiAgICByZWZfcGFrID8gcmVmX3Bhay50b3RhbFNpemUoKSArIFBBS19IRUFERVJfU0laRSA6IDApO1xuICBwYWsud3JpdGVGbGFncygpO1xuXG4gIGFja1dyYXBQYWtTdGFydChwYWssIGNsaWVudCwgbXNnKTtcblxuICBwYWsud3NfZGF0YSA9IHtcbiAgICBtc2csXG4gICAgY2xpZW50LFxuICB9O1xuICBwYWsuc2VuZCA9IHdzUGFrU2VuZDtcbiAgcmV0dXJuIHBhaztcbn1cblxuZnVuY3Rpb24gc2VuZE1lc3NhZ2VJbnRlcm5hbChjbGllbnQsIG1zZywgZXJyLCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgbGV0IGlzX3BhY2tldCA9IGlzUGFja2V0KGRhdGEpO1xuICBsZXQgcGFrID0gd3NQYWsobXNnLCBpc19wYWNrZXQgPyBkYXRhIDogbnVsbCwgY2xpZW50KTtcblxuICBpZiAoIWVycikge1xuICAgIGFja1dyYXBQYWtQYXlsb2FkKHBhaywgZGF0YSk7XG4gIH1cblxuICBwYWsuc2VuZChlcnIsIHJlc3BfZnVuYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZShtc2csIGRhdGEsIHJlc3BfZnVuYykge1xuICBzZW5kTWVzc2FnZUludGVybmFsKHRoaXMsIG1zZywgbnVsbCwgZGF0YSwgcmVzcF9mdW5jKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdzSGFuZGxlTWVzc2FnZShjbGllbnQsIGJ1ZiwgZmlsdGVyKSB7XG4gICsrd3NzdGF0cy5tc2dzO1xuICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgbGV0IHNvdXJjZSA9IGNsaWVudC5pZCA/IGBjbGllbnQgJHtjbGllbnQuaWR9YCA6ICdzZXJ2ZXInO1xuICBpZiAoIShidWYgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgIChjbGllbnQubG9nID8gY2xpZW50IDogY29uc29sZSkubG9nKGBSZWNlaXZlZCBpbmNvcnJlY3QgV2ViU29ja2V0IGRhdGEgdHlwZSBmcm9tICR7c291cmNlfSAoJHt0eXBlb2YgYnVmfSlgKTtcbiAgICByZXR1cm4gY2xpZW50Lm9uRXJyb3IoJ0ludmFsaWQgZGF0YSByZWNlaXZlZCcpO1xuICB9XG4gIHdzc3RhdHMuYnl0ZXMgKz0gYnVmLmxlbmd0aDtcbiAgbGV0IHBhayA9IHBhY2tldEZyb21CdWZmZXIoYnVmLCBidWYubGVuZ3RoLCBmYWxzZSk7XG4gIHBhay5yZWFkRmxhZ3MoKTtcbiAgY2xpZW50Lmxhc3RfcmVjZWl2ZV90aW1lID0gbm93O1xuICBjbGllbnQuaWRsZV9jb3VudGVyID0gMDtcblxuICByZXR1cm4gYWNrSGFuZGxlTWVzc2FnZShjbGllbnQsIHNvdXJjZSwgcGFrLCBmdW5jdGlvbiBzZW5kRnVuYyhtc2csIGVyciwgZGF0YSwgcmVzcF9mdW5jKSB7XG4gICAgaWYgKHJlc3BfZnVuYyAmJiAhcmVzcF9mdW5jLmV4cGVjdGluZ19yZXNwb25zZSkge1xuICAgICAgcmVzcF9mdW5jID0gbnVsbDtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VJbnRlcm5hbChjbGllbnQsIG1zZywgZXJyLCBkYXRhLCByZXNwX2Z1bmMpO1xuICB9LCBmdW5jdGlvbiBwYWtGdW5jKG1zZywgcmVmX3Bhaykge1xuICAgIHJldHVybiB3c1Bhayhtc2csIHJlZl9wYWssIGNsaWVudCk7XG4gIH0sIGZ1bmN0aW9uIGhhbmRsZUZ1bmMobXNnLCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgaGFuZGxlciA9IGNsaWVudC5oYW5kbGVyc1ttc2ddO1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgbGV0IGVycm9yX21zZyA9IGBObyBoYW5kbGVyIGZvciBtZXNzYWdlICR7SlNPTi5zdHJpbmdpZnkobXNnKX0gZnJvbSAke3NvdXJjZX1gO1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcl9tc2csIGlzUGFja2V0KGRhdGEpID8gZGF0YS5jb250ZW50cygpIDogZGF0YSk7XG4gICAgICBpZiAoY2xpZW50Lm9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkVycm9yKGVycm9yX21zZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcF9mdW5jKGVycm9yX21zZyk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyKGNsaWVudCwgZGF0YSwgcmVzcF9mdW5jKTtcbiAgfSwgZmlsdGVyKTtcbn1cbiJdfQ=="}